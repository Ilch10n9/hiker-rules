[{"firstHeader":"class","pageList":[],"title":"我的主页","author":"@LoyDgIk","version":40,"url":"hiker://empty","col_type":"icon_small_4","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\neval(fetch(\"hiker://assets/home.js\"));\n\nvar _urgent=false;\nsetResult(HikerHome.load(\"main\",_urgent));","searchFind":"","search_url":"","titleColor":"","group":"①推荐","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":""},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"Parse_Dn.html","path":"Parse_Dn.html","rule":"<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\" />\n    <script src=\"https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.min.js\"></script>\n    <script src=\"https://code.jquery.com/jquery-2.1.4.min.js\"></script>\n    <!--\n    <script src=\"http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js\"></script>\n    <script src=\"http://apps.bdimg.com/libs/vue/1.0.14/vue.js\"></script>\n    -->\n    <title>Parse_Dn</title>\n    <style type=text/css>\n        html, body {\n            height: auto;\n            overflow: hidden;\n        }\n        body {\n            margin: 0 5px 0 5px;\n            padding: 0 0px 0 0px;\n            //background: #F9F0DA;\n            font-weight: 0;\n            font-family: \"Microsoft YaHei\",\"宋体\",\"Segoe UI\", \"Lucida Grande\", Helvetica, Arial,sans-serif, FreeSans, Arimo;\n        }\n        #div2{\n           margin-top:35px;\n        }\n        /*输入框父元素*/\n        div.box {\n            height: 53px;\n            line-height: 20px;\n            position: relative;\n        }\n        /*输入框尺寸*/\n        form {\n            background: transparent;\n            position: relative;\n            width: 92%;\n        }\n        input, label, .lieb button {\n            border: none;\n            outline: none;\n        }\n        /*字体位置*/\n        input {\n            width: 77%;\n            height: 32px;\n            padding-left: 66px;\n            padding-right: 30px;\n        }\n        label {\n            text-align:center;\n            line-height: 43px;\n            height: 40px;\n            width: 60px;\n            cursor: pointer;\n            position: absolute;\n        }\n        /*小框*/\n        .bar label {\n            background: #D06B6C;\n            border-radius: 555 555px 555px 555;\n            width: 60px;\n            font-size: 13px;\n            color: #F9F0DA;\n            top: 0;\n            left: 3px;\n        }\n        /*输入框样式*/\n        .bar input {\n            background: #F9F0DA;\n            border: 3px solid #D06B6C;\n            border-radius: 4px;\n        }\n        /*列表*/\n        .lieb button {\n            text-align:center;\n            line-height:40px;\n            height: 40px;\n            width: 27px;\n            cursor: pointer;\n            position: absolute;\n        }\n        /*列表*/\n        .lieb button{\n            border-radius: 4px;\n            background: #D06B6C;\n            font-size: 13px;\n            color: #F9F0DA;\n            top: 0;\n            right: 0px;\n        }\n        /*头像*/\n        .round_icon{\n            width: 40px;\n            height: 40px;\n            display: flex;\n            border-radius: 50%;\n            align-items: center;\n            justify-content: center;\n            overflow: hidden;\n        }\n\n        .jx-ul, .cj-ul {\n            z-index: 999;\n            position: fixed;\n            width: 77%;\n           // left: 10%;\n        }\n        .jx-ul, .cj-ul {\n            display: none;\n        }\n        .jx-ul {\n            top: 2%;\n        }\n        .cj-ul {\n            top: 30%;\n        }\n        li {\n            height: 35px;\n            border: 1px solid #01bfda;\n            border-radius: 6px;\n            background: rgba(0, 0, 0, 0.8);\n            color: white;\n            line-height: 35px;\n            text-align: center;\n            font-size: 16px;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n        }\n        li {\n            list-style: none;\n        }\n        li:hover {\n            cursor: pointer;\n            background: rgba(139, 131, 120, 0.9);\n        }\n        li[check=\"true\"] {\n            background: rgba(139, 0, 0, 0.9);\n        }\n\n    </style>\n</head>\n\n<body>\n    <div class=\"fung\">\n        <a style=\"float:left;\">\n            <button  style=\"border: none;border-radius:10px;background: #c5464a;width: 80px; font-size: 18px;color: #F9F0DA;\" onclick=\"cancel();\">关 闭</button>\n        </a>\n        <a style=\"float:right\">\n            <button style=\"border: none;border-radius:10px;background: #068006;width: 80px; font-size: 18px;color: #F9F0DA;\"onclick=\"clickme('配 置 已 保 存 ！', 1000, '开');\">保 存</button> \n        </a>\n    </div>\n    <br>\n    <div id=\"div2\"></div>\n    <div>\n        <a style=\"float:left;margin-top:5px;\" onclick=\"openDnPage()\">\n            <img src=\"https://s3.ax1x.com/2021/02/22/y7wb9O.jpg\" class=\"round_icon\"  alt=\"\">\n        </a>\n        <span style=\"line-height:60px;font-size:18px;color: grey;\">&nbsp;&nbsp;断&nbsp;念</span>\n        <a style=\"float:right;margin-top:5px;\">\n            <button  style=\"border: none;border-radius:10px;background: #05BFC5;width: 185px;height:40px; font-size: 18px;color: #F9F0DA;\" onclick=\"clickme('配 置 已 保 存 ！', 1000, '关');\">保存设置并关闭界面</button>\n        </a>\n    </div>\n    <div class=\"zj-div\">\n        <ul class=\"jx-ul\" style=\"height:444px;overflow-y:auto;\">\n            <li class=\"myChoice\" style=\"z-index:9999;position: fixed;width:76.5%;color:red;\"></li>\n            <li class=\"useless\"></li>\n            <li class=\"xlList\" v-for=\"item in jxData\">{{item}}</li>\n        </ul>\n        <ul class=\"cj-ul\">\n            <li style=\"background:grey;\">请选择插件</li>\n            <li v-for=\"item in cjData\">{{item}}</li>\n        </ul>\n    </div>\n</body>\n<script>\n    var settings = {\n        qy: 'yun1717',\n        yk: 'yun1717',\n        tx: 'yun1717',\n        mg: 'yun1717',\n        bl: 'yun1717',\n        oth: 'yun1717',\n        qju: '',\n        cj: 'hiker://files/cache/Parse_Dn.js'\n    };\n    eval(fy_bridge_app.getInternalJs());\n    \n    var oldRoute = \"hiker://files/cache/MyParseSet.json\";\n    var mySet = fy_bridge_app.fetch(oldRoute);\n    \n    var newRoute = \"hiker://files/rules/DuanNian/MyParse.json\";\n    var newConfig = fy_bridge_app.fetch(newRoute);\n    var mySelect = [];\n    if(newConfig != \"\"){\n        eval(\"newConfig =\" + newConfig + \";\");\n        settings = newConfig.settings;\n        var ycTitle = ['defaultParse', 'maoss', 'CityIP', 'cacheM3u8', 'pcUA', 'parseLc', 'gparse', 'nparse'];\n        for(var i = 0; i < newConfig.title.length; i++){\n            var Titles = newConfig.title[i];\n            if(ycTitle.includes(Titles) == false){\n                mySelect.push(Titles);\n            }\n        }\n    }\n    var sfRefresh = settings.cj;\n    function Did(id){\n        return document.getElementById(id);\n    }\n    \n    if(mySet == ''){\n        Did(\"div2\").insertAdjacentHTML('afterBegin','\\\n<h4>提示：<br>①注意插件选项，没有手动导入插件的话不用动它。如设置不当会导致规则无法使用，<br>解决办法：视界打开更多设置→文件管理→点cache→长按MyParseSet.json删除掉；<br>②全局设置如果选择了非默认那么全部的解析会使用这一设置，不想这样的话请填入默认；<br>③绿色保存按钮仅仅保存配置不会关闭设置页面，配置后想保存并关闭设置页面的话请点蓝色按钮；<br>④阅读完提示点关闭加载完整设置页面，如出问题无法自行解决点图片进入论坛向我反馈。<br></h4>');\n    }\n    \n    var boxData = [\n        {\n            title: \"奇 奇\",\n            id: \"qy\",\n            value: settings.qy,\n        }, {\n            title: \"酷 酷\",\n            id: \"yk\",\n            value: settings.yk,\n        }, {\n            title: \"腾 腾\",\n            id: \"tx\",\n            value: settings.tx,\n        }, {\n            title: \"果 果\",\n            id: \"mg\",\n            value: settings.mg,\n        }, {\n            title: \"哩 哩\",\n            id: \"bl\",\n            value: settings.bl,\n        }, {\n            title: \"其 他\",\n            id: \"oth\",\n            value: settings.oth,\n        }, {\n            title: \"全 局\",\n            id: \"qju\",\n            value: settings.qju,\n        }, {\n            title: \"插 件\",\n            id: \"cj\",\n            value: settings.cj,\n        }\n    ];\n\n    var inputBox = \"\";\n    for(let i = 0; i < boxData.length; i++){\n        let b = boxData[i];\n        inputBox += '<div class=\"box bar\">\\\n            <form>\\\n                <label type=\"submit\">' + b.title + '</label>\\\n                <input type=\"text\" placeholder=\"输入解析名或者URL......\" value=\"' + b.value + '\" id=\"' + b.id + '\">\\\n            </form>\\\n            <div class=\"lieb\">\\\n                <button id=\"' + b.id + 'Select\">☰</button>\\\n            </div>\\\n        </div>';\n    }\n    Did(\"div2\").insertAdjacentHTML('afterend', inputBox);\n    Did(\"cj\").placeholder = \"输入插件地址......\";\n    Did(\"qju\").placeholder = \"此项建议留空或者填默认两个字\";\n    \n    new Vue({\n        el: \".zj-div\",\n        data: {\n            jxData: mySelect,\n            cjData: [\"hiker://files/cache/Parse_Dn.js\", \"hiker://files/rules/dzHouse/js/srcauto.js\", \"hiker://files/rules/js/Parse-V2_Dn.js\"]\n        }\n    });\n\n    $(document).ready(function() {\n        var len = $('.jx-ul').children('li').length;\n        var len2 = $('.cj-ul').children('li').length;\n        $('.lieb button').click(function(e) {\n            if($('.lieb button').text().includes('━')){\n                $('.lieb button').css('background', '');\n                $('.lieb button').text('☰');\n            }else{\n                $(this).text('━');\n                $(this).css('background', 'red');\n            }\n            $('li').attr('check', 'false');\n            var inputid = \"#\" + this.id.split(\"Select\")[0];\n            var arr = $(inputid).val().split(',');\n            arr = arr[0] == '' ? [] : arr;\n            $('.myChoice').text(arr);\n            if (inputid !== '#cj' && $('.cj-ul').css('display')=='none') {\n                $('.jx-ul').slideToggle();\n                e.stopPropagation();\n                for (let i = 1; i < len; i++) {\n                    var jxList = $('.jx-ul li:not(.myChoice)').eq(i);\n                    if (arr.includes(jxList.text())) {\n                        jxList.attr('check', 'true');\n                    }\n                    jxList.unbind('click').click(function(e) {\n                        e.stopPropagation();\n                        if ($(this).attr('check') !== \"true\") {\n                            $(this).attr('check', 'true');\n                            arr.unshift($(this).text());\n                            $(inputid).val(arr);\n                            $('.myChoice').text(arr);\n                        } else {\n                            $(this).attr('check', 'false');\n                            for (var a = 0; a < arr.length; a++) {\n                                if (arr[a] == $(this).text()) {\n                                    arr.splice(a, 1);\n                                    $(inputid).val(arr);\n                                    $('.myChoice').text(arr);\n                                }\n                            }\n                        }\n                    })\n                }\n            } else if($('.jx-ul').css('display')=='none'){\n                $('.cj-ul').slideToggle();\n                e.stopPropagation();\n                for (let i = 0; i < len2; i++) {\n                    var cjList = $('.cj-ul li').eq(i);\n                    if ($(inputid).val() == cjList.text()) {\n                        cjList.attr('check', 'true');\n                    }\n                    cjList.unbind('click').click(function() {\n                        if (i !== 0) {\n                            $(inputid).val($(this).text());\n                            $(this).attr('check', 'true');\n                            $(this).siblings().attr('check', 'false');\n                        }\n                    })\n                }\n            }\n        });\n        $(document).not($('.xlList')).click(function(e) {\n            $('.jx-ul').slideUp();\n            $('.cj-ul').slideUp();\n            $('.lieb button').text('☰');\n            $('.lieb button').css('background', '');\n        })\n        $('label').dblclick(function(){\n            let inputid = '#' + $(this).next().attr('id');\n            $(inputid).val('');\n        })\n    })\n    \n    function Toast(msg,duration){  \n        duration=isNaN(duration)?2000:duration;  \n        var m = document.createElement('div');  \n        m.innerHTML = msg;  \n        m.style.cssText=\"width:45%; min-width:150px; background:#311; opacity:0.6; height:auto;min-height: 45px; color:#fff; line-height:45px; text-align:center; border-radius:10px; position:fixed; top:60%; left:26%; z-index:999999;\";  \n        document.body.appendChild(m);  \n        setTimeout(function() {  \n            var d = 0.5;  \n            m.style.webkitTransition = '-webkit-transform ' + d + 's ease-in, opacity ' + d + 's ease-in';  \n            m.style.opacity = '0';  \n            setTimeout(function() { document.body.removeChild(m) }, d * 1000);  \n        }, duration);  \n    }  \n\n    function openDnPage(){\n        fba.open(JSON.stringify({\n            rule: \"=^_^=\",\n            title: \"管理解析\",\n            url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=编辑#noHistory#\",\n            group: \"\",\n            col_type: \"\",\n            //findRule: \"js:this.d=[];$.require(\\\"hiker://page/Parse_Dn.js?rule=MyFieldᴰⁿ\\\").edit();setResult(d);\",\n            preRule: \"\",\n            extra: {}\n        }));\n    }\n    function cancel(){\n        if(mySet==''){\n            fy_bridge_app.writeFile(oldRoute, JSON.stringify(settings, null, 4));\n            fy_bridge_app.refreshPage(true);\n        }else{\n            fy_bridge_app.back(false);\n        }\n    }\n    function clickme(msg,duration,title){\n        for(let i = 0; i < boxData.length; i++){\n            let id = boxData[i].id;\n            settings[id] = Did(id).value;\n            if(settings.qju == ''){\n                settings.qju = '默认';\n            }\n        }\n        if (mySelect[0] != undefined) {\n            eval('var bcConfig=' + fy_bridge_app.fetch(newRoute));\n            Object.assign(bcConfig.settings, settings);\n            fy_bridge_app.writeFile(newRoute, $$$.stringify(bcConfig));\n        }\n        fy_bridge_app.writeFile(oldRoute, $$$.stringify(settings));\n            \n        Toast(msg,duration);\n        if(title==\"关\"){\n            if(sfRefresh != Did(\"cj\").value){\n                fy_bridge_app.back();\n            }else{\n                fy_bridge_app.back(false);\n            }\n        }else{\n            fy_bridge_app.refreshPage(true);\n        }\n    }\n\n</script>   \n</html>"},{"col_type":"movie_3","name":"Parse_Dn.js","path":"Parse_Dn.js","rule":"//============免嗅调用============\n//－－－=^_^=\n\nvar version = \"3.5.1\";\nvar updateDate = '2021/10/30/22:22';\nvar _mySet = {\n    qju: '默认',\n    cjcache: 'hiker://files/cache/Parse_Dn.js',\n    x5cache: 'hiker://files/cache/Parse_Dn.html',\n    oldConfig: 'hiker://files/cache/MyParseSet.json',\n    ckLink: 'https://code.aliyun.com/AI957/Hiker/raw/master/v/',\n    cj: 'https://code.aliyun.com/AI957/Hiker/raw/master/v/CloudParse-V2_Dn.js',\n    x5Url: 'https://code.aliyun.com/AI957/Hiker/raw/master/v/Parse_Dn.html',\n    parseRoute: 'hiker://files/rules/DuanNian/MyParse.json',\n    x5Route: 'file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/cache/Parse_Dn.html'\n};\nvar MyParseS = {};\nvar mySet = _mySet;\nif (fileExist(_mySet.parseRoute)) {\n    eval('var parseFile =' + fetch(_mySet.parseRoute));\n    MyParseS = parseFile.codes;\n    mySet = parseFile.settings;\n}\n\nvar parseTitle = [\n    \"yun1717\",\n    \"PanGu\",\n    \"FuXing\",\n    \"https://jxx.smys8.cn/index.php?url=\",\n    \"https://okjx.cc/?url=\",\n    \"https://jx.m3u8.tv/jiexi/?url=\",\n    \"https://sb.5gseo.net/?url=\"\n];\n\n//－－－=^_^=\n\n//接口设置.\n\nvar setUrl = \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noRecordHistory#\";\nvar set_switch = setUrl;\nvar lazy = `eval('var config =' + fetch(getVar('oldConfig')));eval(fetch(config.cj));aytmParse(input)`;\n\n//var parwix = `var yurl='https://daili.mayixiongdi.cn/?url=';Referer': 'https://www.mayixiongdi.cn/ys?id=';'https://daili.mayixiongdi.cn/api.php', 'Referer':'https://daili.mayixiongdi.cn';\n// 全民https://pcvideoaliyun.tianshangrenjian.mgtv.com.88wuma.com/?url=\n\n//－－－备 用－－－\n/*\n * 影视工场： https://ysgc.cc/\n * 江湖: 555电影 https://www.555dy2.com/phone.html ｜ 17看 http://17kanyy.cn/ http://jhjiexi.30vr.cn/?url= ｜ http://api.maizimall.com/index.php?url=\n * 江湖: http://www.tianshuyun.net/index.php/vod/play/id/448377/sid/1/nid/1.html\n * 江湖2: http://98hyk.cn/index.php/vod/play/id/72841/sid/1/nid/1.html\n * 人人迷: https://vip.susou.tv/player/?url= ｜ https://www.momdm.cc/\n * \n * wuigen: https://www.5igen.com/dmplayer/player/?url=\n * 干饭(人人迷): https://jx.zui.cm/?url=\n * https://2.66movie.top/player/?url=\n * \n */\n\n\nvar tools = {\n    MD5: function(data) {\n        eval(getCryptoJS());\n        return CryptoJS.MD5(data).toString(CryptoJS.enc.Hex);\n    },\n    AES: function(text, key, iv, isEncrypt) {\n        eval(getCryptoJS());\n        var key = CryptoJS.enc.Utf8.parse(key);\n        var iv = CryptoJS.enc.Utf8.parse(iv);\n        if (isEncrypt) {\n            return CryptoJS.AES.encrypt(text, key, {\n                iv: iv,\n                mode: CryptoJS.mode.CBC,\n                padding: CryptoJS.pad.Pkcs7\n            }).toString();\n        };\n        return CryptoJS.AES.decrypt(text, key, {\n            iv: iv,\n            padding: CryptoJS.pad.Pkcs7\n        }).toString(CryptoJS.enc.Utf8);\n    },\n    //ascii\n    nextCharacter: function(asciiValue, k) {\n        var s = asciiValue;\n        return String.fromCharCode(s + k);\n    },\n    //凯撒\n    caesarCipher: function(stringValue, k) {\n        var newString = \"\";\n        for (var i = 0; i < stringValue.length; i++) {\n            newString += this.nextCharacter(stringValue[i].charCodeAt(), k);\n        }\n        return newString;\n    },\n    nowDate: function() {\n        var date1 = new Date();\n        var dateStr = \"\";\n        if (date1) {\n            dateStr = date1.getFullYear();\n            var month = date1.getMonth() + 1;\n            var day = date1.getDate();\n            if (month < 10) {\n                dateStr += \"-0\" + month;\n            } else {\n                dateStr += \"-\" + month;\n            }\n            if (day < 10) {\n                dateStr += \"-0\" + day;\n            } else {\n                dateStr += \"-\" + day;\n            }\n        }\n        return dateStr;\n    },\n    toJSON: function(json) {\n        return JSON.stringify(json, (key, value) => {\n            if (typeof value == 'function') {\n                return value.toString();\n            } else {\n                return value;\n            }\n        }, 4);\n    },\n    toVNum: function(a) {\n        var a = a.toString();\n        var c = a.split('.');\n        var num_place = [\"\", \"0\", \"00\", \"000\", \"0000\"],\n            r = num_place.reverse();\n        for (var i = 0; i < c.length; i++) {\n            var len = c[i].length;\n            c[i] = r[len] + c[i];\n        }\n        var res = c.join('');\n        return res;\n    },\n    cprVersion: function(a, b) {\n        var _a = parseInt(this.toVNum(a)),\n            _b = parseInt(this.toVNum(b));\n        b = isNaN(_b) ? version : b;\n        if (_a > _b) {\n            putVar('jxNewV', '有新版本: ' + a);\n        } else {\n            clearVar('jxNewV');\n        }\n        putVar('jxOldV', b);\n    }\n};\n\nif (getVar(\"jxOldV\", \"0\") != version) {\n    putVar('cjCache', _mySet.cjcache);\n    putVar('x5Cache', _mySet.x5Cache);\n    putVar('oldConfig', _mySet.oldConfig);\n    putVar('parseRoute', _mySet.parseRoute);\n    let mayck = 'https://gitee.com/Duan-Nian/Dn/raw/master/hikerview/';\n    let jxNewV = fetch(mayck + 'ParseVersion.txt'),\n        jxOldV = (fetch(_mySet.cjcache).split('version = \"')[1] + '').split('\"')[0];\n    tools.cprVersion(jxNewV, jxOldV);\n    writeFile('hiker://files/cache/x5ParseLanJie.txt', fetch(mayck + 'x5ParseLanJie.txt'));\n}\n\nvar ParseS = {};\nvar originalParseS = {\n    //updateDate: updateDate,\n    CityIP: 'http://pv.sohu.com/cityjson',\n    pcUA: 'User-Agent@Mozilla/5.0 (Windows NT 10.0\\；\\； WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.87 Safari/537.36',\n    cacheM3u8: function(vUrl, ref) {\n        try {\n            var m3u8 = fetch(vUrl, {});\n            writeFile('hiker://files/cache/videos.m3u8', m3u8);\n        } catch (e) {}\n        return 'file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/cache/videos.m3u8#';\n    },\n    defaultParse: function(url) {\n        return url;\n    },\n    maoss: function(jxurl, ref, key) {\n        try {\n            var getVideoInfo = function(text) {\n                return tools.AES(text, key, iv);\n            };\n            if (ref) {\n                var html = request(jxurl, {\n                    headers: {\n                        'Referer': ref\n                    }\n                });\n            } else {\n                var html = request(jxurl);\n            }\n            if (html.indexOf('&btwaf=') != -1) {\n                html = request(jxurl + '&btwaf' + html.match(/&btwaf(.*?)\"/)[1], {\n                    headers: {\n                        'Referer': ref\n                    }\n                })\n            }\n            var iv = html.split('bt_token = \"')[1].split('\"')[0];\n            eval(html.match(/var config = {[\\s\\S]*?}/)[0] + '');\n            if (config.url.slice(0, 4) != 'http') {\n                config.url = decodeURIComponent(tools.AES(config.url, \"dvyYRQlnPRCMdQSe\", iv));\n            }\n            return config.url;\n        } catch (e) {\n            return '';\n        }\n    },\n    LLQ: function(jxurl) {\n        try {\n            var api = jxurl.split('?url=')[0] + \"api.php\";\n            var b64id = base64Encode(jxurl.split('url=')[1]);\n            var parseid = tools.caesarCipher(b64id, -1);\n            var json = JSON.parse(request(api, {\n                headers: {\n                    'Referer': jxurl\n                },\n                method: 'POST',\n                body: 'url=' + parseid\n            }));\n            url = (json.code == 200 ? base64Decode(tools.caesarCipher(json.url, -1)) : '');\n            return url;\n        } catch (e) {\n            return '';\n        }\n    },\n    PanGu: function(vipUrl, data) {\n        /*var ref = 'https://www.pangujiexi.com/';\n        var parse = 'https://panguapi.ntryjd.net/jiexi/?url=' + vipUrl;\n        var api = 'https://panguapi.ntryjd.net/jiexi/api.php';\n        */\n        //var ref = 'https://xmystv.com/';\n        //var parse = 'https://www.99kpw.com/pangu/index.php?url=' + tailUrl;\n        //var api = 'https://www.99kpw.com/pangu/api.php';\n        var parse = \"https://www.pangujiexi.com/pangu/?url=\" + vipUrl;\n        var api = \"https://panguapi.ntryjd.net/pangu2021/api.php\";\n        if (data) {\n            ref = data[0];\n            parse = data[1];\n            api = data[2];\n        }\n        var Time = (Math.floor(new Date().getTime() / 1000) * 1).toString();\n        var json = request(api, {\n            headers: {\n                \"Referer\": parse\n            },\n            body: \"url=\" + vipUrl + \"&referer=\" + base64Encode(parse) + \"&ref=1&time=\" + Time + \"&type=&other=\" + base64Encode(vipUrl) + \"&ios=0\",\n            method: \"POST\"\n        });\n        var url = json[0] == \"{\" ? JSON.parse(json).url : \"\";\n        return url;\n    },\n    yun1717: function(vipUrl) {\n        var isyk = vipUrl.indexOf('youku');\n        var ref = \"https://www.1717yun.com/jx/ty.php?url=\" + vipUrl;\n        var parse = \"https://1717yun.com.zh188.net/0828/?url=\" + vipUrl;\n        var api = \"https://1717yun.com.zh188.net/1004/..index..php\";\n        return isyk == -1 ? this.PanGu(vipUrl, [ref, parse, api]) : this.PanGu(vipUrl, [ref + ',vip:', parse + ',vip:', api]);\n    },\n    FuXing: function(vipUrl) {\n        try {\n            //if(vipUrl.indexOf('v.youku')!=-1){\n            //    vipUrl = (JSON.parse(request(vipUrl, {redirect:false, withHeaders:true})).headers.location + '').replace(/\\?.*/,'');\n            //}\n            var ref = 'https://jx.xuetuiguang.cn/jiexi/?url=' + vipUrl;\n            var parse = ref;\n            var api = 'https://jx.xuetuiguang.cn/jiexi/apiu_fx.php';\n            return this.PanGu(vipUrl, [ref, parse, api]);\n        } catch (e) {\n            return '';\n        }\n    },\n};\n\nObject.assign(ParseS, originalParseS, MyParseS);\n//覆盖顺序，第三个覆盖第二个然后覆盖第一个\n\n\nfunction aytmParse(vipUrl) {\n    this.request = function(param0, param1, param2) {\n        param1 = param1 == undefined ? {} : param1;\n        param1.timeout = 2500;\n        param2 = MY_RULE;\n        var retStr = method_request.invoke(javaContext, param0, param1, param2);\n        return retStr == null ? retStr : retStr + \"\";\n    };\n    this.fetch = function(param0, param1, param2) {\n        param1 = param1 == undefined ? {} : param1;\n        param1.headers = param1.headers == undefined ? {} : param1.headers;\n        param1.headers['User-Agent'] = PC_UA;\n        param1.timeout = 2500;\n        param2 = MY_RULE;\n        var retStr = method_fetch.invoke(javaContext, param0, param1, param2);\n        return retStr == null ? retStr : retStr + \"\";\n    };\n    var host = vipUrl.match(/\\.(.*?)\\//);\n    host = host == null ? null : host[1];\n    var noUrl = \"toast://接收到的链接为: \";\n    switch (mySet.qju) {\n        case \"\":\n        case \"默认\":\n            switch (host) {\n                case \"qq.com\":\n                    str = mySet.tx;\n                    break;\n                case \"iqiyi.com\":\n                    str = mySet.qy;\n                    break;\n                case \"youku.com\":\n                    str = mySet.yk;\n                    break;\n                case \"mgtv.com\":\n                    str = mySet.mg;\n                    break;\n                case \"bilibili.com\":\n                    str = mySet.bl;\n                    break;\n                default:\n                    str = host == null ? noUrl : mySet.oth;\n                    break;\n            }\n            break;\n        default:\n            str = host == null ? noUrl : mySet.qju;\n            break;\n    }\n    let myChoice = str.split(',');\n    let len = myChoice.length;\n    for (let i = 0; i < len; i++) {\n        let name = myChoice[i];\n        if (typeof ParseS[name] == 'function') {\n            let url = ParseS[name](vipUrl);\n            if (i != len - 1 && !/m3u8|mp4|http/.test(url)) {\n                continue;\n            }\n            if (url[0] == '/') {\n                url = 'https:' + url\n            }\n            if (url.indexOf('=http') != -1) {\n                url = url.indexOf('&url=') > -1 ? url : 'http' + decodeURIComponent(url.split('=http')[1]);\n            }\n            /*if(url.match(/mgtv.com/g)=='mgtv.com'){\n                url = url + ';{Referer@https://www.mgtv.com}';\n            } else */\n            if (url.indexOf('.flv') != -1) {\n                url = url + ';{User-Agent@app&&Referer@' + vipUrl + '}';\n            }\n            if (url == '' || url == vipUrl) {\n                return vipUrl;\n            } else {\n                return url + '#isVideo=true#';\n            }\n        } else if (typeof ParseS[name] == 'string') {\n            return ParseS.defaultParse(ParseS[name] + vipUrl);\n        } else {\n            return name.substr(0, 4) == \"http\" || host == null ? name + vipUrl : \"toast://\" + name + \" 不是直链也不是免嗅\";\n        }\n    }\n};\n\nvar playParse = {\n    player_xx: function(jurl, Label) {\n        return $(jurl).lazyRule((k) => {\n            var jsUrl = JSON.parse(fetch(getVar('oldConfig'))).cj;\n            var Label = k;\n            var fa = ['letv', 'pptv', 'qq', 'youku', 'qiyi', 'iqiyi', 'mgtv', 'bilibili', 'sohu', 'migu', 'm1905', 'vip'];\n            var html = parseDom(request(input), Label);\n            eval(html.replace(/player_.*?={/, 'pdata={'));\n            eval(fetch(jsUrl));\n            if (pdata.url.substr(0, 8).match(/JT..JT../)) {\n                pdata.url = base64Decode(pdata.url);\n            }\n            if (pdata.url.substr(0, 8).match(/%..%../)) {\n                pdata.url = unescape(pdata.url);\n            }\n            if (fa.includes(pdata.from) == true) {\n                return aytmParse(pdata.url);\n            } else {\n                return pdata.url + '#isVideo=true#';\n            }\n        }, Label)\n    }\n};\n\nfunction setParse() {\n    $.require(\"hiker://page/Route?rule=MyFieldᴰⁿ\").setParse();\n}\n\nfunction mzPopup() {\n    if (getVar(\"ijk-tx\", \"\") == \"1\") {\n        setItem(\"tixing\", \"1\")\n        clearVar(\"ijk-tx\")\n    }\n    return confirm({\n        title: '免责声明',\n        content: '本程序不提供视频解析服务\\n所有内容均从用户分享中收集\\n仅供测试和学习交流\\n\\n确定即认可，不再提醒',\n        confirm: $.toString(() => {\n            putVar(\"ijk-tx\", \"1\");\n            refreshPage(false);\n            return \"toast://您点击了确认\"\n        })\n    })\n}\nif (getItem(\"tixing\", \"\") == \"\") {\n    mzPopup();\n}\n\n//===========解析代码结束===========\n\nfunction saveButton(content) {\n    var data = content.split('★★★');\n    if (data.length == 2) {\n        var _dt = parsePaste(data[0]);\n        content = _dt.substr(0, 6) != 'error:' ? _dt : '';\n    }\n    data = content.split('★');\n    var type = data[0];\n    var arrList = [];\n    var objCode = {};\n    if (data.length > 2 && data[0] != '直链') {\n        var objKey = data[1];\n        var objValue = data[2];\n        if (type == 'MyParseS') {\n            objValue = base64Decode(objValue);\n        }\n        if (objValue.split('function').length > 1) {\n            eval('objValue=' + objValue);\n        }\n        arrList.splice(0, 0, objKey);\n        objCode[objKey] = objValue;\n\n    } else if (type == '直链') {\n        arrList = data;\n        arrList.splice(0, 1);\n    } else {\n        arrList = null;\n    }\n    if (arrList != null) {\n        var parseRoute = getVar('parseRoute');\n        eval('var json =' + fetch(parseRoute));\n        arrList = arrList.concat(json.title);\n        json.title = Array.from(new Set(arrList));\n        Object.assign(json.codes, objCode);\n        if (type == '测试') {\n            eval('var config =' + fetch(getVar('oldConfig')));\n            eval(fetch(config.cj));\n            if (typeof ParseS[data[1]] == \"function\") {\n                return ParseS[data[1]](data[2]);\n            } else {\n                return ParseS.defaultParse(ParseS[data[1]] + data[2]);\n            }\n        } else {\n            writeFile(parseRoute, $.stringify(json));\n            return \"toast://已保存内容\";\n        }\n    } else {\n        return \"toast://无法识别这个内容呢\"\n    }\n}\n\nif (getItem('updateDate') != updateDate) {\n    var functionCode = saveButton + '';\n    writeFile('hiker://files/cache/plscParse.html', fetch(_mySet.ckLink + 'plscParse.html'));\n    setItem('myFunction', functionCode);\n    setItem('updateDate', updateDate);\n}\nvar bjItem = {\n    hfPlugin: function(parseRoute) {\n        return $('#noLoading#').lazyRule((k) => {\n            if (fileExist(k) == true) {\n                var cjcache = getVar('cjCache');\n                eval('var json =' + fetch(k));\n                json.settings.cj = cjcache;\n                writeFile(k, $.stringify(json));\n                var oldRoute = getVar('oldConfig');\n                var oldConfig = json.settings;\n                oldConfig.cj = cjcache;\n                writeFile(oldRoute, $.stringify(oldConfig));\n                refreshPage(false);\n                return 'toast://恢复成功';\n            } else {\n                return 'toast://需要先拉取列表'\n            }\n        }, parseRoute)\n    },\n    pullCode: function(k) {\n        return $('#noLoading#').lazyRule((k) => {\n            var pullMode = k[0];\n            var parseRoute = k[1];\n            var parseFile = fetch(parseRoute);\n            if (!parseFile) {\n                var settings = fetch(getVar('oldConfig'));\n                settings = settings == '' ? {} : JSON.parse(settings);\n                var json = {};\n                json.settings = settings;\n                json.title = [];\n                json.codes = {};\n            } else {\n                eval('var json =' + parseFile);\n            }\n            var tishi = 'toast://抱歉!无法识别这个内容呢╯﹏╰';\n            var cjLink = getVar('pluginLink');\n            var Contents = cjLink == 'Q神' ? pullMode + '★' + fetch('hiker://files/jiexi/jiexi.txt') : cjLink;\n            try {\n                var yPaste = parsePaste(Contents).split('@base64://');\n                if (yPaste.length == 2) {\n                    Contents = base64Decode(yPaste[1]);\n                } else if (cjLink.substr(0, 5) == 'hiker' || cjLink.substr(0, 4) == 'http') {\n                    Contents = fetch(cjLink);\n                }\n                var jcKL = Contents.split('★');\n                var isKL = jcKL[0];\n                if (jcKL.length == 2) {\n                    isKL = isKL == '' ? pullMode : isKL;\n                    Contents = jcKL[1].split('\\n');\n                    if (Contents[0] == '') {\n                        Contents.splice(0, 1)\n                    }\n                }\n                var addTitle = [],\n                    addCode = {};\n                if (('' + Contents[0]).split('&&').length == 2) {\n                    for (let i = 0; i < Contents.length; i++) {\n                        let arr = Contents[i].split('&&');\n                        let title = arr[0] + '(x5)',\n                            url = arr[1];\n                        if (pullMode == '免嗅') {\n                            addTitle.push(title)\n                            addCode[title] = url;\n                        } else {\n                            addTitle.push(url);\n                        }\n                    }\n                } else if (isKL == '直链' && pullMode == '直链') {\n                    addTitle = Contents;\n                }\n                if (addTitle[0] == undefined) {\n                    eval(Contents);\n                    if (typeof originalParseS == 'object') {\n                        addCode = originalParseS;\n                    } else {\n                        addCode = ParseS;\n                    }\n                    var scObject = [\"parseLc\", \"gparse\", \"nparse\", \"Mao全网\", \"ds973\", \"parwix\", \"OJBK\", \"91解析\", \"人人迷\", \"江湖\", \"久播\", \"骚火\", \"LK解析\", \"小狼云\", \"九八看\", \"思云解析\", \"CityIP\", \"pcUA\", \"cacheM3u8\", \"defaultParse\", \"maoss\", \"LLQ\"];\n                    for (var i = 0; i < scObject.length; i++) {\n                        delete addCode[scObject[i]];\n                    }\n                    if (typeof parseTitle == 'object') {\n                        addTitle = parseTitle;\n                    } else {\n                        addTitle = Object.keys(addCode);\n                    }\n                }\n                var oldSL = json.title.length;\n                var newTitle = json.title.concat(addTitle);\n                json.title = Array.from(new Set(newTitle));\n                if (pullMode == '免嗅') {\n                    Object.assign(json.codes, addCode);\n                }\n                var newSL = json.title.length - oldSL;\n                var coverSL = newTitle.length - json.title.length;\n                coverSL = coverSL == 0 ? '' : ', 覆盖了' + coverSL + '个';\n                //var newFile = tools.toJSON(json);//自定义stringify函数，带有转义字符\n                var newFile = $.stringify(json); //JSON.parse会报错\n                writeFile(parseRoute, newFile);\n                refreshPage(false);\n                return 'toast://总共导入了' + newSL + '个' + pullMode + '解析' + coverSL;\n            } catch (e) {\n                return tishi;\n            }\n        }, [k, _mySet.parseRoute])\n    },\n    pullScript: function(cj, x5) {\n        return $('#noLoading#').lazyRule((k) => {\n            var cjFrom = 'hiker://page/Parse_Dn.js?rule=MyFieldᴰⁿ';\n            var x5From = 'hiker://page/Parse_Dn.html?rule=MyFieldᴰⁿ';\n            try {\n                var cjFile = JSON.parse(fetch(cjFrom)).rule;\n                cjFile = cjFile.split('解析代码结束')[0];\n                var x5File = JSON.parse(fetch(x5From)).rule;\n                writeFile(k[0], cjFile);\n                writeFile(k[1], x5File);\n                clearVar('jxOldV');\n                refreshPage(false);\n                return 'toast://更新成功';\n            } catch (e) {\n                return 'toast://未成功获取内容';\n            }\n        }, [cj, x5])\n    },\n    xlSelect: function(bianji, lbLength) {\n        return \"select://\" + JSON.stringify({\n            options: ['‘‘’’<span style=\"color:red\" title=\"删除||' + bianji + '\">删 除', '‘‘’’<span style=\"color:#F57474\" title=\"隐藏||' + bianji + '\">隐 藏', '‘‘’’<span style=\"color:#FF8000\" title=\"修改||' + bianji + '\">修 改', '‘‘’’<span style=\"color:#098AC1\" title=\"置顶||' + bianji + '0' + '\">置 顶', '‘‘’’<span style=\"color:#098AC1\" title=\"移动||' + bianji + '\">移 动', '‘‘’’<span style=\"color:#098AC1\" title=\"置底||' + bianji + lbLength + '\">置 底', '‘‘’’<span style=\"color:#04B431\" title=\"分享||' + bianji + '\">地板分享', '‘‘’’<span style=\"color:#04B431\" title=\"云分享||' + bianji + '\">云板分享'],\n            col: '2',\n            js: $.toString(() => {\n                var parseRoute = getVar('parseRoute');\n                eval('var json =' + fetch(parseRoute));\n                var newInput = parseDomForHtml(input, 'span&&title').split('||');\n                var type = newInput[0];\n                var name = newInput[1];\n                var num = newInput[2];\n                var num2 = newInput[3];\n                switch (type) {\n                    case \"删除\":\n                        return $(\"即将删除: \" + name).confirm((k) => {\n                            var name = k[0];\n                            var num = k[1];\n                            var parseRoute = getVar('parseRoute');\n                            eval('var json =' + fetch(parseRoute));\n                            if (json.codes.hasOwnProperty(name)) {\n                                delete json.codes[name];\n                            }\n                            json.title.splice(num, 1);\n                            writeFile(parseRoute, $.stringify(json));\n                            refreshPage(false);\n                            return \"toast://已将〖\" + name + \"〗删除\";\n                        }, [name, num]);\n                        break;\n                    case \"隐藏\":\n                        return $(\"hiker://empty#noLoading#\").lazyRule((k) => {\n                            var name = k[0];\n                            var num = k[1];\n                            var parseRoute = getVar('parseRoute');\n                            eval('var json =' + fetch(parseRoute));\n                            if (json.codes.hasOwnProperty(name)) {\n                                json.title.splice(num, 1);\n                                writeFile(parseRoute, $.stringify(json));\n                                refreshPage(false);\n                                return \"toast://已将〖\" + name + \"〗隐藏\";\n                            } else {\n                                return \"toast://可能是个网址, 您可选择删除\";\n                            }\n                        }, [name, num]);\n                        break;\n                    case \"修改\":\n                        //if (json.codes[name]) {\n                        var nCode = name;\n                        var nName = \"这是名称\";\n                        if (json.codes[name]) {\n                            nCode = json.codes[name].toString();\n                            nName = name;\n                        }\n                        return $(\"hiker://empty#noRecordHistory#\").rule((k) => {\n                            var d = [];\n                            eval(getItem('myFunction'));\n                            var name = k[0];\n                            var code = k[1];\n                            d.push({\n                                title: '保 存',\n                                url: saveButton + \"saveButton(getVar('input_edit'));back();\",\n                                col_type: \"input\",\n                                desc: \"建议按默认的代码格式修改哦\",\n                                extra: {\n                                    onChange: \"putVar('input_edit', input)\",\n                                    type: \"textarea\",\n                                    height: \"-1\",\n                                    titleVisible: false,\n                                    defaultValue: '修改★' + name + '★' + code,\n                                }\n                            });\n                            d.push({\n                                title: '‘‘’’<small><span style=\"color:#6EB897\">格式为：操作类型★标题★function(){自定义内容}<br>请勿填入其他格式',\n                                url: $('#noLoading#').lazyRule((saveButton) => {\n                                    saveButton(getVar('input_edit'));\n                                    back();\n                                    return 'toast://已保存修改';\n                                }, saveButton),\n                                desc: '‘‘’’<big><big><span style=\"color:#298A08\">保 存',\n                                col_type: 'text_center_1'\n                            });\n                            setResult(d);\n                        }, [nName, nCode]) //[name, json.codes[name].toString()])\n                        /*} else {\n                            return \"toast://只有网址或者标题, 不支持修改\"\n                        }*/\n                        break;\n                    case \"置顶\":\n                    case \"置底\":\n                        var item = json.title.splice(num, 1);\n                        json.title.splice(num2, 0, item[0]);\n                        writeFile(parseRoute, $.stringify(json));\n                        refreshPage(false);\n                        break;\n                    case \"移动\":\n                        return $('hiker://empty#noLoading#').lazyRule((k) => {\n                            putVar('bianji', '移动#' + k);\n                            refreshPage(false);\n                            return input;\n                        }, num);\n                        break;\n                    case \"分享\":\n                    case \"云分享\":\n                        if (json.codes[name]) {\n                            var parseText = typeof json.codes[name] == 'function' ? $.stringify(json.codes[name]) : json.codes[name];\n                            parseText = 'MyParseS★' + name + '★' + base64Encode(parseText);\n                        } else {\n                            var parseText = '直链★' + json.title[num];\n                        }\n                        if (type == '云分享' && parseText.substr(0, 8) == 'MyParseS') {\n                            parseText = sharePaste(parseText);\n                            return parseText.substr(0, 6) != 'error:' ? 'copy://' + parseText + '\\n★★★\\n' + 'MyParseS：' + name : 'toast://分享失败!!云剪贴板可能挂了';\n                        } else {\n                            return 'copy://' + parseText;\n                        }\n                    default:\n                        return 'toast://暂不支持';\n                        break;\n                } //switch的\n            }) //String的\n        }) //stringify的\n    },\n    xjParse: function() {\n        return $(\"hiker://empty#noRecordHistory#\").rule(() => {\n            var d = [];\n            eval(getItem('myFunction'));\n            d.push({\n                title: '保 存',\n                url: saveButton + \"saveButton(input);back();clearVar('input_add')\",\n                col_type: \"input\",\n                desc: \"输入正确格式内容\",\n                extra: {\n                    onChange: 'putVar(\"input_add\", input)',\n                    type: \"textarea\",\n                    height: \"-1\",\n                    titleVisible: false,\n                    defaultValue: getVar('input_add'),\n                }\n            });\n            d.push({\n                title: '‘‘’’<small><span style=\"color:#6EB897\">按描述诉格式输入, 请勿填入其他格式<br>本地口令: 操作类型★名称★代码<br>云口令: 链接★★★名称; 纯网址: 直链★url1★url2',\n                desc: '‘‘’’<big><big><span style=\"color:#298A08\">保 存',\n                url: $('noLoading').lazyRule((saveButton) => {\n                    return saveButton(getVar('input_add'));\n                }, saveButton),\n                col_type: 'text_center_1'\n            });\n            setResult(d);\n        })\n    },\n    ydParse: function(BJmode, i) {\n        return $('#noLoading#').lazyRule((k) => {\n            var A = k[0].split('#')[1];\n            var B = k[1];\n            var parseRoute = getVar('parseRoute');\n            eval('var json =' + fetch(parseRoute));\n            var item = json.title.splice(A, 1); // 1: 标记开始位置，2: 删除到哪个位置\n            json.title.splice(B, 0, item[0]); // 1: 同上，2: 0表示不删除，3: 添加对象\n            writeFile(parseRoute, $.stringify(json));\n            clearVar('bianji');\n            refreshPage(false);\n            return 'hiker://empty';\n        }, [BJmode, i])\n    },\n    plscParse: function() {\n        return $('hiker://empty#noRecordHistory#').rule(() => {\n            var d = [];\n            d.push({\n                title: '批量删除解析',\n                desc: 'auto&&float',\n                url: 'file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/cache/plscParse.html',\n                col_type: 'x5_webview_single'\n            })\n            setResult(d);\n        })\n    }\n};"},{"col_type":"movie_3","name":"调用路由","path":"Route","rule":"js:\nconst d = [];\nconst data = {};\n\nif (!getVar('jxOldV')) {\n    eval(JSON.parse(fetch(\"hiker://page/Parse_Dn.js\")).rule);\n}\n\ndata.oldConfig = \"hiker://files/cache/MyParseSet.json\";\ndata.cjRoute = \"hiker://files/cache/Parse_Dn.js\";\ndata.x5Route = \"file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/cache/Parse_Dn.html\";\n\ndata.jxLazy = \"eval('var config =' + fetch('\" + data.oldConfig + \"'));eval(fetch(config.cj));aytmParse(input)\";\n\ndata.szParse = \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\";\n\ndata.addLanJie = function(d) {\n    let lanjie = ['baidu.*.png', '.jpg', 'baidu.', 'cnzz.', 'dykj\\.'];\n    eval('var ylanjie =' + fetch('hiker://files/cache/x5ParseLanJie.txt'));\n    lanjie = typeof(ylanjie) == 'object' ? ylanjie : lanjie;\n    for (let i = 0; i < d.length; i++) {\n        let durl = d[i].url;\n        if (durl != undefined && /lazyRule/.test(durl) && /aytmParse|defaultParse/.test(durl)) {\n            d[i].extra = d[i].extra == undefined ? {} : d[i].extra;\n            d[i].extra.blockRules = lanjie;\n        }\n    }\n    setResult(d);\n}\ndata.x5Parse = function(Url) {\n    return $(Url).lazyRule(() => {\n        eval('var ParseS =' + fetch('hiker://files/rules/DuanNian/MyParse.json'));\n        return ParseS.codes.defaultParse(input);\n    })\n}\ndata.setParse = function() {\n    var d = [];\n    d.push({\n        desc: 'auto',\n        url: this.x5Route,\n        col_type: 'x5_webview_single'\n    });\n    var jxNewV = getVar('jxNewV', ''),\n        jxOldV = getVar('jxOldV');\n    var versionTips = jxNewV == '' ? '‘‘' : '‘‘' + jxNewV;\n    var pics = [\n        'https://tva1.sinaimg.cn/large/9bd9b167gy1fwri56wjhqj21hc0u0arr.jpg',\n        'https://cdn.seovx.com/img/seovx-20-10%20(92).jpg',\n        'https://cdn.seovx.com/img/mom2018%20(207).jpg',\n        'https://tva4.sinaimg.cn/large/9bd9b167gy1fwrh5xoltdj21hc0u0tax.jpg',\n        'https://tva1.sinaimg.cn/large/005BYqpggy1fwreyu4nl6j31hc0u0ahr.jpg',\n        'https://s3.bmp.ovh/imgs/2021/10/d7e60b990742093d.jpeg',\n        'https://s3.bmp.ovh/imgs/2021/10/91ad6d6538bf8689.jpg',\n        'https://tva1.sinaimg.cn/large/005BYqpggy1fwresl5pmlj31hc0xcwka.jpg',\n        'https://tva3.sinaimg.cn/large/005BYqpggy1fwrgjdk74oj31hc0u0dqn.jpg',\n        'https://cdn.seovx.com/img/mom2018%20(320).jpg',\n        'https://cdn.seovx.com/img/mom2018%20(803).jpg'\n    ];\n    d.push({\n        img: pics[Math.floor(Math.random() * 10)],\n        title: versionTips + '’’<small><span style=\"color:#6EB897\"><br>　　点击上方头像进入编辑<br>点此进入论坛帖子列表',\n        desc: '当前版本: ' + jxOldV,\n        url: 'https://haikuoshijie.cn/user/1958',\n        col_type: 'movie_1'\n    });\n    setResult(d);\n}\n\nswitch (getParam(\"type\")) {\n    case \"设置\":\n        data.setParse();\n        break;\n    case \"编辑\":\n        $.require(\"hiker://page/jxItem?rule=MyFieldᴰⁿ\").jxList();\n        setResult(d);\n        break;\n    default:\n        $.exports = data;\n        break;\n}"},{"col_type":"movie_3","name":"解析项主界面","path":"jxItem","rule":"var _0xod2='jsjiami.com.v6',_0x4690=[_0xod2,'fFLDs8O1Ig==','VwzCn8K/wo4=','w5DCqMOvJcK3','w7U5CsOV','w7TCtcOvN8KT','w7bDo8OuUiA=','Rm1Ow65u','MExUw6TCpA==','5a+W5Ya155iU6ZO5','DcK4KcKJw5wrDcOl','5a6B5Yao5YSI5ZSg','w4zCvMOGMsKgw7Y=','w4QEw4Qwfg==','FEDDnRk+','V8Kxf0ow','KzDDp8O+w5w=','DMKcwr/ChsKW','HMKXARXCpQ==','w609w78Gfw==','wrR/BcKOKDrDvR9+wp8vaFYCfsKMwpszBRTCoWrDsGExdsKCw6VWwpQn','WsKff8Kxwp4=','w6bCrMK0Gw==','Vyp1w4pJ','w7IGCsONHQ==','YMKrZHQy','TMKzB8Odw67Ck8KYOQ==','w43DjxZoM2peMcKEEg==','HFLDuTAJ','SsKAXUsa','TCTCg8KgwrM=','WsKhwqd3woo=','A1ZMw5fCtg==','wqHDkRrDn2nDtV/DnQ==','czNew4RNbBjDmA==','GHZqw6LCh8KUJghR','w4vDpU0q','IFM6wqQi','IcKRbQ==','by9cw40=','woZJwojChcKb','w5fDoC95Ig==','VDjCncKqwp8=','e8KbY8KAwpTDjF/Dt20f','w5fDuVAn','wqHDkQXDmw==','w43Dj8OpZz99w60Xw5fCqw==','N8KJYsKJw6DDssKq','Zixzw4xg','wq0Tw6LCjcK4CDYXwpjCqsOpQFI=','wrFQPRw=','4oKl4oKi4oKc4oCSUHzDthnCmeetvueQveikheadgw==','w5LCk8KXGxk=','MsOQw5jCqVo=','wqQDw5Yyw47CkwHCr1rCo3J8wqA=','EcOEw6XCo3k=','wpRofBnClGhm','U8KteE4=','KcOnw7jCiUBAw77CjMK9K2Bdw6Zvw53Dsx1fwo8gIsODw4TDgMOpw4HDmQfCiGnDhQFvX8Ky','U8KpTFY2','VMKgJMOZ','w63DlDsQw4M=','EjbDk8O7w4kFwrTCicOew5Q=','b8OHbsKEwqjDhlY=','GMKnBMKBw7E=','C8KIwqBADA==','w6zDg8OdwrNrw7TChiM=','wr3Dl8Kmw41cw4x6wpAfHg==','wpZASBTChA==','wr7DiMKGIsOW','Ww5pw7TDqg==','cXzCpm3Crw==','Z8KDSsKVwqg=','wo55XR4=','4oKs4oKB4oO84oGddlsdwqEd5pKK5Lyo5o2u5b++','w7hqwpjDjSg=','w5cjFcOJBw==','MCXDpcO6w6o=','wp55HsKqbg==','K8O8w6XClw==','QVJOw7Y=','4oGM4oCi4oGX4oORe2TDpBpxWMO/w7XCi8OWw5fDssKcO8OcwqPCmsOMGcOfVCXDpsO5w6Z/w5RK','T8KZbsKEwro=','AWXDvCk0Yz3Cpg==','aQTCgcKDwpE=','w6AfOMO7Fg==','w4/DtUY2AMO+V1HDtVbChzPCqg==','w6/CvcKqERg2w5Y=','w5DCuMOaJsKx','FcKkLsKAw61+RsKvRUobYWvCgBjCgmlfIBXCnlXDjHI=','ZMONAiLCisKMwr3CnCIMUcOsw4FpwpE=','CMOFw4XCvEQ=','QE1fw5Np','HmB0WsO3','w6HCrS99wq4=','asKOQmMi','J2x6w6rChA==','w6rCgS5OwpM=','w6kKwq7ChcOVF2IFw5nCs8KoY1U=','4oKC4oKU4oGP4oO5wqfDkB3Cp8KaSsOgwqHCsjHCuMKWw6sbwrTCiwjCtUPCgWF3TlgmwopNaSrDmAwYw6zmlrfCt+W4mMKu6KSJMeadhg==','FibDh8Ojw4UFwqPCjsOaw4VIw7fDvg==','w6bDjMOswrF0w7o=','56S25Yiew7c=','4oCB4oCP4oO34oC7w4fCogLChwA4AsK2A8KVB2DDgEXCvifDrcOCF8K4wobDrcKTN0jCnsOhWQ==','w4vDsUwxOsOPXUrDtVY=','w4DDrj7CqcOu','w7DDqcODZAM=','wo1awozCmMKe','bcO9wpTDoz0=','AcOvLcOSwp7Dug==','4oCB4oCP4oO34oC7w4fCsxvCgVAkAsKyG8KXQi7Cll/CvS7Cv8KSTsO0w5jCu8OZTFvCkMKGJUHCpcOfw6bCqOaXv1/lubB56KaGQ+afug==','SlnCo07CiA==','w7bDuCDCmcOB','RsKTwqJUwpw=','XsK1wpNz','w51oXsKdw6I=','wo/Do8KKP8K6','wqZawrDCssKR','56e45YuuCMKI','w53CkMKLJgc=','GyfDr8O2w6gVwqM=','w6cNw6MNbg==','w5nCigRR','CsKYwqfCtg==','TsOEwqXDhDw=','wqXDgQ7Dh3XCqA==','LFYdwq0rcsO3Dw==','wozDu8KPAMK3','wqkXw6jCisKCOTwMwpjCqg==','w4PCkB5X','w5TCkzVxwrA=','E8KjwrZ0Pg==','QcK2O8Ocw7M=','wqBOJDg4','cSNCw4RvYBk=','NcO2w7/CjQ==','SUzDk8OR','Q8OGImHCog==','C8KRwo5mFg==','wrgdw7DCtcKM','eHzChG7CkA==','w4ksw6cVZA==','wpEEw5bCjcKz','4oKj4oKI4oCn4oGbY8OuQl7DrxPChhjDosO+EcO8CsOGw60JU8OHwofDsMKmw4HCuCZXeGhy','w4cPLMOEPA==','AnVww68=','w6rDuSXCiA==','w6RCfE1x','wqjDm8KmIsKn','e3rDtcOAKQ==','w77CqsKJChgrw4vChA==','wqHDk8K6w5lNw7Y=','w6zDiMO3Wzw=','w57Ds1IvNw==','w5jDmcOpZgQ=','GMKSIjU=','5oye5o+15byY6L225Yau5p6n5pW75YST5a66','azJxw5PDnw==','WsK8wpVgwoDCsBcOwrvCtA==','w7NlUFZEMMOXMMO1IMOQFMOrYMO8ScOqwr/DgMOXcMOBAFFpwpU=','4oK14oCd4oO14oKRRE1FwobDjeaDoOWkpeaOnOS5hei1kOW8qOS7jum5teiuuw==','5b6K5Yi76Kyk576X5LudUXM=','wrHlr4jmlIDotq3lv5vCpxIQw7NGwpkJw6jCvTDCtEnDi8OMDF3Dm8KSwp7DrcKow6EVFCVkJsOQMH4=','wrVANgAMbD/DmsOiMjPDg8KZ','5a6o5YWf5YSD5ZSN','AW/DlykZOQ==','4oOI4oG+4oK34oGfwq3Ckg3CphDmkIvkvZzmjKTlvoQ=','w5LDrMKLJz5QG8Ko','4oGZ4oKL4oKV4oOgDxjCuMOEw6vmmr7mlrnohKzmnr/kvp3ot7g=','5LqW5o+X5Lia5a+Q5pWG6LeA5b6ow5vDk8KtSy/DkMOXw4nDm8O9fsKmGDM/w5vDrghfw69D576F6aCR6IWI5p235a2z5pe36LWF5b28OMKfwqB9MXBZRcKow5hxacORwqkDw5HCgcK8w5DCqcOdw7U=','5a6Z5pSb6Lah5b+waS91w4bDozskw6/Ch0NcTsKRVGDDocKsN8O6w7rClMODw7DCgsOUVMOqdTsj','5L6B55Sk55uW5YSF5Ym+6IOh6ZyD55qO5b6j6KaT55eL6K+j5Z6A6LSO5Yykw6Dlp4jmn4jplL/pobTliZ/lvJjorJLlnY3kuZTopLLor7fmgIw=','TVzDmMONHsOw','w4zCsMOGMMKLw7zDuyXDhsKP','w6NzYcKqw4g=','4oCK4oK04oGp4oCbw47Cm8KbwoE4FlPDr8OfKcODfcKJ55mk5b+G5o2p56WD','QsKkwpR3wprDpHRIwr3CvsKrw759AsOkwqdZwrTDjQR7FHMRZgEXwonCnibDqcK4SMOReA==','w4dLwqfDqgw=','w7U7L8O4LA==','w7XDicOMeRU=','wrFhKTId','VXZVw5dR','w4TDuMKXNy9rG8KzVyI=','zANjsyjTiamBPi.cIToYm.vt6pCQJMD=='];(function(_0x36e342,_0x5e84cc,_0x2e1b72){var _0xaa5c8=function(_0x7befac,_0x1852f9,_0x42cd58,_0x32bee9,_0x45146b){_0x1852f9=_0x1852f9>>0x8,_0x45146b='po';var _0x55f00e='shift',_0x248978='push';if(_0x1852f9<_0x7befac){while(--_0x7befac){_0x32bee9=_0x36e342[_0x55f00e]();if(_0x1852f9===_0x7befac){_0x1852f9=_0x32bee9;_0x42cd58=_0x36e342[_0x45146b+'p']();}else if(_0x1852f9&&_0x42cd58['replace'](/[zANyTBPITYtpCQJMD=]/g,'')===_0x1852f9){_0x36e342[_0x248978](_0x32bee9);}}_0x36e342[_0x248978](_0x36e342[_0x55f00e]());}return 0xb1166;};return _0xaa5c8(++_0x5e84cc,_0x2e1b72)>>_0x5e84cc^_0x2e1b72;}(_0x4690,0x10d,0x10d00));var _0x3377=function(_0xecd6c7,_0xe8cee3){_0xecd6c7=~~'0x'['concat'](_0xecd6c7);var _0x42bec6=_0x4690[_0xecd6c7];if(_0x3377['DhdldK']===undefined){(function(){var _0x268b84=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x996d83='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x268b84['atob']||(_0x268b84['atob']=function(_0x296b9a){var _0xf6c336=String(_0x296b9a)['replace'](/=+$/,'');for(var _0x419430=0x0,_0x2d2748,_0x69bfd5,_0xae6930=0x0,_0x1746db='';_0x69bfd5=_0xf6c336['charAt'](_0xae6930++);~_0x69bfd5&&(_0x2d2748=_0x419430%0x4?_0x2d2748*0x40+_0x69bfd5:_0x69bfd5,_0x419430++%0x4)?_0x1746db+=String['fromCharCode'](0xff&_0x2d2748>>(-0x2*_0x419430&0x6)):0x0){_0x69bfd5=_0x996d83['indexOf'](_0x69bfd5);}return _0x1746db;});}());var _0x17bc47=function(_0x3bfce0,_0xe8cee3){var _0x25df27=[],_0x376033=0x0,_0x3f5d68,_0x2344c5='',_0xb8c681='';_0x3bfce0=atob(_0x3bfce0);for(var _0x1bb9cf=0x0,_0x1472de=_0x3bfce0['length'];_0x1bb9cf<_0x1472de;_0x1bb9cf++){_0xb8c681+='%'+('00'+_0x3bfce0['charCodeAt'](_0x1bb9cf)['toString'](0x10))['slice'](-0x2);}_0x3bfce0=decodeURIComponent(_0xb8c681);for(var _0x5e4adb=0x0;_0x5e4adb<0x100;_0x5e4adb++){_0x25df27[_0x5e4adb]=_0x5e4adb;}for(_0x5e4adb=0x0;_0x5e4adb<0x100;_0x5e4adb++){_0x376033=(_0x376033+_0x25df27[_0x5e4adb]+_0xe8cee3['charCodeAt'](_0x5e4adb%_0xe8cee3['length']))%0x100;_0x3f5d68=_0x25df27[_0x5e4adb];_0x25df27[_0x5e4adb]=_0x25df27[_0x376033];_0x25df27[_0x376033]=_0x3f5d68;}_0x5e4adb=0x0;_0x376033=0x0;for(var _0x3bce01=0x0;_0x3bce01<_0x3bfce0['length'];_0x3bce01++){_0x5e4adb=(_0x5e4adb+0x1)%0x100;_0x376033=(_0x376033+_0x25df27[_0x5e4adb])%0x100;_0x3f5d68=_0x25df27[_0x5e4adb];_0x25df27[_0x5e4adb]=_0x25df27[_0x376033];_0x25df27[_0x376033]=_0x3f5d68;_0x2344c5+=String['fromCharCode'](_0x3bfce0['charCodeAt'](_0x3bce01)^_0x25df27[(_0x25df27[_0x5e4adb]+_0x25df27[_0x376033])%0x100]);}return _0x2344c5;};_0x3377['CwmfcL']=_0x17bc47;_0x3377['jyWfmx']={};_0x3377['DhdldK']=!![];}var _0x1fe9d5=_0x3377['jyWfmx'][_0xecd6c7];if(_0x1fe9d5===undefined){if(_0x3377['clNxPA']===undefined){_0x3377['clNxPA']=!![];}_0x42bec6=_0x3377['CwmfcL'](_0x42bec6,_0xe8cee3);_0x3377['jyWfmx'][_0xecd6c7]=_0x42bec6;}else{_0x42bec6=_0x1fe9d5;}return _0x42bec6;};eval(JSON[_0x3377('0','G3qQ')](fetch(_0x3377('1','DUO(')))['rule']);function bbsYZ(){var _0xba84bc={'IVIEw':'jdRoute','qjbMN':function(_0x283a74,_0x1ccf97,_0x44c511){return _0x283a74(_0x1ccf97,_0x44c511);},'PjHfp':'bbsYZ','RHBBQ':function(_0x337338){return _0x337338();},'dDibZ':_0x3377('2','O6Iy'),'OvckS':function(_0x40fbea,_0x2a5c42){return _0x40fbea(_0x2a5c42);}};if(!getVar(_0xba84bc[_0x3377('3','&HYL')])){_0xba84bc[_0x3377('4','4x[P')](putVar,_0xba84bc[_0x3377('5','d6$D')],_0xba84bc[_0x3377('6','2fiL')](isLogin));putVar(_0xba84bc[_0x3377('7','SK(D')],_0xba84bc['dDibZ']);}return _0xba84bc[_0x3377('8','d(y^')](getVar,_0xba84bc['PjHfp']);}function splitLine(_0x21e87a,_0xa9be76){var _0x2a07af={'YdCql':function(_0x47692c,_0x13124f){return _0x47692c<_0x13124f;}};for(let _0x3a676d=0x0;_0x2a07af[_0x3377('9','2fiL')](_0x3a676d,_0xa9be76);_0x3a676d++){d['push']({'col_type':_0x21e87a});}}var jxItem={'jxList':function(){var _0x3ee766={'lyJSa':_0x3377('a','e*8L'),'gvXNO':_0x3377('b','OMce'),'SNMls':_0x3377('c','Q^1*'),'hZQDQ':function(_0xaf9541,_0x5def8c){return _0xaf9541(_0x5def8c);},'eclmh':_0x3377('d','YoF9'),'akjLk':function(_0x4c331c,_0x2cffc3){return _0x4c331c+_0x2cffc3;},'QjRcP':function(_0x12bce3,_0x120108){return _0x12bce3==_0x120108;},'phiVy':_0x3377('e','PSIM'),'lbQab':'‘‘’’<small><span\\x20style=\\x22color:#FE9A2E\\x22>','HrLtT':'移动:\\x20','AcaRp':function(_0x57ce88,_0x258c04){return _0x57ce88+_0x258c04;},'BCUyh':'text_2','gRXMT':function(_0x4feb49,_0x1e2dc9){return _0x4feb49+_0x1e2dc9;},'WPEKd':_0x3377('f','s&lK'),'QrrPP':function(_0x194b6d,_0x1b3b26){return _0x194b6d(_0x1b3b26);},'GbmKm':_0x3377('10','Bd^Z'),'QATIk':function(_0x289eab,_0x59ea0e){return _0x289eab(_0x59ea0e);},'ffXCg':function(_0x32ae58,_0x449eac){return _0x32ae58!==_0x449eac;},'Wbeei':_0x3377('11','OMce'),'ltvyZ':_0x3377('12','bm6L'),'lCBSu':function(_0x3e7ecf,_0x9a4219){return _0x3e7ecf+_0x9a4219;},'OpfmU':function(_0x5e340a,_0xdbe45d){return _0x5e340a==_0xdbe45d;},'QzJcn':function(_0x5888ec,_0xee5e8e){return _0x5888ec+_0xee5e8e;},'WUQXm':function(_0x4461a5,_0x43a5ae){return _0x4461a5+_0x43a5ae;}};var _0x43fda6=getVar(_0x3ee766[_0x3377('13','!]tS')]);var _0x5a4dea=parseFile[_0x3377('14','nZwJ')];var _0x505697=_0x3ee766['QATIk'](getVar,_0x3377('15','mLX%'));d['push']({'title':_0x3377('16','s&lK'),'url':bjItem['xjParse'](),'col_type':_0x3ee766[_0x3377('17','s&lK')]});var _0x224eb4=_0x5a4dea['length'];for(var _0x174bc0=0x0;_0x174bc0<_0x224eb4;_0x174bc0++){if(_0x3ee766['ffXCg'](_0x3ee766['Wbeei'],_0x3ee766[_0x3377('18','OMce')])){var _0x210b58=_0x5a4dea[_0x174bc0];var _0x34e4f2=_0x3ee766[_0x3377('19','W4EV')](_0x210b58,'')['replace'](/http.*\\/\\//g,'');if(/移动/[_0x3377('1a','W4EV')](_0x505697)){d['push']({'title':_0x3ee766['OpfmU'](_0x3ee766[_0x3377('1b','9F@B')](_0x3ee766[_0x3377('1c','1KGf')],_0x174bc0),_0x505697)?_0x3ee766['QzJcn'](_0x3ee766[_0x3377('1d','!]tS')],_0x3377('1e','grzs'))+_0x34e4f2:_0x3ee766[_0x3377('1f','ibF7')](_0x3ee766['WPEKd'],_0x34e4f2),'url':bjItem[_0x3377('20','Q^1*')](_0x505697,_0x174bc0),'col_type':_0x3ee766[_0x3377('21','XfcG')]});}else{var _0x4a64bf=[_0x210b58,_0x3ee766['WUQXm'](_0x174bc0,'||')][_0x3377('22','2fiL')]('||');d[_0x3377('23','5Kkw')]({'title':_0x3ee766[_0x3377('24','nZwJ')]+_0x34e4f2,'col_type':_0x3377('25','r^JY'),'url':bjItem[_0x3377('26','8ilb')](_0x4a64bf,_0x224eb4['toString']())});}}else{var _0x32766d=_0x3ee766['lyJSa'][_0x3377('27','1KGf')]('|'),_0x19d9f5=0x0;while(!![]){switch(_0x32766d[_0x19d9f5++]){case'0':var _0x38cf84=getVar(_0x3377('28','e*8L'));continue;case'1':d[_0x3377('29','2fiL')]({'title':_0x3ee766[_0x3377('2a','2fiL')],'url':bjItem['xjParse'](),'col_type':_0x3ee766['SNMls']});continue;case'2':var _0x50d754=_0x3ee766[_0x3377('2b','p3Hs')](getVar,_0x3ee766[_0x3377('2c','*yTj')]);continue;case'3':for(var _0x5d401e=0x0;_0x5d401e<_0x14af53;_0x5d401e++){var _0x2f8efd=_0x1d3c16[_0x5d401e];var _0x182628=_0x3ee766[_0x3377('2d',')&Jp')](_0x2f8efd,'')[_0x3377('2e','grzs')](/http.*\\/\\//g,'');if(/移动/[_0x3377('2f','&HYL')](_0x50d754)){d[_0x3377('30','[&2K')]({'title':_0x3ee766[_0x3377('31','O6Iy')](_0x3ee766['akjLk'](_0x3ee766[_0x3377('32','p3Hs')],_0x5d401e),_0x50d754)?_0x3ee766[_0x3377('33','e*8L')](_0x3ee766[_0x3377('34','s&lK')](_0x3ee766[_0x3377('35','XfcG')],_0x3ee766[_0x3377('36','e*8L')]),_0x182628):_0x3ee766['AcaRp'](_0x3377('37','Bd^Z'),_0x182628),'url':bjItem['ydParse'](_0x50d754,_0x5d401e),'col_type':_0x3ee766[_0x3377('38','8Mwb')]});}else{var _0x5d7845=[_0x2f8efd,_0x3ee766['gRXMT'](_0x5d401e,'||')][_0x3377('39','d(y^')]('||');d[_0x3377('3a','OMce')]({'title':_0x3ee766[_0x3377('3b','4q!N')](_0x3ee766[_0x3377('3c','1KGf')],_0x182628),'col_type':_0x3ee766[_0x3377('3d','[&2K')],'url':bjItem['xlSelect'](_0x5d7845,_0x14af53[_0x3377('3e','ibF7')]())});}}continue;case'4':var _0x1d3c16=parseFile['title'];continue;case'5':var _0x14af53=_0x1d3c16[_0x3377('3f','PSIM')];continue;case'6':_0x3ee766[_0x3377('40','bm6L')](clearVar,_0x3ee766[_0x3377('41','Bd^Z')]);continue;}break;}}}clearVar(_0x3ee766[_0x3377('42','bm6L')]);},'lqFile':function(){var _0x1a6862={'vqkXT':function(_0x1bb3fc,_0x348f70){return _0x1bb3fc==_0x348f70;},'pwVEx':function(_0x38e311){return _0x38e311();},'HsIry':_0x3377('43','!&rB'),'MmrTU':function(_0x27dc3b,_0x2b01d4,_0x46e842){return _0x27dc3b(_0x2b01d4,_0x46e842);},'XVMes':'hiker://page/Route?type=编辑#noRecordHistory#','TlGbG':_0x3377('44','$&QA'),'vejTG':_0x3377('45','$oSm'),'wJspI':_0x3377('46','W4EV'),'CsoRg':_0x3377('47','4q!N'),'PCesw':function(_0x29dcd3,_0x35bc57){return _0x29dcd3+_0x35bc57;},'PEvHX':_0x3377('48','KYM)'),'iXVmO':function(_0x40eef9,_0x5aac1c){return _0x40eef9+_0x5aac1c;},'YRhRA':_0x3377('49','e*8L'),'hkHOT':_0x3377('4a','Bd^Z'),'pqGpc':_0x3377('4b',')&Jp'),'kLUVa':'导入直链','EEaDw':_0x3377('4c','8ilb'),'TPlOr':'批量删除','IsXiF':_0x3377('4d','Sm37'),'LqiVh':_0x3377('4e','zjj9'),'jNKbt':function(_0x5ca907,_0x46cc4f){return _0x5ca907==_0x46cc4f;},'RoltS':_0x3377('4f','R%Ux'),'OVawf':_0x3377('50','&HYL'),'ejAdn':_0x3377('51','KYM)'),'sCTPi':_0x3377('52',')&Jp'),'PWiZJ':function(_0x14c1bf,_0x2f607e){return _0x14c1bf(_0x2f607e);},'MKJlv':_0x3377('53','aAjy'),'Xkcaq':_0x3377('54','[&2K'),'pDgFN':function(_0x3588be,_0xad2ef8){return _0x3588be(_0xad2ef8);},'dQhIv':function(_0x500ea3,_0x3d206f){return _0x500ea3+_0x3d206f;},'EkSLc':'‘‘’’<big>管理解析','KYkYL':function(_0x51200a,_0x54c8f1){return _0x51200a(_0x54c8f1);},'RJfmY':function(_0x5eb3e4,_0x114dcb){return _0x5eb3e4<_0x114dcb;},'aJrDx':'iQSYk','hLfbe':function(_0x2e7aa7,_0x3501d8){return _0x2e7aa7+_0x3501d8;},'dnSnE':function(_0x5c39ef,_0x3c3451){return _0x5c39ef+_0x3c3451;},'tyWOe':_0x3377('55','G3qQ'),'UotEP':function(_0x57273f,_0x3403f7){return _0x57273f==_0x3403f7;},'RfZmp':function(_0x5d92ad){return _0x5d92ad();},'ThjcV':function(_0x2917bb,_0x2d1984){return _0x2917bb!==_0x2d1984;},'WmNcc':_0x3377('56','9F@B'),'WKTrs':_0x3377('57','O6Iy'),'eSAFB':_0x3377('58','W4EV')};if(_0x1a6862[_0x3377('59','KYM)')](_0x1a6862[_0x3377('5a','8Mwb')](bbsYZ),_0x1a6862[_0x3377('5b','bm6L')])){_0x1a6862['PWiZJ'](eval,_0x1a6862[_0x3377('5c',')&Jp')](getVar,'jdRoute'));xdRoute=_0x1a6862[_0x3377('5d','4x[P')](xdRoute,_mySet[_0x3377('5e','R%Ux')]);splitLine('line',0x5);d['push']({'title':_0x1a6862[_0x3377('5f','[&2K')],'url':_0x1a6862['XVMes'],'desc':_0x1a6862[_0x3377('60','gm!h')],'col_type':_0x1a6862[_0x3377('61','G3qQ')]});d[_0x3377('62','8Mwb')]({'desc':_0x1a6862[_0x3377('63','G3qQ')],'col_type':_0x1a6862['vejTG'],'extra':{'titleVisible':![],'defaultValue':_0x1a6862[_0x3377('64','bm6L')](getVar,_0x1a6862[_0x3377('65','4x[P')]),'onChange':_0x1a6862['CsoRg']}});var _0x4fae6f=_0x1a6862[_0x3377('66','d(y^')];var _0x1e9d3c=[{'title':_0x3377('67','W4EV'),'url':bjItem[_0x3377('68','DUO(')]('直链')},{'title':_0x3377('69','DUO('),'url':bjItem['pullCode']('免嗅')},{'title':_0x1a6862['TPlOr'],'url':bjItem['plscParse']()}];for(var _0x5a89f4=0x0;_0x1a6862['RJfmY'](_0x5a89f4,_0x1e9d3c[_0x3377('6a','G3qQ')]);_0x5a89f4++){if(_0x1a6862[_0x3377('6b','XfcG')]===_0x1a6862[_0x3377('6c','Sm37')]){d[_0x3377('30','[&2K')]({'title':_0x1e9d3c[_0x5a89f4][_0x3377('6d','SK(D')],'url':_0x1e9d3c[_0x5a89f4]['url'],'col_type':_0x1a6862[_0x3377('6e','Q^1*')]});}else{if(_0x1a6862[_0x3377('6f','5Kkw')](_0x1a6862[_0x3377('70','!&rB')](bbsYZ),_0x1a6862[_0x3377('71','XfcG')])){var _0x1ce321=_0x3377('72','8Mwb')['split']('|'),_0x5d9eee=0x0;while(!![]){switch(_0x1ce321[_0x5d9eee++]){case'0':_0x1a6862[_0x3377('73','$&QA')](splitLine,_0x3377('74','ibF7'),0x5);continue;case'1':var _0x7b4c17=_0x1a6862['XVMes'];continue;case'2':d['push']({'desc':_0x1a6862[_0x3377('75','grzs')],'col_type':_0x1a6862['vejTG'],'extra':{'titleVisible':![],'defaultValue':getVar(_0x1a6862[_0x3377('76','8Mwb')]),'onChange':_0x1a6862[_0x3377('77','SK(D')]}});continue;case'3':xdRoute=_0x1a6862['PCesw'](xdRoute,_mySet['parseRoute']);continue;case'4':d['push']({'title':_0x1a6862['PEvHX'],'url':bjItem[_0x3377('78','*yTj')](_mySet[_0x3377('79','@f)p')]),'desc':_0x1a6862[_0x3377('7a','Sm37')](_0x1a6862[_0x3377('7b','SK(D')](_0x1a6862['YRhRA'],mySet['cj']),_0x1a6862[_0x3377('7c','gm!h')]),'col_type':_0x1a6862[_0x3377('7d','W4EV')]});continue;case'5':var _0x3fd747=[{'title':_0x1a6862[_0x3377('7e','d(y^')],'url':bjItem[_0x3377('7f','r^JY')]('直链')},{'title':_0x1a6862['EEaDw'],'url':bjItem[_0x3377('80','grzs')]('免嗅')},{'title':_0x1a6862['TPlOr'],'url':bjItem[_0x3377('81','d(y^')]()}];continue;case'6':for(var _0x4c9653=0x0;_0x4c9653<_0x3fd747[_0x3377('3f','PSIM')];_0x4c9653++){d[_0x3377('82','Bd^Z')]({'title':_0x3fd747[_0x4c9653][_0x3377('83','8ilb')],'url':_0x3fd747[_0x4c9653][_0x3377('84','Nu[J')],'col_type':_0x1a6862['IsXiF']});}continue;case'7':splitLine(_0x3377('85','grzs'),0x2);continue;case'8':d['push']({'title':_0x1a6862[_0x3377('86','!]tS')],'url':_0x1a6862[_0x3377('87','@f)p')](typeof czGuide,_0x1a6862['RoltS'])?_0x1a6862[_0x3377('88','gm!h')](czGuide):'','col_type':_0x1a6862['pqGpc']});continue;case'9':splitLine(_0x3377('89','$&QA'),0x1);continue;case'10':splitLine(_0x3377('8a','Bd^Z'),0x1);continue;case'11':d[_0x3377('8b','r^JY')]({'title':_0x1a6862['OVawf'],'url':bjItem[_0x3377('8c','bm6L')](_mySet[_0x3377('8d','Nu[J')],_mySet['x5cache']),'desc':_0x1a6862[_0x3377('8e','grzs')],'col_type':_0x3377('8f','e*8L')});continue;case'12':d[_0x3377('90',')&Jp')]({'title':_0x3377('91','bm6L'),'url':_0x1a6862[_0x3377('92','ibF7')],'desc':_0x1a6862[_0x3377('93','&HYL')],'col_type':_0x3377('94','zjj9')});continue;case'13':eval(_0x1a6862[_0x3377('95','&HYL')](getVar,_0x3377('96','aAjy')));continue;}break;}}else{d[_0x3377('97','SK(D')]({'title':'‘‘’’<strong><big>登录提示','desc':_0x1a6862['MKJlv'],'url':_0x3377('98','&HYL'),'col_type':_0x1a6862[_0x3377('99','SK(D')]});}}}splitLine('line',0x2);d[_0x3377('9a','*yTj')]({'title':_0x1a6862[_0x3377('9b','#O1s')],'url':bjItem[_0x3377('9c','Q^1*')](_mySet['cjcache'],_mySet[_0x3377('9d','$&QA')]),'desc':_0x1a6862[_0x3377('9e','DUO(')],'col_type':_0x1a6862[_0x3377('9f','p3Hs')]});splitLine('line',0x1);d['push']({'title':_0x1a6862['PEvHX'],'url':bjItem[_0x3377('a0','YoF9')](_mySet[_0x3377('a1','PSIM')]),'desc':_0x1a6862[_0x3377('a2','aAjy')](_0x1a6862[_0x3377('a3','p]GH')](_0x1a6862[_0x3377('a4','$oSm')],mySet['cj']),_0x1a6862[_0x3377('a5','s&lK')]),'col_type':_0x1a6862[_0x3377('a6','$&QA')]});splitLine(_0x1a6862['tyWOe'],0x1);d[_0x3377('a7','aAjy')]({'title':_0x3377('a8','R%Ux'),'url':_0x1a6862[_0x3377('a9','KYM)')](typeof czGuide,_0x1a6862[_0x3377('aa','8Mwb')])?_0x1a6862[_0x3377('ab','Q^1*')](czGuide):'','col_type':'text_center_1'});}else{if(_0x1a6862['ThjcV'](_0x1a6862['WmNcc'],_0x1a6862[_0x3377('ac','xoZT')])){var _0x1ac1e2=[editDX,_0x1a6862['iXVmO'](_0x5a89f4,'||')][_0x3377('ad','&HYL')]('||');d[_0x3377('ae','4x[P')]({'title':_0x3377('af','8ilb')+xsList,'col_type':_0x1a6862[_0x3377('b0','$&QA')],'url':bjItem['xlSelect'](_0x1ac1e2,lbLength[_0x3377('b1','Sm37')]())});}else{d[_0x3377('62','8Mwb')]({'title':_0x1a6862['WKTrs'],'desc':_0x1a6862[_0x3377('b2','gm!h')],'url':_0x1a6862[_0x3377('b3','8Mwb')],'col_type':_0x3377('b4','Bd^Z')});}}}};$[_0x3377('b5','ibF7')]=jxItem;;_0xod2='jsjiami.com.v6';"}],"title":"MyFieldᴰⁿ","author":"断念","version":5,"url":"hiker://empty","col_type":"text_center_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nthis.d = [];\n\nconst jxItem = $.require(\"hiker://page/jxItem\"),\n    Route = $.require(\"hiker://page/Route\");\n\naddListener('onRefresh', $.toString(() => {\n    switch (getVar('kqjxcs', '0')) {\n        case '0':\n            putVar('kqjxcs', 1);\n            break;\n        case '1':\n            putVar('kqjxcs', 2);\n            break;\n        default:\n            putVar('kqjxcs', 0);\n            break;\n    }\n}));\n\nif (getVar('kqjxcs') == 2) {\n    d.push({\n        title: '‘‘’’<span style=\"color:#FACC2E\">解析测试',\n        url: $().lazyRule(() => {\n            var vipUrl = getVar('pluginLink');\n            if (vipUrl.substr(0, 4) == 'http') {\n                eval('var Config =' + fetch(getVar('oldConfig')));\n                eval(fetch(Config.cj));\n                return aytmParse(vipUrl);\n            } else {\n                return 'toast://输入框未填Url或者无效Url';\n            }\n        }),\n        col_type: 'text_center_1',\n    });\n}\n\nvar jxNewV = getVar('jxNewV', ''),\n    jxOldV = getVar('jxOldV');\nvar versionTips = jxNewV == '' ? 'Version ' + jxOldV : '‘‘' + jxNewV + '\\n先更新小程序然后点击更新脚本依赖’’';\nd.push({\n    title: '‘‘’’<big><big><span style=\"color:#0C0000\">MyParseS',\n    desc: versionTips,\n    url: !getVar('kqjxcs') ? 'toast://这是标题' : Route.szParse,\n    extra: {\n        newWindow: true,\n        lineVisible: false\n    },\n    col_type: 'text_center_1'\n});\n\nfunction czGuide() {\n    return \"https://docs.qq.com/doc/DVXNGVGdLREFPY3Zz\"\n}\n\njxItem.lqFile();\n\nRoute.addLanJie(d);","searchFind":"","search_url":"","group":"①推荐","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"Parse_Dn.html\",\"path\":\"Parse_Dn.html\",\"rule\":\"<!DOCTYPE html>\\n<html>\\n<head>\\n    <meta charset=\\\"utf-8\\\">\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\\\" />\\n    <script src=\\\"https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.min.js\\\"></script>\\n    <script src=\\\"https://code.jquery.com/jquery-2.1.4.min.js\\\"></script>\\n    <!--\\n    <script src=\\\"http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js\\\"></script>\\n    <script src=\\\"http://apps.bdimg.com/libs/vue/1.0.14/vue.js\\\"></script>\\n    -->\\n    <title>Parse_Dn</title>\\n    <style type=text/css>\\n        html, body {\\n            height: auto;\\n            overflow: hidden;\\n        }\\n        body {\\n            margin: 0 5px 0 5px;\\n            padding: 0 0px 0 0px;\\n            //background: #F9F0DA;\\n            font-weight: 0;\\n            font-family: \\\"Microsoft YaHei\\\",\\\"宋体\\\",\\\"Segoe UI\\\", \\\"Lucida Grande\\\", Helvetica, Arial,sans-serif, FreeSans, Arimo;\\n        }\\n        #div2{\\n           margin-top:35px;\\n        }\\n        /*输入框父元素*/\\n        div.box {\\n            height: 53px;\\n            line-height: 20px;\\n            position: relative;\\n        }\\n        /*输入框尺寸*/\\n        form {\\n            background: transparent;\\n            position: relative;\\n            width: 92%;\\n        }\\n        input, label, .lieb button {\\n            border: none;\\n            outline: none;\\n        }\\n        /*字体位置*/\\n        input {\\n            width: 77%;\\n            height: 32px;\\n            padding-left: 66px;\\n            padding-right: 30px;\\n        }\\n        label {\\n            text-align:center;\\n            line-height: 43px;\\n            height: 40px;\\n            width: 60px;\\n            cursor: pointer;\\n            position: absolute;\\n        }\\n        /*小框*/\\n        .bar label {\\n            background: #D06B6C;\\n            border-radius: 555 555px 555px 555;\\n            width: 60px;\\n            font-size: 13px;\\n            color: #F9F0DA;\\n            top: 0;\\n            left: 3px;\\n        }\\n        /*输入框样式*/\\n        .bar input {\\n            background: #F9F0DA;\\n            border: 3px solid #D06B6C;\\n            border-radius: 4px;\\n        }\\n        /*列表*/\\n        .lieb button {\\n            text-align:center;\\n            line-height:40px;\\n            height: 40px;\\n            width: 27px;\\n            cursor: pointer;\\n            position: absolute;\\n        }\\n        /*列表*/\\n        .lieb button{\\n            border-radius: 4px;\\n            background: #D06B6C;\\n            font-size: 13px;\\n            color: #F9F0DA;\\n            top: 0;\\n            right: 0px;\\n        }\\n        /*头像*/\\n        .round_icon{\\n            width: 40px;\\n            height: 40px;\\n            display: flex;\\n            border-radius: 50%;\\n            align-items: center;\\n            justify-content: center;\\n            overflow: hidden;\\n        }\\n\\n        .jx-ul, .cj-ul {\\n            z-index: 999;\\n            position: fixed;\\n            width: 77%;\\n           // left: 10%;\\n        }\\n        .jx-ul, .cj-ul {\\n            display: none;\\n        }\\n        .jx-ul {\\n            top: 2%;\\n        }\\n        .cj-ul {\\n            top: 30%;\\n        }\\n        li {\\n            height: 35px;\\n            border: 1px solid #01bfda;\\n            border-radius: 6px;\\n            background: rgba(0, 0, 0, 0.8);\\n            color: white;\\n            line-height: 35px;\\n            text-align: center;\\n            font-size: 16px;\\n            white-space: nowrap;\\n            overflow: hidden;\\n            text-overflow: ellipsis;\\n        }\\n        li {\\n            list-style: none;\\n        }\\n        li:hover {\\n            cursor: pointer;\\n            background: rgba(139, 131, 120, 0.9);\\n        }\\n        li[check=\\\"true\\\"] {\\n            background: rgba(139, 0, 0, 0.9);\\n        }\\n\\n    </style>\\n</head>\\n\\n<body>\\n    <div class=\\\"fung\\\">\\n        <a style=\\\"float:left;\\\">\\n            <button  style=\\\"border: none;border-radius:10px;background: #c5464a;width: 80px; font-size: 18px;color: #F9F0DA;\\\" onclick=\\\"cancel();\\\">关 闭</button>\\n        </a>\\n        <a style=\\\"float:right\\\">\\n            <button style=\\\"border: none;border-radius:10px;background: #068006;width: 80px; font-size: 18px;color: #F9F0DA;\\\"onclick=\\\"clickme('配 置 已 保 存 ！', 1000, '开');\\\">保 存</button> \\n        </a>\\n    </div>\\n    <br>\\n    <div id=\\\"div2\\\"></div>\\n    <div>\\n        <a style=\\\"float:left;margin-top:5px;\\\" onclick=\\\"openDnPage()\\\">\\n            <img src=\\\"https://s3.ax1x.com/2021/02/22/y7wb9O.jpg\\\" class=\\\"round_icon\\\"  alt=\\\"\\\">\\n        </a>\\n        <span style=\\\"line-height:60px;font-size:18px;color: grey;\\\">&nbsp;&nbsp;断&nbsp;念</span>\\n        <a style=\\\"float:right;margin-top:5px;\\\">\\n            <button  style=\\\"border: none;border-radius:10px;background: #05BFC5;width: 185px;height:40px; font-size: 18px;color: #F9F0DA;\\\" onclick=\\\"clickme('配 置 已 保 存 ！', 1000, '关');\\\">保存设置并关闭界面</button>\\n        </a>\\n    </div>\\n    <div class=\\\"zj-div\\\">\\n        <ul class=\\\"jx-ul\\\" style=\\\"height:444px;overflow-y:auto;\\\">\\n            <li class=\\\"myChoice\\\" style=\\\"z-index:9999;position: fixed;width:76.5%;color:red;\\\"></li>\\n            <li class=\\\"useless\\\"></li>\\n            <li class=\\\"xlList\\\" v-for=\\\"item in jxData\\\">{{item}}</li>\\n        </ul>\\n        <ul class=\\\"cj-ul\\\">\\n            <li style=\\\"background:grey;\\\">请选择插件</li>\\n            <li v-for=\\\"item in cjData\\\">{{item}}</li>\\n        </ul>\\n    </div>\\n</body>\\n<script>\\n    var settings = {\\n        qy: 'yun1717',\\n        yk: 'yun1717',\\n        tx: 'yun1717',\\n        mg: 'yun1717',\\n        bl: 'yun1717',\\n        oth: 'yun1717',\\n        qju: '',\\n        cj: 'hiker://files/cache/Parse_Dn.js'\\n    };\\n    eval(fy_bridge_app.getInternalJs());\\n    \\n    var oldRoute = \\\"hiker://files/cache/MyParseSet.json\\\";\\n    var mySet = fy_bridge_app.fetch(oldRoute);\\n    \\n    var newRoute = \\\"hiker://files/rules/DuanNian/MyParse.json\\\";\\n    var newConfig = fy_bridge_app.fetch(newRoute);\\n    var mySelect = [];\\n    if(newConfig != \\\"\\\"){\\n        eval(\\\"newConfig =\\\" + newConfig + \\\";\\\");\\n        settings = newConfig.settings;\\n        var ycTitle = ['defaultParse', 'maoss', 'CityIP', 'cacheM3u8', 'pcUA', 'parseLc', 'gparse', 'nparse'];\\n        for(var i = 0; i < newConfig.title.length; i++){\\n            var Titles = newConfig.title[i];\\n            if(ycTitle.includes(Titles) == false){\\n                mySelect.push(Titles);\\n            }\\n        }\\n    }\\n    var sfRefresh = settings.cj;\\n    function Did(id){\\n        return document.getElementById(id);\\n    }\\n    \\n    if(mySet == ''){\\n        Did(\\\"div2\\\").insertAdjacentHTML('afterBegin','\\\\\\n<h4>提示：<br>①注意插件选项，没有手动导入插件的话不用动它。如设置不当会导致规则无法使用，<br>解决办法：视界打开更多设置→文件管理→点cache→长按MyParseSet.json删除掉；<br>②全局设置如果选择了非默认那么全部的解析会使用这一设置，不想这样的话请填入默认；<br>③绿色保存按钮仅仅保存配置不会关闭设置页面，配置后想保存并关闭设置页面的话请点蓝色按钮；<br>④阅读完提示点关闭加载完整设置页面，如出问题无法自行解决点图片进入论坛向我反馈。<br></h4>');\\n    }\\n    \\n    var boxData = [\\n        {\\n            title: \\\"奇 奇\\\",\\n            id: \\\"qy\\\",\\n            value: settings.qy,\\n        }, {\\n            title: \\\"酷 酷\\\",\\n            id: \\\"yk\\\",\\n            value: settings.yk,\\n        }, {\\n            title: \\\"腾 腾\\\",\\n            id: \\\"tx\\\",\\n            value: settings.tx,\\n        }, {\\n            title: \\\"果 果\\\",\\n            id: \\\"mg\\\",\\n            value: settings.mg,\\n        }, {\\n            title: \\\"哩 哩\\\",\\n            id: \\\"bl\\\",\\n            value: settings.bl,\\n        }, {\\n            title: \\\"其 他\\\",\\n            id: \\\"oth\\\",\\n            value: settings.oth,\\n        }, {\\n            title: \\\"全 局\\\",\\n            id: \\\"qju\\\",\\n            value: settings.qju,\\n        }, {\\n            title: \\\"插 件\\\",\\n            id: \\\"cj\\\",\\n            value: settings.cj,\\n        }\\n    ];\\n\\n    var inputBox = \\\"\\\";\\n    for(let i = 0; i < boxData.length; i++){\\n        let b = boxData[i];\\n        inputBox += '<div class=\\\"box bar\\\">\\\\\\n            <form>\\\\\\n                <label type=\\\"submit\\\">' + b.title + '</label>\\\\\\n                <input type=\\\"text\\\" placeholder=\\\"输入解析名或者URL......\\\" value=\\\"' + b.value + '\\\" id=\\\"' + b.id + '\\\">\\\\\\n            </form>\\\\\\n            <div class=\\\"lieb\\\">\\\\\\n                <button id=\\\"' + b.id + 'Select\\\">☰</button>\\\\\\n            </div>\\\\\\n        </div>';\\n    }\\n    Did(\\\"div2\\\").insertAdjacentHTML('afterend', inputBox);\\n    Did(\\\"cj\\\").placeholder = \\\"输入插件地址......\\\";\\n    Did(\\\"qju\\\").placeholder = \\\"此项建议留空或者填默认两个字\\\";\\n    \\n    new Vue({\\n        el: \\\".zj-div\\\",\\n        data: {\\n            jxData: mySelect,\\n            cjData: [\\\"hiker://files/cache/Parse_Dn.js\\\", \\\"hiker://files/rules/dzHouse/js/srcauto.js\\\", \\\"hiker://files/rules/js/Parse-V2_Dn.js\\\"]\\n        }\\n    });\\n\\n    $(document).ready(function() {\\n        var len = $('.jx-ul').children('li').length;\\n        var len2 = $('.cj-ul').children('li').length;\\n        $('.lieb button').click(function(e) {\\n            if($('.lieb button').text().includes('━')){\\n                $('.lieb button').css('background', '');\\n                $('.lieb button').text('☰');\\n            }else{\\n                $(this).text('━');\\n                $(this).css('background', 'red');\\n            }\\n            $('li').attr('check', 'false');\\n            var inputid = \\\"#\\\" + this.id.split(\\\"Select\\\")[0];\\n            var arr = $(inputid).val().split(',');\\n            arr = arr[0] == '' ? [] : arr;\\n            $('.myChoice').text(arr);\\n            if (inputid !== '#cj' && $('.cj-ul').css('display')=='none') {\\n                $('.jx-ul').slideToggle();\\n                e.stopPropagation();\\n                for (let i = 1; i < len; i++) {\\n                    var jxList = $('.jx-ul li:not(.myChoice)').eq(i);\\n                    if (arr.includes(jxList.text())) {\\n                        jxList.attr('check', 'true');\\n                    }\\n                    jxList.unbind('click').click(function(e) {\\n                        e.stopPropagation();\\n                        if ($(this).attr('check') !== \\\"true\\\") {\\n                            $(this).attr('check', 'true');\\n                            arr.unshift($(this).text());\\n                            $(inputid).val(arr);\\n                            $('.myChoice').text(arr);\\n                        } else {\\n                            $(this).attr('check', 'false');\\n                            for (var a = 0; a < arr.length; a++) {\\n                                if (arr[a] == $(this).text()) {\\n                                    arr.splice(a, 1);\\n                                    $(inputid).val(arr);\\n                                    $('.myChoice').text(arr);\\n                                }\\n                            }\\n                        }\\n                    })\\n                }\\n            } else if($('.jx-ul').css('display')=='none'){\\n                $('.cj-ul').slideToggle();\\n                e.stopPropagation();\\n                for (let i = 0; i < len2; i++) {\\n                    var cjList = $('.cj-ul li').eq(i);\\n                    if ($(inputid).val() == cjList.text()) {\\n                        cjList.attr('check', 'true');\\n                    }\\n                    cjList.unbind('click').click(function() {\\n                        if (i !== 0) {\\n                            $(inputid).val($(this).text());\\n                            $(this).attr('check', 'true');\\n                            $(this).siblings().attr('check', 'false');\\n                        }\\n                    })\\n                }\\n            }\\n        });\\n        $(document).not($('.xlList')).click(function(e) {\\n            $('.jx-ul').slideUp();\\n            $('.cj-ul').slideUp();\\n            $('.lieb button').text('☰');\\n            $('.lieb button').css('background', '');\\n        })\\n        $('label').dblclick(function(){\\n            let inputid = '#' + $(this).next().attr('id');\\n            $(inputid).val('');\\n        })\\n    })\\n    \\n    function Toast(msg,duration){  \\n        duration=isNaN(duration)?2000:duration;  \\n        var m = document.createElement('div');  \\n        m.innerHTML = msg;  \\n        m.style.cssText=\\\"width:45%; min-width:150px; background:#311; opacity:0.6; height:auto;min-height: 45px; color:#fff; line-height:45px; text-align:center; border-radius:10px; position:fixed; top:60%; left:26%; z-index:999999;\\\";  \\n        document.body.appendChild(m);  \\n        setTimeout(function() {  \\n            var d = 0.5;  \\n            m.style.webkitTransition = '-webkit-transform ' + d + 's ease-in, opacity ' + d + 's ease-in';  \\n            m.style.opacity = '0';  \\n            setTimeout(function() { document.body.removeChild(m) }, d * 1000);  \\n        }, duration);  \\n    }  \\n\\n    function openDnPage(){\\n        fba.open(JSON.stringify({\\n            rule: \\\"=^_^=\\\",\\n            title: \\\"管理解析\\\",\\n            url: \\\"hiker://page/Route?rule=MyFieldᴰⁿ&type=编辑#noHistory#\\\",\\n            group: \\\"\\\",\\n            col_type: \\\"\\\",\\n            //findRule: \\\"js:this.d=[];$.require(\\\\\\\"hiker://page/Parse_Dn.js?rule=MyFieldᴰⁿ\\\\\\\").edit();setResult(d);\\\",\\n            preRule: \\\"\\\",\\n            extra: {}\\n        }));\\n    }\\n    function cancel(){\\n        if(mySet==''){\\n            fy_bridge_app.writeFile(oldRoute, JSON.stringify(settings, null, 4));\\n            fy_bridge_app.refreshPage(true);\\n        }else{\\n            fy_bridge_app.back(false);\\n        }\\n    }\\n    function clickme(msg,duration,title){\\n        for(let i = 0; i < boxData.length; i++){\\n            let id = boxData[i].id;\\n            settings[id] = Did(id).value;\\n            if(settings.qju == ''){\\n                settings.qju = '默认';\\n            }\\n        }\\n        if (mySelect[0] != undefined) {\\n            eval('var bcConfig=' + fy_bridge_app.fetch(newRoute));\\n            Object.assign(bcConfig.settings, settings);\\n            fy_bridge_app.writeFile(newRoute, $$$.stringify(bcConfig));\\n        }\\n        fy_bridge_app.writeFile(oldRoute, $$$.stringify(settings));\\n            \\n        Toast(msg,duration);\\n        if(title==\\\"关\\\"){\\n            if(sfRefresh != Did(\\\"cj\\\").value){\\n                fy_bridge_app.back();\\n            }else{\\n                fy_bridge_app.back(false);\\n            }\\n        }else{\\n            fy_bridge_app.refreshPage(true);\\n        }\\n    }\\n\\n</script>   \\n</html>\"},{\"col_type\":\"movie_3\",\"name\":\"Parse_Dn.js\",\"path\":\"Parse_Dn.js\",\"rule\":\"//============免嗅调用============\\n//－－－=^_^=\\n\\nvar version = \\\"3.5.1\\\";\\nvar updateDate = '2021/10/30/22:22';\\nvar _mySet = {\\n    qju: '默认',\\n    cjcache: 'hiker://files/cache/Parse_Dn.js',\\n    x5cache: 'hiker://files/cache/Parse_Dn.html',\\n    oldConfig: 'hiker://files/cache/MyParseSet.json',\\n    ckLink: 'https://code.aliyun.com/AI957/Hiker/raw/master/v/',\\n    cj: 'https://code.aliyun.com/AI957/Hiker/raw/master/v/CloudParse-V2_Dn.js',\\n    x5Url: 'https://code.aliyun.com/AI957/Hiker/raw/master/v/Parse_Dn.html',\\n    parseRoute: 'hiker://files/rules/DuanNian/MyParse.json',\\n    x5Route: 'file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/cache/Parse_Dn.html'\\n};\\nvar MyParseS = {};\\nvar mySet = _mySet;\\nif (fileExist(_mySet.parseRoute)) {\\n    eval('var parseFile =' + fetch(_mySet.parseRoute));\\n    MyParseS = parseFile.codes;\\n    mySet = parseFile.settings;\\n}\\n\\nvar parseTitle = [\\n    \\\"yun1717\\\",\\n    \\\"PanGu\\\",\\n    \\\"FuXing\\\",\\n    \\\"https://jxx.smys8.cn/index.php?url=\\\",\\n    \\\"https://okjx.cc/?url=\\\",\\n    \\\"https://jx.m3u8.tv/jiexi/?url=\\\",\\n    \\\"https://sb.5gseo.net/?url=\\\"\\n];\\n\\n//－－－=^_^=\\n\\n//接口设置.\\n\\nvar setUrl = \\\"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noRecordHistory#\\\";\\nvar set_switch = setUrl;\\nvar lazy = `eval('var config =' + fetch(getVar('oldConfig')));eval(fetch(config.cj));aytmParse(input)`;\\n\\n//var parwix = `var yurl='https://daili.mayixiongdi.cn/?url=';Referer': 'https://www.mayixiongdi.cn/ys?id=';'https://daili.mayixiongdi.cn/api.php', 'Referer':'https://daili.mayixiongdi.cn';\\n// 全民https://pcvideoaliyun.tianshangrenjian.mgtv.com.88wuma.com/?url=\\n\\n//－－－备 用－－－\\n/*\\n * 影视工场： https://ysgc.cc/\\n * 江湖: 555电影 https://www.555dy2.com/phone.html ｜ 17看 http://17kanyy.cn/ http://jhjiexi.30vr.cn/?url= ｜ http://api.maizimall.com/index.php?url=\\n * 江湖: http://www.tianshuyun.net/index.php/vod/play/id/448377/sid/1/nid/1.html\\n * 江湖2: http://98hyk.cn/index.php/vod/play/id/72841/sid/1/nid/1.html\\n * 人人迷: https://vip.susou.tv/player/?url= ｜ https://www.momdm.cc/\\n * \\n * wuigen: https://www.5igen.com/dmplayer/player/?url=\\n * 干饭(人人迷): https://jx.zui.cm/?url=\\n * https://2.66movie.top/player/?url=\\n * \\n */\\n\\n\\nvar tools = {\\n    MD5: function(data) {\\n        eval(getCryptoJS());\\n        return CryptoJS.MD5(data).toString(CryptoJS.enc.Hex);\\n    },\\n    AES: function(text, key, iv, isEncrypt) {\\n        eval(getCryptoJS());\\n        var key = CryptoJS.enc.Utf8.parse(key);\\n        var iv = CryptoJS.enc.Utf8.parse(iv);\\n        if (isEncrypt) {\\n            return CryptoJS.AES.encrypt(text, key, {\\n                iv: iv,\\n                mode: CryptoJS.mode.CBC,\\n                padding: CryptoJS.pad.Pkcs7\\n            }).toString();\\n        };\\n        return CryptoJS.AES.decrypt(text, key, {\\n            iv: iv,\\n            padding: CryptoJS.pad.Pkcs7\\n        }).toString(CryptoJS.enc.Utf8);\\n    },\\n    //ascii\\n    nextCharacter: function(asciiValue, k) {\\n        var s = asciiValue;\\n        return String.fromCharCode(s + k);\\n    },\\n    //凯撒\\n    caesarCipher: function(stringValue, k) {\\n        var newString = \\\"\\\";\\n        for (var i = 0; i < stringValue.length; i++) {\\n            newString += this.nextCharacter(stringValue[i].charCodeAt(), k);\\n        }\\n        return newString;\\n    },\\n    nowDate: function() {\\n        var date1 = new Date();\\n        var dateStr = \\\"\\\";\\n        if (date1) {\\n            dateStr = date1.getFullYear();\\n            var month = date1.getMonth() + 1;\\n            var day = date1.getDate();\\n            if (month < 10) {\\n                dateStr += \\\"-0\\\" + month;\\n            } else {\\n                dateStr += \\\"-\\\" + month;\\n            }\\n            if (day < 10) {\\n                dateStr += \\\"-0\\\" + day;\\n            } else {\\n                dateStr += \\\"-\\\" + day;\\n            }\\n        }\\n        return dateStr;\\n    },\\n    toJSON: function(json) {\\n        return JSON.stringify(json, (key, value) => {\\n            if (typeof value == 'function') {\\n                return value.toString();\\n            } else {\\n                return value;\\n            }\\n        }, 4);\\n    },\\n    toVNum: function(a) {\\n        var a = a.toString();\\n        var c = a.split('.');\\n        var num_place = [\\\"\\\", \\\"0\\\", \\\"00\\\", \\\"000\\\", \\\"0000\\\"],\\n            r = num_place.reverse();\\n        for (var i = 0; i < c.length; i++) {\\n            var len = c[i].length;\\n            c[i] = r[len] + c[i];\\n        }\\n        var res = c.join('');\\n        return res;\\n    },\\n    cprVersion: function(a, b) {\\n        var _a = parseInt(this.toVNum(a)),\\n            _b = parseInt(this.toVNum(b));\\n        b = isNaN(_b) ? version : b;\\n        if (_a > _b) {\\n            putVar('jxNewV', '有新版本: ' + a);\\n        } else {\\n            clearVar('jxNewV');\\n        }\\n        putVar('jxOldV', b);\\n    }\\n};\\n\\nif (getVar(\\\"jxOldV\\\", \\\"0\\\") != version) {\\n    putVar('cjCache', _mySet.cjcache);\\n    putVar('x5Cache', _mySet.x5Cache);\\n    putVar('oldConfig', _mySet.oldConfig);\\n    putVar('parseRoute', _mySet.parseRoute);\\n    let mayck = 'https://gitee.com/Duan-Nian/Dn/raw/master/hikerview/';\\n    let jxNewV = fetch(mayck + 'ParseVersion.txt'),\\n        jxOldV = (fetch(_mySet.cjcache).split('version = \\\"')[1] + '').split('\\\"')[0];\\n    tools.cprVersion(jxNewV, jxOldV);\\n    writeFile('hiker://files/cache/x5ParseLanJie.txt', fetch(mayck + 'x5ParseLanJie.txt'));\\n}\\n\\nvar ParseS = {};\\nvar originalParseS = {\\n    //updateDate: updateDate,\\n    CityIP: 'http://pv.sohu.com/cityjson',\\n    pcUA: 'User-Agent@Mozilla/5.0 (Windows NT 10.0\\\\；\\\\； WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.87 Safari/537.36',\\n    cacheM3u8: function(vUrl, ref) {\\n        try {\\n            var m3u8 = fetch(vUrl, {});\\n            writeFile('hiker://files/cache/videos.m3u8', m3u8);\\n        } catch (e) {}\\n        return 'file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/cache/videos.m3u8#';\\n    },\\n    defaultParse: function(url) {\\n        return url;\\n    },\\n    maoss: function(jxurl, ref, key) {\\n        try {\\n            var getVideoInfo = function(text) {\\n                return tools.AES(text, key, iv);\\n            };\\n            if (ref) {\\n                var html = request(jxurl, {\\n                    headers: {\\n                        'Referer': ref\\n                    }\\n                });\\n            } else {\\n                var html = request(jxurl);\\n            }\\n            if (html.indexOf('&btwaf=') != -1) {\\n                html = request(jxurl + '&btwaf' + html.match(/&btwaf(.*?)\\\"/)[1], {\\n                    headers: {\\n                        'Referer': ref\\n                    }\\n                })\\n            }\\n            var iv = html.split('bt_token = \\\"')[1].split('\\\"')[0];\\n            eval(html.match(/var config = {[\\\\s\\\\S]*?}/)[0] + '');\\n            if (config.url.slice(0, 4) != 'http') {\\n                config.url = decodeURIComponent(tools.AES(config.url, \\\"dvyYRQlnPRCMdQSe\\\", iv));\\n            }\\n            return config.url;\\n        } catch (e) {\\n            return '';\\n        }\\n    },\\n    LLQ: function(jxurl) {\\n        try {\\n            var api = jxurl.split('?url=')[0] + \\\"api.php\\\";\\n            var b64id = base64Encode(jxurl.split('url=')[1]);\\n            var parseid = tools.caesarCipher(b64id, -1);\\n            var json = JSON.parse(request(api, {\\n                headers: {\\n                    'Referer': jxurl\\n                },\\n                method: 'POST',\\n                body: 'url=' + parseid\\n            }));\\n            url = (json.code == 200 ? base64Decode(tools.caesarCipher(json.url, -1)) : '');\\n            return url;\\n        } catch (e) {\\n            return '';\\n        }\\n    },\\n    PanGu: function(vipUrl, data) {\\n        /*var ref = 'https://www.pangujiexi.com/';\\n        var parse = 'https://panguapi.ntryjd.net/jiexi/?url=' + vipUrl;\\n        var api = 'https://panguapi.ntryjd.net/jiexi/api.php';\\n        */\\n        //var ref = 'https://xmystv.com/';\\n        //var parse = 'https://www.99kpw.com/pangu/index.php?url=' + tailUrl;\\n        //var api = 'https://www.99kpw.com/pangu/api.php';\\n        var parse = \\\"https://www.pangujiexi.com/pangu/?url=\\\" + vipUrl;\\n        var api = \\\"https://panguapi.ntryjd.net/pangu2021/api.php\\\";\\n        if (data) {\\n            ref = data[0];\\n            parse = data[1];\\n            api = data[2];\\n        }\\n        var Time = (Math.floor(new Date().getTime() / 1000) * 1).toString();\\n        var json = request(api, {\\n            headers: {\\n                \\\"Referer\\\": parse\\n            },\\n            body: \\\"url=\\\" + vipUrl + \\\"&referer=\\\" + base64Encode(parse) + \\\"&ref=1&time=\\\" + Time + \\\"&type=&other=\\\" + base64Encode(vipUrl) + \\\"&ios=0\\\",\\n            method: \\\"POST\\\"\\n        });\\n        var url = json[0] == \\\"{\\\" ? JSON.parse(json).url : \\\"\\\";\\n        return url;\\n    },\\n    yun1717: function(vipUrl) {\\n        var isyk = vipUrl.indexOf('youku');\\n        var ref = \\\"https://www.1717yun.com/jx/ty.php?url=\\\" + vipUrl;\\n        var parse = \\\"https://1717yun.com.zh188.net/0828/?url=\\\" + vipUrl;\\n        var api = \\\"https://1717yun.com.zh188.net/1004/..index..php\\\";\\n        return isyk == -1 ? this.PanGu(vipUrl, [ref, parse, api]) : this.PanGu(vipUrl, [ref + ',vip:', parse + ',vip:', api]);\\n    },\\n    FuXing: function(vipUrl) {\\n        try {\\n            //if(vipUrl.indexOf('v.youku')!=-1){\\n            //    vipUrl = (JSON.parse(request(vipUrl, {redirect:false, withHeaders:true})).headers.location + '').replace(/\\\\?.*/,'');\\n            //}\\n            var ref = 'https://jx.xuetuiguang.cn/jiexi/?url=' + vipUrl;\\n            var parse = ref;\\n            var api = 'https://jx.xuetuiguang.cn/jiexi/apiu_fx.php';\\n            return this.PanGu(vipUrl, [ref, parse, api]);\\n        } catch (e) {\\n            return '';\\n        }\\n    },\\n};\\n\\nObject.assign(ParseS, originalParseS, MyParseS);\\n//覆盖顺序，第三个覆盖第二个然后覆盖第一个\\n\\n\\nfunction aytmParse(vipUrl) {\\n    this.request = function(param0, param1, param2) {\\n        param1 = param1 == undefined ? {} : param1;\\n        param1.timeout = 2500;\\n        param2 = MY_RULE;\\n        var retStr = method_request.invoke(javaContext, param0, param1, param2);\\n        return retStr == null ? retStr : retStr + \\\"\\\";\\n    };\\n    this.fetch = function(param0, param1, param2) {\\n        param1 = param1 == undefined ? {} : param1;\\n        param1.headers = param1.headers == undefined ? {} : param1.headers;\\n        param1.headers['User-Agent'] = PC_UA;\\n        param1.timeout = 2500;\\n        param2 = MY_RULE;\\n        var retStr = method_fetch.invoke(javaContext, param0, param1, param2);\\n        return retStr == null ? retStr : retStr + \\\"\\\";\\n    };\\n    var host = vipUrl.match(/\\\\.(.*?)\\\\//);\\n    host = host == null ? null : host[1];\\n    var noUrl = \\\"toast://接收到的链接为: \\\";\\n    switch (mySet.qju) {\\n        case \\\"\\\":\\n        case \\\"默认\\\":\\n            switch (host) {\\n                case \\\"qq.com\\\":\\n                    str = mySet.tx;\\n                    break;\\n                case \\\"iqiyi.com\\\":\\n                    str = mySet.qy;\\n                    break;\\n                case \\\"youku.com\\\":\\n                    str = mySet.yk;\\n                    break;\\n                case \\\"mgtv.com\\\":\\n                    str = mySet.mg;\\n                    break;\\n                case \\\"bilibili.com\\\":\\n                    str = mySet.bl;\\n                    break;\\n                default:\\n                    str = host == null ? noUrl : mySet.oth;\\n                    break;\\n            }\\n            break;\\n        default:\\n            str = host == null ? noUrl : mySet.qju;\\n            break;\\n    }\\n    let myChoice = str.split(',');\\n    let len = myChoice.length;\\n    for (let i = 0; i < len; i++) {\\n        let name = myChoice[i];\\n        if (typeof ParseS[name] == 'function') {\\n            let url = ParseS[name](vipUrl);\\n            if (i != len - 1 && !/m3u8|mp4|http/.test(url)) {\\n                continue;\\n            }\\n            if (url[0] == '/') {\\n                url = 'https:' + url\\n            }\\n            if (url.indexOf('=http') != -1) {\\n                url = url.indexOf('&url=') > -1 ? url : 'http' + decodeURIComponent(url.split('=http')[1]);\\n            }\\n            /*if(url.match(/mgtv.com/g)=='mgtv.com'){\\n                url = url + ';{Referer@https://www.mgtv.com}';\\n            } else */\\n            if (url.indexOf('.flv') != -1) {\\n                url = url + ';{User-Agent@app&&Referer@' + vipUrl + '}';\\n            }\\n            if (url == '' || url == vipUrl) {\\n                return vipUrl;\\n            } else {\\n                return url + '#isVideo=true#';\\n            }\\n        } else if (typeof ParseS[name] == 'string') {\\n            return ParseS.defaultParse(ParseS[name] + vipUrl);\\n        } else {\\n            return name.substr(0, 4) == \\\"http\\\" || host == null ? name + vipUrl : \\\"toast://\\\" + name + \\\" 不是直链也不是免嗅\\\";\\n        }\\n    }\\n};\\n\\nvar playParse = {\\n    player_xx: function(jurl, Label) {\\n        return $(jurl).lazyRule((k) => {\\n            var jsUrl = JSON.parse(fetch(getVar('oldConfig'))).cj;\\n            var Label = k;\\n            var fa = ['letv', 'pptv', 'qq', 'youku', 'qiyi', 'iqiyi', 'mgtv', 'bilibili', 'sohu', 'migu', 'm1905', 'vip'];\\n            var html = parseDom(request(input), Label);\\n            eval(html.replace(/player_.*?={/, 'pdata={'));\\n            eval(fetch(jsUrl));\\n            if (pdata.url.substr(0, 8).match(/JT..JT../)) {\\n                pdata.url = base64Decode(pdata.url);\\n            }\\n            if (pdata.url.substr(0, 8).match(/%..%../)) {\\n                pdata.url = unescape(pdata.url);\\n            }\\n            if (fa.includes(pdata.from) == true) {\\n                return aytmParse(pdata.url);\\n            } else {\\n                return pdata.url + '#isVideo=true#';\\n            }\\n        }, Label)\\n    }\\n};\\n\\nfunction setParse() {\\n    $.require(\\\"hiker://page/Route?rule=MyFieldᴰⁿ\\\").setParse();\\n}\\n\\nfunction mzPopup() {\\n    if (getVar(\\\"ijk-tx\\\", \\\"\\\") == \\\"1\\\") {\\n        setItem(\\\"tixing\\\", \\\"1\\\")\\n        clearVar(\\\"ijk-tx\\\")\\n    }\\n    return confirm({\\n        title: '免责声明',\\n        content: '本程序不提供视频解析服务\\\\n所有内容均从用户分享中收集\\\\n仅供测试和学习交流\\\\n\\\\n确定即认可，不再提醒',\\n        confirm: $.toString(() => {\\n            putVar(\\\"ijk-tx\\\", \\\"1\\\");\\n            refreshPage(false);\\n            return \\\"toast://您点击了确认\\\"\\n        })\\n    })\\n}\\nif (getItem(\\\"tixing\\\", \\\"\\\") == \\\"\\\") {\\n    mzPopup();\\n}\\n\\n//===========解析代码结束===========\\n\\nfunction saveButton(content) {\\n    var data = content.split('★★★');\\n    if (data.length == 2) {\\n        var _dt = parsePaste(data[0]);\\n        content = _dt.substr(0, 6) != 'error:' ? _dt : '';\\n    }\\n    data = content.split('★');\\n    var type = data[0];\\n    var arrList = [];\\n    var objCode = {};\\n    if (data.length > 2 && data[0] != '直链') {\\n        var objKey = data[1];\\n        var objValue = data[2];\\n        if (type == 'MyParseS') {\\n            objValue = base64Decode(objValue);\\n        }\\n        if (objValue.split('function').length > 1) {\\n            eval('objValue=' + objValue);\\n        }\\n        arrList.splice(0, 0, objKey);\\n        objCode[objKey] = objValue;\\n\\n    } else if (type == '直链') {\\n        arrList = data;\\n        arrList.splice(0, 1);\\n    } else {\\n        arrList = null;\\n    }\\n    if (arrList != null) {\\n        var parseRoute = getVar('parseRoute');\\n        eval('var json =' + fetch(parseRoute));\\n        arrList = arrList.concat(json.title);\\n        json.title = Array.from(new Set(arrList));\\n        Object.assign(json.codes, objCode);\\n        if (type == '测试') {\\n            eval('var config =' + fetch(getVar('oldConfig')));\\n            eval(fetch(config.cj));\\n            if (typeof ParseS[data[1]] == \\\"function\\\") {\\n                return ParseS[data[1]](data[2]);\\n            } else {\\n                return ParseS.defaultParse(ParseS[data[1]] + data[2]);\\n            }\\n        } else {\\n            writeFile(parseRoute, $.stringify(json));\\n            return \\\"toast://已保存内容\\\";\\n        }\\n    } else {\\n        return \\\"toast://无法识别这个内容呢\\\"\\n    }\\n}\\n\\nif (getItem('updateDate') != updateDate) {\\n    var functionCode = saveButton + '';\\n    writeFile('hiker://files/cache/plscParse.html', fetch(_mySet.ckLink + 'plscParse.html'));\\n    setItem('myFunction', functionCode);\\n    setItem('updateDate', updateDate);\\n}\\nvar bjItem = {\\n    hfPlugin: function(parseRoute) {\\n        return $('#noLoading#').lazyRule((k) => {\\n            if (fileExist(k) == true) {\\n                var cjcache = getVar('cjCache');\\n                eval('var json =' + fetch(k));\\n                json.settings.cj = cjcache;\\n                writeFile(k, $.stringify(json));\\n                var oldRoute = getVar('oldConfig');\\n                var oldConfig = json.settings;\\n                oldConfig.cj = cjcache;\\n                writeFile(oldRoute, $.stringify(oldConfig));\\n                refreshPage(false);\\n                return 'toast://恢复成功';\\n            } else {\\n                return 'toast://需要先拉取列表'\\n            }\\n        }, parseRoute)\\n    },\\n    pullCode: function(k) {\\n        return $('#noLoading#').lazyRule((k) => {\\n            var pullMode = k[0];\\n            var parseRoute = k[1];\\n            var parseFile = fetch(parseRoute);\\n            if (!parseFile) {\\n                var settings = fetch(getVar('oldConfig'));\\n                settings = settings == '' ? {} : JSON.parse(settings);\\n                var json = {};\\n                json.settings = settings;\\n                json.title = [];\\n                json.codes = {};\\n            } else {\\n                eval('var json =' + parseFile);\\n            }\\n            var tishi = 'toast://抱歉!无法识别这个内容呢╯﹏╰';\\n            var cjLink = getVar('pluginLink');\\n            var Contents = cjLink == 'Q神' ? pullMode + '★' + fetch('hiker://files/jiexi/jiexi.txt') : cjLink;\\n            try {\\n                var yPaste = parsePaste(Contents).split('@base64://');\\n                if (yPaste.length == 2) {\\n                    Contents = base64Decode(yPaste[1]);\\n                } else if (cjLink.substr(0, 5) == 'hiker' || cjLink.substr(0, 4) == 'http') {\\n                    Contents = fetch(cjLink);\\n                }\\n                var jcKL = Contents.split('★');\\n                var isKL = jcKL[0];\\n                if (jcKL.length == 2) {\\n                    isKL = isKL == '' ? pullMode : isKL;\\n                    Contents = jcKL[1].split('\\\\n');\\n                    if (Contents[0] == '') {\\n                        Contents.splice(0, 1)\\n                    }\\n                }\\n                var addTitle = [],\\n                    addCode = {};\\n                if (('' + Contents[0]).split('&&').length == 2) {\\n                    for (let i = 0; i < Contents.length; i++) {\\n                        let arr = Contents[i].split('&&');\\n                        let title = arr[0] + '(x5)',\\n                            url = arr[1];\\n                        if (pullMode == '免嗅') {\\n                            addTitle.push(title)\\n                            addCode[title] = url;\\n                        } else {\\n                            addTitle.push(url);\\n                        }\\n                    }\\n                } else if (isKL == '直链' && pullMode == '直链') {\\n                    addTitle = Contents;\\n                }\\n                if (addTitle[0] == undefined) {\\n                    eval(Contents);\\n                    if (typeof originalParseS == 'object') {\\n                        addCode = originalParseS;\\n                    } else {\\n                        addCode = ParseS;\\n                    }\\n                    var scObject = [\\\"parseLc\\\", \\\"gparse\\\", \\\"nparse\\\", \\\"Mao全网\\\", \\\"ds973\\\", \\\"parwix\\\", \\\"OJBK\\\", \\\"91解析\\\", \\\"人人迷\\\", \\\"江湖\\\", \\\"久播\\\", \\\"骚火\\\", \\\"LK解析\\\", \\\"小狼云\\\", \\\"九八看\\\", \\\"思云解析\\\", \\\"CityIP\\\", \\\"pcUA\\\", \\\"cacheM3u8\\\", \\\"defaultParse\\\", \\\"maoss\\\", \\\"LLQ\\\"];\\n                    for (var i = 0; i < scObject.length; i++) {\\n                        delete addCode[scObject[i]];\\n                    }\\n                    if (typeof parseTitle == 'object') {\\n                        addTitle = parseTitle;\\n                    } else {\\n                        addTitle = Object.keys(addCode);\\n                    }\\n                }\\n                var oldSL = json.title.length;\\n                var newTitle = json.title.concat(addTitle);\\n                json.title = Array.from(new Set(newTitle));\\n                if (pullMode == '免嗅') {\\n                    Object.assign(json.codes, addCode);\\n                }\\n                var newSL = json.title.length - oldSL;\\n                var coverSL = newTitle.length - json.title.length;\\n                coverSL = coverSL == 0 ? '' : ', 覆盖了' + coverSL + '个';\\n                //var newFile = tools.toJSON(json);//自定义stringify函数，带有转义字符\\n                var newFile = $.stringify(json); //JSON.parse会报错\\n                writeFile(parseRoute, newFile);\\n                refreshPage(false);\\n                return 'toast://总共导入了' + newSL + '个' + pullMode + '解析' + coverSL;\\n            } catch (e) {\\n                return tishi;\\n            }\\n        }, [k, _mySet.parseRoute])\\n    },\\n    pullScript: function(cj, x5) {\\n        return $('#noLoading#').lazyRule((k) => {\\n            var cjFrom = 'hiker://page/Parse_Dn.js?rule=MyFieldᴰⁿ';\\n            var x5From = 'hiker://page/Parse_Dn.html?rule=MyFieldᴰⁿ';\\n            try {\\n                var cjFile = JSON.parse(fetch(cjFrom)).rule;\\n                cjFile = cjFile.split('解析代码结束')[0];\\n                var x5File = JSON.parse(fetch(x5From)).rule;\\n                writeFile(k[0], cjFile);\\n                writeFile(k[1], x5File);\\n                clearVar('jxOldV');\\n                refreshPage(false);\\n                return 'toast://更新成功';\\n            } catch (e) {\\n                return 'toast://未成功获取内容';\\n            }\\n        }, [cj, x5])\\n    },\\n    xlSelect: function(bianji, lbLength) {\\n        return \\\"select://\\\" + JSON.stringify({\\n            options: ['‘‘’’<span style=\\\"color:red\\\" title=\\\"删除||' + bianji + '\\\">删 除', '‘‘’’<span style=\\\"color:#F57474\\\" title=\\\"隐藏||' + bianji + '\\\">隐 藏', '‘‘’’<span style=\\\"color:#FF8000\\\" title=\\\"修改||' + bianji + '\\\">修 改', '‘‘’’<span style=\\\"color:#098AC1\\\" title=\\\"置顶||' + bianji + '0' + '\\\">置 顶', '‘‘’’<span style=\\\"color:#098AC1\\\" title=\\\"移动||' + bianji + '\\\">移 动', '‘‘’’<span style=\\\"color:#098AC1\\\" title=\\\"置底||' + bianji + lbLength + '\\\">置 底', '‘‘’’<span style=\\\"color:#04B431\\\" title=\\\"分享||' + bianji + '\\\">地板分享', '‘‘’’<span style=\\\"color:#04B431\\\" title=\\\"云分享||' + bianji + '\\\">云板分享'],\\n            col: '2',\\n            js: $.toString(() => {\\n                var parseRoute = getVar('parseRoute');\\n                eval('var json =' + fetch(parseRoute));\\n                var newInput = parseDomForHtml(input, 'span&&title').split('||');\\n                var type = newInput[0];\\n                var name = newInput[1];\\n                var num = newInput[2];\\n                var num2 = newInput[3];\\n                switch (type) {\\n                    case \\\"删除\\\":\\n                        return $(\\\"即将删除: \\\" + name).confirm((k) => {\\n                            var name = k[0];\\n                            var num = k[1];\\n                            var parseRoute = getVar('parseRoute');\\n                            eval('var json =' + fetch(parseRoute));\\n                            if (json.codes.hasOwnProperty(name)) {\\n                                delete json.codes[name];\\n                            }\\n                            json.title.splice(num, 1);\\n                            writeFile(parseRoute, $.stringify(json));\\n                            refreshPage(false);\\n                            return \\\"toast://已将〖\\\" + name + \\\"〗删除\\\";\\n                        }, [name, num]);\\n                        break;\\n                    case \\\"隐藏\\\":\\n                        return $(\\\"hiker://empty#noLoading#\\\").lazyRule((k) => {\\n                            var name = k[0];\\n                            var num = k[1];\\n                            var parseRoute = getVar('parseRoute');\\n                            eval('var json =' + fetch(parseRoute));\\n                            if (json.codes.hasOwnProperty(name)) {\\n                                json.title.splice(num, 1);\\n                                writeFile(parseRoute, $.stringify(json));\\n                                refreshPage(false);\\n                                return \\\"toast://已将〖\\\" + name + \\\"〗隐藏\\\";\\n                            } else {\\n                                return \\\"toast://可能是个网址, 您可选择删除\\\";\\n                            }\\n                        }, [name, num]);\\n                        break;\\n                    case \\\"修改\\\":\\n                        //if (json.codes[name]) {\\n                        var nCode = name;\\n                        var nName = \\\"这是名称\\\";\\n                        if (json.codes[name]) {\\n                            nCode = json.codes[name].toString();\\n                            nName = name;\\n                        }\\n                        return $(\\\"hiker://empty#noRecordHistory#\\\").rule((k) => {\\n                            var d = [];\\n                            eval(getItem('myFunction'));\\n                            var name = k[0];\\n                            var code = k[1];\\n                            d.push({\\n                                title: '保 存',\\n                                url: saveButton + \\\"saveButton(getVar('input_edit'));back();\\\",\\n                                col_type: \\\"input\\\",\\n                                desc: \\\"建议按默认的代码格式修改哦\\\",\\n                                extra: {\\n                                    onChange: \\\"putVar('input_edit', input)\\\",\\n                                    type: \\\"textarea\\\",\\n                                    height: \\\"-1\\\",\\n                                    titleVisible: false,\\n                                    defaultValue: '修改★' + name + '★' + code,\\n                                }\\n                            });\\n                            d.push({\\n                                title: '‘‘’’<small><span style=\\\"color:#6EB897\\\">格式为：操作类型★标题★function(){自定义内容}<br>请勿填入其他格式',\\n                                url: $('#noLoading#').lazyRule((saveButton) => {\\n                                    saveButton(getVar('input_edit'));\\n                                    back();\\n                                    return 'toast://已保存修改';\\n                                }, saveButton),\\n                                desc: '‘‘’’<big><big><span style=\\\"color:#298A08\\\">保 存',\\n                                col_type: 'text_center_1'\\n                            });\\n                            setResult(d);\\n                        }, [nName, nCode]) //[name, json.codes[name].toString()])\\n                        /*} else {\\n                            return \\\"toast://只有网址或者标题, 不支持修改\\\"\\n                        }*/\\n                        break;\\n                    case \\\"置顶\\\":\\n                    case \\\"置底\\\":\\n                        var item = json.title.splice(num, 1);\\n                        json.title.splice(num2, 0, item[0]);\\n                        writeFile(parseRoute, $.stringify(json));\\n                        refreshPage(false);\\n                        break;\\n                    case \\\"移动\\\":\\n                        return $('hiker://empty#noLoading#').lazyRule((k) => {\\n                            putVar('bianji', '移动#' + k);\\n                            refreshPage(false);\\n                            return input;\\n                        }, num);\\n                        break;\\n                    case \\\"分享\\\":\\n                    case \\\"云分享\\\":\\n                        if (json.codes[name]) {\\n                            var parseText = typeof json.codes[name] == 'function' ? $.stringify(json.codes[name]) : json.codes[name];\\n                            parseText = 'MyParseS★' + name + '★' + base64Encode(parseText);\\n                        } else {\\n                            var parseText = '直链★' + json.title[num];\\n                        }\\n                        if (type == '云分享' && parseText.substr(0, 8) == 'MyParseS') {\\n                            parseText = sharePaste(parseText);\\n                            return parseText.substr(0, 6) != 'error:' ? 'copy://' + parseText + '\\\\n★★★\\\\n' + 'MyParseS：' + name : 'toast://分享失败!!云剪贴板可能挂了';\\n                        } else {\\n                            return 'copy://' + parseText;\\n                        }\\n                    default:\\n                        return 'toast://暂不支持';\\n                        break;\\n                } //switch的\\n            }) //String的\\n        }) //stringify的\\n    },\\n    xjParse: function() {\\n        return $(\\\"hiker://empty#noRecordHistory#\\\").rule(() => {\\n            var d = [];\\n            eval(getItem('myFunction'));\\n            d.push({\\n                title: '保 存',\\n                url: saveButton + \\\"saveButton(input);back();clearVar('input_add')\\\",\\n                col_type: \\\"input\\\",\\n                desc: \\\"输入正确格式内容\\\",\\n                extra: {\\n                    onChange: 'putVar(\\\"input_add\\\", input)',\\n                    type: \\\"textarea\\\",\\n                    height: \\\"-1\\\",\\n                    titleVisible: false,\\n                    defaultValue: getVar('input_add'),\\n                }\\n            });\\n            d.push({\\n                title: '‘‘’’<small><span style=\\\"color:#6EB897\\\">按描述诉格式输入, 请勿填入其他格式<br>本地口令: 操作类型★名称★代码<br>云口令: 链接★★★名称; 纯网址: 直链★url1★url2',\\n                desc: '‘‘’’<big><big><span style=\\\"color:#298A08\\\">保 存',\\n                url: $('noLoading').lazyRule((saveButton) => {\\n                    return saveButton(getVar('input_add'));\\n                }, saveButton),\\n                col_type: 'text_center_1'\\n            });\\n            setResult(d);\\n        })\\n    },\\n    ydParse: function(BJmode, i) {\\n        return $('#noLoading#').lazyRule((k) => {\\n            var A = k[0].split('#')[1];\\n            var B = k[1];\\n            var parseRoute = getVar('parseRoute');\\n            eval('var json =' + fetch(parseRoute));\\n            var item = json.title.splice(A, 1); // 1: 标记开始位置，2: 删除到哪个位置\\n            json.title.splice(B, 0, item[0]); // 1: 同上，2: 0表示不删除，3: 添加对象\\n            writeFile(parseRoute, $.stringify(json));\\n            clearVar('bianji');\\n            refreshPage(false);\\n            return 'hiker://empty';\\n        }, [BJmode, i])\\n    },\\n    plscParse: function() {\\n        return $('hiker://empty#noRecordHistory#').rule(() => {\\n            var d = [];\\n            d.push({\\n                title: '批量删除解析',\\n                desc: 'auto&&float',\\n                url: 'file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/cache/plscParse.html',\\n                col_type: 'x5_webview_single'\\n            })\\n            setResult(d);\\n        })\\n    }\\n};\"},{\"col_type\":\"movie_3\",\"name\":\"调用路由\",\"path\":\"Route\",\"rule\":\"js:\\nconst d = [];\\nconst data = {};\\n\\nif (!getVar('jxOldV')) {\\n    eval(JSON.parse(fetch(\\\"hiker://page/Parse_Dn.js\\\")).rule);\\n}\\n\\ndata.oldConfig = \\\"hiker://files/cache/MyParseSet.json\\\";\\ndata.cjRoute = \\\"hiker://files/cache/Parse_Dn.js\\\";\\ndata.x5Route = \\\"file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/cache/Parse_Dn.html\\\";\\n\\ndata.jxLazy = \\\"eval('var config =' + fetch('\\\" + data.oldConfig + \\\"'));eval(fetch(config.cj));aytmParse(input)\\\";\\n\\ndata.szParse = \\\"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\\\";\\n\\ndata.addLanJie = function(d) {\\n    let lanjie = ['baidu.*.png', '.jpg', 'baidu.', 'cnzz.', 'dykj\\\\.'];\\n    eval('var ylanjie =' + fetch('hiker://files/cache/x5ParseLanJie.txt'));\\n    lanjie = typeof(ylanjie) == 'object' ? ylanjie : lanjie;\\n    for (let i = 0; i < d.length; i++) {\\n        let durl = d[i].url;\\n        if (durl != undefined && /lazyRule/.test(durl) && /aytmParse|defaultParse/.test(durl)) {\\n            d[i].extra = d[i].extra == undefined ? {} : d[i].extra;\\n            d[i].extra.blockRules = lanjie;\\n        }\\n    }\\n    setResult(d);\\n}\\ndata.x5Parse = function(Url) {\\n    return $(Url).lazyRule(() => {\\n        eval('var ParseS =' + fetch('hiker://files/rules/DuanNian/MyParse.json'));\\n        return ParseS.codes.defaultParse(input);\\n    })\\n}\\ndata.setParse = function() {\\n    var d = [];\\n    d.push({\\n        desc: 'auto',\\n        url: this.x5Route,\\n        col_type: 'x5_webview_single'\\n    });\\n    var jxNewV = getVar('jxNewV', ''),\\n        jxOldV = getVar('jxOldV');\\n    var versionTips = jxNewV == '' ? '‘‘' : '‘‘' + jxNewV;\\n    var pics = [\\n        'https://tva1.sinaimg.cn/large/9bd9b167gy1fwri56wjhqj21hc0u0arr.jpg',\\n        'https://cdn.seovx.com/img/seovx-20-10%20(92).jpg',\\n        'https://cdn.seovx.com/img/mom2018%20(207).jpg',\\n        'https://tva4.sinaimg.cn/large/9bd9b167gy1fwrh5xoltdj21hc0u0tax.jpg',\\n        'https://tva1.sinaimg.cn/large/005BYqpggy1fwreyu4nl6j31hc0u0ahr.jpg',\\n        'https://s3.bmp.ovh/imgs/2021/10/d7e60b990742093d.jpeg',\\n        'https://s3.bmp.ovh/imgs/2021/10/91ad6d6538bf8689.jpg',\\n        'https://tva1.sinaimg.cn/large/005BYqpggy1fwresl5pmlj31hc0xcwka.jpg',\\n        'https://tva3.sinaimg.cn/large/005BYqpggy1fwrgjdk74oj31hc0u0dqn.jpg',\\n        'https://cdn.seovx.com/img/mom2018%20(320).jpg',\\n        'https://cdn.seovx.com/img/mom2018%20(803).jpg'\\n    ];\\n    d.push({\\n        img: pics[Math.floor(Math.random() * 10)],\\n        title: versionTips + '’’<small><span style=\\\"color:#6EB897\\\"><br>　　点击上方头像进入编辑<br>点此进入论坛帖子列表',\\n        desc: '当前版本: ' + jxOldV,\\n        url: 'https://haikuoshijie.cn/user/1958',\\n        col_type: 'movie_1'\\n    });\\n    setResult(d);\\n}\\n\\nswitch (getParam(\\\"type\\\")) {\\n    case \\\"设置\\\":\\n        data.setParse();\\n        break;\\n    case \\\"编辑\\\":\\n        $.require(\\\"hiker://page/jxItem?rule=MyFieldᴰⁿ\\\").jxList();\\n        setResult(d);\\n        break;\\n    default:\\n        $.exports = data;\\n        break;\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"解析项主界面\",\"path\":\"jxItem\",\"rule\":\"var _0xod2='jsjiami.com.v6',_0x4690=[_0xod2,'fFLDs8O1Ig==','VwzCn8K/wo4=','w5DCqMOvJcK3','w7U5CsOV','w7TCtcOvN8KT','w7bDo8OuUiA=','Rm1Ow65u','MExUw6TCpA==','5a+W5Ya155iU6ZO5','DcK4KcKJw5wrDcOl','5a6B5Yao5YSI5ZSg','w4zCvMOGMsKgw7Y=','w4QEw4Qwfg==','FEDDnRk+','V8Kxf0ow','KzDDp8O+w5w=','DMKcwr/ChsKW','HMKXARXCpQ==','w609w78Gfw==','wrR/BcKOKDrDvR9+wp8vaFYCfsKMwpszBRTCoWrDsGExdsKCw6VWwpQn','WsKff8Kxwp4=','w6bCrMK0Gw==','Vyp1w4pJ','w7IGCsONHQ==','YMKrZHQy','TMKzB8Odw67Ck8KYOQ==','w43DjxZoM2peMcKEEg==','HFLDuTAJ','SsKAXUsa','TCTCg8KgwrM=','WsKhwqd3woo=','A1ZMw5fCtg==','wqHDkRrDn2nDtV/DnQ==','czNew4RNbBjDmA==','GHZqw6LCh8KUJghR','w4vDpU0q','IFM6wqQi','IcKRbQ==','by9cw40=','woZJwojChcKb','w5fDoC95Ig==','VDjCncKqwp8=','e8KbY8KAwpTDjF/Dt20f','w5fDuVAn','wqHDkQXDmw==','w43Dj8OpZz99w60Xw5fCqw==','N8KJYsKJw6DDssKq','Zixzw4xg','wq0Tw6LCjcK4CDYXwpjCqsOpQFI=','wrFQPRw=','4oKl4oKi4oKc4oCSUHzDthnCmeetvueQveikheadgw==','w5LCk8KXGxk=','MsOQw5jCqVo=','wqQDw5Yyw47CkwHCr1rCo3J8wqA=','EcOEw6XCo3k=','wpRofBnClGhm','U8KteE4=','KcOnw7jCiUBAw77CjMK9K2Bdw6Zvw53Dsx1fwo8gIsODw4TDgMOpw4HDmQfCiGnDhQFvX8Ky','U8KpTFY2','VMKgJMOZ','w63DlDsQw4M=','EjbDk8O7w4kFwrTCicOew5Q=','b8OHbsKEwqjDhlY=','GMKnBMKBw7E=','C8KIwqBADA==','w6zDg8OdwrNrw7TChiM=','wr3Dl8Kmw41cw4x6wpAfHg==','wpZASBTChA==','wr7DiMKGIsOW','Ww5pw7TDqg==','cXzCpm3Crw==','Z8KDSsKVwqg=','wo55XR4=','4oKs4oKB4oO84oGddlsdwqEd5pKK5Lyo5o2u5b++','w7hqwpjDjSg=','w5cjFcOJBw==','MCXDpcO6w6o=','wp55HsKqbg==','K8O8w6XClw==','QVJOw7Y=','4oGM4oCi4oGX4oORe2TDpBpxWMO/w7XCi8OWw5fDssKcO8OcwqPCmsOMGcOfVCXDpsO5w6Z/w5RK','T8KZbsKEwro=','AWXDvCk0Yz3Cpg==','aQTCgcKDwpE=','w6AfOMO7Fg==','w4/DtUY2AMO+V1HDtVbChzPCqg==','w6/CvcKqERg2w5Y=','w5DCuMOaJsKx','FcKkLsKAw61+RsKvRUobYWvCgBjCgmlfIBXCnlXDjHI=','ZMONAiLCisKMwr3CnCIMUcOsw4FpwpE=','CMOFw4XCvEQ=','QE1fw5Np','HmB0WsO3','w6HCrS99wq4=','asKOQmMi','J2x6w6rChA==','w6rCgS5OwpM=','w6kKwq7ChcOVF2IFw5nCs8KoY1U=','4oKC4oKU4oGP4oO5wqfDkB3Cp8KaSsOgwqHCsjHCuMKWw6sbwrTCiwjCtUPCgWF3TlgmwopNaSrDmAwYw6zmlrfCt+W4mMKu6KSJMeadhg==','FibDh8Ojw4UFwqPCjsOaw4VIw7fDvg==','w6bDjMOswrF0w7o=','56S25Yiew7c=','4oCB4oCP4oO34oC7w4fCogLChwA4AsK2A8KVB2DDgEXCvifDrcOCF8K4wobDrcKTN0jCnsOhWQ==','w4vDsUwxOsOPXUrDtVY=','w4DDrj7CqcOu','w7DDqcODZAM=','wo1awozCmMKe','bcO9wpTDoz0=','AcOvLcOSwp7Dug==','4oCB4oCP4oO34oC7w4fCsxvCgVAkAsKyG8KXQi7Cll/CvS7Cv8KSTsO0w5jCu8OZTFvCkMKGJUHCpcOfw6bCqOaXv1/lubB56KaGQ+afug==','SlnCo07CiA==','w7bDuCDCmcOB','RsKTwqJUwpw=','XsK1wpNz','w51oXsKdw6I=','wo/Do8KKP8K6','wqZawrDCssKR','56e45YuuCMKI','w53CkMKLJgc=','GyfDr8O2w6gVwqM=','w6cNw6MNbg==','w5nCigRR','CsKYwqfCtg==','TsOEwqXDhDw=','wqXDgQ7Dh3XCqA==','LFYdwq0rcsO3Dw==','wozDu8KPAMK3','wqkXw6jCisKCOTwMwpjCqg==','w4PCkB5X','w5TCkzVxwrA=','E8KjwrZ0Pg==','QcK2O8Ocw7M=','wqBOJDg4','cSNCw4RvYBk=','NcO2w7/CjQ==','SUzDk8OR','Q8OGImHCog==','C8KRwo5mFg==','wrgdw7DCtcKM','eHzChG7CkA==','w4ksw6cVZA==','wpEEw5bCjcKz','4oKj4oKI4oCn4oGbY8OuQl7DrxPChhjDosO+EcO8CsOGw60JU8OHwofDsMKmw4HCuCZXeGhy','w4cPLMOEPA==','AnVww68=','w6rDuSXCiA==','w6RCfE1x','wqjDm8KmIsKn','e3rDtcOAKQ==','w77CqsKJChgrw4vChA==','wqHDk8K6w5lNw7Y=','w6zDiMO3Wzw=','w57Ds1IvNw==','w5jDmcOpZgQ=','GMKSIjU=','5oye5o+15byY6L225Yau5p6n5pW75YST5a66','azJxw5PDnw==','WsK8wpVgwoDCsBcOwrvCtA==','w7NlUFZEMMOXMMO1IMOQFMOrYMO8ScOqwr/DgMOXcMOBAFFpwpU=','4oK14oCd4oO14oKRRE1FwobDjeaDoOWkpeaOnOS5hei1kOW8qOS7jum5teiuuw==','5b6K5Yi76Kyk576X5LudUXM=','wrHlr4jmlIDotq3lv5vCpxIQw7NGwpkJw6jCvTDCtEnDi8OMDF3Dm8KSwp7DrcKow6EVFCVkJsOQMH4=','wrVANgAMbD/DmsOiMjPDg8KZ','5a6o5YWf5YSD5ZSN','AW/DlykZOQ==','4oOI4oG+4oK34oGfwq3Ckg3CphDmkIvkvZzmjKTlvoQ=','w5LDrMKLJz5QG8Ko','4oGZ4oKL4oKV4oOgDxjCuMOEw6vmmr7mlrnohKzmnr/kvp3ot7g=','5LqW5o+X5Lia5a+Q5pWG6LeA5b6ow5vDk8KtSy/DkMOXw4nDm8O9fsKmGDM/w5vDrghfw69D576F6aCR6IWI5p235a2z5pe36LWF5b28OMKfwqB9MXBZRcKow5hxacORwqkDw5HCgcK8w5DCqcOdw7U=','5a6Z5pSb6Lah5b+waS91w4bDozskw6/Ch0NcTsKRVGDDocKsN8O6w7rClMODw7DCgsOUVMOqdTsj','5L6B55Sk55uW5YSF5Ym+6IOh6ZyD55qO5b6j6KaT55eL6K+j5Z6A6LSO5Yykw6Dlp4jmn4jplL/pobTliZ/lvJjorJLlnY3kuZTopLLor7fmgIw=','TVzDmMONHsOw','w4zCsMOGMMKLw7zDuyXDhsKP','w6NzYcKqw4g=','4oCK4oK04oGp4oCbw47Cm8KbwoE4FlPDr8OfKcODfcKJ55mk5b+G5o2p56WD','QsKkwpR3wprDpHRIwr3CvsKrw759AsOkwqdZwrTDjQR7FHMRZgEXwonCnibDqcK4SMOReA==','w4dLwqfDqgw=','w7U7L8O4LA==','w7XDicOMeRU=','wrFhKTId','VXZVw5dR','w4TDuMKXNy9rG8KzVyI=','zANjsyjTiamBPi.cIToYm.vt6pCQJMD=='];(function(_0x36e342,_0x5e84cc,_0x2e1b72){var _0xaa5c8=function(_0x7befac,_0x1852f9,_0x42cd58,_0x32bee9,_0x45146b){_0x1852f9=_0x1852f9>>0x8,_0x45146b='po';var _0x55f00e='shift',_0x248978='push';if(_0x1852f9<_0x7befac){while(--_0x7befac){_0x32bee9=_0x36e342[_0x55f00e]();if(_0x1852f9===_0x7befac){_0x1852f9=_0x32bee9;_0x42cd58=_0x36e342[_0x45146b+'p']();}else if(_0x1852f9&&_0x42cd58['replace'](/[zANyTBPITYtpCQJMD=]/g,'')===_0x1852f9){_0x36e342[_0x248978](_0x32bee9);}}_0x36e342[_0x248978](_0x36e342[_0x55f00e]());}return 0xb1166;};return _0xaa5c8(++_0x5e84cc,_0x2e1b72)>>_0x5e84cc^_0x2e1b72;}(_0x4690,0x10d,0x10d00));var _0x3377=function(_0xecd6c7,_0xe8cee3){_0xecd6c7=~~'0x'['concat'](_0xecd6c7);var _0x42bec6=_0x4690[_0xecd6c7];if(_0x3377['DhdldK']===undefined){(function(){var _0x268b84=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x996d83='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x268b84['atob']||(_0x268b84['atob']=function(_0x296b9a){var _0xf6c336=String(_0x296b9a)['replace'](/=+$/,'');for(var _0x419430=0x0,_0x2d2748,_0x69bfd5,_0xae6930=0x0,_0x1746db='';_0x69bfd5=_0xf6c336['charAt'](_0xae6930++);~_0x69bfd5&&(_0x2d2748=_0x419430%0x4?_0x2d2748*0x40+_0x69bfd5:_0x69bfd5,_0x419430++%0x4)?_0x1746db+=String['fromCharCode'](0xff&_0x2d2748>>(-0x2*_0x419430&0x6)):0x0){_0x69bfd5=_0x996d83['indexOf'](_0x69bfd5);}return _0x1746db;});}());var _0x17bc47=function(_0x3bfce0,_0xe8cee3){var _0x25df27=[],_0x376033=0x0,_0x3f5d68,_0x2344c5='',_0xb8c681='';_0x3bfce0=atob(_0x3bfce0);for(var _0x1bb9cf=0x0,_0x1472de=_0x3bfce0['length'];_0x1bb9cf<_0x1472de;_0x1bb9cf++){_0xb8c681+='%'+('00'+_0x3bfce0['charCodeAt'](_0x1bb9cf)['toString'](0x10))['slice'](-0x2);}_0x3bfce0=decodeURIComponent(_0xb8c681);for(var _0x5e4adb=0x0;_0x5e4adb<0x100;_0x5e4adb++){_0x25df27[_0x5e4adb]=_0x5e4adb;}for(_0x5e4adb=0x0;_0x5e4adb<0x100;_0x5e4adb++){_0x376033=(_0x376033+_0x25df27[_0x5e4adb]+_0xe8cee3['charCodeAt'](_0x5e4adb%_0xe8cee3['length']))%0x100;_0x3f5d68=_0x25df27[_0x5e4adb];_0x25df27[_0x5e4adb]=_0x25df27[_0x376033];_0x25df27[_0x376033]=_0x3f5d68;}_0x5e4adb=0x0;_0x376033=0x0;for(var _0x3bce01=0x0;_0x3bce01<_0x3bfce0['length'];_0x3bce01++){_0x5e4adb=(_0x5e4adb+0x1)%0x100;_0x376033=(_0x376033+_0x25df27[_0x5e4adb])%0x100;_0x3f5d68=_0x25df27[_0x5e4adb];_0x25df27[_0x5e4adb]=_0x25df27[_0x376033];_0x25df27[_0x376033]=_0x3f5d68;_0x2344c5+=String['fromCharCode'](_0x3bfce0['charCodeAt'](_0x3bce01)^_0x25df27[(_0x25df27[_0x5e4adb]+_0x25df27[_0x376033])%0x100]);}return _0x2344c5;};_0x3377['CwmfcL']=_0x17bc47;_0x3377['jyWfmx']={};_0x3377['DhdldK']=!![];}var _0x1fe9d5=_0x3377['jyWfmx'][_0xecd6c7];if(_0x1fe9d5===undefined){if(_0x3377['clNxPA']===undefined){_0x3377['clNxPA']=!![];}_0x42bec6=_0x3377['CwmfcL'](_0x42bec6,_0xe8cee3);_0x3377['jyWfmx'][_0xecd6c7]=_0x42bec6;}else{_0x42bec6=_0x1fe9d5;}return _0x42bec6;};eval(JSON[_0x3377('0','G3qQ')](fetch(_0x3377('1','DUO(')))['rule']);function bbsYZ(){var _0xba84bc={'IVIEw':'jdRoute','qjbMN':function(_0x283a74,_0x1ccf97,_0x44c511){return _0x283a74(_0x1ccf97,_0x44c511);},'PjHfp':'bbsYZ','RHBBQ':function(_0x337338){return _0x337338();},'dDibZ':_0x3377('2','O6Iy'),'OvckS':function(_0x40fbea,_0x2a5c42){return _0x40fbea(_0x2a5c42);}};if(!getVar(_0xba84bc[_0x3377('3','&HYL')])){_0xba84bc[_0x3377('4','4x[P')](putVar,_0xba84bc[_0x3377('5','d6$D')],_0xba84bc[_0x3377('6','2fiL')](isLogin));putVar(_0xba84bc[_0x3377('7','SK(D')],_0xba84bc['dDibZ']);}return _0xba84bc[_0x3377('8','d(y^')](getVar,_0xba84bc['PjHfp']);}function splitLine(_0x21e87a,_0xa9be76){var _0x2a07af={'YdCql':function(_0x47692c,_0x13124f){return _0x47692c<_0x13124f;}};for(let _0x3a676d=0x0;_0x2a07af[_0x3377('9','2fiL')](_0x3a676d,_0xa9be76);_0x3a676d++){d['push']({'col_type':_0x21e87a});}}var jxItem={'jxList':function(){var _0x3ee766={'lyJSa':_0x3377('a','e*8L'),'gvXNO':_0x3377('b','OMce'),'SNMls':_0x3377('c','Q^1*'),'hZQDQ':function(_0xaf9541,_0x5def8c){return _0xaf9541(_0x5def8c);},'eclmh':_0x3377('d','YoF9'),'akjLk':function(_0x4c331c,_0x2cffc3){return _0x4c331c+_0x2cffc3;},'QjRcP':function(_0x12bce3,_0x120108){return _0x12bce3==_0x120108;},'phiVy':_0x3377('e','PSIM'),'lbQab':'‘‘’’<small><span\\\\x20style=\\\\x22color:#FE9A2E\\\\x22>','HrLtT':'移动:\\\\x20','AcaRp':function(_0x57ce88,_0x258c04){return _0x57ce88+_0x258c04;},'BCUyh':'text_2','gRXMT':function(_0x4feb49,_0x1e2dc9){return _0x4feb49+_0x1e2dc9;},'WPEKd':_0x3377('f','s&lK'),'QrrPP':function(_0x194b6d,_0x1b3b26){return _0x194b6d(_0x1b3b26);},'GbmKm':_0x3377('10','Bd^Z'),'QATIk':function(_0x289eab,_0x59ea0e){return _0x289eab(_0x59ea0e);},'ffXCg':function(_0x32ae58,_0x449eac){return _0x32ae58!==_0x449eac;},'Wbeei':_0x3377('11','OMce'),'ltvyZ':_0x3377('12','bm6L'),'lCBSu':function(_0x3e7ecf,_0x9a4219){return _0x3e7ecf+_0x9a4219;},'OpfmU':function(_0x5e340a,_0xdbe45d){return _0x5e340a==_0xdbe45d;},'QzJcn':function(_0x5888ec,_0xee5e8e){return _0x5888ec+_0xee5e8e;},'WUQXm':function(_0x4461a5,_0x43a5ae){return _0x4461a5+_0x43a5ae;}};var _0x43fda6=getVar(_0x3ee766[_0x3377('13','!]tS')]);var _0x5a4dea=parseFile[_0x3377('14','nZwJ')];var _0x505697=_0x3ee766['QATIk'](getVar,_0x3377('15','mLX%'));d['push']({'title':_0x3377('16','s&lK'),'url':bjItem['xjParse'](),'col_type':_0x3ee766[_0x3377('17','s&lK')]});var _0x224eb4=_0x5a4dea['length'];for(var _0x174bc0=0x0;_0x174bc0<_0x224eb4;_0x174bc0++){if(_0x3ee766['ffXCg'](_0x3ee766['Wbeei'],_0x3ee766[_0x3377('18','OMce')])){var _0x210b58=_0x5a4dea[_0x174bc0];var _0x34e4f2=_0x3ee766[_0x3377('19','W4EV')](_0x210b58,'')['replace'](/http.*\\\\/\\\\//g,'');if(/移动/[_0x3377('1a','W4EV')](_0x505697)){d['push']({'title':_0x3ee766['OpfmU'](_0x3ee766[_0x3377('1b','9F@B')](_0x3ee766[_0x3377('1c','1KGf')],_0x174bc0),_0x505697)?_0x3ee766['QzJcn'](_0x3ee766[_0x3377('1d','!]tS')],_0x3377('1e','grzs'))+_0x34e4f2:_0x3ee766[_0x3377('1f','ibF7')](_0x3ee766['WPEKd'],_0x34e4f2),'url':bjItem[_0x3377('20','Q^1*')](_0x505697,_0x174bc0),'col_type':_0x3ee766[_0x3377('21','XfcG')]});}else{var _0x4a64bf=[_0x210b58,_0x3ee766['WUQXm'](_0x174bc0,'||')][_0x3377('22','2fiL')]('||');d[_0x3377('23','5Kkw')]({'title':_0x3ee766[_0x3377('24','nZwJ')]+_0x34e4f2,'col_type':_0x3377('25','r^JY'),'url':bjItem[_0x3377('26','8ilb')](_0x4a64bf,_0x224eb4['toString']())});}}else{var _0x32766d=_0x3ee766['lyJSa'][_0x3377('27','1KGf')]('|'),_0x19d9f5=0x0;while(!![]){switch(_0x32766d[_0x19d9f5++]){case'0':var _0x38cf84=getVar(_0x3377('28','e*8L'));continue;case'1':d[_0x3377('29','2fiL')]({'title':_0x3ee766[_0x3377('2a','2fiL')],'url':bjItem['xjParse'](),'col_type':_0x3ee766['SNMls']});continue;case'2':var _0x50d754=_0x3ee766[_0x3377('2b','p3Hs')](getVar,_0x3ee766[_0x3377('2c','*yTj')]);continue;case'3':for(var _0x5d401e=0x0;_0x5d401e<_0x14af53;_0x5d401e++){var _0x2f8efd=_0x1d3c16[_0x5d401e];var _0x182628=_0x3ee766[_0x3377('2d',')&Jp')](_0x2f8efd,'')[_0x3377('2e','grzs')](/http.*\\\\/\\\\//g,'');if(/移动/[_0x3377('2f','&HYL')](_0x50d754)){d[_0x3377('30','[&2K')]({'title':_0x3ee766[_0x3377('31','O6Iy')](_0x3ee766['akjLk'](_0x3ee766[_0x3377('32','p3Hs')],_0x5d401e),_0x50d754)?_0x3ee766[_0x3377('33','e*8L')](_0x3ee766[_0x3377('34','s&lK')](_0x3ee766[_0x3377('35','XfcG')],_0x3ee766[_0x3377('36','e*8L')]),_0x182628):_0x3ee766['AcaRp'](_0x3377('37','Bd^Z'),_0x182628),'url':bjItem['ydParse'](_0x50d754,_0x5d401e),'col_type':_0x3ee766[_0x3377('38','8Mwb')]});}else{var _0x5d7845=[_0x2f8efd,_0x3ee766['gRXMT'](_0x5d401e,'||')][_0x3377('39','d(y^')]('||');d[_0x3377('3a','OMce')]({'title':_0x3ee766[_0x3377('3b','4q!N')](_0x3ee766[_0x3377('3c','1KGf')],_0x182628),'col_type':_0x3ee766[_0x3377('3d','[&2K')],'url':bjItem['xlSelect'](_0x5d7845,_0x14af53[_0x3377('3e','ibF7')]())});}}continue;case'4':var _0x1d3c16=parseFile['title'];continue;case'5':var _0x14af53=_0x1d3c16[_0x3377('3f','PSIM')];continue;case'6':_0x3ee766[_0x3377('40','bm6L')](clearVar,_0x3ee766[_0x3377('41','Bd^Z')]);continue;}break;}}}clearVar(_0x3ee766[_0x3377('42','bm6L')]);},'lqFile':function(){var _0x1a6862={'vqkXT':function(_0x1bb3fc,_0x348f70){return _0x1bb3fc==_0x348f70;},'pwVEx':function(_0x38e311){return _0x38e311();},'HsIry':_0x3377('43','!&rB'),'MmrTU':function(_0x27dc3b,_0x2b01d4,_0x46e842){return _0x27dc3b(_0x2b01d4,_0x46e842);},'XVMes':'hiker://page/Route?type=编辑#noRecordHistory#','TlGbG':_0x3377('44','$&QA'),'vejTG':_0x3377('45','$oSm'),'wJspI':_0x3377('46','W4EV'),'CsoRg':_0x3377('47','4q!N'),'PCesw':function(_0x29dcd3,_0x35bc57){return _0x29dcd3+_0x35bc57;},'PEvHX':_0x3377('48','KYM)'),'iXVmO':function(_0x40eef9,_0x5aac1c){return _0x40eef9+_0x5aac1c;},'YRhRA':_0x3377('49','e*8L'),'hkHOT':_0x3377('4a','Bd^Z'),'pqGpc':_0x3377('4b',')&Jp'),'kLUVa':'导入直链','EEaDw':_0x3377('4c','8ilb'),'TPlOr':'批量删除','IsXiF':_0x3377('4d','Sm37'),'LqiVh':_0x3377('4e','zjj9'),'jNKbt':function(_0x5ca907,_0x46cc4f){return _0x5ca907==_0x46cc4f;},'RoltS':_0x3377('4f','R%Ux'),'OVawf':_0x3377('50','&HYL'),'ejAdn':_0x3377('51','KYM)'),'sCTPi':_0x3377('52',')&Jp'),'PWiZJ':function(_0x14c1bf,_0x2f607e){return _0x14c1bf(_0x2f607e);},'MKJlv':_0x3377('53','aAjy'),'Xkcaq':_0x3377('54','[&2K'),'pDgFN':function(_0x3588be,_0xad2ef8){return _0x3588be(_0xad2ef8);},'dQhIv':function(_0x500ea3,_0x3d206f){return _0x500ea3+_0x3d206f;},'EkSLc':'‘‘’’<big>管理解析','KYkYL':function(_0x51200a,_0x54c8f1){return _0x51200a(_0x54c8f1);},'RJfmY':function(_0x5eb3e4,_0x114dcb){return _0x5eb3e4<_0x114dcb;},'aJrDx':'iQSYk','hLfbe':function(_0x2e7aa7,_0x3501d8){return _0x2e7aa7+_0x3501d8;},'dnSnE':function(_0x5c39ef,_0x3c3451){return _0x5c39ef+_0x3c3451;},'tyWOe':_0x3377('55','G3qQ'),'UotEP':function(_0x57273f,_0x3403f7){return _0x57273f==_0x3403f7;},'RfZmp':function(_0x5d92ad){return _0x5d92ad();},'ThjcV':function(_0x2917bb,_0x2d1984){return _0x2917bb!==_0x2d1984;},'WmNcc':_0x3377('56','9F@B'),'WKTrs':_0x3377('57','O6Iy'),'eSAFB':_0x3377('58','W4EV')};if(_0x1a6862[_0x3377('59','KYM)')](_0x1a6862[_0x3377('5a','8Mwb')](bbsYZ),_0x1a6862[_0x3377('5b','bm6L')])){_0x1a6862['PWiZJ'](eval,_0x1a6862[_0x3377('5c',')&Jp')](getVar,'jdRoute'));xdRoute=_0x1a6862[_0x3377('5d','4x[P')](xdRoute,_mySet[_0x3377('5e','R%Ux')]);splitLine('line',0x5);d['push']({'title':_0x1a6862[_0x3377('5f','[&2K')],'url':_0x1a6862['XVMes'],'desc':_0x1a6862[_0x3377('60','gm!h')],'col_type':_0x1a6862[_0x3377('61','G3qQ')]});d[_0x3377('62','8Mwb')]({'desc':_0x1a6862[_0x3377('63','G3qQ')],'col_type':_0x1a6862['vejTG'],'extra':{'titleVisible':![],'defaultValue':_0x1a6862[_0x3377('64','bm6L')](getVar,_0x1a6862[_0x3377('65','4x[P')]),'onChange':_0x1a6862['CsoRg']}});var _0x4fae6f=_0x1a6862[_0x3377('66','d(y^')];var _0x1e9d3c=[{'title':_0x3377('67','W4EV'),'url':bjItem[_0x3377('68','DUO(')]('直链')},{'title':_0x3377('69','DUO('),'url':bjItem['pullCode']('免嗅')},{'title':_0x1a6862['TPlOr'],'url':bjItem['plscParse']()}];for(var _0x5a89f4=0x0;_0x1a6862['RJfmY'](_0x5a89f4,_0x1e9d3c[_0x3377('6a','G3qQ')]);_0x5a89f4++){if(_0x1a6862[_0x3377('6b','XfcG')]===_0x1a6862[_0x3377('6c','Sm37')]){d[_0x3377('30','[&2K')]({'title':_0x1e9d3c[_0x5a89f4][_0x3377('6d','SK(D')],'url':_0x1e9d3c[_0x5a89f4]['url'],'col_type':_0x1a6862[_0x3377('6e','Q^1*')]});}else{if(_0x1a6862[_0x3377('6f','5Kkw')](_0x1a6862[_0x3377('70','!&rB')](bbsYZ),_0x1a6862[_0x3377('71','XfcG')])){var _0x1ce321=_0x3377('72','8Mwb')['split']('|'),_0x5d9eee=0x0;while(!![]){switch(_0x1ce321[_0x5d9eee++]){case'0':_0x1a6862[_0x3377('73','$&QA')](splitLine,_0x3377('74','ibF7'),0x5);continue;case'1':var _0x7b4c17=_0x1a6862['XVMes'];continue;case'2':d['push']({'desc':_0x1a6862[_0x3377('75','grzs')],'col_type':_0x1a6862['vejTG'],'extra':{'titleVisible':![],'defaultValue':getVar(_0x1a6862[_0x3377('76','8Mwb')]),'onChange':_0x1a6862[_0x3377('77','SK(D')]}});continue;case'3':xdRoute=_0x1a6862['PCesw'](xdRoute,_mySet['parseRoute']);continue;case'4':d['push']({'title':_0x1a6862['PEvHX'],'url':bjItem[_0x3377('78','*yTj')](_mySet[_0x3377('79','@f)p')]),'desc':_0x1a6862[_0x3377('7a','Sm37')](_0x1a6862[_0x3377('7b','SK(D')](_0x1a6862['YRhRA'],mySet['cj']),_0x1a6862[_0x3377('7c','gm!h')]),'col_type':_0x1a6862[_0x3377('7d','W4EV')]});continue;case'5':var _0x3fd747=[{'title':_0x1a6862[_0x3377('7e','d(y^')],'url':bjItem[_0x3377('7f','r^JY')]('直链')},{'title':_0x1a6862['EEaDw'],'url':bjItem[_0x3377('80','grzs')]('免嗅')},{'title':_0x1a6862['TPlOr'],'url':bjItem[_0x3377('81','d(y^')]()}];continue;case'6':for(var _0x4c9653=0x0;_0x4c9653<_0x3fd747[_0x3377('3f','PSIM')];_0x4c9653++){d[_0x3377('82','Bd^Z')]({'title':_0x3fd747[_0x4c9653][_0x3377('83','8ilb')],'url':_0x3fd747[_0x4c9653][_0x3377('84','Nu[J')],'col_type':_0x1a6862['IsXiF']});}continue;case'7':splitLine(_0x3377('85','grzs'),0x2);continue;case'8':d['push']({'title':_0x1a6862[_0x3377('86','!]tS')],'url':_0x1a6862[_0x3377('87','@f)p')](typeof czGuide,_0x1a6862['RoltS'])?_0x1a6862[_0x3377('88','gm!h')](czGuide):'','col_type':_0x1a6862['pqGpc']});continue;case'9':splitLine(_0x3377('89','$&QA'),0x1);continue;case'10':splitLine(_0x3377('8a','Bd^Z'),0x1);continue;case'11':d[_0x3377('8b','r^JY')]({'title':_0x1a6862['OVawf'],'url':bjItem[_0x3377('8c','bm6L')](_mySet[_0x3377('8d','Nu[J')],_mySet['x5cache']),'desc':_0x1a6862[_0x3377('8e','grzs')],'col_type':_0x3377('8f','e*8L')});continue;case'12':d[_0x3377('90',')&Jp')]({'title':_0x3377('91','bm6L'),'url':_0x1a6862[_0x3377('92','ibF7')],'desc':_0x1a6862[_0x3377('93','&HYL')],'col_type':_0x3377('94','zjj9')});continue;case'13':eval(_0x1a6862[_0x3377('95','&HYL')](getVar,_0x3377('96','aAjy')));continue;}break;}}else{d[_0x3377('97','SK(D')]({'title':'‘‘’’<strong><big>登录提示','desc':_0x1a6862['MKJlv'],'url':_0x3377('98','&HYL'),'col_type':_0x1a6862[_0x3377('99','SK(D')]});}}}splitLine('line',0x2);d[_0x3377('9a','*yTj')]({'title':_0x1a6862[_0x3377('9b','#O1s')],'url':bjItem[_0x3377('9c','Q^1*')](_mySet['cjcache'],_mySet[_0x3377('9d','$&QA')]),'desc':_0x1a6862[_0x3377('9e','DUO(')],'col_type':_0x1a6862[_0x3377('9f','p3Hs')]});splitLine('line',0x1);d['push']({'title':_0x1a6862['PEvHX'],'url':bjItem[_0x3377('a0','YoF9')](_mySet[_0x3377('a1','PSIM')]),'desc':_0x1a6862[_0x3377('a2','aAjy')](_0x1a6862[_0x3377('a3','p]GH')](_0x1a6862[_0x3377('a4','$oSm')],mySet['cj']),_0x1a6862[_0x3377('a5','s&lK')]),'col_type':_0x1a6862[_0x3377('a6','$&QA')]});splitLine(_0x1a6862['tyWOe'],0x1);d[_0x3377('a7','aAjy')]({'title':_0x3377('a8','R%Ux'),'url':_0x1a6862[_0x3377('a9','KYM)')](typeof czGuide,_0x1a6862[_0x3377('aa','8Mwb')])?_0x1a6862[_0x3377('ab','Q^1*')](czGuide):'','col_type':'text_center_1'});}else{if(_0x1a6862['ThjcV'](_0x1a6862['WmNcc'],_0x1a6862[_0x3377('ac','xoZT')])){var _0x1ac1e2=[editDX,_0x1a6862['iXVmO'](_0x5a89f4,'||')][_0x3377('ad','&HYL')]('||');d[_0x3377('ae','4x[P')]({'title':_0x3377('af','8ilb')+xsList,'col_type':_0x1a6862[_0x3377('b0','$&QA')],'url':bjItem['xlSelect'](_0x1ac1e2,lbLength[_0x3377('b1','Sm37')]())});}else{d[_0x3377('62','8Mwb')]({'title':_0x1a6862['WKTrs'],'desc':_0x1a6862[_0x3377('b2','gm!h')],'url':_0x1a6862[_0x3377('b3','8Mwb')],'col_type':_0x3377('b4','Bd^Z')});}}}};$[_0x3377('b5','ibF7')]=jxItem;;_0xod2='jsjiami.com.v6';\"}]","icon":"https://static01.imgkr.com/temp/238137efb61645879687a8503f34d893.png"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"工具","path":"utiliy","rule":"js:\nlet host = \"http://hiker.nokia.press\";\n//let host = \"http://192.168.3.94:8079\";\nlet home = base64Decode(\"aGlrZXI6Ly9ob21l\");\nvar api = {\n    host: host+\"/hikerule\",\n    usersUrl: \"/dev/users?order=\", //用户列表\n    ruleCountUrl: \"/dev/rulecount\", //获取规则数量\n    rulesUrl: \"/dev/get\", //用户对应的规则列表仅仅获取公开\n    rulesAllUrl: \"/dev/getall\", //开发者对应的规则列表可获取私有\n    importUrl: \"/rulelist.json?id=\", //规则详情可导入\n    infoSetUrl: \"/dev/set_info\",\n    nowConUrl: \"/sql_info/get_now_con\",\n    infoGetUrl: \"/dev/get_info?name=\",\n    settingsGetUrl: \"/dev/get_settings?name=\",\n    gupload: \"/dev/gupload\",\n    gtimeover: \"/dev/gtimeover\",\n    getbyid: \"/dev/getbyid\",\n    ruleListJson: \"/rulelist.json\",\n    auth: \"/dev/get_auth\",\n    timeover: \"/dev/timeover\",\n    share: \"/dev/share\",\n    genAuth: \"/dev/gen_auth\",\n    deleteUrl: \"/dev/delete\",\n    jsonList: \"/dev/json_list\",\n    search: \"/dev/search\",\n    new_dev: \"/dev_regist/new\",\n    new_getId: \"/dev_regist/get_id\",\n    new_confirm: \"/dev_regist/confirm\",\n    modify_pwd: \"/modify/password\",\n    modify_name: \"/modify/name\",\n    modify_ava: \"/modify/avatar\",\n    user: \"/dev/user/\",\n    get_rule_note: \"/modify/get_rule_note/\",\n    set_rule_pic: \"/modify/rule_pic/\",\n    set_rule_note: \"/modify/rule_note/\"\n}\n$.exports.range = function(m, n) {\n    return Math.floor(Math.random() * (m - n + 1) + n);\n}\n$.exports.mapColType = function(target, type, n) {\n    for (let i = 0; i < n; i++) {\n        target.push({\n            col_type: type\n        });\n    }\n}\n$.exports.getApi = function(k) {\n    return api.host + api[k];\n}\n$.exports.localRuleVer = function(localRuleList, rule) {\n    let localRule;\n    for (let i = 0; i < localRuleList.length; i++) {\n        let item = localRuleList[i];\n        let au = item.author || \"\";\n        let sameAu=au.length > 0 && rule.author.includes(au);\n        sameAu=true;//不判断作者默认为true\n        if (item.title === rule.name && sameAu) {\n            localRule = item;\n            break;\n        }\n    }\n    if (localRule === void 0) {\n        return -1;\n    } else {\n        return localRule.version;\n    }\n}\n$.exports.color = function(text, color) {\n    text += \"\";\n    if (text.indexOf(\"““””\") === 0) {\n        text.replace(\"““””\", \"\");\n    }\n    return \"““””<font color='\" + color + \"'>\" + text + \"</font>\";\n}\n\nfunction htmlTag(tag, text) {\n    text += \"\";\n    if (text.indexOf(\"““””\") === 0) {\n        text.replace(\"““””\", \"\");\n    }\n    return \"““””\" + \"<\" + tag + \">\" + text + \"</\" + tag + \">\";\n\n}\n\nfunction getNowFormatDate() {\n            let date = new Date();\n            let seperator1 = \"-\";\n            let seperator2 = \":\";\n            let month = date.getMonth() + 1;\n            let strDate = date.getDate();\n            let strHours = date.getHours();\n            let strMinutes = date.getMinutes();\n            let strSeconds = date.getSeconds()+1;\n            if (month >= 1 && month <= 9) {\n                month = \"0\" + month\n            }\n            if (strDate >= 0 && strDate <= 9) {\n                strDate = \"0\" + strDate\n            }\n            if (strHours >= 0 && strHours <= 9) {\n                strHours = \"0\" + strHours\n            }\n            if (strMinutes >= 0 && strMinutes <= 9) {\n                strMinutes = \"0\" + strMinutes\n            }\n            if (strSeconds >= 0 && strSeconds <= 9) {\n                strSeconds = \"0\" + strSeconds\n            }\n            //let currentdate = date.getFullYear() + seperator1 + month + seperator1 + strDate + \" \" + strHours + seperator2 + strMinutes + seperator2 + strSeconds;\n            let currentdate = (date.getFullYear()-2020)+''+ month +''+ strDate +''+ strHours+'' + strMinutes +''+ Math.ceil(strSeconds/7);\n            return parseInt(currentdate)\n        }\n$.exports.getNowFormatDate = getNowFormatDate;\n$.exports.htmlTag = htmlTag;\n$.exports.small = function(text) {\n    return htmlTag(\"small\", text);\n}\n$.exports.getFile = function() {\n    var File = request(\"hiker://files/WarehouseUSER.json\") || \"{}\";\n    try {\n        return JSON.parse(File);\n    } catch (e) {\n        writeFile(\"hiker://files/WarehouseUSER.json\", \"{}\");\n        return {};\n    }\n}\n$.exports.getUserDate =function(){\n    var File = request(\"hiker://files/WarehouseUSERA.json\") || \"[]\";\n    try {\n        return JSON.parse(File);\n    } catch (e) {\n        writeFile(\"hiker://files/WarehouseUSERA.json\", \"[]\");\n        return [];\n    }\n}\n$.exports.existFile = function(spath, ipath, headers) {\n    let scode = request(spath);\n    if (!scode) {\n        writeFile(spath, request(ipath, headers));\n    }\n}\n\nlet newApi = {\n    \"dis_new\": \"/hikerule/new_rule_discuss/\",\n    \"dis_verify\": \"/hikerule/rule_discuss/get_yzm\",\n    \"dis_get\": \"/hikerule/rule_discuss/\",\n    \"dis_set\": \"/hikerule/modify/can_discuss/\",\n    \"dis_new_user\": \"/hikerule/rule_discuss/new_user\",\n    \"dis_login\":\"/hikerule/rule_discuss/user_login\",\n    \"dis_dev_discuss\":\"/hikerule/modify/dev_can_discuss\",\n    \"dis_dev_control\":\"/hikerule/rule_discuss/remove/\",\n    \"all_rule\":\"/hikerule/get_rules\",\n    \"dis_get_reply\":\"/hikerule/get_reply_rule_discuss\",\n    \"dis_reply\":\"/hikerule/dev_new_rule_discuss/\",\n}\n\nfunction setApi(object) {\n    let target = {};\n    for (let key in object) {\n        target[key]=host+object[key]\n    }\n    return target;\n}\n\n$.exports.api = setApi(newApi);\n$.exports.api.host=host;\n$.exports.api.home=home;"},{"col_type":"movie_3","name":"开发者登录","path":"devLogin","rule":"js:\nsetPageTitle(\"开发者登录\");\nconst {\n    getApi,\n    htmlTag,\n    mapColType,\n    small,\ngetFile\n} = $.require(\"hiker://page/utiliy\");\nvar data = [];\naddListener('onClose', $.toString(()=>{\n    clearVar(\"WarehouseUsername\");\n    clearVar(\"WarehousePassword\");\n}))\ndata.push({\n    title: '账号',\n    col_type: 'input',\n    extra: {\n        defaultValue: getVar('WarehouseUsername',''),\n        type:\"number\",\n        onChange: 'putVar(\"WarehouseUsername\",input)'\n    }\n}, {\n    title: '密码',\n    col_type: 'input',\n    extra: {\n        defaultValue: getVar('WarehousePassword', ''),\n        type: \"password\",\n        onChange: 'putVar(\"WarehousePassword\",input)'\n    }\n});\n\ndata.push({\n    title:\"&nbsp;&nbsp;<a href='hiker://page/Register'>注册</a>\",\n    col_type:\"rich_text\"\n});\nmapColType(data, \"line_blank\", 1);\nlet user = getFile();\ndata.push({\n    title: htmlTag(\"b\", \"登录\"),\n    url: $().lazyRule((url, f)=> {\n        let username = getVar('WarehouseUsername', ''),\n            password = getVar('WarehousePassword', '');\n        if(username === \"\" && password ===\"\"){\n            return \"toast://账号和密码不能为空\"\n        }\n        let myUrl = url + '?qq=' + username + '&password=' + password;\n        let code_str = request(myUrl);\n        let code = JSON.parse(code_str);\n        if (code.status == 0) {\n            f.username=username;\n            f.password=password\n            writeFile('hiker://files/WarehouseUSER.json', JSON.stringify(f));\n            back();\n            return \"toast://登录成功\";\n        }else{\n            return \"toast://账号或密码错误\";\n        }\n    }, getApi(\"rulesAllUrl\"),user),\n    col_type: 'text_center_1'\n});\nsetResult(data);"},{"col_type":"icon_2_round","name":"开发者管理","path":"devManage","rule":"js:\nsetPageTitle(\"规则管理\");\naddListener('onClose', 'clearVar(\"Warehouse.back\",\"\");');\nif (getVar(\"Warehouse.back\") === \"1\") {\n    back();\n}\nconst {\n    getApi,\n    color,\n    small,\n    getFile,\n    existFile,\n    mapColType,\n    api\n} = $.require(\"hiker://page/utiliy\");\nlet {\n    dev,\n    username,\n    password\n} = MY_PARAMS;\n//existFile(\"hiker://files/rules/dzHouse/html/开发者分享.html\", \"https://erp.scwinbao.com/hikerule/rulelist.json?id=539\");\nlet ruleList = JSON.parse(request(getApi(\"rulesAllUrl\") + '?qq=' + username + '&password=' + password)).result;\nlet MOBILE_UA = 'Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.146 Mobile Safari/537.36';\nlet infoSetUrl = getApi(\"infoSetUrl\");\nlet infoGetUrl = getApi(\"infoGetUrl\") + username;\nlet settingsGetUrl = getApi(\"settingsGetUrl\") + username;\nputMyVar(\"dev_set_info\", [username, password, infoSetUrl, MOBILE_UA, infoGetUrl].join(\"$$\"));\nlet data = [];\ndata.push({\n    title: '““””<big>仓库设置</big>&nbsp;&nbsp;&nbsp;<small><u>（ 个人资料 >）</u></small>',\n    desc: '““””您共有 <span style=\"color: #ff7000\">' + ruleList.length + '</span>' + \" 条规则。\\n点击规则可进行分享、删除、导入操作及查看详情\",\n    url: \"hiker://page/PersonalData#noHistory##noRecordHistory#\",\n    extra:{id:dev.id},\n    col_type: 'text_1'\n});\nmapColType(data, \"line\", 2);\ndata.push({\n    title: small(color(\"更改公告✍\", \"#34b1ff\")),\n    // url: \"x5://file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/dzHouse/html/dev_info_edit.html\",\n    url: \"hiker://page/devInfoEdit\",\n    col_type: 'text_3'\n});\ndata.push({\n    title: small(color(\"更多分享📲\", \"#34b1ff\")),\n    //url: \"x5://file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/dzHouse/html/开发者分享.html\",\n    url: \"hiker://page/moreShare\",\n    col_type: 'text_3'\n});\ndata.push({\n    title: small(color(\"升级依赖📥\", \"#34b1ff\")),\n    url: $(\"升级会重新从仓库拉取相关的静态页面到本地\\n确认升级吗?\").confirm((host) => {\n        writeFile(\"hiker://files/rules/dzHouse/html/开发者分享.html\", request(host+'/hikerule/rulelist.json?id=539'));\n        writeFile(\"hiker://files/rules/dzHouse/html/dev_info_edit.html\", request(host+'/hikerule/rulelist.json?id=402'));\n        writeFile(\"hiker://files/rules/dzHouse/html/dev_info_get.html\", request(host+'/hikerule/rulelist.json?id=404'));\n        refreshPage(false);\n        return \"toast://已重置开发者分享,简介查看,简介编辑等静态文件\";\n    },api.host),\n    col_type: 'text_3'\n});\nlet devSetBack;\ntry {\n    devSetBack = JSON.parse(request(settingsGetUrl));\n} catch (e) {\n    devSetBack = {};\n}\n\nfunction setSettingItem(basic) {\n    let temp = {\n        title: basic.title,\n        col_type: basic.col_type,\n        url: $(basic.confirm).confirm((url, msg) => {\n            let back = request(url);\n            let ret = JSON.parse(back);\n            if (ret.status == 0) {\n                refreshPage(true);\n                return \"toast://\" + msg[0];\n            } else {\n                refreshPage(false);\n                return \"toast://\" + msg[1] + \"\\n\" + ret.detail;\n            }\n        }, basic.url, basic.msg)\n    };\n    return temp;\n}\nif (devSetBack.status == 0) {\n    let devSettings = devSetBack.result;\n    let share = {\n        col_type: \"text_3\"\n    };\n    if (devSettings.share_public) {\n        share.title = small(color(\"公开上传\", \"green\") + color(\"(私藏)\", \"#00bfff\"));\n        share.url = getApi(\"gupload\") + \"?qq=\" + username + \"&password=\" + password + \"&flag=1\";\n        share.confirm = \"是否确认私藏以后提交的规则?\";\n        share.msg = [\"已私藏\", \"私藏失败\"];\n    } else {\n        share.title = small(color(\"私密上传\", \"red\") + color(\"(公开)\", \"#adff2f\"));\n        share.url = getApi(\"gupload\") + \"?qq=\" + username + \"&password=\" + password;\n        share.confirm = \"是否确认公开以后提交的规则?\";\n        share.msg = [\"已公开\", \"公开失败\"];\n    }\n    data.push(setSettingItem(share));\n    let timeOver = {\n        col_type: \"text_3\"\n    };\n    if (devSettings.time_over) {\n        timeOver.title = small(color(\"短时秘钥\", \"green\") + color(\"(永久)\", \"#00bfff\"));\n        timeOver.url = getApi(\"gtimeover\") + \"?qq=\" + username + \"&password=\" + password + \"&flag=1\";\n        timeOver.confirm = \"是否确认以后的私藏规则分享不过期?\";\n        timeOver.msg = [\"已设为永久\", \"设为永久失败\"];\n    } else {\n        timeOver.title = small(color(\"永久秘钥\", \"red\") + color(\"(过期)\", \"#adff2f\"));\n        timeOver.url = getApi(\"gtimeover\") + \"?qq=\" + username + \"&password=\" + password;\n        timeOver.confirm = \"确认要以后分享的私藏规则自动到期?\";\n        timeOver.msg = [\"已设为过期\", \"设为过期失败\"];\n    }\n    data.push(setSettingItem(timeOver));\n    let discuss = {\n        col_type: \"text_3\"\n    };\n    if (devSettings.can_discuss) {\n        discuss.title = small(color(\"允许评论\", \"red\") + color(\"(不许)\", \"#adff2f\"));\n        discuss.url = api.dis_dev_discuss + \"?qq=\" + username + \"&password=\" + password+ \"&flag=1\";\n        discuss.confirm = \"是否确认以后上传的规则允许评论?\";\n        discuss.msg = [\"已设为不许\", \"设置失败\"];\n\n    } else {\n        discuss.title = small(color(\"不许评论\", \"green\") + color(\"(允许)\", \"#00bfff\"));\n        discuss.url = api.dis_dev_discuss + \"?qq=\" + username + \"&password=\" + password;\n        discuss.confirm = \"是否确认以后上传的规则允许评论?\";\n        discuss.msg = [\"已设为允许\", \"设置失败\"];\n    }\n    data.push(setSettingItem(discuss));\n}\nmapColType(data, \"line\", 2);\nfor (let item of ruleList) {\n    let my_t_excode1 = '';\n    let my_t_excode2 = '';\n    if (item.state != 'public') {\n        my_t_excode1 += '㊙️';\n    } else {\n        my_t_excode1 += '';\n    }\n    data.push({\n        title: my_t_excode1 + item.name + my_t_excode2,\n        url: \"hiker://page/manageRule#noHistory##noRecordHistory#\",\n        extra: {\n            id: item.id,\n            username: username,\n            password: password\n        },\n        pic_url: item.pic,\n    })\n}\nif (ruleList.length === 0) {\n    data.push({\n        title: \"<h5 style='text-align:center'>快来上传你的第一条规则吧！</h5>\",\n        col_type: \"rich_text\"\n    });\n}\nsetResult(data);"},{"col_type":"movie_3","name":"规则详细-dev","path":"manageRule","rule":"js:\nconst {\n    getApi,\n    color,\n    small,\n    getFile,\n    existFile,\n    mapColType,\n    htmlTag,\n    api\n} = $.require(\"hiker://page/utiliy\");\nlet {\n    id,\n    username,\n    password\n} = MY_PARAMS;\naddListener('onClose', $.toString(() => {\n    refreshPage(false);\n}));\nlet dataItem = JSON.parse(request(getApi(\"getbyid\") + \"?id=\" + id)).result;\nsetPageTitle(\"编辑「\" + dataItem.name + \"」\");\nlet reqByGet = \"?id=\" + dataItem.id + \"&qq=\" + username + \"&password=\" + password;\nlet ruleListJson = getApi(\"ruleListJson\") + \"?id=\";\nlet data = [];\ndata.push({\n    title: htmlTag(\"big\", \"版本\"),\n    desc: \"““””云端版本:\" + color(dataItem.ver, \"#5cff2c\") + \"\\n上次提交于: [\" + color(dataItem.last_update, \"#ff7000\") + \"]\",\n    url: $(\"<开发者>\\n\" + dataItem.author + \"\\n<名称>\\n\" + dataItem.name + \"\\n<云端版本>\\n\" + dataItem.ver + \"\\n<更新时间>\\n[\" + dataItem.last_update + \"]\").confirm(() => {}),\n    col_type: 'text_1'\n});\nlet dataType = {\n    home_rule_url: '首页云规则',\n    publish: '提交云仓库规则',\n    js_url: '网页插件规则',\n    html: '静态页面',\n    config: '主页配置'\n};\n\nlet basic = {\n    col_type: \"text_1\",\n    url: \"hiker://empty\"\n};\nlet dataTypeTips = dataType[dataItem.data_type] || '未知规则:' + dataItem.data_type;\n\nbasic.title = htmlTag(\"big\", \"类型\") + \"\\t\\t\\t\" + small(\"(id:\" + dataItem.id + \")\");\nbasic.desc = \"数据类型：\" + color(dataTypeTips, \"#cb54ff\") + \"\\n分享状态为：\" + dataItem.state;\nif ([\"html\", \"config\", \"js_url\"].includes(dataItem.data_type)) {\n    basic.desc += \"\\n““”” =>\" + small(\"点此预览\");\n    basic.url = ruleListJson + dataItem.id;\n}\nlet auth = \"\";\nif (dataItem.state == \"private\") {\n    let auth_back = JSON.parse(request(getApi(\"auth\") + reqByGet));\n    basic.title = basic.title + \"\\n\" + small(color(auth_back.result, \"grey\"));\n    auth = '&auth=' + auth_back.result;\n    basic.url = basic.url === \"hiker://empty\" ? basic.url : basic.url + auth;\n}\ndata.push(basic);\ndata.push({\n    title: htmlTag(\"big\", \"操作\"),\n    col_type: \"text_1\",\n    url: \"toast://你才是最帅的那个人！\"\n});\nlet importUrl, ruleCode, shareUrl, backCode = \"\";\nif (!dataItem.is_json) {\n    backCode = request(ruleListJson + dataItem.id + auth);\n}\nswitch (dataItem.data_type) {\n    case \"home_rule_url\":\n        ruleCode = \"海阔视界首页频道规则【\" + dataItem.name + \"】￥home_rule_url￥\" + ruleListJson + dataItem.id + auth;\n        importUrl = \"rule://\" + base64Encode(ruleCode)\n        break;\n    case 'publish':\n        ruleCode = '海阔视界规则分享，当前分享的是：' + dataItem.name + '￥publish￥' + base64Encode(backCode);\n        importUrl = 'rule://' + base64Encode(ruleCode);\n        break;\n    case 'js_url':\n        ruleCode = '海阔视界规则分享，当前分享的是：网页插件￥js_url￥' + dataItem.name + '@base64://' + base64Encode(backCode);\n        importUrl = 'rule://' + base64Encode(ruleCode);\n        break;\n    case 'html':\n        let file_tmp = dataItem.name.split('.');\n        let file_path = file_tmp.length > 1 ? file_tmp[file_tmp.length - 1] + \"/\" + dataItem.name : dataItem.name;\n        ruleCode = \"海阔视界本地文件分享￥file_url￥hiker://files/rules/dzHouse/\" + file_path + \"@\" + ruleListJson + dataItem.id + auth;\n        importUrl = 'rule://' + base64Encode(ruleCode);\n        break\n    case \"config\":\n        importUrl = $().rule(password => {\n            eval(fetch(\"hiker://assets/home.js\"));\n            HikerHome.load(\"import\", password);\n        }, backCode);\n        break;\n}\nlet my_col_type = \"text_2\";\nif (importUrl) {\n    data.push({\n        title: \"导入规则\",\n        url: importUrl,\n        col_type: my_col_type\n    });\n}\nif (ruleCode) {\n    data.push({\n        title: \"分享规则\",\n        url: \"copy://\" + ruleCode,\n        col_type: my_col_type\n    });\n}\n\nfunction setSettingItem(basic, pattern) {\n    let temp = {\n        title: basic.title,\n        col_type: basic.col_type,\n        url: $(basic.confirm).confirm((url, msg, pattern) => {\n            let backA = request(url);\n            let ret = JSON.parse(backA);\n            if (ret.status == 0) {\n                pattern ? back() : refreshPage(false);\n                return \"toast://\" + msg[0];\n            } else {\n                pattern ? back() : refreshPage(false);\n                return \"toast://\" + msg[1] + \"\\n\" + ret.detail;\n            }\n        }, basic.url, basic.msg, pattern)\n    };\n    return temp;\n}\nif (dataItem.state == 'private') {\n    data.push({\n        title: \"设为公开\",\n        url: $(getApi(\"share\") + reqByGet + \"&flag\" + \"#noLoading#\").lazyRule(() => {\n            request(input);\n            refreshPage(false);\n            return \"toast://已设为公开\";\n        }),\n        col_type: my_col_type\n    }, {\n        title: \"随机密钥\",\n        col_type: my_col_type,\n        url: $(getApi(\"genAuth\") + reqByGet + \"#noLoading#\").lazyRule(() => {\n            let back = request(input);\n            let ret = JSON.parse(back);\n            if (ret.status == 0) {\n                refreshPage(false);\n                return \"toast://已生成随机密码\\n\" + ret.result\n            } else {\n                refreshPage(true);\n                return \"toast://随机密码生成失败\"\n            }\n        })\n    });\n    let timeOver = {\n        col_type: my_col_type\n    };\n    if (dataItem.time_over) {\n        timeOver.title = small(color(\"短时密钥\", \"green\") + color(\"(→永久)\", \"red\"));\n        timeOver.url = getApi(\"timeover\") + reqByGet + \"&flag=1\";\n        timeOver.confirm = \"是否确认以后的私藏规则分享不过期?\";\n        timeOver.msg = [\"已设为永久\", \"设为永久失败\"];\n    } else {\n        timeOver.title = small(color(\"永久密钥\", \"red\") + color(\"(→短时)\", \"green\"));\n        timeOver.url = getApi(\"timeover\") + reqByGet;\n        timeOver.confirm = \"确认要以后分享的私藏规则自动到期?\";\n        timeOver.msg = [\"已设为过期\", \"设为过期失败\"];\n    }\n    data.push(setSettingItem(timeOver));\n} else if (dataItem.state == 'public') {\n    data.push({\n        title: \"设为私有\",\n        url: $(getApi(\"share\") + reqByGet + \"&flag=1#noLoading#\").lazyRule(() => {\n            request(input);\n            refreshPage(false);\n            return \"toast://已设为私有\";\n        }),\n        col_type: my_col_type\n    });\n}\ndata.push(setSettingItem({\n    title: \"删除数据\",\n    confirm: \"是否确认删除\",\n    msg: [\"已删除\", \"删除失败\"],\n    url: getApi(\"deleteUrl\") + reqByGet,\n    col_type: my_col_type\n}, true));\ndata.push({\n    title: \"设置图标\",\n    url: $(dataItem.pic_url, \"输入图标地址\").input(api => {\n        if (input === \"\") {\n            return \"toast://你在逗我链接哪?\"\n        }\n        let result = request(api + \"&rule_pic=\" + input);\n        result = JSON.parse(result);\n        if (result.status !== 0) {\n            return \"toast://\" + result.detail;\n        }\n        return \"toast://修改成功\";\n    }, getApi(\"set_rule_pic\") + dataItem.id + reqByGet),\n    col_type: my_col_type\n});\n\ndata.push({\n    title: dataItem.can_discuss ? \"禁止评论\" : \"开启评论\",\n    url: $(api.dis_set + dataItem.id + reqByGet + \"&state=\" + (dataItem.can_discuss ? \"\" : 1)).lazyRule((can_discuss) => {\n        request(input);\n        refreshPage(false);\n        return can_discuss ? \"toast://已禁止评论\" : \"toast://已开启评论\";\n    }, dataItem.can_discuss),\n    col_type: my_col_type\n});\nMY_PARAMS.name = dataItem.name;\ndata.push({\n    title: \"设置备注\",\n    url: \"hiker://page/set_rule_notes\",\n    extra: MY_PARAMS,\n    col_type: my_col_type\n});\nif (dataItem.is_json && dataItem.data_type === \"home_rule_url\" && !dataItem.is_json_list) {\n    data.push({\n        title: '进入频道',\n        url: $( /*\"#noLoading#\"*/ ).lazyRule((name,home) => {\n            let ruleList = JSON.parse(request(home));\n            let hasRule = ruleList.some(item => item.title === name);\n            if (hasRule) {\n                putVar(\"Warehouse.back\", \"1\");\n                back();\n                return home+\"s@\" + name;\n            } else {\n                return \"toast://未安装\";\n            }\n        }, dataItem.name,api.home),\n        col_type: my_col_type\n    });\n}\ndata.push({\n    col_type: \"line_blank\"\n});\ndata.push({\n    title: dataItem.good_num,\n    pic_url: \"hiker://files/icon/赞.svg\",\n    col_type: \"icon_small_3\",\n    url: \"hiker://empty\"\n});\ndata.push({\n    title: dataItem.bad_num,\n    pic_url: \"hiker://files/icon/踩.svg\",\n    col_type: \"icon_small_3\",\n    url: \"hiker://empty\"\n});\ndata.push({\n    title: \"评论\",\n    pic_url: \"hiker://files/icon/评论.svg\",\n    col_type: \"icon_small_3\",\n    url: \"hiker://page/Reply#noHistory##noRecordHistory#\",\n    extra: {\n        ruleId: dataItem.id,\n        name: dataItem.author,\n        password: password,\n        username: username\n    }\n});\nlet totalSum = dataItem.good_num + dataItem.bad_num;\n\ndata.push({\n    title: htmlTag(\"big\", \"评论(\" + totalSum + \")\") + \"\\t\\t\\t\" + small(htmlTag(\"u\", \"查看全部评论(控评) >\")),\n    col_type: \"text_1\",\n    url: \"hiker://page/Comment\",\n    extra: {\n        url: \"hiker://empty#fypage#noHistory##noRecordHistory#\",\n        id: dataItem.id,\n        totalSum: totalSum,\n        no_active: true,\n        username: username,\n        password: password\n    }\n});\n//const longestSum=120;\nlet icon = {\n    \"good\": \"👍\",\n    \"bad\": \"👎\",\n    \"reply\": \"开发者🗣\"\n}\nif (totalSum === 0) {\n    data.push({\n        title: \"<h5 style='text-align:center'>一条评论也没有，快来抢沙发吧！</h5>\",\n        col_type: \"rich_text\"\n    });\n} else {\n    let commentList = JSON.parse(request(api.dis_get + dataItem.id + \"?limit=5\")).result;\n    for (let item of commentList) {\n        let Reply = item.discuss_type===\"reply\"&&item.reply_to_name!==false&&item.reply_to_id!==false?\"‘‘回复@\"+item.reply_to_name+\" #\"+item.discuss_id+\"’’\\n\":\"\";\n        data.push({\n            title: item.name + \"&nbsp;&nbsp;<font color='gray'><small>#\" + item.id + \"</small><font>\",\n            col_type: \"avatar\",\n            url: \"hiker://page/Reply\",\n            extra:{\n                ruleId: dataItem.id,\n                name: item.name,\n                password: password,\n                username: username,\n                replyId:item.id\n            },\n            pic_url: item.avatar_url\n        });\n        data.push({\n            title: item.discuss_text,\n            desc: Reply+item.create_date + \"·\" + icon[item.discuss_type],\n            col_type: \"text_1\",\n            url: \"hiker://page/info\",\n            extra: {\n                name: item.name,\n                type: \"long_text\",\n                text: item.discuss_text\n            },\n            pic_url: item.avatar_url\n        });\n    }\n}\ndata.push({\n    col_type: \"line_blank\"\n});\nsetResult(data);"},{"col_type":"icon_2_round","name":"规则列表","path":"rules","rule":"js:\naddListener('onClose', 'clearVar(\"Warehouse.back\",\"\");clearVar(\"Warehouse.filter\",\"\");clearVar(\"Warehouse.type\",\"\");');\n\nif (getVar(\"Warehouse.back\") === \"1\") {\n    back(false);\n}\n\nconst {\n    getApi,\n    api,\n    color,\n    small,\n    localRuleVer,\n    htmlTag\n} = $.require(\"hiker://page/utiliy\");\nconst { mergeSort } = $.require(\"hiker://page/sort\");\nlet {\n    avatarUrl,\n    qq\n} = MY_PARAMS;\nlet dataType = getVar(\"Warehouse.type\",\"\");\nlet backCode = JSON.parse(request(getApi(\"rulesUrl\") + \"?name=\" + qq+\"&data_type=\"+dataType));\nlet devName = backCode.dev_name;\nputVar(\"Warehouse.filter\", devName);\nlet ruleList = backCode.result;\nlet subUrl = getApi(\"jsonList\") + \"?name=\" + qq;\nlet hasSub = hasHomeSub(subUrl);\nlet devInfo = \"这个人很懒,什么都没写哦~\";\nlet tmpJson = JSON.parse(request(getApi(\"infoGetUrl\") + qq));\nif (tmpJson.status == 0) {\n    devInfo = tmpJson.result || devInfo;\n}\nlet subFlag = hasSub ? '🆗' : '📡';\nlet data = [];\nrequire(\"https://cdn.jsdelivr.net/npm/marked/marked.min.js\");\ndevInfo=marked.parse(devInfo);\ndata.push({\n    title: \"““””\" + devName + \"\\n\\n\" + small(htmlTag(\"u\", \"点击查看完整公告\")),\n    desc: small(devInfo),\n    url: 'hiker://page/info',\n    extra: {\n        text: devInfo,\n        name: devName,\n        type:\"rich_text\"\n    },\n    pic_url: avatarUrl,\n    col_type: 'movie_1_vertical_pic'\n});\ndata.push({\n    title: \"<big>订阅管理</big>&nbsp;&nbsp;<small>(当前\" + (hasSub ? \"已订阅\" : \"未订阅\") + \")</small>\",\n    col_type: \"rich_text\"\n});\n\nlet sub_code = '海阔视界合集规则订阅￥home_sub￥' + devName + \"合集@@\" + subUrl;\nlet rulesCode = '海阔视界合集规则￥home_rule_url￥' + subUrl;\ndata.push({\n    title: '““””<span style=\"color: #ff7000\">一键订阅</span>',\n    desc: '订阅““””<span style=\"color: #5cff2c\">' + devName + '</span>的所有单规则，合集需单独订阅',\n    url: sub_code,\n    col_type: 'text_3'\n});\ndata.push({\n    title: '““””<span style=\"color: #ff7000\">导入全部</span>',\n    url: rulesCode,\n    col_type: 'text_3'\n});\ndata.push({\n    title: '““””<span style=\"color: #ff7000\">导入轻合集</span>',\n    url: $().lazyRule((devName,subUrl,avatarUrl)=>{\n        const {genRule}=$.require(\"hiker://page/genApi\");\n    log(\"轻合集图标链接:\"+avatarUrl);\n    let import_rule=genRule(\"轻合集.\"+devName,subUrl,avatarUrl);\n    //copy(import_rule);\n    let ruleCode=parsePaste(import_rule.split(\"\\n\")[0]);\n    //return \"hiker://empty\"\n    importUrl = 'rule://' + base64Encode(ruleCode);\n    return importUrl\n    },devName,subUrl,avatarUrl),\n    col_type: 'text_3'\n});\ndata.push({\n    title: \"<small>提示：开发者单独分享的合集文件只能单独导入。</small>\",\n    col_type: \"rich_text\"\n});\ndata.push({\n    title: \"<big>规则列表</big>&nbsp;&nbsp;<small>(共\" + ruleList.length + \"条)</small>\",\n    col_type: \"rich_text\"\n});\nlet dataTypeList = {\n    \"\":\"全部\",\n    \"home_rule_url\": '小程序',\n    //\"publish\": '提交云仓库规则',\n    \"js_url\": '网页插件',\n    \"html\": '静态页面',\n    \"config\": '主题'\n};\nfor(let key in dataTypeList){\n    data.push({\n        title:dataType===key?\"““\"+dataTypeList[key]+\"””\":dataTypeList[key],\n        url:$(\"#noLoading#\").lazyRule((key)=>{\n            putVar(\"Warehouse.type\",key);\n            refreshPage(false);\n            return \"hiker://empty\";\n        },key),\n        col_type:\"scroll_button\"\n    });\n}\nif (ruleList.length > 20) {\n    data.push({\n        title: \"搜索\",\n        url: $.toString(name => \"hiker://search?s=\" + input + \"&rule=\" + name, MY_RULE.title),\n        col_type: \"input\",\n        desc: \"搜索当前开发者的规则\"\n    });\n}\nlet homeList = JSON.parse(request(api.home));\nlet mRuleList = [];\nfor (var item of ruleList) {\n    var name = item.name;\n    if (item.is_tap) {\n        let location = JSON.parse(request(getApi(\"ruleListJson\") + \"?id=\" + item.id));\n        item.id = location.id;\n        item.name = location.name;\n        item.author = location.author;\n        item.data_type = location.data_type;\n        item.ver = location.ver\n    }\n    item.version = item.ver;\n    let label = \"\",\n        lver = -2;\n    if (item.is_json && item.data_type === \"home_rule_url\") {\n        lver = localRuleVer(homeList, item);\n        if (lver === -1) {\n            label = \"🆕\";\n        } else if (lver < item.ver) {\n            label = \"🆙\";\n        }\n    }\n    mRuleList.push({\n        title: label + name,\n        url: \"hiker://page/ruleDetail#noHistory##noRecordHistory#\",\n        extra: {\n            lver: lver,\n            id: item.id\n        },\n        pic_url: item.pic,\n    });\n}\n/* 归并排序 Start */\nmRuleList = mergeSort(mRuleList);\n/* 归并排序 End */\ndata.push.apply(data, mRuleList) \nsetResult(data);\n"},{"col_type":"movie_3","name":"规则详细-user","path":"ruleDetail","rule":"js:\n    const {\n        getApi,\n        color,\n        small,\n        htmlTag,\n        api\n    } = $.require(\"hiker://page/utiliy\");\nlet {\n    id,\n    lver,\n    isAll\n} = MY_PARAMS;\naddListener('onClose', $.toString((isAll) => {\n    if(!isAll){\n        refreshPage(false);\n    }\n},isAll));\nlet dataItem = JSON.parse(request(getApi(\"getbyid\") + \"?id=\" + id)).result;\nsetPageTitle(\"「\" + dataItem.name + \"」\")\nlet ruleListJson = getApi(\"ruleListJson\") + \"?id=\";\nlet data = [];\nvar hasSub = false;\n\nif (dataItem.is_json_list) {\n    hasSub = hasHomeSub(ruleListJson + dataItem.id);\n} else if (!dataItem.is_json_list && dataItem.data_type == 'home_rule_url') {\n    hasSub = hasHomeSub(ruleListJson + dataItem.id + '&debug=true');\n}\n\ndata.push({\n    title: htmlTag(\"big\", \"版本\"),\n    desc: \"““””开发者：\" + color(dataItem.author, \"#228BE6\") + \"\\n云端版本：\" + color(dataItem.ver, \"#5cff2c\") + \"\\t\\t本地版本：\" + color(lver, \"#5cff2c\") + \"\\n更新于: [\" + color(dataItem.last_update, \"#ff7000\") + \"]\",\n    url: $(\"<开发者>\\n\" + dataItem.author + \"\\n<名称>\\n\" + dataItem.name + \"\\n<云端版本>\\n\" + dataItem.ver + \"\\n<本地版本>\\n\" + lver + \"\\n<更新时间>\\n[\" + dataItem.last_update + \"]\").confirm(() => {}),\n    col_type: 'text_1'\n});\nlet dataType = {\n    home_rule_url: '首页云规则',\n    publish: '提交云仓库规则',\n    js_url: '网页插件规则',\n    html: '静态页面',\n    config: '主页配置'\n};\n\nlet basic = {\n    col_type: \"text_1\",\n    url: \"hiker://empty\"\n};\nlet dataTypeTips = dataType[dataItem.data_type] || '未知规则：' + dataItem.data_type;\n\nlet safe_tip=dataItem.is_safe?\"安全\":\"危险\";\nlet not_safe_note=dataItem.not_safe_note;\nbasic.title = htmlTag(\"big\", \"类型\") + \"\\t\\t\\t\" + small(\"(id:\" + dataItem.id + \")\")+\"\\t\\t\\t\" + small(\"(风险检测:\" +safe_tip+\")\");\nbasic.desc = \"数据类型：\" + color(dataTypeTips, \"#cb54ff\") + \"\\n分享状态为：\" + dataItem.state;\nif ([\"html\", \"config\", \"js_url\"].includes(dataItem.data_type)) {\n    basic.desc += \"\\n““”” =>\" + small(\"点此预览\");\n    basic.url = ruleListJson + dataItem.id;\n}\n\ndata.push(basic);\nlet hasSubs = \"\";\nif (hasSub) {\n    hasSubs = \"\\t\\t\\t\" + small(\"已订阅\")\n}\n\nlet notes = request(getApi(\"get_rule_note\") + id);\nnotes = JSON.parse(notes).result;\nrequire(\"https://cdn.jsdelivr.net/npm/marked/marked.min.js\");\nlet notesHtml=\"\"\ntry{\n    notesHtml=marked.parse(notes);\n}catch(e){}\n\nif (notes !== false) {\n    data.push({\n        title: htmlTag(\"big\", \"备注\") + \"\\t\\t\\t\" + small(htmlTag(\"u\", \"查看完整公告 >\")),\n        desc: notes,\n        col_type: \"text_1\",\n        url: \"hiker://page/info\",\n        extra: {\n            text: notesHtml,\n            name: dataItem.name,\n            // type: \"long_text\"\n            type: \"rich_text\"\n        }\n    });\n}\ndata.push({\n    title: htmlTag(\"big\", \"操作\") + hasSubs,\n    col_type: \"text_1\",\n    url: \"toast://你才是最帅的那个人！\"\n});\nlet importUrl, ruleCode, shareUrl, backCode = \"\";\nif (!dataItem.is_json) {\n    backCode = request(ruleListJson + dataItem.id);\n}\nswitch (dataItem.data_type) {\n    case \"home_rule_url\":\n        ruleCode = \"海阔视界首页频道规则【\" + dataItem.name + \"】￥home_rule_url￥\" + ruleListJson + dataItem.id;\n        importUrl = \"rule://\" + base64Encode(ruleCode)\n        break;\n    case 'publish':\n        ruleCode = '海阔视界规则分享，当前分享的是：' + dataItem.name + '￥publish￥' + base64Encode(backCode);\n        importUrl = 'rule://' + base64Encode(ruleCode);\n        break;\n    case 'js_url':\n        ruleCode = '海阔视界规则分享，当前分享的是：网页插件￥js_url￥' + dataItem.name + '@base64://' + base64Encode(backCode);\n        importUrl = 'rule://' + base64Encode(ruleCode);\n        break;\n    case 'html':\n        let file_tmp = dataItem.name.split('.');\n        let file_path = file_tmp.length > 1 ? file_tmp[file_tmp.length - 1] + \"/\" + dataItem.name : dataItem.name;\n        ruleCode = \"海阔视界本地文件分享￥file_url￥hiker://files/rules/dzHouse/\" + file_path + \"@\" + ruleListJson + dataItem.id;\n        importUrl = 'rule://' + base64Encode(ruleCode);\n        break\n    case \"config\":\n        importUrl = $().rule(password => {\n            eval(fetch(\"hiker://assets/home.js\"));\n            HikerHome.load(\"import\", password);\n        }, backCode);\n        break;\n}\nlet my_col_type = \"text_2\";\nif (importUrl) {\n    data.push({\n        title: \"导入规则\",\n        url: importUrl,\n        col_type: my_col_type\n    });\n}\nif (ruleCode) {\n    data.push({\n        title: \"分享口令\",\n        url: \"copy://\" + ruleCode,\n        col_type: my_col_type\n    });\n}\n\nif (importUrl) {\n    if (dataItem.is_json_list && !hasSub) {\n        let sub_rule_code = '海阔视界合集规则订阅￥home_sub￥' + dataItem.name + \"@@\" + ruleListJson + dataItem.id;\n        let sub_url = 'rule://' + base64Encode(sub_rule_code);\n        data.push({\n            title: '订阅合集',\n            url: sub_url,\n            col_type: my_col_type\n        });\n        data.push({\n            title: '““””<span style=\"color: #ff7000\">导入轻合集</span>',\n            url: $().lazyRule((dataItem,subUrl)=>{\n                const {genRule}=$.require(\"hiker://page/genApi\");\n                let import_rule=genRule(dataItem.name+\".\"+dataItem.author,subUrl);\n                //copy(import_rule);\n                let ruleCode=parsePaste(import_rule.split(\"\\n\")[0]);\n                //return \"hiker://empty\"\n                importUrl = 'rule://' + base64Encode(ruleCode);\n                return importUrl\n            },dataItem,ruleListJson + dataItem.id),\n            col_type: my_col_type\n        });\n        data.push({\n            title: \"<small>提示：开发者单独分享的合集文件只能单独导入。</small>\",\n            col_type: \"rich_text\"\n        });\n    } else if (!dataItem.is_json_list && !hasSub && dataItem.data_type == 'home_rule_url') {\n        let sub_rule_code = '海阔视界单规则订阅￥home_sub￥' + dataItem.name + \"@@\" + ruleListJson + dataItem.id + '&debug=true';\n        let sub_url = 'rule://' + base64Encode(sub_rule_code);\n        data.push({\n            title: '订阅规则',\n            url: sub_url,\n            col_type: my_col_type\n        })\n    }\n}\nif (dataItem.is_json && dataItem.data_type === \"home_rule_url\" && !dataItem.is_json_list) {\n    data.push({\n        title: '进入频道',\n        url: $( /*\"#noLoading#\"*/ ).lazyRule((name,home) => {\n            let ruleList = JSON.parse(request(home));\n            let hasRule = ruleList.some(item => item.title === name);\n            if (hasRule) {\n                putVar(\"Warehouse.back\", \"1\");\n                back();\n                return home+\"s@\" + name;\n            } else {\n                return \"toast://未安装\";\n            }\n        }, dataItem.name,api.home),\n        col_type: my_col_type\n    })\n}\ndata.push({\n    col_type: \"line_blank\"\n});\ndata.push({\n    title: dataItem.good_num,\n    pic_url: \"hiker://files/icon/赞.svg\",\n    col_type: \"icon_small_3\",\n    url: \"hiker://page/MakeAcomment#noHistory##noRecordHistory#\",\n    extra: {\n        id: dataItem.id,\n        name: dataItem.name\n    }\n});\ndata.push({\n    title: dataItem.bad_num,\n    pic_url: \"hiker://files/icon/踩.svg\",\n    col_type: \"icon_small_3\",\n    url: \"hiker://page/MakeAcomment#noHistory##noRecordHistory#\",\n    extra: {\n        id: dataItem.id,\n        name: dataItem.name,\n        defaultType:\"bad\"\n    }\n});\ndata.push({\n    title: \"评论\",\n    pic_url: \"hiker://files/icon/评论.svg\",\n    col_type: \"icon_small_3\",\n    url: \"hiker://page/MakeAcomment#noHistory##noRecordHistory#\",\n    extra: {\n        id: dataItem.id,\n        name: dataItem.name\n    }\n});\nlet totalSum = dataItem.good_num + dataItem.bad_num;\n\ndata.push({\n    title: htmlTag(\"big\", \"评论(\" + totalSum + \")\") + \"\\t\\t\\t\" + small(htmlTag(\"u\", \"查看全部评论 >\")),\n    col_type: \"text_1\",\n    url: \"hiker://page/Comment\",\n    extra: {\n        url: \"hiker://empty#fypage#noHistory##noRecordHistory#\",\n        id: dataItem.id,\n        totalSum: totalSum,\n        no_active: false\n    }\n});\n//const longestSum=120;\nlet icon = {\n    \"good\": \"👍\",\n    \"bad\": \"👎\",\n    \"reply\":\"开发者🗣\"\n}\nif (totalSum === 0) {\n    data.push({\n        title: \"<h5 style='text-align:center'>一条评论也没有，快来抢沙发吧！</h5>\",\n        col_type: \"rich_text\"\n    });\n} else {\n    let commentList = JSON.parse(request(api.dis_get + dataItem.id + \"?limit=5\")).result;\n    for (let item of commentList) {\n        let Reply = item.discuss_type===\"reply\"&&item.reply_to_name!==false&&item.reply_to_id!==false?\"‘‘回复@\"+item.reply_to_name+\" #\"+item.discuss_id+\"’’\\n\":\"\";\n        data.push({\n            title: item.name + \"&nbsp;&nbsp;<font color='gray'><small>#\" + item.id + \"</small><font>\",\n            col_type: \"avatar\",\n            url: \"toast://\" + item.qq,\n            pic_url: item.avatar_url\n        });\n        data.push({\n            title: item.discuss_text,\n            desc: Reply+item.create_date + \"·\" + icon[item.discuss_type],\n            col_type: \"text_1\",\n            url: \"hiker://page/info\",\n            extra:{\n                name:item.name,\n                type:\"long_text\",\n                text:item.discuss_text\n            },\n            pic_url: item.avatar_url\n        });\n    }\n    data.push({\n        col_type: \"line_blank\"\n    });\n}\n\nsetResult(data);"},{"col_type":"rich_text","name":"查看","path":"info","rule":"js:\nsetPageTitle(\"查看「\"+MY_PARAMS.name+\"」\")\nsetResult([{\n    title: MY_PARAMS.text,\n    col_type:MY_PARAMS.type\n}]);"},{"col_type":"movie_3","name":"开发者注册","path":"Register","rule":"js:\nsetPageTitle(\"开发者注册\");\nconst {\n    getApi,\n    htmlTag,\n    mapColType,\n    small\n} = $.require(\"hiker://page/utiliy\");\nvar data = [];\naddListener('onClose', $.toString(() => {\n    clearVar(\"Warehouse.Password\");\n    clearVar(\"Warehouse.Username\");\n    clearVar(\"Warehouse.Description\");\n    clearVar(\"Warehouse.UserAddress\");\n}));\naddListener('onRefresh', $.toString(()=>{\n    putVar(\"Warehouse.Wait\", \"\");\n}));\ndata.push({\n    title: '账号',\n    desc: \"请输入账号(必填)\",\n    col_type: 'input',\n    extra: {\n        defaultValue: getVar('Warehouse.Username', ''),\n        type: \"number\",\n        onChange: 'putVar(\"Warehouse.Username\",input)'\n    }\n}, {\n    title: '密码',\n    desc: \"请输入密码(必填)\",\n    col_type: 'input',\n    extra: {\n        defaultValue: getVar('Warehouse.Password', ''),\n        type: \"password\",\n        onChange: 'putVar(\"Warehouse.Password\",input)'\n    }\n});\nmapColType(data, \"line_blank\", 1);\ndata.push({\n    title: '昵称',\n    desc: \"请输入昵称(必填)\",\n    col_type: 'input',\n    extra: {\n        defaultValue: getVar('Warehouse.UserAddress', ''),\n        onChange: 'putVar(\"Warehouse.UserAddress\",input)'\n    }\n}, {\n    title: '描述',\n    desc: \"说说为什么要注册吧\\n(可以增加通过概率,选填)\",\n    col_type: 'input',\n    extra: {\n        defaultValue: getVar('Warehouse.Description', ''),\n        type: \"textarea\",\n        onChange: 'putVar(\"Warehouse.Description\",input)'\n    }\n})\n\nmapColType(data, \"line_blank\", 1);\n\ndata.push({\n    title: htmlTag(\"b\", \"注册\"),\n    url: $(getApi(\"new_dev\")+\"#noLoading#\").lazyRule((getId, confirm) => {\n        let username = getVar('Warehouse.Username', \"\"),\n            password = getVar('Warehouse.Password', \"\"),\n            description = getVar('Warehouse.Description', \"\"),\n            name = getVar(\"Warehouse.UserAddress\", \"\");\n        if ([username, password, name].includes(\"\")) {\n            return \"toast://账号,密码和昵称不能为空\";\n        }\n        showLoading(\"正在提交申请表\");\n        let result = request(input, {\n            headers: {\n                'content-type': 'application/json'\n            },\n            body: JSON.stringify({\n                \"params\": {\n                    \"reason\": description,\n                    \"name\": name,\n                    \"password\": password,\n                    \"qq\": username\n                }\n            }),\n            method: 'post'\n        });\n        result = JSON.parse(result).result;\n        hideLoading();\n        if (result.status !== 0) {\n            return \"toast://\" + result.detail;\n        }\n        let idresult = JSON.parse(request(getId + \"?qq=\" + username));\n        if (idresult.status !== 0) {\n            return \"toast://\" + idresult.detail;\n        }\n        \n        return $(\"\", \"输入邮箱验证码\\n\" + result.detail).input((confirm, id, account) => {\n            showLoading(\"请耐心等待\");\n            try {\n                let result = request(confirm, {\n                    headers: {\n                        'content-type': 'application/json'\n                    },\n                    body: JSON.stringify({\n                        \"params\": {\n                            \"regist_id\": id,\n                            \"yzm\": input\n                        }\n                    }),\n                    method: 'POST'\n                });\n                result = JSON.parse(result).result;\n                if (result.status !== 0) {\n                    hideLoading();\n                    return \"toast://\" + result.detail;\n                } else {\n                    putVar(\"WarehouseUsername\", account[0]);\n                    putVar(\"WarehousePassword\", account[1]);\n                    hideLoading();\n                    back();\n                    return \"toast://成功提交注册注册\\n\"+result.detail;\n                }\n            } catch (e) {\n                hideLoading();\n                return \"toast://出错了呐\";\n            }\n        }, confirm, idresult.result, [username, password]);\n    }, getApi(\"new_getId\"), getApi(\"new_confirm\")),\n    col_type: 'text_center_1'\n});\nsetResult(data);"},{"col_type":"text_1","name":"个人资料","path":"PersonalData","rule":"js:\nsetPageTitle(\"个人资料\");\nvar data=[];\nconst {\n    getApi,\n    getFile,\n    api\n} = $.require(\"hiker://page/utiliy\");\n\ndata.push({\n    col_type:\"line_blank\"\n});\n\nlet {username,password} = getFile();\nlet dev = JSON.parse(request(getApi(\"user\")+MY_PARAMS.id)).result;\ndata.push({\n    title:\"头像\",\n    desc:dev.avatar,\n    url:\"hiker://page/modify_PersonalData#noHistory##noRecordHistory#\",\n    extra:{\n        dev:dev,\n        username:username,\n        password:password,\n        Pattern:0\n    },\n    col_type:\"text_1\"\n});\n\n\ndata.push({\n    title:\"昵称\",\n    desc:dev.name,\n    url:\"hiker://page/modify_PersonalData#noHistory##noRecordHistory#\",\n    extra:{\n        dev:dev,\n        username:username,\n        password:password,\n        Pattern:1\n    },\n    col_type:\"text_1\"\n});\n\ndata.push({\n    title:\"密码\",\n    url:\"hiker://page/modify_PersonalData#noHistory##noRecordHistory#\",\n    extra:{\n        dev:dev,\n        username:username,\n        password:password,\n        Pattern:2\n    },\n    col_type:\"text_1\"\n});\ndata.push({\n    col_type:\"line_blank\"\n});\ndata.push({\n    title:\"账号：\"+username,\n    url:\"copy://\"+username,\n    col_type:\"text_1\"\n});\ndata.push({\n    title:\"UID：\"+dev.id,\n    url:\"copy://\"+dev.id,\n    col_type:\"text_1\"\n});\ndata.push({\n    col_type:\"line_blank\"\n});\ndata.push({\n    title:\"提交云仓库规则\",\n    url:$(\"#noLoading#\").lazyRule((host)=>{\n        let code=request(host+\"/hikerule/rulelist.json?id=145\");\n        let word=\"￥publish￥\"+base64Encode(code);\n        return \"rule://\"+base64Encode(word);\n    },api.host),\n    col_type:\"text_1\"\n});\ndata.push({\n    title:\"同步提交云仓库账号密码\",\n    url:\"rule://\"+base64Encode(\"￥publish_account￥\"+username+\"@\"+password),\n    col_type:\"text_1\"\n});\ndata.push({\n    col_type:\"line_blank\"\n});\ndata.push({\n    title:\"你一共发布了「\"+dev.rule_num+\"」条规则\",\n    url:\"hiker://empty\",\n    col_type:\"text_1\"\n});\ndata.push({\n    col_type:\"line_blank\"\n});\nlet user = getFile();\ndata.push({\n    title:\"注销登录\",\n    url:$(\"确认注销登录?\").confirm(f => {\n        f.username=\"\";\n        f.password=\"\";\n        writeFile('hiker://files/WarehouseUSER.json', JSON.stringify(f));\n        putVar(\"Warehouse.back\",\"1\");\n        back();\n        return \"toast://已注销\";\n    },user),\n    col_type:\"text_center_1\"\n});\nsetResult(data);"},{"col_type":"movie_3","name":"更改个人资料","path":"modify_PersonalData","rule":"js:\nconst {\n    getApi,\n    color,\n    small,\n    getFile,\n    htmlTag\n} = $.require(\"hiker://page/utiliy\");\nlet {\n    dev,\n    username,\n    password,\n    Pattern\n} = MY_PARAMS;\nvar data = [];\nlet path = \"?qq=\" + username + \"&password=\" + password;\naddListener('onClose', $.toString(() => {\n    clearVar(\"Warehouse.m.petName\");\n    clearVar(\"Warehouse.m.avatar\");\n    clearVar(\"Warehouse.m.Password.c\");\n    clearVar(\"Warehouse.m.Password.x\");\n    clearVar(\"Warehouse.m.Password.y\");\n}));\nfunction m_petName() {\n    data.push({\n        col_type: \"line_blank\"\n    });\n    data.push({\n        col_type: 'input',\n        desc: \"请输入新昵称\",\n        extra: {\n            titleVisible: false,\n            defaultValue: getVar('Warehouse.m.petName', '')||dev.name,\n            onChange: 'putVar(\"Warehouse.m.petName\",input)'\n        }\n    });\n    data.push({\n        col_type: \"line_blank\"\n    });\n    data.push({\n        title: \"保存\",\n        url: $(getApi(\"modify_name\") + path).lazyRule(() => {\n            let newPetName = getVar('Warehouse.m.petName', '');\n            if (newPetName == \"\") {\n                return \"toast://你还什么都没填啊!\";\n            }\n            let result = request(input + \"&name=\" + encodeURIComponent(newPetName));\n            result = JSON.parse(result);\n            if (result.status === 0) {\n                back();\n                return \"toast://修改成功\";\n            } else {\n                return \"toast://\" + result.detail;\n            }\n        }),\n        col_type: 'text_center_1'\n    });\n}\n\nfunction m_avatar() {\n    data.push({\n        col_type: \"line_blank\"\n    });\n    data.push({\n        col_type: 'input',\n        desc: \"请输入新的头像链接\",\n        extra: {\n            titleVisible: false,\n            defaultValue: getVar('Warehouse.m.avatar', '') || dev.avatar,\n            onChange: 'putVar(\"Warehouse.m.avatar\",input)'\n        }\n    });\n    data.push({\n        col_type: \"line_blank\"\n    });\n    data.push({\n        title: \"保存\",\n        url: $(getApi(\"modify_ava\") + path).lazyRule(() => {\n            let newAvatar = getVar('Warehouse.m.avatar', '');\n            \n            let result = request(input + \"&avatar_url=\" + encodeURIComponent(newAvatar));\n            result = JSON.parse(result);\n            if (result.status === 0) {\n                back();\n                return \"toast://修改成功\";\n            } else {\n                return \"toast://\" + result.detail;\n            }\n        }),\n        col_type: 'text_center_1'\n    });\n}\n\nfunction m_pwd() {\n    data.push({\n        col_type: \"line_blank\"\n    });\n    data.push({\n        title:\"原密码\",\n        col_type: 'input',\n        desc: \"请输入原密码\",\n        extra: {\n            type:\"password\",\n            defaultValue: getVar('Warehouse.m.Password.y', ''),\n            onChange: 'putVar(\"Warehouse.m.Password.y\",input)'\n        }\n    });\n    data.push({\n        col_type: \"line_blank\"\n    });\n    data.push({\n        title:\"新密码\",\n        col_type: 'input',\n        desc: \"请输入新密码\",\n        extra: {\n            type:\"password\",\n            defaultValue: getVar('Warehouse.m.Password.x', ''),\n            onChange: 'putVar(\"Warehouse.m.Password.x\",input)'\n        }\n    });\n    data.push({\n        title:\"重复新密码\",\n        col_type: 'input',\n        desc: \"请重复新密码\",\n        extra: {\n            type:\"password\",\n            titleVisible: false,\n            defaultValue: getVar('Warehouse.m.Password.c', ''),\n            onChange: 'putVar(\"Warehouse.m.Password.c\",input)'\n        }\n    });\n    data.push({\n        col_type: \"line_blank\"\n    });\n    data.push({\n        title: \"保存\",\n        url: $(getApi(\"modify_pwd\")+path).lazyRule((password,username) => {\n            let old_password = getVar('Warehouse.m.Password.y', '');\n            let new_password = getVar('Warehouse.m.Password.x', '');\n            let new_password_again = getVar('Warehouse.m.Password.c', '');\n            if (old_password!==password) {\n                return \"toast://原密码错误\";\n            }\n            if(new_password===\"\"){\n                return \"toast://请输入新密码\";\n            }\n            if(new_password!==new_password_again){\n                return \"toast://两次密码不同\"\n            }\n            let result = request(input + \"&new_password=\" + new_password+\"&new_password_re=\"+new_password_again);\n            result = JSON.parse(result);\n            if (result.status === 0) {\n                writeFile(\"hiker://files/WarehouseUSER.json\",JSON.stringify({\n                    username:username,\n                    password:new_password\n                }));\n                back();\n                return \"toast://修改成功\";\n            } else {\n                return \"toast://\" + result.detail;\n            }\n        },password,username),\n        col_type: 'text_center_1'\n    });\n}\n\nswitch (Pattern) {\n    case 0:\n        setPageTitle(\"修改头像\");\n        m_avatar();\n        break;\n    case 1:\n        setPageTitle(\"修改昵称\");\n        m_petName();\n        break;\n    case 2:\n        setPageTitle(\"修改密码\");\n        m_pwd();\n        break;\n}\nsetResult(data);"},{"col_type":"movie_3","name":"编辑规则备注","path":"set_rule_notes","rule":"js:\nlet data = [];\nconst {\n    getApi\n} = $.require(\"hiker://page/utiliy\");\nlet {\n    id,\n    username,\n    password,\n    name\n} = MY_PARAMS;\nsetPageTitle(\"备注「\"+name+\"」\");\naddListener('onClose',\"clearVar('Warehouse.rule.notes', '')\");\nlet notes=request(getApi(\"get_rule_note\")+id);\nnotes=JSON.parse(notes).result;\ndata.push({\n    desc: \"规则备注......\",\n    col_type: 'input',\n    extra: {\n        titleVisible: false,\n        defaultValue: getVar('Warehouse.rule.notes', '')||notes||\"\",\n        type: \"textarea\",\n        height:-1,\n        onChange: 'putVar(\"Warehouse.rule.notes\",input)'\n    }\n});\n\ndata.push({\n    title: \"保存\",\n    col_type: \"text_center_1\",\n    url: $(getApi(\"set_rule_note\") + id).lazyRule((username, password) => {\n        let notes = getVar('Warehouse.rule.notes', '');\n        let result = request(input, {\n            headers: {\n                'content-type': 'application/json'\n            },\n            body: JSON.stringify({\n                \"params\": {\n                    \"qq\": username,\n                    \"password\": password,\n                    \"note\":notes\n                }\n            }),\n            method: 'POST'\n        });\n        result = JSON.parse(result).result;\n        if (result.status !== 0) {\n            return \"toast://\" + result.detail;\n        }\n        back(false);\n        return \"toast://修改成功\";\n    }, username, password)\n});\nsetResult(data);"},{"col_type":"line","name":"评论列表","path":"Comment","rule":"js:\nsetPageTitle(\"评论列表\");\nconst {\n    api\n} = $.require(\"hiker://page/utiliy\");\nlet data = [];\nlet {\n    totalSum,\n    id,\n    no_active,\n    username,\n    password\n} = MY_PARAMS;\nlet page = parseInt(MY_URL.split(\"#\")[1]);\nlet discuss_type = getVar(\"Warehouse.comment.discuss_type\", \"\");\nif (page === 1) {\n    data.push({\n        col_type: \"line_blank\"\n    });\n    addListener('onClose', $.toString(() => {\n        putVar(\"Warehouse.comment.discuss_type\", \"\");\n    }));\n    data.push({\n        title: \"全部\" + (discuss_type === \"\" ? \"◉\" : \"○\"),\n        url: $(\"#noLoading#\").lazyRule(() => {\n            putVar(\"Warehouse.comment.discuss_type\", \"\");\n            refreshPage();\n            return \"hiker://empty\";\n        }),\n        col_type: 'text_4'\n\n    });\n    data.push({\n        title: \"👍赞\" + (discuss_type === \"good\" ? \"◉\" : \"○\"),\n        url: $(\"#noLoading#\").lazyRule(() => {\n            putVar(\"Warehouse.comment.discuss_type\", \"good\");\n            refreshPage();\n            return \"hiker://empty\";\n        }),\n        col_type: 'text_4'\n\n    });\n    data.push({\n        title: \"👎踩\" + (discuss_type === \"bad\" ? \"◉\" : \"○\"),\n        url: $(\"#noLoading#\").lazyRule(() => {\n            putVar(\"Warehouse.comment.discuss_type\", \"bad\");\n            refreshPage();\n            return \"hiker://empty\";\n        }),\n        col_type: 'text_4'\n    });\n    data.push({\n        title: \"回复\" + (discuss_type === \"reply\" ? \"◉\" : \"○\"),\n        url: $(\"#noLoading#\").lazyRule(() => {\n            putVar(\"Warehouse.comment.discuss_type\", \"reply\");\n            refreshPage();\n            return \"hiker://empty\";\n        }),\n        col_type: 'text_4'\n    });\n}\n\n\nlet icon = {\n    \"good\": \"👍\",\n    \"bad\": \"👎\",\n    \"reply\":\"开发者🗣\"\n}\nlet control=(pid,active)=>void 0;\nif(no_active){\n    control=function(pid,active){\n        data.push({\n            title:active?\"隐藏评论\":\"展示评论\",\n            url:$(api.dis_dev_control+pid+\"?qq=\" + username + \"&password=\" + password+\"#noLoading#\").lazyRule(()=>{\n                let result=JSON.parse(request(input));\n                refreshPage(false)\n                return \"toast://\"+result.detail;\n            }),\n            col_type:\"text_2\"\n        });\n        data.push({\n            title:\"删除评论\",\n            url:$(\"确认删除该评论?\").confirm((input)=>{\n                let result=JSON.parse(request(input));\n                refreshPage(false)\n                return \"toast://\"+result.detail;\n            },api.dis_dev_control+pid+\"?qq=\" + username + \"&password=\" + password+\"&delete=1\"),\n            col_type:\"text_2\"\n        });\n        data.push({\n            col_type:\"line\"\n        });\n        data.push({\n            col_type:\"line\"\n        });\n    }\n}\nif (totalSum === 0) {\n    data.push({\n        title: \"<h5 style='text-align:center'>一条评论也没有，快来抢沙发吧！</h5>\",\n        col_type: \"rich_text\"\n    });\n} else {\n    let commentList = JSON.parse(request(api.dis_get + id + \"?limit=5&page=\" + page + \"&no_active=\" + no_active + \"&discuss_type=\" + discuss_type)).result;\n    for (let item of commentList) {\n        let Reply = item.discuss_type===\"reply\"&&item.reply_to_name!==false&&item.reply_to_id!==false?\"‘‘回复@\"+item.reply_to_name+\" #\"+item.discuss_id+\"’’\\n\":\"\";\n        data.push({\n            title: item.name + \"&nbsp;&nbsp;<font color='gray'><small>#\" + item.id + \"</small><font>\",\n            col_type: \"avatar\",\n            url: no_active?\"hiker://page/Reply\":\"toast://\" + item.qq,\n            extra:{\n                ruleId: id,\n                name: item.name,\n                password: password,\n                username: username,\n                replyId:item.id\n            },\n            pic_url: item.avatar_url\n        });\n        data.push({\n            title: item.discuss_text,\n            desc: Reply+item.create_date + \"·\" + icon[item.discuss_type],\n            col_type: \"text_1\",\n            url: \"hiker://page/info\",\n            extra:{\n                name:item.name,\n                type:\"long_text\",\n                text:item.discuss_text\n            },\n            pic_url: item.avatar_url\n        });\n        control(item.id,item.active);\n    }\n    if (commentList.length === 0) {\n        data.push({\n            col_type: \"line_blank\"\n        });\n    }\n}\n\nsetResult(data)"},{"col_type":"movie_3","name":"发表评论","path":"MakeAcomment","rule":"js:\nlet data = [];\nconst {\n    api,\n    getFile\n} = $.require(\"hiker://page/utiliy\");\nlet {\n    id,\n    name,\n    defaultType\n} = MY_PARAMS;\nlet user=getFile().user||[\"\",\"\"];\n\nsetPageTitle(\"评论(\" + name + \")\");\naddListener('onClose', $.toString(() => {\n    clearVar(\"Warehouse.comment.type\");\n    clearVar(\"Warehouse.comment.text\");\n    clearVar(\"Warehouse.comment.qq\");\n    refreshPage(false);\n}));\nlet type = getVar(\"Warehouse.comment.type\") || defaultType||\"good\";\ndata.push({\n    desc: \"评论......\",\n    col_type: 'input',\n    extra: {\n        titleVisible: false,\n        defaultValue: getVar('Warehouse.comment.text', ''),\n        type: \"textarea\",\n        height:7,\n        onChange: 'putVar(\"Warehouse.comment.text\",input)'\n    }\n});\ndata.push({\n    title:\"账号：\"+(user[0]||\"\"),\n    desc:\"验证码：\"+(user[1]||\"\"),\n    url:\"hiker://page/Userregistration\",\n    col_type: 'text_1',\n    \n});\n\ndata.push({\n    title:  (type === \"good\" ? \"◉\" : \"○\")+\" 👍\",\n    url: $(\"#noLoading#\").lazyRule(() => {\n        putVar(\"Warehouse.comment.type\", \"good\");\n        refreshPage();\n        return \"hiker://empty\";\n    }),\n    col_type: 'text_2'\n\n});\ndata.push({\n    title:  (type === \"bad\" ? \"◉\" : \"○\")+\" 👎\",\n    url: $(\"#noLoading#\").lazyRule(() => {\n        putVar(\"Warehouse.comment.type\", \"bad\");\n        refreshPage();\n        return \"hiker://empty\";\n    }),\n    col_type: 'text_2'\n});\n\ndata.push({\n    title: \"提交\",\n    col_type: \"text_center_1\",\n    url: $(api.dis_new + id).lazyRule((Account) => {\n        let text = getVar('Warehouse.comment.text', '');\n        let [qq,auth_code] = Account;\n        let type = getVar('Warehouse.comment.type') || 'good';\n        qq=qq||\"\";\n        auth_code=auth_code||\"\";\n        if(qq==\"\"||auth_code==\"\"){\n            return \"toast://未登录账号\";\n        }\n        if(text==\"\"){\n            return \"toast://你还什么都没写啊\";\n        }\n        function r(p) {\n            let result = request(input, {\n                headers: {\n                    'content-type': 'application/json'\n                },\n                body: JSON.stringify(p),\n                method: 'POST'\n            });\n            return JSON.parse(result).result;\n        }\n        let p = {\n            \"params\": {\n                \"discuss_text\": text,\n                \"qq\": qq,\n                \"discuss_type\": type,\n                \"auth_code\": auth_code\n            }\n        }\n        let result = r(p);\n        if(result.status===0){\n            back(false);\n        }\n        return \"toast://\"+result.detail;\n\n    },user)\n});\n\nsetResult(data);"},{"col_type":"movie_3","name":"伪用户注册","path":"Userregistration","rule":"js:\nconst {\n    api,\n    getFile,\n    getUserDate\n} = $.require(\"hiker://page/utiliy\");\nlet data = [];\ndata.push({\n    col_type: \"line_blank\"\n});\nsetPageTitle(\"用户列表管理\");\naddListener('onClose', $.toString(() => {\n    clearVar(\"Warehouse.m.qq\");\n    clearVar(\"Warehouse.m.yzm\");\n}));\nlet user = getFile();\nlet userName = user.user || [\"\"];\nuserName = userName[0];\ndata.push({\n    title: \"““””<big>(添加/验证)账号</big>\",\n    col_type: \"text_1\",\n    url: \"hiker://empty\"\n});\n\ndata.push({\n    title: \"获取\",\n    col_type: 'input',\n    desc: \"请输入qq\",\n    url: $.toString((a, b) => {\n        let qq = input;\n        if (qq == \"\") {\n            return \"toast://你还什么都没填啊!\";\n        }\n        showLoading(\"获取中...\")\n        return $(\"#noLoading#\").lazyRule((qq, a, b) => {\n        try {\n            let result = request(a, {\n                headers: {\n                    'content-type': 'application/json'\n                },\n                body: JSON.stringify({\n                    \"params\": {\n                        \"qq\": qq\n                    }\n                }),\n                method: 'POST'\n            });\n            result = JSON.parse(result).result;\n            if (result.status === 0) {\n                hideLoading();\n                return \"toast://\" + result.detail;\n            } else {\n                let result2 = JSON.parse(request(b + \"?qq=\" + qq));\n                hideLoading();\n                return \"toast://\" + result2.detail;\n            }\n        } catch (e) {\n            hideLoading();\n            throw e;\n        }\n        }, qq, a, b);\n\n    }, api.dis_new_user, api.dis_verify),\n    extra: {\n        type: \"number\",\n        defaultValue: getVar('Warehouse.m.qq', '') || userName,\n        onChange: 'putVar(\"Warehouse.m.qq\",input)'\n    }\n});\n\ndata.push({\n    col_type: 'input',\n    desc: \"请输入验证码\",\n    extra: {\n        titleVisible: false,\n        defaultValue: getVar('Warehouse.m.yzm', ''),\n        onChange: 'putVar(\"Warehouse.m.yzm\",input)'\n    }\n});\ndata.push({\n    col_type: 'rich_text',\n    title: \"<small>提示：1.每天只能获取5次验证码.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.<s>验证码有效期持续一周左右</s>(暂时不会，忘记验证码可通过QQ号获取)</small>\"\n});\n\nlet userList = getUserDate();\ndata.push({\n    title: \"验证/登录\",\n    url: $(\"确定保存，验证码填错，无法评论哦\").confirm((f, l, login) => {\n        let qq = getVar('Warehouse.m.qq', '');\n        let yzm = getVar('Warehouse.m.yzm', '');\n        if (qq == \"\" || yzm == \"\") {\n            return \"toast://qq或验证码为空\";\n        }\n        let result = request(login, {\n            headers: {\n                'content-type': 'application/json'\n            },\n            body: JSON.stringify({\n                \"params\": {\n                    \"qq\": qq,\n                    \"auth_code\": yzm\n                }\n            }),\n            method: 'POST'\n        });\n        result = JSON.parse(result).result;\n        if (result.status === 0) {\n            f.user = [qq, yzm];\n            writeFile(\"hiker://files/WarehouseUSER.json\", JSON.stringify(f));\n            let index = l.findIndex(item => item[0] === qq);\n            if (index > -1) {\n                l.splice(index, 1, [qq, yzm]);\n            } else if (l.length < 6) {\n                l.push([qq, yzm]);\n            } else {\n                l.splice(0, 1);\n                l.push([qq, yzm]);\n            }\n            writeFile(\"hiker://files/WarehouseUSERA.json\", JSON.stringify(l));\n            back();\n            return \"toast://验证成功\";\n        }\n        return \"toast://\" + result.detail;\n    }, user, userList, api.dis_login),\n    col_type: 'text_center_1'\n});\ndata.push({\n    col_type: \"line_blank\"\n});\ndata.push({\n    title: \"““””<big>账号列表</big>\\t\\t\\t<small>(保留5条记录)</small>\",\n    col_type: \"text_1\",\n    url: \"hiker://empty\"\n});\nuserList.reverse();\n\nfor (let item of userList) {\n    data.push({\n        title: \"账号：\" + item[0] + (userName === item[0] ? \"\\t\\t\\t““[当前账号]””\" : \"\"),\n        desc: \"验证码：\" + item[1],\n        url: $(\"是否切换为该[\" + item[0] + \"]账号\").confirm((f, item) => {\n            f.user = item;\n            writeFile(\"hiker://files/WarehouseUSER.json\", JSON.stringify(f));\n            back();\n            return \"toast://切换成功\";\n        }, user, item),\n        col_type: \"text_1\"\n    });\n}\ndata.push({\n    col_type: \"line_blank\"\n});\ndata.push({\n    title: \"退出账号\",\n    url: $(\"确认退出登录状态\").confirm((f) => {\n        f.user = [];\n        writeFile(\"hiker://files/WarehouseUSER.json\", JSON.stringify(f));\n        back();\n        return \"toast://退出成功\";\n    }, user),\n    col_type: 'text_center_1'\n});\nsetResult(data);"},{"col_type":"movie_3","name":"列表排序算法","path":"sort","rule":"js:\n/* 规则列表排序 [ UP、NEW、无更新 ] 顺序 */\n/* 归并排序 Start */\nfunction mergeSort(arr) {\n    var len = arr.length;\n    if (len < 2) {\n        return arr;\n    }\n    var middle = Math.floor(len / 2),\n        left = arr.slice(0, middle),\n        right = arr.slice(middle);\n    return merge(mergeSort(left), mergeSort(right));\n}\nfunction merge(left, right) {\n    var result = [];\n    var isThisVersionList = [];\n\n    while (left.length > 0 && right.length > 0) {\n        if (left[0].title.includes(\"🆙\")) {\n            result.push(left.shift());\n        } else if (right[0].title.includes(\"🆙\")) {\n            result.push(right.shift());\n        } else if (left[0].title.includes(\"🆕\")) {\n            result.push(left.shift());\n        } else if (right[0].title.includes(\"🆕\")) {\n            result.push(right.shift());\n        } else {\n            isThisVersionList.push(left.shift());\n            isThisVersionList.push(right.shift());\n        }\n    }\n\n    while (isThisVersionList.length) result.push(isThisVersionList.shift());\n\n    while (left.length)\n        result.push(left.shift());\n\n    while (right.length)\n        result.push(right.shift());\n\n    return result;\n}\n$.exports.mergeSort = mergeSort;\n/* 归并排序 End */"},{"col_type":"icon_2_round","name":"全部公开规则","path":"AllPublicRule","rule":"js:\nconst {\n    api,\n    localRuleVer,\n    getApi\n} = $.require(\"hiker://page/utiliy\");\nconst {\n    mergeSort\n} = $.require(\"hiker://page/sort\");\nlet dataType = getVar(\"Warehouse.type\", \"\");\nlet order = getVar(\"Warehouse.order\", \"0\");\nlet sort = getVar(\"Warehouse.sort\", \"0\");\nlet page = MY_URL.split(\"#\")[1] || 1;\nlet ruleList = JSON.parse(request(api.all_rule + \"?data_type=\" + dataType + \"&page=\" + page + \"&limit=20&order=\" + order + \"&sort=\" + sort)).result;\naddListener('onClose', $.toString(() => {\n    clearVar(\"Warehouse.type\");\n    clearVar(\"Warehouse.order\");\n    clearVar(\"Warehouse.sort\");\n    clearVar(\"Warehouse.back\");\n}));\nlet data = [];\nif (getVar(\"Warehouse.back\") === \"1\") {\n    back();\n}\nfunction tab(arr, type, contrast) {\n    for (let item of arr) {\n        data.push({\n            title: item[1] === contrast ? \"““\" + item[0] + \"””\" : item[0],\n            url: $(\"#noLoading#\").lazyRule((key, type) => {\n                putVar(type, key);\n                refreshPage(false);\n                return \"hiker://empty\";\n            }, item[1], type),\n            col_type: \"scroll_button\"\n        });\n    }\n    data.push({\n        col_type: \"blank_block\"\n    });\n}\nif (page === \"1\") {\n    tab([\n        [\"全部\", \"\"],\n        [\"小程序\", \"home_rule_url\"],\n        [\"提交云仓库规则\", \"publish\"],\n        [\"网页插件\", \"js_url\"],\n        [\"静态页面\", \"html\"],\n        [\"主题\", \"config\"]\n    ], \"Warehouse.type\", dataType);\n    tab([\n        [\"时间\", \"0\"],\n        [\"ID\", \"1\"],\n        [\"好评度\", \"2\"],\n        [\"差评度\", \"3\"],\n        [\"回复数\", \"4\"]\n    ], \"Warehouse.order\", order);\n    tab([\n        [\"倒序\", \"0\"],\n        [\"正序\", \"1\"]\n    ], \"Warehouse.sort\", sort);\n    data.push({\n        title: \"搜索\",\n        url: $.toString(name => \"hiker://search?s=\" + input + \"&rule=\" + name, MY_RULE.title),\n        col_type: \"input\",\n        desc: \"搜索全部规则\"\n    });\n}\n\nlet homeList = JSON.parse(request(api.home));\nlet mRuleList = [];\nfor (var item of ruleList) {\n    var name = item.name;\n    if (item.is_tap) {\n        let location = JSON.parse(request(getApi(\"ruleListJson\") + \"?id=\" + item.id));\n        item.id = location.id;\n        item.name = location.name;\n        item.author = location.author;\n        item.data_type = location.data_type;\n        item.ver = location.ver\n    }\n    item.version = item.ver;\n    let label = \"\",\n        lver = -2;\n    if (item.is_json && item.data_type === \"home_rule_url\") {\n        lver = localRuleVer(homeList, item);\n        if (lver === -1) {\n            label = \"🆕\";\n        } else if (lver < item.ver) {\n            label = \"🆙\";\n        }\n    }\n    mRuleList.push({\n        title: label + name,\n        url: \"hiker://page/ruleDetail#noHistory##noRecordHistory#\",\n        extra: {\n            lver: lver,\n            id: item.id,\n            isAll:true\n        },\n        pic_url: item.pic,\n    })\n}\n/* 归并排序 Start */\n//mRuleList = mergeSort(mRuleList);\n/* 归并排序 End */\ndata.push.apply(data, mRuleList)\nsetResult(data);"},{"col_type":"movie_3","name":"回复","path":"Reply","rule":"js:\nlet data = [];\nconst {\n    api\n} = $.require(\"hiker://page/utiliy\");\nlet {\n    replyId,\n    ruleId,\n    name,\n    password,\n    username\n} = MY_PARAMS;\n\n\nsetPageTitle(\"回复(\" + name + \")\");\naddListener('onClose', $.toString(() => {\n    clearVar(\"Warehouse.comment.text\");\n    refreshPage(false);\n}));\n\ndata.push({\n    desc: \"回复......\",\n    col_type: 'input',\n    extra: {\n        titleVisible: false,\n        defaultValue: getVar('Warehouse.comment.text', ''),\n        type: \"textarea\",\n        height:7,\n        onChange: 'putVar(\"Warehouse.comment.text\",input)'\n    }\n});\n\n\ndata.push({\n    title: \"提交\",\n    col_type: \"text_center_1\",\n    url: $(api.dis_reply + ruleId).lazyRule((password, username, ruleId) => {\n        let text = getVar('Warehouse.comment.text', '');\n        if (password == \"\" || username == \"\") {\n            return \"toast://未登录账号\";\n        }\n        if (text == \"\") {\n            return \"toast://你还什么都没写啊\";\n        }\n        let result = request(input, {\n            headers: {\n                'content-type': 'application/json'\n            },\n            body: JSON.stringify({\n                \"params\": {\n                    \"discuss_text\": text,\n                    \"qq\": username,\n                    \"password\": password,\n                    \"discuss_id\": ruleId\n                }\n            }),\n            method: 'POST'\n        });\n        result = JSON.parse(result).result;\n        if (result.status === 0) {\n            back(false);\n        }\n        return \"toast://\" + result.detail;\n\n    }, password, username, replyId)\n});\n\nsetResult(data);"},{"col_type":"movie_3","name":"我的回复","path":"MyReply","rule":"js:\nconst {\n    api\n} = $.require(\"hiker://page/utiliy\");\nlet {\n    auth_code,\n    qq\n} = MY_PARAMS;\nlet page = parseInt(MY_URL.split(\"#\")[1]);\nlet data=[];\nlet commentList = JSON.parse(request(api.dis_get_reply + \"?limit=5&page=\" + page + \"&qq=\" + qq + \"&auth_code=\" + auth_code)).result;\nif (commentList.length === 0) {\n    data.push({\n        title: \"<h5 style='text-align:center'>别拉了一条也不剩了</h5>\",\n        col_type: \"rich_text\"\n    });\n} else {\n    for (let item of commentList) {\n        data.push({\n            title: item.name + \"&nbsp;&nbsp;<font color='gray'><small>#\" + item.id + \"</small><font>\",\n            col_type: \"avatar\",\n            url: \"hiker://page/ruleDetail#noHistory##noRecordHistory#\",\n            extra: {\n                lver: \"回复进入不支持查看\",\n                id: item.rule_id[0]\n            },\n            pic_url: item.avatar_url\n        });\n        data.push({\n            title: item.discuss_text,\n            desc: item.create_date + \"·\"+item.rule_id[1]+\"·\"+\"开发者🗣\",\n            col_type: \"text_1\",\n            url: \"hiker://page/info\",\n            extra:{\n                name:item.name,\n                type:\"long_text\",\n                text:item.discuss_text\n            },\n            pic_url: item.avatar_url\n        });\n    }\n    \n}\nsetResult(data);\n"},{"col_type":"movie_3","name":"更多分享","path":"moreShare","rule":"js:\n    addListener('onClose', $.toString(()=>{\n        clearVar(\"house.upload_code\");\n    }));\nconst {color,small,api, getFile} = $.require(\"hiker://page/utiliy\");\nlet houseFile = getFile||false;\nlet put_url = api.host+'/hikerule/dev/put';\nif(!houseFile){\n    setItem('is_house_vip', 'false');\n}\nlet house_data = houseFile();\n// log(house_data.username+'-'+house_data.password);\nvar canup = house_data.username.length >= 6 && house_data.password.length > 2;\nlog('可以上传?'+canup);\nlet d = [];\nlet file_type = [{name:'静态文件',value:'html'},{name:'网页插件',value:'js_url'},{name:'主页配置',value:'config'}]; //上传类型\nlet file_redirect = [{name:'本地',value:'false'},{name:'直链302',value:'true'}]; //是否重定向\nlet file_ua = [{name:'电脑',value:'pc'},{name:'手机',value:'mobile'}];\nlet file_type_title = file_type.map((item) => {\n    let name = getItem('house.file_type','静态文件');\n    if(item.name===name){\n        return '👉'+item.name;\n    }else{\n        return item.name;\n    }\n});\nlet file_redirect_title = file_redirect.map((item) => {\n    let name = getItem('house.file_redirect','本地');\n    if(item.name===name){\n        return '👉'+item.name;\n    }else{\n        return item.name;\n    }\n});\nlet file_ua_title = file_ua.map((item) => {\n    let name = getItem('house.file_ua','电脑');\n    if(item.name===name){\n        return '👉'+item.name;\n    }else{\n        return item.name;\n    }\n});\nd.push({col_type: 'x5_webview_single', extra: {js: 'console.log(\"我加载了\")'}});\nd.push({\n    title: '获取',\n    desc: \"文件路径,支持hiker,file,http,主题\",\n    extra: {\n        onChange: \"putVar('house.web_url',input)\",\n        titleVisible: true,\n        defaultValue:getVar('house.web_url')\n    },\n    url:$.toString(() => {\n        let input = getVar('house.web_url','');\n        if(input.length<2){\n            return 'toast://链接不可以为空'\n        } else if(/^hiker:|^file:|^http:|^https:/.test(input)){\n            log('正常链接');\n            let ua = getItem('house.file_ua')==='电脑'?'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.146 Safari/537.36':'Mozilla/5.0 (Linux; Android 9; MI 6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.90 Mobile Safari/537.36';\n            let web_url_arr = input.split(';');\n            let web_url = web_url_arr[0];\n            let headers = {\n                'Referer':'https://blog.csdn.net',\n                'User-Agent':ua,\n                'Accept':'application/json, text/javascript, */*; q=0.01',\n                'Accept-Language':'zh-CN',\n            };\n            if(web_url_arr.length>=3&&web_url_arr[2].length>2){ //设置编码\n                headers['content-type'] = 'charset='+web_url_arr[2].toUpperCase();\n            }\n            let params = {headers:headers,withHeaders:false,redirect:false};\n            if(web_url_arr.length>=2&&web_url_arr[1].length>2){ // 设置请求方法\n                params['method'] = web_url_arr[1].toUpperCase();\n            }\n            log('开始获取源码');\n            try {\n                /*\n                requestAsync(web_url,params,function (key,code) {\n                    let back_code = code;\n                    if(back_code.length>20){\n                        putVar('house.upload_code',back_code);\n                        refreshPage(true);\n                        return 'toast://源码已获取,并部分插入到文本区域'\n                    }else{\n                        return 'toast://错误，本次获取到空文本，疑似你没有此文件!';\n                    }\n                });\n                */\n                let back_code = getItem('house.file_ua')==='电脑'?fetch(web_url,params):request(web_url,params);\n                if(back_code.length>20){\n                    putVar('house.upload_code',back_code);\n                    refreshPage(true);\n                    return 'toast://源码已获取,并部分插入到文本区域'\n                }else{\n                    return 'toast://错误，本次获取到空文本，疑似你没有此文件!';\n                }\n            }catch (e) {\n                log(e.message);\n                return 'toast://发生了错误:\\n'+e.message;\n            }\n        }else if(/主题￥|元素￥/.test(input)){\n            log('主题链接');\n            let web_url_arr = input.split('￥');\n            let web_url = web_url_arr[web_url_arr.length-1];\n            let back_code = parsePaste(web_url);\n            if(back_code.length>20) {\n                putVar('house.upload_code',back_code);\n                refreshPage(true);\n                return 'toast://源码已获取,并部分插入到文本区域'\n            }else{\n                return 'toast://错误，本次获取返回为:\\n'+back_code;\n            }\n        }else{\n            return 'toast://非法链接:\\n'+getVar('house.web_url');\n        }\n    }),\n    col_type: \"input\"\n});\n\nd.push({\n    title:'上传类型',\n    desc:'上传文件的类型,当前为:'+color(getItem('house.file_type','静态文件'),'#ff7000'),\n    col_type:'text_1',\n    url:$(file_type_title,2).select(() => {\n        setItem('house.file_type',input.replace('👉',''));\n        refreshPage(true);\n        return 'toast://你选择了:'+input;\n    })\n});\n\nd.push({\n    title:'文件定位',\n    desc:'文件是否属于重定向,当前为:'+color(getItem('house.file_redirect','本地'),'#ff7000'),\n    col_type:'text_1',\n    url:$(file_redirect_title,2).select(() => {\n        setItem('house.file_redirect',input.replace('👉',''));\n        refreshPage(true);\n        return 'toast://你选择了:'+input;\n    })\n});\n\nd.push({\n    title:'设备UA',\n    desc:'发起网页请求头标识,当前为:'+color(getItem('house.file_ua','电脑'),'#ff7000'),\n    col_type:'text_1',\n    url:$(file_ua_title,2).select(() => {\n        setItem('house.file_ua',input.replace('👉',''));\n        refreshPage(true);\n        return 'toast://你选择了:'+input;\n    })\n});\nfunction compare(name) {\n    return function(item) {\n        return item.name === name;\n    }\n}\nd.push({\n    title:'🗄️环境',\n    col_type:'flex_button',\n    url:$().lazyRule((file_type,compare)=>{\n        log('查看环境变量');\n        try {\n            let up_code = getVar('house.upload_code','');\n            let ftype =  file_type.filter(compare(getItem('house.file_type','静态文件')))[0].value;\n            let redirect = getItem('house.file_redirect','本地')!=='本地';\n            let code = !redirect?up_code:input;\n            let env = {\n                web_url:getVar('house.web_url',''),\n                device:getItem('house.file_ua','电脑'),\n                ftype:ftype||\"\",\n                redirect:redirect,\n                code:code.substring(0,40)||\"\",\n            }\n            log(env);\n            return 'toast://'+JSON.stringify(env);\n            // alert(JSON.stringify(env));\n        }catch (e) {\n            return 'toast://'+e.message;\n            // alert(e.message);\n        }\n    },file_type,compare)\n});\n\nd.push({\n    title:'📃教程',\n    col_type:'flex_button',\n    url:$().x5Rule(()=>{\n        let msg = '欢迎使用开发者更多分享工具\\n1.输入网址为本地文件路径,hiker://或者file://开头\\n2.点击网址输入栏后面的按钮\\n3.看文本预览区是否正确\\n4.点击上传按钮提交到仓库';\n        alert(msg);\n    })\n});\n\nd.push({\n    title:'🗑️清空',\n    col_type:'flex_button',\n    url:$().lazyRule(()=>{\n        clearVar('house.upload_code');\n        refreshPage(true);\n        return 'toast://已清除预览区域内容'\n    })\n});\n\nd.push({\n    title:'📲示例',\n    col_type:'flex_button',\n    url:$().lazyRule(()=>{\n        let demo_code = getItem('house.demo','0');\n        if(demo_code=='0'){\n            putVar('house.web_url','hiker://files/rules/dzHouse/html/资源网书签.html');\n            demo_code = parseInt(demo_code)+1;\n            setItem('house.demo',demo_code+'');\n        }else{\n            putVar('house.web_url','file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/dzHouse/html/资源网书签.html');\n            setItem('house.demo','0');\n        }\n        refreshPage(true);\n        return 'toast://已设置示例地址'\n    })\n});\n\nd.push({\n    title:'📤上传',\n    col_type:'flex_button',\n    url:$().lazyRule((canup,house_data,put_url,file_type) =>{\n        function compare(name) {\n            return function(item) {\n                return item.name === name;\n            }\n        }\n        const {getNowFormatDate}=$.require(\"hiker://page/utiliy\");\n        let up_code = getVar('house.upload_code','');\n        if(up_code.length < 2){\n            return 'toast://源码区无内容，请先访问一个静态页面'\n        }\n        if(!canup){\n            return 'toast://你不是开发者，没有提交到仓库的权利!'\n        }\n        let input = getVar('house.web_url','');\n        let web_url = input.split(';')[0];\n        let fileName = '';\n        if(/^hiker:|^file:|^http:|^https:/.test(web_url)){\n            fileName = web_url.split('/')[web_url.split('/').length-1];\n        }else if(/主题￥|元素￥/.test(input)){\n            let bkarr = up_code.split('￥');\n            if(bkarr.length<3){\n                return 'toast://云剪贴板内容有误'\n            }\n            switch (bkarr[1]) {\n                case 'my_home_theme':\n                    fileName = up_code.split('「')[1].split('」')[0];\n                    break;\n                case 'my_home_single':\n                    fileName = up_code.split('「')[1].split('」')[0];\n                    break;\n                case 'js_url':\n                    fileName = up_code.split('￥')[2].split('@')[0];\n                    break;\n            }\n        }else{\n            return 'toast://错误，网页链接无内容!';\n        }\n        let ua = getItem('house.file_ua')==='电脑'?'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.146 Safari/537.36':'Mozilla/5.0 (Linux; Android 9; MI 6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.90 Mobile Safari/537.36';\n        let headers = {\n            'Referer':'https://blog.csdn.net',\n            \"content-type\": \"application/json\",\n            'User-Agent':ua,\n            'Accept':'application/json, text/javascript, */*; q=0.01',\n            'Accept-Language':'zh-CN',\n        };\n        let toCompare = '';\n        if(fileName.endsWith('.html')){\n            toCompare = '静态文件';\n        }else if(/主题/.test(fileName)){\n            toCompare = '主页配置'\n        }\n        let ftype =  file_type.filter(compare(toCompare||getItem('house.file_type','静态文件')))[0].value;\n        let redirect = getItem('house.file_redirect','本地')!=='本地';\n        if(redirect&&!web_url.startsWith('http')){\n            return 'toast://直链302重定向网址链接必须http开头';\n        }\n        let code = !redirect?up_code:web_url;\n        let data = {\"params\":\n                {\"data\": {rule_name: fileName, \"rule_type\": '更多分享', \"version\":getNowFormatDate(),\"rule_value\": code,\n                        data_type:ftype, is_redirect:redirect,deviceUa:getItem('house.file_ua'),\n                    },\n                    \"name\": house_data.username,\n                    \"password\": house_data.password}\n        };\n        let upparams = {headers:headers,body:JSON.stringify(data),withHeaders:false,redirect:false,method:'POST'};\n        let backmsg = getItem('house.file_ua')==='电脑'?fetch(put_url,upparams):request(put_url,upparams);\n        try{\n            let result = JSON.parse(backmsg).result;\n            let detail = result.detail;\n            return 'toast://'+detail;\n        }catch (e) {\n            log(e.message);\n            return 'toast://发生了错误\\n'+e.message;\n        }\n    },canup,house_data,put_url,file_type)\n});\n\nd.push({\n    title:'长文本预览区域',\n    col_type:'text_1',\n    url:'hiker://empty',\n    extra: {textSize: 11,lineVisible:false}\n});\n\nd.push({\n    title:getVar('house.upload_code','').substring(0,10240),\n    col_type:'long_text',\n    extra: {textSize: 11}\n});\nsetPageTitle(\"更多分享\");\nsetResult(d);"},{"col_type":"movie_3","name":"轻合集生成接口","path":"genApi","rule":"js:\nfunction genRule(name,url,icon){\n    icon=icon||'https://z3.ax1x.com/2021/11/16/IWJhxf.png';\n    const {getNowFormatDate,api,getApi}=$.require(\"hiker://page/utiliy?rule=道长仓库Pro\");\n    String.prototype.replaceAll = function(old,new_str){\n        return this.split(old).join(new_str);\n    };\n    let muban = getApi('importUrl')+\"1690\";\n    let muban_word={name:\"@轻合集\",url:\"@地址\",ver:\"@版本\",icon:\"@图标\"};\n    let muban_code = fetch(muban);\n    muban_code=muban_code.replaceAll(muban_word.name,name).replaceAll(muban_word.ver,getNowFormatDate()).replaceAll(muban_word.url,url).replaceAll(muban_word.icon,icon);\n    let import_code=\"海阔视界规则分享，当前分享的是：小程序，无根树，花正清，不断荤腥不戒淫￥home_rule_v2￥base64://@\"+name+\"@\"+base64Encode(muban_code);\n    var pastes = getPastes();\n    var url = sharePaste(import_code,pastes.slice(-1)[0]);\n    let import_rule= url+\"\\n\\n小程序：\"+name;\n    return import_rule;\n}\n$.exports.genRule=genRule;"},{"col_type":"movie_3","name":"全局解析免嗅","path":"globalParse","rule":"js:\n    function getHeaders(playUrl){\n        let headers = {};\n        let refer=playUrl.split(\"//\")[0]+\"//\"+playUrl.split(\"//\")[1].split(\"/\")[0];\n        if(/lecloud\\.com|bilivideo\\.com/.test(playUrl)){\n            headers = {\"Referer\": 'https://www.bilibili.com/',\"User-Agent\":\"Mozilla/5.0\"}\n        }else if(/mgtv\\.com/.test(playUrl)){\n            headers = {\"Referer\": refer,\"User-Agent\":\"Mozilla/5.0\"}\n        }else if(/ixigua\\.com/.test(playUrl)){\n            headers = {\"Referer\": 'https://www.ixigua.com/',\"User-Agent\":\"Mozilla/5.0\"}\n        }else{\n            headers = {\"Referer\": refer,'User-Agent':'Dart/2.13 (dart:io)'}\n        }\n        return headers\n    }\nfunction isPic(str){\n    return /\\.(gif|jpg|jpeg|png|GIF|JPG|PNG)$/.test(str);\n}\nfunction isVideo(playUrl,rechange){\n    //注意.php不可以被排除否则融兴解析不了 |.php$\n    //如果是播放地址就直接返回地址加上UA，不是的话就返回false\n    rechange=typeof(rechange)===\"function\"?rechange:function(playUrl){return playUrl};\n    let exceptWords = '.js$|.css$|.ts$|.html$|.htm$|.gif$|.jpg$|.jpeg$|.png$|.ico$|.svg$|.txt$'.split('|').map(it=>'\\\\'+it).join('|');\n    var exceptKeys = new RegExp(exceptWords);\n    let exceptWords1 = 'referer=|url='.split('|').map(it=>it).join('|');\n    var exceptKeys1 = new RegExp(exceptWords1);\n    let replaceWords = 'playm3u8|m3u8\\.tv'.split('|').map(it=>it).join('|');\n    let replaceKeys = new RegExp(replaceWords,'g');\n    let videoWords = \".mp4$|.m3u8$|.flv$|.avi$|.3gp$|.mpeg$|.wmv$|.mov$|rmvb|.dat$|.mp3$|qqBFdownload|mime=video%2F|mime_type=video_|type=m3u8|type=mp4|pt=m3u8\".split('|').map((it)=>{\n        if(it.startsWith(\".\")){\n            return '\\\\'+it\n        }else{\n            return it\n        }\n    }).join(\"|\");\n    let videoKeys = new RegExp(videoWords);\n    let pUrl=playUrl.split(\";\")[0];\n    let pUrl2=playUrl.split(\";\")[0].split(\"&\")[0].split(\"?\")[0];\n    if((videoKeys.test(pUrl)||videoKeys.test(pUrl2))&&!exceptKeys1.test(pUrl.replace(pUrl.split(\"?\")[0],''))){\n        let tips = '检测到疑似多媒体的地址:';\n        try{\n            log(\"js中\"+tips+pUrl);\n            // log(pUrl.replace(pUrl.split(\"?\")[0],''));\n            // log(exceptKeys1);\n        }catch (e) {\n            fy_bridge_app.log('x5中'+tips+pUrl);\n            fy_bridge_app.log(\"分割问号后:\"+pUrl.replace(pUrl.split(\"?\")[0],''));\n            // fy_bridge_app(exceptKeys1);\n        }\n    }\n    // log('1:'+(videoKeys.test(pUrl)||videoKeys.test(pUrl2)||videoKeys.test(pUrl.replace(replaceKeys,\"\").split(\"&\")[0].split(\"?\")[0])));\n    // log('2:'+!exceptKeys.test(pUrl.split(\"?\")[0].split('&')[0]));\n    // log('3:'+!exceptKeys1.test(pUrl.replace(pUrl.split(\"?\")[0],'')));\n    if ((videoKeys.test(pUrl)||videoKeys.test(pUrl2)||videoKeys.test(pUrl.replace(replaceKeys,\"\").split(\"&\")[0].split(\"?\")[0]) )&& !exceptKeys.test(pUrl.split(\"?\")[0].split('&')[0])&&!exceptKeys1.test(pUrl.replace(pUrl.split(\"?\")[0],''))) {\n        if(!(/User-Agent|Referer@/.test(playUrl))){\n            if(/lecloud\\.com|bilivideo\\.com/.test(playUrl)){\n                playUrl+=\";{Referer@https://www.bilibili.com/&&User-Agent@Mozilla/5.0}\";\n            }else if(/ixigua\\.com/.test(playUrl)){\n                playUrl+=\"#.mp4;{Referer@https://www.ixigua.com/&&User-Agent@Mozilla/5.0}\";\n            }\n            else if(/mgtv\\.com/.test(playUrl)){\n                playUrl+=\";{User-Agent@Mozilla/5.0}\";\n            }else if(/ptwo\\.wkfile\\.com/.test(playUrl)&&/url=/.test(playUrl)){\n                playUrl=playUrl.split(\"url=\")[1]+\";{Referer@https://fantuan.tv}\"\n            }else{\n                playUrl=rechange(playUrl);\n            }\n            // 处理大师兄之类的app\n            // else{\n            //     playUrl+=\";{User-Agent@Mozilla/5.0}\";\n            // }\n        }\n        return playUrl+\"#isVideo=true#\";\n    }else{\n        return false;\n    }\n}\nfunction comParse(parStr,ej,onlyback,html){\n    //列表，标题，图片，描述，链接，内容\n    ej = ej||false;//有二级\n    onlyback=onlyback||false;//只返回数据\n    html = html||getResCode();\n    html = typeof(html)==='string'?html:html.html;\n    return $.toString((parStr,ej,onlyback,html,isPic)=>{\n        let t=parStr.split(\";\");\n        let d=[];\n        // let list=pdfa(getResCode(),t[0]);\n        let list=pdfa(html,t[0]);\n        let lazy = $('').lazyRule(()=>{\n            const {lazyParse} = $.require('hiker://page/globalParse?rule=道长仓库Pro');\n            return lazyParse(input)\n        });\n        for(let i in list){\n            let _pic = t[2]?pd(list[i],t[2]):'';\n            if(isPic(_pic)&&!/@Referer=/.test(_pic)){\n                _pic+='@Referer='\n            }\n            let it={\n                title:pdfh(list[i],t[1]),\n                pic_url:_pic,\n                desc:pdfh(list[i],t[3]),\n                url:ej?pd(list[i],t[4]):pd(list[i],t[4])+lazy\n            };\n            if(t.length>5){//内容，用于搜索\n                it.content=pdfh(list[i],t[5])\n            }\n            d.push(it);\n        }\n        if(onlyback){\n            return d\n        }else{\n            setResult(d)\n        }\n    },parStr,ej,onlyback,html,isPic)\n}\n\nfunction lazyParse(playUrl,ms,tm,rechange){\n    // log('调用仓库免嗅探传参超时为:'+ms);\n    tm = parseInt(tm)||5000;\n    const {isVideo,getHeaders} = $.require('hiker://page/globalParse?rule=道长仓库Pro');\n    let realUrl = isVideo(playUrl,rechange);\n    //log(realUrl);\n    if(typeof(realUrl)=='string'){//bool值就是失败\n        try{\n            let rurl=realUrl.split(\";\")[0].split(\"#\")[0];\n            return JSON.parse(request(rurl,{timeout:tm})).url\n        }catch(e){\n            return realUrl\n        }\n        //return realUrl\n    }\n\n    //log(\"访问超时:\"+tm);\n    log(\"尝试道长仓库x5免嗅:\"+playUrl);\n    clearVar(\"_x5jxUrl\");\n    let bad=$(\"网络不佳或者疑似对方网站挂了，你要查看其网页吗？\").confirm((playUrl)=>{\n        log(\"网站看起来挂了:\"+playUrl);\n        return playUrl\n    },playUrl);\n    try{\n        // var back=request(playUrl,{headers: getHeaders(playUrl),timeout:tm});\n        var back=fetch(playUrl,\n            {headers: {\n                    'User-Agent': PC_UA\n                }});\n        if(!back){\n            log(\"网站\"+playUrl+\"确实啥也没返回\");\n            return bad\n        }else if(/#EXTINF/.test(back)){\n            //let lcache=\"/storage/emulated/0/Android/data/com.example.hikerview/files/Documents/cache/video.m3u8\";\n            //writeFile(lcache,back);\n            //return lcache+\"##\"+playUrl+\"#isVideo=true#\"\n            playUrl=cacheM3u8(playUrl);\n            return playUrl\n        }else if((!/触发了防盗链|未授权|接口防盗/.test(back))&&(!/http|url/.test(back))&&(!/msg|code|html/.test(back))){\n            log(back);\n            return 'toast://疑似对方数据加密了，具体数据看日志'\n        }\n    }catch(e){\n        log(e.message);\n        return bad\n    }\n    try {\n        back=JSON.parse(back);\n        let realUrl=back.url;\n        if(typeof(realUrl)==\"undefined\"||!realUrl){\n            log(back);\n            return \"toast://道长仓库解析失败！返回播放地址为空\"\n        } else if(typeof(isVideo(realUrl,rechange))=='string'){\n            return isVideo(realUrl,rechange);\n        }else{\n            return realUrl+\"#isVideo=true#\";\n        }\n        //else{\n        //realUrl+=\";{User-Agent@Mozilla/5.0}\";\n        // }\n    }catch (e) {\n        log(\"检测到解析口非json错误:\"+e.message+',开始x5免嗅探');\n        let ms = parseInt(ms)||5000;\n        let max_count=Math.ceil(ms/250);\n        log(\"本次嗅探超时:\"+ms+\"共计待抓包:\"+max_count+\"次\");\n        showLoading('嗅探中，若失败就重装x5...');\n        let _x5 = $.toString((isVideo,rechange,playUrl,max_count,PC_UA)=>{\n            try {\n                if(typeof(fba)=='undefined'||!fba){\n                    var fba = fy_bridge_app;\n                }\n                try {\n                    if(typeof(request)=='undefined'||!request){\n                        eval(fba.getInternalJs());\n                    }\n                }catch (e) {\n                    fba.log(e.message);\n                }\n                fba.putVar(\"_x5jxUrl\",playUrl);\n                if(window.count == null){\n                    window.count=1;\n                }\n                let text=document.querySelector(\"body\").innerText;\n                if(/触发了防盗链|未授权|接口防盗/.test(text)&&window.count===1){\n                    fba.log(\"检测到有授权，开始过授权\");\n                    //location.reload();\n                    location.href=fba.getVar(\"_x5jxUrl\");\n                }\n                window.count++;\n                // fba.log('count:'+window.count+',max_count:'+max_count);\n                if( window.count >= max_count){\n                    fba.log(\"超过\"+max_count*250+\"毫秒未获取到资源地址，跳到源网页,以下是加载过的地址\");\n                    let text=document.querySelector(\"body\").innerText;\n                    // fba.log(text);\n                    fba.log(JSON.stringify(_getUrls()));\n                    return fba.getVar(\"_x5jxUrl\");\n                }\n                function muteMe(elem) {\n                    try {\n                        elem.pause();\n                    }\n                    catch (e) {\n                    }\n                }\n                var videos = document.querySelectorAll(\"video\"), audios = document.querySelectorAll(\"audio\"), v2 = document.querySelectorAll(\"embed\"), v3 = document.querySelectorAll(\"#player\");\n                try {\n                    [].forEach.call(videos, function (video) {\n                        muteMe(video);\n                    });\n                } catch (e) {}\n                try {\n                    [].forEach.call(audios, function (audio) {\n                        muteMe(audio);\n                    });\n                } catch (e) {}\n                try {\n                    [].forEach.call(v2, function (v) {\n                        muteMe(v);\n                    });\n                } catch (e) {}\n                try {\n                    [].forEach.call(v3, function (v) {\n                        muteMe(v);\n                    });\n                } catch (e) {}\n                var urls = _getUrls();\n                // fba.log(JSON.stringify(urls));\n                try {\n                    for(let i in urls) {\n                        let u=urls[i];\n                            u=decodeURIComponent(u);\n                        if(/url=http/.test(u)){\n                            u = u.split(\"url=\").slice(-1)[0];\n                            fba.log(\"url分割:\"+u);\n                        }else if(/vid=http/.test(u)){\n                            u = u.split(\"vid=\").slice(-1)[0];\n                            fba.log(\"vid分割:\"+u);\n                        }else if(/\\?(.*)=http/.test(u)){\n                            u = \"http\"+u.split(/\\?(.*)=http/).slice(-1)[0];\n                            fba.log(\"其他分割:\"+u);\n                        }else if(/\\/1\\.m3u8$/.test(u)){\n                            continue;\n                        }\n                        \n                        let realUrl = isVideo(u,rechange);\n                        if(typeof(realUrl)=='string'){\n                            fba.log(\"仓库x5免嗅结果:\"+realUrl);\n                            //fy_bridge_app.setWebUa(PC_UA);\n                            return realUrl\n                        }\n                    }\n                }catch (e) {\n                    fba.log(e.message)\n                }\n            }catch (e) {\n                // fy_bridge_app.log('x5大范围错误:'+e.message);\n                alert('x5大范围错误:'+e.message);\n                return 'toast://报错结束x5'\n            }\n        },isVideo,rechange,playUrl,max_count,PC_UA);\n        const lsg=$.require(\"hiker://page/localStorage?rule=道长仓库Pro\");\n        let useWeb=lsg.getItem(\"通免\",\"X5\")===\"WEB\";\n        //log(\"仓库使用web通免替代x5:\"+useWeb);\n        let ruleHead=useWeb&&parseInt(getAppVersion())>=2339?\"webRule://\":\"x5Rule://\";\n        let x5Url = ruleHead+playUrl+ '@' +_x5;\n        return x5Url\n    }\n}\n\nfunction x5ParsePro(x5list,x5Timeout,isVideo){\n    let bpath = 'file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/dzHouse/html/海阔嗅探器.html';\n    let bcode = fetch(bpath);\n    if(!bcode||!/fy_bridge_app/.test(bcode)){\n        log('本地未安装嗅探器，开始安装');\n        const {api} = $.require(\"hiker://page/utiliy?rule=道长仓库Pro\");\n        writeFile(bpath,fetch(api.host+'/rulelist.json?id=2055'));\n    }\n    x5Timeout = parseInt(x5Timeout)||5000;\n    let max_count=(x5Timeout/250); //根据超时自动计算了可执行的次数\n    putVar('x5List',JSON.stringify(x5list));\n    let _x5 = $.toString((isVideo, max_count,x5Timeout) => {\n        //初始化fba和requst\n        if (typeof (fba) == 'undefined' || !fba) {\n            var fba = fy_bridge_app;\n        }\n        try {\n            if (typeof (request) == 'undefined' || !request) {\n                eval(fba.getInternalJs());\n            }\n        } catch (e) {\n            fba.log(e.message);\n        }\n        //------------------\n        try {\n            if (window.count == null) {\n                window.count = 1;\n            }\n            let text=document.querySelector(\"body\").innerText;\n            if(/触发了防盗链|未授权|接口防盗/.test(text)&&window.count==1){\n                location.reload();\n                fba.log(\"检测到有授权，开始过授权\");\n            }\n            window.count++;\n            // fba.log('count:' + window.count + ',max_count:' + max_count);\n            if (window.count >= max_count) {\n                fba.clearVar('x5List');\n                fba.hideLoading();\n                let fmsg = '道长仓库通免解析失败,原因:超时'+x5Timeout+'毫秒';\n                fba.log(fmsg);\n                return 'toast://'+fmsg;\n            }\n        }catch (e) {\n            fba.log(e.message);\n        }\n\n        function muteMe(elem) {\n            try {\n                elem.pause();\n            } catch (e) {\n            }\n        }\n\n        var videos = document.querySelectorAll(\"video\"), audios = document.querySelectorAll(\"audio\"),\n            v2 = document.querySelectorAll(\"embed\"), v3 = document.querySelectorAll(\"#player\");\n        try {\n            [].forEach.call(videos, function (video) {\n                muteMe(video);\n            });\n        } catch (e) {\n        }\n        try {\n            [].forEach.call(audios, function (audio) {\n                muteMe(audio);\n            });\n        } catch (e) {\n        }\n        try {\n            [].forEach.call(v2, function (v) {\n                muteMe(v);\n            });\n        } catch (e) {\n        }\n        try {\n            [].forEach.call(v3, function (v) {\n                muteMe(v);\n            });\n        } catch (e) {\n        }\n        var urls = _getUrls();\n        try {\n            for (let i in urls) {\n                let u=urls[i];\n                u=decodeURIComponent(u);\n                if(/url=http/.test(u)){\n                    u = u.split(\"url=\").slice(-1)[0];\n                }else if(/vid=http/.test(u)){\n                    u = u.split(\"vid=\").slice(-1)[0];\n                }else if(/\\?(.*)=http/.test(u)){\n                            u = \"http\"+u.split(/\\?(.*)=http/).slice(-1)[0];\n                            //fba.log(\"其他分割:\"+u);\n                        }else if(/\\/1\\.m3u8$/.test(u)){\n                            continue;\n                        }\n                \n                let realUrl = isVideo(u);\n                if (realUrl) {\n                    fba.log(\"仓库x5免嗅结果:\" + realUrl);\n                    fba.clearVar('x5List');\n                    return realUrl\n                }\n            }\n        } catch (e) {\n            fba.log(e.message)\n        }\n    }, isVideo, max_count,x5Timeout);\n    const lsg=$.require(\"hiker://page/localStorage?rule=道长仓库Pro\");\n        let useWeb=lsg.getItem(\"通免\",\"X5\")===\"WEB\";\n        //log(\"仓库使用web通免替代x5:\"+useWeb);\n    let ruleHead=useWeb&&parseInt(getAppVersion())>=2339?\"webRule://\":\"x5Rule://\";\n    return ruleHead+bpath+'@' + _x5;\n}\n\nfunction LazyParseFast(playUrlList,getTimeout,x5Timeout){\n    const {isVideo,getHeaders,x5ParsePro} = $.require('hiker://page/globalParse?rule=道长仓库Pro');\n    // log('开始执行'+playUrlList.length+'个地址的批量嗅探:'+playUrlList);\n    log('开始执行'+playUrlList.length+'个地址的批量嗅探');\n    let playUrls = playUrlList.map((it)=>{\n        return {\n            url:it.split(\";\")[0],\n            options: {\n                headers: {\n                    //\"User-Agent\": \"Dart/2.13 (dart:io)\",\n                    \"User-Agent\":\"Mozilla/5.0\"\n                },\n                timeout: getTimeout\n            }\n        }\n    });\n    let bhtml = batchFetch(playUrls);\n    let videos = [];\n    let x5list = [];\n    for(let i in bhtml){\n        let order = parseInt(i)+1;\n        let tname=order+'号解析网址:';\n        //log(tname);\n        let turl=playUrlList[i].split(\";\")[0];\n        let jname=playUrlList[i].split(\";\").length>1?playUrlList[i].split(\";\")[1]:\"\";\n        tname+=jname;\n        let backcode = bhtml[i];\n        if((!/url|http/.test(backcode))&&(!/#EXTINF/.test(backcode))){\n            log(tname+turl+'有问题,可能加密或者挂了');\n            continue;\n        }else if(/#EXTINF/.test(backcode)){\n            //let lcache=\"/storage/emulated/0/Android/data/com.example.hikerview/files/Documents/cache/video_\"+tname+\".m3u8\";\n            //writeFile(lcache,backcode);\n            //videos.push(lcache);\n            let pUrl=cacheM3u8(turl);\n            videos.push(pUrl);\n            continue;\n        }\n        try {\n            let url = JSON.parse(backcode).url;\n            if(/^http/.test(url)){\n                let realVideo = isVideo(url);\n                if(typeof(realVideo)=='string'){\n                    log(tname+'已解析出视频:'+realVideo);\n                    if(jname){\n                        realVideo+=\"★\"+jname\n                    }\n                    videos.push(realVideo);\n                }else{\n                    log(tname+'解析出不知道什么东西:'+url);\n                    url+=\"#isVideo=true#\";\n                    if(jname){\n                        url+=\"★\"+jname\n                    }\n                    videos.push(url);\n                }\n            }else{\n                log(tname+'为json接口且无返回视频地址数据:'+playUrlList[i]+'\\n'+backcode);\n            }\n        }catch (e) {\n            log(tname+'为x5接口,加入x5嗅探列表');\n            x5list.push(playUrlList[i]);\n        }\n    }\n    // log(videos);\n    if(videos.length>0){\n        if(getVar('dp.cacheVideo','true')==='true'&&parseInt(getAppVersion())>=2255)\n        {\n            log(\"尊敬的魔断用户，视频缓存已启用，请尽情享受看剧时光\");\n            let videosCache=videos.map((it)=>{\n                let headers={};\n                if(it.split(\";\").length>1){\n                    let head = it.split(';')[1];\n                    if(/@/.test(head)&&/{|}/.test(head)){\n//head = head.replace(/{|}/g,'');\n                        head = head.split(\"{\")[1].split(\"}\")[0];\n                        head = head.split('&&');\n                        for(let i in head){\n                            let key = head[i].split('@')[0];\n                            let value =head[i].split('@')[1].replace(/;/,'；；');\n                            headers[key] = value;\n                        }\n                    }\n                }\n                return {\n                    url:it.split(\";\")[0].split(\"★\")[0],\n                    options:{\n                        headers:headers\n                    }\n                }\n            });\n            var data=batchCacheM3u8(videosCache);\n            data=data.map((it,id)=>{\n                let extra=\"\";\n                if(videos[id].split(\";\").length>1){\n                    extra=\";\"+videos[id].split(\";\")[1];\n                }else if(videos[id].split(\"★\").length>1){\n                    extra=\"★\"+videos[id].split(\"★\")[1];\n                }\n\n                if(it+\"\"!=\"null\"){\n                    return it+extra\n                }else{\n                    return videos[id]\n                }\n            });\n            //log(data);\n            return data\n            //return videos\n        }else{\n            return videos\n        }\n    }\n    log('共有'+x5list.length+'个x5地址进行轮流嗅探');\n    //没有的话就开始依次x5嗅探\n    showLoading('嗅探中，若失败就重装x5...');\n    return x5ParsePro(x5list,x5Timeout,isVideo);\n}\nvar lazy=$('').lazyRule(()=>{\n    try{\n        realUrl=input;\n        eval(\"var config =\" + fetch(\"hiker://files/cache/MyParseSet.json\"));\n        eval(fetch(config.cj));\n        log(input+'->正在断插魔改版解析...');\n        // 加入超时设置，建议在首页设置\n        return aytmParse(realUrl)\n    }catch(e){\n        return input\n    }\n});\n$.exports.isPic=isPic;\n$.exports.isVideo=isVideo;\n$.exports.comParse=comParse;\n$.exports.getHeaders=getHeaders;\n$.exports.lazyParse=lazyParse;\n$.exports.x5ParsePro=x5ParsePro;\n$.exports.LazyParseFast=LazyParseFast;\n$.exports.lazy=lazy;"},{"name":"任务仓库接口","path":"taskCall","rule":"js:\nString.prototype.strip = function () { return this.replace(/(^\\s*)|(\\s*$)/g, \"\"); };\nfunction task_req(task_api,task) { // 通用发送仓库post调用任务请求\n    const {getFile} = $.require(\"hiker://page/utiliy?rule=道长仓库Pro\");\n    let houseFile = getFile||false;\n    if(!houseFile){\n        setItem('is_house_vip', 'false');\n    }\n    let house_data = houseFile();\n    let result = request(task_api, {\n        headers: {\n            'content-type': 'application/json'\n        },\n        body: JSON.stringify({\n            \"params\": {\n                \"data\": {\n                    \"type\": task.mode||'run',\n                    \"func\": task.func||'',\n                    \"params\": task.params||[]\n                },\n                \"auth\": {\n                    \"name\": house_data.username||\"\",\n                    \"password\": house_data.password||\"\"\n                }\n            }\n        }),\n        method: 'POST'\n    });\n    return JSON.parse(result).result;\n}\n\nfunction task_upload(task){ // 通用任务发布新增及修改功能\n    const {api,getFile} = $.require(\"hiker://page/utiliy?rule=道长仓库Pro\");\n    let houseFile = getFile||false;\n    if(!houseFile){\n        setItem('is_house_vip', 'false');\n    }\n    let api_url = api.host+'/hikerule/task/add';\n    let house_data = houseFile();\n    let result = request(api_url, {\n        headers: {\n            'content-type': 'application/json'\n        },\n        body: JSON.stringify({\n            \"params\": {\n                \"data\": {\n                    \"name\": task.name,\n                    \"pycode\": task.pycode,\n                    \"note\": task.note,\n                    \"test_code\": task.test_code,\n                },\n                \"auth\": {\n                    \"name\": house_data.username||\"\",\n                    \"password\": house_data.password||\"\"\n                }\n            }\n        }),\n        method: 'POST'\n    });\n    return JSON.parse(result).result;\n}\n\nfunction task_call(id,func,params){\n    const {api} = $.require(\"hiker://page/utiliy?rule=道长仓库Pro\");\n    let task_api = api.host+'/hikerule/task/run/'+id;\n    let task = {\n        mode:'call',\n        func:func,\n        params:params||[]\n    };\n    return task_req(task_api,task);\n}\n\nfunction task_rename(id,new_task_name){\n    const {api,getFile} = $.require(\"hiker://page/utiliy?rule=道长仓库Pro\");\n    let houseFile = getFile||false;\n    if(!houseFile){\n        setItem('is_house_vip', 'false');\n    }\n    let house_data = houseFile();\n    let task_api = api.host+'/hikerule/task/rename/'+id;\n    task_api = task_api+'?name='+house_data.username+'&password='+house_data.password+'&task_name='+new_task_name;\n    try {\n        let result = JSON.parse(fetch(task_api,{}));\n        if(result.status==0){\n            return  result.detail\n        }else{\n            return result.result+''+result.detail\n        }\n    }catch (e) {\n        log(e.message);\n        return ''+e.message\n    }\n}\n\nfunction task_change_state(id){\n    const {api,getFile} = $.require(\"hiker://page/utiliy?rule=道长仓库Pro\");\n    let houseFile = getFile||false;\n    if(!houseFile){\n        setItem('is_house_vip', 'false');\n    }\n    let house_data = houseFile();\n    let task_api = api.host+'/hikerule/task/change_state/'+id;\n    task_api = task_api+'?name='+house_data.username+'&password='+house_data.password;\n    try {\n        let result = JSON.parse(fetch(task_api,{}));\n        if(result.status==0){\n            return  result.detail\n        }else{\n            return result.result+''+result.detail\n        }\n    }catch (e) {\n        log(e.message);\n        return ''+e.message\n    }\n}\n\nfunction task_run(id){\n    const {api} = $.require(\"hiker://page/utiliy?rule=道长仓库Pro\");\n    let task_api = api.host+'/hikerule/task/run/'+id;\n    let task = {};\n    return task_req(task_api,task);\n}\n\n$.exports.taskCall = task_call;\n$.exports.taskRun = task_run;\n$.exports.taskReq = task_req;\n$.exports.taskUpload = task_upload;\n$.exports.taskRename = task_rename;\n$.exports.taskChangeState = task_change_state;"},{"col_type":"movie_3","name":"全局储存","path":"localStorage","rule":"let localStorage = (function() {\n    evalPrivateJS(\"jwUKwNTiPGcWSLCXB5XtAXwb6LQbVyHD+0XJ7l07ce0=\");\n    //pathto=undefined;\n    evalPrivateJS(\"4C0YxRYnGCYkgFRXtpl/Cz5zL5hh4jCCztb+ng+WokymQ8oUrzS9lA8yxC5aFadnSEmyHKMbraflRqXCnNRHDlk6ue8yHTO16lBPrpwgs5jf0PhrAtoTJIE0ZHn9mKaQ4Jd2erqb4I55beWIeugKsDs211SzINQ5yJgSh1dVuNzzxRGJg40FmTuVmXVfN1xg2WIGHBEmkVnGxmORhPONA+Q5VwPmdp41/hze3eIsUvho7VCBgK4raJmPalIRBBVlCVgn8FkWmfKqZo+VW+oBcH7hrcrsSlCSjBangT/7syWHxKYhehU0kaMYjnWFg1Em0cmNRtomCsHz1B8q32OeQHoawdWxzKOaMHOXDBjRojA8E/ah0WROyziqRSxl/m8dhBd0f9phYz/5SU/zJD52X/9EC16WVVdpSW33akRHRslPpRlTWF9+AyRmRw0eZOEs1o9QMPAQUfAxbYyFHgztw/O2dJRpHyTmiBiaaqTcivx6v9zyvBz04wI1AaSCui+dTuU3lu5xdEt3Ajt6Z3iDXOVcEP0EDF7474PQU6JEZuwe97Sch4bi1wB1XHZSfItdlYYoGed3LLpbmDAIRciv0rAop8VmQcTt2K3Lfh1RDYY0YtvRcH49OvpDRH/xa5Fc8MY3DrFoA7qcoF4eCgiVBfBgJR68+LpQK7tOkg8k9ec+3NSxJThcl8d6yNwxT9Tk17zeJgd6MoyYZIpWQLlF6YvbOdEWhjmnA78wC0hWz+Xm6hQMSqtFw+bhFf7cBGU3aatPFmdCY2EdXfh0IYW85wdOyMfiwW7/vVTp9iE00I3F09wGHkGKhVbLueAkYe7zzJXR7thaFor6H7qLmJjbRQk9evNtBQXNR7DifiXuQf2lt7nOH80SWm1fDHHzjmPsNIps2TXGT+iwVV69g/tWipVQ6D8BTx+cCQp47nmTIrY+qN4kh2FYh5LlwXdgIyy1VIuC3x053ewAIIUmlY9niEpqYt+1fFPXOCtCGtYbSd37vVR1EOj2k5Gu/+9JWg2qvwl1twelg1J0txarIi4kTbTrvrnFLN92pofpZQUfoWo4ce7HWNdbu4JKEraLQUfdfGEPd1TIufuuRVa39eq9GZySDuBL60MPdldxKw1zo+fB5ZY+YMj3LL2gGtDbs98+AsRV9LJWmUmsx91hmJtFUMWD3xnj8HMZWs0NPlCFUr9485KqTpo5kRzGfF+k/Nl2Jzrv5cvkqtUnLgKpXEOj/se/oDzOArQKI5TNUbvYwcwcdjjMSfjK68Krwhs+n6SmWZ4ZdgRHgAK5MoFi3XmLV47P3vSRWu5zyEsMk4y3uuCFiuRPRlu4Q5pJvuOem7H7ULiIhCemv5DgkGtDL1cGL4EQhYRB6ISzVvsb2EaP9wQE6DVRnM7O+pnSzet6lzp3pFdGnbox1LRfC60utXZ+CjIm4iEMmtbB2N5zDShGbeM3XUbJQdCBis8XIrhh2biB5hBCVwn3Y3ett7GDPVtoi1GRjz+JbgM+YR928KbdWS5tFaMM3Kj3Xv6otIxzMBnDC9uW3d+IXx6vLPJ0JRuh3yP7pTla6c3iR4p9nWYDqJ+ZSmprHFnDOzsLWmFjapje/MqwMJd6Tk3nAWwicMOPuYpMyqIF04fl4mqgtsHLSMWRRNHPZjETQ9gRmeDYe6aRtlW02qL2olDENqLQMtAdoirNWRcP9VL3Td8HaUO6fSlGNabMakJD/00XChOSUOIP+7fM7V0/l1bLWPtEz1i7LygTV7pdGoDntqSCEnJrByhBAzLRg5QIc9438IhKmyfn0/3awoD1Ir780eyp/XcI6xNcw6Tv/ETfHg0e7iYC0UYcJIE5QUXv0s+YoGIEq5GIzKub8HNjSTUpsvnkVx+dbe2jRn3Yb9W7JCZ5YS6F5MyUVspjMD7NYc+DWjUL2b2sVyAfeYpC8Uhah9tumavbBv7a3a9kgFbq58lrHxzY7iJQVigzq3e1a2BSb0PcW1aJ8BD7NkNphKYayTxykgwilERL8jqqBEniHVdBxDJYLb+Xw3alLmltuTEV6KGtBntBX+yz36RPDMyGIKe+3fzcxfnCDn20ModVVkVNozPqMXZ0G5L4aLTAQakYKUjsVMQjAhQkTlHBeO/aLPx9sxl++j1Z5rLgG12TN4XJ1eicvw4AVE58Loraq0QiE0cS7PH1pbrZWrft7LYGiyBShor7+0jioUh1pdWq2qMYLqeMEeuCROQt57mFrOjyPH49qp97cWOrgeg2WyfWSDGQPje5+P0yQoCpD/D3RAMuWmb9wlBtcq2j8WJPt91E3kKawuQIyvd2r2Ujx4+HTNtVKb9kMLOO85I65bNGBH+4irSy5gQYlE26A2cSGIcLKQRlvJoMna7L/9wyry4HzOrzkrAvLdgsSNlYjpHQERiOI80sJ5jNCCnfw013F+A+sAfLmyS/BDLNQ1qaQ3p6h8/JqAfhX5OGHgSiRVOCEjuaDB/MwZNCu3QL9ehhoAj7uOf8Pkr3mIjbhh9Hijsjx191+0e2JQrFa01AVJKEVtuPtIc2h/1pPKMvyenxjTO2OxPnjjt+84nIKKhxDJ/ghPt7iv8PmTJ0lKKyPRssl8f/QdHdxupb6jTsI6UKmz9Y46PMBuD6P3wh8qp36O6oibNDiQd1sE10vJh9z1FysKIe8EqMpnNdEmG2TfEBxRpmQrhKEqee0p6+a6sQo8cVlRJkKQAYKawcaNES5Xc6dQY5nqeiq8sUizf1spfHeHelDu1M6BRXuCjFafXhz8i3lPWgYqVpfx13igVCRf47UH652yLnsmepCBWgyBTWAcOyF1Qx8YGtZnob1TN+6xEwzpcWVy7QO9P92sKA9SK+/NHsqf13COt0JHCtTV1OlTQW+JAKyxe1Hl7+s95z3KCgFKQS+3As1JV7Na+g+LCR2Ievu8d5D0L7GwoDreUv4374LRaFkNsHOqWbU9nhQjdMVr7a/i8O/4hbptaSzqqkgYFiNFU/omW5qwIz7sp4nscITRE3gua6bzklMZ8ECn1iqAWt0a6geki5DaL8qYapTCChjlWsExqFuxiWP35TUCddEd8ACbMGs+gQFyDOozfBDG17dZO0mCwW+PzCL2jbICDNai5/jm1Qr6ML56jzUaIDz0GLPTSaex1UDDwkQ9o7mXWC0R7jWnzbkHRWcomVbWmGqL1rjdoacs/R9ujqUuBA6A5VL/qkQ1xHL42EXooprC8wrrfR68zMMFxOwU7CYHJ7bhG/Q4rNsXDBcMo1Adiq9LXbXm/QJj0u/jgZGssz0nnKKUFJcxzuANK96zWwf1DXasUcOoEuEatm1rmP5wrBJmW/ZwT6aBBiR2OSJ0xr8tQ6ObmdKjyb+1eEXb1437R2IdhDUdk5PRztH2YFt2pmuL4/LmILFAvPdiyMtDHNj+Kh4sV4MlXbWPrrI97YBOFpFlX+gnewKKfFZkHE7dity34dUQ2Gne6sAGx1zxyjZv5KBM26lRHF45XqFNJ1RQ3hMymJHsyYNsMO41BWrGv19PA468ecw9HcRN0whjUTgns8ZVaC4hiJsgY07aAEBHm90/uhhjO/Wmb7wuVadhl9RnHeQjpx4gwCrLz5i5s5It1sBwfDb0Fe+PCpLkc+wIINK2Y86kPthR6gJwW75zuoN5C0CAiDwfU73vaAZahzf4VLNlM0U04OtHYBi13YgPoNmGHRelZVEy2KuKVZghD14vSlY+JrMBDdm2y2thFV+BrihL7+fQ5wcYnxGelawDuoSR5+bDDkr6RL40L4xyfAhxlrOn0uA28ghGeWguaWKEv5nBrrveu1ueVy1MvGUYBY+IlEr8NdDNRdmEzXt39kGld86xOfAH/xL1VmugaXOGaPB2qc7WDRkW6k5F6n3PkIzdPXyONKp1DkOg3ocSMZMTs6GKj9C3vODZ6ZQpwNDYLMT+CmEL18GRjXNcZlP/LnhiAIscYTL1+iHWDYvRmvPMwtOHhCnEXIU3FTbP+6QRGA6qydbnneqVhXowcLmbMIz16IC1kwhZj75/M53sKYX2zRgOSTAfNSD/5lZYSNUxJfKTDgiaFEggrCrd+3Cc+chzslI3zDXEKTrvlcX2InC9uH+fsypyHw+AvY2OmBGQMIIc8fE3tNO0gBTVqXsdsE76YwHr29dzQckusuyJsBfSVclrvsNCZ1PQDL8H3cRs3HE9nUkx5bbJYWsPxb825gnEpWU9Z9Ktzvsli7/heOlDKpHxJb1uCrWqf8gRnWmq3zfSSrUXBHSLu62MrkXTjWgapUVxMGkrnzR0E4PMy1bFcyDpEQe15TayWBM1B6jrIG+0DRR9OaCUPwD7exNmjZb9M81us+AIRfyzJPZGmfHuT9SNzFfNuQdFZyiZVtaYaovWuN2irI3zQatKCDnQIXpr0VhG0Gop8c/zroWBoN/aVKmn8skSFvADOjoZAixg6K1y9wFi8peCmimFZ3ZzCVsG6EU9Svlbq5+wn7D6y+dAYdaPms4gwCrLz5i5s5It1sBwfDbz4X4VxqIpcTC9NaYKqA7GKK+aTrZWUwwN21QOtr8eqxSgJ1U9eCOcWXQd+p36Gy4fY+t9c2CsVNbNl1ghxa9bI8U6e6FTd/vvBaq9jrKditq4mNCaiogmfPK6M48UYI8jZMCdd/9C8BqvUj4bYU5byWASEG6BBGdK8Klfi/a4LWt3ivC4u9QBTfb/vCmNJi/QAfabcPG+UsWmsYNRK+g8hMcsuBmhh48NphRvebVQqq6ncKxc1nFHWMW5M6of+z8c1HddnieDP9GaBsq+ysljKslYrt989PY9xsbmkr3X/oCfiFU4NfcOhee++ngW0XpZAVt1I2Qnc1alwbnoNqMMhXIB95ikLxSFqH226Zq9sG/trdr2SAVurnyWsfHNjuIlBWKDOrd7VrYFJvQ9xbVomKqQjuh9dzf2nvVrBzbEF0CZY6izkY/RQY5r9k93/y2NG7o07nMYjOtZYYeNUoik7GbK/HzQl1S7s/FChnt9M6fE0UyuPmttO98hqzxQbteMalMtSce2WLcjyXVGfpqdBkYym4gZByccS6antt4oLdluWSSJsHX1IcXhQy6oJ+Ahjw9hFYwXLHPLoCo3jEliUAK4179wtYtHsO0abLx4+hmtM5Fz7wUVahBA9supOTf/FD4siZMMof5W3vm5DedhqGANlht3mI6RmIhv48QVtneMsUzYC4NDhZD4M5R6p7GXBqcpu3FaEF/0I0e3LceX1HN+iDqKRPuGzvpac/1tsGPIteADxu9OYoap2z3F1CzSg/Uua8l/KEztAKDcvbhNU/YUc2lhgxgfdb4e+P9TZ7RaX82s627u0CbFsfGE/1hLpb5Mc2vk1uDGrdIcbWA6xhpYAHYhEYUl9c75Y/R/0gl6r9+m6cI0BvBY5Aa5NBRc6UMvsO/POw5Ccr79sJziceaV3YwrYEkjp6Ki+OYrGu954AA+dJ9WsvNGBFGMrKAfQ9VUC/ATkJfTloMltDeV5Ao9zkaay3dKAa5/PxAGRDAUcQLDF7uVXbD1vFgE/+RXiwzS5N7cr3aFBdRY7XAmFz/fb0/KSpR8CQ/lokpmM2mltJ9vGPgiqb5nZl9Ku7d2GlgAdiERhSX1zvlj9H/SBujBPoO1fpoOu5F35cdHa5kSFvADOjoZAixg6K1y9wFlj0Ez5ksUW3WU63E7e4qtDUCKWwjjU5f0Fd57VyVzpC6CdCScBjYSzT9rZLVskq61aOWrDDUNKqAQ3+nX/BBW3cQTEcOVdc15ngVXcSS/aK2QFMdiKQlqm15fErJdwqyeza7hflKTiCzUdu5VGlFW9qCt8syHoosA2NzfosJdTdN8bWHnoDr5N25et+p/nvjjOzZRaLYoY/fr/k5hqptOk=\");\n    return $.exports;\n})();"},{"col_type":"movie_3","name":"编辑公告","path":"devInfoEdit","rule":"js:\naddListener('onClose', $.toString(()=>{\n    putMyVar(\"devInfo\",''); //清除历史公告\n}));\nsetPageTitle('编辑公告');\n// let {nowJx,MyJiexi,jxsRoute} = MY_PARAMS;\nconst {color,small,api, getFile,getApi} = $.require(\"hiker://page/utiliy\");\n// let houseFile = getFile||false;\nvar dev_info_url = getApi('infoGetUrl');\n// log(dev_info_url);\nvar get_info = function(qq){\n    qq = qq||'434857005';\n    let dev_info_url = dev_info_url+qq;\n    let back_code = JSON.parse(request(dev_info_url));\n    let dev_info=back_code.result||back_code.detail;\n    return dev_info;\n};\nvar before_refresh = function(){\n    let dev_set_info = getMyVar(\"dev_set_info\").split('$$');\n    let dev_info_url = dev_set_info.slice(-1)[0];\n    let back_code = JSON.parse(request(dev_info_url));\n    let dev_info=back_code.result||back_code.detail;\n    putMyVar(\"devInfo\",dev_info);\n    return dev_info\n};\nlet d = [];\nd.push({\n    title:'编辑公告',\n    desc:'支持md语法,点击进入学习Md语法\\n保存公告按钮在文本框最下面',\n    col_type:'text_1',\n    url:'https://www.runoob.com/markdown/md-tutorial.html'\n});\nd.push({\n    title:'返回',\n    col_type:'text_2',\n    url:$('#noLoading#').lazyRule(()=>{\n        back(false);\n        return 'hiker://empty'\n    })\n});\nif(!getMyVar('devInfo')){\n    before_refresh();\n}\nlet empty = 'hiker://empty';\nd.push({\n    title:'阅览查阅',\n    col_type:'text_2',\n    // url:$(getMyVar('devInfo')).confirm()\n    url:$(empty).rule(()=>{\n        require(\"https://cdn.jsdelivr.net/npm/marked/marked.min.js\");\n       let devInfo=\"\";\n       try{\n          devInfo=marked.parse(getMyVar('devInfo'));\n       }catch(e){}\n        setResult([\n            {\n                title:devInfo,\n                col_type:'rich_text',\n            }\n        ]);\n    })\n});\nd.push({\n    desc: \"快来编辑你的公告吧~\",\n    col_type: 'input',\n    extra: {\n        titleVisible: false,\n        defaultValue: getMyVar('devInfo', '')||\"\",\n        type: \"textarea\",\n        height:-1,\n        onChange: 'putMyVar(\"devInfo\",input)'\n    }\n});\nd.push({\n    title:\"保存公告\",\n    col_type: 'text_center_1',\n    url:$('确认保存公告吗？将会与道长仓库服务器通讯').confirm(()=>{\n        let dev_set_info = getMyVar(\"dev_set_info\").split('$$');\n        let input_text = getMyVar('devInfo', '');\n        if(input_text.length >= 4){\n            let info_set_url= dev_set_info[2];\n            let send_data = {\"params\":\n                    {\"data\": {\"info\": input_text},\n                        \"name\": dev_set_info[0],\n                        \"password\": dev_set_info[1]}\n            };\n            // log(send_data);\n            let par2 = {headers:{'content-type':'application/json;charset=UTF-8','User-Agent':dev_set_info[3]},body:JSON.stringify(send_data),method:'POST'};\n            // par2 = JSON.stringify(par2); //x5里面请求才需要编码\n            try {\n                let back_ret = request(info_set_url, par2);\n                back_ret = JSON.parse(back_ret).result;\n                if(back_ret.status===0){\n                    // refreshPage();\n                    return 'toast://保存成功\\n'+back_ret.detail;\n                }else{\n                    return 'toast://保存失败\\n'+back_ret.detail;\n                }\n            }catch (e) {\n                return 'toast://错误\\n'+e.message;\n            }\n        }else{\n            confirm({title:'道长提示',content:'虽然你很懒，但是公告至少写4个字吧！'});\n            return 'hiker://empty'\n        }\n    })\n});\n\nsetResult(d);"}],"title":"道长仓库Pro","author":"@LoyDgIk","version":102,"url":"hiker://empty","col_type":"icon_2_round","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\n    const {\n        getApi,\n        color,\n        small,\n        getFile,\n        htmlTag,\n        api\n    } = $.require(\"hiker://page/utiliy\");\n\nconst lsg=$.require(\"hiker://page/localStorage?rule=道长仓库Pro\");\nlet classA = getVar(\"Warehouse.class\", \"0\");\nlet listUrl = getApi(\"usersUrl\") + classA,\n    myUrl = getApi(\"rulesAllUrl\");\nputVar(\"Warehouse.filter\", \"\");\nlet userList = JSON.parse(request(listUrl)).result,\n    nowCon = 0,\n    ruleCount = JSON.parse(request(getApi(\"ruleCountUrl\"))).result;\nlet data = [];\nlet classTab = [\n    [\"上次活跃\", \"0\"],\n    [\"规则数\", \"1\"],\n    [\"注册时间\", \"-1\"]\n]\nfor (let item of classTab) {\n    data.push({\n        title: item[1] === classA ? \"““\" + item[0] + \"””\" : item[0],\n        url: $(\"#noLoading#\").lazyRule((key) => {\n            putVar(\"Warehouse.class\", key);\n            refreshPage(false);\n            return \"hiker://empty\";\n        }, item[1]),\n        col_type: \"scroll_button\"\n    });\n}\ndata.push({\n    title: \"全部规则\",\n    url: \"hiker://page/AllPublicRule?url=hiker://empty#fypage#noHistory##noRecordHistory#\",\n    col_type: \"scroll_button\"\n});\ndata.push({\n    title: \"刷新依赖\",\n    url: $('#noLoading#').lazyRule((jsonUrl)=>{\n        jsonUrl = jsonUrl+'2505';\n        // log(jsonUrl);\n        let text = request(jsonUrl);\n        if(!/version/.test(text)){\n            return 'toast://服务器正忙,请稍候再试...'\n        }\n        deleteCache(jsonUrl);\n        try {\n            require(jsonUrl);\n            confirm({title:'刷新成功提示',content:\"toast://已刷新,当前版本信息:\\n\"+JSON.stringify(version)})\n            return 'hiker://empty'\n        }catch (e) {\n            return 'toast://糟糕，本地缓存插件被清除了，但是服务器通讯失败!'\n        }\n    },getApi(\"importUrl\")),\n    col_type: \"scroll_button\"\n});\ndata.push({\n    title:\"通免:\"+color(lsg.getItem(\"通免\",\"X5\"),\"#ff7000\"),\n    col_type:\"scroll_button\",\n    url:$('#noLoading#').lazyRule(()=>{\n        const lsg=$.require(\"hiker://page/localStorage?rule=道长仓库Pro\");\n        if(lsg.getItem(\"通免\",\"X5\")==\"X5\"){\n            lsg.setItem(\"通免\",\"WEB\");\n        }else{\n            lsg.setItem(\"通免\",\"X5\");\n        }\n        refreshPage(false);\n        return \"已设置仓库通免模式为:\"+lsg.getItem(\"通免\");\n    })\n});\naddListener('onClose', $.toString(() => {\n    clearVar(\"Warehouse.class\");\n}));\nlet {\n    username,\n    password,\n    user\n} = getFile();\n\nlet is_login = false;\nif (username !== void 0 && password !== void 0) {\n    myUrl += '?qq=' + username + '&password=' + password;\n    let code_str = request(myUrl);\n    let code = JSON.parse(code_str);\n    if (code.status == 0) {\n        is_login = true;\n    }\n}\nif (is_login) {\n    nowCon = JSON.parse(request(getApi(\"nowConUrl\"))).result;\n    let devData = userList.find(item => item.qq === username);\n    data.push({\n        title: '<strong><span style=\"color: #ff7000\">' + devData.name + '</span></strong>&nbsp;&nbsp;&nbsp;&nbsp;<small><u>规则管理 ></u></small>',\n        pic_url: devData.avatar,\n        col_type: \"avatar\",\n        url: \"hiker://page/devManage#noHistory##noRecordHistory#\",\n        extra: {\n            username: username,\n            password: password,\n            dev: devData\n        }\n    });\n    data.push({\n        col_type: 'text_1',\n        title: small(\"现有 \" + color(userList.length, \"#ff7000\") + \" 名开发者，\" + color(ruleCount[0], \"#ff7000\") + \" 条公开规则，\" + color(ruleCount[1], \"#ff7000\") + \" 条集芳阁规则。在线:\"+color(nowCon, \"#ff7000\")),\n        url: \"toast://喵喵喵?\",\n    });\n\n} else {\n    data.push({\n        title: small(color(\"开发者登录\", \"#00BFFF\")),\n        col_type: 'text_center_1',\n        desc: small(\"现有\" + color(userList.length, \"#ff7000\") + \"名开发者，\" + color(ruleCount[0], \"#ff7000\") + \"条公开规则，\" + color(0, \"#ff7000\") + \"条集芳阁规则。\"),\n        url: \"hiker://page/devLogin\"\n    });\n}\nif (Array.isArray(user) && user.length === 2) {\n    let userlogin = request(api.dis_login, {\n        headers: {\n            'content-type': 'application/json'\n        },\n        body: JSON.stringify({\n            \"params\": {\n                \"qq\": user[0],\n                \"auth_code\": user[1]\n            }\n        }),\n        method: 'POST'\n    });\n    userlogin = JSON.parse(userlogin).result;\n    if (userlogin.status === 0) {\n        userlogin = userlogin.result\n        data.push({\n            title: userlogin.name + \"&nbsp;&nbsp;\" + userlogin.qq + \"&nbsp;&nbsp;&nbsp;&nbsp;<small><u>更换账号 ></u></small>\",\n            col_type: 'avatar',\n            pic_url: userlogin.avatar_url,\n            url: \"hiker://page/Userregistration\"\n        });\n        data.splice(3,0,{\n            title: userlogin.has_reply?\"🆕回复\":\"🔔回复\",\n            url: \"hiker://page/MyReply?url=hiker://empty#fypage#noHistory##noRecordHistory#\",\n            col_type: \"scroll_button\",\n            extra:{\n                auth_code:user[1],\n                qq:user[0]\n            }\n        });\n    } else {\n        data.push({\n            title: userlogin.detail,\n            col_type: 'text_center_1',\n            desc: \"““””<small><u>重新获取验证码 ></u></small>\",\n            url: \"hiker://page/Userregistration\"\n        });\n    }\n} else {\n    data.push({\n        title: \"评论登录/注册\",\n        col_type: 'text_center_1',\n        desc: \"\",\n        url: \"hiker://page/Userregistration\"\n    });\n}\nfor (var item of userList) {\n    data.push({\n        title: item.name + \"(\" + item.rule_num + \")\",\n        desc: item.id + ':' + item.nick_name,\n        pic_url: item.avatar,\n        url: \"hiker://page/rules#noHistory#\",\n        extra: {\n            avatarUrl: item.avatar,\n            qq: item.qq\n        }\n    });\n}\n\ndata.push({\n    col_type: 'long_text'\n});\nsetResult(data);\nlet img = [\n    [\n        \"hiker://files/icon/赞.svg\", \"https://bafybeiaeetwbc3thoy22y5zd7al6rndeqbrbwhszqb6oitnf7a5zvsz5pe.ipfs.cf-ipfs.com/\"\n    ],\n    [\n        \"hiker://files/icon/踩.svg\", \"https://bafybeiehxynphaafe4mukacs7we4d6lrb35kppdiffjv4vwnsq22nfqnl4.ipfs.cf-ipfs.com/\"\n    ],\n    [\n        \"hiker://files/icon/评论.svg\", \"https://bafybeifhxi5rdnxq5xly7r4qdbwico2343smelxdqoytalguctgc2ojsdy.ipfs.cf-ipfs.com/\"\n    ]\n]\nfor (let item of img) {\n    if (!fileExist(item[0])) {\n        writeFile(item[0], request(item[1]));\n    }\n}","searchFind":"js:\nvar d = [];\nconst {\n    api,\n    getApi,\n    localRuleVer    \n} = $.require(\"hiker://page/utiliy\");\nvar html = request(getApi(\"search\") + \"?key=\" + MY_URL.replace(\"hiker://empty#\", \"\")); // 获取源码\nvar rule_list = JSON.parse(html).result;\nlet filter = getVar(\"Warehouse.filter\", \"\");\nif (filter !== \"\") {\n    rule_list = rule_list.filter(item => item.author === filter);\n}\nif (rule_list.length === 0) {\n    d.push({\n        title: '共搜索到' + rule_list.length + \"条记录\",\n        desc: '详情请找道长,qq 434857005',\n        url: \"hiker://empty\",\n        col_type: 'text_center_1'\n    });\n}\nlet homeList = JSON.parse(request(api.home));\n\nfor (let item of rule_list) {\n    //let lver=localRuleVer(homeList, item);\n    let label = \"\",\n        lver = -2;\n    if (item.data_type === \"home_rule_url\") {\n        lver = localRuleVer(homeList, item);\n        if (lver === -1) {\n            label = \"🆕\";\n        } else if (lver < item.ver) {\n            label = \"🆙\";\n        }\n    }\n    d.push({\n        title: label+item.name,\n        desc: item.type,\n        content: item.author/*+\"\\n本地版本:\"+lver+\"\\t\\t云端版本:\"+item.ver*/+ '\\n更新于:' + item.last_update,\n        url: \"hiker://page/ruleDetail#noHistory##noRecordHistory#\",\n        extra: {\n            lver: lver,\n            id: item.id\n        },\n        pic_url: item.pic_url\n    });\n\n}\n\nsetResult(d);","search_url":"hiker://empty#**","group":"①推荐","detail_col_type":"text_1","detail_find_rule":"","sdetail_col_type":"text_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"工具\",\"path\":\"utiliy\",\"rule\":\"js:\\nlet host = \\\"http://hiker.nokia.press\\\";\\n//let host = \\\"http://192.168.3.94:8079\\\";\\nlet home = base64Decode(\\\"aGlrZXI6Ly9ob21l\\\");\\nvar api = {\\n    host: host+\\\"/hikerule\\\",\\n    usersUrl: \\\"/dev/users?order=\\\", //用户列表\\n    ruleCountUrl: \\\"/dev/rulecount\\\", //获取规则数量\\n    rulesUrl: \\\"/dev/get\\\", //用户对应的规则列表仅仅获取公开\\n    rulesAllUrl: \\\"/dev/getall\\\", //开发者对应的规则列表可获取私有\\n    importUrl: \\\"/rulelist.json?id=\\\", //规则详情可导入\\n    infoSetUrl: \\\"/dev/set_info\\\",\\n    nowConUrl: \\\"/sql_info/get_now_con\\\",\\n    infoGetUrl: \\\"/dev/get_info?name=\\\",\\n    settingsGetUrl: \\\"/dev/get_settings?name=\\\",\\n    gupload: \\\"/dev/gupload\\\",\\n    gtimeover: \\\"/dev/gtimeover\\\",\\n    getbyid: \\\"/dev/getbyid\\\",\\n    ruleListJson: \\\"/rulelist.json\\\",\\n    auth: \\\"/dev/get_auth\\\",\\n    timeover: \\\"/dev/timeover\\\",\\n    share: \\\"/dev/share\\\",\\n    genAuth: \\\"/dev/gen_auth\\\",\\n    deleteUrl: \\\"/dev/delete\\\",\\n    jsonList: \\\"/dev/json_list\\\",\\n    search: \\\"/dev/search\\\",\\n    new_dev: \\\"/dev_regist/new\\\",\\n    new_getId: \\\"/dev_regist/get_id\\\",\\n    new_confirm: \\\"/dev_regist/confirm\\\",\\n    modify_pwd: \\\"/modify/password\\\",\\n    modify_name: \\\"/modify/name\\\",\\n    modify_ava: \\\"/modify/avatar\\\",\\n    user: \\\"/dev/user/\\\",\\n    get_rule_note: \\\"/modify/get_rule_note/\\\",\\n    set_rule_pic: \\\"/modify/rule_pic/\\\",\\n    set_rule_note: \\\"/modify/rule_note/\\\"\\n}\\n$.exports.range = function(m, n) {\\n    return Math.floor(Math.random() * (m - n + 1) + n);\\n}\\n$.exports.mapColType = function(target, type, n) {\\n    for (let i = 0; i < n; i++) {\\n        target.push({\\n            col_type: type\\n        });\\n    }\\n}\\n$.exports.getApi = function(k) {\\n    return api.host + api[k];\\n}\\n$.exports.localRuleVer = function(localRuleList, rule) {\\n    let localRule;\\n    for (let i = 0; i < localRuleList.length; i++) {\\n        let item = localRuleList[i];\\n        let au = item.author || \\\"\\\";\\n        let sameAu=au.length > 0 && rule.author.includes(au);\\n        sameAu=true;//不判断作者默认为true\\n        if (item.title === rule.name && sameAu) {\\n            localRule = item;\\n            break;\\n        }\\n    }\\n    if (localRule === void 0) {\\n        return -1;\\n    } else {\\n        return localRule.version;\\n    }\\n}\\n$.exports.color = function(text, color) {\\n    text += \\\"\\\";\\n    if (text.indexOf(\\\"““””\\\") === 0) {\\n        text.replace(\\\"““””\\\", \\\"\\\");\\n    }\\n    return \\\"““””<font color='\\\" + color + \\\"'>\\\" + text + \\\"</font>\\\";\\n}\\n\\nfunction htmlTag(tag, text) {\\n    text += \\\"\\\";\\n    if (text.indexOf(\\\"““””\\\") === 0) {\\n        text.replace(\\\"““””\\\", \\\"\\\");\\n    }\\n    return \\\"““””\\\" + \\\"<\\\" + tag + \\\">\\\" + text + \\\"</\\\" + tag + \\\">\\\";\\n\\n}\\n\\nfunction getNowFormatDate() {\\n            let date = new Date();\\n            let seperator1 = \\\"-\\\";\\n            let seperator2 = \\\":\\\";\\n            let month = date.getMonth() + 1;\\n            let strDate = date.getDate();\\n            let strHours = date.getHours();\\n            let strMinutes = date.getMinutes();\\n            let strSeconds = date.getSeconds()+1;\\n            if (month >= 1 && month <= 9) {\\n                month = \\\"0\\\" + month\\n            }\\n            if (strDate >= 0 && strDate <= 9) {\\n                strDate = \\\"0\\\" + strDate\\n            }\\n            if (strHours >= 0 && strHours <= 9) {\\n                strHours = \\\"0\\\" + strHours\\n            }\\n            if (strMinutes >= 0 && strMinutes <= 9) {\\n                strMinutes = \\\"0\\\" + strMinutes\\n            }\\n            if (strSeconds >= 0 && strSeconds <= 9) {\\n                strSeconds = \\\"0\\\" + strSeconds\\n            }\\n            //let currentdate = date.getFullYear() + seperator1 + month + seperator1 + strDate + \\\" \\\" + strHours + seperator2 + strMinutes + seperator2 + strSeconds;\\n            let currentdate = (date.getFullYear()-2020)+''+ month +''+ strDate +''+ strHours+'' + strMinutes +''+ Math.ceil(strSeconds/7);\\n            return parseInt(currentdate)\\n        }\\n$.exports.getNowFormatDate = getNowFormatDate;\\n$.exports.htmlTag = htmlTag;\\n$.exports.small = function(text) {\\n    return htmlTag(\\\"small\\\", text);\\n}\\n$.exports.getFile = function() {\\n    var File = request(\\\"hiker://files/WarehouseUSER.json\\\") || \\\"{}\\\";\\n    try {\\n        return JSON.parse(File);\\n    } catch (e) {\\n        writeFile(\\\"hiker://files/WarehouseUSER.json\\\", \\\"{}\\\");\\n        return {};\\n    }\\n}\\n$.exports.getUserDate =function(){\\n    var File = request(\\\"hiker://files/WarehouseUSERA.json\\\") || \\\"[]\\\";\\n    try {\\n        return JSON.parse(File);\\n    } catch (e) {\\n        writeFile(\\\"hiker://files/WarehouseUSERA.json\\\", \\\"[]\\\");\\n        return [];\\n    }\\n}\\n$.exports.existFile = function(spath, ipath, headers) {\\n    let scode = request(spath);\\n    if (!scode) {\\n        writeFile(spath, request(ipath, headers));\\n    }\\n}\\n\\nlet newApi = {\\n    \\\"dis_new\\\": \\\"/hikerule/new_rule_discuss/\\\",\\n    \\\"dis_verify\\\": \\\"/hikerule/rule_discuss/get_yzm\\\",\\n    \\\"dis_get\\\": \\\"/hikerule/rule_discuss/\\\",\\n    \\\"dis_set\\\": \\\"/hikerule/modify/can_discuss/\\\",\\n    \\\"dis_new_user\\\": \\\"/hikerule/rule_discuss/new_user\\\",\\n    \\\"dis_login\\\":\\\"/hikerule/rule_discuss/user_login\\\",\\n    \\\"dis_dev_discuss\\\":\\\"/hikerule/modify/dev_can_discuss\\\",\\n    \\\"dis_dev_control\\\":\\\"/hikerule/rule_discuss/remove/\\\",\\n    \\\"all_rule\\\":\\\"/hikerule/get_rules\\\",\\n    \\\"dis_get_reply\\\":\\\"/hikerule/get_reply_rule_discuss\\\",\\n    \\\"dis_reply\\\":\\\"/hikerule/dev_new_rule_discuss/\\\",\\n}\\n\\nfunction setApi(object) {\\n    let target = {};\\n    for (let key in object) {\\n        target[key]=host+object[key]\\n    }\\n    return target;\\n}\\n\\n$.exports.api = setApi(newApi);\\n$.exports.api.host=host;\\n$.exports.api.home=home;\"},{\"col_type\":\"movie_3\",\"name\":\"开发者登录\",\"path\":\"devLogin\",\"rule\":\"js:\\nsetPageTitle(\\\"开发者登录\\\");\\nconst {\\n    getApi,\\n    htmlTag,\\n    mapColType,\\n    small,\\ngetFile\\n} = $.require(\\\"hiker://page/utiliy\\\");\\nvar data = [];\\naddListener('onClose', $.toString(()=>{\\n    clearVar(\\\"WarehouseUsername\\\");\\n    clearVar(\\\"WarehousePassword\\\");\\n}))\\ndata.push({\\n    title: '账号',\\n    col_type: 'input',\\n    extra: {\\n        defaultValue: getVar('WarehouseUsername',''),\\n        type:\\\"number\\\",\\n        onChange: 'putVar(\\\"WarehouseUsername\\\",input)'\\n    }\\n}, {\\n    title: '密码',\\n    col_type: 'input',\\n    extra: {\\n        defaultValue: getVar('WarehousePassword', ''),\\n        type: \\\"password\\\",\\n        onChange: 'putVar(\\\"WarehousePassword\\\",input)'\\n    }\\n});\\n\\ndata.push({\\n    title:\\\"&nbsp;&nbsp;<a href='hiker://page/Register'>注册</a>\\\",\\n    col_type:\\\"rich_text\\\"\\n});\\nmapColType(data, \\\"line_blank\\\", 1);\\nlet user = getFile();\\ndata.push({\\n    title: htmlTag(\\\"b\\\", \\\"登录\\\"),\\n    url: $().lazyRule((url, f)=> {\\n        let username = getVar('WarehouseUsername', ''),\\n            password = getVar('WarehousePassword', '');\\n        if(username === \\\"\\\" && password ===\\\"\\\"){\\n            return \\\"toast://账号和密码不能为空\\\"\\n        }\\n        let myUrl = url + '?qq=' + username + '&password=' + password;\\n        let code_str = request(myUrl);\\n        let code = JSON.parse(code_str);\\n        if (code.status == 0) {\\n            f.username=username;\\n            f.password=password\\n            writeFile('hiker://files/WarehouseUSER.json', JSON.stringify(f));\\n            back();\\n            return \\\"toast://登录成功\\\";\\n        }else{\\n            return \\\"toast://账号或密码错误\\\";\\n        }\\n    }, getApi(\\\"rulesAllUrl\\\"),user),\\n    col_type: 'text_center_1'\\n});\\nsetResult(data);\"},{\"col_type\":\"icon_2_round\",\"name\":\"开发者管理\",\"path\":\"devManage\",\"rule\":\"js:\\nsetPageTitle(\\\"规则管理\\\");\\naddListener('onClose', 'clearVar(\\\"Warehouse.back\\\",\\\"\\\");');\\nif (getVar(\\\"Warehouse.back\\\") === \\\"1\\\") {\\n    back();\\n}\\nconst {\\n    getApi,\\n    color,\\n    small,\\n    getFile,\\n    existFile,\\n    mapColType,\\n    api\\n} = $.require(\\\"hiker://page/utiliy\\\");\\nlet {\\n    dev,\\n    username,\\n    password\\n} = MY_PARAMS;\\n//existFile(\\\"hiker://files/rules/dzHouse/html/开发者分享.html\\\", \\\"https://erp.scwinbao.com/hikerule/rulelist.json?id=539\\\");\\nlet ruleList = JSON.parse(request(getApi(\\\"rulesAllUrl\\\") + '?qq=' + username + '&password=' + password)).result;\\nlet MOBILE_UA = 'Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.146 Mobile Safari/537.36';\\nlet infoSetUrl = getApi(\\\"infoSetUrl\\\");\\nlet infoGetUrl = getApi(\\\"infoGetUrl\\\") + username;\\nlet settingsGetUrl = getApi(\\\"settingsGetUrl\\\") + username;\\nputMyVar(\\\"dev_set_info\\\", [username, password, infoSetUrl, MOBILE_UA, infoGetUrl].join(\\\"$$\\\"));\\nlet data = [];\\ndata.push({\\n    title: '““””<big>仓库设置</big>&nbsp;&nbsp;&nbsp;<small><u>（ 个人资料 >）</u></small>',\\n    desc: '““””您共有 <span style=\\\"color: #ff7000\\\">' + ruleList.length + '</span>' + \\\" 条规则。\\\\n点击规则可进行分享、删除、导入操作及查看详情\\\",\\n    url: \\\"hiker://page/PersonalData#noHistory##noRecordHistory#\\\",\\n    extra:{id:dev.id},\\n    col_type: 'text_1'\\n});\\nmapColType(data, \\\"line\\\", 2);\\ndata.push({\\n    title: small(color(\\\"更改公告✍\\\", \\\"#34b1ff\\\")),\\n    // url: \\\"x5://file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/dzHouse/html/dev_info_edit.html\\\",\\n    url: \\\"hiker://page/devInfoEdit\\\",\\n    col_type: 'text_3'\\n});\\ndata.push({\\n    title: small(color(\\\"更多分享📲\\\", \\\"#34b1ff\\\")),\\n    //url: \\\"x5://file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/dzHouse/html/开发者分享.html\\\",\\n    url: \\\"hiker://page/moreShare\\\",\\n    col_type: 'text_3'\\n});\\ndata.push({\\n    title: small(color(\\\"升级依赖📥\\\", \\\"#34b1ff\\\")),\\n    url: $(\\\"升级会重新从仓库拉取相关的静态页面到本地\\\\n确认升级吗?\\\").confirm((host) => {\\n        writeFile(\\\"hiker://files/rules/dzHouse/html/开发者分享.html\\\", request(host+'/hikerule/rulelist.json?id=539'));\\n        writeFile(\\\"hiker://files/rules/dzHouse/html/dev_info_edit.html\\\", request(host+'/hikerule/rulelist.json?id=402'));\\n        writeFile(\\\"hiker://files/rules/dzHouse/html/dev_info_get.html\\\", request(host+'/hikerule/rulelist.json?id=404'));\\n        refreshPage(false);\\n        return \\\"toast://已重置开发者分享,简介查看,简介编辑等静态文件\\\";\\n    },api.host),\\n    col_type: 'text_3'\\n});\\nlet devSetBack;\\ntry {\\n    devSetBack = JSON.parse(request(settingsGetUrl));\\n} catch (e) {\\n    devSetBack = {};\\n}\\n\\nfunction setSettingItem(basic) {\\n    let temp = {\\n        title: basic.title,\\n        col_type: basic.col_type,\\n        url: $(basic.confirm).confirm((url, msg) => {\\n            let back = request(url);\\n            let ret = JSON.parse(back);\\n            if (ret.status == 0) {\\n                refreshPage(true);\\n                return \\\"toast://\\\" + msg[0];\\n            } else {\\n                refreshPage(false);\\n                return \\\"toast://\\\" + msg[1] + \\\"\\\\n\\\" + ret.detail;\\n            }\\n        }, basic.url, basic.msg)\\n    };\\n    return temp;\\n}\\nif (devSetBack.status == 0) {\\n    let devSettings = devSetBack.result;\\n    let share = {\\n        col_type: \\\"text_3\\\"\\n    };\\n    if (devSettings.share_public) {\\n        share.title = small(color(\\\"公开上传\\\", \\\"green\\\") + color(\\\"(私藏)\\\", \\\"#00bfff\\\"));\\n        share.url = getApi(\\\"gupload\\\") + \\\"?qq=\\\" + username + \\\"&password=\\\" + password + \\\"&flag=1\\\";\\n        share.confirm = \\\"是否确认私藏以后提交的规则?\\\";\\n        share.msg = [\\\"已私藏\\\", \\\"私藏失败\\\"];\\n    } else {\\n        share.title = small(color(\\\"私密上传\\\", \\\"red\\\") + color(\\\"(公开)\\\", \\\"#adff2f\\\"));\\n        share.url = getApi(\\\"gupload\\\") + \\\"?qq=\\\" + username + \\\"&password=\\\" + password;\\n        share.confirm = \\\"是否确认公开以后提交的规则?\\\";\\n        share.msg = [\\\"已公开\\\", \\\"公开失败\\\"];\\n    }\\n    data.push(setSettingItem(share));\\n    let timeOver = {\\n        col_type: \\\"text_3\\\"\\n    };\\n    if (devSettings.time_over) {\\n        timeOver.title = small(color(\\\"短时秘钥\\\", \\\"green\\\") + color(\\\"(永久)\\\", \\\"#00bfff\\\"));\\n        timeOver.url = getApi(\\\"gtimeover\\\") + \\\"?qq=\\\" + username + \\\"&password=\\\" + password + \\\"&flag=1\\\";\\n        timeOver.confirm = \\\"是否确认以后的私藏规则分享不过期?\\\";\\n        timeOver.msg = [\\\"已设为永久\\\", \\\"设为永久失败\\\"];\\n    } else {\\n        timeOver.title = small(color(\\\"永久秘钥\\\", \\\"red\\\") + color(\\\"(过期)\\\", \\\"#adff2f\\\"));\\n        timeOver.url = getApi(\\\"gtimeover\\\") + \\\"?qq=\\\" + username + \\\"&password=\\\" + password;\\n        timeOver.confirm = \\\"确认要以后分享的私藏规则自动到期?\\\";\\n        timeOver.msg = [\\\"已设为过期\\\", \\\"设为过期失败\\\"];\\n    }\\n    data.push(setSettingItem(timeOver));\\n    let discuss = {\\n        col_type: \\\"text_3\\\"\\n    };\\n    if (devSettings.can_discuss) {\\n        discuss.title = small(color(\\\"允许评论\\\", \\\"red\\\") + color(\\\"(不许)\\\", \\\"#adff2f\\\"));\\n        discuss.url = api.dis_dev_discuss + \\\"?qq=\\\" + username + \\\"&password=\\\" + password+ \\\"&flag=1\\\";\\n        discuss.confirm = \\\"是否确认以后上传的规则允许评论?\\\";\\n        discuss.msg = [\\\"已设为不许\\\", \\\"设置失败\\\"];\\n\\n    } else {\\n        discuss.title = small(color(\\\"不许评论\\\", \\\"green\\\") + color(\\\"(允许)\\\", \\\"#00bfff\\\"));\\n        discuss.url = api.dis_dev_discuss + \\\"?qq=\\\" + username + \\\"&password=\\\" + password;\\n        discuss.confirm = \\\"是否确认以后上传的规则允许评论?\\\";\\n        discuss.msg = [\\\"已设为允许\\\", \\\"设置失败\\\"];\\n    }\\n    data.push(setSettingItem(discuss));\\n}\\nmapColType(data, \\\"line\\\", 2);\\nfor (let item of ruleList) {\\n    let my_t_excode1 = '';\\n    let my_t_excode2 = '';\\n    if (item.state != 'public') {\\n        my_t_excode1 += '㊙️';\\n    } else {\\n        my_t_excode1 += '';\\n    }\\n    data.push({\\n        title: my_t_excode1 + item.name + my_t_excode2,\\n        url: \\\"hiker://page/manageRule#noHistory##noRecordHistory#\\\",\\n        extra: {\\n            id: item.id,\\n            username: username,\\n            password: password\\n        },\\n        pic_url: item.pic,\\n    })\\n}\\nif (ruleList.length === 0) {\\n    data.push({\\n        title: \\\"<h5 style='text-align:center'>快来上传你的第一条规则吧！</h5>\\\",\\n        col_type: \\\"rich_text\\\"\\n    });\\n}\\nsetResult(data);\"},{\"col_type\":\"movie_3\",\"name\":\"规则详细-dev\",\"path\":\"manageRule\",\"rule\":\"js:\\nconst {\\n    getApi,\\n    color,\\n    small,\\n    getFile,\\n    existFile,\\n    mapColType,\\n    htmlTag,\\n    api\\n} = $.require(\\\"hiker://page/utiliy\\\");\\nlet {\\n    id,\\n    username,\\n    password\\n} = MY_PARAMS;\\naddListener('onClose', $.toString(() => {\\n    refreshPage(false);\\n}));\\nlet dataItem = JSON.parse(request(getApi(\\\"getbyid\\\") + \\\"?id=\\\" + id)).result;\\nsetPageTitle(\\\"编辑「\\\" + dataItem.name + \\\"」\\\");\\nlet reqByGet = \\\"?id=\\\" + dataItem.id + \\\"&qq=\\\" + username + \\\"&password=\\\" + password;\\nlet ruleListJson = getApi(\\\"ruleListJson\\\") + \\\"?id=\\\";\\nlet data = [];\\ndata.push({\\n    title: htmlTag(\\\"big\\\", \\\"版本\\\"),\\n    desc: \\\"““””云端版本:\\\" + color(dataItem.ver, \\\"#5cff2c\\\") + \\\"\\\\n上次提交于: [\\\" + color(dataItem.last_update, \\\"#ff7000\\\") + \\\"]\\\",\\n    url: $(\\\"<开发者>\\\\n\\\" + dataItem.author + \\\"\\\\n<名称>\\\\n\\\" + dataItem.name + \\\"\\\\n<云端版本>\\\\n\\\" + dataItem.ver + \\\"\\\\n<更新时间>\\\\n[\\\" + dataItem.last_update + \\\"]\\\").confirm(() => {}),\\n    col_type: 'text_1'\\n});\\nlet dataType = {\\n    home_rule_url: '首页云规则',\\n    publish: '提交云仓库规则',\\n    js_url: '网页插件规则',\\n    html: '静态页面',\\n    config: '主页配置'\\n};\\n\\nlet basic = {\\n    col_type: \\\"text_1\\\",\\n    url: \\\"hiker://empty\\\"\\n};\\nlet dataTypeTips = dataType[dataItem.data_type] || '未知规则:' + dataItem.data_type;\\n\\nbasic.title = htmlTag(\\\"big\\\", \\\"类型\\\") + \\\"\\\\t\\\\t\\\\t\\\" + small(\\\"(id:\\\" + dataItem.id + \\\")\\\");\\nbasic.desc = \\\"数据类型：\\\" + color(dataTypeTips, \\\"#cb54ff\\\") + \\\"\\\\n分享状态为：\\\" + dataItem.state;\\nif ([\\\"html\\\", \\\"config\\\", \\\"js_url\\\"].includes(dataItem.data_type)) {\\n    basic.desc += \\\"\\\\n““”” =>\\\" + small(\\\"点此预览\\\");\\n    basic.url = ruleListJson + dataItem.id;\\n}\\nlet auth = \\\"\\\";\\nif (dataItem.state == \\\"private\\\") {\\n    let auth_back = JSON.parse(request(getApi(\\\"auth\\\") + reqByGet));\\n    basic.title = basic.title + \\\"\\\\n\\\" + small(color(auth_back.result, \\\"grey\\\"));\\n    auth = '&auth=' + auth_back.result;\\n    basic.url = basic.url === \\\"hiker://empty\\\" ? basic.url : basic.url + auth;\\n}\\ndata.push(basic);\\ndata.push({\\n    title: htmlTag(\\\"big\\\", \\\"操作\\\"),\\n    col_type: \\\"text_1\\\",\\n    url: \\\"toast://你才是最帅的那个人！\\\"\\n});\\nlet importUrl, ruleCode, shareUrl, backCode = \\\"\\\";\\nif (!dataItem.is_json) {\\n    backCode = request(ruleListJson + dataItem.id + auth);\\n}\\nswitch (dataItem.data_type) {\\n    case \\\"home_rule_url\\\":\\n        ruleCode = \\\"海阔视界首页频道规则【\\\" + dataItem.name + \\\"】￥home_rule_url￥\\\" + ruleListJson + dataItem.id + auth;\\n        importUrl = \\\"rule://\\\" + base64Encode(ruleCode)\\n        break;\\n    case 'publish':\\n        ruleCode = '海阔视界规则分享，当前分享的是：' + dataItem.name + '￥publish￥' + base64Encode(backCode);\\n        importUrl = 'rule://' + base64Encode(ruleCode);\\n        break;\\n    case 'js_url':\\n        ruleCode = '海阔视界规则分享，当前分享的是：网页插件￥js_url￥' + dataItem.name + '@base64://' + base64Encode(backCode);\\n        importUrl = 'rule://' + base64Encode(ruleCode);\\n        break;\\n    case 'html':\\n        let file_tmp = dataItem.name.split('.');\\n        let file_path = file_tmp.length > 1 ? file_tmp[file_tmp.length - 1] + \\\"/\\\" + dataItem.name : dataItem.name;\\n        ruleCode = \\\"海阔视界本地文件分享￥file_url￥hiker://files/rules/dzHouse/\\\" + file_path + \\\"@\\\" + ruleListJson + dataItem.id + auth;\\n        importUrl = 'rule://' + base64Encode(ruleCode);\\n        break\\n    case \\\"config\\\":\\n        importUrl = $().rule(password => {\\n            eval(fetch(\\\"hiker://assets/home.js\\\"));\\n            HikerHome.load(\\\"import\\\", password);\\n        }, backCode);\\n        break;\\n}\\nlet my_col_type = \\\"text_2\\\";\\nif (importUrl) {\\n    data.push({\\n        title: \\\"导入规则\\\",\\n        url: importUrl,\\n        col_type: my_col_type\\n    });\\n}\\nif (ruleCode) {\\n    data.push({\\n        title: \\\"分享规则\\\",\\n        url: \\\"copy://\\\" + ruleCode,\\n        col_type: my_col_type\\n    });\\n}\\n\\nfunction setSettingItem(basic, pattern) {\\n    let temp = {\\n        title: basic.title,\\n        col_type: basic.col_type,\\n        url: $(basic.confirm).confirm((url, msg, pattern) => {\\n            let backA = request(url);\\n            let ret = JSON.parse(backA);\\n            if (ret.status == 0) {\\n                pattern ? back() : refreshPage(false);\\n                return \\\"toast://\\\" + msg[0];\\n            } else {\\n                pattern ? back() : refreshPage(false);\\n                return \\\"toast://\\\" + msg[1] + \\\"\\\\n\\\" + ret.detail;\\n            }\\n        }, basic.url, basic.msg, pattern)\\n    };\\n    return temp;\\n}\\nif (dataItem.state == 'private') {\\n    data.push({\\n        title: \\\"设为公开\\\",\\n        url: $(getApi(\\\"share\\\") + reqByGet + \\\"&flag\\\" + \\\"#noLoading#\\\").lazyRule(() => {\\n            request(input);\\n            refreshPage(false);\\n            return \\\"toast://已设为公开\\\";\\n        }),\\n        col_type: my_col_type\\n    }, {\\n        title: \\\"随机密钥\\\",\\n        col_type: my_col_type,\\n        url: $(getApi(\\\"genAuth\\\") + reqByGet + \\\"#noLoading#\\\").lazyRule(() => {\\n            let back = request(input);\\n            let ret = JSON.parse(back);\\n            if (ret.status == 0) {\\n                refreshPage(false);\\n                return \\\"toast://已生成随机密码\\\\n\\\" + ret.result\\n            } else {\\n                refreshPage(true);\\n                return \\\"toast://随机密码生成失败\\\"\\n            }\\n        })\\n    });\\n    let timeOver = {\\n        col_type: my_col_type\\n    };\\n    if (dataItem.time_over) {\\n        timeOver.title = small(color(\\\"短时密钥\\\", \\\"green\\\") + color(\\\"(→永久)\\\", \\\"red\\\"));\\n        timeOver.url = getApi(\\\"timeover\\\") + reqByGet + \\\"&flag=1\\\";\\n        timeOver.confirm = \\\"是否确认以后的私藏规则分享不过期?\\\";\\n        timeOver.msg = [\\\"已设为永久\\\", \\\"设为永久失败\\\"];\\n    } else {\\n        timeOver.title = small(color(\\\"永久密钥\\\", \\\"red\\\") + color(\\\"(→短时)\\\", \\\"green\\\"));\\n        timeOver.url = getApi(\\\"timeover\\\") + reqByGet;\\n        timeOver.confirm = \\\"确认要以后分享的私藏规则自动到期?\\\";\\n        timeOver.msg = [\\\"已设为过期\\\", \\\"设为过期失败\\\"];\\n    }\\n    data.push(setSettingItem(timeOver));\\n} else if (dataItem.state == 'public') {\\n    data.push({\\n        title: \\\"设为私有\\\",\\n        url: $(getApi(\\\"share\\\") + reqByGet + \\\"&flag=1#noLoading#\\\").lazyRule(() => {\\n            request(input);\\n            refreshPage(false);\\n            return \\\"toast://已设为私有\\\";\\n        }),\\n        col_type: my_col_type\\n    });\\n}\\ndata.push(setSettingItem({\\n    title: \\\"删除数据\\\",\\n    confirm: \\\"是否确认删除\\\",\\n    msg: [\\\"已删除\\\", \\\"删除失败\\\"],\\n    url: getApi(\\\"deleteUrl\\\") + reqByGet,\\n    col_type: my_col_type\\n}, true));\\ndata.push({\\n    title: \\\"设置图标\\\",\\n    url: $(dataItem.pic_url, \\\"输入图标地址\\\").input(api => {\\n        if (input === \\\"\\\") {\\n            return \\\"toast://你在逗我链接哪?\\\"\\n        }\\n        let result = request(api + \\\"&rule_pic=\\\" + input);\\n        result = JSON.parse(result);\\n        if (result.status !== 0) {\\n            return \\\"toast://\\\" + result.detail;\\n        }\\n        return \\\"toast://修改成功\\\";\\n    }, getApi(\\\"set_rule_pic\\\") + dataItem.id + reqByGet),\\n    col_type: my_col_type\\n});\\n\\ndata.push({\\n    title: dataItem.can_discuss ? \\\"禁止评论\\\" : \\\"开启评论\\\",\\n    url: $(api.dis_set + dataItem.id + reqByGet + \\\"&state=\\\" + (dataItem.can_discuss ? \\\"\\\" : 1)).lazyRule((can_discuss) => {\\n        request(input);\\n        refreshPage(false);\\n        return can_discuss ? \\\"toast://已禁止评论\\\" : \\\"toast://已开启评论\\\";\\n    }, dataItem.can_discuss),\\n    col_type: my_col_type\\n});\\nMY_PARAMS.name = dataItem.name;\\ndata.push({\\n    title: \\\"设置备注\\\",\\n    url: \\\"hiker://page/set_rule_notes\\\",\\n    extra: MY_PARAMS,\\n    col_type: my_col_type\\n});\\nif (dataItem.is_json && dataItem.data_type === \\\"home_rule_url\\\" && !dataItem.is_json_list) {\\n    data.push({\\n        title: '进入频道',\\n        url: $( /*\\\"#noLoading#\\\"*/ ).lazyRule((name,home) => {\\n            let ruleList = JSON.parse(request(home));\\n            let hasRule = ruleList.some(item => item.title === name);\\n            if (hasRule) {\\n                putVar(\\\"Warehouse.back\\\", \\\"1\\\");\\n                back();\\n                return home+\\\"s@\\\" + name;\\n            } else {\\n                return \\\"toast://未安装\\\";\\n            }\\n        }, dataItem.name,api.home),\\n        col_type: my_col_type\\n    });\\n}\\ndata.push({\\n    col_type: \\\"line_blank\\\"\\n});\\ndata.push({\\n    title: dataItem.good_num,\\n    pic_url: \\\"hiker://files/icon/赞.svg\\\",\\n    col_type: \\\"icon_small_3\\\",\\n    url: \\\"hiker://empty\\\"\\n});\\ndata.push({\\n    title: dataItem.bad_num,\\n    pic_url: \\\"hiker://files/icon/踩.svg\\\",\\n    col_type: \\\"icon_small_3\\\",\\n    url: \\\"hiker://empty\\\"\\n});\\ndata.push({\\n    title: \\\"评论\\\",\\n    pic_url: \\\"hiker://files/icon/评论.svg\\\",\\n    col_type: \\\"icon_small_3\\\",\\n    url: \\\"hiker://page/Reply#noHistory##noRecordHistory#\\\",\\n    extra: {\\n        ruleId: dataItem.id,\\n        name: dataItem.author,\\n        password: password,\\n        username: username\\n    }\\n});\\nlet totalSum = dataItem.good_num + dataItem.bad_num;\\n\\ndata.push({\\n    title: htmlTag(\\\"big\\\", \\\"评论(\\\" + totalSum + \\\")\\\") + \\\"\\\\t\\\\t\\\\t\\\" + small(htmlTag(\\\"u\\\", \\\"查看全部评论(控评) >\\\")),\\n    col_type: \\\"text_1\\\",\\n    url: \\\"hiker://page/Comment\\\",\\n    extra: {\\n        url: \\\"hiker://empty#fypage#noHistory##noRecordHistory#\\\",\\n        id: dataItem.id,\\n        totalSum: totalSum,\\n        no_active: true,\\n        username: username,\\n        password: password\\n    }\\n});\\n//const longestSum=120;\\nlet icon = {\\n    \\\"good\\\": \\\"👍\\\",\\n    \\\"bad\\\": \\\"👎\\\",\\n    \\\"reply\\\": \\\"开发者🗣\\\"\\n}\\nif (totalSum === 0) {\\n    data.push({\\n        title: \\\"<h5 style='text-align:center'>一条评论也没有，快来抢沙发吧！</h5>\\\",\\n        col_type: \\\"rich_text\\\"\\n    });\\n} else {\\n    let commentList = JSON.parse(request(api.dis_get + dataItem.id + \\\"?limit=5\\\")).result;\\n    for (let item of commentList) {\\n        let Reply = item.discuss_type===\\\"reply\\\"&&item.reply_to_name!==false&&item.reply_to_id!==false?\\\"‘‘回复@\\\"+item.reply_to_name+\\\" #\\\"+item.discuss_id+\\\"’’\\\\n\\\":\\\"\\\";\\n        data.push({\\n            title: item.name + \\\"&nbsp;&nbsp;<font color='gray'><small>#\\\" + item.id + \\\"</small><font>\\\",\\n            col_type: \\\"avatar\\\",\\n            url: \\\"hiker://page/Reply\\\",\\n            extra:{\\n                ruleId: dataItem.id,\\n                name: item.name,\\n                password: password,\\n                username: username,\\n                replyId:item.id\\n            },\\n            pic_url: item.avatar_url\\n        });\\n        data.push({\\n            title: item.discuss_text,\\n            desc: Reply+item.create_date + \\\"·\\\" + icon[item.discuss_type],\\n            col_type: \\\"text_1\\\",\\n            url: \\\"hiker://page/info\\\",\\n            extra: {\\n                name: item.name,\\n                type: \\\"long_text\\\",\\n                text: item.discuss_text\\n            },\\n            pic_url: item.avatar_url\\n        });\\n    }\\n}\\ndata.push({\\n    col_type: \\\"line_blank\\\"\\n});\\nsetResult(data);\"},{\"col_type\":\"icon_2_round\",\"name\":\"规则列表\",\"path\":\"rules\",\"rule\":\"js:\\naddListener('onClose', 'clearVar(\\\"Warehouse.back\\\",\\\"\\\");clearVar(\\\"Warehouse.filter\\\",\\\"\\\");clearVar(\\\"Warehouse.type\\\",\\\"\\\");');\\n\\nif (getVar(\\\"Warehouse.back\\\") === \\\"1\\\") {\\n    back(false);\\n}\\n\\nconst {\\n    getApi,\\n    api,\\n    color,\\n    small,\\n    localRuleVer,\\n    htmlTag\\n} = $.require(\\\"hiker://page/utiliy\\\");\\nconst { mergeSort } = $.require(\\\"hiker://page/sort\\\");\\nlet {\\n    avatarUrl,\\n    qq\\n} = MY_PARAMS;\\nlet dataType = getVar(\\\"Warehouse.type\\\",\\\"\\\");\\nlet backCode = JSON.parse(request(getApi(\\\"rulesUrl\\\") + \\\"?name=\\\" + qq+\\\"&data_type=\\\"+dataType));\\nlet devName = backCode.dev_name;\\nputVar(\\\"Warehouse.filter\\\", devName);\\nlet ruleList = backCode.result;\\nlet subUrl = getApi(\\\"jsonList\\\") + \\\"?name=\\\" + qq;\\nlet hasSub = hasHomeSub(subUrl);\\nlet devInfo = \\\"这个人很懒,什么都没写哦~\\\";\\nlet tmpJson = JSON.parse(request(getApi(\\\"infoGetUrl\\\") + qq));\\nif (tmpJson.status == 0) {\\n    devInfo = tmpJson.result || devInfo;\\n}\\nlet subFlag = hasSub ? '🆗' : '📡';\\nlet data = [];\\nrequire(\\\"https://cdn.jsdelivr.net/npm/marked/marked.min.js\\\");\\ndevInfo=marked.parse(devInfo);\\ndata.push({\\n    title: \\\"““””\\\" + devName + \\\"\\\\n\\\\n\\\" + small(htmlTag(\\\"u\\\", \\\"点击查看完整公告\\\")),\\n    desc: small(devInfo),\\n    url: 'hiker://page/info',\\n    extra: {\\n        text: devInfo,\\n        name: devName,\\n        type:\\\"rich_text\\\"\\n    },\\n    pic_url: avatarUrl,\\n    col_type: 'movie_1_vertical_pic'\\n});\\ndata.push({\\n    title: \\\"<big>订阅管理</big>&nbsp;&nbsp;<small>(当前\\\" + (hasSub ? \\\"已订阅\\\" : \\\"未订阅\\\") + \\\")</small>\\\",\\n    col_type: \\\"rich_text\\\"\\n});\\n\\nlet sub_code = '海阔视界合集规则订阅￥home_sub￥' + devName + \\\"合集@@\\\" + subUrl;\\nlet rulesCode = '海阔视界合集规则￥home_rule_url￥' + subUrl;\\ndata.push({\\n    title: '““””<span style=\\\"color: #ff7000\\\">一键订阅</span>',\\n    desc: '订阅““””<span style=\\\"color: #5cff2c\\\">' + devName + '</span>的所有单规则，合集需单独订阅',\\n    url: sub_code,\\n    col_type: 'text_3'\\n});\\ndata.push({\\n    title: '““””<span style=\\\"color: #ff7000\\\">导入全部</span>',\\n    url: rulesCode,\\n    col_type: 'text_3'\\n});\\ndata.push({\\n    title: '““””<span style=\\\"color: #ff7000\\\">导入轻合集</span>',\\n    url: $().lazyRule((devName,subUrl,avatarUrl)=>{\\n        const {genRule}=$.require(\\\"hiker://page/genApi\\\");\\n    log(\\\"轻合集图标链接:\\\"+avatarUrl);\\n    let import_rule=genRule(\\\"轻合集.\\\"+devName,subUrl,avatarUrl);\\n    //copy(import_rule);\\n    let ruleCode=parsePaste(import_rule.split(\\\"\\\\n\\\")[0]);\\n    //return \\\"hiker://empty\\\"\\n    importUrl = 'rule://' + base64Encode(ruleCode);\\n    return importUrl\\n    },devName,subUrl,avatarUrl),\\n    col_type: 'text_3'\\n});\\ndata.push({\\n    title: \\\"<small>提示：开发者单独分享的合集文件只能单独导入。</small>\\\",\\n    col_type: \\\"rich_text\\\"\\n});\\ndata.push({\\n    title: \\\"<big>规则列表</big>&nbsp;&nbsp;<small>(共\\\" + ruleList.length + \\\"条)</small>\\\",\\n    col_type: \\\"rich_text\\\"\\n});\\nlet dataTypeList = {\\n    \\\"\\\":\\\"全部\\\",\\n    \\\"home_rule_url\\\": '小程序',\\n    //\\\"publish\\\": '提交云仓库规则',\\n    \\\"js_url\\\": '网页插件',\\n    \\\"html\\\": '静态页面',\\n    \\\"config\\\": '主题'\\n};\\nfor(let key in dataTypeList){\\n    data.push({\\n        title:dataType===key?\\\"““\\\"+dataTypeList[key]+\\\"””\\\":dataTypeList[key],\\n        url:$(\\\"#noLoading#\\\").lazyRule((key)=>{\\n            putVar(\\\"Warehouse.type\\\",key);\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\";\\n        },key),\\n        col_type:\\\"scroll_button\\\"\\n    });\\n}\\nif (ruleList.length > 20) {\\n    data.push({\\n        title: \\\"搜索\\\",\\n        url: $.toString(name => \\\"hiker://search?s=\\\" + input + \\\"&rule=\\\" + name, MY_RULE.title),\\n        col_type: \\\"input\\\",\\n        desc: \\\"搜索当前开发者的规则\\\"\\n    });\\n}\\nlet homeList = JSON.parse(request(api.home));\\nlet mRuleList = [];\\nfor (var item of ruleList) {\\n    var name = item.name;\\n    if (item.is_tap) {\\n        let location = JSON.parse(request(getApi(\\\"ruleListJson\\\") + \\\"?id=\\\" + item.id));\\n        item.id = location.id;\\n        item.name = location.name;\\n        item.author = location.author;\\n        item.data_type = location.data_type;\\n        item.ver = location.ver\\n    }\\n    item.version = item.ver;\\n    let label = \\\"\\\",\\n        lver = -2;\\n    if (item.is_json && item.data_type === \\\"home_rule_url\\\") {\\n        lver = localRuleVer(homeList, item);\\n        if (lver === -1) {\\n            label = \\\"🆕\\\";\\n        } else if (lver < item.ver) {\\n            label = \\\"🆙\\\";\\n        }\\n    }\\n    mRuleList.push({\\n        title: label + name,\\n        url: \\\"hiker://page/ruleDetail#noHistory##noRecordHistory#\\\",\\n        extra: {\\n            lver: lver,\\n            id: item.id\\n        },\\n        pic_url: item.pic,\\n    });\\n}\\n/* 归并排序 Start */\\nmRuleList = mergeSort(mRuleList);\\n/* 归并排序 End */\\ndata.push.apply(data, mRuleList) \\nsetResult(data);\\n\"},{\"col_type\":\"movie_3\",\"name\":\"规则详细-user\",\"path\":\"ruleDetail\",\"rule\":\"js:\\n    const {\\n        getApi,\\n        color,\\n        small,\\n        htmlTag,\\n        api\\n    } = $.require(\\\"hiker://page/utiliy\\\");\\nlet {\\n    id,\\n    lver,\\n    isAll\\n} = MY_PARAMS;\\naddListener('onClose', $.toString((isAll) => {\\n    if(!isAll){\\n        refreshPage(false);\\n    }\\n},isAll));\\nlet dataItem = JSON.parse(request(getApi(\\\"getbyid\\\") + \\\"?id=\\\" + id)).result;\\nsetPageTitle(\\\"「\\\" + dataItem.name + \\\"」\\\")\\nlet ruleListJson = getApi(\\\"ruleListJson\\\") + \\\"?id=\\\";\\nlet data = [];\\nvar hasSub = false;\\n\\nif (dataItem.is_json_list) {\\n    hasSub = hasHomeSub(ruleListJson + dataItem.id);\\n} else if (!dataItem.is_json_list && dataItem.data_type == 'home_rule_url') {\\n    hasSub = hasHomeSub(ruleListJson + dataItem.id + '&debug=true');\\n}\\n\\ndata.push({\\n    title: htmlTag(\\\"big\\\", \\\"版本\\\"),\\n    desc: \\\"““””开发者：\\\" + color(dataItem.author, \\\"#228BE6\\\") + \\\"\\\\n云端版本：\\\" + color(dataItem.ver, \\\"#5cff2c\\\") + \\\"\\\\t\\\\t本地版本：\\\" + color(lver, \\\"#5cff2c\\\") + \\\"\\\\n更新于: [\\\" + color(dataItem.last_update, \\\"#ff7000\\\") + \\\"]\\\",\\n    url: $(\\\"<开发者>\\\\n\\\" + dataItem.author + \\\"\\\\n<名称>\\\\n\\\" + dataItem.name + \\\"\\\\n<云端版本>\\\\n\\\" + dataItem.ver + \\\"\\\\n<本地版本>\\\\n\\\" + lver + \\\"\\\\n<更新时间>\\\\n[\\\" + dataItem.last_update + \\\"]\\\").confirm(() => {}),\\n    col_type: 'text_1'\\n});\\nlet dataType = {\\n    home_rule_url: '首页云规则',\\n    publish: '提交云仓库规则',\\n    js_url: '网页插件规则',\\n    html: '静态页面',\\n    config: '主页配置'\\n};\\n\\nlet basic = {\\n    col_type: \\\"text_1\\\",\\n    url: \\\"hiker://empty\\\"\\n};\\nlet dataTypeTips = dataType[dataItem.data_type] || '未知规则：' + dataItem.data_type;\\n\\nlet safe_tip=dataItem.is_safe?\\\"安全\\\":\\\"危险\\\";\\nlet not_safe_note=dataItem.not_safe_note;\\nbasic.title = htmlTag(\\\"big\\\", \\\"类型\\\") + \\\"\\\\t\\\\t\\\\t\\\" + small(\\\"(id:\\\" + dataItem.id + \\\")\\\")+\\\"\\\\t\\\\t\\\\t\\\" + small(\\\"(风险检测:\\\" +safe_tip+\\\")\\\");\\nbasic.desc = \\\"数据类型：\\\" + color(dataTypeTips, \\\"#cb54ff\\\") + \\\"\\\\n分享状态为：\\\" + dataItem.state;\\nif ([\\\"html\\\", \\\"config\\\", \\\"js_url\\\"].includes(dataItem.data_type)) {\\n    basic.desc += \\\"\\\\n““”” =>\\\" + small(\\\"点此预览\\\");\\n    basic.url = ruleListJson + dataItem.id;\\n}\\n\\ndata.push(basic);\\nlet hasSubs = \\\"\\\";\\nif (hasSub) {\\n    hasSubs = \\\"\\\\t\\\\t\\\\t\\\" + small(\\\"已订阅\\\")\\n}\\n\\nlet notes = request(getApi(\\\"get_rule_note\\\") + id);\\nnotes = JSON.parse(notes).result;\\nrequire(\\\"https://cdn.jsdelivr.net/npm/marked/marked.min.js\\\");\\nlet notesHtml=\\\"\\\"\\ntry{\\n    notesHtml=marked.parse(notes);\\n}catch(e){}\\n\\nif (notes !== false) {\\n    data.push({\\n        title: htmlTag(\\\"big\\\", \\\"备注\\\") + \\\"\\\\t\\\\t\\\\t\\\" + small(htmlTag(\\\"u\\\", \\\"查看完整公告 >\\\")),\\n        desc: notes,\\n        col_type: \\\"text_1\\\",\\n        url: \\\"hiker://page/info\\\",\\n        extra: {\\n            text: notesHtml,\\n            name: dataItem.name,\\n            // type: \\\"long_text\\\"\\n            type: \\\"rich_text\\\"\\n        }\\n    });\\n}\\ndata.push({\\n    title: htmlTag(\\\"big\\\", \\\"操作\\\") + hasSubs,\\n    col_type: \\\"text_1\\\",\\n    url: \\\"toast://你才是最帅的那个人！\\\"\\n});\\nlet importUrl, ruleCode, shareUrl, backCode = \\\"\\\";\\nif (!dataItem.is_json) {\\n    backCode = request(ruleListJson + dataItem.id);\\n}\\nswitch (dataItem.data_type) {\\n    case \\\"home_rule_url\\\":\\n        ruleCode = \\\"海阔视界首页频道规则【\\\" + dataItem.name + \\\"】￥home_rule_url￥\\\" + ruleListJson + dataItem.id;\\n        importUrl = \\\"rule://\\\" + base64Encode(ruleCode)\\n        break;\\n    case 'publish':\\n        ruleCode = '海阔视界规则分享，当前分享的是：' + dataItem.name + '￥publish￥' + base64Encode(backCode);\\n        importUrl = 'rule://' + base64Encode(ruleCode);\\n        break;\\n    case 'js_url':\\n        ruleCode = '海阔视界规则分享，当前分享的是：网页插件￥js_url￥' + dataItem.name + '@base64://' + base64Encode(backCode);\\n        importUrl = 'rule://' + base64Encode(ruleCode);\\n        break;\\n    case 'html':\\n        let file_tmp = dataItem.name.split('.');\\n        let file_path = file_tmp.length > 1 ? file_tmp[file_tmp.length - 1] + \\\"/\\\" + dataItem.name : dataItem.name;\\n        ruleCode = \\\"海阔视界本地文件分享￥file_url￥hiker://files/rules/dzHouse/\\\" + file_path + \\\"@\\\" + ruleListJson + dataItem.id;\\n        importUrl = 'rule://' + base64Encode(ruleCode);\\n        break\\n    case \\\"config\\\":\\n        importUrl = $().rule(password => {\\n            eval(fetch(\\\"hiker://assets/home.js\\\"));\\n            HikerHome.load(\\\"import\\\", password);\\n        }, backCode);\\n        break;\\n}\\nlet my_col_type = \\\"text_2\\\";\\nif (importUrl) {\\n    data.push({\\n        title: \\\"导入规则\\\",\\n        url: importUrl,\\n        col_type: my_col_type\\n    });\\n}\\nif (ruleCode) {\\n    data.push({\\n        title: \\\"分享口令\\\",\\n        url: \\\"copy://\\\" + ruleCode,\\n        col_type: my_col_type\\n    });\\n}\\n\\nif (importUrl) {\\n    if (dataItem.is_json_list && !hasSub) {\\n        let sub_rule_code = '海阔视界合集规则订阅￥home_sub￥' + dataItem.name + \\\"@@\\\" + ruleListJson + dataItem.id;\\n        let sub_url = 'rule://' + base64Encode(sub_rule_code);\\n        data.push({\\n            title: '订阅合集',\\n            url: sub_url,\\n            col_type: my_col_type\\n        });\\n        data.push({\\n            title: '““””<span style=\\\"color: #ff7000\\\">导入轻合集</span>',\\n            url: $().lazyRule((dataItem,subUrl)=>{\\n                const {genRule}=$.require(\\\"hiker://page/genApi\\\");\\n                let import_rule=genRule(dataItem.name+\\\".\\\"+dataItem.author,subUrl);\\n                //copy(import_rule);\\n                let ruleCode=parsePaste(import_rule.split(\\\"\\\\n\\\")[0]);\\n                //return \\\"hiker://empty\\\"\\n                importUrl = 'rule://' + base64Encode(ruleCode);\\n                return importUrl\\n            },dataItem,ruleListJson + dataItem.id),\\n            col_type: my_col_type\\n        });\\n        data.push({\\n            title: \\\"<small>提示：开发者单独分享的合集文件只能单独导入。</small>\\\",\\n            col_type: \\\"rich_text\\\"\\n        });\\n    } else if (!dataItem.is_json_list && !hasSub && dataItem.data_type == 'home_rule_url') {\\n        let sub_rule_code = '海阔视界单规则订阅￥home_sub￥' + dataItem.name + \\\"@@\\\" + ruleListJson + dataItem.id + '&debug=true';\\n        let sub_url = 'rule://' + base64Encode(sub_rule_code);\\n        data.push({\\n            title: '订阅规则',\\n            url: sub_url,\\n            col_type: my_col_type\\n        })\\n    }\\n}\\nif (dataItem.is_json && dataItem.data_type === \\\"home_rule_url\\\" && !dataItem.is_json_list) {\\n    data.push({\\n        title: '进入频道',\\n        url: $( /*\\\"#noLoading#\\\"*/ ).lazyRule((name,home) => {\\n            let ruleList = JSON.parse(request(home));\\n            let hasRule = ruleList.some(item => item.title === name);\\n            if (hasRule) {\\n                putVar(\\\"Warehouse.back\\\", \\\"1\\\");\\n                back();\\n                return home+\\\"s@\\\" + name;\\n            } else {\\n                return \\\"toast://未安装\\\";\\n            }\\n        }, dataItem.name,api.home),\\n        col_type: my_col_type\\n    })\\n}\\ndata.push({\\n    col_type: \\\"line_blank\\\"\\n});\\ndata.push({\\n    title: dataItem.good_num,\\n    pic_url: \\\"hiker://files/icon/赞.svg\\\",\\n    col_type: \\\"icon_small_3\\\",\\n    url: \\\"hiker://page/MakeAcomment#noHistory##noRecordHistory#\\\",\\n    extra: {\\n        id: dataItem.id,\\n        name: dataItem.name\\n    }\\n});\\ndata.push({\\n    title: dataItem.bad_num,\\n    pic_url: \\\"hiker://files/icon/踩.svg\\\",\\n    col_type: \\\"icon_small_3\\\",\\n    url: \\\"hiker://page/MakeAcomment#noHistory##noRecordHistory#\\\",\\n    extra: {\\n        id: dataItem.id,\\n        name: dataItem.name,\\n        defaultType:\\\"bad\\\"\\n    }\\n});\\ndata.push({\\n    title: \\\"评论\\\",\\n    pic_url: \\\"hiker://files/icon/评论.svg\\\",\\n    col_type: \\\"icon_small_3\\\",\\n    url: \\\"hiker://page/MakeAcomment#noHistory##noRecordHistory#\\\",\\n    extra: {\\n        id: dataItem.id,\\n        name: dataItem.name\\n    }\\n});\\nlet totalSum = dataItem.good_num + dataItem.bad_num;\\n\\ndata.push({\\n    title: htmlTag(\\\"big\\\", \\\"评论(\\\" + totalSum + \\\")\\\") + \\\"\\\\t\\\\t\\\\t\\\" + small(htmlTag(\\\"u\\\", \\\"查看全部评论 >\\\")),\\n    col_type: \\\"text_1\\\",\\n    url: \\\"hiker://page/Comment\\\",\\n    extra: {\\n        url: \\\"hiker://empty#fypage#noHistory##noRecordHistory#\\\",\\n        id: dataItem.id,\\n        totalSum: totalSum,\\n        no_active: false\\n    }\\n});\\n//const longestSum=120;\\nlet icon = {\\n    \\\"good\\\": \\\"👍\\\",\\n    \\\"bad\\\": \\\"👎\\\",\\n    \\\"reply\\\":\\\"开发者🗣\\\"\\n}\\nif (totalSum === 0) {\\n    data.push({\\n        title: \\\"<h5 style='text-align:center'>一条评论也没有，快来抢沙发吧！</h5>\\\",\\n        col_type: \\\"rich_text\\\"\\n    });\\n} else {\\n    let commentList = JSON.parse(request(api.dis_get + dataItem.id + \\\"?limit=5\\\")).result;\\n    for (let item of commentList) {\\n        let Reply = item.discuss_type===\\\"reply\\\"&&item.reply_to_name!==false&&item.reply_to_id!==false?\\\"‘‘回复@\\\"+item.reply_to_name+\\\" #\\\"+item.discuss_id+\\\"’’\\\\n\\\":\\\"\\\";\\n        data.push({\\n            title: item.name + \\\"&nbsp;&nbsp;<font color='gray'><small>#\\\" + item.id + \\\"</small><font>\\\",\\n            col_type: \\\"avatar\\\",\\n            url: \\\"toast://\\\" + item.qq,\\n            pic_url: item.avatar_url\\n        });\\n        data.push({\\n            title: item.discuss_text,\\n            desc: Reply+item.create_date + \\\"·\\\" + icon[item.discuss_type],\\n            col_type: \\\"text_1\\\",\\n            url: \\\"hiker://page/info\\\",\\n            extra:{\\n                name:item.name,\\n                type:\\\"long_text\\\",\\n                text:item.discuss_text\\n            },\\n            pic_url: item.avatar_url\\n        });\\n    }\\n    data.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n}\\n\\nsetResult(data);\"},{\"col_type\":\"rich_text\",\"name\":\"查看\",\"path\":\"info\",\"rule\":\"js:\\nsetPageTitle(\\\"查看「\\\"+MY_PARAMS.name+\\\"」\\\")\\nsetResult([{\\n    title: MY_PARAMS.text,\\n    col_type:MY_PARAMS.type\\n}]);\"},{\"col_type\":\"movie_3\",\"name\":\"开发者注册\",\"path\":\"Register\",\"rule\":\"js:\\nsetPageTitle(\\\"开发者注册\\\");\\nconst {\\n    getApi,\\n    htmlTag,\\n    mapColType,\\n    small\\n} = $.require(\\\"hiker://page/utiliy\\\");\\nvar data = [];\\naddListener('onClose', $.toString(() => {\\n    clearVar(\\\"Warehouse.Password\\\");\\n    clearVar(\\\"Warehouse.Username\\\");\\n    clearVar(\\\"Warehouse.Description\\\");\\n    clearVar(\\\"Warehouse.UserAddress\\\");\\n}));\\naddListener('onRefresh', $.toString(()=>{\\n    putVar(\\\"Warehouse.Wait\\\", \\\"\\\");\\n}));\\ndata.push({\\n    title: '账号',\\n    desc: \\\"请输入账号(必填)\\\",\\n    col_type: 'input',\\n    extra: {\\n        defaultValue: getVar('Warehouse.Username', ''),\\n        type: \\\"number\\\",\\n        onChange: 'putVar(\\\"Warehouse.Username\\\",input)'\\n    }\\n}, {\\n    title: '密码',\\n    desc: \\\"请输入密码(必填)\\\",\\n    col_type: 'input',\\n    extra: {\\n        defaultValue: getVar('Warehouse.Password', ''),\\n        type: \\\"password\\\",\\n        onChange: 'putVar(\\\"Warehouse.Password\\\",input)'\\n    }\\n});\\nmapColType(data, \\\"line_blank\\\", 1);\\ndata.push({\\n    title: '昵称',\\n    desc: \\\"请输入昵称(必填)\\\",\\n    col_type: 'input',\\n    extra: {\\n        defaultValue: getVar('Warehouse.UserAddress', ''),\\n        onChange: 'putVar(\\\"Warehouse.UserAddress\\\",input)'\\n    }\\n}, {\\n    title: '描述',\\n    desc: \\\"说说为什么要注册吧\\\\n(可以增加通过概率,选填)\\\",\\n    col_type: 'input',\\n    extra: {\\n        defaultValue: getVar('Warehouse.Description', ''),\\n        type: \\\"textarea\\\",\\n        onChange: 'putVar(\\\"Warehouse.Description\\\",input)'\\n    }\\n})\\n\\nmapColType(data, \\\"line_blank\\\", 1);\\n\\ndata.push({\\n    title: htmlTag(\\\"b\\\", \\\"注册\\\"),\\n    url: $(getApi(\\\"new_dev\\\")+\\\"#noLoading#\\\").lazyRule((getId, confirm) => {\\n        let username = getVar('Warehouse.Username', \\\"\\\"),\\n            password = getVar('Warehouse.Password', \\\"\\\"),\\n            description = getVar('Warehouse.Description', \\\"\\\"),\\n            name = getVar(\\\"Warehouse.UserAddress\\\", \\\"\\\");\\n        if ([username, password, name].includes(\\\"\\\")) {\\n            return \\\"toast://账号,密码和昵称不能为空\\\";\\n        }\\n        showLoading(\\\"正在提交申请表\\\");\\n        let result = request(input, {\\n            headers: {\\n                'content-type': 'application/json'\\n            },\\n            body: JSON.stringify({\\n                \\\"params\\\": {\\n                    \\\"reason\\\": description,\\n                    \\\"name\\\": name,\\n                    \\\"password\\\": password,\\n                    \\\"qq\\\": username\\n                }\\n            }),\\n            method: 'post'\\n        });\\n        result = JSON.parse(result).result;\\n        hideLoading();\\n        if (result.status !== 0) {\\n            return \\\"toast://\\\" + result.detail;\\n        }\\n        let idresult = JSON.parse(request(getId + \\\"?qq=\\\" + username));\\n        if (idresult.status !== 0) {\\n            return \\\"toast://\\\" + idresult.detail;\\n        }\\n        \\n        return $(\\\"\\\", \\\"输入邮箱验证码\\\\n\\\" + result.detail).input((confirm, id, account) => {\\n            showLoading(\\\"请耐心等待\\\");\\n            try {\\n                let result = request(confirm, {\\n                    headers: {\\n                        'content-type': 'application/json'\\n                    },\\n                    body: JSON.stringify({\\n                        \\\"params\\\": {\\n                            \\\"regist_id\\\": id,\\n                            \\\"yzm\\\": input\\n                        }\\n                    }),\\n                    method: 'POST'\\n                });\\n                result = JSON.parse(result).result;\\n                if (result.status !== 0) {\\n                    hideLoading();\\n                    return \\\"toast://\\\" + result.detail;\\n                } else {\\n                    putVar(\\\"WarehouseUsername\\\", account[0]);\\n                    putVar(\\\"WarehousePassword\\\", account[1]);\\n                    hideLoading();\\n                    back();\\n                    return \\\"toast://成功提交注册注册\\\\n\\\"+result.detail;\\n                }\\n            } catch (e) {\\n                hideLoading();\\n                return \\\"toast://出错了呐\\\";\\n            }\\n        }, confirm, idresult.result, [username, password]);\\n    }, getApi(\\\"new_getId\\\"), getApi(\\\"new_confirm\\\")),\\n    col_type: 'text_center_1'\\n});\\nsetResult(data);\"},{\"col_type\":\"text_1\",\"name\":\"个人资料\",\"path\":\"PersonalData\",\"rule\":\"js:\\nsetPageTitle(\\\"个人资料\\\");\\nvar data=[];\\nconst {\\n    getApi,\\n    getFile,\\n    api\\n} = $.require(\\\"hiker://page/utiliy\\\");\\n\\ndata.push({\\n    col_type:\\\"line_blank\\\"\\n});\\n\\nlet {username,password} = getFile();\\nlet dev = JSON.parse(request(getApi(\\\"user\\\")+MY_PARAMS.id)).result;\\ndata.push({\\n    title:\\\"头像\\\",\\n    desc:dev.avatar,\\n    url:\\\"hiker://page/modify_PersonalData#noHistory##noRecordHistory#\\\",\\n    extra:{\\n        dev:dev,\\n        username:username,\\n        password:password,\\n        Pattern:0\\n    },\\n    col_type:\\\"text_1\\\"\\n});\\n\\n\\ndata.push({\\n    title:\\\"昵称\\\",\\n    desc:dev.name,\\n    url:\\\"hiker://page/modify_PersonalData#noHistory##noRecordHistory#\\\",\\n    extra:{\\n        dev:dev,\\n        username:username,\\n        password:password,\\n        Pattern:1\\n    },\\n    col_type:\\\"text_1\\\"\\n});\\n\\ndata.push({\\n    title:\\\"密码\\\",\\n    url:\\\"hiker://page/modify_PersonalData#noHistory##noRecordHistory#\\\",\\n    extra:{\\n        dev:dev,\\n        username:username,\\n        password:password,\\n        Pattern:2\\n    },\\n    col_type:\\\"text_1\\\"\\n});\\ndata.push({\\n    col_type:\\\"line_blank\\\"\\n});\\ndata.push({\\n    title:\\\"账号：\\\"+username,\\n    url:\\\"copy://\\\"+username,\\n    col_type:\\\"text_1\\\"\\n});\\ndata.push({\\n    title:\\\"UID：\\\"+dev.id,\\n    url:\\\"copy://\\\"+dev.id,\\n    col_type:\\\"text_1\\\"\\n});\\ndata.push({\\n    col_type:\\\"line_blank\\\"\\n});\\ndata.push({\\n    title:\\\"提交云仓库规则\\\",\\n    url:$(\\\"#noLoading#\\\").lazyRule((host)=>{\\n        let code=request(host+\\\"/hikerule/rulelist.json?id=145\\\");\\n        let word=\\\"￥publish￥\\\"+base64Encode(code);\\n        return \\\"rule://\\\"+base64Encode(word);\\n    },api.host),\\n    col_type:\\\"text_1\\\"\\n});\\ndata.push({\\n    title:\\\"同步提交云仓库账号密码\\\",\\n    url:\\\"rule://\\\"+base64Encode(\\\"￥publish_account￥\\\"+username+\\\"@\\\"+password),\\n    col_type:\\\"text_1\\\"\\n});\\ndata.push({\\n    col_type:\\\"line_blank\\\"\\n});\\ndata.push({\\n    title:\\\"你一共发布了「\\\"+dev.rule_num+\\\"」条规则\\\",\\n    url:\\\"hiker://empty\\\",\\n    col_type:\\\"text_1\\\"\\n});\\ndata.push({\\n    col_type:\\\"line_blank\\\"\\n});\\nlet user = getFile();\\ndata.push({\\n    title:\\\"注销登录\\\",\\n    url:$(\\\"确认注销登录?\\\").confirm(f => {\\n        f.username=\\\"\\\";\\n        f.password=\\\"\\\";\\n        writeFile('hiker://files/WarehouseUSER.json', JSON.stringify(f));\\n        putVar(\\\"Warehouse.back\\\",\\\"1\\\");\\n        back();\\n        return \\\"toast://已注销\\\";\\n    },user),\\n    col_type:\\\"text_center_1\\\"\\n});\\nsetResult(data);\"},{\"col_type\":\"movie_3\",\"name\":\"更改个人资料\",\"path\":\"modify_PersonalData\",\"rule\":\"js:\\nconst {\\n    getApi,\\n    color,\\n    small,\\n    getFile,\\n    htmlTag\\n} = $.require(\\\"hiker://page/utiliy\\\");\\nlet {\\n    dev,\\n    username,\\n    password,\\n    Pattern\\n} = MY_PARAMS;\\nvar data = [];\\nlet path = \\\"?qq=\\\" + username + \\\"&password=\\\" + password;\\naddListener('onClose', $.toString(() => {\\n    clearVar(\\\"Warehouse.m.petName\\\");\\n    clearVar(\\\"Warehouse.m.avatar\\\");\\n    clearVar(\\\"Warehouse.m.Password.c\\\");\\n    clearVar(\\\"Warehouse.m.Password.x\\\");\\n    clearVar(\\\"Warehouse.m.Password.y\\\");\\n}));\\nfunction m_petName() {\\n    data.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n    data.push({\\n        col_type: 'input',\\n        desc: \\\"请输入新昵称\\\",\\n        extra: {\\n            titleVisible: false,\\n            defaultValue: getVar('Warehouse.m.petName', '')||dev.name,\\n            onChange: 'putVar(\\\"Warehouse.m.petName\\\",input)'\\n        }\\n    });\\n    data.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n    data.push({\\n        title: \\\"保存\\\",\\n        url: $(getApi(\\\"modify_name\\\") + path).lazyRule(() => {\\n            let newPetName = getVar('Warehouse.m.petName', '');\\n            if (newPetName == \\\"\\\") {\\n                return \\\"toast://你还什么都没填啊!\\\";\\n            }\\n            let result = request(input + \\\"&name=\\\" + encodeURIComponent(newPetName));\\n            result = JSON.parse(result);\\n            if (result.status === 0) {\\n                back();\\n                return \\\"toast://修改成功\\\";\\n            } else {\\n                return \\\"toast://\\\" + result.detail;\\n            }\\n        }),\\n        col_type: 'text_center_1'\\n    });\\n}\\n\\nfunction m_avatar() {\\n    data.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n    data.push({\\n        col_type: 'input',\\n        desc: \\\"请输入新的头像链接\\\",\\n        extra: {\\n            titleVisible: false,\\n            defaultValue: getVar('Warehouse.m.avatar', '') || dev.avatar,\\n            onChange: 'putVar(\\\"Warehouse.m.avatar\\\",input)'\\n        }\\n    });\\n    data.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n    data.push({\\n        title: \\\"保存\\\",\\n        url: $(getApi(\\\"modify_ava\\\") + path).lazyRule(() => {\\n            let newAvatar = getVar('Warehouse.m.avatar', '');\\n            \\n            let result = request(input + \\\"&avatar_url=\\\" + encodeURIComponent(newAvatar));\\n            result = JSON.parse(result);\\n            if (result.status === 0) {\\n                back();\\n                return \\\"toast://修改成功\\\";\\n            } else {\\n                return \\\"toast://\\\" + result.detail;\\n            }\\n        }),\\n        col_type: 'text_center_1'\\n    });\\n}\\n\\nfunction m_pwd() {\\n    data.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n    data.push({\\n        title:\\\"原密码\\\",\\n        col_type: 'input',\\n        desc: \\\"请输入原密码\\\",\\n        extra: {\\n            type:\\\"password\\\",\\n            defaultValue: getVar('Warehouse.m.Password.y', ''),\\n            onChange: 'putVar(\\\"Warehouse.m.Password.y\\\",input)'\\n        }\\n    });\\n    data.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n    data.push({\\n        title:\\\"新密码\\\",\\n        col_type: 'input',\\n        desc: \\\"请输入新密码\\\",\\n        extra: {\\n            type:\\\"password\\\",\\n            defaultValue: getVar('Warehouse.m.Password.x', ''),\\n            onChange: 'putVar(\\\"Warehouse.m.Password.x\\\",input)'\\n        }\\n    });\\n    data.push({\\n        title:\\\"重复新密码\\\",\\n        col_type: 'input',\\n        desc: \\\"请重复新密码\\\",\\n        extra: {\\n            type:\\\"password\\\",\\n            titleVisible: false,\\n            defaultValue: getVar('Warehouse.m.Password.c', ''),\\n            onChange: 'putVar(\\\"Warehouse.m.Password.c\\\",input)'\\n        }\\n    });\\n    data.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n    data.push({\\n        title: \\\"保存\\\",\\n        url: $(getApi(\\\"modify_pwd\\\")+path).lazyRule((password,username) => {\\n            let old_password = getVar('Warehouse.m.Password.y', '');\\n            let new_password = getVar('Warehouse.m.Password.x', '');\\n            let new_password_again = getVar('Warehouse.m.Password.c', '');\\n            if (old_password!==password) {\\n                return \\\"toast://原密码错误\\\";\\n            }\\n            if(new_password===\\\"\\\"){\\n                return \\\"toast://请输入新密码\\\";\\n            }\\n            if(new_password!==new_password_again){\\n                return \\\"toast://两次密码不同\\\"\\n            }\\n            let result = request(input + \\\"&new_password=\\\" + new_password+\\\"&new_password_re=\\\"+new_password_again);\\n            result = JSON.parse(result);\\n            if (result.status === 0) {\\n                writeFile(\\\"hiker://files/WarehouseUSER.json\\\",JSON.stringify({\\n                    username:username,\\n                    password:new_password\\n                }));\\n                back();\\n                return \\\"toast://修改成功\\\";\\n            } else {\\n                return \\\"toast://\\\" + result.detail;\\n            }\\n        },password,username),\\n        col_type: 'text_center_1'\\n    });\\n}\\n\\nswitch (Pattern) {\\n    case 0:\\n        setPageTitle(\\\"修改头像\\\");\\n        m_avatar();\\n        break;\\n    case 1:\\n        setPageTitle(\\\"修改昵称\\\");\\n        m_petName();\\n        break;\\n    case 2:\\n        setPageTitle(\\\"修改密码\\\");\\n        m_pwd();\\n        break;\\n}\\nsetResult(data);\"},{\"col_type\":\"movie_3\",\"name\":\"编辑规则备注\",\"path\":\"set_rule_notes\",\"rule\":\"js:\\nlet data = [];\\nconst {\\n    getApi\\n} = $.require(\\\"hiker://page/utiliy\\\");\\nlet {\\n    id,\\n    username,\\n    password,\\n    name\\n} = MY_PARAMS;\\nsetPageTitle(\\\"备注「\\\"+name+\\\"」\\\");\\naddListener('onClose',\\\"clearVar('Warehouse.rule.notes', '')\\\");\\nlet notes=request(getApi(\\\"get_rule_note\\\")+id);\\nnotes=JSON.parse(notes).result;\\ndata.push({\\n    desc: \\\"规则备注......\\\",\\n    col_type: 'input',\\n    extra: {\\n        titleVisible: false,\\n        defaultValue: getVar('Warehouse.rule.notes', '')||notes||\\\"\\\",\\n        type: \\\"textarea\\\",\\n        height:-1,\\n        onChange: 'putVar(\\\"Warehouse.rule.notes\\\",input)'\\n    }\\n});\\n\\ndata.push({\\n    title: \\\"保存\\\",\\n    col_type: \\\"text_center_1\\\",\\n    url: $(getApi(\\\"set_rule_note\\\") + id).lazyRule((username, password) => {\\n        let notes = getVar('Warehouse.rule.notes', '');\\n        let result = request(input, {\\n            headers: {\\n                'content-type': 'application/json'\\n            },\\n            body: JSON.stringify({\\n                \\\"params\\\": {\\n                    \\\"qq\\\": username,\\n                    \\\"password\\\": password,\\n                    \\\"note\\\":notes\\n                }\\n            }),\\n            method: 'POST'\\n        });\\n        result = JSON.parse(result).result;\\n        if (result.status !== 0) {\\n            return \\\"toast://\\\" + result.detail;\\n        }\\n        back(false);\\n        return \\\"toast://修改成功\\\";\\n    }, username, password)\\n});\\nsetResult(data);\"},{\"col_type\":\"line\",\"name\":\"评论列表\",\"path\":\"Comment\",\"rule\":\"js:\\nsetPageTitle(\\\"评论列表\\\");\\nconst {\\n    api\\n} = $.require(\\\"hiker://page/utiliy\\\");\\nlet data = [];\\nlet {\\n    totalSum,\\n    id,\\n    no_active,\\n    username,\\n    password\\n} = MY_PARAMS;\\nlet page = parseInt(MY_URL.split(\\\"#\\\")[1]);\\nlet discuss_type = getVar(\\\"Warehouse.comment.discuss_type\\\", \\\"\\\");\\nif (page === 1) {\\n    data.push({\\n        col_type: \\\"line_blank\\\"\\n    });\\n    addListener('onClose', $.toString(() => {\\n        putVar(\\\"Warehouse.comment.discuss_type\\\", \\\"\\\");\\n    }));\\n    data.push({\\n        title: \\\"全部\\\" + (discuss_type === \\\"\\\" ? \\\"◉\\\" : \\\"○\\\"),\\n        url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n            putVar(\\\"Warehouse.comment.discuss_type\\\", \\\"\\\");\\n            refreshPage();\\n            return \\\"hiker://empty\\\";\\n        }),\\n        col_type: 'text_4'\\n\\n    });\\n    data.push({\\n        title: \\\"👍赞\\\" + (discuss_type === \\\"good\\\" ? \\\"◉\\\" : \\\"○\\\"),\\n        url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n            putVar(\\\"Warehouse.comment.discuss_type\\\", \\\"good\\\");\\n            refreshPage();\\n            return \\\"hiker://empty\\\";\\n        }),\\n        col_type: 'text_4'\\n\\n    });\\n    data.push({\\n        title: \\\"👎踩\\\" + (discuss_type === \\\"bad\\\" ? \\\"◉\\\" : \\\"○\\\"),\\n        url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n            putVar(\\\"Warehouse.comment.discuss_type\\\", \\\"bad\\\");\\n            refreshPage();\\n            return \\\"hiker://empty\\\";\\n        }),\\n        col_type: 'text_4'\\n    });\\n    data.push({\\n        title: \\\"回复\\\" + (discuss_type === \\\"reply\\\" ? \\\"◉\\\" : \\\"○\\\"),\\n        url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n            putVar(\\\"Warehouse.comment.discuss_type\\\", \\\"reply\\\");\\n            refreshPage();\\n            return \\\"hiker://empty\\\";\\n        }),\\n        col_type: 'text_4'\\n    });\\n}\\n\\n\\nlet icon = {\\n    \\\"good\\\": \\\"👍\\\",\\n    \\\"bad\\\": \\\"👎\\\",\\n    \\\"reply\\\":\\\"开发者🗣\\\"\\n}\\nlet control=(pid,active)=>void 0;\\nif(no_active){\\n    control=function(pid,active){\\n        data.push({\\n            title:active?\\\"隐藏评论\\\":\\\"展示评论\\\",\\n            url:$(api.dis_dev_control+pid+\\\"?qq=\\\" + username + \\\"&password=\\\" + password+\\\"#noLoading#\\\").lazyRule(()=>{\\n                let result=JSON.parse(request(input));\\n                refreshPage(false)\\n                return \\\"toast://\\\"+result.detail;\\n            }),\\n            col_type:\\\"text_2\\\"\\n        });\\n        data.push({\\n            title:\\\"删除评论\\\",\\n            url:$(\\\"确认删除该评论?\\\").confirm((input)=>{\\n                let result=JSON.parse(request(input));\\n                refreshPage(false)\\n                return \\\"toast://\\\"+result.detail;\\n            },api.dis_dev_control+pid+\\\"?qq=\\\" + username + \\\"&password=\\\" + password+\\\"&delete=1\\\"),\\n            col_type:\\\"text_2\\\"\\n        });\\n        data.push({\\n            col_type:\\\"line\\\"\\n        });\\n        data.push({\\n            col_type:\\\"line\\\"\\n        });\\n    }\\n}\\nif (totalSum === 0) {\\n    data.push({\\n        title: \\\"<h5 style='text-align:center'>一条评论也没有，快来抢沙发吧！</h5>\\\",\\n        col_type: \\\"rich_text\\\"\\n    });\\n} else {\\n    let commentList = JSON.parse(request(api.dis_get + id + \\\"?limit=5&page=\\\" + page + \\\"&no_active=\\\" + no_active + \\\"&discuss_type=\\\" + discuss_type)).result;\\n    for (let item of commentList) {\\n        let Reply = item.discuss_type===\\\"reply\\\"&&item.reply_to_name!==false&&item.reply_to_id!==false?\\\"‘‘回复@\\\"+item.reply_to_name+\\\" #\\\"+item.discuss_id+\\\"’’\\\\n\\\":\\\"\\\";\\n        data.push({\\n            title: item.name + \\\"&nbsp;&nbsp;<font color='gray'><small>#\\\" + item.id + \\\"</small><font>\\\",\\n            col_type: \\\"avatar\\\",\\n            url: no_active?\\\"hiker://page/Reply\\\":\\\"toast://\\\" + item.qq,\\n            extra:{\\n                ruleId: id,\\n                name: item.name,\\n                password: password,\\n                username: username,\\n                replyId:item.id\\n            },\\n            pic_url: item.avatar_url\\n        });\\n        data.push({\\n            title: item.discuss_text,\\n            desc: Reply+item.create_date + \\\"·\\\" + icon[item.discuss_type],\\n            col_type: \\\"text_1\\\",\\n            url: \\\"hiker://page/info\\\",\\n            extra:{\\n                name:item.name,\\n                type:\\\"long_text\\\",\\n                text:item.discuss_text\\n            },\\n            pic_url: item.avatar_url\\n        });\\n        control(item.id,item.active);\\n    }\\n    if (commentList.length === 0) {\\n        data.push({\\n            col_type: \\\"line_blank\\\"\\n        });\\n    }\\n}\\n\\nsetResult(data)\"},{\"col_type\":\"movie_3\",\"name\":\"发表评论\",\"path\":\"MakeAcomment\",\"rule\":\"js:\\nlet data = [];\\nconst {\\n    api,\\n    getFile\\n} = $.require(\\\"hiker://page/utiliy\\\");\\nlet {\\n    id,\\n    name,\\n    defaultType\\n} = MY_PARAMS;\\nlet user=getFile().user||[\\\"\\\",\\\"\\\"];\\n\\nsetPageTitle(\\\"评论(\\\" + name + \\\")\\\");\\naddListener('onClose', $.toString(() => {\\n    clearVar(\\\"Warehouse.comment.type\\\");\\n    clearVar(\\\"Warehouse.comment.text\\\");\\n    clearVar(\\\"Warehouse.comment.qq\\\");\\n    refreshPage(false);\\n}));\\nlet type = getVar(\\\"Warehouse.comment.type\\\") || defaultType||\\\"good\\\";\\ndata.push({\\n    desc: \\\"评论......\\\",\\n    col_type: 'input',\\n    extra: {\\n        titleVisible: false,\\n        defaultValue: getVar('Warehouse.comment.text', ''),\\n        type: \\\"textarea\\\",\\n        height:7,\\n        onChange: 'putVar(\\\"Warehouse.comment.text\\\",input)'\\n    }\\n});\\ndata.push({\\n    title:\\\"账号：\\\"+(user[0]||\\\"\\\"),\\n    desc:\\\"验证码：\\\"+(user[1]||\\\"\\\"),\\n    url:\\\"hiker://page/Userregistration\\\",\\n    col_type: 'text_1',\\n    \\n});\\n\\ndata.push({\\n    title:  (type === \\\"good\\\" ? \\\"◉\\\" : \\\"○\\\")+\\\" 👍\\\",\\n    url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n        putVar(\\\"Warehouse.comment.type\\\", \\\"good\\\");\\n        refreshPage();\\n        return \\\"hiker://empty\\\";\\n    }),\\n    col_type: 'text_2'\\n\\n});\\ndata.push({\\n    title:  (type === \\\"bad\\\" ? \\\"◉\\\" : \\\"○\\\")+\\\" 👎\\\",\\n    url: $(\\\"#noLoading#\\\").lazyRule(() => {\\n        putVar(\\\"Warehouse.comment.type\\\", \\\"bad\\\");\\n        refreshPage();\\n        return \\\"hiker://empty\\\";\\n    }),\\n    col_type: 'text_2'\\n});\\n\\ndata.push({\\n    title: \\\"提交\\\",\\n    col_type: \\\"text_center_1\\\",\\n    url: $(api.dis_new + id).lazyRule((Account) => {\\n        let text = getVar('Warehouse.comment.text', '');\\n        let [qq,auth_code] = Account;\\n        let type = getVar('Warehouse.comment.type') || 'good';\\n        qq=qq||\\\"\\\";\\n        auth_code=auth_code||\\\"\\\";\\n        if(qq==\\\"\\\"||auth_code==\\\"\\\"){\\n            return \\\"toast://未登录账号\\\";\\n        }\\n        if(text==\\\"\\\"){\\n            return \\\"toast://你还什么都没写啊\\\";\\n        }\\n        function r(p) {\\n            let result = request(input, {\\n                headers: {\\n                    'content-type': 'application/json'\\n                },\\n                body: JSON.stringify(p),\\n                method: 'POST'\\n            });\\n            return JSON.parse(result).result;\\n        }\\n        let p = {\\n            \\\"params\\\": {\\n                \\\"discuss_text\\\": text,\\n                \\\"qq\\\": qq,\\n                \\\"discuss_type\\\": type,\\n                \\\"auth_code\\\": auth_code\\n            }\\n        }\\n        let result = r(p);\\n        if(result.status===0){\\n            back(false);\\n        }\\n        return \\\"toast://\\\"+result.detail;\\n\\n    },user)\\n});\\n\\nsetResult(data);\"},{\"col_type\":\"movie_3\",\"name\":\"伪用户注册\",\"path\":\"Userregistration\",\"rule\":\"js:\\nconst {\\n    api,\\n    getFile,\\n    getUserDate\\n} = $.require(\\\"hiker://page/utiliy\\\");\\nlet data = [];\\ndata.push({\\n    col_type: \\\"line_blank\\\"\\n});\\nsetPageTitle(\\\"用户列表管理\\\");\\naddListener('onClose', $.toString(() => {\\n    clearVar(\\\"Warehouse.m.qq\\\");\\n    clearVar(\\\"Warehouse.m.yzm\\\");\\n}));\\nlet user = getFile();\\nlet userName = user.user || [\\\"\\\"];\\nuserName = userName[0];\\ndata.push({\\n    title: \\\"““””<big>(添加/验证)账号</big>\\\",\\n    col_type: \\\"text_1\\\",\\n    url: \\\"hiker://empty\\\"\\n});\\n\\ndata.push({\\n    title: \\\"获取\\\",\\n    col_type: 'input',\\n    desc: \\\"请输入qq\\\",\\n    url: $.toString((a, b) => {\\n        let qq = input;\\n        if (qq == \\\"\\\") {\\n            return \\\"toast://你还什么都没填啊!\\\";\\n        }\\n        showLoading(\\\"获取中...\\\")\\n        return $(\\\"#noLoading#\\\").lazyRule((qq, a, b) => {\\n        try {\\n            let result = request(a, {\\n                headers: {\\n                    'content-type': 'application/json'\\n                },\\n                body: JSON.stringify({\\n                    \\\"params\\\": {\\n                        \\\"qq\\\": qq\\n                    }\\n                }),\\n                method: 'POST'\\n            });\\n            result = JSON.parse(result).result;\\n            if (result.status === 0) {\\n                hideLoading();\\n                return \\\"toast://\\\" + result.detail;\\n            } else {\\n                let result2 = JSON.parse(request(b + \\\"?qq=\\\" + qq));\\n                hideLoading();\\n                return \\\"toast://\\\" + result2.detail;\\n            }\\n        } catch (e) {\\n            hideLoading();\\n            throw e;\\n        }\\n        }, qq, a, b);\\n\\n    }, api.dis_new_user, api.dis_verify),\\n    extra: {\\n        type: \\\"number\\\",\\n        defaultValue: getVar('Warehouse.m.qq', '') || userName,\\n        onChange: 'putVar(\\\"Warehouse.m.qq\\\",input)'\\n    }\\n});\\n\\ndata.push({\\n    col_type: 'input',\\n    desc: \\\"请输入验证码\\\",\\n    extra: {\\n        titleVisible: false,\\n        defaultValue: getVar('Warehouse.m.yzm', ''),\\n        onChange: 'putVar(\\\"Warehouse.m.yzm\\\",input)'\\n    }\\n});\\ndata.push({\\n    col_type: 'rich_text',\\n    title: \\\"<small>提示：1.每天只能获取5次验证码.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.<s>验证码有效期持续一周左右</s>(暂时不会，忘记验证码可通过QQ号获取)</small>\\\"\\n});\\n\\nlet userList = getUserDate();\\ndata.push({\\n    title: \\\"验证/登录\\\",\\n    url: $(\\\"确定保存，验证码填错，无法评论哦\\\").confirm((f, l, login) => {\\n        let qq = getVar('Warehouse.m.qq', '');\\n        let yzm = getVar('Warehouse.m.yzm', '');\\n        if (qq == \\\"\\\" || yzm == \\\"\\\") {\\n            return \\\"toast://qq或验证码为空\\\";\\n        }\\n        let result = request(login, {\\n            headers: {\\n                'content-type': 'application/json'\\n            },\\n            body: JSON.stringify({\\n                \\\"params\\\": {\\n                    \\\"qq\\\": qq,\\n                    \\\"auth_code\\\": yzm\\n                }\\n            }),\\n            method: 'POST'\\n        });\\n        result = JSON.parse(result).result;\\n        if (result.status === 0) {\\n            f.user = [qq, yzm];\\n            writeFile(\\\"hiker://files/WarehouseUSER.json\\\", JSON.stringify(f));\\n            let index = l.findIndex(item => item[0] === qq);\\n            if (index > -1) {\\n                l.splice(index, 1, [qq, yzm]);\\n            } else if (l.length < 6) {\\n                l.push([qq, yzm]);\\n            } else {\\n                l.splice(0, 1);\\n                l.push([qq, yzm]);\\n            }\\n            writeFile(\\\"hiker://files/WarehouseUSERA.json\\\", JSON.stringify(l));\\n            back();\\n            return \\\"toast://验证成功\\\";\\n        }\\n        return \\\"toast://\\\" + result.detail;\\n    }, user, userList, api.dis_login),\\n    col_type: 'text_center_1'\\n});\\ndata.push({\\n    col_type: \\\"line_blank\\\"\\n});\\ndata.push({\\n    title: \\\"““””<big>账号列表</big>\\\\t\\\\t\\\\t<small>(保留5条记录)</small>\\\",\\n    col_type: \\\"text_1\\\",\\n    url: \\\"hiker://empty\\\"\\n});\\nuserList.reverse();\\n\\nfor (let item of userList) {\\n    data.push({\\n        title: \\\"账号：\\\" + item[0] + (userName === item[0] ? \\\"\\\\t\\\\t\\\\t““[当前账号]””\\\" : \\\"\\\"),\\n        desc: \\\"验证码：\\\" + item[1],\\n        url: $(\\\"是否切换为该[\\\" + item[0] + \\\"]账号\\\").confirm((f, item) => {\\n            f.user = item;\\n            writeFile(\\\"hiker://files/WarehouseUSER.json\\\", JSON.stringify(f));\\n            back();\\n            return \\\"toast://切换成功\\\";\\n        }, user, item),\\n        col_type: \\\"text_1\\\"\\n    });\\n}\\ndata.push({\\n    col_type: \\\"line_blank\\\"\\n});\\ndata.push({\\n    title: \\\"退出账号\\\",\\n    url: $(\\\"确认退出登录状态\\\").confirm((f) => {\\n        f.user = [];\\n        writeFile(\\\"hiker://files/WarehouseUSER.json\\\", JSON.stringify(f));\\n        back();\\n        return \\\"toast://退出成功\\\";\\n    }, user),\\n    col_type: 'text_center_1'\\n});\\nsetResult(data);\"},{\"col_type\":\"movie_3\",\"name\":\"列表排序算法\",\"path\":\"sort\",\"rule\":\"js:\\n/* 规则列表排序 [ UP、NEW、无更新 ] 顺序 */\\n/* 归并排序 Start */\\nfunction mergeSort(arr) {\\n    var len = arr.length;\\n    if (len < 2) {\\n        return arr;\\n    }\\n    var middle = Math.floor(len / 2),\\n        left = arr.slice(0, middle),\\n        right = arr.slice(middle);\\n    return merge(mergeSort(left), mergeSort(right));\\n}\\nfunction merge(left, right) {\\n    var result = [];\\n    var isThisVersionList = [];\\n\\n    while (left.length > 0 && right.length > 0) {\\n        if (left[0].title.includes(\\\"🆙\\\")) {\\n            result.push(left.shift());\\n        } else if (right[0].title.includes(\\\"🆙\\\")) {\\n            result.push(right.shift());\\n        } else if (left[0].title.includes(\\\"🆕\\\")) {\\n            result.push(left.shift());\\n        } else if (right[0].title.includes(\\\"🆕\\\")) {\\n            result.push(right.shift());\\n        } else {\\n            isThisVersionList.push(left.shift());\\n            isThisVersionList.push(right.shift());\\n        }\\n    }\\n\\n    while (isThisVersionList.length) result.push(isThisVersionList.shift());\\n\\n    while (left.length)\\n        result.push(left.shift());\\n\\n    while (right.length)\\n        result.push(right.shift());\\n\\n    return result;\\n}\\n$.exports.mergeSort = mergeSort;\\n/* 归并排序 End */\"},{\"col_type\":\"icon_2_round\",\"name\":\"全部公开规则\",\"path\":\"AllPublicRule\",\"rule\":\"js:\\nconst {\\n    api,\\n    localRuleVer,\\n    getApi\\n} = $.require(\\\"hiker://page/utiliy\\\");\\nconst {\\n    mergeSort\\n} = $.require(\\\"hiker://page/sort\\\");\\nlet dataType = getVar(\\\"Warehouse.type\\\", \\\"\\\");\\nlet order = getVar(\\\"Warehouse.order\\\", \\\"0\\\");\\nlet sort = getVar(\\\"Warehouse.sort\\\", \\\"0\\\");\\nlet page = MY_URL.split(\\\"#\\\")[1] || 1;\\nlet ruleList = JSON.parse(request(api.all_rule + \\\"?data_type=\\\" + dataType + \\\"&page=\\\" + page + \\\"&limit=20&order=\\\" + order + \\\"&sort=\\\" + sort)).result;\\naddListener('onClose', $.toString(() => {\\n    clearVar(\\\"Warehouse.type\\\");\\n    clearVar(\\\"Warehouse.order\\\");\\n    clearVar(\\\"Warehouse.sort\\\");\\n    clearVar(\\\"Warehouse.back\\\");\\n}));\\nlet data = [];\\nif (getVar(\\\"Warehouse.back\\\") === \\\"1\\\") {\\n    back();\\n}\\nfunction tab(arr, type, contrast) {\\n    for (let item of arr) {\\n        data.push({\\n            title: item[1] === contrast ? \\\"““\\\" + item[0] + \\\"””\\\" : item[0],\\n            url: $(\\\"#noLoading#\\\").lazyRule((key, type) => {\\n                putVar(type, key);\\n                refreshPage(false);\\n                return \\\"hiker://empty\\\";\\n            }, item[1], type),\\n            col_type: \\\"scroll_button\\\"\\n        });\\n    }\\n    data.push({\\n        col_type: \\\"blank_block\\\"\\n    });\\n}\\nif (page === \\\"1\\\") {\\n    tab([\\n        [\\\"全部\\\", \\\"\\\"],\\n        [\\\"小程序\\\", \\\"home_rule_url\\\"],\\n        [\\\"提交云仓库规则\\\", \\\"publish\\\"],\\n        [\\\"网页插件\\\", \\\"js_url\\\"],\\n        [\\\"静态页面\\\", \\\"html\\\"],\\n        [\\\"主题\\\", \\\"config\\\"]\\n    ], \\\"Warehouse.type\\\", dataType);\\n    tab([\\n        [\\\"时间\\\", \\\"0\\\"],\\n        [\\\"ID\\\", \\\"1\\\"],\\n        [\\\"好评度\\\", \\\"2\\\"],\\n        [\\\"差评度\\\", \\\"3\\\"],\\n        [\\\"回复数\\\", \\\"4\\\"]\\n    ], \\\"Warehouse.order\\\", order);\\n    tab([\\n        [\\\"倒序\\\", \\\"0\\\"],\\n        [\\\"正序\\\", \\\"1\\\"]\\n    ], \\\"Warehouse.sort\\\", sort);\\n    data.push({\\n        title: \\\"搜索\\\",\\n        url: $.toString(name => \\\"hiker://search?s=\\\" + input + \\\"&rule=\\\" + name, MY_RULE.title),\\n        col_type: \\\"input\\\",\\n        desc: \\\"搜索全部规则\\\"\\n    });\\n}\\n\\nlet homeList = JSON.parse(request(api.home));\\nlet mRuleList = [];\\nfor (var item of ruleList) {\\n    var name = item.name;\\n    if (item.is_tap) {\\n        let location = JSON.parse(request(getApi(\\\"ruleListJson\\\") + \\\"?id=\\\" + item.id));\\n        item.id = location.id;\\n        item.name = location.name;\\n        item.author = location.author;\\n        item.data_type = location.data_type;\\n        item.ver = location.ver\\n    }\\n    item.version = item.ver;\\n    let label = \\\"\\\",\\n        lver = -2;\\n    if (item.is_json && item.data_type === \\\"home_rule_url\\\") {\\n        lver = localRuleVer(homeList, item);\\n        if (lver === -1) {\\n            label = \\\"🆕\\\";\\n        } else if (lver < item.ver) {\\n            label = \\\"🆙\\\";\\n        }\\n    }\\n    mRuleList.push({\\n        title: label + name,\\n        url: \\\"hiker://page/ruleDetail#noHistory##noRecordHistory#\\\",\\n        extra: {\\n            lver: lver,\\n            id: item.id,\\n            isAll:true\\n        },\\n        pic_url: item.pic,\\n    })\\n}\\n/* 归并排序 Start */\\n//mRuleList = mergeSort(mRuleList);\\n/* 归并排序 End */\\ndata.push.apply(data, mRuleList)\\nsetResult(data);\"},{\"col_type\":\"movie_3\",\"name\":\"回复\",\"path\":\"Reply\",\"rule\":\"js:\\nlet data = [];\\nconst {\\n    api\\n} = $.require(\\\"hiker://page/utiliy\\\");\\nlet {\\n    replyId,\\n    ruleId,\\n    name,\\n    password,\\n    username\\n} = MY_PARAMS;\\n\\n\\nsetPageTitle(\\\"回复(\\\" + name + \\\")\\\");\\naddListener('onClose', $.toString(() => {\\n    clearVar(\\\"Warehouse.comment.text\\\");\\n    refreshPage(false);\\n}));\\n\\ndata.push({\\n    desc: \\\"回复......\\\",\\n    col_type: 'input',\\n    extra: {\\n        titleVisible: false,\\n        defaultValue: getVar('Warehouse.comment.text', ''),\\n        type: \\\"textarea\\\",\\n        height:7,\\n        onChange: 'putVar(\\\"Warehouse.comment.text\\\",input)'\\n    }\\n});\\n\\n\\ndata.push({\\n    title: \\\"提交\\\",\\n    col_type: \\\"text_center_1\\\",\\n    url: $(api.dis_reply + ruleId).lazyRule((password, username, ruleId) => {\\n        let text = getVar('Warehouse.comment.text', '');\\n        if (password == \\\"\\\" || username == \\\"\\\") {\\n            return \\\"toast://未登录账号\\\";\\n        }\\n        if (text == \\\"\\\") {\\n            return \\\"toast://你还什么都没写啊\\\";\\n        }\\n        let result = request(input, {\\n            headers: {\\n                'content-type': 'application/json'\\n            },\\n            body: JSON.stringify({\\n                \\\"params\\\": {\\n                    \\\"discuss_text\\\": text,\\n                    \\\"qq\\\": username,\\n                    \\\"password\\\": password,\\n                    \\\"discuss_id\\\": ruleId\\n                }\\n            }),\\n            method: 'POST'\\n        });\\n        result = JSON.parse(result).result;\\n        if (result.status === 0) {\\n            back(false);\\n        }\\n        return \\\"toast://\\\" + result.detail;\\n\\n    }, password, username, replyId)\\n});\\n\\nsetResult(data);\"},{\"col_type\":\"movie_3\",\"name\":\"我的回复\",\"path\":\"MyReply\",\"rule\":\"js:\\nconst {\\n    api\\n} = $.require(\\\"hiker://page/utiliy\\\");\\nlet {\\n    auth_code,\\n    qq\\n} = MY_PARAMS;\\nlet page = parseInt(MY_URL.split(\\\"#\\\")[1]);\\nlet data=[];\\nlet commentList = JSON.parse(request(api.dis_get_reply + \\\"?limit=5&page=\\\" + page + \\\"&qq=\\\" + qq + \\\"&auth_code=\\\" + auth_code)).result;\\nif (commentList.length === 0) {\\n    data.push({\\n        title: \\\"<h5 style='text-align:center'>别拉了一条也不剩了</h5>\\\",\\n        col_type: \\\"rich_text\\\"\\n    });\\n} else {\\n    for (let item of commentList) {\\n        data.push({\\n            title: item.name + \\\"&nbsp;&nbsp;<font color='gray'><small>#\\\" + item.id + \\\"</small><font>\\\",\\n            col_type: \\\"avatar\\\",\\n            url: \\\"hiker://page/ruleDetail#noHistory##noRecordHistory#\\\",\\n            extra: {\\n                lver: \\\"回复进入不支持查看\\\",\\n                id: item.rule_id[0]\\n            },\\n            pic_url: item.avatar_url\\n        });\\n        data.push({\\n            title: item.discuss_text,\\n            desc: item.create_date + \\\"·\\\"+item.rule_id[1]+\\\"·\\\"+\\\"开发者🗣\\\",\\n            col_type: \\\"text_1\\\",\\n            url: \\\"hiker://page/info\\\",\\n            extra:{\\n                name:item.name,\\n                type:\\\"long_text\\\",\\n                text:item.discuss_text\\n            },\\n            pic_url: item.avatar_url\\n        });\\n    }\\n    \\n}\\nsetResult(data);\\n\"},{\"col_type\":\"movie_3\",\"name\":\"更多分享\",\"path\":\"moreShare\",\"rule\":\"js:\\n    addListener('onClose', $.toString(()=>{\\n        clearVar(\\\"house.upload_code\\\");\\n    }));\\nconst {color,small,api, getFile} = $.require(\\\"hiker://page/utiliy\\\");\\nlet houseFile = getFile||false;\\nlet put_url = api.host+'/hikerule/dev/put';\\nif(!houseFile){\\n    setItem('is_house_vip', 'false');\\n}\\nlet house_data = houseFile();\\n// log(house_data.username+'-'+house_data.password);\\nvar canup = house_data.username.length >= 6 && house_data.password.length > 2;\\nlog('可以上传?'+canup);\\nlet d = [];\\nlet file_type = [{name:'静态文件',value:'html'},{name:'网页插件',value:'js_url'},{name:'主页配置',value:'config'}]; //上传类型\\nlet file_redirect = [{name:'本地',value:'false'},{name:'直链302',value:'true'}]; //是否重定向\\nlet file_ua = [{name:'电脑',value:'pc'},{name:'手机',value:'mobile'}];\\nlet file_type_title = file_type.map((item) => {\\n    let name = getItem('house.file_type','静态文件');\\n    if(item.name===name){\\n        return '👉'+item.name;\\n    }else{\\n        return item.name;\\n    }\\n});\\nlet file_redirect_title = file_redirect.map((item) => {\\n    let name = getItem('house.file_redirect','本地');\\n    if(item.name===name){\\n        return '👉'+item.name;\\n    }else{\\n        return item.name;\\n    }\\n});\\nlet file_ua_title = file_ua.map((item) => {\\n    let name = getItem('house.file_ua','电脑');\\n    if(item.name===name){\\n        return '👉'+item.name;\\n    }else{\\n        return item.name;\\n    }\\n});\\nd.push({col_type: 'x5_webview_single', extra: {js: 'console.log(\\\"我加载了\\\")'}});\\nd.push({\\n    title: '获取',\\n    desc: \\\"文件路径,支持hiker,file,http,主题\\\",\\n    extra: {\\n        onChange: \\\"putVar('house.web_url',input)\\\",\\n        titleVisible: true,\\n        defaultValue:getVar('house.web_url')\\n    },\\n    url:$.toString(() => {\\n        let input = getVar('house.web_url','');\\n        if(input.length<2){\\n            return 'toast://链接不可以为空'\\n        } else if(/^hiker:|^file:|^http:|^https:/.test(input)){\\n            log('正常链接');\\n            let ua = getItem('house.file_ua')==='电脑'?'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.146 Safari/537.36':'Mozilla/5.0 (Linux; Android 9; MI 6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.90 Mobile Safari/537.36';\\n            let web_url_arr = input.split(';');\\n            let web_url = web_url_arr[0];\\n            let headers = {\\n                'Referer':'https://blog.csdn.net',\\n                'User-Agent':ua,\\n                'Accept':'application/json, text/javascript, */*; q=0.01',\\n                'Accept-Language':'zh-CN',\\n            };\\n            if(web_url_arr.length>=3&&web_url_arr[2].length>2){ //设置编码\\n                headers['content-type'] = 'charset='+web_url_arr[2].toUpperCase();\\n            }\\n            let params = {headers:headers,withHeaders:false,redirect:false};\\n            if(web_url_arr.length>=2&&web_url_arr[1].length>2){ // 设置请求方法\\n                params['method'] = web_url_arr[1].toUpperCase();\\n            }\\n            log('开始获取源码');\\n            try {\\n                /*\\n                requestAsync(web_url,params,function (key,code) {\\n                    let back_code = code;\\n                    if(back_code.length>20){\\n                        putVar('house.upload_code',back_code);\\n                        refreshPage(true);\\n                        return 'toast://源码已获取,并部分插入到文本区域'\\n                    }else{\\n                        return 'toast://错误，本次获取到空文本，疑似你没有此文件!';\\n                    }\\n                });\\n                */\\n                let back_code = getItem('house.file_ua')==='电脑'?fetch(web_url,params):request(web_url,params);\\n                if(back_code.length>20){\\n                    putVar('house.upload_code',back_code);\\n                    refreshPage(true);\\n                    return 'toast://源码已获取,并部分插入到文本区域'\\n                }else{\\n                    return 'toast://错误，本次获取到空文本，疑似你没有此文件!';\\n                }\\n            }catch (e) {\\n                log(e.message);\\n                return 'toast://发生了错误:\\\\n'+e.message;\\n            }\\n        }else if(/主题￥|元素￥/.test(input)){\\n            log('主题链接');\\n            let web_url_arr = input.split('￥');\\n            let web_url = web_url_arr[web_url_arr.length-1];\\n            let back_code = parsePaste(web_url);\\n            if(back_code.length>20) {\\n                putVar('house.upload_code',back_code);\\n                refreshPage(true);\\n                return 'toast://源码已获取,并部分插入到文本区域'\\n            }else{\\n                return 'toast://错误，本次获取返回为:\\\\n'+back_code;\\n            }\\n        }else{\\n            return 'toast://非法链接:\\\\n'+getVar('house.web_url');\\n        }\\n    }),\\n    col_type: \\\"input\\\"\\n});\\n\\nd.push({\\n    title:'上传类型',\\n    desc:'上传文件的类型,当前为:'+color(getItem('house.file_type','静态文件'),'#ff7000'),\\n    col_type:'text_1',\\n    url:$(file_type_title,2).select(() => {\\n        setItem('house.file_type',input.replace('👉',''));\\n        refreshPage(true);\\n        return 'toast://你选择了:'+input;\\n    })\\n});\\n\\nd.push({\\n    title:'文件定位',\\n    desc:'文件是否属于重定向,当前为:'+color(getItem('house.file_redirect','本地'),'#ff7000'),\\n    col_type:'text_1',\\n    url:$(file_redirect_title,2).select(() => {\\n        setItem('house.file_redirect',input.replace('👉',''));\\n        refreshPage(true);\\n        return 'toast://你选择了:'+input;\\n    })\\n});\\n\\nd.push({\\n    title:'设备UA',\\n    desc:'发起网页请求头标识,当前为:'+color(getItem('house.file_ua','电脑'),'#ff7000'),\\n    col_type:'text_1',\\n    url:$(file_ua_title,2).select(() => {\\n        setItem('house.file_ua',input.replace('👉',''));\\n        refreshPage(true);\\n        return 'toast://你选择了:'+input;\\n    })\\n});\\nfunction compare(name) {\\n    return function(item) {\\n        return item.name === name;\\n    }\\n}\\nd.push({\\n    title:'🗄️环境',\\n    col_type:'flex_button',\\n    url:$().lazyRule((file_type,compare)=>{\\n        log('查看环境变量');\\n        try {\\n            let up_code = getVar('house.upload_code','');\\n            let ftype =  file_type.filter(compare(getItem('house.file_type','静态文件')))[0].value;\\n            let redirect = getItem('house.file_redirect','本地')!=='本地';\\n            let code = !redirect?up_code:input;\\n            let env = {\\n                web_url:getVar('house.web_url',''),\\n                device:getItem('house.file_ua','电脑'),\\n                ftype:ftype||\\\"\\\",\\n                redirect:redirect,\\n                code:code.substring(0,40)||\\\"\\\",\\n            }\\n            log(env);\\n            return 'toast://'+JSON.stringify(env);\\n            // alert(JSON.stringify(env));\\n        }catch (e) {\\n            return 'toast://'+e.message;\\n            // alert(e.message);\\n        }\\n    },file_type,compare)\\n});\\n\\nd.push({\\n    title:'📃教程',\\n    col_type:'flex_button',\\n    url:$().x5Rule(()=>{\\n        let msg = '欢迎使用开发者更多分享工具\\\\n1.输入网址为本地文件路径,hiker://或者file://开头\\\\n2.点击网址输入栏后面的按钮\\\\n3.看文本预览区是否正确\\\\n4.点击上传按钮提交到仓库';\\n        alert(msg);\\n    })\\n});\\n\\nd.push({\\n    title:'🗑️清空',\\n    col_type:'flex_button',\\n    url:$().lazyRule(()=>{\\n        clearVar('house.upload_code');\\n        refreshPage(true);\\n        return 'toast://已清除预览区域内容'\\n    })\\n});\\n\\nd.push({\\n    title:'📲示例',\\n    col_type:'flex_button',\\n    url:$().lazyRule(()=>{\\n        let demo_code = getItem('house.demo','0');\\n        if(demo_code=='0'){\\n            putVar('house.web_url','hiker://files/rules/dzHouse/html/资源网书签.html');\\n            demo_code = parseInt(demo_code)+1;\\n            setItem('house.demo',demo_code+'');\\n        }else{\\n            putVar('house.web_url','file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/dzHouse/html/资源网书签.html');\\n            setItem('house.demo','0');\\n        }\\n        refreshPage(true);\\n        return 'toast://已设置示例地址'\\n    })\\n});\\n\\nd.push({\\n    title:'📤上传',\\n    col_type:'flex_button',\\n    url:$().lazyRule((canup,house_data,put_url,file_type) =>{\\n        function compare(name) {\\n            return function(item) {\\n                return item.name === name;\\n            }\\n        }\\n        const {getNowFormatDate}=$.require(\\\"hiker://page/utiliy\\\");\\n        let up_code = getVar('house.upload_code','');\\n        if(up_code.length < 2){\\n            return 'toast://源码区无内容，请先访问一个静态页面'\\n        }\\n        if(!canup){\\n            return 'toast://你不是开发者，没有提交到仓库的权利!'\\n        }\\n        let input = getVar('house.web_url','');\\n        let web_url = input.split(';')[0];\\n        let fileName = '';\\n        if(/^hiker:|^file:|^http:|^https:/.test(web_url)){\\n            fileName = web_url.split('/')[web_url.split('/').length-1];\\n        }else if(/主题￥|元素￥/.test(input)){\\n            let bkarr = up_code.split('￥');\\n            if(bkarr.length<3){\\n                return 'toast://云剪贴板内容有误'\\n            }\\n            switch (bkarr[1]) {\\n                case 'my_home_theme':\\n                    fileName = up_code.split('「')[1].split('」')[0];\\n                    break;\\n                case 'my_home_single':\\n                    fileName = up_code.split('「')[1].split('」')[0];\\n                    break;\\n                case 'js_url':\\n                    fileName = up_code.split('￥')[2].split('@')[0];\\n                    break;\\n            }\\n        }else{\\n            return 'toast://错误，网页链接无内容!';\\n        }\\n        let ua = getItem('house.file_ua')==='电脑'?'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.146 Safari/537.36':'Mozilla/5.0 (Linux; Android 9; MI 6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.90 Mobile Safari/537.36';\\n        let headers = {\\n            'Referer':'https://blog.csdn.net',\\n            \\\"content-type\\\": \\\"application/json\\\",\\n            'User-Agent':ua,\\n            'Accept':'application/json, text/javascript, */*; q=0.01',\\n            'Accept-Language':'zh-CN',\\n        };\\n        let toCompare = '';\\n        if(fileName.endsWith('.html')){\\n            toCompare = '静态文件';\\n        }else if(/主题/.test(fileName)){\\n            toCompare = '主页配置'\\n        }\\n        let ftype =  file_type.filter(compare(toCompare||getItem('house.file_type','静态文件')))[0].value;\\n        let redirect = getItem('house.file_redirect','本地')!=='本地';\\n        if(redirect&&!web_url.startsWith('http')){\\n            return 'toast://直链302重定向网址链接必须http开头';\\n        }\\n        let code = !redirect?up_code:web_url;\\n        let data = {\\\"params\\\":\\n                {\\\"data\\\": {rule_name: fileName, \\\"rule_type\\\": '更多分享', \\\"version\\\":getNowFormatDate(),\\\"rule_value\\\": code,\\n                        data_type:ftype, is_redirect:redirect,deviceUa:getItem('house.file_ua'),\\n                    },\\n                    \\\"name\\\": house_data.username,\\n                    \\\"password\\\": house_data.password}\\n        };\\n        let upparams = {headers:headers,body:JSON.stringify(data),withHeaders:false,redirect:false,method:'POST'};\\n        let backmsg = getItem('house.file_ua')==='电脑'?fetch(put_url,upparams):request(put_url,upparams);\\n        try{\\n            let result = JSON.parse(backmsg).result;\\n            let detail = result.detail;\\n            return 'toast://'+detail;\\n        }catch (e) {\\n            log(e.message);\\n            return 'toast://发生了错误\\\\n'+e.message;\\n        }\\n    },canup,house_data,put_url,file_type)\\n});\\n\\nd.push({\\n    title:'长文本预览区域',\\n    col_type:'text_1',\\n    url:'hiker://empty',\\n    extra: {textSize: 11,lineVisible:false}\\n});\\n\\nd.push({\\n    title:getVar('house.upload_code','').substring(0,10240),\\n    col_type:'long_text',\\n    extra: {textSize: 11}\\n});\\nsetPageTitle(\\\"更多分享\\\");\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"轻合集生成接口\",\"path\":\"genApi\",\"rule\":\"js:\\nfunction genRule(name,url,icon){\\n    icon=icon||'https://z3.ax1x.com/2021/11/16/IWJhxf.png';\\n    const {getNowFormatDate,api,getApi}=$.require(\\\"hiker://page/utiliy?rule=道长仓库Pro\\\");\\n    String.prototype.replaceAll = function(old,new_str){\\n        return this.split(old).join(new_str);\\n    };\\n    let muban = getApi('importUrl')+\\\"1690\\\";\\n    let muban_word={name:\\\"@轻合集\\\",url:\\\"@地址\\\",ver:\\\"@版本\\\",icon:\\\"@图标\\\"};\\n    let muban_code = fetch(muban);\\n    muban_code=muban_code.replaceAll(muban_word.name,name).replaceAll(muban_word.ver,getNowFormatDate()).replaceAll(muban_word.url,url).replaceAll(muban_word.icon,icon);\\n    let import_code=\\\"海阔视界规则分享，当前分享的是：小程序，无根树，花正清，不断荤腥不戒淫￥home_rule_v2￥base64://@\\\"+name+\\\"@\\\"+base64Encode(muban_code);\\n    var pastes = getPastes();\\n    var url = sharePaste(import_code,pastes.slice(-1)[0]);\\n    let import_rule= url+\\\"\\\\n\\\\n小程序：\\\"+name;\\n    return import_rule;\\n}\\n$.exports.genRule=genRule;\"},{\"col_type\":\"movie_3\",\"name\":\"全局解析免嗅\",\"path\":\"globalParse\",\"rule\":\"js:\\n    function getHeaders(playUrl){\\n        let headers = {};\\n        let refer=playUrl.split(\\\"//\\\")[0]+\\\"//\\\"+playUrl.split(\\\"//\\\")[1].split(\\\"/\\\")[0];\\n        if(/lecloud\\\\.com|bilivideo\\\\.com/.test(playUrl)){\\n            headers = {\\\"Referer\\\": 'https://www.bilibili.com/',\\\"User-Agent\\\":\\\"Mozilla/5.0\\\"}\\n        }else if(/mgtv\\\\.com/.test(playUrl)){\\n            headers = {\\\"Referer\\\": refer,\\\"User-Agent\\\":\\\"Mozilla/5.0\\\"}\\n        }else if(/ixigua\\\\.com/.test(playUrl)){\\n            headers = {\\\"Referer\\\": 'https://www.ixigua.com/',\\\"User-Agent\\\":\\\"Mozilla/5.0\\\"}\\n        }else{\\n            headers = {\\\"Referer\\\": refer,'User-Agent':'Dart/2.13 (dart:io)'}\\n        }\\n        return headers\\n    }\\nfunction isPic(str){\\n    return /\\\\.(gif|jpg|jpeg|png|GIF|JPG|PNG)$/.test(str);\\n}\\nfunction isVideo(playUrl,rechange){\\n    //注意.php不可以被排除否则融兴解析不了 |.php$\\n    //如果是播放地址就直接返回地址加上UA，不是的话就返回false\\n    rechange=typeof(rechange)===\\\"function\\\"?rechange:function(playUrl){return playUrl};\\n    let exceptWords = '.js$|.css$|.ts$|.html$|.htm$|.gif$|.jpg$|.jpeg$|.png$|.ico$|.svg$|.txt$'.split('|').map(it=>'\\\\\\\\'+it).join('|');\\n    var exceptKeys = new RegExp(exceptWords);\\n    let exceptWords1 = 'referer=|url='.split('|').map(it=>it).join('|');\\n    var exceptKeys1 = new RegExp(exceptWords1);\\n    let replaceWords = 'playm3u8|m3u8\\\\.tv'.split('|').map(it=>it).join('|');\\n    let replaceKeys = new RegExp(replaceWords,'g');\\n    let videoWords = \\\".mp4$|.m3u8$|.flv$|.avi$|.3gp$|.mpeg$|.wmv$|.mov$|rmvb|.dat$|.mp3$|qqBFdownload|mime=video%2F|mime_type=video_|type=m3u8|type=mp4|pt=m3u8\\\".split('|').map((it)=>{\\n        if(it.startsWith(\\\".\\\")){\\n            return '\\\\\\\\'+it\\n        }else{\\n            return it\\n        }\\n    }).join(\\\"|\\\");\\n    let videoKeys = new RegExp(videoWords);\\n    let pUrl=playUrl.split(\\\";\\\")[0];\\n    let pUrl2=playUrl.split(\\\";\\\")[0].split(\\\"&\\\")[0].split(\\\"?\\\")[0];\\n    if((videoKeys.test(pUrl)||videoKeys.test(pUrl2))&&!exceptKeys1.test(pUrl.replace(pUrl.split(\\\"?\\\")[0],''))){\\n        let tips = '检测到疑似多媒体的地址:';\\n        try{\\n            log(\\\"js中\\\"+tips+pUrl);\\n            // log(pUrl.replace(pUrl.split(\\\"?\\\")[0],''));\\n            // log(exceptKeys1);\\n        }catch (e) {\\n            fy_bridge_app.log('x5中'+tips+pUrl);\\n            fy_bridge_app.log(\\\"分割问号后:\\\"+pUrl.replace(pUrl.split(\\\"?\\\")[0],''));\\n            // fy_bridge_app(exceptKeys1);\\n        }\\n    }\\n    // log('1:'+(videoKeys.test(pUrl)||videoKeys.test(pUrl2)||videoKeys.test(pUrl.replace(replaceKeys,\\\"\\\").split(\\\"&\\\")[0].split(\\\"?\\\")[0])));\\n    // log('2:'+!exceptKeys.test(pUrl.split(\\\"?\\\")[0].split('&')[0]));\\n    // log('3:'+!exceptKeys1.test(pUrl.replace(pUrl.split(\\\"?\\\")[0],'')));\\n    if ((videoKeys.test(pUrl)||videoKeys.test(pUrl2)||videoKeys.test(pUrl.replace(replaceKeys,\\\"\\\").split(\\\"&\\\")[0].split(\\\"?\\\")[0]) )&& !exceptKeys.test(pUrl.split(\\\"?\\\")[0].split('&')[0])&&!exceptKeys1.test(pUrl.replace(pUrl.split(\\\"?\\\")[0],''))) {\\n        if(!(/User-Agent|Referer@/.test(playUrl))){\\n            if(/lecloud\\\\.com|bilivideo\\\\.com/.test(playUrl)){\\n                playUrl+=\\\";{Referer@https://www.bilibili.com/&&User-Agent@Mozilla/5.0}\\\";\\n            }else if(/ixigua\\\\.com/.test(playUrl)){\\n                playUrl+=\\\"#.mp4;{Referer@https://www.ixigua.com/&&User-Agent@Mozilla/5.0}\\\";\\n            }\\n            else if(/mgtv\\\\.com/.test(playUrl)){\\n                playUrl+=\\\";{User-Agent@Mozilla/5.0}\\\";\\n            }else if(/ptwo\\\\.wkfile\\\\.com/.test(playUrl)&&/url=/.test(playUrl)){\\n                playUrl=playUrl.split(\\\"url=\\\")[1]+\\\";{Referer@https://fantuan.tv}\\\"\\n            }else{\\n                playUrl=rechange(playUrl);\\n            }\\n            // 处理大师兄之类的app\\n            // else{\\n            //     playUrl+=\\\";{User-Agent@Mozilla/5.0}\\\";\\n            // }\\n        }\\n        return playUrl+\\\"#isVideo=true#\\\";\\n    }else{\\n        return false;\\n    }\\n}\\nfunction comParse(parStr,ej,onlyback,html){\\n    //列表，标题，图片，描述，链接，内容\\n    ej = ej||false;//有二级\\n    onlyback=onlyback||false;//只返回数据\\n    html = html||getResCode();\\n    html = typeof(html)==='string'?html:html.html;\\n    return $.toString((parStr,ej,onlyback,html,isPic)=>{\\n        let t=parStr.split(\\\";\\\");\\n        let d=[];\\n        // let list=pdfa(getResCode(),t[0]);\\n        let list=pdfa(html,t[0]);\\n        let lazy = $('').lazyRule(()=>{\\n            const {lazyParse} = $.require('hiker://page/globalParse?rule=道长仓库Pro');\\n            return lazyParse(input)\\n        });\\n        for(let i in list){\\n            let _pic = t[2]?pd(list[i],t[2]):'';\\n            if(isPic(_pic)&&!/@Referer=/.test(_pic)){\\n                _pic+='@Referer='\\n            }\\n            let it={\\n                title:pdfh(list[i],t[1]),\\n                pic_url:_pic,\\n                desc:pdfh(list[i],t[3]),\\n                url:ej?pd(list[i],t[4]):pd(list[i],t[4])+lazy\\n            };\\n            if(t.length>5){//内容，用于搜索\\n                it.content=pdfh(list[i],t[5])\\n            }\\n            d.push(it);\\n        }\\n        if(onlyback){\\n            return d\\n        }else{\\n            setResult(d)\\n        }\\n    },parStr,ej,onlyback,html,isPic)\\n}\\n\\nfunction lazyParse(playUrl,ms,tm,rechange){\\n    // log('调用仓库免嗅探传参超时为:'+ms);\\n    tm = parseInt(tm)||5000;\\n    const {isVideo,getHeaders} = $.require('hiker://page/globalParse?rule=道长仓库Pro');\\n    let realUrl = isVideo(playUrl,rechange);\\n    //log(realUrl);\\n    if(typeof(realUrl)=='string'){//bool值就是失败\\n        try{\\n            let rurl=realUrl.split(\\\";\\\")[0].split(\\\"#\\\")[0];\\n            return JSON.parse(request(rurl,{timeout:tm})).url\\n        }catch(e){\\n            return realUrl\\n        }\\n        //return realUrl\\n    }\\n\\n    //log(\\\"访问超时:\\\"+tm);\\n    log(\\\"尝试道长仓库x5免嗅:\\\"+playUrl);\\n    clearVar(\\\"_x5jxUrl\\\");\\n    let bad=$(\\\"网络不佳或者疑似对方网站挂了，你要查看其网页吗？\\\").confirm((playUrl)=>{\\n        log(\\\"网站看起来挂了:\\\"+playUrl);\\n        return playUrl\\n    },playUrl);\\n    try{\\n        // var back=request(playUrl,{headers: getHeaders(playUrl),timeout:tm});\\n        var back=fetch(playUrl,\\n            {headers: {\\n                    'User-Agent': PC_UA\\n                }});\\n        if(!back){\\n            log(\\\"网站\\\"+playUrl+\\\"确实啥也没返回\\\");\\n            return bad\\n        }else if(/#EXTINF/.test(back)){\\n            //let lcache=\\\"/storage/emulated/0/Android/data/com.example.hikerview/files/Documents/cache/video.m3u8\\\";\\n            //writeFile(lcache,back);\\n            //return lcache+\\\"##\\\"+playUrl+\\\"#isVideo=true#\\\"\\n            playUrl=cacheM3u8(playUrl);\\n            return playUrl\\n        }else if((!/触发了防盗链|未授权|接口防盗/.test(back))&&(!/http|url/.test(back))&&(!/msg|code|html/.test(back))){\\n            log(back);\\n            return 'toast://疑似对方数据加密了，具体数据看日志'\\n        }\\n    }catch(e){\\n        log(e.message);\\n        return bad\\n    }\\n    try {\\n        back=JSON.parse(back);\\n        let realUrl=back.url;\\n        if(typeof(realUrl)==\\\"undefined\\\"||!realUrl){\\n            log(back);\\n            return \\\"toast://道长仓库解析失败！返回播放地址为空\\\"\\n        } else if(typeof(isVideo(realUrl,rechange))=='string'){\\n            return isVideo(realUrl,rechange);\\n        }else{\\n            return realUrl+\\\"#isVideo=true#\\\";\\n        }\\n        //else{\\n        //realUrl+=\\\";{User-Agent@Mozilla/5.0}\\\";\\n        // }\\n    }catch (e) {\\n        log(\\\"检测到解析口非json错误:\\\"+e.message+',开始x5免嗅探');\\n        let ms = parseInt(ms)||5000;\\n        let max_count=Math.ceil(ms/250);\\n        log(\\\"本次嗅探超时:\\\"+ms+\\\"共计待抓包:\\\"+max_count+\\\"次\\\");\\n        showLoading('嗅探中，若失败就重装x5...');\\n        let _x5 = $.toString((isVideo,rechange,playUrl,max_count,PC_UA)=>{\\n            try {\\n                if(typeof(fba)=='undefined'||!fba){\\n                    var fba = fy_bridge_app;\\n                }\\n                try {\\n                    if(typeof(request)=='undefined'||!request){\\n                        eval(fba.getInternalJs());\\n                    }\\n                }catch (e) {\\n                    fba.log(e.message);\\n                }\\n                fba.putVar(\\\"_x5jxUrl\\\",playUrl);\\n                if(window.count == null){\\n                    window.count=1;\\n                }\\n                let text=document.querySelector(\\\"body\\\").innerText;\\n                if(/触发了防盗链|未授权|接口防盗/.test(text)&&window.count===1){\\n                    fba.log(\\\"检测到有授权，开始过授权\\\");\\n                    //location.reload();\\n                    location.href=fba.getVar(\\\"_x5jxUrl\\\");\\n                }\\n                window.count++;\\n                // fba.log('count:'+window.count+',max_count:'+max_count);\\n                if( window.count >= max_count){\\n                    fba.log(\\\"超过\\\"+max_count*250+\\\"毫秒未获取到资源地址，跳到源网页,以下是加载过的地址\\\");\\n                    let text=document.querySelector(\\\"body\\\").innerText;\\n                    // fba.log(text);\\n                    fba.log(JSON.stringify(_getUrls()));\\n                    return fba.getVar(\\\"_x5jxUrl\\\");\\n                }\\n                function muteMe(elem) {\\n                    try {\\n                        elem.pause();\\n                    }\\n                    catch (e) {\\n                    }\\n                }\\n                var videos = document.querySelectorAll(\\\"video\\\"), audios = document.querySelectorAll(\\\"audio\\\"), v2 = document.querySelectorAll(\\\"embed\\\"), v3 = document.querySelectorAll(\\\"#player\\\");\\n                try {\\n                    [].forEach.call(videos, function (video) {\\n                        muteMe(video);\\n                    });\\n                } catch (e) {}\\n                try {\\n                    [].forEach.call(audios, function (audio) {\\n                        muteMe(audio);\\n                    });\\n                } catch (e) {}\\n                try {\\n                    [].forEach.call(v2, function (v) {\\n                        muteMe(v);\\n                    });\\n                } catch (e) {}\\n                try {\\n                    [].forEach.call(v3, function (v) {\\n                        muteMe(v);\\n                    });\\n                } catch (e) {}\\n                var urls = _getUrls();\\n                // fba.log(JSON.stringify(urls));\\n                try {\\n                    for(let i in urls) {\\n                        let u=urls[i];\\n                            u=decodeURIComponent(u);\\n                        if(/url=http/.test(u)){\\n                            u = u.split(\\\"url=\\\").slice(-1)[0];\\n                            fba.log(\\\"url分割:\\\"+u);\\n                        }else if(/vid=http/.test(u)){\\n                            u = u.split(\\\"vid=\\\").slice(-1)[0];\\n                            fba.log(\\\"vid分割:\\\"+u);\\n                        }else if(/\\\\?(.*)=http/.test(u)){\\n                            u = \\\"http\\\"+u.split(/\\\\?(.*)=http/).slice(-1)[0];\\n                            fba.log(\\\"其他分割:\\\"+u);\\n                        }else if(/\\\\/1\\\\.m3u8$/.test(u)){\\n                            continue;\\n                        }\\n                        \\n                        let realUrl = isVideo(u,rechange);\\n                        if(typeof(realUrl)=='string'){\\n                            fba.log(\\\"仓库x5免嗅结果:\\\"+realUrl);\\n                            //fy_bridge_app.setWebUa(PC_UA);\\n                            return realUrl\\n                        }\\n                    }\\n                }catch (e) {\\n                    fba.log(e.message)\\n                }\\n            }catch (e) {\\n                // fy_bridge_app.log('x5大范围错误:'+e.message);\\n                alert('x5大范围错误:'+e.message);\\n                return 'toast://报错结束x5'\\n            }\\n        },isVideo,rechange,playUrl,max_count,PC_UA);\\n        const lsg=$.require(\\\"hiker://page/localStorage?rule=道长仓库Pro\\\");\\n        let useWeb=lsg.getItem(\\\"通免\\\",\\\"X5\\\")===\\\"WEB\\\";\\n        //log(\\\"仓库使用web通免替代x5:\\\"+useWeb);\\n        let ruleHead=useWeb&&parseInt(getAppVersion())>=2339?\\\"webRule://\\\":\\\"x5Rule://\\\";\\n        let x5Url = ruleHead+playUrl+ '@' +_x5;\\n        return x5Url\\n    }\\n}\\n\\nfunction x5ParsePro(x5list,x5Timeout,isVideo){\\n    let bpath = 'file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/dzHouse/html/海阔嗅探器.html';\\n    let bcode = fetch(bpath);\\n    if(!bcode||!/fy_bridge_app/.test(bcode)){\\n        log('本地未安装嗅探器，开始安装');\\n        const {api} = $.require(\\\"hiker://page/utiliy?rule=道长仓库Pro\\\");\\n        writeFile(bpath,fetch(api.host+'/rulelist.json?id=2055'));\\n    }\\n    x5Timeout = parseInt(x5Timeout)||5000;\\n    let max_count=(x5Timeout/250); //根据超时自动计算了可执行的次数\\n    putVar('x5List',JSON.stringify(x5list));\\n    let _x5 = $.toString((isVideo, max_count,x5Timeout) => {\\n        //初始化fba和requst\\n        if (typeof (fba) == 'undefined' || !fba) {\\n            var fba = fy_bridge_app;\\n        }\\n        try {\\n            if (typeof (request) == 'undefined' || !request) {\\n                eval(fba.getInternalJs());\\n            }\\n        } catch (e) {\\n            fba.log(e.message);\\n        }\\n        //------------------\\n        try {\\n            if (window.count == null) {\\n                window.count = 1;\\n            }\\n            let text=document.querySelector(\\\"body\\\").innerText;\\n            if(/触发了防盗链|未授权|接口防盗/.test(text)&&window.count==1){\\n                location.reload();\\n                fba.log(\\\"检测到有授权，开始过授权\\\");\\n            }\\n            window.count++;\\n            // fba.log('count:' + window.count + ',max_count:' + max_count);\\n            if (window.count >= max_count) {\\n                fba.clearVar('x5List');\\n                fba.hideLoading();\\n                let fmsg = '道长仓库通免解析失败,原因:超时'+x5Timeout+'毫秒';\\n                fba.log(fmsg);\\n                return 'toast://'+fmsg;\\n            }\\n        }catch (e) {\\n            fba.log(e.message);\\n        }\\n\\n        function muteMe(elem) {\\n            try {\\n                elem.pause();\\n            } catch (e) {\\n            }\\n        }\\n\\n        var videos = document.querySelectorAll(\\\"video\\\"), audios = document.querySelectorAll(\\\"audio\\\"),\\n            v2 = document.querySelectorAll(\\\"embed\\\"), v3 = document.querySelectorAll(\\\"#player\\\");\\n        try {\\n            [].forEach.call(videos, function (video) {\\n                muteMe(video);\\n            });\\n        } catch (e) {\\n        }\\n        try {\\n            [].forEach.call(audios, function (audio) {\\n                muteMe(audio);\\n            });\\n        } catch (e) {\\n        }\\n        try {\\n            [].forEach.call(v2, function (v) {\\n                muteMe(v);\\n            });\\n        } catch (e) {\\n        }\\n        try {\\n            [].forEach.call(v3, function (v) {\\n                muteMe(v);\\n            });\\n        } catch (e) {\\n        }\\n        var urls = _getUrls();\\n        try {\\n            for (let i in urls) {\\n                let u=urls[i];\\n                u=decodeURIComponent(u);\\n                if(/url=http/.test(u)){\\n                    u = u.split(\\\"url=\\\").slice(-1)[0];\\n                }else if(/vid=http/.test(u)){\\n                    u = u.split(\\\"vid=\\\").slice(-1)[0];\\n                }else if(/\\\\?(.*)=http/.test(u)){\\n                            u = \\\"http\\\"+u.split(/\\\\?(.*)=http/).slice(-1)[0];\\n                            //fba.log(\\\"其他分割:\\\"+u);\\n                        }else if(/\\\\/1\\\\.m3u8$/.test(u)){\\n                            continue;\\n                        }\\n                \\n                let realUrl = isVideo(u);\\n                if (realUrl) {\\n                    fba.log(\\\"仓库x5免嗅结果:\\\" + realUrl);\\n                    fba.clearVar('x5List');\\n                    return realUrl\\n                }\\n            }\\n        } catch (e) {\\n            fba.log(e.message)\\n        }\\n    }, isVideo, max_count,x5Timeout);\\n    const lsg=$.require(\\\"hiker://page/localStorage?rule=道长仓库Pro\\\");\\n        let useWeb=lsg.getItem(\\\"通免\\\",\\\"X5\\\")===\\\"WEB\\\";\\n        //log(\\\"仓库使用web通免替代x5:\\\"+useWeb);\\n    let ruleHead=useWeb&&parseInt(getAppVersion())>=2339?\\\"webRule://\\\":\\\"x5Rule://\\\";\\n    return ruleHead+bpath+'@' + _x5;\\n}\\n\\nfunction LazyParseFast(playUrlList,getTimeout,x5Timeout){\\n    const {isVideo,getHeaders,x5ParsePro} = $.require('hiker://page/globalParse?rule=道长仓库Pro');\\n    // log('开始执行'+playUrlList.length+'个地址的批量嗅探:'+playUrlList);\\n    log('开始执行'+playUrlList.length+'个地址的批量嗅探');\\n    let playUrls = playUrlList.map((it)=>{\\n        return {\\n            url:it.split(\\\";\\\")[0],\\n            options: {\\n                headers: {\\n                    //\\\"User-Agent\\\": \\\"Dart/2.13 (dart:io)\\\",\\n                    \\\"User-Agent\\\":\\\"Mozilla/5.0\\\"\\n                },\\n                timeout: getTimeout\\n            }\\n        }\\n    });\\n    let bhtml = batchFetch(playUrls);\\n    let videos = [];\\n    let x5list = [];\\n    for(let i in bhtml){\\n        let order = parseInt(i)+1;\\n        let tname=order+'号解析网址:';\\n        //log(tname);\\n        let turl=playUrlList[i].split(\\\";\\\")[0];\\n        let jname=playUrlList[i].split(\\\";\\\").length>1?playUrlList[i].split(\\\";\\\")[1]:\\\"\\\";\\n        tname+=jname;\\n        let backcode = bhtml[i];\\n        if((!/url|http/.test(backcode))&&(!/#EXTINF/.test(backcode))){\\n            log(tname+turl+'有问题,可能加密或者挂了');\\n            continue;\\n        }else if(/#EXTINF/.test(backcode)){\\n            //let lcache=\\\"/storage/emulated/0/Android/data/com.example.hikerview/files/Documents/cache/video_\\\"+tname+\\\".m3u8\\\";\\n            //writeFile(lcache,backcode);\\n            //videos.push(lcache);\\n            let pUrl=cacheM3u8(turl);\\n            videos.push(pUrl);\\n            continue;\\n        }\\n        try {\\n            let url = JSON.parse(backcode).url;\\n            if(/^http/.test(url)){\\n                let realVideo = isVideo(url);\\n                if(typeof(realVideo)=='string'){\\n                    log(tname+'已解析出视频:'+realVideo);\\n                    if(jname){\\n                        realVideo+=\\\"★\\\"+jname\\n                    }\\n                    videos.push(realVideo);\\n                }else{\\n                    log(tname+'解析出不知道什么东西:'+url);\\n                    url+=\\\"#isVideo=true#\\\";\\n                    if(jname){\\n                        url+=\\\"★\\\"+jname\\n                    }\\n                    videos.push(url);\\n                }\\n            }else{\\n                log(tname+'为json接口且无返回视频地址数据:'+playUrlList[i]+'\\\\n'+backcode);\\n            }\\n        }catch (e) {\\n            log(tname+'为x5接口,加入x5嗅探列表');\\n            x5list.push(playUrlList[i]);\\n        }\\n    }\\n    // log(videos);\\n    if(videos.length>0){\\n        if(getVar('dp.cacheVideo','true')==='true'&&parseInt(getAppVersion())>=2255)\\n        {\\n            log(\\\"尊敬的魔断用户，视频缓存已启用，请尽情享受看剧时光\\\");\\n            let videosCache=videos.map((it)=>{\\n                let headers={};\\n                if(it.split(\\\";\\\").length>1){\\n                    let head = it.split(';')[1];\\n                    if(/@/.test(head)&&/{|}/.test(head)){\\n//head = head.replace(/{|}/g,'');\\n                        head = head.split(\\\"{\\\")[1].split(\\\"}\\\")[0];\\n                        head = head.split('&&');\\n                        for(let i in head){\\n                            let key = head[i].split('@')[0];\\n                            let value =head[i].split('@')[1].replace(/;/,'；；');\\n                            headers[key] = value;\\n                        }\\n                    }\\n                }\\n                return {\\n                    url:it.split(\\\";\\\")[0].split(\\\"★\\\")[0],\\n                    options:{\\n                        headers:headers\\n                    }\\n                }\\n            });\\n            var data=batchCacheM3u8(videosCache);\\n            data=data.map((it,id)=>{\\n                let extra=\\\"\\\";\\n                if(videos[id].split(\\\";\\\").length>1){\\n                    extra=\\\";\\\"+videos[id].split(\\\";\\\")[1];\\n                }else if(videos[id].split(\\\"★\\\").length>1){\\n                    extra=\\\"★\\\"+videos[id].split(\\\"★\\\")[1];\\n                }\\n\\n                if(it+\\\"\\\"!=\\\"null\\\"){\\n                    return it+extra\\n                }else{\\n                    return videos[id]\\n                }\\n            });\\n            //log(data);\\n            return data\\n            //return videos\\n        }else{\\n            return videos\\n        }\\n    }\\n    log('共有'+x5list.length+'个x5地址进行轮流嗅探');\\n    //没有的话就开始依次x5嗅探\\n    showLoading('嗅探中，若失败就重装x5...');\\n    return x5ParsePro(x5list,x5Timeout,isVideo);\\n}\\nvar lazy=$('').lazyRule(()=>{\\n    try{\\n        realUrl=input;\\n        eval(\\\"var config =\\\" + fetch(\\\"hiker://files/cache/MyParseSet.json\\\"));\\n        eval(fetch(config.cj));\\n        log(input+'->正在断插魔改版解析...');\\n        // 加入超时设置，建议在首页设置\\n        return aytmParse(realUrl)\\n    }catch(e){\\n        return input\\n    }\\n});\\n$.exports.isPic=isPic;\\n$.exports.isVideo=isVideo;\\n$.exports.comParse=comParse;\\n$.exports.getHeaders=getHeaders;\\n$.exports.lazyParse=lazyParse;\\n$.exports.x5ParsePro=x5ParsePro;\\n$.exports.LazyParseFast=LazyParseFast;\\n$.exports.lazy=lazy;\"},{\"name\":\"任务仓库接口\",\"path\":\"taskCall\",\"rule\":\"js:\\nString.prototype.strip = function () { return this.replace(/(^\\\\s*)|(\\\\s*$)/g, \\\"\\\"); };\\nfunction task_req(task_api,task) { // 通用发送仓库post调用任务请求\\n    const {getFile} = $.require(\\\"hiker://page/utiliy?rule=道长仓库Pro\\\");\\n    let houseFile = getFile||false;\\n    if(!houseFile){\\n        setItem('is_house_vip', 'false');\\n    }\\n    let house_data = houseFile();\\n    let result = request(task_api, {\\n        headers: {\\n            'content-type': 'application/json'\\n        },\\n        body: JSON.stringify({\\n            \\\"params\\\": {\\n                \\\"data\\\": {\\n                    \\\"type\\\": task.mode||'run',\\n                    \\\"func\\\": task.func||'',\\n                    \\\"params\\\": task.params||[]\\n                },\\n                \\\"auth\\\": {\\n                    \\\"name\\\": house_data.username||\\\"\\\",\\n                    \\\"password\\\": house_data.password||\\\"\\\"\\n                }\\n            }\\n        }),\\n        method: 'POST'\\n    });\\n    return JSON.parse(result).result;\\n}\\n\\nfunction task_upload(task){ // 通用任务发布新增及修改功能\\n    const {api,getFile} = $.require(\\\"hiker://page/utiliy?rule=道长仓库Pro\\\");\\n    let houseFile = getFile||false;\\n    if(!houseFile){\\n        setItem('is_house_vip', 'false');\\n    }\\n    let api_url = api.host+'/hikerule/task/add';\\n    let house_data = houseFile();\\n    let result = request(api_url, {\\n        headers: {\\n            'content-type': 'application/json'\\n        },\\n        body: JSON.stringify({\\n            \\\"params\\\": {\\n                \\\"data\\\": {\\n                    \\\"name\\\": task.name,\\n                    \\\"pycode\\\": task.pycode,\\n                    \\\"note\\\": task.note,\\n                    \\\"test_code\\\": task.test_code,\\n                },\\n                \\\"auth\\\": {\\n                    \\\"name\\\": house_data.username||\\\"\\\",\\n                    \\\"password\\\": house_data.password||\\\"\\\"\\n                }\\n            }\\n        }),\\n        method: 'POST'\\n    });\\n    return JSON.parse(result).result;\\n}\\n\\nfunction task_call(id,func,params){\\n    const {api} = $.require(\\\"hiker://page/utiliy?rule=道长仓库Pro\\\");\\n    let task_api = api.host+'/hikerule/task/run/'+id;\\n    let task = {\\n        mode:'call',\\n        func:func,\\n        params:params||[]\\n    };\\n    return task_req(task_api,task);\\n}\\n\\nfunction task_rename(id,new_task_name){\\n    const {api,getFile} = $.require(\\\"hiker://page/utiliy?rule=道长仓库Pro\\\");\\n    let houseFile = getFile||false;\\n    if(!houseFile){\\n        setItem('is_house_vip', 'false');\\n    }\\n    let house_data = houseFile();\\n    let task_api = api.host+'/hikerule/task/rename/'+id;\\n    task_api = task_api+'?name='+house_data.username+'&password='+house_data.password+'&task_name='+new_task_name;\\n    try {\\n        let result = JSON.parse(fetch(task_api,{}));\\n        if(result.status==0){\\n            return  result.detail\\n        }else{\\n            return result.result+''+result.detail\\n        }\\n    }catch (e) {\\n        log(e.message);\\n        return ''+e.message\\n    }\\n}\\n\\nfunction task_change_state(id){\\n    const {api,getFile} = $.require(\\\"hiker://page/utiliy?rule=道长仓库Pro\\\");\\n    let houseFile = getFile||false;\\n    if(!houseFile){\\n        setItem('is_house_vip', 'false');\\n    }\\n    let house_data = houseFile();\\n    let task_api = api.host+'/hikerule/task/change_state/'+id;\\n    task_api = task_api+'?name='+house_data.username+'&password='+house_data.password;\\n    try {\\n        let result = JSON.parse(fetch(task_api,{}));\\n        if(result.status==0){\\n            return  result.detail\\n        }else{\\n            return result.result+''+result.detail\\n        }\\n    }catch (e) {\\n        log(e.message);\\n        return ''+e.message\\n    }\\n}\\n\\nfunction task_run(id){\\n    const {api} = $.require(\\\"hiker://page/utiliy?rule=道长仓库Pro\\\");\\n    let task_api = api.host+'/hikerule/task/run/'+id;\\n    let task = {};\\n    return task_req(task_api,task);\\n}\\n\\n$.exports.taskCall = task_call;\\n$.exports.taskRun = task_run;\\n$.exports.taskReq = task_req;\\n$.exports.taskUpload = task_upload;\\n$.exports.taskRename = task_rename;\\n$.exports.taskChangeState = task_change_state;\"},{\"col_type\":\"movie_3\",\"name\":\"全局储存\",\"path\":\"localStorage\",\"rule\":\"let localStorage = (function() {\\n    evalPrivateJS(\\\"jwUKwNTiPGcWSLCXB5XtAXwb6LQbVyHD+0XJ7l07ce0=\\\");\\n    //pathto=undefined;\\n    evalPrivateJS(\\\"4C0YxRYnGCYkgFRXtpl/Cz5zL5hh4jCCztb+ng+WokymQ8oUrzS9lA8yxC5aFadnSEmyHKMbraflRqXCnNRHDlk6ue8yHTO16lBPrpwgs5jf0PhrAtoTJIE0ZHn9mKaQ4Jd2erqb4I55beWIeugKsDs211SzINQ5yJgSh1dVuNzzxRGJg40FmTuVmXVfN1xg2WIGHBEmkVnGxmORhPONA+Q5VwPmdp41/hze3eIsUvho7VCBgK4raJmPalIRBBVlCVgn8FkWmfKqZo+VW+oBcH7hrcrsSlCSjBangT/7syWHxKYhehU0kaMYjnWFg1Em0cmNRtomCsHz1B8q32OeQHoawdWxzKOaMHOXDBjRojA8E/ah0WROyziqRSxl/m8dhBd0f9phYz/5SU/zJD52X/9EC16WVVdpSW33akRHRslPpRlTWF9+AyRmRw0eZOEs1o9QMPAQUfAxbYyFHgztw/O2dJRpHyTmiBiaaqTcivx6v9zyvBz04wI1AaSCui+dTuU3lu5xdEt3Ajt6Z3iDXOVcEP0EDF7474PQU6JEZuwe97Sch4bi1wB1XHZSfItdlYYoGed3LLpbmDAIRciv0rAop8VmQcTt2K3Lfh1RDYY0YtvRcH49OvpDRH/xa5Fc8MY3DrFoA7qcoF4eCgiVBfBgJR68+LpQK7tOkg8k9ec+3NSxJThcl8d6yNwxT9Tk17zeJgd6MoyYZIpWQLlF6YvbOdEWhjmnA78wC0hWz+Xm6hQMSqtFw+bhFf7cBGU3aatPFmdCY2EdXfh0IYW85wdOyMfiwW7/vVTp9iE00I3F09wGHkGKhVbLueAkYe7zzJXR7thaFor6H7qLmJjbRQk9evNtBQXNR7DifiXuQf2lt7nOH80SWm1fDHHzjmPsNIps2TXGT+iwVV69g/tWipVQ6D8BTx+cCQp47nmTIrY+qN4kh2FYh5LlwXdgIyy1VIuC3x053ewAIIUmlY9niEpqYt+1fFPXOCtCGtYbSd37vVR1EOj2k5Gu/+9JWg2qvwl1twelg1J0txarIi4kTbTrvrnFLN92pofpZQUfoWo4ce7HWNdbu4JKEraLQUfdfGEPd1TIufuuRVa39eq9GZySDuBL60MPdldxKw1zo+fB5ZY+YMj3LL2gGtDbs98+AsRV9LJWmUmsx91hmJtFUMWD3xnj8HMZWs0NPlCFUr9485KqTpo5kRzGfF+k/Nl2Jzrv5cvkqtUnLgKpXEOj/se/oDzOArQKI5TNUbvYwcwcdjjMSfjK68Krwhs+n6SmWZ4ZdgRHgAK5MoFi3XmLV47P3vSRWu5zyEsMk4y3uuCFiuRPRlu4Q5pJvuOem7H7ULiIhCemv5DgkGtDL1cGL4EQhYRB6ISzVvsb2EaP9wQE6DVRnM7O+pnSzet6lzp3pFdGnbox1LRfC60utXZ+CjIm4iEMmtbB2N5zDShGbeM3XUbJQdCBis8XIrhh2biB5hBCVwn3Y3ett7GDPVtoi1GRjz+JbgM+YR928KbdWS5tFaMM3Kj3Xv6otIxzMBnDC9uW3d+IXx6vLPJ0JRuh3yP7pTla6c3iR4p9nWYDqJ+ZSmprHFnDOzsLWmFjapje/MqwMJd6Tk3nAWwicMOPuYpMyqIF04fl4mqgtsHLSMWRRNHPZjETQ9gRmeDYe6aRtlW02qL2olDENqLQMtAdoirNWRcP9VL3Td8HaUO6fSlGNabMakJD/00XChOSUOIP+7fM7V0/l1bLWPtEz1i7LygTV7pdGoDntqSCEnJrByhBAzLRg5QIc9438IhKmyfn0/3awoD1Ir780eyp/XcI6xNcw6Tv/ETfHg0e7iYC0UYcJIE5QUXv0s+YoGIEq5GIzKub8HNjSTUpsvnkVx+dbe2jRn3Yb9W7JCZ5YS6F5MyUVspjMD7NYc+DWjUL2b2sVyAfeYpC8Uhah9tumavbBv7a3a9kgFbq58lrHxzY7iJQVigzq3e1a2BSb0PcW1aJ8BD7NkNphKYayTxykgwilERL8jqqBEniHVdBxDJYLb+Xw3alLmltuTEV6KGtBntBX+yz36RPDMyGIKe+3fzcxfnCDn20ModVVkVNozPqMXZ0G5L4aLTAQakYKUjsVMQjAhQkTlHBeO/aLPx9sxl++j1Z5rLgG12TN4XJ1eicvw4AVE58Loraq0QiE0cS7PH1pbrZWrft7LYGiyBShor7+0jioUh1pdWq2qMYLqeMEeuCROQt57mFrOjyPH49qp97cWOrgeg2WyfWSDGQPje5+P0yQoCpD/D3RAMuWmb9wlBtcq2j8WJPt91E3kKawuQIyvd2r2Ujx4+HTNtVKb9kMLOO85I65bNGBH+4irSy5gQYlE26A2cSGIcLKQRlvJoMna7L/9wyry4HzOrzkrAvLdgsSNlYjpHQERiOI80sJ5jNCCnfw013F+A+sAfLmyS/BDLNQ1qaQ3p6h8/JqAfhX5OGHgSiRVOCEjuaDB/MwZNCu3QL9ehhoAj7uOf8Pkr3mIjbhh9Hijsjx191+0e2JQrFa01AVJKEVtuPtIc2h/1pPKMvyenxjTO2OxPnjjt+84nIKKhxDJ/ghPt7iv8PmTJ0lKKyPRssl8f/QdHdxupb6jTsI6UKmz9Y46PMBuD6P3wh8qp36O6oibNDiQd1sE10vJh9z1FysKIe8EqMpnNdEmG2TfEBxRpmQrhKEqee0p6+a6sQo8cVlRJkKQAYKawcaNES5Xc6dQY5nqeiq8sUizf1spfHeHelDu1M6BRXuCjFafXhz8i3lPWgYqVpfx13igVCRf47UH652yLnsmepCBWgyBTWAcOyF1Qx8YGtZnob1TN+6xEwzpcWVy7QO9P92sKA9SK+/NHsqf13COt0JHCtTV1OlTQW+JAKyxe1Hl7+s95z3KCgFKQS+3As1JV7Na+g+LCR2Ievu8d5D0L7GwoDreUv4374LRaFkNsHOqWbU9nhQjdMVr7a/i8O/4hbptaSzqqkgYFiNFU/omW5qwIz7sp4nscITRE3gua6bzklMZ8ECn1iqAWt0a6geki5DaL8qYapTCChjlWsExqFuxiWP35TUCddEd8ACbMGs+gQFyDOozfBDG17dZO0mCwW+PzCL2jbICDNai5/jm1Qr6ML56jzUaIDz0GLPTSaex1UDDwkQ9o7mXWC0R7jWnzbkHRWcomVbWmGqL1rjdoacs/R9ujqUuBA6A5VL/qkQ1xHL42EXooprC8wrrfR68zMMFxOwU7CYHJ7bhG/Q4rNsXDBcMo1Adiq9LXbXm/QJj0u/jgZGssz0nnKKUFJcxzuANK96zWwf1DXasUcOoEuEatm1rmP5wrBJmW/ZwT6aBBiR2OSJ0xr8tQ6ObmdKjyb+1eEXb1437R2IdhDUdk5PRztH2YFt2pmuL4/LmILFAvPdiyMtDHNj+Kh4sV4MlXbWPrrI97YBOFpFlX+gnewKKfFZkHE7dity34dUQ2Gne6sAGx1zxyjZv5KBM26lRHF45XqFNJ1RQ3hMymJHsyYNsMO41BWrGv19PA468ecw9HcRN0whjUTgns8ZVaC4hiJsgY07aAEBHm90/uhhjO/Wmb7wuVadhl9RnHeQjpx4gwCrLz5i5s5It1sBwfDb0Fe+PCpLkc+wIINK2Y86kPthR6gJwW75zuoN5C0CAiDwfU73vaAZahzf4VLNlM0U04OtHYBi13YgPoNmGHRelZVEy2KuKVZghD14vSlY+JrMBDdm2y2thFV+BrihL7+fQ5wcYnxGelawDuoSR5+bDDkr6RL40L4xyfAhxlrOn0uA28ghGeWguaWKEv5nBrrveu1ueVy1MvGUYBY+IlEr8NdDNRdmEzXt39kGld86xOfAH/xL1VmugaXOGaPB2qc7WDRkW6k5F6n3PkIzdPXyONKp1DkOg3ocSMZMTs6GKj9C3vODZ6ZQpwNDYLMT+CmEL18GRjXNcZlP/LnhiAIscYTL1+iHWDYvRmvPMwtOHhCnEXIU3FTbP+6QRGA6qydbnneqVhXowcLmbMIz16IC1kwhZj75/M53sKYX2zRgOSTAfNSD/5lZYSNUxJfKTDgiaFEggrCrd+3Cc+chzslI3zDXEKTrvlcX2InC9uH+fsypyHw+AvY2OmBGQMIIc8fE3tNO0gBTVqXsdsE76YwHr29dzQckusuyJsBfSVclrvsNCZ1PQDL8H3cRs3HE9nUkx5bbJYWsPxb825gnEpWU9Z9Ktzvsli7/heOlDKpHxJb1uCrWqf8gRnWmq3zfSSrUXBHSLu62MrkXTjWgapUVxMGkrnzR0E4PMy1bFcyDpEQe15TayWBM1B6jrIG+0DRR9OaCUPwD7exNmjZb9M81us+AIRfyzJPZGmfHuT9SNzFfNuQdFZyiZVtaYaovWuN2irI3zQatKCDnQIXpr0VhG0Gop8c/zroWBoN/aVKmn8skSFvADOjoZAixg6K1y9wFi8peCmimFZ3ZzCVsG6EU9Svlbq5+wn7D6y+dAYdaPms4gwCrLz5i5s5It1sBwfDbz4X4VxqIpcTC9NaYKqA7GKK+aTrZWUwwN21QOtr8eqxSgJ1U9eCOcWXQd+p36Gy4fY+t9c2CsVNbNl1ghxa9bI8U6e6FTd/vvBaq9jrKditq4mNCaiogmfPK6M48UYI8jZMCdd/9C8BqvUj4bYU5byWASEG6BBGdK8Klfi/a4LWt3ivC4u9QBTfb/vCmNJi/QAfabcPG+UsWmsYNRK+g8hMcsuBmhh48NphRvebVQqq6ncKxc1nFHWMW5M6of+z8c1HddnieDP9GaBsq+ysljKslYrt989PY9xsbmkr3X/oCfiFU4NfcOhee++ngW0XpZAVt1I2Qnc1alwbnoNqMMhXIB95ikLxSFqH226Zq9sG/trdr2SAVurnyWsfHNjuIlBWKDOrd7VrYFJvQ9xbVomKqQjuh9dzf2nvVrBzbEF0CZY6izkY/RQY5r9k93/y2NG7o07nMYjOtZYYeNUoik7GbK/HzQl1S7s/FChnt9M6fE0UyuPmttO98hqzxQbteMalMtSce2WLcjyXVGfpqdBkYym4gZByccS6antt4oLdluWSSJsHX1IcXhQy6oJ+Ahjw9hFYwXLHPLoCo3jEliUAK4179wtYtHsO0abLx4+hmtM5Fz7wUVahBA9supOTf/FD4siZMMof5W3vm5DedhqGANlht3mI6RmIhv48QVtneMsUzYC4NDhZD4M5R6p7GXBqcpu3FaEF/0I0e3LceX1HN+iDqKRPuGzvpac/1tsGPIteADxu9OYoap2z3F1CzSg/Uua8l/KEztAKDcvbhNU/YUc2lhgxgfdb4e+P9TZ7RaX82s627u0CbFsfGE/1hLpb5Mc2vk1uDGrdIcbWA6xhpYAHYhEYUl9c75Y/R/0gl6r9+m6cI0BvBY5Aa5NBRc6UMvsO/POw5Ccr79sJziceaV3YwrYEkjp6Ki+OYrGu954AA+dJ9WsvNGBFGMrKAfQ9VUC/ATkJfTloMltDeV5Ao9zkaay3dKAa5/PxAGRDAUcQLDF7uVXbD1vFgE/+RXiwzS5N7cr3aFBdRY7XAmFz/fb0/KSpR8CQ/lokpmM2mltJ9vGPgiqb5nZl9Ku7d2GlgAdiERhSX1zvlj9H/SBujBPoO1fpoOu5F35cdHa5kSFvADOjoZAixg6K1y9wFlj0Ez5ksUW3WU63E7e4qtDUCKWwjjU5f0Fd57VyVzpC6CdCScBjYSzT9rZLVskq61aOWrDDUNKqAQ3+nX/BBW3cQTEcOVdc15ngVXcSS/aK2QFMdiKQlqm15fErJdwqyeza7hflKTiCzUdu5VGlFW9qCt8syHoosA2NzfosJdTdN8bWHnoDr5N25et+p/nvjjOzZRaLYoY/fr/k5hqptOk=\\\");\\n    return $.exports;\\n})();\"},{\"col_type\":\"movie_3\",\"name\":\"编辑公告\",\"path\":\"devInfoEdit\",\"rule\":\"js:\\naddListener('onClose', $.toString(()=>{\\n    putMyVar(\\\"devInfo\\\",''); //清除历史公告\\n}));\\nsetPageTitle('编辑公告');\\n// let {nowJx,MyJiexi,jxsRoute} = MY_PARAMS;\\nconst {color,small,api, getFile,getApi} = $.require(\\\"hiker://page/utiliy\\\");\\n// let houseFile = getFile||false;\\nvar dev_info_url = getApi('infoGetUrl');\\n// log(dev_info_url);\\nvar get_info = function(qq){\\n    qq = qq||'434857005';\\n    let dev_info_url = dev_info_url+qq;\\n    let back_code = JSON.parse(request(dev_info_url));\\n    let dev_info=back_code.result||back_code.detail;\\n    return dev_info;\\n};\\nvar before_refresh = function(){\\n    let dev_set_info = getMyVar(\\\"dev_set_info\\\").split('$$');\\n    let dev_info_url = dev_set_info.slice(-1)[0];\\n    let back_code = JSON.parse(request(dev_info_url));\\n    let dev_info=back_code.result||back_code.detail;\\n    putMyVar(\\\"devInfo\\\",dev_info);\\n    return dev_info\\n};\\nlet d = [];\\nd.push({\\n    title:'编辑公告',\\n    desc:'支持md语法,点击进入学习Md语法\\\\n保存公告按钮在文本框最下面',\\n    col_type:'text_1',\\n    url:'https://www.runoob.com/markdown/md-tutorial.html'\\n});\\nd.push({\\n    title:'返回',\\n    col_type:'text_2',\\n    url:$('#noLoading#').lazyRule(()=>{\\n        back(false);\\n        return 'hiker://empty'\\n    })\\n});\\nif(!getMyVar('devInfo')){\\n    before_refresh();\\n}\\nlet empty = 'hiker://empty';\\nd.push({\\n    title:'阅览查阅',\\n    col_type:'text_2',\\n    // url:$(getMyVar('devInfo')).confirm()\\n    url:$(empty).rule(()=>{\\n        require(\\\"https://cdn.jsdelivr.net/npm/marked/marked.min.js\\\");\\n       let devInfo=\\\"\\\";\\n       try{\\n          devInfo=marked.parse(getMyVar('devInfo'));\\n       }catch(e){}\\n        setResult([\\n            {\\n                title:devInfo,\\n                col_type:'rich_text',\\n            }\\n        ]);\\n    })\\n});\\nd.push({\\n    desc: \\\"快来编辑你的公告吧~\\\",\\n    col_type: 'input',\\n    extra: {\\n        titleVisible: false,\\n        defaultValue: getMyVar('devInfo', '')||\\\"\\\",\\n        type: \\\"textarea\\\",\\n        height:-1,\\n        onChange: 'putMyVar(\\\"devInfo\\\",input)'\\n    }\\n});\\nd.push({\\n    title:\\\"保存公告\\\",\\n    col_type: 'text_center_1',\\n    url:$('确认保存公告吗？将会与道长仓库服务器通讯').confirm(()=>{\\n        let dev_set_info = getMyVar(\\\"dev_set_info\\\").split('$$');\\n        let input_text = getMyVar('devInfo', '');\\n        if(input_text.length >= 4){\\n            let info_set_url= dev_set_info[2];\\n            let send_data = {\\\"params\\\":\\n                    {\\\"data\\\": {\\\"info\\\": input_text},\\n                        \\\"name\\\": dev_set_info[0],\\n                        \\\"password\\\": dev_set_info[1]}\\n            };\\n            // log(send_data);\\n            let par2 = {headers:{'content-type':'application/json;charset=UTF-8','User-Agent':dev_set_info[3]},body:JSON.stringify(send_data),method:'POST'};\\n            // par2 = JSON.stringify(par2); //x5里面请求才需要编码\\n            try {\\n                let back_ret = request(info_set_url, par2);\\n                back_ret = JSON.parse(back_ret).result;\\n                if(back_ret.status===0){\\n                    // refreshPage();\\n                    return 'toast://保存成功\\\\n'+back_ret.detail;\\n                }else{\\n                    return 'toast://保存失败\\\\n'+back_ret.detail;\\n                }\\n            }catch (e) {\\n                return 'toast://错误\\\\n'+e.message;\\n            }\\n        }else{\\n            confirm({title:'道长提示',content:'虽然你很懒，但是公告至少写4个字吧！'});\\n            return 'hiker://empty'\\n        }\\n    })\\n});\\n\\nsetResult(d);\"}]","icon":"https://lanmeiguojiang.com/tubiao/other/30.svg"},{"pageList":[],"title":"今日热榜𝔥","author":"Hood","version":4,"url":"https://tophub.today/c/fyclass?p=fypage&order=fyarea;get;UTF-8;{User-Agent@Mozilla/5.0 (Windows NT 10.0)}","col_type":"movie_1_vertical_pic","class_name":"综合&科技&娱乐&社区&博客&购物","class_url":"news&tech&ent&community&blog&shopping","area_name":"热门&最新","area_url":"&ID","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar items = [];\r\nvar html = getResCode();\n\n//列表\nvar list = parseDomForArray(html,'.bc-cc&&.cc-cd');\n\nfor (var i in list) {\r\n\n//标题列表\nvar ttt=parseDomForArray(list[i], '.cc-cd&&.t');\n\n//标题\nvar title = '  【'+parseDomForHtml(list[i], '.cc-cd-ih&&Text')+'】\\n1. '+parseDomForHtml(list[i], '.t&&Text');\n\n//图片\nvar img = parseDom(list[i], 'img&&src').replace(/_.*/,'');\r\n\n//链接\nvar url = parseDom(list[i], 'a&&href');\n\n//描述\nif(ttt.length>2){\nvar desc = '2. '+parseDomForHtml(list[i], '.t,1&&Text')+'\\n3. '+parseDomForHtml(list[i], '.t,2&&Text');\n}else if(ttt.length<2){\nvar desc = '暂无更多';\n}else{\nvar desc = '2. '+parseDomForHtml(list[i], '.t,1&&Text');\n}\n\nitems.push({\r\n        title: title,\n        pic_url: img,\r\n        url: url,\n        desc: desc});\n}\n\r\nres.data = items;\r\nsetHomeResult(res);","searchFind":"","search_url":"","titleColor":"#fff20c00","group":"①推荐","detail_col_type":"text_1","detail_find_rule":"tbody&&tr;\ntr--td,2&&Text.js:input.replace('','');\n*;\ntd,2&&Text;\na&&href","sdetail_col_type":"text_1","sdetail_find_rule":"","ua":"mobile","preRule":""},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"正文","path":"content","rule":"js:\nsetResult([{\n    title: MY_PARAMS.title,\n    url: MY_PARAMS.u,\n    desc: \"100%&&float\",\n    col_type: \"x5_webview_single\",\n    extra: {\n        js: $.toString(() => {\n            (function() {\n                if (window.location.href.indexOf(\"/content.php?url=\") < 0) {\n                    return\n                }\n                var nodes = document.getElementsByTagName(\"p\");\n                for (let i = 0; i < nodes.length; i++) {\n                    nodes[i].style.fontSize = '17px';\n                    nodes[i].style.lineHeight = '200%';\n                    nodes[i].style.marginBottom = '25px';\n                    nodes[i].style.transition = 'all .5s';\n                }\n\n                nodes = document.getElementsByClassName(\"el-card__body\");\n                for (let i = 0; i < nodes.length; i++) {\n                    nodes[i].style.padding = '10px';\n                    nodes[i].style.transition = 'all .5s';\n                }\n                nodes = document.getElementsByClassName(\"el-main\");\n                for (let i = 0; i < nodes.length; i++) {\n                    nodes[i].style.padding = '10px';\n                    nodes[i].style.transition = 'all .5s';\n                }\n\n            })();\n        })\n    }\n}])"}],"title":"故事会","author":"","version":6,"url":"http://new-qk.lifves.com/list.php?url=M0QzJWV1c3NpNjIlMTIwMkQzJXJhZXk2MiUyODVlNjY5YmEyMzktOWQ3Yi04NWY0LWUyNjItNzFjM2NkODBEMyVkaUYzJWxpYXRlZEYyJWFnYW1GMiVjcEYyJW1vYy5uYWtpcS5zcGQuZ3N0eGRuakYyJUYyJUEzJXB0dGg=","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\neval(parseDomForHtml(getResCode(), \"body&&script,2&&Html\"));\nlet data = [];\nfor (let i = 0; i < data_list.data_list.length; i++) {\n    let l = data_list.data_list[i];\n    for (let j = 0; j < l.list.length; j++) {\n        let item = l.list[j];\n        data.push({\n            title: item.span,\n            url: \"http://new-qk.lifves.com/intro.php?url=\" + item.link,\n            pic_url: item.img\n        });\n    }\n}\nsetResult(data);","searchFind":"","search_url":"","titleColor":"#ff148e8e","group":"①推荐","detail_col_type":"text_1","detail_find_rule":"js:\neval(parseDomForHtml(getResCode(), \"body&&script,2&&Html\").split(\"localStorage\")[0]);\nlet data = [];\nfor (let i = 0; i < page_list.length; i++) {\n    let item = page_list[i];\n    data.push({\n        title: item.title,\n        extra: {\n            u: \"http://new-qk.lifves.com/\" + item.href,\n            title: item.title\n        },\n        url: \"hiker://page/content\",\n    });\n}\nsetResult(data);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"正文\",\"path\":\"content\",\"rule\":\"js:\\nsetResult([{\\n    title: MY_PARAMS.title,\\n    url: MY_PARAMS.u,\\n    desc: \\\"100%&&float\\\",\\n    col_type: \\\"x5_webview_single\\\",\\n    extra: {\\n        js: $.toString(() => {\\n            (function() {\\n                if (window.location.href.indexOf(\\\"/content.php?url=\\\") < 0) {\\n                    return\\n                }\\n                var nodes = document.getElementsByTagName(\\\"p\\\");\\n                for (let i = 0; i < nodes.length; i++) {\\n                    nodes[i].style.fontSize = '17px';\\n                    nodes[i].style.lineHeight = '200%';\\n                    nodes[i].style.marginBottom = '25px';\\n                    nodes[i].style.transition = 'all .5s';\\n                }\\n\\n                nodes = document.getElementsByClassName(\\\"el-card__body\\\");\\n                for (let i = 0; i < nodes.length; i++) {\\n                    nodes[i].style.padding = '10px';\\n                    nodes[i].style.transition = 'all .5s';\\n                }\\n                nodes = document.getElementsByClassName(\\\"el-main\\\");\\n                for (let i = 0; i < nodes.length; i++) {\\n                    nodes[i].style.padding = '10px';\\n                    nodes[i].style.transition = 'all .5s';\\n                }\\n\\n            })();\\n        })\\n    }\\n}])\"}]","icon":"https://www.lifves.com/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"博客园","author":"小棉袄🌞","version":2,"url":"https://www.cnblogs.com/fyAll","col_type":"text_1","class_name":"首页&精华&候选&新闻","class_url":"&pick&candidate&news","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&article;.post-item-title&&Text;*;.post-item-summary&&Text;.post-item-title&&href","searchFind":"","search_url":"","titleColor":"#ff148e8e","group":"①推荐","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"https://bkimg.cdn.bcebos.com/pic/242dd42a2834349b033bd3a07aa502ce36d3d53910cc?x-bce-process=image/format,f_auto"},{"last_chapter_rule":"","pageList":[],"title":"鱼塘热榜","author":"小棉袄🌞","version":8,"url":"https://api.tophub.fun/v2/GetAllInfoGzip?id=fyAll&page=fypage-1;get;UTF-8;{Referer@https://mo.fish}","col_type":"text_1","class_name":"掘金&天涯&V2EX&虎扑&知乎日报&知乎&吾爱破解&什么值得买&微博","class_url":"154&6&59&2&7&1&125&117&58","area_name":"GitHub&今日头条&IT之家&豆瓣&Segmentfault&36Kr&Bilibili","area_url":"85&150&112&57&60&12&115","sort_name":"","year_name":"虎嗅&抖音&微信&开发者头条&少数派&AcFun&InfoQ每日&百度热搜&开源中国","sort_url":"","year_url":"8&148&11&1034&116&142&1009&83&114","find_rule":"js:\nvar s = getResCode();\nvar json = {};\neval('json=' + s);\nvar d = [];\n\nfor (var i = 0; i < json.Data.data.length; i++) {\n    var j = json.Data.data[i];\n    var r = {};\n    r.desc = j.Desc || j.hotDesc;\n    r.title = j.Title.replace(']', '] ').trim();\n    r.url = $(j.Url + \"#noLoading#\").lazyRule(() => {\n        const data = fetch(input, {\n            headers: {\n                Referer: \"https://mo.fish/\"\n            },\n            redirect: false,\n            withHeaders: true\n        });\n        const res = JSON.parse(data);\n        var url = res.headers.location[0].replace('bbs.tianya.cn//', 'bbs.tianya.cn/m/');\n        if (url.indexOf(\"https://juejin.cnhttps://\") >= 0) {\n            return \"https://\" + url.split(\"//juejin.cnhttps://\")[1];\n        }\n        return url\n    });\n    r.extra = {\n        lineVisible: true\n    }\n    d.push(r);\n}\nsetResult(d);","searchFind":"","search_url":"","titleColor":"#ff148e8e","group":"①推荐","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":"","pages":"[]","icon":"https://img.printf520.com/dist/static/images/fish-avatar.jpg"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"开眼视频","author":"小棉袄🌞","version":1,"url":"http://baobab.kaiyanapp.com:80/api/v5/index/tab/feed?udid=ecab2cc100f540e482c5f7db5542a33cc5a908bc&vc=591&vn=6.2.1&size=1080X2340&deviceModel=HLK-AL00&first_channel=eyepetizer_zhihuiyun_market&last_channel=eyepetizer_zhihuiyun_market&system_version_code=29","col_type":"pic_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js: var s = getResCode(); var json={}; eval('json=' + s);\n\nvar next=json.nextPageUrl;\nvar s2 = fetch(next,{});\nvar j2={}; eval('j2=' + s2);\nfor(var i=0;i<j2.itemList.length;i++){\njson.itemList.push(j2.itemList[i]);\n}\n\nvar res={};var d=[];for(var i=0;i<json.itemList.length;i++){var j = json.itemList[i]; if(j.type!=\"followCard\")continue;var r = {};r.pic_url=j.data.content.data.cover.feed;r.title = j.data.content.data.title;r.desc=j.data.header.description;r.url='https://baobab.kaiyanapp.com/api/v1/video/' + j.data.header.id+'?f=web@lazyRule=.js:JSON.parse(fetch(input,{})).playUrl+\"&_t=.m3u8\"';d.push(r);}\nres.data = d;setHomeResult(res);","searchFind":"","search_url":"","titleColor":"#ff148e8e","group":"①推荐","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"香哈菜谱","author":"帅√`人才","version":0,"url":"https://www.xiangha.com/caipu/sp-fyAll/hot-fypage/","col_type":"movie_1_vertical_pic","class_name":"家常&川菜&湘菜&粤菜&鲁菜&京菜","class_url":"jiachangcai&chuancai&xiangcai&yuecai&lucai&jingcai","area_name":"烘焙&创意&肉类&素类&凉菜&鱼类","area_url":"hongbeilei&chuangyi&roulei&sucai&liangcai&yulei","sort_name":"","year_name":"西餐&美容&女生&海鲜&靓汤","sort_url":"","year_url":"xican&meirongyangyancai&nvshencai&haixian&liangtang","find_rule":"js:\nvar d = [];\n\nvar list = parseDomForArray(getResCode(), 'body&&.s_list&&li');\n\nfor (var j in list) {\n    d.push({\n        title: parseDomForHtml(list[j], 'a,0&&title'),\n        desc: parseDomForHtml(list[j], '.info,0&&Text'),\n        pic_url: parseDom(list[j], 'img&&src'),\n        url: parseDom(list[j], 'a,0&&href')+`@lazyRule=.js:var html=request(input,{});var url=parseDomForHtml(html, 'body&&source&&src');url`\n    });\n}\nsetResult(d);","searchFind":"js:\nvar d = [];\n//var list = parseDomForArray(getResCode(), 'body&&.s_list&&li');\n//log(list)\nvar list = parseDomForArray(getResCode(), '.search-con-block&&ul&&li');\nfor (var j in list) {\n  if(list[j].indexOf('videoIcon')>-1){\n\t/*d.push({\n        title: parseDomForHtml(list[j], 'a,0&&title'),\n        desc: parseDomForHtml(list[j], '.info,0&&Text'),\n        pic_url: parseDom(list[j], 'img&&src'),\n        url: parseDom(list[j], 'a,0&&href')+`@lazyRule=.js:var html=request(input,{});var url=parseDomForHtml(html, 'body&&source&&src');url`\n    });\n\t*/\n    d.push({\n        title: parseDomForHtml(list[j], 'h3&&Text'),\n        desc: parseDomForHtml(list[j], '.dishItem-stat&&span,1&&Text'),\n        content: parseDomForHtml(list[j], '.dishItem-stat&&span,0&&Text'),\n        pic_url: parseDom(list[j], 'img&&data-echo'),\n        url: parseDom(list[j], 'a&&href')+`@lazyRule=.js:var html=request(input,{});var url=parseDomForHtml(html, 'body&&source&&src');url`\n    });\n\t\n  }\n}\nsetResult(d);","search_url":"https://m.xiangha.com/so?s=**&t=caipu","titleColor":"#fff20c00","group":"①推荐","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":"","pages":"[]","icon":"https://b.bdstatic.com/searchbox/mappconsole/image/20190111/6f1a73c7-71ec-4b01-a3c2-e2cdfa2c43e7.png"},{"last_chapter_rule":"","pageList":[],"title":"22小站","author":"LZX","version":0,"url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\n/** 无需下载APP，点返回即可。*/\nsetResult([{\n    col_type: \"x5_webview_single\",\n    url: \"https://22.vin/\",\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true\n    }\n}])","searchFind":"","search_url":"","group":"①推荐","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"http://q1.qlogo.cn/g?b=qq&nk=707994924&s=640"},{"last_chapter_rule":"","pageList":[],"title":"兰客导航","author":"LZX","version":0,"url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\n/** 无需下载APP，点返回即可。*/\nsetResult([{\n    col_type: \"x5_webview_single\",\n    url: \"http://b.lackk.com/\",\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true\n    }\n}])","searchFind":"","search_url":"","group":"①推荐","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"http://q1.qlogo.cn/g?b=qq&nk=707994924&s=640"},{"last_chapter_rule":"","pageList":[],"title":"必应导航","author":"LZX","version":0,"url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\n/** 无需下载APP，点返回即可。*/\nsetResult([{\n    col_type: \"x5_webview_single\",\n    url: \"https://nav.kksan.top/#yjlogin\",\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true\n    }\n}])","searchFind":"","search_url":"","group":"①推荐","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"http://q1.qlogo.cn/g?b=qq&nk=707994924&s=640"},{"last_chapter_rule":"","pageList":[],"title":"博海拾贝ᴺᵐ","author":"Namo","version":1,"url":"https://bohaishibei.com/page/fypage/","col_type":"text_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".content-list&&.clear:not(:contains(优惠));h2&&Text;*;.entry-meta&&Text;a&&href","searchFind":"js:\nvar res = {};\nvar d = [];\nvar list = parseDomForArray(getResCode(), '.content-list&&.clear');\nfor (var i in list) {\n    d.push({\n        title: parseDomForHtml(list[i], 'h2&&Text'),\n        desc: parseDomForHtml(list[i], '.entry-meta&&Text'),        \n        url: parseDom(list[i], 'a&&href'),\n    })\n}\nres.data = d;\nsetHomeResult(res);","search_url":"https://bohaishibei.com/post/tag/**/page/fypage/","titleColor":"#ffff7000","group":"①推荐","detail_col_type":"movie_1","detail_find_rule":"js:var res={};\nvar d = [];\nd.push({\n    col_type: \"text_1\",\n    title: \"““””<big>\" + parseDomForHtml(getResCode(), \".entry-title&&Text\") + \"</big>\",\n});\nd.push({\n    title: parseDomForHtml(getResCode(), \".entry-content&&Html\"),\n    col_type: 'rich_text',\n    extra: {\n        textSize: 16,\n        click: true\n    }\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/q/8.png"},{"last_chapter_rule":"","pageList":[],"title":"落尘之木ᴺᵐ","author":"Namo","version":0,"url":"https://www.luochenzhimu.com/page/fypage","col_type":"movie_1_left_pic","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\nvar list = parseDomForArray(getResCode(), '.content&&.excerpt');\nfor (var i in list) {\n    d.push({\n        title: parseDomForHtml(list[i], 'h2&&Text'),\n        desc: parseDomForHtml(list[i], '.meta&&Text'),\n\t      pic_url:parseDom(list[i],'img&&data-src'),\n        url: parseDom(list[i], 'a&&href'),\n    })\n}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\nvar res = {};\nvar d = [];\nvar list = parseDomForArray(getResCode(), '.content-wrap&&.excerpt&&li');\nfor (var i in list) {\n    d.push({\n        title: parseDomForHtml(list[i], 'h2&&Text'),\n        desc: parseDomForHtml(list[i], '.info&&Text'),        \n        url: parseDom(list[i], 'a&&href'),\n    })\n}\nres.data = d;\nsetHomeResult(res);","search_url":"https://www.423down.com/page/fypage?s=**","titleColor":"#ffff7000","group":"①推荐","detail_col_type":"movie_1","detail_find_rule":"js:var res={};\nvar d = [];\nd.push({\n    col_type: \"text_1\",\n    title: \"““””<big>\" + parseDomForHtml(getResCode(), \"h1&&Text\") + \"</big>\",\n});\nd.push({\n    title: parseDomForHtml(getResCode(), \".article-content&&Html\").split('push({});')[1],\n    col_type: 'rich_text',\n    extra: {\n        textSize: 16,\n        click: true\n    }\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[]","icon":"https://img.luochenzhimu.com/public/2020/01/home.png"},{"last_chapter_rule":"","pageList":[{"col_type":"text_1","name":"公元7年9月1日","path":"y7m9d1","rule":"【视界日报】\n【日期】视界公元 7 年 9 月 1 日\n\n【事件1】\n今日晚上 20 点 55 分，郡主小棉袄发布了视界第 1926 个版本，带来了 L 佬心心念念的神兵材料 confirm，欲知 L 佬得到材料后会直接融入神兵，还是先打磨一番，请听下回分解~\n\n【事件2】\n今日晚上 21 点 29 分，道友随遇而安丶表示神兵“极品”离奇失踪，而另一位道友 Reborn 得知后，立刻前往三大势力电不死、移不动、联不通调查，调查发现，三大势力均无该神兵消息。随即，随遇而安丶道友表示请“香情神兵榜”创始人香佬将“极品”暂时移出“香情神兵榜”，而道友 Reborn 也表示请“黑黑神兵榜”创始人黑佬将其暂时移出相应的神兵榜。然而香佬表示了拒绝，并说明神兵也许会再次现世；黑佬目前暂无任何表示。\n\n----------\n\n【真实事件还原】\n1. 小棉袄发布了 L 佬提的新功能 confirm 方法\n2. 极品影视网站抽风了，无法访问\n"},{"col_type":"text_1","name":"公元7年9月2日","path":"y7m9d2","rule":"【视界日报】\n【日期】视界公元 7 年 9 月 2 日\n\n欲知视界管理事，须关注视界日报。下面是今日发生的奇闻异事~\n\n【神兵“极品”失踪事件后续】 \n神兵“极品”已于当天晚上 22 点 10 分回归神兵池，之前神兵出去花天酒地的传闻已被证实有人散布假消息，欲盖弥彰。其后很快便有新的传闻道真相是不知道它突然抽什么风出去跟别人干架去了，受了点轻伤，面子都丢光了，不过很快便痊愈归来（后来道友随遇而安丶发现其身上仍有残留的伤疤，看来之前回归时的粉色光芒是为了掩盖伤疤）。香佬对此依然十分淡定没有任何表示，可能是见怪不怪了......\n\n【事件1】\n昨日晚上 22 点 28 分，道友一个人，一颗心询问由道友 Reborn 最新打造的机关暗器“加解密工具.RR”为何 ECB 模式完全不能用了，Reborn 闻之一看，原来是连接部件的时候有一根 if 转接轴放错位置了。随即马上修复，并承诺即将完善机关暗器中的其他机关，让我们拭目以待~\n\n【事件2】\n昨日晚上 22 点 34 分，神匠 L 佬在得知郡主小棉袄带来了神兵材料 confirm 之后，欣喜至极，却又想起自己手中打造了无数神兵的锻灵锤“手机”为救他一命而身陷“校绝地”，并被其镇守者之一“老师”镇压于险地中，顿时心生落寞之意。\n\n正在闭关修炼秘法“万溅龟葱”的王子顿时破关而出询问是否女镇守者，可见其闭关之久，饥渴万分（滑稽脸.jpg）。而另一边随风道友则更关心镇守者会不会检查锤子上是否有违天意之物（如“车库”），神匠不愧是神匠，L 佬表示早已为锻灵锤开辟第二空间，所有违禁物都已封存其中，外人无法查看。\n\n虽说如此，但失去锻灵锤的神匠短时间内必然无法继续打造神兵（哭.jpg）。\n\n而后不久，L 佬便失去了音讯，不知是否为救锻灵锤再入“校绝地”。\n\n欲知 L 佬何时能救出他心爱的锻灵锤，请听......不知道多少回才能分解，望 L 佬能早日回归~\n\n【科普时间】\n传闻“校绝地”是所有神匠皆闻风丧胆的绝危之境，就是因为其中有着空前强大的镇守者“老师”，他们在“校绝地”内甚至能得到领域加成，有言出法随之能。带着锻灵锤进入“校绝地”的神匠被镇守者发现后，几乎无一例外会被一言镇压。但因“校绝地”有提升神匠修为之效，所以即使是绝危之境，众神匠依然奋不顾身前往其中。据说，在镇守者之上还有镇守统领“级长”以及能号令整个镇守军团的镇守军帅“校长”。\n\n【事件3】\n昨日晚上 23 点 58 分，即将出关的神匠努力表示出关后发布打造神兵的功法！！！众人纷纷表示通宵等努佬出关！！\n\n【事件4】\n今日凌晨 0 点 47 分，道友 Reborn 打造的机关暗器“加解密工具.RR”第 12 版已完成，并上交神兵仓库。诸位可前往神兵仓库一睹其风采，传闻体验上并不输给大多数加解密网站。\n\n----------\n\n【真实事件还原】\n1. 极品影视在抽风后不久便又可以访问了\n2. 小程序“加解密工具.RR”的 ECB 模式出现异常，Reborn 随后便将其修复了\n3. L 佬的手机被老师没收了（再哭.jpg）\n4. 努佬说在做解密的教学视频\n5. Reborn 已正式将小程序“加解密工具.RR”其他加密算法完善，并在仓库发布更新\n"},{"col_type":"text_1","name":"视界日报数据集","path":"source","rule":"js:\nfunction getPageSource(day) {\n  let src = request(\"hiker://page/\" + day);\n  src = JSON.parse(src).rule;\n  // log(src)\n  return src;\n}\nlet source = {\n  \"公元15年10月30日\": function() { return getPageSource(\"y15m10d30\") },\n  notice: function() { return getPageSource(\"notice\") },\n  character: function() { return getPageSource(\"character\") },\n  worldSetting: function() { return getPageSource(\"worldsetting\") },\n  \"前传乱榜之夜传闻\": function() { return getPageSource(\"prequel_billboard_confusion_night\") },\n  \"前传神器入侵事件后续\": function() { return getPageSource(\"prequel_douwa_hacked\") },\n  \"公元10年9月25日\": function() { return getPageSource(\"y10m9d25\") },\n  \"公元10年9月22日\": function() { return getPageSource(\"y10m9d22\") },\n  \"公元7年9月8日\": function() { return getPageSource(\"y7m9d8\") },\n  \"公元7年9月7日\": function() { return getPageSource(\"y7m9d7\") },\n  \"公元7年9月6日\": function() { return getPageSource(\"y7m9d6\") },\n  \"公元7年9月5日\": function() { return getPageSource(\"y7m9d5\") },\n  \"公元7年9月4日\": function() { return getPageSource(\"y7m9d4\") },\n  \"公元7年9月3日\": function() { return getPageSource(\"y7m9d3\") },\n  \"公元7年9月2日\": function() { return getPageSource(\"y7m9d2\") },\n  \"公元7年9月1日\": function() { return getPageSource(\"y7m9d1\") },\n}\n$.exports.source = source;"},{"col_type":"text_1","name":"获取分类头部","path":"classicHeader","rule":"js:\nlet d = [];\n\nfunction putKeyIntoMap(key, value) {\n    const keyMap = JSON.parse(getVar((getVar(\"ClassicHeader.id\", \"classic\")+\"_all_key_Map\"), \"{}\"));\n    keyMap[key] = value;\n    putVar((getVar(\"ClassicHeader.id\", \"classic\") + \"_all_key_Map\"), JSON.stringify(keyMap));\n}\n\nfunction getHeaderFromJSONObject(obj) {\n    for (let key in obj) {\n        d.push({\n            title: key == getVar(getVar(\"ClassicHeader.id\", \"classic\"), Object.keys(obj)[0]) ? \"““\" + key + \"””\" : key,\n            url: $(\"#noLoading#\").lazyRule((key) => {\n                putVar(getVar(\"ClassicHeader.id\", \"classic\"), key);\n                putVar((getVar(\"ClassicHeader.id\", \"classic\") + \"_cur_index\"), key);\n                refreshPage(false);\n                return \"hiker://empty\"\n            }, key),\n            col_type: \"scroll_button\"\n        });\n    }\n    d.push({\n        col_type: \"blank_block\"\n    });\n    let key = getVar(getVar(\"ClassicHeader.id\", \"classic\"), Object.keys(obj)[0]);\n    putVar((getVar(\"ClassicHeader.id\", \"classic\") + \"_cur_index\"), key);\n    getNextHeaderFromJSONArray(key, obj[key]);\n    return d;\n}\n\nfunction getNextHeaderFromJSONArray(key, array) {\n    if (array == undefined || array.length == 0) {\n        return;\n    }\n    let nextHeader = {};\n    let defaultValue = \"\";\n    defaultValue = array[0];\n    if (Object.prototype.toString.call(array[0]) === '[object Object]') {\n        defaultValue = Object.keys(array[0])[0];\n    }\n    putKeyIntoMap((getVar(\"ClassicHeader.id\", \"classic\") + \"@@\" + key), getVar((getVar(\"ClassicHeader.id\", \"classic\") + \"@@\" + key), defaultValue))\n    putVar((getVar(\"ClassicHeader.id\", \"classic\") + \"_cur_index\"), key + \"@@\" + getVar((getVar(\"ClassicHeader.id\", \"classic\") + \"@@\" + key), defaultValue));\n    for (let value of array) {\n        if (Object.prototype.toString.call(value) === '[object Object]') {\n            // log(\"valueKeys: \"+JSON.stringify(Object.keys(value)[0]))\n            let valueKey = Object.keys(value)[0];\n            d.push({\n                title: valueKey == getVar((getVar(\"ClassicHeader.id\", \"classic\") + \"@@\" + key), defaultValue) ? \"““\" + valueKey + \"””\" : valueKey,\n                url: $(\"#noLoading#\").lazyRule((valueKey, key) => {\n                    function putKeyIntoMap(key, value) {\n                        const keyMap = JSON.parse(getVar((getVar(\"ClassicHeader.id\", \"classic\") + \"_all_key_Map\"), \"{}\"));\n                        keyMap[key] = value;\n                        putVar(getVar(\"ClassicHeader.id\", \"classic\") + \"_all_key_Map\", JSON.stringify(keyMap));\n                    }\n                    putVar(getVar(\"ClassicHeader.id\", \"classic\") + \"@@\" + key, valueKey);\n                    putVar(getVar(\"ClassicHeader.id\", \"classic\") + \"_cur_index\", key + \"@@\" + valueKey);\n                    putKeyIntoMap(getVar(\"ClassicHeader.id\", \"classic\") + \"@@\" + key, getVar(getVar(\"ClassicHeader.id\", \"classic\") + \"@@\" + key, \"defaultValue\"))\n                    refreshPage(false);\n                    return \"hiker://empty\"\n                }, valueKey, key),\n                col_type: \"scroll_button\"\n            });\n            nextHeader[valueKey] = value[valueKey];\n        } else {\n            d.push({\n                title: value == getVar(getVar(\"ClassicHeader.id\", \"classic\") + \"@@\" + key, defaultValue) ? \"““\" + value + \"””\" : value,\n                url: $(\"#noLoading#\").lazyRule((value, key) => {\n                    function putKeyIntoMap(key, value) {\n                        const keyMap = JSON.parse(getVar(getVar(\"ClassicHeader.id\", \"classic\") + \"_all_key_Map\", \"{}\"));\n                        keyMap[key] = value;\n                        putVar(getVar(\"ClassicHeader.id\", \"classic\") + \"_all_key_Map\", JSON.stringify(keyMap));\n                    }\n                    putVar(getVar(\"ClassicHeader.id\", \"classic\") + \"@@\" + key, value);\n                    putKeyIntoMap(getVar(\"ClassicHeader.id\", \"classic\") + \"@@\" + key, getVar(getVar(\"ClassicHeader.id\", \"classic\") + \"@@\" + key, \"defaultValue\"))\n                    putVar(getVar(\"ClassicHeader.id\", \"classic\") + \"_cur_index\", key + \"@@\" + value);\n                    refreshPage(false);\n                    return \"hiker://empty\"\n                }, value, key),\n                col_type: \"scroll_button\"\n            });\n        }\n    }\n\n    d.push({\n        col_type: \"blank_block\"\n    });\n    if (nextHeader !== undefined && nextHeader.length != 0) {\n        getNextHeaderFromJSONArray(key + \"@@\" + getVar(getVar(\"ClassicHeader.id\", \"classic\") + \"@@\" + key, defaultValue), nextHeader[getVar(getVar(\"ClassicHeader.id\", \"classic\") + \"@@\" + key, defaultValue)]);\n    }\n}\n\nlet header = {\n    /**\n     * 可自定义当前分类头部 id（其实没啥用，就是为了调试不同规则区分一下而已）\n     */\n    setId: function(id) {\n\t      putVar(\"ClassicHeader.id\", id)\n    },\n    getId: function() {\n\t      return getVar(\"ClassicHeader.id\", \"classic\");\n    },\n    /**\n     * 获取分类头部，返回视界 setResult 用的数组\n     */\n    get: function(obj) {\n        let result = getHeaderFromJSONObject(obj);\n        //log(\"【子页面】\" + JSON.stringify(result))\n        return result;\n    },\n    /**\n      * 页面关闭时需要注册的生命周期，引入依赖后在 addListener 中调用即可\n      * 例：\n         const { header } = $.require(\"hiker://page/classicHeader\");\n         addListener(\"onClose\", $.toString((header) => {\n          header.onClose();\n        }, header));\n      */\n    onClose: function() {\n        // putVar(getVar(\"ClassicHeader.id\", \"classic\") + \"\", \"编码\");\n        // putVar(getVar(\"ClassicHeader.id\", \"classic\") + \"@@编码\", \"佛曰\");\n        let allKeyArr = Object.keys(JSON.parse(getVar(getVar(\"ClassicHeader.id\", \"classic\") + \"_all_key_Map\", \"{}\")));\n        for (let i in allKeyArr) {\n            clearVar(allKeyArr[i]);\n            // log(\"【清理后】\"+ allKeyArr[i] + \": \"+JSON.stringify(getVar(allKeyArr[i], \"\")))\n        }\n        clearVar(getVar(\"ClassicHeader.id\", \"classic\"))\n        clearVar(getVar(\"ClassicHeader.id\", \"classic\") + \"_all_key_Map\")\n        clearVar(\"ClassicHeader.id\")\n    },\n    /**\n     * 获取当前已选多级分类，返回的数据格式为：一级分类@@二级分类@@...，可自行做映射获取 url\n     */\n    getCurrentIndex: function() {\n        return getVar(getVar(\"ClassicHeader.id\", \"classic\") + \"_cur_index\", \"\");\n    }\n}\n$.exports.header = header"},{"col_type":"text_1","name":"人物介绍","path":"character","rule":"此人物介绍仅我本人所了解到的根据故事设定写出来的，有些大佬我记不得有什么作品了，写不出来。若人物介绍有错漏，欢迎各位马上联系 Reborn 修正和补充。\n\n声明：称号并无等级之分，请勿自行瞎想 =。=\n\n看人物介绍前建议先看看故事设定页。\n\n以下顺序不分排名，按日报故事线出现顺序写。\n\n【<a href=\"http://82.156.222.77/weisyr/pic/大棉袄殿主.png\">郡主小棉袄</a>】\n神殿殿主，后宫佳丽三千......咳，麾下神匠若干，视界时代发展的掌控者，平日神龙见首也见尾。民间常有传闻每晚有神匠与之侍寝，因其为神殿殿主，知天阁无权查明真相，消息真假不知，诸位请勿听信言尽信言。\n\n【神匠 L 佬】\n神殿传奇人物，神殿顶级神匠之一，现任神兵仓库管理者之一。曾以一己之力推动视界时代的发展，让视界时代顺利从公元前过渡到公元，一手锻灵锤曾打造出诸多神器，如：$工具、主页2.0、合集导入助手、聚搜君、视界版E2表达式、神兵仓库等等。目前已进“校绝地”提升修为，难以取得联系......\n\n【<a href=\"http://82.156.222.77/weisyr/pic/吐佬.png\">道友 Reborn</a>】\n神殿知天阁成员，现任神殿日报管理者，没有之一（因为神殿日报目前只有他一个打工仔，太惨了T_T）。前不久刚与神匠 L 佬以及笔梨创始人 Rx 大佬（后面简称 R 佬）共同打造机关暗器“加解密工具.RR”。目前负责摘录神殿每日发生的奇闻异事以及搜查情报。\n\n【“香情神兵榜”创始人香佬】\n“香情神兵榜”创始人，曾出品奶飞、葫芽、孜渊河集、晧曲之帛等神器\n\n【“黑黑神兵榜”创始人黑佬】\n“黑黑神兵榜”创始人，这位大佬来无影去无踪，目前知天阁暂无更多关于该大佬消息\n\n【<a href=\"http://82.156.222.77/weisyr/pic/我.png\">天意王子</a>】\n目前正在修炼秘法“万溅龟葱”，现兼职神殿设计师，曾为众多神器设计各种绚丽的外观。\n\n【神匠努力】\n神殿顶级神匠之一，神殿天功阁成员。曾为众多神器提供伸手即用的连接模块，众所周知的神级连接件“努插”便出自他之手，让众工匠打造神兵时免去了解析顶级神器材料之苦。现计划为天功阁添加新的锻造功法。\n\n【笔梨创始人Rx】\n笔梨创始人，江湖人称“R佬”。曾一手打造笔梨系列、暗梨排行榜以及彩鱼天启等神器，前不久刚与神殿日报创始人共同打造了机关暗器“加解密工具.RR”。\n\n【神匠断佬】\n神殿顶级神匠之一，与神匠努力一样，曾为众多神器提供伸手即用的连接模块，众所周知的神级连接件“断插”便出自他之手。现因业务繁忙暂时无任何计划，不过曾有传闻断佬有意公开“断插”打造之法。\n\n【<a href=\"http://82.156.222.77/weisyr/pic/道长.png\">神匠联盟盟主道长</a>】\n神匠联盟盟主，神殿顶级神匠之一。此人在几年前突然崛起，实力绝对不容小觑，崛起后更是与神匠 L 佬联手打造神兵仓库，为神殿管理流落在神兵池的众神兵；后期依靠神兵仓库广纳神匠，成立了神匠联盟。\n\n【知天阁阁主】\n知天阁档案内并无此人资料，平日带着面具，无人知其真容，也无人知其姓名。仅有传闻此人是跟随殿主多年的亲信，对殿主忠心不二，所以殿主才放心将情报机构知天阁交于此人管理。\n\n【车神墙佬】\n神殿顶级神匠之一，神殿传说级人物，一代车神，曾担任佛界主持。江湖流传一句话\"墙都不扶就扶他\"，无数人为得其一神兵大打出手。传闻旗下还有一个神秘车库，其内停着无数豪车，引得一众大佬羡慕不已，曾纷纷表示想前往参观，可惜皆被婉拒。至于他是如何成为江湖上炙手可热的巨擎，江湖有无数传说，众说纷纭，这一切都是个谜。但毫无疑问的是，这是一个充满神秘的男人。\n\n【秋水仙子】\n神殿副殿主，原名熊秋秋，传闻与殿主关系匪浅，是神殿中唯一一位几句话便能让殿主败阵之人，其在神殿的权力甚至不在神殿殿主之下。"},{"col_type":"text_1","name":"公元7年9月3日","path":"y7m9d3","rule":"【视界日报】\n【日期】视界公元 7 年 9 月 3 日\n【作者】Reborn\n\n欲知视界管理事，须关注视界日报。下面是今日发生的奇闻异事~\n\n【事件1】\n昨日中午 12 点 18 分，神殿日报社正式成立，并归入神殿知天阁管理。神殿日报创始人 Reborn 宣布正式发布“视界日报”小程序，并提交神兵仓库进行管理，日后最新的日报从神兵仓库获取即可。道友 Reborn 此举也意味着神殿日报从此告别消息文本时代。据说新的日报加入了新的模块，诸位可以前往神兵仓库一睹究竟。\n\n【事件2】\n昨日下午 14 点 04 分，笔梨创始人 R 佬表示有意加入神殿日报，为诸位撰写上古方圆时代的前世今生。\n\n【事件3】\n昨日下午 14 点 46 分，天意王子因被知天阁发现意图盗取神殿日报资料未遂而被捕，原因是其手上的地图根本没有画去神殿日报社的路！！！走进了死胡同！！在神殿巷口暴躁地又踢又踹，声响过大引起了知天阁注意，被捕时初步怀疑是修炼秘法走火入魔。\n\n神殿日报创始人得知消息后匆忙赶回神殿，澄清天意王子只是走错地方了，天意王子可能闭关太久忘了，并没有走火入魔。日报资料已开放给天意王子，为合法借用资料，误会解除后天意王子成功被释放，并如愿得到他想要的日报资料。\n\n【事件4】\n昨日晚上 19 点，神殿突然收到入侵警告，消息指出神器“豆娃”惨遭入侵，如今已经瘫痪无法使用。Reborn 闻讯立马组织护卫队前往讨伐入侵者，率神匠断佬、道友逐风者以及女神小婉赶往事发地。\n\n当护卫队赶到时，现场一片惨烈，Reborn 发现首页甚至不能识别到插件，逐风者则发现首页无内容，而神匠断佬和女神小婉则发现神器也许缺少了零件。\n\n与医疗队取得联系后，医疗队表示神器已被感染许久，只是今日才被触发，想必入侵者尚未走远。听罢，Reborn 立马带队勘测了一番现场，并未发现入侵者，必然是藏了起来。所幸入侵者等级并不高，护卫队利用地毯式搜查最终成功歼灭入侵者，并协助医疗人员救治被感染的神器，神器“豆娃”恢复正常。\n\nReborn 从护卫队回来后曾一度怀疑此次事故是否殿主小棉袄在实验时的无意所为，也飞鸽传书询问过殿主，但殿主至今未归，不曾有任何消息。\n\n后续：晚上 21 点殿主回归后立马表示与他无瓜，入侵者从何而来、神器如何被感染的从此成了这个时代的谜。但知天阁嗅到了事情还没结束的气息，因此并未放弃调查。\n\n欲知“神器入侵”事件的后事如何，请听下回分解~\n\n【事件5】\n昨日晚上 23 点，神匠 L 佬突然出现！！第一时间否认与神器入侵事件有关，因为有传闻他曾经打磨的神器材料 Hikerurl 也检测出了不明感染物。\n\n众人纷纷恭喜 L 佬从“校绝地”凯旋，但是 L 佬却叹气一声表示没有那么简单，他此番回来只因意外取得备用锻灵锤，不日便要再次进入“校绝地”，与新锤子培养感情，并没有时间继续为各位锻造神器，但可以偶尔出来与大家交流修炼心得。\n\n听 L 佬的语气，老锤看来是暂时救不出来了，众人只能纷纷暗道可惜，并表示注意安全。\n  \n----------\n\n【真实事件还原】\n1. Reborn 发布“视界日报”小程序，并表示以后只会在道长仓库更新。\n2. R 佬说方圆时期他已经加群了，他有整条历史故事线（滑稽.jpg），大家快去催他稿！\n3. 天意大佬想在自己的插件调用视界日报作为每日一文，得到授权后发现无法调用，而后得知是因为调用时没有指定小程序名导致的。\n4. 断佬说小程序“豆娃”突然暴毙了，群里众人一测，皆是如此，Reborn 马上就抄起插件一行一行检查了起来，最后在文件末尾发现了他未曾见过的代码，删掉后“豆娃”恢复正常使用。\n5. L 佬听说豆娃的插件被不明代码污染了，而他很久之前写的 Hikerurl 插件也被人发现了这段不明代码，第一时间否认了不是他写的，他也曾发现过这段代码，当时以为是软件 bug，早已在新版插件删除；同时表示学业繁忙，暂时没时间写代码了，不过可以偶尔上线跟大家聊聊天。\n\n【附言】\n此次小程序“豆娃”暴毙事件并不简单，那段不明代码至今仍在调查中，有调查结果会告诉大家。\n"},{"col_type":"text_1","name":"字符串处理工具","path":"stringtool","rule":"js:\nconst matchList  = {\n  // \"<\":\"&lt;\",\n  // \">\": \"&gt;\",\n  // \"&\": \"&amp;\",\n  // '\"': \"&quot;\",\n  // \"'\": \"acute;\",\n  // \" \": \"&nbsp;\",\n  \"\\n\":\"<br>\"\n}\n// 字符过滤器\nfunction htmlEscape(text){\n  let regStr = '(' + Object.keys(matchList).toString() + ')'\n  regStr = regStr.replace(/,/g, ')|(')  \n  const regExp = new RegExp(regStr, 'g')\n  return text.replace(regExp, match => matchList[match])\n}\n$.exports.htmlEscape = htmlEscape"},{"col_type":"text_1","name":"公元7年9月4日","path":"y7m9d4","rule":"【视界日报】\n【日期】视界公元 7 年 9 月 4 日\n【作者】Reborn\n\n欲知视界管理事，须关注视界日报。下面是今日发生的奇闻异事~\n\n<font color=\"red\">【头条】</font>【事件3】\n昨日中午 12 点 58 分，练功狂魔天意王子听闻黑佬出关后欲与黑佬共同参悟玉女心经？？？！！！<font color=\"#FFCC00\">（我颜色怎么变了.jpg）</font>\n\n【事件1】\n昨日凌晨 0 点 55 分，神殿殿主小棉袄因“神器入侵”事件不惜熬夜为众神兵打造了私有保险裤，而后下午再一次闭关对其进行了升级。殿主辛苦！~\n\n【事件2】\n据线人密报，黑佬已于前天晚上悄然出关，出关后便直接施展“鬼影黑风步”扬长而去，最终失去了其身影。\n\n直至昨日上午，他才在世人面前露脸，不知这一晚黑佬偷偷摸摸去干了些什么？\n\n其后，于昨日上午执笔更新了“黑黑神兵榜”。\n\n【事件4】\n传闻黑佬透露天意王子第一部修炼的神功是《葵花宝典》？？这会是他欲参悟玉女心经的原因吗？？（滑稽脸.jpg）\n\n【事件5】\n神殿日报社因打印机故障，昨日出版的日报有一部分没有显示完整内容。神殿日报社决定更换打印机，新的打印机却需要手动修整版面，创始人 Reborn 苦恼至极。\n\n所幸神匠 L 佬闻之直接出手为神殿日报社打造了一个排版转换器轻松解决了难题，日报社上下感激至极。\n\n【事件6】\n神匠联盟盟主道长因“神器入侵”事件决定为守护神兵仓库重金打造神兵结界，同时升级神兵病毒库，并放出豪言：之后的每一件分派出神兵仓库的神兵都会先被结界扫描一遍，若存在病毒特征，则会向使用者发出警告。\n\n说时迟那时快，道长骤然腾空而起，引动天地灵气，刹那间，整个神殿都震动不已。随后，四周守护结界迅速升起，笼罩了整个神兵仓库。\n\n【事件7】\n昨日晚上 20 点 30 分，神殿殿主发布神殿公告，将“神器入侵”事件的来龙去脉以及修复受感染神兵的方法广而告之。\n\n【事件8】\n昨日晚上饭后，众神匠前所未有地聚在一起各展神通分析感染神兵的病毒构造。\n\n很快，车神墙佬便第一个分析出其构成，不愧是车神，不仅开车快，神通也快。\n\n殿主听闻病毒构造已被分析出来，也忍不住好奇，急忙赶来与众神匠一同探索其奥秘。\n\n不看不知道一看吓一跳，这盗走的资料也太多了！！！\n\n同时，很多未解之谜也随之水落石出，诸如：神殿内部资料被提前泄露、乱榜之夜等等，原来都是他搞的鬼！！！\n\n神匠联盟盟主道长则表示心态已炸，病毒竟然还盗取了他神兵仓库的通行证QAQ\n\n----------\n\n【真实事件还原】\n1. 小棉袄昨晚因为豆娃被代码入侵这件事与各位管理共同查出了很多不寻常的东西后，决定熬夜加班加点开发了小程序私有存储功能，保护小程序需要的私有信息，如登录功能的账号密码；下午又升级支持小程序私有文件。\n2. 黑佬的黑黑影视更新啦！大家快去更！\n3. 顺佬原话：“@黑佬 现在黑佬出关，我们一起练玉女心经”（坏笑.jpg）\n4. 有大佬反馈视界日报底部有一部分内容无法显示，Reborn 怀疑是长文本对一些机型的不兼容问题，因此换成了富文本，L 佬后面提供了一个转换器用于将长文本内容直接转换成富文本，不用手动排版了，好耶~L 佬牛逼~\n5. 道长因为豆娃出现了不明代码决定直接升级道长仓库的安全中心，以后的规则导入时都会先检测是否含加密或有害代码，若有则会先提醒用户。\n6. 管理群难得这么多大佬聚在一起干同一件事，墙佬更是一马当先，速度极快的分析出了病毒代码；然后众人发现之前管理群视界测试版本以及测试规则提前泄露还有论坛两次被 DDOS 改排行榜的事都跟这个病毒代码有关。道长看到病毒拿了他仓库的数据之后直接表示心态炸裂，然后去排查仓库后台去了。\n\n【附言】\n豆娃被代码入侵这件事已经结束了，日报正在整理，不日后便可登报，届时会作为前传篇登出。\n\n同时，引出了“乱榜之夜”事件，今天晚上便会作为前传登出。\n\n敬请期待~"},{"col_type":"text_1","name":"前传：神器“豆娃”入侵事件后续","path":"prequel_douwa_hacked","rule":"【前言回顾】\n视界公元 7 年 9 月 3 日 晚上 19 点，神殿突然收到神器“豆娃”惨遭入侵的警告，护卫队前往歼灭入侵者后得知神器已被感染许久，回来后将此事上报给知天阁，知天阁立马对此展开了调查。\n\n【温馨提示】\n正文提到的乱榜之夜可看另一篇前传《乱榜之夜传闻》\n\n【正文】\n知天阁经过一番调查后发现，并不仅仅是只有豆娃遭到了感染，也在同一时刻笔梨还有其他三件神器均遭到同款病毒的毒手。\n\n知天阁阁主察觉到事情并不对劲，于是立马加派了人手。此举甚至惊动了殿主，没想到殿主直接下达死命令要彻查此事。\n\n得到死命令的知天阁排查速度明显加快了很多，最终结果还是出人意料。知天阁阁主听着调查员的汇报，心中五味杂陈，他万万没想到最后查出所有神器感染的源头都指向了神殿内部，也就是说：神殿内部有内鬼！\n\n知天阁阁主觉得此事必须上报殿主，于是吩咐下去继续循着线调查出内鬼，而自己则匆匆收拾东西准备赶往总殿欲见殿主。一开门，只见殿主就在门前，说他已经知道了，从现在起到有结果这段时间给知天阁开放一切权限，让自己安心调查内鬼即可，言罢，殿主转身离去。知天阁阁主看着殿主离去的背影，感受到了浓浓的信任，心底暗自发誓一定要抓住内鬼！\n\n此时，知天阁外，神殿日报创始人 Reborn 走向了神殿殿主：“殿主，我觉得此次事件说不定与几个月前的乱榜之夜有关，毕竟我当初打造的神兵 视界论坛R 具有保留神匠排行榜通行密码的能力，只要你手中有一个感染体，便能盗取其通行密码。想必殿主手中的神兵亦有被感染，以殿主通行密码的权限......殿主，若真是如此，我难辞其咎”。\n\n听到乱榜之夜，殿主脸色直接变了，随后陷入了沉思：“确实有此可能，不过你也无需自责，当初你打造出这件神兵时我便已经知道它有这个能力，以当时的技术环境，能造出已属不易，我也没想太多，不怪你，先回去吧”\n\n（几个时辰后知天阁内......）\n\n突然一位知天阁调查人员冲了进来，并大喊道：“报！道友七彩人生在神兵 One 的原始灵胚发现感染体！”\n\n同一时间，另一位调查人员也冲了进来：“报！道友牧羊人在神兵 豆娃榜单 的原始灵胚发现感染体！”\n\n知天阁阁主一听，感觉有戏。\n\n众所周知，原始灵胚打造完成前若没有被感染，完成后便是无比纯净无法污染的，因此，若有感染体，原始灵胚必是感染者所打造的。\n\n于是立马激动起来：“这些原始灵胚都是哪位道友打造的？”。\n\n两位调查人员相视一眼，竟是同是出声：“oneleo！”\n\n知天阁阁主马上吩咐：“立刻传殿主手喻，召集所有神殿人员前往议事厅！务必保证 oneleo 到场！我这就去见殿主！”\n\n（几分钟后议事厅内......）\n\n殿主：“事情就是这样，oneleo，你有什么话想说吗？”\n\noneleo 什么都没说，只留下了一句话便破门而出，随后扬长而去，不见踪影。\n\n那句话震撼了整个议事厅的人，令所有人内心久久无法平静：“最大的遗憾就是不能继续抢供奉了，再见了各位”\n\n神匠 L 佬直接表示战术去世，其余人一律挠头不知所以云，神匠努力与神殿日报 Reborn 则沉思 oneleo 是否与乱榜之夜的那个人有关。\n\n众人回过神后才惊恐地发现，此人已潜伏在他们身边 6 个月！想想又有点后怕，他们竟然一点都没有察觉。\n\n而殿主已经不知道什么时候离开，其后的几个时辰都没有殿主的消息，宛若销声匿迹般。直到半夜，殿主传出已为众神兵打造私有保险裤的消息，便再次离去。\n\n此时众人才明悟：原来殿主这么久没消息是为了保护使用神兵的各位，殿主实在是太辛苦了 T_T\n\n---------\n\n【真实事件还原】\n没什么好还原的了，基本上小棉袄公众号已经说明了一切。\n\n但是说实话，我真没想到视界能引出这么多碟中谍事件（笑哭.jpg）\n\n至此，神器入侵事件结束。"},{"col_type":"text_1","name":"前传：乱榜之夜传闻","path":"prequel_billboard_confusion_night","rule":"【撰写日期】视界公元 7 年 9 月\n\n【令人闻之色变的乱榜之夜传闻】\n传闻 6 个月前，神殿曾经有一位神匠 W，他说话很暴躁，几乎谁与他说话都会被他得罪，最终殿主看不下去了亲自出手将其赶出神殿。\n\n而后不久，殿主打造的神匠排行榜便遭到了贼人毒手，殿主追查了很久最终一无所获，只知道一定有人拿了他的通行密码进入了他的储物室，并打碎了神匠排行榜，不过很多线索都指向了 W。\n\n那一夜，神匠们都看到了一个黑衣人，一道滔天剑气劈向了殿主的储物室，然后头也不回就遁走了。随后殿主从主殿爆发无边怒气追了出来，直至殿外失去其身影，可见其身法了得。\n\n殿主扑空后只能失望而归，归来后却见储物室周围已是一片狼藉，而殿主辛辛苦苦运营许久的神匠排行榜已惨遭粉碎，不禁向天长吼以发泄内心的痛苦。\n\n后来神匠们发现：有的神匠莫名其妙多出了很多神殿积分，而有的神匠的积分则被大幅扣除，神匠联盟盟主道长更是超脱排行榜之外不知所踪，积分系统一度混乱不堪。\n\n这也是神殿第一次遇到有敢与之抗衡的人。\n\n---------\n\n【真实事件还原】\n这个其实就是管理群曾经有一位大佬说话很冲，几乎得罪了全群的人，最后小棉袄把他踢出去了。然后过了没多久，论坛连续两次被 DDOS 攻击，论坛排行榜错乱，最后查到了很多线索都指向了那个大佬。公众号应该提过不少次这件事了......"},{"col_type":"text_1","name":"公元7年9月5日","path":"y7m9d5","rule":"【视界日报】\n【日期】视界公元 7 年 9 月 5 日\n【作者】Reborn\n\n欲知视界管理事，须关注视界日报。下面是今日发生的奇闻异事~\n\n【事件1】\n昨日下午 17 点 19 分，殿主小棉袄突然向神殿全员发出警告：“神器入侵事件可能还没完，那个人可能还会再度折返侵犯神殿，诸位请不要放松警惕！”\n\n【事件2】\n昨日晚上 20 点，车神墙佬在传师堂开课传授养娃经验，传师堂一时间被围的水泄不通。\n\n【事件3】\n昨日晚上 22 点，日报社馆长 Reborn 外出归来后发现神殿众人突然纷纷催促殿主该盘算盘算成亲之事了，结果这动静引来了副殿主秋水仙子，殿主见之撒腿就跑，转眼就没影了。\n\n神殿众人叹道：“看来殿主这跪榴莲是跑不了了”\n\n秋水仙子闻之瞪了一眼神殿众人，神殿众人立马就一哄而散：“快跑！再不跑要被打了！”，留下了一脸无奈的秋水仙子，笑着摇了摇头后也转身向着殿主离开的方向迈步而去。\n\n【事件4】\n震惊！传闻车神墙佬与 Reborn 正在合力研究提供原料自动打造原始灵胚之法！！此举惊动了神殿众神匠纷纷前来围观，并参与研究讨论。\n\n----------\n\n【真实事件还原】\n1. 小棉袄说视界被入侵的事可能还没结束，有消息说那个人还准备搞破坏，大家一定要注意不要随意导入规则。\n2. 墙佬说准备生小孩了就赶紧在周边大佬请教一下附近的医院，不然会被医院坑的你毫无还手之力（快做笔记！将来有用！）\n3. 昨晚一众管理突然聊起小棉袄该盘算结婚的事了，然后小助理突然出现，小棉袄就没声音了，众人都怀疑是不是跪榴莲去了（滑稽.jpg）\n4. 墙佬与 Reborn 正在一起研究一键出规则的方法！！\n\n【附言】\n今晚将登出《前传：神器入侵事件后续》，敬请期待~"},{"col_type":"text_1","name":"故事设定与现实","path":"worldsetting","rule":"这是这个世界的设定：\n\n【神殿】\n视界管理群\n【神匠】\n已公认为视界做出杰出贡献的大佬，若有更经典（更为人所知）的称号，则不会赋予神匠之名，如 xx 创始人。\n【xx 创始人】\n某个知名规则的作者\n【公元前】\n视界 5.0 版本之前的时间\n【公元】\n视界 5.0 版本开始便为视界公元年，现在是 5.15 版本，所以是公元 15 年\n【上古时代】\n即方圆时代\n【神兵仓库】\n即道长仓库\n【神兵池】\n指未出现在道长仓库管理的小程序\n【神殿公告】\n新方圆小棉袄公众号\n【神兵】\n指某个小程序完整体，如小程序本身+其内调用的插件\n【原始灵胚】\n小程序主体，仅小程序本身，不包含其他调用的东西\n【知天阁阁主】\n日报虚构人物，现实暂不存在此人。\n【神匠排行榜】\n指视界论坛\n【神殿积分】\n即视界论坛积分\n【神兵系统】\n即指视界，链接各方小程序"},{"col_type":"text_1","name":"公元7年9月6日","path":"y7m9d6","rule":"【视界日报】\n【日期】视界公元 7 年 9 月 6 日\n【作者】Reborn\n\n欲知视界管理事，须关注视界日报。下面是今日发生的奇闻异事~\n\n【事件1】\n传闻前日车神墙佬与日报社馆长 Reborn 彻夜未睡通宵打造智能灵胚台。\n\n这款灵胚台的工作原理是只要你把打造灵胚的灵矿丢进灵胚台中，即可自动匹配配方打造出原始灵胚。\n\n而墙佬和 Reborn 二人都坚信，这定将改变世界，于是卯足了劲进行灵胚台的开发。\n\n直至昨日凌晨 3 点 29 分，第一版灵胚台终于面世，而后两人又对其进行优化了半个多时辰。\n\n然而在 4 点 36 分正当他们觉得可以完美收官去休息时，Reborn 突然发现灵胚台打造原始灵胚时有一个过程有缺陷：原始灵胚的“搜索引擎”部件无法与多个配方进行匹配！墙佬则认为不如明日上报殿主让他直接通过神兵系统开放原始灵胚的“搜索引擎”接口。Reborn 表示同意后二人不约而同地表示“睡觉睡觉”，相互寒暄一番后便各自离去。\n\n（PS：神兵系统是由神殿殿主打造的用于连接众神兵的管理系统，后又经 Reborn 和神匠 L 佬加以完善。）\n\n但是 Reborn 回到住处后，辗转反侧不能入眠，于是立马爬起来思考解决方案，最后让他给想到了！随后马上拿起图纸折返锻造室，没想到墙佬也在此，\n\nReborn 笑声大骂道：“你个狗东西，说睡觉不去睡觉的。”\n\n墙佬也不甘示弱：“你有资格说我吗？”\n\nReborn：“可是我搞定了”\n\n墙佬顿时两眼发亮盯着 Reborn：“？？？拿来看看？”\n\n最后两人越来越兴奋，直至天亮了仍未休息。\n\n在此期间，两人因灵胚台工作原理极像匹配模板，于是将第一代灵胚台命名为“模板”。\n\n【事件2】\n昨日上午 9 点 42 分，在经过殿主的许可后，墙佬率众人下山，前往神殿最繁荣的附庸势力十一城展开了第一代灵胚台“模板”的发布会。\n\n（此时 Reborn 已经抵不住困意倒在了家里没有前往参与，醒来时后悔万分）\n\n此次发布会又一次给十一城带来了空前的盛况，发布会周围上上下下人满为患，连空中也挤满了人。在十一城门口，就已经能听到众人在不停地呐喊：“墙佬牛逼！墙佬牛逼！”。\n\n只见墙佬伸手微做下压之状，示意安静，顿时，十一城鸦雀无声，从外面听来，仿佛里面是一座死城一般。\n\n随后，墙佬对“模板”做起了介绍，并豪言道：“我们相信！这定将改变这个世界！”。\n\n发布会结束之时，一句话再度引燃了十一城：“最后！模板，免费开放！”\n\n这一刻，全城轰动、万众欢呼。上一次这样的场面，也是墙佬以一手 Q 系神兵令得十一城夜晚灯火彻夜通明、烟花不止。\n\n【事件3】\n玄月伍日（即昨日 9 月 5 日）下午 17 点，神殿道友风佬因好奇发布会跟着下山去十一城游玩，没想到期间因被怀疑调戏良家妇女而被神殿留守在十一城的执法者晓镇压，而后直接被关禁闭。\n\n回归神殿后风佬找上晓佬对峙，晓佬只是淡淡地回了一句：“执行公务罢了”，随后便迈步离去，只留下风佬气的直跺脚。\n\n这会成为神殿势力分裂的萌芽吗？不，这并不会，有线报称，二人在饭点一起去了酒楼谈笑风生，嘻哈不断。\n\n【事件4】\n有传闻昨日下午 17 点，风佬被晓佬关禁闭后，十一城掀起了一番骚乱。晓佬为镇压骚乱大开杀戒，一时间尸横遍野。还有传闻有本地居民路过看到这一幕直言道：“刚来就看到这么惊心动魄的一幕”\n\n后来，众人才知晓，原来当日十一城内，因有人对镇压风佬的决定有异议，甚至发动了起义，执法者晓决定采取了暴力镇压的手段来消除叛乱，维护了十一城的治安。\n\n【事件5】\n昨日夜里 23 点 15 分，日报社馆长 Reborn 因近日无私发放的日报导致日报社缺水断粮，于是被迫营业，下山到十一城为日报社生存街头卖艺（误）卖器💦，在街头推销起了他锻造七七四十九的机关暗器。\n\n----------\n\n\n【真实事件还原】\n<strike>啊~太忙了没时间写了，晚上再还原吧~</strike>\n来了来了~\n\n1. 墙佬和 Reborn 彻夜研究模板匹配自动出规则，结果墙佬直接 48 小时不睡，果然是超人~\n2. 墙佬在内测 11 群发布“模板”后，11 群活跃度再次提升，直到今天晚上 20 点都还有人在玩“模板”\n3. 昨天风佬被晓佬莫名关禁闭了，我也不知道怎么回事......但是问题并不大（滑稽.jpg）\n4. Reborn 偷偷摸摸在内测 11 群宣传起他的“加解密工具”小程序🤪"},{"col_type":"movie_3","name":"公元7年9月7日","path":"y7m9d7","rule":"今日报社馆长 Reborn 外出打工维持报社生存，因此停更一天，望周知～"},{"col_type":"text_1","name":"公元7年9月8日","path":"y7m9d8","rule":"【视界日报】\n【日期】视界公元 7 年 9 月 8 日\n【作者】Reborn\n\n欲知视界管理事，须关注视界日报。下面是今日发生的奇闻异事~\n\n【事件1】\n震惊！神匠 L 佬突然宣布辞去神兵仓库管理者的职位，开始了养老生活~\n\n目前神兵仓库已交还给神匠联盟盟主道长，传闻道长多次诚意挽留，最后还是没有留住 L 佬想养老的心，神殿众人纷纷表示婉惜。\n\n【事件2】\n昨日下午 18 点 43 分，天意王子闭关处突然传来一阵锐耳的葱鸣。同一时刻，神殿不馋坊（就是厨房）中被拔下来准备入菜的葱以及无药田中仍在生长的葱，都纷纷颤动，随即便向天意王子的方向飞去。\n\n神殿众人闻动静不禁抬头，只见天上“绿油油”一片，有人忍不住大喊道：“是葱！”\n\n而后，天意王子破关而出，大喊道：“我练成啦！万溅龟......葱？卧槽？？！！”，看见成千上万的葱围在自己身边，最后一个葱字才缓缓道出。天意王子略微感应了一番，不禁头皮发麻：这些葱好像在馋他身子？？！！没有任何犹豫，天意王子立马破空而逃，万葱跟随。\n\n神殿众人不禁感叹道：“原来万溅龟葱秘法大成会惹来万葱馋身，此法果真了得~”\n\n一段时间过后，民间传出天意王子已规划好下一部要练的神功——唇羊无疾公，不知是否会与他之前传闻中的第一部修炼功法“葵花宝典”有冲突，从而导致走火入魔。有人问他他只淡淡地回了一句：“不疯魔不成佛”\n\n【事件3】\n有密报称隔壁江湖与扶风正在大战，江湖为扰乱扶风军心，不惜使用美人计。\n\n----------\n\n【真实事件还原】\n1. L 佬突然说自删仓库账号去养老了，现在仓库由道长继续维护\n2. 王子出关改了个名叫唇羊无疾公\n3. 江湖跟扶风解析在皇城 PK，目前这两个解析应该是用不了的"},{"col_type":"text_1","name":"公元10年9月22日","path":"y10m9d22","rule":"【视界日报】\n【日期】视界公元 10 年 9 月 22 日\n【作者】Reborn\n\n欲知视界管理事，须关注视界日报。下面是今日发生的奇闻异事~\n\n【事件1】\n眨眼视界公元年已过三，神殿日报馆长 Reborn 宣布自己可回归一日发表一期日报。\n\n【事件2】\n墙佬于昨日中秋节在十一城举办了“走过路过不要错过错过无货”的限时活动，拿到门票者可前往神兵仓库领取墙佬的极品神兵，令十一城一个上午都激情澎湃，纷纷涌向神兵仓库，通往神兵仓库的通道一时拥塞不已（据说墙佬一口气送出了 20 个极品神兵，一滴都不剩了）\n\n【事件3】\n墙佬以一己之力让神兵仓库二度陷入崩溃，盟主道长被迫紧急斥巨资扩张通往神兵仓库的通道\n\n【事件4】\n！大新闻！传闻殿主正秘密给神兵系统造意大利炮！据说可以大幅提升神兵的进攻性！～\n\n----------\n\n【真实事件还原】\n1. 视界不知不觉又走过了 3 个小版本\n2. 昨天中秋节墙佬在 11 群举行了限时分享小程序活动\n3. 由于墙佬的活动使群员太过活跃，道长仓库都崩溃了两次😂，道长加急维护提高最大链接人数\n4. 小棉袄给视界开发了个牛逼的东西，下个版本即可见到，请诸位拭目以待～"},{"col_type":"text_1","name":"公元10年9月25日","path":"y10m9d25","rule":"【视界日报】\n【日期】视界公元 10 年 9 月 26 日\n【作者】Reborn\n\n欲知视界管理事，须关注视界日报。下面是今日发生的奇闻异事~\n  \n【事件1】\n昨日清晨，十一城传报发现仍未发布的神兵系统版本外泄，且盟主道长改造的神兵“App影视”惨遭贩卖（传闻是连带着神兵系统一起贩卖）。\n\n殿主闻言震怒，亲自出手彻查内奸，最终内奸于神殿中被捕，殿主直接将其驱逐出境。而后又揪出其同党若干，殿主下达禁令，永生不得再入神殿管辖范围。\n\n此次已非神殿第一次发现间谍，经过知天阁多番搜证后发现，此次事件与前几次出现的间谍都来自同一个邪恶势力——六魔楼。每一次间谍的发现，都会伴随一些神殿机密的泄漏，也间接使神匠们不再随意分享自己的作品，只有特定时刻才会开放。\n\n可见，邪恶势力真是坏东西，各位千万不要想不开加入他们，甚至还会被骗财骗色；同时，也希望各位若有发现，可积极举报，协助神殿铲除间谍。\n\n----------\n\n【真实事件还原】\n1. 管理群新版视界被泄露，道长的APP影视小程序和未发布的视界被人打包贩卖，小棉袄震怒，排查内奸，发现管理群被入侵，小棉袄就将他踢出群，又挖出几个QQ号公布出来，让管理员全局拉黑。视界再度上演谍中谍事件~\n\n【附言】\n在这里我想跟大家说的是，不要被人骗了钱，不要去付费加别的什么乱七八糟的群。\n第一，未发布的视界它没发布说明还有点问题，管理群在测试，稳定了自然会在公众号发布出来，没有私藏版的。\n第二，没有必要为了一个本来免费的小程序付费获取（偷偷告诉你们，我自己都没嫖到道长的APP影视，那又如何，现有的小程序已经够用了，再多也只是满足自己的收藏欲罢了，嫖不到就等下一次机会，不要被人利用你们的收藏欲来骗你们的钱了）"},{"col_type":"movie_3","name":"公元15年10月30日","path":"y15m10d30","rule":"【视界日报】\n【日期】视界公元 15 年 10 月 30 日\n【作者】Reborn\n\n欲知视界管理事，须关注视界日报。下面是今日发生的奇闻异事~\n\n【事件1】\n震惊！日报社馆长 Reborn 被知天阁阁主派往异域探查多年未归（五年有余），生死未卜，本以为日报社就此没落，如今突然归来！\n\nReborn 归来后，毫不犹豫直奔知天阁，眼神中隐约带着惊魂未定之色，似看见了大恐怖一般。\n\n【事件2】\n传闻 Reborn 在异域染上不明恶疾，如今满口胡言，开口便是“该死的”，神殿御用药师诊断后也表示目前无能为力，只能靠 Reborn 自身功力慢慢化解。\n\n【事件3】\n殿主今日一大早便更新了神兵系统，完成了昨日天意王子提出的“边缘渐变”之效。\n\n于此同时，香佬趁机上报了一个神兵系统的问题：神兵系统显示区域与手柄重叠，殿主随手一锤🔨便修复了，可见其功力之深厚~\n\n【事件4】\n神匠明日发威独自一人拿下了某地材料库！并将其打造成神兵上传到了神兵仓库！\n\n【事件5】\nReborn 短暂清醒了一段时间后，冲进了锻造室改造豆娃，而后豆娃新增了设置不能进入 HTML 配置的问题，看来是清醒了却又没完全清醒。\n\n----------\n\n【真实事件还原】\n1. 今天大佬们突然催更，刚好有空，就更了一章（不要打我！）\n2. 不知道什么时候被传染的口头禅🙈\n3. 其实就是小棉袄加了功能和修复了 bug\n4. 看明日大佬仓库有什么新的东西就知道了（滑稽.jpg）\n5. 豆娃内测规则设置改为原生控件，不再跳到网页才能修改，这个是优化不是 BUG（冒汗.jpg）"},{"col_type":"movie_3","name":"预告","path":"notice","rule":"【视界日报】\n【日期】视界公元 15 年 10 月 30 日\n【作者】Reborn\n\n欲知视界管理事，须关注视界日报。下面是今日奇闻异事的预告~\n\n【预告 by Joker】\n日报社馆长 Reborn 被知天阁阁主派往异域探查多年未归，生死未卜，本以为日报社就此没落，岂料 Reborn 突然返回；\n\n究竟是人性的扭曲还是道德的沦丧？Reborn 又在异域看到了什么？\n\n今晚八点，道长仓库，不见不散~"}],"title":"视界日报","author":"Reborn","version":15,"url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst {\n    header\n} = $.require(\"hiker://page/classicHeader\");\nconst { source } = $.require(\"hiker://page/source\");\nconst { htmlEscape } = $.require(\"hiker://page/stringtool\");\n\naddListener('onClose', $.toString((header) => {\n    header.onClose();\n}, header))\n\nlet d = [];\nlet classic = {\n  // \"预告\": [],\n  \"正文\": [\n  {\"公元15年10月\": [\"30日\",]},\n  {\"公元10年9月\": [\"25日\",\"22日\",]},\n\t{\"公元7年9月\": [\"8日\",\"7日\",\"6日\", \"5日\", \"4日\", \"3日\", \"2日\", \"1日\"],\n  }],\n  \"前传\": [ \n\t\"乱榜之夜传闻\",\n\t\"神器入侵事件后续\",\n  ],\n  \"人物介绍\": [],\n  \"故事设定与现实\": [],\n}\nd = header.get(classic)\nlet type = header.getCurrentIndex();\n\nif(type.includes(\"预告\")){\n  let notice = source.notice()\n  d.push({\n    title: htmlEscape(notice),\n    col_type: \"rich_text\"\n  });\n} else if(type.includes(\"正文\")){\n  let sourceKey = type.split(\"@@\").join(\"\").replace(\"正文\", \"\")\n  let sourceDaily = source[sourceKey]()\n  d.push({\n    title: htmlEscape(sourceDaily),\n    col_type: \"rich_text\"\n  });\n} else if(type.includes(\"前传\")){\n  let sourceKey = type.split(\"@@\").join(\"\")\n  let sourceDaily = source[sourceKey]()\n  d.push({\n    title: htmlEscape(sourceDaily),\n    col_type: \"rich_text\"\n  });\n} else if(type.includes(\"人物介绍\")) {\n  let character = htmlEscape(source.character());\n  d.push({\n    title: character,\n    col_type: \"rich_text\"\n  });\n} else if(type.includes(\"故事设定\")) {\n  let worldSetting = htmlEscape(source.worldSetting());\n  d.push({\n    title: worldSetting,\n    col_type: \"rich_text\"\n  });\n}\n/*d.push({\n    col_type: 'blank_block'\n})*/\nsetResult(d);","searchFind":"","search_url":"","titleColor":"#ff228be6","group":"①推荐","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"text_1\",\"name\":\"公元7年9月1日\",\"path\":\"y7m9d1\",\"rule\":\"【视界日报】\\n【日期】视界公元 7 年 9 月 1 日\\n\\n【事件1】\\n今日晚上 20 点 55 分，郡主小棉袄发布了视界第 1926 个版本，带来了 L 佬心心念念的神兵材料 confirm，欲知 L 佬得到材料后会直接融入神兵，还是先打磨一番，请听下回分解~\\n\\n【事件2】\\n今日晚上 21 点 29 分，道友随遇而安丶表示神兵“极品”离奇失踪，而另一位道友 Reborn 得知后，立刻前往三大势力电不死、移不动、联不通调查，调查发现，三大势力均无该神兵消息。随即，随遇而安丶道友表示请“香情神兵榜”创始人香佬将“极品”暂时移出“香情神兵榜”，而道友 Reborn 也表示请“黑黑神兵榜”创始人黑佬将其暂时移出相应的神兵榜。然而香佬表示了拒绝，并说明神兵也许会再次现世；黑佬目前暂无任何表示。\\n\\n----------\\n\\n【真实事件还原】\\n1. 小棉袄发布了 L 佬提的新功能 confirm 方法\\n2. 极品影视网站抽风了，无法访问\\n\"},{\"col_type\":\"text_1\",\"name\":\"公元7年9月2日\",\"path\":\"y7m9d2\",\"rule\":\"【视界日报】\\n【日期】视界公元 7 年 9 月 2 日\\n\\n欲知视界管理事，须关注视界日报。下面是今日发生的奇闻异事~\\n\\n【神兵“极品”失踪事件后续】 \\n神兵“极品”已于当天晚上 22 点 10 分回归神兵池，之前神兵出去花天酒地的传闻已被证实有人散布假消息，欲盖弥彰。其后很快便有新的传闻道真相是不知道它突然抽什么风出去跟别人干架去了，受了点轻伤，面子都丢光了，不过很快便痊愈归来（后来道友随遇而安丶发现其身上仍有残留的伤疤，看来之前回归时的粉色光芒是为了掩盖伤疤）。香佬对此依然十分淡定没有任何表示，可能是见怪不怪了......\\n\\n【事件1】\\n昨日晚上 22 点 28 分，道友一个人，一颗心询问由道友 Reborn 最新打造的机关暗器“加解密工具.RR”为何 ECB 模式完全不能用了，Reborn 闻之一看，原来是连接部件的时候有一根 if 转接轴放错位置了。随即马上修复，并承诺即将完善机关暗器中的其他机关，让我们拭目以待~\\n\\n【事件2】\\n昨日晚上 22 点 34 分，神匠 L 佬在得知郡主小棉袄带来了神兵材料 confirm 之后，欣喜至极，却又想起自己手中打造了无数神兵的锻灵锤“手机”为救他一命而身陷“校绝地”，并被其镇守者之一“老师”镇压于险地中，顿时心生落寞之意。\\n\\n正在闭关修炼秘法“万溅龟葱”的王子顿时破关而出询问是否女镇守者，可见其闭关之久，饥渴万分（滑稽脸.jpg）。而另一边随风道友则更关心镇守者会不会检查锤子上是否有违天意之物（如“车库”），神匠不愧是神匠，L 佬表示早已为锻灵锤开辟第二空间，所有违禁物都已封存其中，外人无法查看。\\n\\n虽说如此，但失去锻灵锤的神匠短时间内必然无法继续打造神兵（哭.jpg）。\\n\\n而后不久，L 佬便失去了音讯，不知是否为救锻灵锤再入“校绝地”。\\n\\n欲知 L 佬何时能救出他心爱的锻灵锤，请听......不知道多少回才能分解，望 L 佬能早日回归~\\n\\n【科普时间】\\n传闻“校绝地”是所有神匠皆闻风丧胆的绝危之境，就是因为其中有着空前强大的镇守者“老师”，他们在“校绝地”内甚至能得到领域加成，有言出法随之能。带着锻灵锤进入“校绝地”的神匠被镇守者发现后，几乎无一例外会被一言镇压。但因“校绝地”有提升神匠修为之效，所以即使是绝危之境，众神匠依然奋不顾身前往其中。据说，在镇守者之上还有镇守统领“级长”以及能号令整个镇守军团的镇守军帅“校长”。\\n\\n【事件3】\\n昨日晚上 23 点 58 分，即将出关的神匠努力表示出关后发布打造神兵的功法！！！众人纷纷表示通宵等努佬出关！！\\n\\n【事件4】\\n今日凌晨 0 点 47 分，道友 Reborn 打造的机关暗器“加解密工具.RR”第 12 版已完成，并上交神兵仓库。诸位可前往神兵仓库一睹其风采，传闻体验上并不输给大多数加解密网站。\\n\\n----------\\n\\n【真实事件还原】\\n1. 极品影视在抽风后不久便又可以访问了\\n2. 小程序“加解密工具.RR”的 ECB 模式出现异常，Reborn 随后便将其修复了\\n3. L 佬的手机被老师没收了（再哭.jpg）\\n4. 努佬说在做解密的教学视频\\n5. Reborn 已正式将小程序“加解密工具.RR”其他加密算法完善，并在仓库发布更新\\n\"},{\"col_type\":\"text_1\",\"name\":\"视界日报数据集\",\"path\":\"source\",\"rule\":\"js:\\nfunction getPageSource(day) {\\n  let src = request(\\\"hiker://page/\\\" + day);\\n  src = JSON.parse(src).rule;\\n  // log(src)\\n  return src;\\n}\\nlet source = {\\n  \\\"公元15年10月30日\\\": function() { return getPageSource(\\\"y15m10d30\\\") },\\n  notice: function() { return getPageSource(\\\"notice\\\") },\\n  character: function() { return getPageSource(\\\"character\\\") },\\n  worldSetting: function() { return getPageSource(\\\"worldsetting\\\") },\\n  \\\"前传乱榜之夜传闻\\\": function() { return getPageSource(\\\"prequel_billboard_confusion_night\\\") },\\n  \\\"前传神器入侵事件后续\\\": function() { return getPageSource(\\\"prequel_douwa_hacked\\\") },\\n  \\\"公元10年9月25日\\\": function() { return getPageSource(\\\"y10m9d25\\\") },\\n  \\\"公元10年9月22日\\\": function() { return getPageSource(\\\"y10m9d22\\\") },\\n  \\\"公元7年9月8日\\\": function() { return getPageSource(\\\"y7m9d8\\\") },\\n  \\\"公元7年9月7日\\\": function() { return getPageSource(\\\"y7m9d7\\\") },\\n  \\\"公元7年9月6日\\\": function() { return getPageSource(\\\"y7m9d6\\\") },\\n  \\\"公元7年9月5日\\\": function() { return getPageSource(\\\"y7m9d5\\\") },\\n  \\\"公元7年9月4日\\\": function() { return getPageSource(\\\"y7m9d4\\\") },\\n  \\\"公元7年9月3日\\\": function() { return getPageSource(\\\"y7m9d3\\\") },\\n  \\\"公元7年9月2日\\\": function() { return getPageSource(\\\"y7m9d2\\\") },\\n  \\\"公元7年9月1日\\\": function() { return getPageSource(\\\"y7m9d1\\\") },\\n}\\n$.exports.source = source;\"},{\"col_type\":\"text_1\",\"name\":\"获取分类头部\",\"path\":\"classicHeader\",\"rule\":\"js:\\nlet d = [];\\n\\nfunction putKeyIntoMap(key, value) {\\n    const keyMap = JSON.parse(getVar((getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\")+\\\"_all_key_Map\\\"), \\\"{}\\\"));\\n    keyMap[key] = value;\\n    putVar((getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"_all_key_Map\\\"), JSON.stringify(keyMap));\\n}\\n\\nfunction getHeaderFromJSONObject(obj) {\\n    for (let key in obj) {\\n        d.push({\\n            title: key == getVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\"), Object.keys(obj)[0]) ? \\\"““\\\" + key + \\\"””\\\" : key,\\n            url: $(\\\"#noLoading#\\\").lazyRule((key) => {\\n                putVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\"), key);\\n                putVar((getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"_cur_index\\\"), key);\\n                refreshPage(false);\\n                return \\\"hiker://empty\\\"\\n            }, key),\\n            col_type: \\\"scroll_button\\\"\\n        });\\n    }\\n    d.push({\\n        col_type: \\\"blank_block\\\"\\n    });\\n    let key = getVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\"), Object.keys(obj)[0]);\\n    putVar((getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"_cur_index\\\"), key);\\n    getNextHeaderFromJSONArray(key, obj[key]);\\n    return d;\\n}\\n\\nfunction getNextHeaderFromJSONArray(key, array) {\\n    if (array == undefined || array.length == 0) {\\n        return;\\n    }\\n    let nextHeader = {};\\n    let defaultValue = \\\"\\\";\\n    defaultValue = array[0];\\n    if (Object.prototype.toString.call(array[0]) === '[object Object]') {\\n        defaultValue = Object.keys(array[0])[0];\\n    }\\n    putKeyIntoMap((getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@\\\" + key), getVar((getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@\\\" + key), defaultValue))\\n    putVar((getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"_cur_index\\\"), key + \\\"@@\\\" + getVar((getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@\\\" + key), defaultValue));\\n    for (let value of array) {\\n        if (Object.prototype.toString.call(value) === '[object Object]') {\\n            // log(\\\"valueKeys: \\\"+JSON.stringify(Object.keys(value)[0]))\\n            let valueKey = Object.keys(value)[0];\\n            d.push({\\n                title: valueKey == getVar((getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@\\\" + key), defaultValue) ? \\\"““\\\" + valueKey + \\\"””\\\" : valueKey,\\n                url: $(\\\"#noLoading#\\\").lazyRule((valueKey, key) => {\\n                    function putKeyIntoMap(key, value) {\\n                        const keyMap = JSON.parse(getVar((getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"_all_key_Map\\\"), \\\"{}\\\"));\\n                        keyMap[key] = value;\\n                        putVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"_all_key_Map\\\", JSON.stringify(keyMap));\\n                    }\\n                    putVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@\\\" + key, valueKey);\\n                    putVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"_cur_index\\\", key + \\\"@@\\\" + valueKey);\\n                    putKeyIntoMap(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@\\\" + key, getVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@\\\" + key, \\\"defaultValue\\\"))\\n                    refreshPage(false);\\n                    return \\\"hiker://empty\\\"\\n                }, valueKey, key),\\n                col_type: \\\"scroll_button\\\"\\n            });\\n            nextHeader[valueKey] = value[valueKey];\\n        } else {\\n            d.push({\\n                title: value == getVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@\\\" + key, defaultValue) ? \\\"““\\\" + value + \\\"””\\\" : value,\\n                url: $(\\\"#noLoading#\\\").lazyRule((value, key) => {\\n                    function putKeyIntoMap(key, value) {\\n                        const keyMap = JSON.parse(getVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"_all_key_Map\\\", \\\"{}\\\"));\\n                        keyMap[key] = value;\\n                        putVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"_all_key_Map\\\", JSON.stringify(keyMap));\\n                    }\\n                    putVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@\\\" + key, value);\\n                    putKeyIntoMap(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@\\\" + key, getVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@\\\" + key, \\\"defaultValue\\\"))\\n                    putVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"_cur_index\\\", key + \\\"@@\\\" + value);\\n                    refreshPage(false);\\n                    return \\\"hiker://empty\\\"\\n                }, value, key),\\n                col_type: \\\"scroll_button\\\"\\n            });\\n        }\\n    }\\n\\n    d.push({\\n        col_type: \\\"blank_block\\\"\\n    });\\n    if (nextHeader !== undefined && nextHeader.length != 0) {\\n        getNextHeaderFromJSONArray(key + \\\"@@\\\" + getVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@\\\" + key, defaultValue), nextHeader[getVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@\\\" + key, defaultValue)]);\\n    }\\n}\\n\\nlet header = {\\n    /**\\n     * 可自定义当前分类头部 id（其实没啥用，就是为了调试不同规则区分一下而已）\\n     */\\n    setId: function(id) {\\n\\t      putVar(\\\"ClassicHeader.id\\\", id)\\n    },\\n    getId: function() {\\n\\t      return getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\");\\n    },\\n    /**\\n     * 获取分类头部，返回视界 setResult 用的数组\\n     */\\n    get: function(obj) {\\n        let result = getHeaderFromJSONObject(obj);\\n        //log(\\\"【子页面】\\\" + JSON.stringify(result))\\n        return result;\\n    },\\n    /**\\n      * 页面关闭时需要注册的生命周期，引入依赖后在 addListener 中调用即可\\n      * 例：\\n         const { header } = $.require(\\\"hiker://page/classicHeader\\\");\\n         addListener(\\\"onClose\\\", $.toString((header) => {\\n          header.onClose();\\n        }, header));\\n      */\\n    onClose: function() {\\n        // putVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"\\\", \\\"编码\\\");\\n        // putVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@编码\\\", \\\"佛曰\\\");\\n        let allKeyArr = Object.keys(JSON.parse(getVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"_all_key_Map\\\", \\\"{}\\\")));\\n        for (let i in allKeyArr) {\\n            clearVar(allKeyArr[i]);\\n            // log(\\\"【清理后】\\\"+ allKeyArr[i] + \\\": \\\"+JSON.stringify(getVar(allKeyArr[i], \\\"\\\")))\\n        }\\n        clearVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\"))\\n        clearVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"_all_key_Map\\\")\\n        clearVar(\\\"ClassicHeader.id\\\")\\n    },\\n    /**\\n     * 获取当前已选多级分类，返回的数据格式为：一级分类@@二级分类@@...，可自行做映射获取 url\\n     */\\n    getCurrentIndex: function() {\\n        return getVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"_cur_index\\\", \\\"\\\");\\n    }\\n}\\n$.exports.header = header\"},{\"col_type\":\"text_1\",\"name\":\"人物介绍\",\"path\":\"character\",\"rule\":\"此人物介绍仅我本人所了解到的根据故事设定写出来的，有些大佬我记不得有什么作品了，写不出来。若人物介绍有错漏，欢迎各位马上联系 Reborn 修正和补充。\\n\\n声明：称号并无等级之分，请勿自行瞎想 =。=\\n\\n看人物介绍前建议先看看故事设定页。\\n\\n以下顺序不分排名，按日报故事线出现顺序写。\\n\\n【<a href=\\\"http://82.156.222.77/weisyr/pic/大棉袄殿主.png\\\">郡主小棉袄</a>】\\n神殿殿主，后宫佳丽三千......咳，麾下神匠若干，视界时代发展的掌控者，平日神龙见首也见尾。民间常有传闻每晚有神匠与之侍寝，因其为神殿殿主，知天阁无权查明真相，消息真假不知，诸位请勿听信言尽信言。\\n\\n【神匠 L 佬】\\n神殿传奇人物，神殿顶级神匠之一，现任神兵仓库管理者之一。曾以一己之力推动视界时代的发展，让视界时代顺利从公元前过渡到公元，一手锻灵锤曾打造出诸多神器，如：$工具、主页2.0、合集导入助手、聚搜君、视界版E2表达式、神兵仓库等等。目前已进“校绝地”提升修为，难以取得联系......\\n\\n【<a href=\\\"http://82.156.222.77/weisyr/pic/吐佬.png\\\">道友 Reborn</a>】\\n神殿知天阁成员，现任神殿日报管理者，没有之一（因为神殿日报目前只有他一个打工仔，太惨了T_T）。前不久刚与神匠 L 佬以及笔梨创始人 Rx 大佬（后面简称 R 佬）共同打造机关暗器“加解密工具.RR”。目前负责摘录神殿每日发生的奇闻异事以及搜查情报。\\n\\n【“香情神兵榜”创始人香佬】\\n“香情神兵榜”创始人，曾出品奶飞、葫芽、孜渊河集、晧曲之帛等神器\\n\\n【“黑黑神兵榜”创始人黑佬】\\n“黑黑神兵榜”创始人，这位大佬来无影去无踪，目前知天阁暂无更多关于该大佬消息\\n\\n【<a href=\\\"http://82.156.222.77/weisyr/pic/我.png\\\">天意王子</a>】\\n目前正在修炼秘法“万溅龟葱”，现兼职神殿设计师，曾为众多神器设计各种绚丽的外观。\\n\\n【神匠努力】\\n神殿顶级神匠之一，神殿天功阁成员。曾为众多神器提供伸手即用的连接模块，众所周知的神级连接件“努插”便出自他之手，让众工匠打造神兵时免去了解析顶级神器材料之苦。现计划为天功阁添加新的锻造功法。\\n\\n【笔梨创始人Rx】\\n笔梨创始人，江湖人称“R佬”。曾一手打造笔梨系列、暗梨排行榜以及彩鱼天启等神器，前不久刚与神殿日报创始人共同打造了机关暗器“加解密工具.RR”。\\n\\n【神匠断佬】\\n神殿顶级神匠之一，与神匠努力一样，曾为众多神器提供伸手即用的连接模块，众所周知的神级连接件“断插”便出自他之手。现因业务繁忙暂时无任何计划，不过曾有传闻断佬有意公开“断插”打造之法。\\n\\n【<a href=\\\"http://82.156.222.77/weisyr/pic/道长.png\\\">神匠联盟盟主道长</a>】\\n神匠联盟盟主，神殿顶级神匠之一。此人在几年前突然崛起，实力绝对不容小觑，崛起后更是与神匠 L 佬联手打造神兵仓库，为神殿管理流落在神兵池的众神兵；后期依靠神兵仓库广纳神匠，成立了神匠联盟。\\n\\n【知天阁阁主】\\n知天阁档案内并无此人资料，平日带着面具，无人知其真容，也无人知其姓名。仅有传闻此人是跟随殿主多年的亲信，对殿主忠心不二，所以殿主才放心将情报机构知天阁交于此人管理。\\n\\n【车神墙佬】\\n神殿顶级神匠之一，神殿传说级人物，一代车神，曾担任佛界主持。江湖流传一句话\\\"墙都不扶就扶他\\\"，无数人为得其一神兵大打出手。传闻旗下还有一个神秘车库，其内停着无数豪车，引得一众大佬羡慕不已，曾纷纷表示想前往参观，可惜皆被婉拒。至于他是如何成为江湖上炙手可热的巨擎，江湖有无数传说，众说纷纭，这一切都是个谜。但毫无疑问的是，这是一个充满神秘的男人。\\n\\n【秋水仙子】\\n神殿副殿主，原名熊秋秋，传闻与殿主关系匪浅，是神殿中唯一一位几句话便能让殿主败阵之人，其在神殿的权力甚至不在神殿殿主之下。\"},{\"col_type\":\"text_1\",\"name\":\"公元7年9月3日\",\"path\":\"y7m9d3\",\"rule\":\"【视界日报】\\n【日期】视界公元 7 年 9 月 3 日\\n【作者】Reborn\\n\\n欲知视界管理事，须关注视界日报。下面是今日发生的奇闻异事~\\n\\n【事件1】\\n昨日中午 12 点 18 分，神殿日报社正式成立，并归入神殿知天阁管理。神殿日报创始人 Reborn 宣布正式发布“视界日报”小程序，并提交神兵仓库进行管理，日后最新的日报从神兵仓库获取即可。道友 Reborn 此举也意味着神殿日报从此告别消息文本时代。据说新的日报加入了新的模块，诸位可以前往神兵仓库一睹究竟。\\n\\n【事件2】\\n昨日下午 14 点 04 分，笔梨创始人 R 佬表示有意加入神殿日报，为诸位撰写上古方圆时代的前世今生。\\n\\n【事件3】\\n昨日下午 14 点 46 分，天意王子因被知天阁发现意图盗取神殿日报资料未遂而被捕，原因是其手上的地图根本没有画去神殿日报社的路！！！走进了死胡同！！在神殿巷口暴躁地又踢又踹，声响过大引起了知天阁注意，被捕时初步怀疑是修炼秘法走火入魔。\\n\\n神殿日报创始人得知消息后匆忙赶回神殿，澄清天意王子只是走错地方了，天意王子可能闭关太久忘了，并没有走火入魔。日报资料已开放给天意王子，为合法借用资料，误会解除后天意王子成功被释放，并如愿得到他想要的日报资料。\\n\\n【事件4】\\n昨日晚上 19 点，神殿突然收到入侵警告，消息指出神器“豆娃”惨遭入侵，如今已经瘫痪无法使用。Reborn 闻讯立马组织护卫队前往讨伐入侵者，率神匠断佬、道友逐风者以及女神小婉赶往事发地。\\n\\n当护卫队赶到时，现场一片惨烈，Reborn 发现首页甚至不能识别到插件，逐风者则发现首页无内容，而神匠断佬和女神小婉则发现神器也许缺少了零件。\\n\\n与医疗队取得联系后，医疗队表示神器已被感染许久，只是今日才被触发，想必入侵者尚未走远。听罢，Reborn 立马带队勘测了一番现场，并未发现入侵者，必然是藏了起来。所幸入侵者等级并不高，护卫队利用地毯式搜查最终成功歼灭入侵者，并协助医疗人员救治被感染的神器，神器“豆娃”恢复正常。\\n\\nReborn 从护卫队回来后曾一度怀疑此次事故是否殿主小棉袄在实验时的无意所为，也飞鸽传书询问过殿主，但殿主至今未归，不曾有任何消息。\\n\\n后续：晚上 21 点殿主回归后立马表示与他无瓜，入侵者从何而来、神器如何被感染的从此成了这个时代的谜。但知天阁嗅到了事情还没结束的气息，因此并未放弃调查。\\n\\n欲知“神器入侵”事件的后事如何，请听下回分解~\\n\\n【事件5】\\n昨日晚上 23 点，神匠 L 佬突然出现！！第一时间否认与神器入侵事件有关，因为有传闻他曾经打磨的神器材料 Hikerurl 也检测出了不明感染物。\\n\\n众人纷纷恭喜 L 佬从“校绝地”凯旋，但是 L 佬却叹气一声表示没有那么简单，他此番回来只因意外取得备用锻灵锤，不日便要再次进入“校绝地”，与新锤子培养感情，并没有时间继续为各位锻造神器，但可以偶尔出来与大家交流修炼心得。\\n\\n听 L 佬的语气，老锤看来是暂时救不出来了，众人只能纷纷暗道可惜，并表示注意安全。\\n  \\n----------\\n\\n【真实事件还原】\\n1. Reborn 发布“视界日报”小程序，并表示以后只会在道长仓库更新。\\n2. R 佬说方圆时期他已经加群了，他有整条历史故事线（滑稽.jpg），大家快去催他稿！\\n3. 天意大佬想在自己的插件调用视界日报作为每日一文，得到授权后发现无法调用，而后得知是因为调用时没有指定小程序名导致的。\\n4. 断佬说小程序“豆娃”突然暴毙了，群里众人一测，皆是如此，Reborn 马上就抄起插件一行一行检查了起来，最后在文件末尾发现了他未曾见过的代码，删掉后“豆娃”恢复正常使用。\\n5. L 佬听说豆娃的插件被不明代码污染了，而他很久之前写的 Hikerurl 插件也被人发现了这段不明代码，第一时间否认了不是他写的，他也曾发现过这段代码，当时以为是软件 bug，早已在新版插件删除；同时表示学业繁忙，暂时没时间写代码了，不过可以偶尔上线跟大家聊聊天。\\n\\n【附言】\\n此次小程序“豆娃”暴毙事件并不简单，那段不明代码至今仍在调查中，有调查结果会告诉大家。\\n\"},{\"col_type\":\"text_1\",\"name\":\"字符串处理工具\",\"path\":\"stringtool\",\"rule\":\"js:\\nconst matchList  = {\\n  // \\\"<\\\":\\\"&lt;\\\",\\n  // \\\">\\\": \\\"&gt;\\\",\\n  // \\\"&\\\": \\\"&amp;\\\",\\n  // '\\\"': \\\"&quot;\\\",\\n  // \\\"'\\\": \\\"acute;\\\",\\n  // \\\" \\\": \\\"&nbsp;\\\",\\n  \\\"\\\\n\\\":\\\"<br>\\\"\\n}\\n// 字符过滤器\\nfunction htmlEscape(text){\\n  let regStr = '(' + Object.keys(matchList).toString() + ')'\\n  regStr = regStr.replace(/,/g, ')|(')  \\n  const regExp = new RegExp(regStr, 'g')\\n  return text.replace(regExp, match => matchList[match])\\n}\\n$.exports.htmlEscape = htmlEscape\"},{\"col_type\":\"text_1\",\"name\":\"公元7年9月4日\",\"path\":\"y7m9d4\",\"rule\":\"【视界日报】\\n【日期】视界公元 7 年 9 月 4 日\\n【作者】Reborn\\n\\n欲知视界管理事，须关注视界日报。下面是今日发生的奇闻异事~\\n\\n<font color=\\\"red\\\">【头条】</font>【事件3】\\n昨日中午 12 点 58 分，练功狂魔天意王子听闻黑佬出关后欲与黑佬共同参悟玉女心经？？？！！！<font color=\\\"#FFCC00\\\">（我颜色怎么变了.jpg）</font>\\n\\n【事件1】\\n昨日凌晨 0 点 55 分，神殿殿主小棉袄因“神器入侵”事件不惜熬夜为众神兵打造了私有保险裤，而后下午再一次闭关对其进行了升级。殿主辛苦！~\\n\\n【事件2】\\n据线人密报，黑佬已于前天晚上悄然出关，出关后便直接施展“鬼影黑风步”扬长而去，最终失去了其身影。\\n\\n直至昨日上午，他才在世人面前露脸，不知这一晚黑佬偷偷摸摸去干了些什么？\\n\\n其后，于昨日上午执笔更新了“黑黑神兵榜”。\\n\\n【事件4】\\n传闻黑佬透露天意王子第一部修炼的神功是《葵花宝典》？？这会是他欲参悟玉女心经的原因吗？？（滑稽脸.jpg）\\n\\n【事件5】\\n神殿日报社因打印机故障，昨日出版的日报有一部分没有显示完整内容。神殿日报社决定更换打印机，新的打印机却需要手动修整版面，创始人 Reborn 苦恼至极。\\n\\n所幸神匠 L 佬闻之直接出手为神殿日报社打造了一个排版转换器轻松解决了难题，日报社上下感激至极。\\n\\n【事件6】\\n神匠联盟盟主道长因“神器入侵”事件决定为守护神兵仓库重金打造神兵结界，同时升级神兵病毒库，并放出豪言：之后的每一件分派出神兵仓库的神兵都会先被结界扫描一遍，若存在病毒特征，则会向使用者发出警告。\\n\\n说时迟那时快，道长骤然腾空而起，引动天地灵气，刹那间，整个神殿都震动不已。随后，四周守护结界迅速升起，笼罩了整个神兵仓库。\\n\\n【事件7】\\n昨日晚上 20 点 30 分，神殿殿主发布神殿公告，将“神器入侵”事件的来龙去脉以及修复受感染神兵的方法广而告之。\\n\\n【事件8】\\n昨日晚上饭后，众神匠前所未有地聚在一起各展神通分析感染神兵的病毒构造。\\n\\n很快，车神墙佬便第一个分析出其构成，不愧是车神，不仅开车快，神通也快。\\n\\n殿主听闻病毒构造已被分析出来，也忍不住好奇，急忙赶来与众神匠一同探索其奥秘。\\n\\n不看不知道一看吓一跳，这盗走的资料也太多了！！！\\n\\n同时，很多未解之谜也随之水落石出，诸如：神殿内部资料被提前泄露、乱榜之夜等等，原来都是他搞的鬼！！！\\n\\n神匠联盟盟主道长则表示心态已炸，病毒竟然还盗取了他神兵仓库的通行证QAQ\\n\\n----------\\n\\n【真实事件还原】\\n1. 小棉袄昨晚因为豆娃被代码入侵这件事与各位管理共同查出了很多不寻常的东西后，决定熬夜加班加点开发了小程序私有存储功能，保护小程序需要的私有信息，如登录功能的账号密码；下午又升级支持小程序私有文件。\\n2. 黑佬的黑黑影视更新啦！大家快去更！\\n3. 顺佬原话：“@黑佬 现在黑佬出关，我们一起练玉女心经”（坏笑.jpg）\\n4. 有大佬反馈视界日报底部有一部分内容无法显示，Reborn 怀疑是长文本对一些机型的不兼容问题，因此换成了富文本，L 佬后面提供了一个转换器用于将长文本内容直接转换成富文本，不用手动排版了，好耶~L 佬牛逼~\\n5. 道长因为豆娃出现了不明代码决定直接升级道长仓库的安全中心，以后的规则导入时都会先检测是否含加密或有害代码，若有则会先提醒用户。\\n6. 管理群难得这么多大佬聚在一起干同一件事，墙佬更是一马当先，速度极快的分析出了病毒代码；然后众人发现之前管理群视界测试版本以及测试规则提前泄露还有论坛两次被 DDOS 改排行榜的事都跟这个病毒代码有关。道长看到病毒拿了他仓库的数据之后直接表示心态炸裂，然后去排查仓库后台去了。\\n\\n【附言】\\n豆娃被代码入侵这件事已经结束了，日报正在整理，不日后便可登报，届时会作为前传篇登出。\\n\\n同时，引出了“乱榜之夜”事件，今天晚上便会作为前传登出。\\n\\n敬请期待~\"},{\"col_type\":\"text_1\",\"name\":\"前传：神器“豆娃”入侵事件后续\",\"path\":\"prequel_douwa_hacked\",\"rule\":\"【前言回顾】\\n视界公元 7 年 9 月 3 日 晚上 19 点，神殿突然收到神器“豆娃”惨遭入侵的警告，护卫队前往歼灭入侵者后得知神器已被感染许久，回来后将此事上报给知天阁，知天阁立马对此展开了调查。\\n\\n【温馨提示】\\n正文提到的乱榜之夜可看另一篇前传《乱榜之夜传闻》\\n\\n【正文】\\n知天阁经过一番调查后发现，并不仅仅是只有豆娃遭到了感染，也在同一时刻笔梨还有其他三件神器均遭到同款病毒的毒手。\\n\\n知天阁阁主察觉到事情并不对劲，于是立马加派了人手。此举甚至惊动了殿主，没想到殿主直接下达死命令要彻查此事。\\n\\n得到死命令的知天阁排查速度明显加快了很多，最终结果还是出人意料。知天阁阁主听着调查员的汇报，心中五味杂陈，他万万没想到最后查出所有神器感染的源头都指向了神殿内部，也就是说：神殿内部有内鬼！\\n\\n知天阁阁主觉得此事必须上报殿主，于是吩咐下去继续循着线调查出内鬼，而自己则匆匆收拾东西准备赶往总殿欲见殿主。一开门，只见殿主就在门前，说他已经知道了，从现在起到有结果这段时间给知天阁开放一切权限，让自己安心调查内鬼即可，言罢，殿主转身离去。知天阁阁主看着殿主离去的背影，感受到了浓浓的信任，心底暗自发誓一定要抓住内鬼！\\n\\n此时，知天阁外，神殿日报创始人 Reborn 走向了神殿殿主：“殿主，我觉得此次事件说不定与几个月前的乱榜之夜有关，毕竟我当初打造的神兵 视界论坛R 具有保留神匠排行榜通行密码的能力，只要你手中有一个感染体，便能盗取其通行密码。想必殿主手中的神兵亦有被感染，以殿主通行密码的权限......殿主，若真是如此，我难辞其咎”。\\n\\n听到乱榜之夜，殿主脸色直接变了，随后陷入了沉思：“确实有此可能，不过你也无需自责，当初你打造出这件神兵时我便已经知道它有这个能力，以当时的技术环境，能造出已属不易，我也没想太多，不怪你，先回去吧”\\n\\n（几个时辰后知天阁内......）\\n\\n突然一位知天阁调查人员冲了进来，并大喊道：“报！道友七彩人生在神兵 One 的原始灵胚发现感染体！”\\n\\n同一时间，另一位调查人员也冲了进来：“报！道友牧羊人在神兵 豆娃榜单 的原始灵胚发现感染体！”\\n\\n知天阁阁主一听，感觉有戏。\\n\\n众所周知，原始灵胚打造完成前若没有被感染，完成后便是无比纯净无法污染的，因此，若有感染体，原始灵胚必是感染者所打造的。\\n\\n于是立马激动起来：“这些原始灵胚都是哪位道友打造的？”。\\n\\n两位调查人员相视一眼，竟是同是出声：“oneleo！”\\n\\n知天阁阁主马上吩咐：“立刻传殿主手喻，召集所有神殿人员前往议事厅！务必保证 oneleo 到场！我这就去见殿主！”\\n\\n（几分钟后议事厅内......）\\n\\n殿主：“事情就是这样，oneleo，你有什么话想说吗？”\\n\\noneleo 什么都没说，只留下了一句话便破门而出，随后扬长而去，不见踪影。\\n\\n那句话震撼了整个议事厅的人，令所有人内心久久无法平静：“最大的遗憾就是不能继续抢供奉了，再见了各位”\\n\\n神匠 L 佬直接表示战术去世，其余人一律挠头不知所以云，神匠努力与神殿日报 Reborn 则沉思 oneleo 是否与乱榜之夜的那个人有关。\\n\\n众人回过神后才惊恐地发现，此人已潜伏在他们身边 6 个月！想想又有点后怕，他们竟然一点都没有察觉。\\n\\n而殿主已经不知道什么时候离开，其后的几个时辰都没有殿主的消息，宛若销声匿迹般。直到半夜，殿主传出已为众神兵打造私有保险裤的消息，便再次离去。\\n\\n此时众人才明悟：原来殿主这么久没消息是为了保护使用神兵的各位，殿主实在是太辛苦了 T_T\\n\\n---------\\n\\n【真实事件还原】\\n没什么好还原的了，基本上小棉袄公众号已经说明了一切。\\n\\n但是说实话，我真没想到视界能引出这么多碟中谍事件（笑哭.jpg）\\n\\n至此，神器入侵事件结束。\"},{\"col_type\":\"text_1\",\"name\":\"前传：乱榜之夜传闻\",\"path\":\"prequel_billboard_confusion_night\",\"rule\":\"【撰写日期】视界公元 7 年 9 月\\n\\n【令人闻之色变的乱榜之夜传闻】\\n传闻 6 个月前，神殿曾经有一位神匠 W，他说话很暴躁，几乎谁与他说话都会被他得罪，最终殿主看不下去了亲自出手将其赶出神殿。\\n\\n而后不久，殿主打造的神匠排行榜便遭到了贼人毒手，殿主追查了很久最终一无所获，只知道一定有人拿了他的通行密码进入了他的储物室，并打碎了神匠排行榜，不过很多线索都指向了 W。\\n\\n那一夜，神匠们都看到了一个黑衣人，一道滔天剑气劈向了殿主的储物室，然后头也不回就遁走了。随后殿主从主殿爆发无边怒气追了出来，直至殿外失去其身影，可见其身法了得。\\n\\n殿主扑空后只能失望而归，归来后却见储物室周围已是一片狼藉，而殿主辛辛苦苦运营许久的神匠排行榜已惨遭粉碎，不禁向天长吼以发泄内心的痛苦。\\n\\n后来神匠们发现：有的神匠莫名其妙多出了很多神殿积分，而有的神匠的积分则被大幅扣除，神匠联盟盟主道长更是超脱排行榜之外不知所踪，积分系统一度混乱不堪。\\n\\n这也是神殿第一次遇到有敢与之抗衡的人。\\n\\n---------\\n\\n【真实事件还原】\\n这个其实就是管理群曾经有一位大佬说话很冲，几乎得罪了全群的人，最后小棉袄把他踢出去了。然后过了没多久，论坛连续两次被 DDOS 攻击，论坛排行榜错乱，最后查到了很多线索都指向了那个大佬。公众号应该提过不少次这件事了......\"},{\"col_type\":\"text_1\",\"name\":\"公元7年9月5日\",\"path\":\"y7m9d5\",\"rule\":\"【视界日报】\\n【日期】视界公元 7 年 9 月 5 日\\n【作者】Reborn\\n\\n欲知视界管理事，须关注视界日报。下面是今日发生的奇闻异事~\\n\\n【事件1】\\n昨日下午 17 点 19 分，殿主小棉袄突然向神殿全员发出警告：“神器入侵事件可能还没完，那个人可能还会再度折返侵犯神殿，诸位请不要放松警惕！”\\n\\n【事件2】\\n昨日晚上 20 点，车神墙佬在传师堂开课传授养娃经验，传师堂一时间被围的水泄不通。\\n\\n【事件3】\\n昨日晚上 22 点，日报社馆长 Reborn 外出归来后发现神殿众人突然纷纷催促殿主该盘算盘算成亲之事了，结果这动静引来了副殿主秋水仙子，殿主见之撒腿就跑，转眼就没影了。\\n\\n神殿众人叹道：“看来殿主这跪榴莲是跑不了了”\\n\\n秋水仙子闻之瞪了一眼神殿众人，神殿众人立马就一哄而散：“快跑！再不跑要被打了！”，留下了一脸无奈的秋水仙子，笑着摇了摇头后也转身向着殿主离开的方向迈步而去。\\n\\n【事件4】\\n震惊！传闻车神墙佬与 Reborn 正在合力研究提供原料自动打造原始灵胚之法！！此举惊动了神殿众神匠纷纷前来围观，并参与研究讨论。\\n\\n----------\\n\\n【真实事件还原】\\n1. 小棉袄说视界被入侵的事可能还没结束，有消息说那个人还准备搞破坏，大家一定要注意不要随意导入规则。\\n2. 墙佬说准备生小孩了就赶紧在周边大佬请教一下附近的医院，不然会被医院坑的你毫无还手之力（快做笔记！将来有用！）\\n3. 昨晚一众管理突然聊起小棉袄该盘算结婚的事了，然后小助理突然出现，小棉袄就没声音了，众人都怀疑是不是跪榴莲去了（滑稽.jpg）\\n4. 墙佬与 Reborn 正在一起研究一键出规则的方法！！\\n\\n【附言】\\n今晚将登出《前传：神器入侵事件后续》，敬请期待~\"},{\"col_type\":\"text_1\",\"name\":\"故事设定与现实\",\"path\":\"worldsetting\",\"rule\":\"这是这个世界的设定：\\n\\n【神殿】\\n视界管理群\\n【神匠】\\n已公认为视界做出杰出贡献的大佬，若有更经典（更为人所知）的称号，则不会赋予神匠之名，如 xx 创始人。\\n【xx 创始人】\\n某个知名规则的作者\\n【公元前】\\n视界 5.0 版本之前的时间\\n【公元】\\n视界 5.0 版本开始便为视界公元年，现在是 5.15 版本，所以是公元 15 年\\n【上古时代】\\n即方圆时代\\n【神兵仓库】\\n即道长仓库\\n【神兵池】\\n指未出现在道长仓库管理的小程序\\n【神殿公告】\\n新方圆小棉袄公众号\\n【神兵】\\n指某个小程序完整体，如小程序本身+其内调用的插件\\n【原始灵胚】\\n小程序主体，仅小程序本身，不包含其他调用的东西\\n【知天阁阁主】\\n日报虚构人物，现实暂不存在此人。\\n【神匠排行榜】\\n指视界论坛\\n【神殿积分】\\n即视界论坛积分\\n【神兵系统】\\n即指视界，链接各方小程序\"},{\"col_type\":\"text_1\",\"name\":\"公元7年9月6日\",\"path\":\"y7m9d6\",\"rule\":\"【视界日报】\\n【日期】视界公元 7 年 9 月 6 日\\n【作者】Reborn\\n\\n欲知视界管理事，须关注视界日报。下面是今日发生的奇闻异事~\\n\\n【事件1】\\n传闻前日车神墙佬与日报社馆长 Reborn 彻夜未睡通宵打造智能灵胚台。\\n\\n这款灵胚台的工作原理是只要你把打造灵胚的灵矿丢进灵胚台中，即可自动匹配配方打造出原始灵胚。\\n\\n而墙佬和 Reborn 二人都坚信，这定将改变世界，于是卯足了劲进行灵胚台的开发。\\n\\n直至昨日凌晨 3 点 29 分，第一版灵胚台终于面世，而后两人又对其进行优化了半个多时辰。\\n\\n然而在 4 点 36 分正当他们觉得可以完美收官去休息时，Reborn 突然发现灵胚台打造原始灵胚时有一个过程有缺陷：原始灵胚的“搜索引擎”部件无法与多个配方进行匹配！墙佬则认为不如明日上报殿主让他直接通过神兵系统开放原始灵胚的“搜索引擎”接口。Reborn 表示同意后二人不约而同地表示“睡觉睡觉”，相互寒暄一番后便各自离去。\\n\\n（PS：神兵系统是由神殿殿主打造的用于连接众神兵的管理系统，后又经 Reborn 和神匠 L 佬加以完善。）\\n\\n但是 Reborn 回到住处后，辗转反侧不能入眠，于是立马爬起来思考解决方案，最后让他给想到了！随后马上拿起图纸折返锻造室，没想到墙佬也在此，\\n\\nReborn 笑声大骂道：“你个狗东西，说睡觉不去睡觉的。”\\n\\n墙佬也不甘示弱：“你有资格说我吗？”\\n\\nReborn：“可是我搞定了”\\n\\n墙佬顿时两眼发亮盯着 Reborn：“？？？拿来看看？”\\n\\n最后两人越来越兴奋，直至天亮了仍未休息。\\n\\n在此期间，两人因灵胚台工作原理极像匹配模板，于是将第一代灵胚台命名为“模板”。\\n\\n【事件2】\\n昨日上午 9 点 42 分，在经过殿主的许可后，墙佬率众人下山，前往神殿最繁荣的附庸势力十一城展开了第一代灵胚台“模板”的发布会。\\n\\n（此时 Reborn 已经抵不住困意倒在了家里没有前往参与，醒来时后悔万分）\\n\\n此次发布会又一次给十一城带来了空前的盛况，发布会周围上上下下人满为患，连空中也挤满了人。在十一城门口，就已经能听到众人在不停地呐喊：“墙佬牛逼！墙佬牛逼！”。\\n\\n只见墙佬伸手微做下压之状，示意安静，顿时，十一城鸦雀无声，从外面听来，仿佛里面是一座死城一般。\\n\\n随后，墙佬对“模板”做起了介绍，并豪言道：“我们相信！这定将改变这个世界！”。\\n\\n发布会结束之时，一句话再度引燃了十一城：“最后！模板，免费开放！”\\n\\n这一刻，全城轰动、万众欢呼。上一次这样的场面，也是墙佬以一手 Q 系神兵令得十一城夜晚灯火彻夜通明、烟花不止。\\n\\n【事件3】\\n玄月伍日（即昨日 9 月 5 日）下午 17 点，神殿道友风佬因好奇发布会跟着下山去十一城游玩，没想到期间因被怀疑调戏良家妇女而被神殿留守在十一城的执法者晓镇压，而后直接被关禁闭。\\n\\n回归神殿后风佬找上晓佬对峙，晓佬只是淡淡地回了一句：“执行公务罢了”，随后便迈步离去，只留下风佬气的直跺脚。\\n\\n这会成为神殿势力分裂的萌芽吗？不，这并不会，有线报称，二人在饭点一起去了酒楼谈笑风生，嘻哈不断。\\n\\n【事件4】\\n有传闻昨日下午 17 点，风佬被晓佬关禁闭后，十一城掀起了一番骚乱。晓佬为镇压骚乱大开杀戒，一时间尸横遍野。还有传闻有本地居民路过看到这一幕直言道：“刚来就看到这么惊心动魄的一幕”\\n\\n后来，众人才知晓，原来当日十一城内，因有人对镇压风佬的决定有异议，甚至发动了起义，执法者晓决定采取了暴力镇压的手段来消除叛乱，维护了十一城的治安。\\n\\n【事件5】\\n昨日夜里 23 点 15 分，日报社馆长 Reborn 因近日无私发放的日报导致日报社缺水断粮，于是被迫营业，下山到十一城为日报社生存街头卖艺（误）卖器💦，在街头推销起了他锻造七七四十九的机关暗器。\\n\\n----------\\n\\n\\n【真实事件还原】\\n<strike>啊~太忙了没时间写了，晚上再还原吧~</strike>\\n来了来了~\\n\\n1. 墙佬和 Reborn 彻夜研究模板匹配自动出规则，结果墙佬直接 48 小时不睡，果然是超人~\\n2. 墙佬在内测 11 群发布“模板”后，11 群活跃度再次提升，直到今天晚上 20 点都还有人在玩“模板”\\n3. 昨天风佬被晓佬莫名关禁闭了，我也不知道怎么回事......但是问题并不大（滑稽.jpg）\\n4. Reborn 偷偷摸摸在内测 11 群宣传起他的“加解密工具”小程序🤪\"},{\"col_type\":\"movie_3\",\"name\":\"公元7年9月7日\",\"path\":\"y7m9d7\",\"rule\":\"今日报社馆长 Reborn 外出打工维持报社生存，因此停更一天，望周知～\"},{\"col_type\":\"text_1\",\"name\":\"公元7年9月8日\",\"path\":\"y7m9d8\",\"rule\":\"【视界日报】\\n【日期】视界公元 7 年 9 月 8 日\\n【作者】Reborn\\n\\n欲知视界管理事，须关注视界日报。下面是今日发生的奇闻异事~\\n\\n【事件1】\\n震惊！神匠 L 佬突然宣布辞去神兵仓库管理者的职位，开始了养老生活~\\n\\n目前神兵仓库已交还给神匠联盟盟主道长，传闻道长多次诚意挽留，最后还是没有留住 L 佬想养老的心，神殿众人纷纷表示婉惜。\\n\\n【事件2】\\n昨日下午 18 点 43 分，天意王子闭关处突然传来一阵锐耳的葱鸣。同一时刻，神殿不馋坊（就是厨房）中被拔下来准备入菜的葱以及无药田中仍在生长的葱，都纷纷颤动，随即便向天意王子的方向飞去。\\n\\n神殿众人闻动静不禁抬头，只见天上“绿油油”一片，有人忍不住大喊道：“是葱！”\\n\\n而后，天意王子破关而出，大喊道：“我练成啦！万溅龟......葱？卧槽？？！！”，看见成千上万的葱围在自己身边，最后一个葱字才缓缓道出。天意王子略微感应了一番，不禁头皮发麻：这些葱好像在馋他身子？？！！没有任何犹豫，天意王子立马破空而逃，万葱跟随。\\n\\n神殿众人不禁感叹道：“原来万溅龟葱秘法大成会惹来万葱馋身，此法果真了得~”\\n\\n一段时间过后，民间传出天意王子已规划好下一部要练的神功——唇羊无疾公，不知是否会与他之前传闻中的第一部修炼功法“葵花宝典”有冲突，从而导致走火入魔。有人问他他只淡淡地回了一句：“不疯魔不成佛”\\n\\n【事件3】\\n有密报称隔壁江湖与扶风正在大战，江湖为扰乱扶风军心，不惜使用美人计。\\n\\n----------\\n\\n【真实事件还原】\\n1. L 佬突然说自删仓库账号去养老了，现在仓库由道长继续维护\\n2. 王子出关改了个名叫唇羊无疾公\\n3. 江湖跟扶风解析在皇城 PK，目前这两个解析应该是用不了的\"},{\"col_type\":\"text_1\",\"name\":\"公元10年9月22日\",\"path\":\"y10m9d22\",\"rule\":\"【视界日报】\\n【日期】视界公元 10 年 9 月 22 日\\n【作者】Reborn\\n\\n欲知视界管理事，须关注视界日报。下面是今日发生的奇闻异事~\\n\\n【事件1】\\n眨眼视界公元年已过三，神殿日报馆长 Reborn 宣布自己可回归一日发表一期日报。\\n\\n【事件2】\\n墙佬于昨日中秋节在十一城举办了“走过路过不要错过错过无货”的限时活动，拿到门票者可前往神兵仓库领取墙佬的极品神兵，令十一城一个上午都激情澎湃，纷纷涌向神兵仓库，通往神兵仓库的通道一时拥塞不已（据说墙佬一口气送出了 20 个极品神兵，一滴都不剩了）\\n\\n【事件3】\\n墙佬以一己之力让神兵仓库二度陷入崩溃，盟主道长被迫紧急斥巨资扩张通往神兵仓库的通道\\n\\n【事件4】\\n！大新闻！传闻殿主正秘密给神兵系统造意大利炮！据说可以大幅提升神兵的进攻性！～\\n\\n----------\\n\\n【真实事件还原】\\n1. 视界不知不觉又走过了 3 个小版本\\n2. 昨天中秋节墙佬在 11 群举行了限时分享小程序活动\\n3. 由于墙佬的活动使群员太过活跃，道长仓库都崩溃了两次😂，道长加急维护提高最大链接人数\\n4. 小棉袄给视界开发了个牛逼的东西，下个版本即可见到，请诸位拭目以待～\"},{\"col_type\":\"text_1\",\"name\":\"公元10年9月25日\",\"path\":\"y10m9d25\",\"rule\":\"【视界日报】\\n【日期】视界公元 10 年 9 月 26 日\\n【作者】Reborn\\n\\n欲知视界管理事，须关注视界日报。下面是今日发生的奇闻异事~\\n  \\n【事件1】\\n昨日清晨，十一城传报发现仍未发布的神兵系统版本外泄，且盟主道长改造的神兵“App影视”惨遭贩卖（传闻是连带着神兵系统一起贩卖）。\\n\\n殿主闻言震怒，亲自出手彻查内奸，最终内奸于神殿中被捕，殿主直接将其驱逐出境。而后又揪出其同党若干，殿主下达禁令，永生不得再入神殿管辖范围。\\n\\n此次已非神殿第一次发现间谍，经过知天阁多番搜证后发现，此次事件与前几次出现的间谍都来自同一个邪恶势力——六魔楼。每一次间谍的发现，都会伴随一些神殿机密的泄漏，也间接使神匠们不再随意分享自己的作品，只有特定时刻才会开放。\\n\\n可见，邪恶势力真是坏东西，各位千万不要想不开加入他们，甚至还会被骗财骗色；同时，也希望各位若有发现，可积极举报，协助神殿铲除间谍。\\n\\n----------\\n\\n【真实事件还原】\\n1. 管理群新版视界被泄露，道长的APP影视小程序和未发布的视界被人打包贩卖，小棉袄震怒，排查内奸，发现管理群被入侵，小棉袄就将他踢出群，又挖出几个QQ号公布出来，让管理员全局拉黑。视界再度上演谍中谍事件~\\n\\n【附言】\\n在这里我想跟大家说的是，不要被人骗了钱，不要去付费加别的什么乱七八糟的群。\\n第一，未发布的视界它没发布说明还有点问题，管理群在测试，稳定了自然会在公众号发布出来，没有私藏版的。\\n第二，没有必要为了一个本来免费的小程序付费获取（偷偷告诉你们，我自己都没嫖到道长的APP影视，那又如何，现有的小程序已经够用了，再多也只是满足自己的收藏欲罢了，嫖不到就等下一次机会，不要被人利用你们的收藏欲来骗你们的钱了）\"},{\"col_type\":\"movie_3\",\"name\":\"公元15年10月30日\",\"path\":\"y15m10d30\",\"rule\":\"【视界日报】\\n【日期】视界公元 15 年 10 月 30 日\\n【作者】Reborn\\n\\n欲知视界管理事，须关注视界日报。下面是今日发生的奇闻异事~\\n\\n【事件1】\\n震惊！日报社馆长 Reborn 被知天阁阁主派往异域探查多年未归（五年有余），生死未卜，本以为日报社就此没落，如今突然归来！\\n\\nReborn 归来后，毫不犹豫直奔知天阁，眼神中隐约带着惊魂未定之色，似看见了大恐怖一般。\\n\\n【事件2】\\n传闻 Reborn 在异域染上不明恶疾，如今满口胡言，开口便是“该死的”，神殿御用药师诊断后也表示目前无能为力，只能靠 Reborn 自身功力慢慢化解。\\n\\n【事件3】\\n殿主今日一大早便更新了神兵系统，完成了昨日天意王子提出的“边缘渐变”之效。\\n\\n于此同时，香佬趁机上报了一个神兵系统的问题：神兵系统显示区域与手柄重叠，殿主随手一锤🔨便修复了，可见其功力之深厚~\\n\\n【事件4】\\n神匠明日发威独自一人拿下了某地材料库！并将其打造成神兵上传到了神兵仓库！\\n\\n【事件5】\\nReborn 短暂清醒了一段时间后，冲进了锻造室改造豆娃，而后豆娃新增了设置不能进入 HTML 配置的问题，看来是清醒了却又没完全清醒。\\n\\n----------\\n\\n【真实事件还原】\\n1. 今天大佬们突然催更，刚好有空，就更了一章（不要打我！）\\n2. 不知道什么时候被传染的口头禅🙈\\n3. 其实就是小棉袄加了功能和修复了 bug\\n4. 看明日大佬仓库有什么新的东西就知道了（滑稽.jpg）\\n5. 豆娃内测规则设置改为原生控件，不再跳到网页才能修改，这个是优化不是 BUG（冒汗.jpg）\"},{\"col_type\":\"movie_3\",\"name\":\"预告\",\"path\":\"notice\",\"rule\":\"【视界日报】\\n【日期】视界公元 15 年 10 月 30 日\\n【作者】Reborn\\n\\n欲知视界管理事，须关注视界日报。下面是今日奇闻异事的预告~\\n\\n【预告 by Joker】\\n日报社馆长 Reborn 被知天阁阁主派往异域探查多年未归，生死未卜，本以为日报社就此没落，岂料 Reborn 突然返回；\\n\\n究竟是人性的扭曲还是道德的沦丧？Reborn 又在异域看到了什么？\\n\\n今晚八点，道长仓库，不见不散~\"}]","icon":""},{"last_chapter_rule":"","pageList":[{"col_type":"text_1","name":"个人配置","path":"settings","rule":"js:\n// 是否显示帖子分类，显示/1 不显示/0\nvar showMeta = 1;\n// 帖子分类字体大小 big/大 span/中 small/小\nvar metaSize = 'small';\n// 帖子分类颜色\nvar nodeColor = \"#2979FF\";\n// 是否显示正文，显示/1 不显示/0\nvar showContent = 1;\n// 是否显示评论，显示/1 不显示/0\nvar showComment = 1;\n// 是否隐藏图片，隐藏/1 不隐藏/0\nvar hideImg = 0;\n// 使用 emoji 图标替换文本，使用/1 不使用/0\nvar useEmoji = 1;\n// 评论用户颜色\nvar userColor = \"#2979FF\";\n// 评论回复引用用户颜色\nvar quoteUserColor = \"black\";\n\n// 是否显示填写 Token 提示，显示/1 不显示/0\nvar showInputTokenTips = 1;\n// 是否开启收藏/点赞结果提示，是/1 否/0\nvar resultTips = 1;\n// 第几套图标，-1为随机，从下面三个数组挑选\nvar iconIndex = -1;\n// 收藏图标\nvar starIcons = [ \n    \"hiker://files/icon/bbs收藏.svg\",\n/*'https://www.easyicon.net/api/resizeApi.php?id=1286217&size=128',*/\n];\nvar starIconsWebMapping = [\n    \"https://cdn.jsdelivr.net/gh/RebornQ/cdn.hiker/icons/bbs收藏.svg\"\n];\n// 点赞图标\nvar likeIcons = [ \n    \"hiker://files/icon/bbs点赞.svg\",\n/*'https://www.easyicon.net/api/resizeApi.php?id=1288217&size=128',\n    'https://www.easyicon.net/api/resizeApi.php?id=1211507&size=128',\n    'https://www.easyicon.net/api/resizeApi.php?id=1239511&size=128'*/\n];\nvar likeIconsWebMapping = [\n    \"https://cdn.jsdelivr.net/gh/RebornQ/cdn.hiker/icons/bbs点赞.svg\"\n];\n// 回复图标\nvar commentIcons = [ \n    \"hiker://files/icon/bbs回复.svg\",\n/*'https://www.easyicon.net/api/resizeApi.php?id=1239495&size=128',*/\n];\nvar commentIconsWebMapping = [\n    \"https://cdn.jsdelivr.net/gh/RebornQ/cdn.hiker/icons/bbs回复.svg\"\n];\n// 原文章图标\n/*var articleIcons = [ 'https://www.easyicon.net/api/resizeApi.php?id=1238522&size=128',\n];*/\nif (!fileExist(starIcons[0])) {\n    writeFile(starIcons[0], request(starIconsWebMapping[0]));\n}\nif (!fileExist(likeIcons[0])) {\n    writeFile(likeIcons[0], request(likeIconsWebMapping[0]));\n}\nif (!fileExist(commentIcons[0])) {\n    writeFile(commentIcons[0], request(commentIconsWebMapping[0]));\n}"},{"col_type":"text_1","name":"富文本通用函数","path":"richtext","rule":"js:\nlet imgError = '<p><font color=\"grey\">图片暂时无法显示，若要查看请<a href=\"' + MY_URL + '\">访问原文</a></font></p>';\nString.prototype.replaceWithConfirm = function (confirmValue, searchValue, replaceValue) {\n    let returnValue = this;\n    if (confirmValue) {\n        returnValue = this.replace(searchValue, replaceValue)\n    }\n    return returnValue;\n};\nString.prototype.replaceWithCallback = function (searchValue, replaceValue, callback) {\n    let returnValue = this;\n    if (callback != null) {\n        returnValue = callback(this, searchValue, replaceValue);\n    }\n    return returnValue;\n};\nfunction imgTag(context, imgUrl) {\n    let replaceString = imgUrl === '' ? imgError : '<p><showimg src=\"' + (imgUrl + '@Referer=https://haikuoshijie.cn') + '\"></p>';\n    if (hideImg) {\n        replaceString = imgUrl === '' ? imgError : '<p><a href=\"' + imgUrl + '\">[点击查看大图]</a></p>';\n    }\n    return context.replace(/<img data-v>/g, replaceString);\n}\nfunction imgTagReplacement2(context, searchValue, replaceValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = context;\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            let item = matchArray[i];\n            /<img (src|data-src)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n            let imgUrl = RegExp.$2;\n            if (imgUrl !== '') {\n                returnValue = returnValue.replace(item, replaceValue);\n                returnValue = imgTag(returnValue, imgUrl);\n            }\n        }\n    }\n    return returnValue;\n}\nfunction abbreviateReplyText(context, textArray) {\n    let content = context;\n    for (let i = 0; i < textArray.length; i++) {\n        let text = parseDomForHtml(textArray[i], \"p&&Text\");\n        if (text.length > 30) {\n            content = content.replace(text, text.substring(0, 30) + \"......\");\n        }\n    }\n    return content;\n}"},{"col_type":"movie_3","name":"帖子详情","path":"detail","rule":"js:\nvar res = {};\nvar d = [];\nvar urlSplits = MY_URL.split(\"#\");\nvar mUrl = urlSplits[0];\nvar page = urlSplits[1];\nvar colType = 'rich_text';\n// mUrl = MY_PARAMS.link\n// log(MY_URL)\n\n\neval(JSON.parse(request('hiker://page/settings')).rule)\n/**\n * 用户 Token (需要先登录才能获取)\n *\n * 抓包 Cookie 中的 userToken= 后面那串东西\n * 或\n * 不填写固定值 则需配合专用插件自动获取\n * 但每次运行视界都需打开一次论坛\n */\nvar token = getItem('hikerbbs_token', '');\n\neval(JSON.parse(request('hiker://page/richtext')).rule)\n\nif (page > 1) {\n\n    let cursor = getVar(\"cursor\");\n    if (page === '2') cursor = getVar(\"first_page_cursor\");\n    cursor = cursor === '' ? '0' : cursor;\n\n    let urlTemplate = \"http://haikuoshijie.cn/api/comment/list?entityType=topic&entityId={entityId}&cursor={cursor}\";\n    if (/topic\\/(\\d+)/.test(MY_URL) === true) {\n        let entityId = RegExp.$1;\n        if (entityId != null && entityId !== \"\") {\n            let noMore = getVar(\"noMore\" + entityId);\n            noMore = noMore === '' ? '0' : noMore;\n            urlTemplate = urlTemplate.replace(\"{entityId}\", entityId);\n            url = urlTemplate.replace(\"{cursor}\", cursor);\n            // url = \"http://haikuoshijie.cn/api/comment/list?entityType=topic&entityId=398&cursor=9183\";\n            let json = {};\n            try {\n                json = JSON.parse(fetch(url, {}));\n                let data = json.data;\n                let results = data.results;\n                if (results != null) {\n                    let nowTime = new Date().getTime();\n                    putVar({\n                        key: 'cursor',\n                        value: data.cursor\n                    });\n\n                    function timeDiff(nowTime, createTime) {\n                        Date.prototype.format = function(fmt) {\n                            let o = {\n                                \"M+\": this.getMonth() + 1, //月份\n                                \"d+\": this.getDate(), //日\n                                \"h+\": this.getHours(), //小时\n                                \"m+\": this.getMinutes(), //分\n                                \"s+\": this.getSeconds(), //秒\n                                \"q+\": Math.floor((this.getMonth() + 3) / 3), //季度\n                                \"S\": this.getMilliseconds() //毫秒\n                            };\n                            if (/(y+)/.test(fmt)) {\n                                fmt = fmt.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));\n                            }\n                            for (let k in o) {\n                                if (new RegExp(\"(\" + k + \")\").test(fmt)) {\n                                    fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));\n                                }\n                            }\n                            return fmt;\n                        };\n                        let time = new Date(createTime).format(\"yyyy-MM-dd hh:mm:ss\");\n                        let timeDiff = nowTime - createTime;\n                        let days = Math.floor(timeDiff / (24 * 3600 * 1000)); // 计算出天数\n                        let dayLeave = timeDiff % (24 * 3600 * 1000); // 计算天数后剩余的时间\n                        let hours = Math.floor(dayLeave / (3600 * 1000)); // 计算天数后剩余的小时数\n                        let hourLeave = timeDiff % (3600 * 1000); // 计算剩余小时后剩余的毫秒数\n                        let minutes = Math.floor(hourLeave / (60 * 1000)); // 计算剩余的分钟数\n                        if (0 < days && days < 31) {\n                            time = days + \"天前\"\n                        } else if (days < 0) {\n                            if (hours > 0) {\n                                time = hours + \"小时前\";\n                            } else {\n                                time = minutes + \"分钟前\";\n                            }\n                        }\n                        return time;\n                    }\n\n                    for (let i = 0; i < results.length; i++) {\n                        let result = results[i];\n                        let quoteContent = '';\n                        if (result.quote != null) {\n                            let quote = result.quote;\n                            let content = parseDomForHtml(quote.content, 'body&&Html');\n                            let nickname = quote.user.nickname;\n\n                            // https://blog.csdn.net/GrootBaby/article/details/99980395\n                            let createTime = quote.user.createTime;\n                            let time = timeDiff(nowTime, createTime);\n\n                            try {\n                                content = content\n                                    .replace(/<a[\\s\\S].*?<\\/a>/g, '');\n                                let commentReplyTextArray = content.match(/<p[\\s\\S].*?<\\/p>/g);\n                                content = abbreviateReplyText(content, commentReplyTextArray);\n                            } catch (e) {}\n                            quoteContent = '<blockquote class=\"comment-quote\"><div class=\"comment-quote-user\"><a class=\"quote-nickname\"><font color=\"' + quoteUserColor + '\">' +\n                                nickname +\n                                '</font></a><span class=\"quote-time\"><font color=\"grey\">' +\n                                '\\t\\t' +\n                                time +\n                                '</font></span></div><div itemprop=\"text\">' +\n                                content +\n                                '</div></blockquote>';\n                        }\n                        let content = '<p>' + result.content + '</p>';\n                        let meta = '<br><small><font color=\"' + userColor + '\">' +\n                            result.user.nickname +\n                            '</font>\\t\\t<font color=\"grey\">' +\n                            timeDiff(nowTime, result.createTime) +\n                            '\\t\\t回复' +\n                            '</font></small>';\n                        let commentContent = quoteContent + content + meta;\n                        let title = commentContent\n                            .replace(/<img class=\"avatar([\\s\\S]*?)>/g, '')\n                            .replace(/(<(p)([\\s\\S]*?)>)|<p>|<\\/p>/g, '')\n                            .replaceWithCallback(/<img (src|data-src)=\"(.*?)\"([\\s\\S]*?)>/g, \"<img data-v>\", imgTagReplacement2)\n                            .replace(/<img([\\s\\S]*?)>/g, imgError)\n                            .replace(/<showimg/g, '<img');\n                        d.push({\n                            title: title,\n                            desc: '',\n                            url: MY_URL,\n                            col_type: colType\n                        });\n                        d.push({\n                            col_type: 'line'\n                        });\n                    }\n                } else {\n                    if (noMore) {\n                        d.push({\n                            title: \"<p></p>\" + '<center><font color=\"grey\">已无更多评论</font></center>',\n                            col_type: colType\n                        });\n                        putVar({\n                            key: 'noMore' + entityId,\n                            value: 1\n                        });\n                    }\n                }\n            } catch (e) {}\n        }\n    }\n} else {\n    var html = getResCode();\n    try {\n        var js = parseDom(html, '.main-content&&Html');\n        var hasRule = 0;\n\n        // setError(html);\n\n        try {\n\n            let title = '<p></p><big style=\"padding-left: 15px\"><strong>' + parseDomForHtml(html, '.topic-header-center&&h1&&Html') + \"</strong></big>\";\n            let meta = '';\n            // parseDomForHtml(html,'.topic-header-center&&.topic-meta&&Html')\n            let count = '<span style=\"color: grey\">' + parseDomForHtml(html, '.topic-header-center&&.topic-header-right&&Text') + \"</span>\";\n\n            if (showMeta) {\n                let metaItems = parseDomForArray(html, '.topic-meta&&.meta-item');\n                // setError(JSON.stringify(metaItems));\n                let metaNode = parseDomForHtml(metaItems[2], 'Text');\n                meta = '<font color=\"grey\">' + parseDomForHtml(metaItems[0], 'Text') +\n                    '  ' +\n                    parseDomForHtml(metaItems[1], 'Text') +\n                    '  ' +\n                    '</font><font color=\"' + nodeColor + '\">' + metaNode + '</font><font color=\"grey\">';\n                let metaTags = parseDomForArray('<div>' + metaItems[3] + '</div>', 'div&&.tag');\n                // setError(JSON.stringify(metaTags));\n                let metaTag = '';\n                for (let i = 0; i < metaTags.length; i++) {\n                    metaTag = (metaTag === '' ? metaTag : (metaTag + '  ')) +\n                        parseDomForHtml(metaTags[i], 'Text')\n                }\n                // metaTag = metaTag.replace('置顶', '““置顶””');\n                metaSize = metaSize === '' ? 'small' : metaSize;\n                meta = '<' + metaSize + '>' + meta + '  ' + metaTag + '</font></' + metaSize + '>' + '<br>';\n                // setError(meta);\n            }\n\n            // 👍🏻❤️🧡♡♥💬👁️➿𓁺\n            if (useEmoji)\n                count = count.replace(\"获赞：\", \"❤️ \")\n                .replace(\"评论：\", \"💬 \")\n                .replace(\"查看：\", \"👁️ \");\n\n            let header = \"\" + title + '\\t<small><font color=\"grey\"><a href=\"' + MY_URL + '\">[查看原文]</a></font></small>' + \"<br>\" + meta + count + '';\n\n            d.push({\n                title: header,\n                col_type: colType\n            });\n\n            for (let i = 0; i < 2; i++)\n                d.push({\n                    col_type: 'line'\n                });\n\n            if (showContent) {\n                let title = parseDomForHtml(html, '.content&&Html')\n                    .replaceWithCallback(/<img (src|data-src)=\"(.*?)\"([\\s\\S]*?)>/g, \"<img data-v>\", imgTagReplacement2)\n                    .replace(/<img([\\s\\S]*?)>/g, imgError)\n                    .replace(/<showimg/g, '<img')\n                    .replace(/(<(div)([\\s\\S]*?)>)|<div>|<\\/div>/g, '');\n                d.push({\n                    title: \"<p></p>\" + title,\n                    desc: '',\n                    url: '',\n                    col_type: colType\n                });\n\n            }\n\n            var regExp = /(.*?)￥(.*?)￥(.*)/;\n            if (js.indexOf('>海阔') !== -1) {\n\n                /*if (showContent) {\n                for(var i = 0; i < 2; i++)\n                d.push({\n                       col_type: 'line'\n                  });\n                }*/\n\n                let col = \"text_1\";\n                let list = js.match(/>海阔[\\s\\S]*?<\\//g);\n                if (list != null && list.length !== 0) hasRule = 1;\n                if (list != null && list.length > 1) {\n                    d.push({\n                        title: \"<p></p>\" + \"<big><b>本文所有规则一键导入</b></big>\",\n                        col_type: colType\n                    });\n                }\n                for (let j = 0; j < list.length; j++) {\n                    let title = list[j].split('>')[1].split('</')[0];\n                    let mTitle = title;\n\n                    if (regExp.test(title) === true) {\n                        col = \"text_3\";\n                        if (list.length === 1) mTitle = \"一键导入\";\n                        if (list.length > 1) {\n                            // var regExp1 = /(title\":\"(.*?)\")|(base64:\\/\\/@(.*?)@)|((.*?)@)/;\n                            // setError (RegExp.$2)\n                            mTitle = RegExp.$3;\n                            mTitle = (mTitle != null && mTitle !== '') ? mTitle : title;\n                            switch (RegExp.$2) {\n                                case \"home_rule\":\n                                    /title\":\"(.*?)\"/.test(mTitle);\n                                    mTitle = RegExp.$1;\n                                    break;\n                                case \"home_rule_v2\":\n                                    /base64:\\/\\/@(.*?)@/.test(mTitle);\n                                    mTitle = RegExp.$1;\n                                    break;\n                                case \"js_url\":\n                                    /(.*?)@/.test(mTitle);\n                                    mTitle = RegExp.$1;\n                                    break;\n                                case \"home_rule_url\":\n                                    mTitle = \"首页合集\";\n                                    break;\n                                case \"bookmark_url\":\n                                    mTitle = \"书签合集\";\n                                    break;\n                            }\n                        }\n                    }\n                    title = (mTitle != null && mTitle !== '') ? mTitle : title;\n                    if (title.length > 14) col = \"text_2\";\n\n                    d.push({\n                        title: title,\n                        desc: '🔔‘‘’’<b> 点击导入 </b>🔔',\n                        url: 'rule://' + base64Encode(decodeURIComponent(list[j].split('>')[1].split('</')[0].replace(/amp;/g, '')\n                            .replace(/&lt;/g, '<')\n                            .replace(/&gt;/g, '>'))),\n                        col_type: col\n                    });\n                }\n            } else\n            if (js.indexOf('<code>方圆') !== -1) {\n\n                /*if (showContent) {\n                for(var i = 0; i < 2; i++)\n                d.push({\n                       col_type: 'line'\n                  });\n                }*/\n\n                let list = js.match(/<code>方圆[\\s\\S]*?<\\/code/g);\n\n                if (list != null && list.length !== 0) hasRule = 1;\n                if (list != null && list.length > 1) {\n                    d.push({\n                        title: \"<p></p>\" + \"<big><b>本文所有规则一键导入</b></big>\",\n                        col_type: colType\n                    });\n                }\n\n                for (let j = 0; j < list.length; j++) {\n                    let title = parseDomForHtml(list[j], 'code&&Text');\n                    let mTitle = title;\n\n                    if (regExp.test(title) === true) {\n                        col = \"text_3\";\n                        if (list.length === 1) mTitle = \"一键导入\";\n                        if (list.length > 1) {\n                            mTitle = RegExp.$3;\n                            mTitle = (mTitle != null && mTitle !== '') ? mTitle : title;\n                            switch (RegExp.$2) {\n                                case \"source\":\n                                    /title\":\"(.*?)\"/.test(mTitle);\n                                    mTitle = RegExp.$1;\n                                    break;\n                            }\n                        }\n                    }\n                    title = (mTitle != null && mTitle !== '') ? mTitle : title;\n\n                    d.push({\n                        title: title,\n                        desc: '点击导入',\n                        url: 'rule://' + base64Encode(decodeURIComponent(list[j].split('>')[1].split('</')[0].replace(/amp;/g, '')\n                            .replace(/&lt;/g, '<')\n                            .replace(/&gt;/g, '>'))),\n                        col_type: col\n                    });\n                }\n            } else {\n\n            }\n\n            if (token !== '') {\n                let starIcon = starIcons[0];\n                let likeIcon = likeIcons[0];\n                let commentIcon = commentIcons[0];\n                // let articleIcon = articleIcons[0];\n                let starIconMax = starIcons.length - 1;\n                let likeIconMax = likeIcons.length - 1;\n                let commentIconMax = commentIcons.length - 1;\n                // let articleIconMax = articleIcons.length-1;\n                if (iconIndex === -1) {\n                    let maxLen = Math.max(starIconMax, likeIconMax, commentIconMax /*, articleIconMax*/ );\n                    iconIndex = Math.floor((Math.random() * (maxLen + 1)));\n                }\n                starIcon = starIcons[iconIndex > starIconMax ? starIconMax : iconIndex];\n                likeIcon = likeIcons[iconIndex > likeIconMax ? likeIconMax : iconIndex];\n                commentIcon = commentIcons[iconIndex > commentIconMax ? commentIconMax : iconIndex];\n                // articleIcon = articleIcons[iconIndex > articleIconMax ? articleIconMax : iconIndex];\n                let isStarred = 0;\n                let starStatus = '';\n                try {\n                    starStatus = parseDomForHtml(html, \".favorite.active&&Html\");\n                } catch (e) {\n                    starStatus = ''\n                }\n                if (starStatus !== '') isStarred = 1;\n                // setError(starStatus);\n                d.push({\n                    col_type: 'line',\n                });\n                d.push({ //  text_center_1 icon_small_3\n                    title: isStarred === 0 ? '收藏' : '已收藏',\n                    pic_url: starIcon,\n                    col_type: 'icon_small_3',\n                    url: $(mUrl).lazyRule((token, resultTips, isStarred) => {\n                        // let token =  getItem('hikerbbs_token', '');\n                        var mUrl = input;\n                        let message = '';\n                        if (/topic\\/(\\d+)/.test(mUrl) === true) {\n                            let entityId = RegExp.$1;\n                            if (entityId != null && entityId !== \"\") {\n                                let starUrl = 'https://haikuoshijie.cn/api/topic/favorite/' + entityId;\n                                if (isStarred) {\n                                    starUrl = 'https://haikuoshijie.cn/api/favorite/delete?entityType=topic&entityId=' + entityId;\n                                }\n                                let options = {\n                                    headers: {\n                                        'X-User-Token': token\n                                    },\n                                    body: '',\n                                    method: 'GET'\n                                };\n                                /*setError (options);*/\n                                let starResult = fetch(starUrl, options);\n                                /*setError (starResult);*/\n                                if (resultTips) {\n                                    starResult = JSON.parse(starResult);\n                                    message = starResult.message;\n                                    if (starResult.message === '') {\n                                        if (starResult.success === true) {\n                                            message = isStarred === 1 ? '已取消收藏' : '收藏成功';\n                                            refreshPage(false);\n                                        }\n                                    } else if (starResult.message === '请先登录') {\n                                        setItem('hikerbbs_token', '');\n                                        message = '请先登录';\n                                    }\n                                    message = 'toast://' + message;\n                                }\n                            }\n                        }\n                        return message\n                    }, token, resultTips, isStarred)\n                });\n                d.push({ //  text_center_1 icon_small_3\n                    title: '点赞',\n                    pic_url: likeIcon,\n                    col_type: 'icon_small_3',\n                    url: $(mUrl).lazyRule((token, resultTips) => {\n                        var mUrl = input;\n                        // let token =  getItem('hikerbbs_token', '');\n                        let message = '';\n                        if (/topic\\/(\\d+)/.test(mUrl) === true) {\n                            let entityId = RegExp.$1;\n                            if (entityId != null && entityId !== \"\") {\n                                let likeUrl = 'https://haikuoshijie.cn/api/topic/like/' + entityId;\n                                let options = {\n                                    headers: {\n                                        'X-User-Token': token\n                                    },\n                                    body: '',\n                                    method: 'POST'\n                                };\n                                /*setError (options);*/\n                                let likeResult = fetch(likeUrl, options);\n                                // log(likeResult);\n                                if (resultTips) {\n                                    likeResult = JSON.parse(likeResult);\n                                    message = likeResult.message;\n                                    if (likeResult.message === '') {\n                                        if (likeResult.success === true) message = '点赞成功';\n                                        refreshPage(false);\n                                    } else if (likeResult.message === '请先登录') {\n                                        setItem('hikerbbs_token', '');\n                                        message = '请先登录';\n                                    }\n                                    message = 'toast://' + message;\n                                }\n                            }\n                        }\n                        return message\n                    }, token, resultTips)\n                });\n                d.push({\n                    title: '回复',\n                    pic_url: commentIcon,\n                    col_type: 'icon_small_3',\n                    url: mUrl\n                });\n                /*d.push({\n                    title: '原文',\n                    pic_url: articleIcon,\n                    col_type: 'icon_small_3',\n                    url: mUrl\n                });*/\n                d.push({\n                    col_type: 'line',\n                });\n            } else {\n                if (!getItem(\"hikerbbs_token\", \"\")) {\n                    let loginPage = $.require(\"hiker://page/verify?rule=\" + \"视界论坛R\");\n                    loginPage = 'base64://' + base64Encode(loginPage({ onSuccess(userInfo) { /*log(userInfo)*/ }}))\n                    // log(loginPage)\n                    d.push({\n                        title: \"<p></p>\" + '<small><font color=\"grey\">' + '如需收藏或点赞功能，需先' + '<a href=\"' + loginPage + '\">登录</a>一次再返回刷新' + \"</font></small>\",\n                        col_type: colType\n                    });\n                }\n            }\n\n            if (showComment) {\n                /*if (hasRule) {\n                for(var i = 0; i < 2; i++)\n                d.push({\n                       col_type: 'line'\n                  });\n                }*/\n\n                /cursor:\"(.*?)\"/.test(html);\n                let cursorTemp = RegExp.$1;\n                let cursor = (cursorTemp != null && cursorTemp !== '') ? cursorTemp : '0';\n                putVar({\n                    key: 'cursor',\n                    value: cursor\n                });\n                putVar({\n                    key: 'first_page_cursor',\n                    value: cursor\n                });\n\n                d.push({\n                    title: \"<p></p>\" + \"<big><b>\" + parseDomForHtml(html, '.comment-title&&Html') + \"</b></big>\",\n                    col_type: colType\n                });\n                var pl = parseDom(html, '.comments&&Html')\n                    .match(/<li[\\s\\S]*?<\\/li/g);\n                if (pl == null || pl.length === 0) {\n                    d.push({\n                        title: \"<p></p>\" + '<font color=\"grey\">暂无评论</font>',\n                        col_type: colType\n                    });\n                } else {\n                    for (let j = 0; j < pl.length; j++) {\n                        // /(<(div|p)([\\s\\S]*?)>)|<div>|<p>|<\\/div>|<\\/p>/g\n                        let commentContent = parseDomForHtml(pl[j], '.comment-content&&Html')\n                            .replace(/<img class=\"avatar([\\s\\S]*?)>/g, '')\n                            .replace(/(<(p)([\\s\\S]*?)>)|<p>|<\\/p>/g, '')\n                            .replaceWithCallback(/<img (src|data-src)=\"(.*?)\"([\\s\\S]*?)>/g, \"<img data-v>\", imgTagReplacement2)\n                            .replace(/<img([\\s\\S]*?)>/g, imgError)\n                            .replace(/<showimg/g, '<img');\n                        try {\n                            let commentReplyText = parseDomForHtml(pl[j], '.comment-quote&&Html');\n                            let commentQuoteUsername = parseDomForHtml(commentReplyText, \".quote-nickname&&Html\");\n                            let commentQuoteTime = parseDomForHtml(commentReplyText, \".quote-time&&Html\");\n                            commentReplyText = commentReplyText\n                                .replace(/<a[\\s\\S].*?<\\/a>/g, '');\n                            let commentReplyTextArray = commentReplyText.match(/<p[\\s\\S].*?<\\/p>/g);\n                            commentContent = abbreviateReplyText(commentContent, commentReplyTextArray)\n                                .replace(commentQuoteUsername, '<font color=\"' + quoteUserColor + '\">' + commentQuoteUsername + '</font>')\n                                .replace(commentQuoteTime, '<font color=\"grey\">' + commentQuoteTime + '</font>');\n                        } catch (e) {}\n                        d.push({ // p,-2\n                            title: \"<p></p>\" + commentContent + '<br><small>' + parseDomForHtml(pl[j], '.comment-nickname&&Html').replace(/<a[\\s\\S].*?>/g, '<font color=\"' + userColor + '\">').replace(/<\\/a>/g, \"</font>\") + '\\t\\t<font color=\"grey\">' + parseDomForHtml(pl[j], '.comment-meta--span&&Text') + '</font></small>',\n                            desc: '',\n                            url: MY_URL,\n                            col_type: colType\n                        });\n                        d.push({\n                            col_type: 'line'\n                        });\n                    }\n                }\n            }\n        } catch (e) {}\n    } catch (e) {\n        d.push({\n            title: '<p style=\"text-align: center;\">该页面无法解析或话题不存在</p><p style=\"text-align: center;\"><a href=\"' + MY_URL + '\">查看原文</a></p>',\n            col_type: 'rich_text'\n        })\n    }\n}\n\nres.data = d;\nsetHomeResult(res);"},{"col_type":"movie_3","name":"验证页面","path":"verify","rule":"evalPrivateJS(\"3cLXjtBC0G3dIAf32EY0nQM6hi25ocHyN0ZccoQp9rvV6zJ99kH0brtERsczuW+ccs2yQyVIU6i2gGGGBtsg3I4J1QTByLjOVAGEaoHoTqK0p5bF5a6WC/EAVGEQhokoIYxXX+PgCecuqlu7AtSknxwwGde5U7DxRJtWXHcKWo20LTxYB8R3rdxElnuzOfE9xhpU5+nFZfYUcYRt08/qTfLYnxxJl7s8GhXOfKx0zhP5YL9WDmTqThykJ3WiSjBli6xICWJrSPQh3roXFpagj0rDplVcLva0B+KV/pG5CPRYwPK5IWLmfx9ZbPkVLwSOaLngCTr8K1cYTVNaHNRNiXbyuNPQgL8Q0ptqjywBxEop2i5Jn5Cw/0PMMcIYk5vAGCpbeIRBBmMdaCqOTaAoMB8X7QM3qMk4bEyGt78TnKfJkCaMOQuA+lo3am1jNvZYkCJ4jORjI1ZgTQqE7PfLZNRTPCtd+3/uoo4AuU36yWXXxijikojaTbsvViFyvv8KOsBMioLfn/X4uTLaVRDCCbpDsTIetdlQhA0OAnE8l70tV587KnBZsaGZ9PMkvM38sQwLx9z8lMVg9RBbAe/eb8sVp+Lto47ETvMzB5tq37nTwXujtDYWHns+lHyvmjaN64nS34BX0AeVmW70kCm4X9P92sKA9SK+/NHsqf13COv73R9joSXqLk2Pnl45fpe/EglQ6JH1fZB+QoDxgRJ1WsGgjrP+ORoz0DcOLV2gppR0SPAsYjdnBkO1cCQ6x+WufQr7JW9leGGDU2avMQN0qLOFVEdFethPe+b+LwbSf3z65UoGhFrbVItFAO/k5w/TW1V26oilFYyXFZ+v7EHE8N5XbqPfLG5AAUEvrchS4WZCnCwka1oBQ7196/QOjjQ2F3sMR9d4Dr7U+UYQmHh3FsHL77NcgX2kZESwnzFZ3b8s/mKgae7p8/lhMFcByZxAC7LdWHydx0hZ+QtrU/Nvz4JE5C3nuYWs6PI8fj2qn3sWyT28PhU/UlmjF5aA+epyVC+cXLf/5sJJCNbbRIXrwCp4W3tp0s7c0h9dfNl8+oU9lTjHnYNZ6kQ2KWcNk9a+Pif0cYrLGG+qcfWADOV09fRx4ibYG3+wtppp0I5MEGze3/yGoYpsLT5uyr6CKWQVnjxxc80QwrKOFkgxZ7mfpk3QGZoaLC36Lw4+3JqB0fUs2N81E7Ddo0usxe7HGr/9msD+vhDjV+8bntDyO55xUK6idOPQ8jwM1nJ1du2lmXpBxb0Q5zxlyFpVY50ndwfuhNyuiYQi5a8xWFHWryIBvJqbnx0+EFbKczbrWmOQ3IPS3+sZdjkFUPxOWBME09ciX/q+Mg1EAhfrh7czDIH5rzgW7ZVqG0aUdB1pA9hocpd+bZ0/4ujIw+MrOGONHmxyvq1cLRDQMz5i8/I0W3ZpShUgs6JPE+chD5Af5wrhV13999bxiLaMkRmTj3Ru3UtCyyvLSNZWc/sIn/vWSAHU9nQUEBGUplbqM6Jdj2Wh3M3yh6yKJjdLcYASe1eNTWs+ae5joWCY8Lzupn/6/GAii8S7hgtOfffexp6dFG2t7tbz3y3HhAQ9GuMC3bzT1bZXu785TYinZJjAM722T/fVCbtXOEmFscwhGIKFOk2q8VcUc4akJbcXW4VsX5PECryIT8FTZ/9ma0OlXwM4w1Si6tiP9jqUFe9smi7tvimjjdme8/8W+jSr0oXxHw5gXzjlO9ERdwA8R5bawEr1KzGLyApb9k3keVrbc29pR8V88zWfWR0lMt4tEaT1tpc26aMVyHDKW0c177GihbND7WzX3Hw5ACwUccKpzPeu8LAaHjelSctdU5jvWkMhrRgB5IIqszKUNGYBWiUx+RK+kMAwhRKDqiLleWCuyojp6NRFkHZFFjBneFO6qc76HSw4zkiNQJrO0KgrGbTev+xhmrO8X06m+tkk0ecsF4QaTqRjJFA0riZtTpbc0bL0v0qtxxqdlEW8viEpEu+S7nAWyJ6l2Xi8fe3rxysWYIqTUURsSuuNQe33u5hDmvg6roxrgc8L7pRH6IDHCvBLXw+J2zttCxWofMB5XIcY4va7fyAkU/SI1Q70Coy8t4fFBjB4DbvVSa+aMluqKoPaA/MQMtquiGJ3VyiRHjdKlmOJhuHQ3MUTuxC0hDaVOGB59mmFS93blFbKYzA+zWHPg1o1C9m9rJeNapf8EA39QiNvnV7krCIzAexgU9gMKNYdJ+6XSuU+6BKDe5Mz3vAV27YkJCwmzt+Bpae/Oqn129gsZmfwRyL3UGyiAdZe3M+Y+2ZqwGyLvQa2gwCFMWqSTJ2lmOQHqezjr648kwm9XjUFEzY8HlnLK8tI1lZz+wif+9ZIAdT2PHbvAbMrNAWiNS/uh4i2RkyRox7hPSfyUfwxQfqLaQ6SIyB1n4deNdPBPsna6EkOjlcUfpcHco5LGToSa9PCxYZNPux3IBitzyUVwT1OS7WMWDmqWowP4ATnKcQ9RtJgHSS66lhqdkWK+oJp5DYLHqGFb9x9STCccczbO6D1xdTD8GwlKCIQkWfqv0IvgCZystGEe2E2xFb9ycmlf6n0WqZGE8vUyvn03fGsdbwQOM7OlDL7DvzzsOQnK+/bCc4nRPioJ6uIl1jF5xE5Mn2MIXAN3XVeP2bW2+tAdB0Zt733UGyiAdZe3M+Y+2ZqwGyLvQa2gwCFMWqSTJ2lmOQHqRsNVcw1ozQXfIPW2LQsltUo3sGUVclMl0YESnjcmDz8PVnVL+z1/vdFC8zeWrEtNmfmLl/MxBrEGPFG1+ctBF/9akTFweOhXC5Tf3ynHrKPPXH9ZzTw4Od9/be26buNwCUiXQ3jyDXuq8Hg3zfd5AnkdIn7hu0BddfSYL4ShDvWkjUUJkpXa//XFtaxMQt8DP+cQaojiyMJMO8G1ql+g8GsrAnebfWFkiIV44NVggene1UGCWS3d1sPIaHnrAtEoUCt+ARrHgLZWiZ6OdtqYeSIv7j6+OJ9SE7NAEJAIkh/RhlU7ivx7G1KPasIinrsigWon7fJxU1JMElt4ER4wC+wO5slFfogNk/OPy3BDpJyDWlaANo0/NXNWWzr5ylT+FjIvT7oNGXJ0WXiOQ1NbN9Z8nfk32G9DvIp1lAkl2nRC7LdWHydx0hZ+QtrU/Nvz4SZiK8eR9m3C230+f0JjCDAFtqkNSVT/FY+v+j00b3s44PKDuMroZjPXH4+72bJPXHOqDkUoywHfvt/4sz2iYFwBG1YTBZxxep4VcZ+HcOCyyvLSNZWc/sIn/vWSAHU9pOeKtJGX3ZnUwxacqo+tWa7uL8AbN09NWQn10kxd323Sfu5RbIcnLEG3yeqUIN+ZJ5WqeTzANnA9Ee6weG2/w2Urx2EG2/3jBjKiIWs2NXPJlaCzpidRa0is2FJPVlh/Msry0jWVnP7CJ/71kgB1PbhZS49es64hgo8snU+mt3Xx/0P3Ed9dmduHotrzBkEtlgaBiC+z2SpcxB9gZ6GXypLSXWaj+qEUbGJKEx+jK/vyyvLSNZWc/sIn/vWSAHU9vbO5HxIeRh/pleBN++9aeq9gfAcpO7SOOE6hv33pJd2NXWo7ywrhGdcJN5VytArzjPEJv2PLBemuX8uxAtD0UL44SUOxkgl28uP3g4RGCw/R3lUyr7Vi5Z2C4E7U+EbiNM+LoOsCIVKPLIzMY9UI54ZWAn8PC8OASnUmKt5s4TLvh8W+u1lL/2uKMQhfT2dPPBYsnEes5babEbtGxJaGoU1iznBHKxvFttoVZs4RUT7ckGEsQ9p1EjBgcvWheDEIybaCp71v11JvD4axoU01sBh5OTCl7DvoZqDwoixp0O5mM7rGWBhQ3N9D9RK4FDWVZoeUKna5p2IAwctyh4IRnWt69Ng2JBTTP0d21Qrpy/gaxeCn9NT7oni4PBOjgxbBeUaKO7DcFo/Ure+iGjsDmAzNhkbDFyQQvBRQUqWZILR7mTdnYJ3WFJ0GntGTvEm+0ORha/tKuw0SqLIhIXxCUyn16hUlACQTh2GjJwwEAj0yyvLSNZWc/sIn/vWSAHU9oSXX/0EVz2npCr5sKYVQl08i14APG705ihqnbPcXULNc/HVM1CeZoPkw/fJ9VlwSgOoTdgVRc75vUySMOYCr6YuMUa3TtkughVt0IqrKoSzeYyBFf3dY+u4Ch2A9cyL/hYL5qlMsLe7FzfC0o29YEYo+b5qqTvhBODGBCfbUSywyyvLSNZWc/sIn/vWSAHU9t0ezq6AtpU4FWpELoUrJjsDqE3YFUXO+b1MkjDmAq+mo3sYlYaLS3MFG5W8GXJlncsry0jWVnP7CJ/71kgB1PY499mp8Ss/C3x8mWijcUeh9R7L1yDJwzXM70VWSBd1piYwFmWqXn8fXoh+Jj6nJE5So3GS9w+JfFh/HoOA84qCW3V5+DosWT7eQRcJB/6Ucm8vuGIikhXb9KiyKIYBRw/Zz9mwhatc4hStOXx5KR0dKYPyXQT6opwwf/yyq/bX2JZUCzFVaQ+nzyA8NB+5JpPOlDL7DvzzsOQnK+/bCc4n0edCTxQb/OtvSSEJTuYHxEfUuMHkRXnJeF2e0yTqTnrdW/Ww+kayZes0CKJsDH2L6DzNaYOGj4dWqkT6S5efebdlZRUameQIjQ/NeqBNgdVn3NRjpsEor8nJ5c2w3c3DyyvLSNZWc/sIn/vWSAHU9k85G0eu8oxOWueBLcwhpUvHsp1PjPSkcGlJn+XxV+cRKCoh5TwNkRCSZ7cVd4VMvtBNoxVLQ3Q6RS8uM/VSK2Mn19QRxIda+Tx+nKfD4GRgC/iPfelCYuu9BxR+8VPBEfXjj3eCz5wcbgYWdnrtSFxGO8FP2gPMsWSsfffh+c7coyjMiPW+0CkMAILVNKoGGOeRY4YDcu0q+EeE53AvbonAd6UPWWgR6wLIPnTUftFjFZ171zX2eNtc6EWAA1fZpAkGt4w+eqGh2SkqwIzVfHYC7bozcBnYFCld9FXOOhff7SJV0JMRpE5TaAgUd843RGuCFlpHR3QjshqFPpX6O6pfgKDbpALvs1h8TzTVg4zvVJa8J9q1sJywqs2P5DJ443+hTF7ePUSPBBc/5Ligijk=\")"}],"title":"视界论坛R","author":"微笑&发粪涂墙&Reborn","version":42,"url":"https://haikuoshijie.cn/topics/node/fyAll?p=fypage","col_type":"text_1","class_name":"最新&热门&推荐&视界","class_url":"newest&hot&recommend&1","area_name":"求助&插件&教程&方圆&摸鱼","area_url":"5&7&8&2&6","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\n// 使用 emoji 图标替换文本，使用/1 不使用/0\nvar useEmoji = 1;\n// 帖子分类颜色\nvar nodeColor = \"#2979FF\";\n// 是否显示点赞数评论数等，显示/1 不显示/0\nvar showLike = 1;\n\n/**\n * 通过插件自动获取 Token 到文件中然后自动读取\n *\n * 注意：以上方的 token 为主\n */\nlet token = getItem('hikerbbs_token', '');\nvar cookie = token === '' ? '' : 'userToken=' + token;\nvar headers = '';\nif (cookie !== '') {\n    headers = ';get;UTF-8;{User-Agent@Android&&Cookie@' + cookie + '}';\n}\n\nvar html = getResCode();\nvar list = parseDomForArray(html, '.topic-list&&.topic-item');\nfor (let j = 0; j < list.length; j++) {\n    let author = parseDomForHtml(list[j], '.topic-author&&Text');\n    let metaItems = parseDomForArray(list[j], '.topic-meta&&.meta-item');\n    // setError(JSON.stringify(metaItems));\n    let metaNode = parseDomForHtml(metaItems[1], 'Text');\n    let meta = parseDomForHtml(metaItems[0], 'Text') +\n        '  ' +\n        '<font color=\"' + nodeColor + '\">' + metaNode + '</font>';\n    let metaTags = parseDomForArray('<div>' + metaItems[2] + '</div>', 'div&&.tag');\n    // setError(JSON.stringify(metaTags));\n    let metaTag = '';\n    for (let i = 0; i < metaTags.length; i++) {\n        metaTag = (metaTag === '' ? metaTag : (metaTag + '  ')) +\n            parseDomForHtml(metaTags[i], 'Text')\n    }\n    metaTag = metaTag.replace('置顶', '““置顶””');\n    meta = meta + '  ' + metaTag;\n    let desc = author + ' ““””' + meta;\n    if (showLike) {\n        let likeItems = parseDomForArray(list[j], '.like&&.like-item');\n        // setError(JSON.stringify(list[j]));\n        let likeCount = parseDomForHtml(likeItems[0], 'Text');\n        let commentCount = parseDomForHtml(likeItems[1], 'Text');\n        let seeCount = parseDomForHtml(likeItems[2], 'Text');\n        let like = '获赞：' + (likeCount != null && likeCount !== 'undefined' && likeCount !== '' ? likeCount : '0') +\n            '\\t\\t' +\n            '评论：' + (commentCount != null && commentCount !== 'undefined' && commentCount !== '' ? commentCount : '0') +\n            '\\t\\t' +\n            '查看：' + (seeCount != null && seeCount !== 'undefined' && seeCount !== '' ? seeCount : '0');\n        // 👍🏻👍❤️🧡♥️💛🖤♡♥💬👁️➿𓁺\n        if (useEmoji)\n            like = like.replace(\"获赞：\", \"❤️ \")\n            .replace(\"评论：\", \"💬 \")\n            .replace(\"查看：\", \"👁️ \");\n        desc = desc + '\\n\\n' + like;\n    }\n    let url = parseDom(list[j], 'h1&&a&&href') + \"#fypage\" + \"#noHistory#\" +\n        (headers === '' ? '' : headers);\n    url = url.replace(/\\n/g, '');\n    // setError(url);\n    // https://haikuoshijie.cn/topic/2982#fypage#noHistory#;GET;utf-8;{Cookie@userToken=xxxxxx}\n    d.push({\n        title: parseDomForHtml(list[j], 'h1&&Text'),\n        desc: desc,\n        url: 'hiker://page/detail#noHistory#',\n        extra: {\n            url: url,\n        }\n    });\n}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\nvar res = {};\nvar d = [];\n\nlet token = getItem('hikerbbs_token', '');\nvar cookie = token === '' ? '' : 'userToken=' + token;\nvar headers = '';\nif (cookie !== '') {\n    headers = ';get;UTF-8;{User-Agent@Android&&Cookie@' + cookie + '}';\n}\n\n/**\n * 获取搜索源码\n * etc.\n * hiker://empty/#fypage@-1@*11@#**\n * https://cn.bing.com/search?q=site:haikuoshijie.cn+**&first=fypage@-1@*11@&wd=**\n */\nlet urlSplits = MY_URL.split('#');\nlet searchUrl = 'https://cn.bing.com/search?q=site:haikuoshijie.cn+'\n    + urlSplits[2]\n    + '&wd='\n    + urlSplits[2]\n    + '&first='\n    + urlSplits[1];\n\nlet html = fetch(searchUrl, {\n    headers: {\n        'User-Agent': MOBILE_UA\n    },\n})\n\n// setError(html);\n\nvar list = parseDomForArray(html, '#b_results&&.b_algo');\n// log(JSON.stringify(list));\nfor (var j in list) {\n    try {\n        // log(JSON.stringify(list[j]));\n        let url = parseDomForHtml(list[j], 'a&&href');\n        // log(JSON.stringify(url));\n        url = url + \"#fypage\" + \"#noHistory#\" + (headers === \"\" ? \"\" : headers)\n        d.push({\n            title: parseDomForHtml(list[j], 'h2&&Text'),\n            url: 'hiker://page/detail#noHistory#',\n            extra: {\n                url: url,\n            },\n            content: parseDomForHtml(list[j], 'p&&Text').replace(/Translate · /g, ''),\n            desc: url\n        });\n    } catch (e) { }\n}\n\nres.data = d;\nsetSearchResult(res);","search_url":"hiker://empty/#fypage@-1@*11@#**","titleColor":"#ff148e8e","group":"①推荐","detail_col_type":"text_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"let oldTokenFile = 'hiker://files/rules/js/hikerbbs_token.js';\nif (fileExist(oldTokenFile)) {\n    let fileToken = fetch(oldTokenFile, {});\n    if (fileToken != null && fileToken != '') {\n        writeFile(oldTokenFile, '');\n    }\n}","pages":"[{\"col_type\":\"text_1\",\"name\":\"个人配置\",\"path\":\"settings\",\"rule\":\"js:\\n// 是否显示帖子分类，显示/1 不显示/0\\nvar showMeta = 1;\\n// 帖子分类字体大小 big/大 span/中 small/小\\nvar metaSize = 'small';\\n// 帖子分类颜色\\nvar nodeColor = \\\"#2979FF\\\";\\n// 是否显示正文，显示/1 不显示/0\\nvar showContent = 1;\\n// 是否显示评论，显示/1 不显示/0\\nvar showComment = 1;\\n// 是否隐藏图片，隐藏/1 不隐藏/0\\nvar hideImg = 0;\\n// 使用 emoji 图标替换文本，使用/1 不使用/0\\nvar useEmoji = 1;\\n// 评论用户颜色\\nvar userColor = \\\"#2979FF\\\";\\n// 评论回复引用用户颜色\\nvar quoteUserColor = \\\"black\\\";\\n\\n// 是否显示填写 Token 提示，显示/1 不显示/0\\nvar showInputTokenTips = 1;\\n// 是否开启收藏/点赞结果提示，是/1 否/0\\nvar resultTips = 1;\\n// 第几套图标，-1为随机，从下面三个数组挑选\\nvar iconIndex = -1;\\n// 收藏图标\\nvar starIcons = [ \\n    \\\"hiker://files/icon/bbs收藏.svg\\\",\\n/*'https://www.easyicon.net/api/resizeApi.php?id=1286217&size=128',*/\\n];\\nvar starIconsWebMapping = [\\n    \\\"https://cdn.jsdelivr.net/gh/RebornQ/cdn.hiker/icons/bbs收藏.svg\\\"\\n];\\n// 点赞图标\\nvar likeIcons = [ \\n    \\\"hiker://files/icon/bbs点赞.svg\\\",\\n/*'https://www.easyicon.net/api/resizeApi.php?id=1288217&size=128',\\n    'https://www.easyicon.net/api/resizeApi.php?id=1211507&size=128',\\n    'https://www.easyicon.net/api/resizeApi.php?id=1239511&size=128'*/\\n];\\nvar likeIconsWebMapping = [\\n    \\\"https://cdn.jsdelivr.net/gh/RebornQ/cdn.hiker/icons/bbs点赞.svg\\\"\\n];\\n// 回复图标\\nvar commentIcons = [ \\n    \\\"hiker://files/icon/bbs回复.svg\\\",\\n/*'https://www.easyicon.net/api/resizeApi.php?id=1239495&size=128',*/\\n];\\nvar commentIconsWebMapping = [\\n    \\\"https://cdn.jsdelivr.net/gh/RebornQ/cdn.hiker/icons/bbs回复.svg\\\"\\n];\\n// 原文章图标\\n/*var articleIcons = [ 'https://www.easyicon.net/api/resizeApi.php?id=1238522&size=128',\\n];*/\\nif (!fileExist(starIcons[0])) {\\n    writeFile(starIcons[0], request(starIconsWebMapping[0]));\\n}\\nif (!fileExist(likeIcons[0])) {\\n    writeFile(likeIcons[0], request(likeIconsWebMapping[0]));\\n}\\nif (!fileExist(commentIcons[0])) {\\n    writeFile(commentIcons[0], request(commentIconsWebMapping[0]));\\n}\"},{\"col_type\":\"text_1\",\"name\":\"富文本通用函数\",\"path\":\"richtext\",\"rule\":\"js:\\nlet imgError = '<p><font color=\\\"grey\\\">图片暂时无法显示，若要查看请<a href=\\\"' + MY_URL + '\\\">访问原文</a></font></p>';\\nString.prototype.replaceWithConfirm = function (confirmValue, searchValue, replaceValue) {\\n    let returnValue = this;\\n    if (confirmValue) {\\n        returnValue = this.replace(searchValue, replaceValue)\\n    }\\n    return returnValue;\\n};\\nString.prototype.replaceWithCallback = function (searchValue, replaceValue, callback) {\\n    let returnValue = this;\\n    if (callback != null) {\\n        returnValue = callback(this, searchValue, replaceValue);\\n    }\\n    return returnValue;\\n};\\nfunction imgTag(context, imgUrl) {\\n    let replaceString = imgUrl === '' ? imgError : '<p><showimg src=\\\"' + (imgUrl + '@Referer=https://haikuoshijie.cn') + '\\\"></p>';\\n    if (hideImg) {\\n        replaceString = imgUrl === '' ? imgError : '<p><a href=\\\"' + imgUrl + '\\\">[点击查看大图]</a></p>';\\n    }\\n    return context.replace(/<img data-v>/g, replaceString);\\n}\\nfunction imgTagReplacement2(context, searchValue, replaceValue) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = context;\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            let item = matchArray[i];\\n            /<img (src|data-src)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n            let imgUrl = RegExp.$2;\\n            if (imgUrl !== '') {\\n                returnValue = returnValue.replace(item, replaceValue);\\n                returnValue = imgTag(returnValue, imgUrl);\\n            }\\n        }\\n    }\\n    return returnValue;\\n}\\nfunction abbreviateReplyText(context, textArray) {\\n    let content = context;\\n    for (let i = 0; i < textArray.length; i++) {\\n        let text = parseDomForHtml(textArray[i], \\\"p&&Text\\\");\\n        if (text.length > 30) {\\n            content = content.replace(text, text.substring(0, 30) + \\\"......\\\");\\n        }\\n    }\\n    return content;\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"帖子详情\",\"path\":\"detail\",\"rule\":\"js:\\nvar res = {};\\nvar d = [];\\nvar urlSplits = MY_URL.split(\\\"#\\\");\\nvar mUrl = urlSplits[0];\\nvar page = urlSplits[1];\\nvar colType = 'rich_text';\\n// mUrl = MY_PARAMS.link\\n// log(MY_URL)\\n\\n\\neval(JSON.parse(request('hiker://page/settings')).rule)\\n/**\\n * 用户 Token (需要先登录才能获取)\\n *\\n * 抓包 Cookie 中的 userToken= 后面那串东西\\n * 或\\n * 不填写固定值 则需配合专用插件自动获取\\n * 但每次运行视界都需打开一次论坛\\n */\\nvar token = getItem('hikerbbs_token', '');\\n\\neval(JSON.parse(request('hiker://page/richtext')).rule)\\n\\nif (page > 1) {\\n\\n    let cursor = getVar(\\\"cursor\\\");\\n    if (page === '2') cursor = getVar(\\\"first_page_cursor\\\");\\n    cursor = cursor === '' ? '0' : cursor;\\n\\n    let urlTemplate = \\\"http://haikuoshijie.cn/api/comment/list?entityType=topic&entityId={entityId}&cursor={cursor}\\\";\\n    if (/topic\\\\/(\\\\d+)/.test(MY_URL) === true) {\\n        let entityId = RegExp.$1;\\n        if (entityId != null && entityId !== \\\"\\\") {\\n            let noMore = getVar(\\\"noMore\\\" + entityId);\\n            noMore = noMore === '' ? '0' : noMore;\\n            urlTemplate = urlTemplate.replace(\\\"{entityId}\\\", entityId);\\n            url = urlTemplate.replace(\\\"{cursor}\\\", cursor);\\n            // url = \\\"http://haikuoshijie.cn/api/comment/list?entityType=topic&entityId=398&cursor=9183\\\";\\n            let json = {};\\n            try {\\n                json = JSON.parse(fetch(url, {}));\\n                let data = json.data;\\n                let results = data.results;\\n                if (results != null) {\\n                    let nowTime = new Date().getTime();\\n                    putVar({\\n                        key: 'cursor',\\n                        value: data.cursor\\n                    });\\n\\n                    function timeDiff(nowTime, createTime) {\\n                        Date.prototype.format = function(fmt) {\\n                            let o = {\\n                                \\\"M+\\\": this.getMonth() + 1, //月份\\n                                \\\"d+\\\": this.getDate(), //日\\n                                \\\"h+\\\": this.getHours(), //小时\\n                                \\\"m+\\\": this.getMinutes(), //分\\n                                \\\"s+\\\": this.getSeconds(), //秒\\n                                \\\"q+\\\": Math.floor((this.getMonth() + 3) / 3), //季度\\n                                \\\"S\\\": this.getMilliseconds() //毫秒\\n                            };\\n                            if (/(y+)/.test(fmt)) {\\n                                fmt = fmt.replace(RegExp.$1, (this.getFullYear() + \\\"\\\").substr(4 - RegExp.$1.length));\\n                            }\\n                            for (let k in o) {\\n                                if (new RegExp(\\\"(\\\" + k + \\\")\\\").test(fmt)) {\\n                                    fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? (o[k]) : ((\\\"00\\\" + o[k]).substr((\\\"\\\" + o[k]).length)));\\n                                }\\n                            }\\n                            return fmt;\\n                        };\\n                        let time = new Date(createTime).format(\\\"yyyy-MM-dd hh:mm:ss\\\");\\n                        let timeDiff = nowTime - createTime;\\n                        let days = Math.floor(timeDiff / (24 * 3600 * 1000)); // 计算出天数\\n                        let dayLeave = timeDiff % (24 * 3600 * 1000); // 计算天数后剩余的时间\\n                        let hours = Math.floor(dayLeave / (3600 * 1000)); // 计算天数后剩余的小时数\\n                        let hourLeave = timeDiff % (3600 * 1000); // 计算剩余小时后剩余的毫秒数\\n                        let minutes = Math.floor(hourLeave / (60 * 1000)); // 计算剩余的分钟数\\n                        if (0 < days && days < 31) {\\n                            time = days + \\\"天前\\\"\\n                        } else if (days < 0) {\\n                            if (hours > 0) {\\n                                time = hours + \\\"小时前\\\";\\n                            } else {\\n                                time = minutes + \\\"分钟前\\\";\\n                            }\\n                        }\\n                        return time;\\n                    }\\n\\n                    for (let i = 0; i < results.length; i++) {\\n                        let result = results[i];\\n                        let quoteContent = '';\\n                        if (result.quote != null) {\\n                            let quote = result.quote;\\n                            let content = parseDomForHtml(quote.content, 'body&&Html');\\n                            let nickname = quote.user.nickname;\\n\\n                            // https://blog.csdn.net/GrootBaby/article/details/99980395\\n                            let createTime = quote.user.createTime;\\n                            let time = timeDiff(nowTime, createTime);\\n\\n                            try {\\n                                content = content\\n                                    .replace(/<a[\\\\s\\\\S].*?<\\\\/a>/g, '');\\n                                let commentReplyTextArray = content.match(/<p[\\\\s\\\\S].*?<\\\\/p>/g);\\n                                content = abbreviateReplyText(content, commentReplyTextArray);\\n                            } catch (e) {}\\n                            quoteContent = '<blockquote class=\\\"comment-quote\\\"><div class=\\\"comment-quote-user\\\"><a class=\\\"quote-nickname\\\"><font color=\\\"' + quoteUserColor + '\\\">' +\\n                                nickname +\\n                                '</font></a><span class=\\\"quote-time\\\"><font color=\\\"grey\\\">' +\\n                                '\\\\t\\\\t' +\\n                                time +\\n                                '</font></span></div><div itemprop=\\\"text\\\">' +\\n                                content +\\n                                '</div></blockquote>';\\n                        }\\n                        let content = '<p>' + result.content + '</p>';\\n                        let meta = '<br><small><font color=\\\"' + userColor + '\\\">' +\\n                            result.user.nickname +\\n                            '</font>\\\\t\\\\t<font color=\\\"grey\\\">' +\\n                            timeDiff(nowTime, result.createTime) +\\n                            '\\\\t\\\\t回复' +\\n                            '</font></small>';\\n                        let commentContent = quoteContent + content + meta;\\n                        let title = commentContent\\n                            .replace(/<img class=\\\"avatar([\\\\s\\\\S]*?)>/g, '')\\n                            .replace(/(<(p)([\\\\s\\\\S]*?)>)|<p>|<\\\\/p>/g, '')\\n                            .replaceWithCallback(/<img (src|data-src)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/g, \\\"<img data-v>\\\", imgTagReplacement2)\\n                            .replace(/<img([\\\\s\\\\S]*?)>/g, imgError)\\n                            .replace(/<showimg/g, '<img');\\n                        d.push({\\n                            title: title,\\n                            desc: '',\\n                            url: MY_URL,\\n                            col_type: colType\\n                        });\\n                        d.push({\\n                            col_type: 'line'\\n                        });\\n                    }\\n                } else {\\n                    if (noMore) {\\n                        d.push({\\n                            title: \\\"<p></p>\\\" + '<center><font color=\\\"grey\\\">已无更多评论</font></center>',\\n                            col_type: colType\\n                        });\\n                        putVar({\\n                            key: 'noMore' + entityId,\\n                            value: 1\\n                        });\\n                    }\\n                }\\n            } catch (e) {}\\n        }\\n    }\\n} else {\\n    var html = getResCode();\\n    try {\\n        var js = parseDom(html, '.main-content&&Html');\\n        var hasRule = 0;\\n\\n        // setError(html);\\n\\n        try {\\n\\n            let title = '<p></p><big style=\\\"padding-left: 15px\\\"><strong>' + parseDomForHtml(html, '.topic-header-center&&h1&&Html') + \\\"</strong></big>\\\";\\n            let meta = '';\\n            // parseDomForHtml(html,'.topic-header-center&&.topic-meta&&Html')\\n            let count = '<span style=\\\"color: grey\\\">' + parseDomForHtml(html, '.topic-header-center&&.topic-header-right&&Text') + \\\"</span>\\\";\\n\\n            if (showMeta) {\\n                let metaItems = parseDomForArray(html, '.topic-meta&&.meta-item');\\n                // setError(JSON.stringify(metaItems));\\n                let metaNode = parseDomForHtml(metaItems[2], 'Text');\\n                meta = '<font color=\\\"grey\\\">' + parseDomForHtml(metaItems[0], 'Text') +\\n                    '  ' +\\n                    parseDomForHtml(metaItems[1], 'Text') +\\n                    '  ' +\\n                    '</font><font color=\\\"' + nodeColor + '\\\">' + metaNode + '</font><font color=\\\"grey\\\">';\\n                let metaTags = parseDomForArray('<div>' + metaItems[3] + '</div>', 'div&&.tag');\\n                // setError(JSON.stringify(metaTags));\\n                let metaTag = '';\\n                for (let i = 0; i < metaTags.length; i++) {\\n                    metaTag = (metaTag === '' ? metaTag : (metaTag + '  ')) +\\n                        parseDomForHtml(metaTags[i], 'Text')\\n                }\\n                // metaTag = metaTag.replace('置顶', '““置顶””');\\n                metaSize = metaSize === '' ? 'small' : metaSize;\\n                meta = '<' + metaSize + '>' + meta + '  ' + metaTag + '</font></' + metaSize + '>' + '<br>';\\n                // setError(meta);\\n            }\\n\\n            // 👍🏻❤️🧡♡♥💬👁️➿𓁺\\n            if (useEmoji)\\n                count = count.replace(\\\"获赞：\\\", \\\"❤️ \\\")\\n                .replace(\\\"评论：\\\", \\\"💬 \\\")\\n                .replace(\\\"查看：\\\", \\\"👁️ \\\");\\n\\n            let header = \\\"\\\" + title + '\\\\t<small><font color=\\\"grey\\\"><a href=\\\"' + MY_URL + '\\\">[查看原文]</a></font></small>' + \\\"<br>\\\" + meta + count + '';\\n\\n            d.push({\\n                title: header,\\n                col_type: colType\\n            });\\n\\n            for (let i = 0; i < 2; i++)\\n                d.push({\\n                    col_type: 'line'\\n                });\\n\\n            if (showContent) {\\n                let title = parseDomForHtml(html, '.content&&Html')\\n                    .replaceWithCallback(/<img (src|data-src)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/g, \\\"<img data-v>\\\", imgTagReplacement2)\\n                    .replace(/<img([\\\\s\\\\S]*?)>/g, imgError)\\n                    .replace(/<showimg/g, '<img')\\n                    .replace(/(<(div)([\\\\s\\\\S]*?)>)|<div>|<\\\\/div>/g, '');\\n                d.push({\\n                    title: \\\"<p></p>\\\" + title,\\n                    desc: '',\\n                    url: '',\\n                    col_type: colType\\n                });\\n\\n            }\\n\\n            var regExp = /(.*?)￥(.*?)￥(.*)/;\\n            if (js.indexOf('>海阔') !== -1) {\\n\\n                /*if (showContent) {\\n                for(var i = 0; i < 2; i++)\\n                d.push({\\n                       col_type: 'line'\\n                  });\\n                }*/\\n\\n                let col = \\\"text_1\\\";\\n                let list = js.match(/>海阔[\\\\s\\\\S]*?<\\\\//g);\\n                if (list != null && list.length !== 0) hasRule = 1;\\n                if (list != null && list.length > 1) {\\n                    d.push({\\n                        title: \\\"<p></p>\\\" + \\\"<big><b>本文所有规则一键导入</b></big>\\\",\\n                        col_type: colType\\n                    });\\n                }\\n                for (let j = 0; j < list.length; j++) {\\n                    let title = list[j].split('>')[1].split('</')[0];\\n                    let mTitle = title;\\n\\n                    if (regExp.test(title) === true) {\\n                        col = \\\"text_3\\\";\\n                        if (list.length === 1) mTitle = \\\"一键导入\\\";\\n                        if (list.length > 1) {\\n                            // var regExp1 = /(title\\\":\\\"(.*?)\\\")|(base64:\\\\/\\\\/@(.*?)@)|((.*?)@)/;\\n                            // setError (RegExp.$2)\\n                            mTitle = RegExp.$3;\\n                            mTitle = (mTitle != null && mTitle !== '') ? mTitle : title;\\n                            switch (RegExp.$2) {\\n                                case \\\"home_rule\\\":\\n                                    /title\\\":\\\"(.*?)\\\"/.test(mTitle);\\n                                    mTitle = RegExp.$1;\\n                                    break;\\n                                case \\\"home_rule_v2\\\":\\n                                    /base64:\\\\/\\\\/@(.*?)@/.test(mTitle);\\n                                    mTitle = RegExp.$1;\\n                                    break;\\n                                case \\\"js_url\\\":\\n                                    /(.*?)@/.test(mTitle);\\n                                    mTitle = RegExp.$1;\\n                                    break;\\n                                case \\\"home_rule_url\\\":\\n                                    mTitle = \\\"首页合集\\\";\\n                                    break;\\n                                case \\\"bookmark_url\\\":\\n                                    mTitle = \\\"书签合集\\\";\\n                                    break;\\n                            }\\n                        }\\n                    }\\n                    title = (mTitle != null && mTitle !== '') ? mTitle : title;\\n                    if (title.length > 14) col = \\\"text_2\\\";\\n\\n                    d.push({\\n                        title: title,\\n                        desc: '🔔‘‘’’<b> 点击导入 </b>🔔',\\n                        url: 'rule://' + base64Encode(decodeURIComponent(list[j].split('>')[1].split('</')[0].replace(/amp;/g, '')\\n                            .replace(/&lt;/g, '<')\\n                            .replace(/&gt;/g, '>'))),\\n                        col_type: col\\n                    });\\n                }\\n            } else\\n            if (js.indexOf('<code>方圆') !== -1) {\\n\\n                /*if (showContent) {\\n                for(var i = 0; i < 2; i++)\\n                d.push({\\n                       col_type: 'line'\\n                  });\\n                }*/\\n\\n                let list = js.match(/<code>方圆[\\\\s\\\\S]*?<\\\\/code/g);\\n\\n                if (list != null && list.length !== 0) hasRule = 1;\\n                if (list != null && list.length > 1) {\\n                    d.push({\\n                        title: \\\"<p></p>\\\" + \\\"<big><b>本文所有规则一键导入</b></big>\\\",\\n                        col_type: colType\\n                    });\\n                }\\n\\n                for (let j = 0; j < list.length; j++) {\\n                    let title = parseDomForHtml(list[j], 'code&&Text');\\n                    let mTitle = title;\\n\\n                    if (regExp.test(title) === true) {\\n                        col = \\\"text_3\\\";\\n                        if (list.length === 1) mTitle = \\\"一键导入\\\";\\n                        if (list.length > 1) {\\n                            mTitle = RegExp.$3;\\n                            mTitle = (mTitle != null && mTitle !== '') ? mTitle : title;\\n                            switch (RegExp.$2) {\\n                                case \\\"source\\\":\\n                                    /title\\\":\\\"(.*?)\\\"/.test(mTitle);\\n                                    mTitle = RegExp.$1;\\n                                    break;\\n                            }\\n                        }\\n                    }\\n                    title = (mTitle != null && mTitle !== '') ? mTitle : title;\\n\\n                    d.push({\\n                        title: title,\\n                        desc: '点击导入',\\n                        url: 'rule://' + base64Encode(decodeURIComponent(list[j].split('>')[1].split('</')[0].replace(/amp;/g, '')\\n                            .replace(/&lt;/g, '<')\\n                            .replace(/&gt;/g, '>'))),\\n                        col_type: col\\n                    });\\n                }\\n            } else {\\n\\n            }\\n\\n            if (token !== '') {\\n                let starIcon = starIcons[0];\\n                let likeIcon = likeIcons[0];\\n                let commentIcon = commentIcons[0];\\n                // let articleIcon = articleIcons[0];\\n                let starIconMax = starIcons.length - 1;\\n                let likeIconMax = likeIcons.length - 1;\\n                let commentIconMax = commentIcons.length - 1;\\n                // let articleIconMax = articleIcons.length-1;\\n                if (iconIndex === -1) {\\n                    let maxLen = Math.max(starIconMax, likeIconMax, commentIconMax /*, articleIconMax*/ );\\n                    iconIndex = Math.floor((Math.random() * (maxLen + 1)));\\n                }\\n                starIcon = starIcons[iconIndex > starIconMax ? starIconMax : iconIndex];\\n                likeIcon = likeIcons[iconIndex > likeIconMax ? likeIconMax : iconIndex];\\n                commentIcon = commentIcons[iconIndex > commentIconMax ? commentIconMax : iconIndex];\\n                // articleIcon = articleIcons[iconIndex > articleIconMax ? articleIconMax : iconIndex];\\n                let isStarred = 0;\\n                let starStatus = '';\\n                try {\\n                    starStatus = parseDomForHtml(html, \\\".favorite.active&&Html\\\");\\n                } catch (e) {\\n                    starStatus = ''\\n                }\\n                if (starStatus !== '') isStarred = 1;\\n                // setError(starStatus);\\n                d.push({\\n                    col_type: 'line',\\n                });\\n                d.push({ //  text_center_1 icon_small_3\\n                    title: isStarred === 0 ? '收藏' : '已收藏',\\n                    pic_url: starIcon,\\n                    col_type: 'icon_small_3',\\n                    url: $(mUrl).lazyRule((token, resultTips, isStarred) => {\\n                        // let token =  getItem('hikerbbs_token', '');\\n                        var mUrl = input;\\n                        let message = '';\\n                        if (/topic\\\\/(\\\\d+)/.test(mUrl) === true) {\\n                            let entityId = RegExp.$1;\\n                            if (entityId != null && entityId !== \\\"\\\") {\\n                                let starUrl = 'https://haikuoshijie.cn/api/topic/favorite/' + entityId;\\n                                if (isStarred) {\\n                                    starUrl = 'https://haikuoshijie.cn/api/favorite/delete?entityType=topic&entityId=' + entityId;\\n                                }\\n                                let options = {\\n                                    headers: {\\n                                        'X-User-Token': token\\n                                    },\\n                                    body: '',\\n                                    method: 'GET'\\n                                };\\n                                /*setError (options);*/\\n                                let starResult = fetch(starUrl, options);\\n                                /*setError (starResult);*/\\n                                if (resultTips) {\\n                                    starResult = JSON.parse(starResult);\\n                                    message = starResult.message;\\n                                    if (starResult.message === '') {\\n                                        if (starResult.success === true) {\\n                                            message = isStarred === 1 ? '已取消收藏' : '收藏成功';\\n                                            refreshPage(false);\\n                                        }\\n                                    } else if (starResult.message === '请先登录') {\\n                                        setItem('hikerbbs_token', '');\\n                                        message = '请先登录';\\n                                    }\\n                                    message = 'toast://' + message;\\n                                }\\n                            }\\n                        }\\n                        return message\\n                    }, token, resultTips, isStarred)\\n                });\\n                d.push({ //  text_center_1 icon_small_3\\n                    title: '点赞',\\n                    pic_url: likeIcon,\\n                    col_type: 'icon_small_3',\\n                    url: $(mUrl).lazyRule((token, resultTips) => {\\n                        var mUrl = input;\\n                        // let token =  getItem('hikerbbs_token', '');\\n                        let message = '';\\n                        if (/topic\\\\/(\\\\d+)/.test(mUrl) === true) {\\n                            let entityId = RegExp.$1;\\n                            if (entityId != null && entityId !== \\\"\\\") {\\n                                let likeUrl = 'https://haikuoshijie.cn/api/topic/like/' + entityId;\\n                                let options = {\\n                                    headers: {\\n                                        'X-User-Token': token\\n                                    },\\n                                    body: '',\\n                                    method: 'POST'\\n                                };\\n                                /*setError (options);*/\\n                                let likeResult = fetch(likeUrl, options);\\n                                // log(likeResult);\\n                                if (resultTips) {\\n                                    likeResult = JSON.parse(likeResult);\\n                                    message = likeResult.message;\\n                                    if (likeResult.message === '') {\\n                                        if (likeResult.success === true) message = '点赞成功';\\n                                        refreshPage(false);\\n                                    } else if (likeResult.message === '请先登录') {\\n                                        setItem('hikerbbs_token', '');\\n                                        message = '请先登录';\\n                                    }\\n                                    message = 'toast://' + message;\\n                                }\\n                            }\\n                        }\\n                        return message\\n                    }, token, resultTips)\\n                });\\n                d.push({\\n                    title: '回复',\\n                    pic_url: commentIcon,\\n                    col_type: 'icon_small_3',\\n                    url: mUrl\\n                });\\n                /*d.push({\\n                    title: '原文',\\n                    pic_url: articleIcon,\\n                    col_type: 'icon_small_3',\\n                    url: mUrl\\n                });*/\\n                d.push({\\n                    col_type: 'line',\\n                });\\n            } else {\\n                if (!getItem(\\\"hikerbbs_token\\\", \\\"\\\")) {\\n                    let loginPage = $.require(\\\"hiker://page/verify?rule=\\\" + \\\"视界论坛R\\\");\\n                    loginPage = 'base64://' + base64Encode(loginPage({ onSuccess(userInfo) { /*log(userInfo)*/ }}))\\n                    // log(loginPage)\\n                    d.push({\\n                        title: \\\"<p></p>\\\" + '<small><font color=\\\"grey\\\">' + '如需收藏或点赞功能，需先' + '<a href=\\\"' + loginPage + '\\\">登录</a>一次再返回刷新' + \\\"</font></small>\\\",\\n                        col_type: colType\\n                    });\\n                }\\n            }\\n\\n            if (showComment) {\\n                /*if (hasRule) {\\n                for(var i = 0; i < 2; i++)\\n                d.push({\\n                       col_type: 'line'\\n                  });\\n                }*/\\n\\n                /cursor:\\\"(.*?)\\\"/.test(html);\\n                let cursorTemp = RegExp.$1;\\n                let cursor = (cursorTemp != null && cursorTemp !== '') ? cursorTemp : '0';\\n                putVar({\\n                    key: 'cursor',\\n                    value: cursor\\n                });\\n                putVar({\\n                    key: 'first_page_cursor',\\n                    value: cursor\\n                });\\n\\n                d.push({\\n                    title: \\\"<p></p>\\\" + \\\"<big><b>\\\" + parseDomForHtml(html, '.comment-title&&Html') + \\\"</b></big>\\\",\\n                    col_type: colType\\n                });\\n                var pl = parseDom(html, '.comments&&Html')\\n                    .match(/<li[\\\\s\\\\S]*?<\\\\/li/g);\\n                if (pl == null || pl.length === 0) {\\n                    d.push({\\n                        title: \\\"<p></p>\\\" + '<font color=\\\"grey\\\">暂无评论</font>',\\n                        col_type: colType\\n                    });\\n                } else {\\n                    for (let j = 0; j < pl.length; j++) {\\n                        // /(<(div|p)([\\\\s\\\\S]*?)>)|<div>|<p>|<\\\\/div>|<\\\\/p>/g\\n                        let commentContent = parseDomForHtml(pl[j], '.comment-content&&Html')\\n                            .replace(/<img class=\\\"avatar([\\\\s\\\\S]*?)>/g, '')\\n                            .replace(/(<(p)([\\\\s\\\\S]*?)>)|<p>|<\\\\/p>/g, '')\\n                            .replaceWithCallback(/<img (src|data-src)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/g, \\\"<img data-v>\\\", imgTagReplacement2)\\n                            .replace(/<img([\\\\s\\\\S]*?)>/g, imgError)\\n                            .replace(/<showimg/g, '<img');\\n                        try {\\n                            let commentReplyText = parseDomForHtml(pl[j], '.comment-quote&&Html');\\n                            let commentQuoteUsername = parseDomForHtml(commentReplyText, \\\".quote-nickname&&Html\\\");\\n                            let commentQuoteTime = parseDomForHtml(commentReplyText, \\\".quote-time&&Html\\\");\\n                            commentReplyText = commentReplyText\\n                                .replace(/<a[\\\\s\\\\S].*?<\\\\/a>/g, '');\\n                            let commentReplyTextArray = commentReplyText.match(/<p[\\\\s\\\\S].*?<\\\\/p>/g);\\n                            commentContent = abbreviateReplyText(commentContent, commentReplyTextArray)\\n                                .replace(commentQuoteUsername, '<font color=\\\"' + quoteUserColor + '\\\">' + commentQuoteUsername + '</font>')\\n                                .replace(commentQuoteTime, '<font color=\\\"grey\\\">' + commentQuoteTime + '</font>');\\n                        } catch (e) {}\\n                        d.push({ // p,-2\\n                            title: \\\"<p></p>\\\" + commentContent + '<br><small>' + parseDomForHtml(pl[j], '.comment-nickname&&Html').replace(/<a[\\\\s\\\\S].*?>/g, '<font color=\\\"' + userColor + '\\\">').replace(/<\\\\/a>/g, \\\"</font>\\\") + '\\\\t\\\\t<font color=\\\"grey\\\">' + parseDomForHtml(pl[j], '.comment-meta--span&&Text') + '</font></small>',\\n                            desc: '',\\n                            url: MY_URL,\\n                            col_type: colType\\n                        });\\n                        d.push({\\n                            col_type: 'line'\\n                        });\\n                    }\\n                }\\n            }\\n        } catch (e) {}\\n    } catch (e) {\\n        d.push({\\n            title: '<p style=\\\"text-align: center;\\\">该页面无法解析或话题不存在</p><p style=\\\"text-align: center;\\\"><a href=\\\"' + MY_URL + '\\\">查看原文</a></p>',\\n            col_type: 'rich_text'\\n        })\\n    }\\n}\\n\\nres.data = d;\\nsetHomeResult(res);\"},{\"col_type\":\"movie_3\",\"name\":\"验证页面\",\"path\":\"verify\",\"rule\":\"evalPrivateJS(\\\"3cLXjtBC0G3dIAf32EY0nQM6hi25ocHyN0ZccoQp9rvV6zJ99kH0brtERsczuW+ccs2yQyVIU6i2gGGGBtsg3I4J1QTByLjOVAGEaoHoTqK0p5bF5a6WC/EAVGEQhokoIYxXX+PgCecuqlu7AtSknxwwGde5U7DxRJtWXHcKWo20LTxYB8R3rdxElnuzOfE9xhpU5+nFZfYUcYRt08/qTfLYnxxJl7s8GhXOfKx0zhP5YL9WDmTqThykJ3WiSjBli6xICWJrSPQh3roXFpagj0rDplVcLva0B+KV/pG5CPRYwPK5IWLmfx9ZbPkVLwSOaLngCTr8K1cYTVNaHNRNiXbyuNPQgL8Q0ptqjywBxEop2i5Jn5Cw/0PMMcIYk5vAGCpbeIRBBmMdaCqOTaAoMB8X7QM3qMk4bEyGt78TnKfJkCaMOQuA+lo3am1jNvZYkCJ4jORjI1ZgTQqE7PfLZNRTPCtd+3/uoo4AuU36yWXXxijikojaTbsvViFyvv8KOsBMioLfn/X4uTLaVRDCCbpDsTIetdlQhA0OAnE8l70tV587KnBZsaGZ9PMkvM38sQwLx9z8lMVg9RBbAe/eb8sVp+Lto47ETvMzB5tq37nTwXujtDYWHns+lHyvmjaN64nS34BX0AeVmW70kCm4X9P92sKA9SK+/NHsqf13COv73R9joSXqLk2Pnl45fpe/EglQ6JH1fZB+QoDxgRJ1WsGgjrP+ORoz0DcOLV2gppR0SPAsYjdnBkO1cCQ6x+WufQr7JW9leGGDU2avMQN0qLOFVEdFethPe+b+LwbSf3z65UoGhFrbVItFAO/k5w/TW1V26oilFYyXFZ+v7EHE8N5XbqPfLG5AAUEvrchS4WZCnCwka1oBQ7196/QOjjQ2F3sMR9d4Dr7U+UYQmHh3FsHL77NcgX2kZESwnzFZ3b8s/mKgae7p8/lhMFcByZxAC7LdWHydx0hZ+QtrU/Nvz4JE5C3nuYWs6PI8fj2qn3sWyT28PhU/UlmjF5aA+epyVC+cXLf/5sJJCNbbRIXrwCp4W3tp0s7c0h9dfNl8+oU9lTjHnYNZ6kQ2KWcNk9a+Pif0cYrLGG+qcfWADOV09fRx4ibYG3+wtppp0I5MEGze3/yGoYpsLT5uyr6CKWQVnjxxc80QwrKOFkgxZ7mfpk3QGZoaLC36Lw4+3JqB0fUs2N81E7Ddo0usxe7HGr/9msD+vhDjV+8bntDyO55xUK6idOPQ8jwM1nJ1du2lmXpBxb0Q5zxlyFpVY50ndwfuhNyuiYQi5a8xWFHWryIBvJqbnx0+EFbKczbrWmOQ3IPS3+sZdjkFUPxOWBME09ciX/q+Mg1EAhfrh7czDIH5rzgW7ZVqG0aUdB1pA9hocpd+bZ0/4ujIw+MrOGONHmxyvq1cLRDQMz5i8/I0W3ZpShUgs6JPE+chD5Af5wrhV13999bxiLaMkRmTj3Ru3UtCyyvLSNZWc/sIn/vWSAHU9nQUEBGUplbqM6Jdj2Wh3M3yh6yKJjdLcYASe1eNTWs+ae5joWCY8Lzupn/6/GAii8S7hgtOfffexp6dFG2t7tbz3y3HhAQ9GuMC3bzT1bZXu785TYinZJjAM722T/fVCbtXOEmFscwhGIKFOk2q8VcUc4akJbcXW4VsX5PECryIT8FTZ/9ma0OlXwM4w1Si6tiP9jqUFe9smi7tvimjjdme8/8W+jSr0oXxHw5gXzjlO9ERdwA8R5bawEr1KzGLyApb9k3keVrbc29pR8V88zWfWR0lMt4tEaT1tpc26aMVyHDKW0c177GihbND7WzX3Hw5ACwUccKpzPeu8LAaHjelSctdU5jvWkMhrRgB5IIqszKUNGYBWiUx+RK+kMAwhRKDqiLleWCuyojp6NRFkHZFFjBneFO6qc76HSw4zkiNQJrO0KgrGbTev+xhmrO8X06m+tkk0ecsF4QaTqRjJFA0riZtTpbc0bL0v0qtxxqdlEW8viEpEu+S7nAWyJ6l2Xi8fe3rxysWYIqTUURsSuuNQe33u5hDmvg6roxrgc8L7pRH6IDHCvBLXw+J2zttCxWofMB5XIcY4va7fyAkU/SI1Q70Coy8t4fFBjB4DbvVSa+aMluqKoPaA/MQMtquiGJ3VyiRHjdKlmOJhuHQ3MUTuxC0hDaVOGB59mmFS93blFbKYzA+zWHPg1o1C9m9rJeNapf8EA39QiNvnV7krCIzAexgU9gMKNYdJ+6XSuU+6BKDe5Mz3vAV27YkJCwmzt+Bpae/Oqn129gsZmfwRyL3UGyiAdZe3M+Y+2ZqwGyLvQa2gwCFMWqSTJ2lmOQHqezjr648kwm9XjUFEzY8HlnLK8tI1lZz+wif+9ZIAdT2PHbvAbMrNAWiNS/uh4i2RkyRox7hPSfyUfwxQfqLaQ6SIyB1n4deNdPBPsna6EkOjlcUfpcHco5LGToSa9PCxYZNPux3IBitzyUVwT1OS7WMWDmqWowP4ATnKcQ9RtJgHSS66lhqdkWK+oJp5DYLHqGFb9x9STCccczbO6D1xdTD8GwlKCIQkWfqv0IvgCZystGEe2E2xFb9ycmlf6n0WqZGE8vUyvn03fGsdbwQOM7OlDL7DvzzsOQnK+/bCc4nRPioJ6uIl1jF5xE5Mn2MIXAN3XVeP2bW2+tAdB0Zt733UGyiAdZe3M+Y+2ZqwGyLvQa2gwCFMWqSTJ2lmOQHqRsNVcw1ozQXfIPW2LQsltUo3sGUVclMl0YESnjcmDz8PVnVL+z1/vdFC8zeWrEtNmfmLl/MxBrEGPFG1+ctBF/9akTFweOhXC5Tf3ynHrKPPXH9ZzTw4Od9/be26buNwCUiXQ3jyDXuq8Hg3zfd5AnkdIn7hu0BddfSYL4ShDvWkjUUJkpXa//XFtaxMQt8DP+cQaojiyMJMO8G1ql+g8GsrAnebfWFkiIV44NVggene1UGCWS3d1sPIaHnrAtEoUCt+ARrHgLZWiZ6OdtqYeSIv7j6+OJ9SE7NAEJAIkh/RhlU7ivx7G1KPasIinrsigWon7fJxU1JMElt4ER4wC+wO5slFfogNk/OPy3BDpJyDWlaANo0/NXNWWzr5ylT+FjIvT7oNGXJ0WXiOQ1NbN9Z8nfk32G9DvIp1lAkl2nRC7LdWHydx0hZ+QtrU/Nvz4SZiK8eR9m3C230+f0JjCDAFtqkNSVT/FY+v+j00b3s44PKDuMroZjPXH4+72bJPXHOqDkUoywHfvt/4sz2iYFwBG1YTBZxxep4VcZ+HcOCyyvLSNZWc/sIn/vWSAHU9pOeKtJGX3ZnUwxacqo+tWa7uL8AbN09NWQn10kxd323Sfu5RbIcnLEG3yeqUIN+ZJ5WqeTzANnA9Ee6weG2/w2Urx2EG2/3jBjKiIWs2NXPJlaCzpidRa0is2FJPVlh/Msry0jWVnP7CJ/71kgB1PbhZS49es64hgo8snU+mt3Xx/0P3Ed9dmduHotrzBkEtlgaBiC+z2SpcxB9gZ6GXypLSXWaj+qEUbGJKEx+jK/vyyvLSNZWc/sIn/vWSAHU9vbO5HxIeRh/pleBN++9aeq9gfAcpO7SOOE6hv33pJd2NXWo7ywrhGdcJN5VytArzjPEJv2PLBemuX8uxAtD0UL44SUOxkgl28uP3g4RGCw/R3lUyr7Vi5Z2C4E7U+EbiNM+LoOsCIVKPLIzMY9UI54ZWAn8PC8OASnUmKt5s4TLvh8W+u1lL/2uKMQhfT2dPPBYsnEes5babEbtGxJaGoU1iznBHKxvFttoVZs4RUT7ckGEsQ9p1EjBgcvWheDEIybaCp71v11JvD4axoU01sBh5OTCl7DvoZqDwoixp0O5mM7rGWBhQ3N9D9RK4FDWVZoeUKna5p2IAwctyh4IRnWt69Ng2JBTTP0d21Qrpy/gaxeCn9NT7oni4PBOjgxbBeUaKO7DcFo/Ure+iGjsDmAzNhkbDFyQQvBRQUqWZILR7mTdnYJ3WFJ0GntGTvEm+0ORha/tKuw0SqLIhIXxCUyn16hUlACQTh2GjJwwEAj0yyvLSNZWc/sIn/vWSAHU9oSXX/0EVz2npCr5sKYVQl08i14APG705ihqnbPcXULNc/HVM1CeZoPkw/fJ9VlwSgOoTdgVRc75vUySMOYCr6YuMUa3TtkughVt0IqrKoSzeYyBFf3dY+u4Ch2A9cyL/hYL5qlMsLe7FzfC0o29YEYo+b5qqTvhBODGBCfbUSywyyvLSNZWc/sIn/vWSAHU9t0ezq6AtpU4FWpELoUrJjsDqE3YFUXO+b1MkjDmAq+mo3sYlYaLS3MFG5W8GXJlncsry0jWVnP7CJ/71kgB1PY499mp8Ss/C3x8mWijcUeh9R7L1yDJwzXM70VWSBd1piYwFmWqXn8fXoh+Jj6nJE5So3GS9w+JfFh/HoOA84qCW3V5+DosWT7eQRcJB/6Ucm8vuGIikhXb9KiyKIYBRw/Zz9mwhatc4hStOXx5KR0dKYPyXQT6opwwf/yyq/bX2JZUCzFVaQ+nzyA8NB+5JpPOlDL7DvzzsOQnK+/bCc4n0edCTxQb/OtvSSEJTuYHxEfUuMHkRXnJeF2e0yTqTnrdW/Ww+kayZes0CKJsDH2L6DzNaYOGj4dWqkT6S5efebdlZRUameQIjQ/NeqBNgdVn3NRjpsEor8nJ5c2w3c3DyyvLSNZWc/sIn/vWSAHU9k85G0eu8oxOWueBLcwhpUvHsp1PjPSkcGlJn+XxV+cRKCoh5TwNkRCSZ7cVd4VMvtBNoxVLQ3Q6RS8uM/VSK2Mn19QRxIda+Tx+nKfD4GRgC/iPfelCYuu9BxR+8VPBEfXjj3eCz5wcbgYWdnrtSFxGO8FP2gPMsWSsfffh+c7coyjMiPW+0CkMAILVNKoGGOeRY4YDcu0q+EeE53AvbonAd6UPWWgR6wLIPnTUftFjFZ171zX2eNtc6EWAA1fZpAkGt4w+eqGh2SkqwIzVfHYC7bozcBnYFCld9FXOOhff7SJV0JMRpE5TaAgUd843RGuCFlpHR3QjshqFPpX6O6pfgKDbpALvs1h8TzTVg4zvVJa8J9q1sJywqs2P5DJ443+hTF7ePUSPBBc/5Ligijk=\\\")\"}]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"知乎日报社R","author":"wingeva&Reborn","version":3,"url":"hiker://empty#fypage","col_type":"movie_1_left_pic","class_name":"最新&上次翻页位置&阅读记录","class_url":"new&last&history","area_name":"昨天&前天&一周前&两周前&一月前","area_url":"1day&2day&week&2week&month","sort_name":"","year_name":"一年前&两年前&三年前&四年前&五年前&六年前&七年前","sort_url":"","year_url":"1year&2year&3year&4year&5year&6year&7year","find_rule":"js:\nDate.prototype.Format = function (fmt) {\n    var o = {\n        \"M+\": this.getMonth() + 1, //月份 \n        \"d+\": this.getDate(), //日 \n        \"h+\": this.getHours(), //小时 \n        \"m+\": this.getMinutes(), //分 \n        \"s+\": this.getSeconds(), //秒 \n        \"q+\": Math.floor((this.getMonth() + 3) / 3), //季度 \n        \"S\": this.getMilliseconds() //毫秒 \n    };\n    if (/(y+)/.test(fmt))\nfmt = fmt.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));\n    for (var k in o){\n    if (new RegExp(\"(\" + k + \")\").test(fmt)) {\nfmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));\n}\n    }\n    return fmt;\n};\nfunction getPage(date)\n{\nvar cp=getUrl().split(\"#\")[1];\nvar day=new Date(date);\nday.setDate(day.getDate()-cp+1);\nvar str_date=day.Format(\"yyyy/MM/dd\"); \n writeFile(\"hiker://files/cache/readdate@ebox001.txt\",str_date);\n       var pbody=\"csrf_token=\"+getVar(\"csrf@ebox001\")+\"&str_date=\"+str_date;\n//setError(pbody);\n       var url=\"https://www.ebox001.com/news_at_zhihu_before\";\nlet ret=fetch(url,{headers:{'Cookie':getVar(\"cookie@ebox001\"),'Content-Type':'application/x-www-form-urlencoded;charset=UTF-8'},body:pbody,method:'POST'});\nreturn eval(\"(\"+ret+\")\");\n}\nvar d=[];\nvar r={};\nvar res={};\nvar html;\nvar json = JSON.parse(getRule());\n\nif(json.firstHeader==\"class\"){\n   if(json.class_url==\"new\"){     \n html=getPage(getVar(\"today@ebox001\"));      \n   }else if(json.class_url==\"last\"){  \n var readdate=fetch(getVar(\"mReadPosUrl\"),{}); \n html=getPage(readdate);\n   }else if(json.class_url==\"history\"){  \n var history=fetch(getVar(\"mHistoryUrl\"),{}); \n res.data=JSON.parse(history);\n//setError(JSON.stringify(res.data))\n//setHomeResult(res);\n   }\n} else if(json.firstHeader==\"area\"){\nvar days;\nswitch(json.area_url) { \ncase \"1day\": days=1;break;\ncase \"2day\": days=2;break;\ncase \"week\": days=7;break; \ncase \"2week\": days=14;break; \ncase \"month\": days=30;break; \ndefault: days=0;\n} \nlet qday=new Date(getVar(\"today@ebox001\"));\nqday.setDate(qday.getDate()-days);\nlet qdate=qday.Format(\"yyyy/MM/dd\"); \nhtml=getPage(qdate);\n}else if(json.firstHeader==\"year\"){\nvar days;\nswitch(json.year_url) { \ncase \"1year\": days=365;break; \ncase \"2year\": days=365*2;break; \ncase \"3year\": days=365*3;break;\ncase \"4year\": days=365*4;break;\ncase \"5year\": days=365*5;break;\ncase \"6year\": days=365*6;break;\ncase \"7year\": days=365*7;break;\ndefault: days=0;\n} \nlet qday=new Date(getVar(\"today@ebox001\"));\nqday.setDate(qday.getDate()-days);\nlet qdate=qday.Format(\"yyyy/MM/dd\"); \nhtml=getPage(qdate);\n}\n\nif(json.firstHeader!=\"class\"||json.class_url!=\"history\"){\nvar vol=parseDomForArray(html,\".cards&&.card\");\nvar readdate=fetch(getVar(\"mReadPosUrl\"),{});\nvar read=new Date();\nread=\"[\"+(read.getMonth()+1)+\"月\"+(read.getDate())+\"日读过]\"\nfor(i=0;i<vol.length;i++)\n{\nr={\ntitle:parseDomForHtml(vol[i],\"a,1&&Text\"),\npic_url:parseDomForHtml(vol[i],\".image&&img&&src\"),\ndesc:parseDomForHtml(vol[i],\"p&&Text\")+\"\\n\"+readdate,\nurl:parseDomForHtml(vol[i],\"a,1&&href\")\n};\nlet rr={\ntitle:r.title,\npic_url:r.pic_url,\ndesc:r.desc+\"   \"+read,\nurl:r.url\n};\n\nlet lazy=`@lazyRule=.js:var history=fetch(getVar(\"mHistoryUrl\"),{});var hisArr=history?JSON.parse(history):[];var r=`+JSON.stringify(rr)+`;hisArr.unshift(r);writeFile(getVar(\"mHistoryUrl\"),JSON.stringify(hisArr));input`;\nlazy = '';\nr.url+=lazy;\nd.push(r);\n}\nres.data=d;\n//cookie可能失效,清空之\nif(d.length==0) putVar2(\"cookie@ebox001\",\"\")\n}\nsetHomeResult(res);","searchFind":"","search_url":"","titleColor":"#ff148e8e","group":"①推荐","detail_col_type":"movie_1","detail_find_rule":"js:\nlet res = {};\nlet items = [];\nlet html = getResCode();\nlet col_type = 'rich_text';\n\n// 是否隐藏图片(省流模式) 1/隐藏 0/不隐藏\nlet hideImg = 0;\n// 是否显示看大图(防止无法加载图片) 1/显示 0/不显示\nlet showFullImgTips = 1;\n\nfunction getBigText(text) {\n    return '<big>' + text + '</big>';\n}\nfunction getSmallText(text) {\n    return '<small>' + text + '</small>';\n}\nfunction getStrongText(text) {\n    return '<strong>' + text + '</strong>';\n}\nfunction getTitleText(text) {\n    return getStrongText(text);\n}\nfunction getColorText(text, color) {\n    return '<font color=\"' + color + '\">' + text + '</font>';\n}\nfunction getGreyText(text) {\n    return getColorText(text, 'grey');\n}\nfunction getCodeText(text) {\n    return '<code>' + text + '</code>';\n}\nfunction getAddressTag(url, text) {\n    return '<a href=\"' + url + '\">' + text + '</a>'\n}\nfunction getImgTag(imgUrl) {\n    return '<img src=\"' + imgUrl + '\">'\n}\nfunction getCenterText(text) {\n    return '<p style=\"text-align: center;\">' + text +'</p>'\n}\n\nString.prototype.replaceWithCallback = function (searchValue, replaceValue, callback) {\n    let returnValue = this;\n    if (callback != null) {\n        returnValue = callback(this, searchValue, replaceValue);\n    }\n    return returnValue;\n};\n\nfunction imgDescTagReplacement2(context, searchValue, replaceValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = context;\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            let item = matchArray[i];\n            // /(<figcaption[\\s\\S]*?>[\\s\\S]*?<\\/figcaption>)/.test(item);\n            // let imgDesc = RegExp.$1;\n            if (item !== '') {\n                returnValue = returnValue.replace(item, getCenterText(getGreyText(getSmallText (item))));\n            }\n        }\n    }\n    return returnValue;\n}\n\nlet imgError = '<font color=\"grey\">图片暂时无法显示，若要查看请<a href=\"' + MY_URL + '\">访问原文</a></font>';\nfunction imgTag(context, sourceTag, imgUrl) {\n    let replaceString = sourceTag;\n    let replaceString1 = imgUrl === ''\n        ? imgError\n        : ('<a href=\"' + imgUrl + '\">'\n            + (hideImg === 1 ? '[点击查看大图]' : '图片无法加载？点我试试~')\n            + '</a><br>');\n    if(showFullImgTips) {\n        replaceString += ('<br>' + getSmallText(replaceString1));\n    }\n    if (hideImg) {\n        replaceString = replaceString1;\n    }\n    return context.replace(/<img data-v>/g, replaceString);\n}\nfunction imgTagReplacement2(context, searchValue, replaceValue) {\n    context = context.replace(/data-src=\"\\/\\//g, 'src=\"https://');\n    let matchArray = context.match(searchValue);\n    let returnValue = context;\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            let item = matchArray[i];\n            /(<img[\\s\\S]*?(src|data-src)=\"(.*?)\"([\\s\\S]*?)>)/.test(item);\n            let imgUrl = RegExp.$3;\n            if (imgUrl !== '') {\n                returnValue = returnValue.replace(item, replaceValue);\n                returnValue = imgTag(returnValue, item,imgUrl);\n            }\n        }\n    }\n    return returnValue;\n}\n\ntry {\n    let header = '';\n    let headerHtml = parseDomForHtml(html, '.DailyHeader&&Html');\n\n    let headerImgUrl = parseDomForHtml(headerHtml, 'img&&src');\n    let headerImg = getImgTag(headerImgUrl);\n    header += headerImg;\n    \n    let headerTitle = parseDomForHtml(headerHtml, '.DailyHeader-title&&Text');\n    header += ('<br>' + getBigText(getStrongText(headerTitle)));\n\n    items.push({\n        title: header,\n        col_type: col_type\n    });\n} catch (e) { }\n\ntry { \n    let contentHtml = parseDomForHtml(html, '.content-inner&&Html')\n        //.replace(/<img class=\"avatar\"[\\s\\S]*?\">/g, '')\n        .replace(/<div class=\"meta\"[\\s\\S]*?<\\/div>/g, '')\n        .replaceWithCallback(/(<figcaption[\\s\\S]*?>[\\s\\S]*?<\\/figcaption>)/g, \"\", imgDescTagReplacement2)\n        .replaceWithCallback(/(<img[\\s\\S]*?(src|data-src)=\"(.*?)\"([\\s\\S]*?)>)/g, \"<img data-v>\", imgTagReplacement2);\n    items.push({\n        title: contentHtml,\n        col_type: col_type\n    });\n} catch (e) { }\n\nres.data = items;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"//保存翻页位置的文件地址\nputVar2(\"mReadPosUrl\",\"hiker://files/cache/readdate@ebox001.txt\");\n\n//保存阅读历史的文件地址\nputVar2(\"mHistoryUrl\",\"hiker://files/cache/history@ebox001.txt\");\n\nif(!getVar(\"cookie@ebox001\")){\nvar res=JSON.parse(fetch(\"https://www.ebox001.com/news_at_zhihu\",{withHeaders:true}));\nvar html=res.body;\nvar cookie=JSON.stringify(res.headers);\n/(session=.*?);/.test(cookie);\nputVar2(\"cookie@ebox001\",RegExp.$1);\n       /<input id=\"csrf_token\".*?value=\"(.*?)\"/.test(html);\n  putVar2(\"csrf@ebox001\",RegExp.$1);\n      /#datepickerNews.*?attr\\('value', '(.*?)'/.test(html);\nputVar2(\"today@ebox001\",RegExp.$1);\n}","pages":"[]","icon":"http://static.daily.zhihu.com/img/new_home_v3/mobile_top_logo.png"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"片单详情","path":"detail","rule":"js:\n// clearItem(\"password\")\nsetPageTitle(MY_PARAMS.title);\nlet jsFile = getVar(\"db_js_file\");\njsFile = jsFile === '' ? \"hiker://files/rules/js/rt-douban.js\" : jsFile;\nlet js = fetch(jsFile,{});\nif(js === '') js = fetch('https://gitee.com/reborn0/HikerRules/raw/master/plugins/rt-douwa.min.js',{});\n// let js = fetch('https://gitee.com/reborn0/HikerRules/raw/master/plugins/rt-douwa.min.js',{});\n// log(js)\neval(js);\ndouban.detailView(MY_PARAMS.id, MY_PARAMS.type, MY_PARAMS.title);"},{"col_type":"text_1","name":"字符串处理工具","path":"stringtool","rule":"js:\nconst matchList  = {\n  // \"<\":\"&lt;\",\n  // \">\": \"&gt;\",\n  // \"&\": \"&amp;\",\n  // '\"': \"&quot;\",\n  // \"'\": \"acute;\",\n  // \" \": \"&nbsp;\",\n  \"\\n\":\"<br>\"\n}\n// 字符过滤器\nfunction htmlEscape(text){\n  let regStr = '(' + Object.keys(matchList).toString() + ')'\n  regStr = regStr.replace(/,/g, ')|(')  \n  const regExp = new RegExp(regStr, 'g')\n  return text.replace(regExp, match => matchList[match])\n}\n$.exports.htmlEscape = htmlEscape"},{"col_type":"text_1","name":"公告","path":"announcement","rule":"<big><strong>公告</strong></big>\n由于豆娃一级的接口频繁出现封 IP 现象，故暂停豆娃一级界面的支持，搜索和二级仍然保留支持。\n\n各位可以去道长仓库导入小程序“青豆”自定义配置进入豆娃的片单详情页面（也就是豆娃的二级）\n\n以下是自定义配置的具体操作：\n1.青豆一级界面点击最上方的大 logo 图片，进入青豆的配置界面；\n2.找到“自定义影片详情页面”选项，点击“📥”导入配置；\n3.在弹出的输入框处粘贴下方提供的口令，然后确定-保存即可\n\n<font color=\"red\">重要的事情说 3 遍：<br>不要删掉豆娃规则！不要删掉豆娃规则！不要删掉豆娃规则！</font>\n\n别删了之后，到时候青豆那边挂掉了跑来问我为什么用不了啊（抬起巴掌👋🏻.jpg）！~"},{"col_type":"movie_3","name":"预处理","path":"pre-rule","rule":"js:\nlet settings = {\n    /**\n     * 是否开启视界搜，开启后点击第一项即可使用\n     *\n     * 若不开启则点击为查看原文\n     *\n     * 开启/1 不开启/0\n     */\n    openHikerSearch: 1,\n    // desc 描述的三行中每行的最大长度\n    descLineMaxLen: 25,\n    // 评论用户颜色\n    userColor: \"#2979FF\",\n    // 模块的间距\n    line_model: 1,\n    // 模块间距类型（适配以后可能会有的无边距线）\n    line_type_model: 'line_blank',\n\n    // 评分显示类型，0 为星星★☆，1 为文字\n    ratingType: 0,\n    // 是否显示'[查看原文]', 0 为不显示，1 为显示\n    showSource: 0,\n    // 是否显示'[查看全文]', 0 为不显示，1 为显示\n    showAllContent: 0,\n    // 评分对应文字、星星、颜色 [ 五星力荐，四星推荐，三星还行，二星较差，一星很差]\n    ratingTexts: [\n        \"力荐\",\n        \"推荐\",\n        \"还行\",\n        \"较差\",\n        \"很差\",\n    ],\n    ratingStars: [\n        \"★★★★★\",\n        \"★★★★☆\",\n        \"★★★☆☆\",\n        \"★★☆☆☆\",\n        \"★☆☆☆☆\",\n    ],\n    ratingColors: [\n        \"#00d437\",\n        \"#9cdc00\",\n        \"#ddcf00\",\n        \"#ffa400\",\n        \"#ff7800\",\n    ],\n\n    /**\n     * 搜索模式\n     *\n     * 0: \"hiker://search?s=测试，将会打开搜索弹窗，自动填充搜索的关键词“测试”，由用户自己选择分组和规则后搜索\",\n     * 1: \"hiker://search?s=测试&group=②影搜，将会打开搜索弹窗，自动填充搜索的关键词“测试”并且自动切换分组为“②影搜”，用户可切换分组和规则\",\n     * 2: \"hiker://search?s=测试&rule=海阔视界，将会直接跳转搜索结果界面，自动选择标题为“海阔视界”的规则进行搜索，并且该界面不可切换别的规则\",\n     * 3: \"hiker://search?s=测试&rule=海阔视界&simple=false，将会自动填充搜索的关键词“测试”，并且自动切换分组为“①推荐”、自动选中标题为“海阔视界”的规则，用户可切换分组和规则，并自动开始搜索\"\n     */\n    searchMode: 0,\n    // 搜索分组\n    searchGroup: '',\n    // 搜索规则\n    searchRule: '',\n    searchValue: '',\n    jsFile: \"hiker://files/rules/js/rt-douban.js\",\n    settingsCacheFile: 'hiker://files/douban/settings.json',\n    openSimpleDetailView: 0\n}\n\nfunction writeObjectToFile(fileUrl, object) {\n    writeFile(fileUrl, JSON.stringify(object))\n}\n\nfunction writeSettingsToFile(settings) {\n    writeObjectToFile(settings.settingsCacheFile, settings);\n}\n\ntry {\n    let settingsTextInFile = fetch(settings.settingsCacheFile, {});\n    settings = JSON.parse(settingsTextInFile);\n} catch (e) {\n    writeSettingsToFile(settings)\n}\n\n/**\n * 以下完全不需要使用者配置，如看不懂代码请勿乱动\n */\nlet searchValues = [\n    '',\n    settings.searchGroup === '' ? '' : '&group=' + settings.searchGroup,\n    settings.searchRule === '' ? '' : '&rule=' + settings.searchRule,\n    settings.searchRule === '' ? '' : '&rule=' + settings.searchRule + '&simple=false'\n];\nsettings.searchValue = searchValues[settings.searchMode];\nputVar2('db_js_file', settings.jsFile);\nputVar2('db_settings', JSON.stringify(settings));\n\n/* hiker-utils start */\nlet hikerUtils = \"https://cdn.jsdelivr.net/npm/hiker-utils@1.0.3/lib/publicTools.js\";\nputVar({\n    key: \"hiker-utils\",\n    value: hikerUtils\n});\n/* hiker-utils end */"},{"col_type":"movie_3","name":"Cookie","path":"cookie","rule":"var getDoubanCookie=`(function(){if(window['location']['host']=='www.douban.com'){fy_bridge_app['writeFile']('hiker://files/cache/doubancookie.txt',fy_bridge_app['getCookie']('https://www.douban.com/'));}if(window['location']['host']=='m.douban.com'){fy_bridge_app['writeFile']('hiker://files/cache/doubancookie.txt',fy_bridge_app['getCookie']('https://m.douban.com/'));}}());`\n!fileExist('hiker://files/cache/global_getDoubanCookie.js') ? (writeFile('hiker://files/cache/global_getDoubanCookie.js', getDoubanCookie)) : 0;\nif (!fileExist('hiker://files/rules/js/global_getDoubanCookie.js') && getVar('confirm', 'true') == 'true') {\n    confirm({\n        title: '插件导入提示',\n        content: '检测到你还没有自动获取Cookie插件，是否立即导入？(点击取消重启软件前不再提示导入)',\n        confirm: `'rule://'+base64Encode('海阔视界，网页插件￥js_url￥global_getDoubanCookie@hiker://files/cache/global_getDoubanCookie.js');`,\n        cancel: `putVar('confirm','false');refreshPage();'hiker://empty'`\n    })\n}"}],"title":"豆娃R","author":"(o˘◡˘o)&Reborn&道阻且右","version":24,"url":"hiker://empty/#fypage#fyclass#fysort#fyarea#fyyear","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"公告栏&规则设置","year_name":"","sort_url":"&mode=settings","year_url":"","find_rule":"js:\nconst { htmlEscape } = $.require(\"hiker://page/stringtool\");\nfunction getPageSource(pageUrl) {\n    let src = request(\"hiker://page/\" + pageUrl);\n    src = JSON.parse(src).rule;\n    // log(src)\n    return src;\n}\n// 下面的开始混淆\ntry {\n    let doubanJs = fetch(getVar(\"db_js_file\"),{});\n    eval(doubanJs);\n    let pluginValidTest = douban.trailerLazyRule\n\n    let urlSplits = MY_URL.split('#');\n    let page = parseInt(urlSplits[1]);\n    page = (page - 1) * 20;\n\n    if (MY_URL.indexOf('mode=settings') > -1) {\n        douban.settingsView();\n    } else {\n        let closeTips = htmlEscape(getPageSource('announcement'))\n        setHomeResult([\n            {\n                title: closeTips,\n                col_type: 'rich_text'\n            },\n            {\n                title: \"‘‘点我复制配置’’\",\n                col_type: \"text_center_1\",\n                url: $().lazyRule(() => {\n                        eval(request('hiker://files/rules/joker/qdb.js'))\n                        if(version >= 202110091826) {\n                            return \"copy://\" + '青豆口令￥影片详情页面配置￥豆娃 eval 版￥Zipper￥N4IgdghgtgpiBcJBiMYYC0AEMBuEA2bASTiADQgAmEALhAqAMYD2YAZgJYDmCIAsgJoD6ABQCCAJSFcAygDoKLCjhhoAvGlnyYAHTC9Bo8dJallaQ1p3CxkmQE8ADopUU7msAoppbAJxgiArguMAKQkAeQA5KVsITwBnGAAKbwBHXxgYiniNEAALFgBrGE94AHpiqLYYMu8AWk9-GAB+OoUlVBEsgEoOqWaYAG4tLFx4rx96jq03NF6g0Iio2ITk1PTMnPzCkrKICuLSGCoWHCb61pR2kC6e+oGwIZxE8eIQOIpZMA5EbwpfTzA0AAka1yBSKpRgUFsTgAxGB6AAJFjpeieazQzrXBTxeIdZQAPjQwEmBw83j8ARUwXCkWicUSMBSaQyWRBm1K5Uqo1q9ROLTanW6vVu9xGZPGxPcACsYgAxI4ONAVCgANWia1IACM+NK+KwFJ1btK5RS0Eb5colCoAORWtANNAsjZg4p6tLFXoxYrS90Uaqkei+DUQMBSaVZNDwU2y+W3KbS4xMA60bLxM0KIjAAC+HVuLCYqZiFutVtx8ZUiYoyfiVuyb1sMS2bDkMBgUgYUHdMA1KLAAAZiojQeS3Z4IAB3YpQCDpQplHC+JtgT2eX3+3xjiBSKAsEPSq0Z7O3UpoHD0NgFiZ3bAPaU5rRroMh17vNgxZUsGBjnG3bMgTOZoA' + '.js:\"hiker://home@青豆\"'                            \n                        }\n                        confirm({ \n                            title: '更新提示',\n                            content: '请先前往青豆更新依赖',\n                            confirm: 'hiker://home@青豆'\n                        })\n                        return 'hiker://empty'\n                     })\n            }\n        ]);\n    }\n} catch (e) {\n    let res = {};\n    let d = [];\n\n    let settingsCacheFile = JSON.parse(getVar('db_settings')).settingsCacheFile;\n    let settings = JSON.parse(fetch(settingsCacheFile, {}));\n\n    function getBigText(text) {\n        return '<big>' + text + '</big>';\n    }\n    function getStrongText(text) {\n        return '<strong>' + text + '</strong>';\n    }\n    function getSmallText(text) {\n        return '<small>' + text + '</small>';\n    }\n    function getColorText(text, color) {\n        return '<font color=\"' + color + '\">' + text + '</font>';\n    }\n    function getGreyText(text) {\n        return getColorText(text, 'grey');\n    }\n\n    let configHtml = `<html><head><meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no\"><style type=\"text/css\">.change_bar { box-shadow: 0 0 18px rgba(70, 70, 40, .255); background-color: rgba(255, 255, 255, .100); border-radius: 50px; display: table; vertical-align: middle; width: 80%; height: 40px; margin: 10px auto; margin-bottom: 30px; margin-top: 260px; margin-top: 90% } #change_input { width: 90%; height: 40px; background-color: transparent; border: none; outline: 0; font-size: 15px; color: #426ab3; padding: 0 20px; border-radius: 50px } p { display: none; text-align: center; font-size: 18px }</style></head><body><script>try { fy_bridge_app.setWebTitle(\"豆瓣设置--{{title}}\"); function getConfig() { return JSON.parse(fy_bridge_app.fetch(\"{{fileUrl}}\", {})) } function change(Config = getConfig()) { var {{itemProperty}} = document.getElementById(\"change_input\").value; Config.{{itemPropertyName}} = {{itemProperty}} == \"默认\" ? {{itemPropertyDefaultValue}} : {{itemPropertyValue}}; fy_bridge_app.writeFile(\"{{fileUrl}}\", JSON.stringify(Config, null, 4)); fy_bridge_app.putVar(\"db_settings\", JSON.stringify(Config)); document.getElementById(\"h_2\").style.textAlign = \"center\"; document.getElementById(\"text1\").style.textAlign = \"center\"; document.getElementById(\"change_bar\").style.visibility = \"hidden\"; document.getElementById(\"demo\").style.display = \"block\"; refresh() }} catch (e) { alert(e)}</script><h2 id=\"h_1\" style=\"text-align:center;\">{{title}}设置</h2><article><form onsubmit=\"return change()\" class=\"change_bar\" id=\"change_bar\"><input class=\"change\" type=\"text\" placeholder=\"请输入{{title}}\" value=\"\" id=\"change_input\" onpaste=\"setTimeout(&quot;change()&quot;,1573)\"></form><h3 id=\"h_2\">当前</h3><h4 id=\"text1\" style=\"color:red;text-align:left;\">{{itemPropertyValueText}}</h4><p id=\"demo\">{{title}}已更换，祝你好运…</p></article><script> function refresh() { document.getElementById(\"text1\").innerHTML = getConfig().{{itemPropertyName}} } refresh();</script></body></html>`\n    function replacedConfigHtml(replaceItem) {\n        return 'hiker://empty@lazyRule=.js:'\n            + JSON.stringify('javascript: document.write('\n                + JSON.stringify(configHtml.replace(/{{title}}/g, replaceItem.title)\n                    .replace(/{{fileUrl}}/g, settingsCacheFile)\n                    .replace(/{{itemProperty}}/g, replaceItem.itemProperty)\n                    .replace(/{{itemPropertyName}}/g, replaceItem.itemPropertyName)\n                    .replace(/{{itemPropertyDefaultValue}}/g, replaceItem.itemPropertyDefaultValue)\n                    .replace(/{{itemPropertyValue}}/g, replaceItem.itemPropertyValue)\n                    .replace(/{{itemPropertyValueText}}/g, replaceItem.itemPropertyValueText))\n                + ');');\n    }\n\n    let settingsMessage = {\n        jsFile: {\n            mode: -1,\n            module: 0,\n            title: '自定义豆瓣规则插件地址',\n            desc: '““””' + getColorText('当前参数：' + settings.jsFile, '#ff8a00'),\n            click: function () {\n                let replaceItem = {\n                    title: settingsMessage.jsFile.title,\n                    itemProperty: 'jsFile',\n                    itemPropertyName: 'jsFile',\n                    itemPropertyDefaultValue: '\"hiker://files/rules/js/rt-douban.js\"',\n                    itemPropertyValue: 'jsFile',\n                    itemPropertyValueText: settings.jsFile\n                };\n                return replacedConfigHtml(replaceItem);\n            }\n        }\n    }\n\n    d.push({\n        title: getStrongText(\"使用前请先导入/配置好插件地址\")\n            + \"<br>\"\n            + getSmallText(getGreyText(\"点击下方选项即可配置，刷新后生效，输入\\\"默认\\\"可恢复默认设置\")),\n        col_type: 'rich_text'\n    })\n\n    d.push({\n        col_type: 'line'\n    })\n\n    let settingMessageList = [];\n    for (let settingsMessageKey in settingsMessage) {\n        settingMessageList.push(settingsMessage[settingsMessageKey]);\n    }\n\n    function setFilterSettingsMessage(module, messageTypeTitle, messageColType) {\n        let filterSettingMessageList = settingMessageList.filter(item => ((item.mode === -1 || item.mode === settings.openSimpleDetailView) && item.module === module));\n        if (filterSettingMessageList.length > 0 && messageTypeTitle !== '') {\n            d.push({\n                title: getBigText(getStrongText(messageTypeTitle)),\n                col_type: 'rich_text'\n            })\n        }\n        for (let i = 0; i < filterSettingMessageList.length; i++) {\n            let filterSettingMessage = filterSettingMessageList[i];\n            d.push({\n                title: filterSettingMessage.title,\n                desc: filterSettingMessage.desc,\n                url: filterSettingMessage.click(),\n                col_type: messageColType\n            });\n        }\n    }\n\n    setFilterSettingsMessage(0, '', 'text_1');\n\n    res.data = d;\n    setHomeResult(res);\n}","searchFind":"js:var res = {};var d = [];\n\nlet json = JSON.parse(getResCode());\nlet html = '<body>' + json.html + '</body>';\n\nlet list=parseDomForArray(html, 'body&&li');\n\nfor(let i in list){\n\nd.push({\ntitle:parseDomForHtml(list[i],'.subject-title&&Text'),\ndesc:parseDomForHtml(list[i],'.rating&&Text'),\npic_url:parseDomForHtml(list[i],'img&&src'),\nurl:parseDomForHtml(list[i],'a&&href').replace('/movie','https://movie.douban.com')+'#'+parseDomForHtml(list[i],'.subject-title&&Text') + '#noHistory#',\ncol_type:'movie_3'\n});\n\n}\nres.data = d;\nsetSearchResult(res);","search_url":"https://m.douban.com/j/search/?q=**&t=movie&p=fypage@-1@*1@#;get;UTF-8;{User-Agent@Mozilla/5.0 (Windows NT 10.0；； WOW64)}","titleColor":"#ff148e8e","group":"①推荐","detail_col_type":"rich_text","detail_find_rule":"js:\nlet jsFile = getVar(\"db_js_file\");\njsFile = jsFile === '' ? \"hiker://files/rules/js/rt-douban.js\" : jsFile;\nlet js = fetch(jsFile,{});\nif(js === '') js = fetch('https://gitee.com/reborn0/HikerRules/raw/master/plugins/rt-douwa.min.js',{});\n// log(js)\neval(js);\ndouban.detailView();","sdetail_col_type":"rich_text","sdetail_find_rule":"*","ua":"pc","preRule":"let rule = JSON.parse(request(\"hiker://page/pre-rule?rule=豆娃R\")).rule;\neval(rule)","pages":"[{\"col_type\":\"movie_3\",\"name\":\"片单详情\",\"path\":\"detail\",\"rule\":\"js:\\n// clearItem(\\\"password\\\")\\nsetPageTitle(MY_PARAMS.title);\\nlet jsFile = getVar(\\\"db_js_file\\\");\\njsFile = jsFile === '' ? \\\"hiker://files/rules/js/rt-douban.js\\\" : jsFile;\\nlet js = fetch(jsFile,{});\\nif(js === '') js = fetch('https://gitee.com/reborn0/HikerRules/raw/master/plugins/rt-douwa.min.js',{});\\n// let js = fetch('https://gitee.com/reborn0/HikerRules/raw/master/plugins/rt-douwa.min.js',{});\\n// log(js)\\neval(js);\\ndouban.detailView(MY_PARAMS.id, MY_PARAMS.type, MY_PARAMS.title);\"},{\"col_type\":\"text_1\",\"name\":\"字符串处理工具\",\"path\":\"stringtool\",\"rule\":\"js:\\nconst matchList  = {\\n  // \\\"<\\\":\\\"&lt;\\\",\\n  // \\\">\\\": \\\"&gt;\\\",\\n  // \\\"&\\\": \\\"&amp;\\\",\\n  // '\\\"': \\\"&quot;\\\",\\n  // \\\"'\\\": \\\"acute;\\\",\\n  // \\\" \\\": \\\"&nbsp;\\\",\\n  \\\"\\\\n\\\":\\\"<br>\\\"\\n}\\n// 字符过滤器\\nfunction htmlEscape(text){\\n  let regStr = '(' + Object.keys(matchList).toString() + ')'\\n  regStr = regStr.replace(/,/g, ')|(')  \\n  const regExp = new RegExp(regStr, 'g')\\n  return text.replace(regExp, match => matchList[match])\\n}\\n$.exports.htmlEscape = htmlEscape\"},{\"col_type\":\"text_1\",\"name\":\"公告\",\"path\":\"announcement\",\"rule\":\"<big><strong>公告</strong></big>\\n由于豆娃一级的接口频繁出现封 IP 现象，故暂停豆娃一级界面的支持，搜索和二级仍然保留支持。\\n\\n各位可以去道长仓库导入小程序“青豆”自定义配置进入豆娃的片单详情页面（也就是豆娃的二级）\\n\\n以下是自定义配置的具体操作：\\n1.青豆一级界面点击最上方的大 logo 图片，进入青豆的配置界面；\\n2.找到“自定义影片详情页面”选项，点击“📥”导入配置；\\n3.在弹出的输入框处粘贴下方提供的口令，然后确定-保存即可\\n\\n<font color=\\\"red\\\">重要的事情说 3 遍：<br>不要删掉豆娃规则！不要删掉豆娃规则！不要删掉豆娃规则！</font>\\n\\n别删了之后，到时候青豆那边挂掉了跑来问我为什么用不了啊（抬起巴掌👋🏻.jpg）！~\"},{\"col_type\":\"movie_3\",\"name\":\"预处理\",\"path\":\"pre-rule\",\"rule\":\"js:\\nlet settings = {\\n    /**\\n     * 是否开启视界搜，开启后点击第一项即可使用\\n     *\\n     * 若不开启则点击为查看原文\\n     *\\n     * 开启/1 不开启/0\\n     */\\n    openHikerSearch: 1,\\n    // desc 描述的三行中每行的最大长度\\n    descLineMaxLen: 25,\\n    // 评论用户颜色\\n    userColor: \\\"#2979FF\\\",\\n    // 模块的间距\\n    line_model: 1,\\n    // 模块间距类型（适配以后可能会有的无边距线）\\n    line_type_model: 'line_blank',\\n\\n    // 评分显示类型，0 为星星★☆，1 为文字\\n    ratingType: 0,\\n    // 是否显示'[查看原文]', 0 为不显示，1 为显示\\n    showSource: 0,\\n    // 是否显示'[查看全文]', 0 为不显示，1 为显示\\n    showAllContent: 0,\\n    // 评分对应文字、星星、颜色 [ 五星力荐，四星推荐，三星还行，二星较差，一星很差]\\n    ratingTexts: [\\n        \\\"力荐\\\",\\n        \\\"推荐\\\",\\n        \\\"还行\\\",\\n        \\\"较差\\\",\\n        \\\"很差\\\",\\n    ],\\n    ratingStars: [\\n        \\\"★★★★★\\\",\\n        \\\"★★★★☆\\\",\\n        \\\"★★★☆☆\\\",\\n        \\\"★★☆☆☆\\\",\\n        \\\"★☆☆☆☆\\\",\\n    ],\\n    ratingColors: [\\n        \\\"#00d437\\\",\\n        \\\"#9cdc00\\\",\\n        \\\"#ddcf00\\\",\\n        \\\"#ffa400\\\",\\n        \\\"#ff7800\\\",\\n    ],\\n\\n    /**\\n     * 搜索模式\\n     *\\n     * 0: \\\"hiker://search?s=测试，将会打开搜索弹窗，自动填充搜索的关键词“测试”，由用户自己选择分组和规则后搜索\\\",\\n     * 1: \\\"hiker://search?s=测试&group=②影搜，将会打开搜索弹窗，自动填充搜索的关键词“测试”并且自动切换分组为“②影搜”，用户可切换分组和规则\\\",\\n     * 2: \\\"hiker://search?s=测试&rule=海阔视界，将会直接跳转搜索结果界面，自动选择标题为“海阔视界”的规则进行搜索，并且该界面不可切换别的规则\\\",\\n     * 3: \\\"hiker://search?s=测试&rule=海阔视界&simple=false，将会自动填充搜索的关键词“测试”，并且自动切换分组为“①推荐”、自动选中标题为“海阔视界”的规则，用户可切换分组和规则，并自动开始搜索\\\"\\n     */\\n    searchMode: 0,\\n    // 搜索分组\\n    searchGroup: '',\\n    // 搜索规则\\n    searchRule: '',\\n    searchValue: '',\\n    jsFile: \\\"hiker://files/rules/js/rt-douban.js\\\",\\n    settingsCacheFile: 'hiker://files/douban/settings.json',\\n    openSimpleDetailView: 0\\n}\\n\\nfunction writeObjectToFile(fileUrl, object) {\\n    writeFile(fileUrl, JSON.stringify(object))\\n}\\n\\nfunction writeSettingsToFile(settings) {\\n    writeObjectToFile(settings.settingsCacheFile, settings);\\n}\\n\\ntry {\\n    let settingsTextInFile = fetch(settings.settingsCacheFile, {});\\n    settings = JSON.parse(settingsTextInFile);\\n} catch (e) {\\n    writeSettingsToFile(settings)\\n}\\n\\n/**\\n * 以下完全不需要使用者配置，如看不懂代码请勿乱动\\n */\\nlet searchValues = [\\n    '',\\n    settings.searchGroup === '' ? '' : '&group=' + settings.searchGroup,\\n    settings.searchRule === '' ? '' : '&rule=' + settings.searchRule,\\n    settings.searchRule === '' ? '' : '&rule=' + settings.searchRule + '&simple=false'\\n];\\nsettings.searchValue = searchValues[settings.searchMode];\\nputVar2('db_js_file', settings.jsFile);\\nputVar2('db_settings', JSON.stringify(settings));\\n\\n/* hiker-utils start */\\nlet hikerUtils = \\\"https://cdn.jsdelivr.net/npm/hiker-utils@1.0.3/lib/publicTools.js\\\";\\nputVar({\\n    key: \\\"hiker-utils\\\",\\n    value: hikerUtils\\n});\\n/* hiker-utils end */\"},{\"col_type\":\"movie_3\",\"name\":\"Cookie\",\"path\":\"cookie\",\"rule\":\"var getDoubanCookie=`(function(){if(window['location']['host']=='www.douban.com'){fy_bridge_app['writeFile']('hiker://files/cache/doubancookie.txt',fy_bridge_app['getCookie']('https://www.douban.com/'));}if(window['location']['host']=='m.douban.com'){fy_bridge_app['writeFile']('hiker://files/cache/doubancookie.txt',fy_bridge_app['getCookie']('https://m.douban.com/'));}}());`\\n!fileExist('hiker://files/cache/global_getDoubanCookie.js') ? (writeFile('hiker://files/cache/global_getDoubanCookie.js', getDoubanCookie)) : 0;\\nif (!fileExist('hiker://files/rules/js/global_getDoubanCookie.js') && getVar('confirm', 'true') == 'true') {\\n    confirm({\\n        title: '插件导入提示',\\n        content: '检测到你还没有自动获取Cookie插件，是否立即导入？(点击取消重启软件前不再提示导入)',\\n        confirm: `'rule://'+base64Encode('海阔视界，网页插件￥js_url￥global_getDoubanCookie@hiker://files/cache/global_getDoubanCookie.js');`,\\n        cancel: `putVar('confirm','false');refreshPage();'hiker://empty'`\\n    })\\n}\"}]"},{"last_chapter_rule":"","pageList":[],"title":"虎娃X5","author":"Reborn","version":1,"url":"https://bbs.hupu.com/fyAll-fypage;get;utf-8;{User-Agent@Mozilla/5.0 (Windows NT 10.0；； Win64；； x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.149 Safari/537.36}","col_type":"text_1","class_name":"步行街热帖&NBA热帖","class_url":"all-gambia&all-nba","area_name":"晒晒照片&主干道&娱乐圈&股票&音乐&影视","area_url":"selfie&bxj&4856&finance&3442&ent","sort_name":"","year_name":"王者荣耀&LOL&ACG","sort_url":"","year_url":"kog&lol&acg","find_rule":"body&&.text-list-model&&.list-item;.t-title||.truetit||.red&&Text;;.t-info--a||.author||.forum&&Text+' '+.t-label&&Text;.t-info||.titlelink||.textSpan&&.truetit||a,0&&href.js: input+'#fypage#immersiveTheme#'","searchFind":"js: var json = JSON.parse(getResCode());\r\nvar res = {};\r\nvar list = json.data.list;\n//setError(list)\r\nvar items = list.map(data => ({\r\n    title: parseDomForHtml(data.title,\"Text\"),\n    desc:data.forum_name,\n    content:  \"https://bbs.hupu.com/\"+data.id+\".html\",\r\n    url: \"https://bbs.hupu.com/\"+data.id+\".html#fypage\"\r\n}));\r\nres.data = items;\r\nsetSearchResult(res);","search_url":"https://m.hupu.com/api/v1/search?keyword=**","titleColor":"#ff148e8e","group":"①推荐","detail_col_type":"rich_text","detail_find_rule":"js:\nlet d = [];\nd.push({\n    col_type: \"x5_webview_single\",\n    url: MY_URL,\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true\n    }\n});\nsetResult(d)","sdetail_col_type":"rich_text","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[]"},{"last_chapter_rule":"","pageList":[{"col_type":"rich_text","name":"菜单列表","path":"menu","rule":"js:\neval(JSON.parse(request(\"hiker://page/richtext\")).rule)\neval(JSON.parse(request(\"hiker://page/settings\")).rule)\n\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar urlSplits = MY_URL.split('?page=');\nvar page = 1;\ntry {\n    let pageTemp = parseInt(urlSplits[1]);\n    page = isNaN(pageTemp) === true ? page : pageTemp;\n} catch (e) {}\n\ntry {\n    let mainHtml = parseDomForHtml(html, '.main-panel&&Html');\n\n    if (page === 1) {\n        /**\n         * header\n         */\n        try {\n            let headerTitle = getBigText(getStrongText(parseDomForHtml(mainHtml, 'h1&&Text'))) +\n                ' ' + getSmallText(getAddressTag(MY_URL, '[查看原文]'));\n            let headerHtml = parseDomForHtml(mainHtml, '.rl-summary&&Html');\n            let collectionCount = '<br>' + getSmallText(parseDomForHtml(headerHtml, '.stats&&Text'));\n            let time = ' ' + getSmallText(getGreyText(parseDomForHtml(headerHtml, '.time&&Text')));\n            d.push({\n                title: headerTitle + collectionCount + time\n            });\n            d.push({\n                col_type: 'line'\n            });\n            let author = getAuthorText(parseDomForHtml(headerHtml, '.avatar-link&&Text'));\n            let desc = '<br>' + parseDomForHtml(headerHtml, '.desc&&Text');\n            let meta = getBlockquoteText(author + desc);\n            if (model_line_height > 0) {\n                d.push({\n                    title: meta + getGreyText(contentTips)\n                });\n                for (let i = 0; i < model_line_height; i++) {\n                    d.push({\n                        col_type: 'line_blank'\n                    });\n                }\n            } else {\n                d.push({\n                    title: meta\n                });\n            }\n        } catch (e) {}\n    }\n    /**\n     * 正文\n     */\n    try {\n        let contentsHtml = parseDomForHtml(html, '.rl-recipes&&Html');\n        if (page === 1) {\n            let contentTitle = getBigText(parseDomForHtml(contentsHtml, '.block-title&&Text'));\n            d.push({\n                title: contentTitle\n            });\n        }\n        let contentsHtmlArray = parseDomForArray(contentsHtml, '.normal-recipe-list&&li');\n        for (let i = 0; i < contentsHtmlArray.length; i++) {\n            let contentItemHtml = contentsHtmlArray[i];\n            let cover = parseDomForHtml(contentItemHtml, '.cover&&img&&data-src');\n            let title = parseDomForHtml(contentItemHtml, '.info&&.name&&Text');\n            let desc = parseDomForHtml(contentItemHtml, '.stats&&Text');\n            let url = parseDom(contentItemHtml, 'a&&href');\n            d.push({\n                title: title,\n                pic_url: cover,\n                desc: desc,\n                url: \"hiker://page/detail?url=\" + url.replace(/\\?/, \"？？\") + \"；；get；；utf-8；；{User-Agent@Mozilla 5.0}\"\n\n/*$(url).rule(()=>eval(JSON.parse(request(\"hiker://page/detail\")).rule))*/,\n                col_type: 'movie_1'\n            })\n        }\n    } catch (e) {}\n} catch (e) {}\n\n\nres.data = d;\nsetHomeResult(res);"},{"col_type":"rich_text","name":"菜谱详情","path":"detail","rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nlog(html)\n/*var urlSplits = MY_URL.split('?page=');\nvar page = 1;\ntry {\n    let pageTemp = parseInt(urlSplits[1]);\n    page = isNaN(pageTemp) === true ? page : pageTemp;\n} catch (e) {}*/\n\neval(JSON.parse(request(\"hiker://page/settings\")).rule)\n\neval(JSON.parse(request(\"hiker://page/richtext\")).rule)\n\nString.prototype.replaceWithCallback = function(searchValue, replaceValue, callback) {\n    let returnValue = this;\n    if (callback != null) {\n        returnValue = callback(this, searchValue, replaceValue);\n    }\n    return returnValue;\n};\n\nlet imgError = '<font color=\"grey\">图片暂时无法显示，若要查看请<a href=\"' + MY_URL + '\">访问原文</a></font>';\n\nfunction imgTag(context, sourceTag, imgUrl) {\n    if (/(w\\/(\\d+)\\/interlace)/.test(imgUrl) === true) {\n        let url = RegExp.$1;\n        // log(sourceTag)\n        sourceTag = sourceTag.replace(url, 'w/' + imgWidth + '/interlace');\n        // log(sourceTag)\n    }\n    let replaceString = sourceTag;\n    let replaceString1 = imgUrl === '' ?\n        imgError :\n        ('<a href=\"' + imgUrl + '\">' +\n            (hideImg === 1 ? '[点击查看大图]' : '图片无法加载？点我试试~') +\n            '</a>');\n    if (showFullImgTips) {\n        replaceString += ('<br>' + getSmallText(replaceString1));\n    }\n    if (hideImg) {\n        replaceString = replaceString1;\n    }\n    return context.replace(/<img data-v>/g, replaceString);\n}\n\nfunction imgTagReplacement2(context, searchValue, replaceValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = context;\n    // log(matchArray)\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            let item = matchArray[i];\n            // log(item);\n            /(<img (src|data-src)=\"(.*?)\"([\\s\\S]*?)>)/.test(item);\n            let imgUrl = RegExp.$3;\n            if (imgUrl !== '') {\n                returnValue = returnValue.replace(item, replaceValue);\n                let tag = item;\n                // log(tag)\n                returnValue = imgTag(returnValue, tag, imgUrl);\n            }\n        }\n    }\n    return returnValue;\n}\n\ntry {\n    let mainHtml = parseDomForHtml(html, '.main-panel&&Html');\n    /**\n     * header\n     */\n    try {\n        let headerTitle = getBigText(getStrongText(parseDomForHtml(mainHtml, 'h1&&Text'))) +\n            ' ' + getSmallText(getAddressTag(MY_URL, '[查看原文]'));\n        let tags = '';\n        try {\n            let headerTagsHtml = parseDomForHtml(html, '.recipe-tags&&Html');\n            let tagsHtmlArray = parseDomForArray(headerTagsHtml, '.recipe-cats&&a');\n            // setError(JSON.stringify(tagsHtmlArray));\n            for (let i = 0; i < tagsHtmlArray.length; i++) {\n                let tagHtml = tagsHtmlArray[i];\n                let tag = getCodeText(parseDomForHtml(tagHtml, 'Text'));\n                tags += tag;\n            }\n            // setError(tags);\n        } catch (e) {}\n        tags = tags === '' ? '<br>' + getCodeText('暂无分类') : '<br>' + tags;\n        d.push({\n            title: headerTitle + tags\n        });\n        d.push({\n            col_type: 'line'\n        });\n    } catch (e) {}\n\n    /**\n     * 描述\n     */\n    try {\n        let author = getAuthorText('作者：' + parseDomForHtml(mainHtml, '.author&&Text'));\n        let desc = '';\n        try {\n            desc = '<br>' + parseDomForHtml(mainHtml, '.desc&&Html');\n        } catch (e) {}\n\n        /**\n         * 展示\n         */\n        let showVideo = '';\n        try {\n            let showHtml = parseDomForHtml(html, '.recipe-show&&Html');\n            let iframeVideoUrl = parseDomForHtml(showHtml, 'iframe&&src');\n            // setError(iframeVideoUrl);\n            let iframeHtml = fetch(iframeVideoUrl, {});\n            // setError(iframeHtml);\n            let videoUrl = parseDomForHtml(iframeHtml, 'video&&src');\n            showVideo = getAddressTag(videoUrl, '本帖含视频，点我查看～');\n        } catch (e) {}\n\n        let ings = '';\n        try {\n            /**\n             * 用料\n             */\n            let ingsHtml = parseDomForHtml(mainHtml, '.ings&&Html');\n            let ingsHtmlArray = parseDomForArray(ingsHtml, 'table&&tr');\n            // setError(JSON.stringify(ingsHtmlArray));\n            for (let i = 0; i < ingsHtmlArray.length; i++) {\n                let ingHtml = ingsHtmlArray[i];\n                /<td class=\"name\">([\\s\\S]*?)<\\/td>/.test(ingHtml);\n                let ingName = RegExp.$1;\n                if (ingName !== '') {\n                    ingName = getColorText(parseDomForHtml(ingName, 'Text'), ingNameColor);\n                    /<td class=\"unit\">([\\s\\S]*?)<\\/td>/.test(ingHtml);\n                    let ingUnit = RegExp.$1;\n                    ingUnit = getColorText(((ingUnit === ingName) ? '未知' : ingUnit), ingUnitColor);\n                    let ing = ingName + ' ' + ingUnit;\n                    ing = i === (ingsHtmlArray.length - 1) ? ing : ing + (ingsMode === 1 ? '<br>' : '、');\n                    ings += ing\n                }\n            }\n            ings = (getBigText(getTitleText('用料')) + '<br>') + ings;\n        } catch (e) {}\n        desc = showDesc === 1 ? desc : '';\n        if (model_line_height > 0) {\n            d.push({\n                title: getBlockquoteText(author + desc) + (showVideo === '' ? getGreyText(contentTips) : showVideo + '<br>')\n            });\n            for (let i = 0; i < model_line_height; i++) {\n                d.push({\n                    col_type: 'line_blank'\n                });\n            }\n            d.push({\n                title: ings\n            });\n            for (let i = 0; i < model_line_height; i++) {\n                d.push({\n                    col_type: 'line_blank'\n                });\n            }\n        } else {\n            d.push({\n                title: getBlockquoteText(author + desc) + (showVideo === '' ? '' : showVideo + '<br><br>') + ings\n            });\n        }\n    } catch (e) {}\n\n    /**\n     * 正文\n     */\n    try {\n        let stepsTitle = getBigText(getTitleText('' + parseDomForHtml(mainHtml, '#steps&&Text') + ''));\n        let stepsHtmlArray = parseDomForArray(mainHtml, '.steps&&.container');\n        if (multiStepModel && model_line_height > 0) {\n            d.push({\n                title: stepsTitle\n            });\n        }\n        let steps = '';\n        for (let i = 0; i < stepsHtmlArray.length; i++) {\n            let step = parseDomForHtml(stepsHtmlArray[i], '.container&&Html');\n            step = getStrongText('步骤' + (i + 1) + '<br>') +\n                step\n                .replace(/<\\/p> <img src=/g, '<br><img src=')\n                .replaceWithCallback(/(<img (src|data-src)=\"(.*?)\"([\\s\\S]*?)>)/g, \"<img data-v>\", imgTagReplacement2)\n                .replace(/(<p class=\"text\" style=\".*?\">)|(<\\/p>)/, '');\n            if (multiStepModel && model_line_height > 0) {\n                d.push({\n                    title: step\n                })\n            } else {\n                steps += '<br><br>' + step;\n            }\n        }\n        if (!(multiStepModel && model_line_height > 0)) {\n            d.push({\n                title: stepsTitle + steps\n            });\n        }\n        for (let i = 0; i < model_line_height; i++) {\n            d.push({\n                col_type: 'line_blank'\n            });\n        }\n        /**\n         * Tips\n         */\n        let tips = '';\n        try {\n            let tipsHtml = parseDomForHtml(mainHtml, '.tip-container&&Html');\n            let tipsTitle = getBigText(getTitleText(parseDomForHtml(tipsHtml, 'h2&&Text')));\n            tipsContent = '<br>' + parseDomForHtml(tipsHtml, '.tip&&Html');\n            tips = getColorText(tipsTitle + tipsContent, tipsColor);\n            d.push({\n                title: tips\n            });\n            for (let i = 0; i < model_line_height; i++) {\n                d.push({\n                    col_type: 'line_blank'\n                });\n            }\n        } catch (e) {}\n    } catch (e) {}\n\n    /**\n     * footer\n     */\n    try {\n        let footerHtml = parseDomForHtml(html, '.recipe-stats&&Html');\n        let time = parseDomForHtml(footerHtml, '.time&&Text');\n        let collectionCount = parseDomForHtml(footerHtml, '.pv&&Text');\n        let copyright = parseDomForHtml(footerHtml, '.copyright&&Text');\n        let footer = getSmallText(getGreyText(time + '<br>' + collectionCount + '<br>' + copyright))\n        d.push({\n            title: footer\n        });\n    } catch (e) {}\n\n    /**\n     * 评论\n     */\n    try {\n        let commentHtml = parseDomForHtml(html, '.page-bottom-outer&&.page-container&&Html');\n        let commentTitle = getBigText(getTitleText(parseDomForHtml(commentHtml, 'h2&&Text')));\n        let commentsHtmlArray = parseDomForArray(commentHtml, '.question-list&&.recipe-quesions-content');\n        if (commentsHtmlArray.length > 0) {\n            d.push({\n                col_type: 'line_blank'\n            });\n            d.push({\n                title: commentTitle\n            });\n        }\n        let comment = '';\n        for (let i = 0; i < commentsHtmlArray.length; i++) {\n            let commentsBlockHtmlArray = parseDomForArray(commentsHtmlArray[i], 'li&&.avatar-right-2');\n            for (let j = 0; j < commentsBlockHtmlArray.length; j++) {\n                let replyComment = '';\n                let authorComment = '';\n                if (commentsBlockHtmlArray[j].indexOf('赞') > -1) {\n                    let replier = getAuthorText(parseDomForHtml(commentsBlockHtmlArray[j], '.info&&a&&Text'));\n                    let reply_time = '';\n                    if (/(<span class=\"normal-font gray-font align-baseline\">[\\s\\S]*?<\\/span>)/.test(commentsBlockHtmlArray[j]) === true) {\n                        reply_time = getGreyText(RegExp.$1);\n                    }\n                    let reply_meta = getCommentMeta('<br>' + replier + reply_time);\n                    let reply_content = parseDomForHtml(commentsBlockHtmlArray[j], '.right-bottom&&Html');\n                    replyComment = reply_content + reply_meta;\n                }\n                if (commentsBlockHtmlArray[j].indexOf('作者回复') > -1) {\n                    try {\n                        let author = getAuthorText('作者回复');\n                        let time = '';\n                        if (/(<span class=\"normal-font gray-font align-baseline\">[\\s\\S]*?<\\/span>)/.test(commentsBlockHtmlArray[j]) === true) {\n                            time = getGreyText(RegExp.$1);\n                        }\n                        let meta = getCommentMeta('<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;' + author + time);\n                        let commentContent = '<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>' +\n                            parseDomForHtml(commentsBlockHtmlArray[j], '.right-bottom&&Html');\n                        authorComment = commentContent + meta;\n                        // authorComment = '<br>' + authorComment;\n                    } catch (e) {}\n                }\n                comment = replyComment + authorComment;\n                d.push({\n                    title: comment.replace(/<div class=\"recipe-questions-digg\">/g, '')\n                });\n            }\n            d.push({\n                col_type: 'line'\n            });\n        }\n    } catch (e) {}\n} catch (e) {}\n\n\nres.data = d;\nsetHomeResult(res);"},{"col_type":"movie_3","name":"富文本通用函数","path":"richtext","rule":"function getBigText(text) {\n    return '<big>' + text + '</big>';\n}\n\nfunction getSmallText(text) {\n    return '<small>' + text + '</small>';\n}\n\nfunction getStrongText(text) {\n    return '<strong>' + text + '</strong>';\n}\n\nfunction getTitleText(text) {\n    return getStrongText(text);\n}\n\nfunction getColorText(text, color) {\n    return '<font color=\"' + color + '\">' + text + '</font>';\n}\n\nfunction getGreyText(text) {\n    return getColorText(text, 'grey');\n}\n\nfunction getAuthorText(text) {\n    return getColorText(text, userColor);\n}\n\nfunction getCodeText(text) {\n    return '<code>' + text + '</code>';\n}\n\nfunction getBlockquoteText(text) {\n    return '<blockquote>' + text + '</blockquote>'\n}\n\nfunction getAddressTag(url, text) {\n    return '<a href=\"' + url + '\">' + text + '</a>'\n}\n\nfunction getCommentMeta(html) {\n    return getSmallText(html);\n}\n"},{"col_type":"movie_3","name":"获取个人配置","path":"settings","rule":"/**\n * 个人配置已移到预处理，请前往预处理进行配置\n */\n\n/**\n * 是否开启伪异步加载模式 1/开启 0/不开启\n *\n * 注意：二级会卡可以尝试开启该选项，但可能导致某些图片不显示\n */\nlet valueInMap = getVar('xiachu_multiStepModel');\nlet multiStepModel = 0;\nvalueInMap = parseInt(valueInMap);\nmultiStepModel = isNaN(valueInMap) === true ? multiStepModel : valueInMap;\n// 是否隐藏图片(省流模式) 1/隐藏 0/不隐藏\nlet hideImg = 0;\nvalueInMap = getVar('xiachu_hideImg');\nvalueInMap = parseInt(valueInMap);\nhideImg = isNaN(valueInMap) === true ? hideImg : valueInMap;\n// 图片质量，默认 300，推荐 600 或 800\nlet imgWidth = 600;\nvalueInMap = getVar('xiachu_imgWidth');\nvalueInMap = parseInt(valueInMap);\nimgWidth = isNaN(valueInMap) === true ? imgWidth : valueInMap;\n// 是否显示看大图(防止无法加载图片) 1/显示 0/不显示\nlet showFullImgTips = 1;\nvalueInMap = getVar('xiachu_showFullImgTips');\nvalueInMap = parseInt(valueInMap);\nshowFullImgTips = isNaN(valueInMap) === true ? showFullImgTips : valueInMap;\n// 用户颜色*\nlet userColor = \"#2979FF\";\nvalueInMap = getVar('xiachu_userColor');\nuserColor = valueInMap === '' ? userColor : valueInMap;\n// 是否显示菜的描述 1/显示 0/不显示\nlet showDesc = 1;\nvalueInMap = getVar('xiachu_showDesc');\nvalueInMap = parseInt(valueInMap);\nshowDesc = isNaN(valueInMap) === true ? showDesc : valueInMap;\n// 用料模块显示方式 1/完整视图 0/缩略模式\nlet ingsMode = 0;\nvalueInMap = getVar('xiachu_ingsMode');\nvalueInMap = parseInt(valueInMap);\ningsMode = isNaN(valueInMap) === true ? ingsMode : valueInMap;\n// 用料名颜色\nlet ingNameColor = \"#46c200\";\nvalueInMap = getVar('xiachu_ingNameColor');\ningNameColor = valueInMap === '' ? ingNameColor : valueInMap;\n// 用料量颜色\nlet ingUnitColor = \"#706a6b\";\nvalueInMap = getVar('xiachu_ingUnitColor');\ningUnitColor = valueInMap === '' ? ingUnitColor : valueInMap;\n// 小贴士颜色\nlet tipsColor = \"#706a6b\";\nvalueInMap = getVar('xiachu_tipsColor');\ntipsColor = valueInMap === '' ? tipsColor : valueInMap;\n// 模块之间的间隔*\nlet model_line_height = 1;\nvalueInMap = getVar('xiachu_model_line_height');\nvalueInMap = parseInt(valueInMap);\nmodel_line_height = isNaN(valueInMap) === true ? model_line_height : valueInMap;\n// 正文提示*\nlet contentTips = '下厨的时候一定要注意安全哦～' + '<br>';\nvalueInMap = getVar('xiachu_contentTips');\ncontentTips = valueInMap === '' ? contentTips : valueInMap;"}],"title":"厨娃R","author":"1606142&Reborn","version":15,"url":"https://www.xiachufang.com/fyAll?page=fypage;get;utf-8;{User-Agent@Mozilla 5.0}","col_type":"movie_1","class_name":"本周最受欢迎&新秀菜谱&往期头条&厨房101&月度最佳&最新创建&流行菜单","class_url":"explore&explore/rising&explore/head&explore/honor&explore/monthhonor&explore/created&explore/menu/pop","area_name":"家常菜&快手菜&下饭菜&早餐&汤羹&烘培&小吃","area_url":"category/40076&category/40077&category/40078&category/40071&category/20130&category/51761&category/40073","sort_name":"甜品饮品&甜品&糖水&果汁\n&下午茶&深夜食堂&宵夜&零食\n&三明治&炸牛奶&炸鲜奶","year_name":"糖醋&粥&面条&炒饭\n&肉类&鸡蛋&猪&鸡&鸭&虾&鳕鱼&山药&藕&茄子\n&电饭煲&高压锅\n&懒人食谱&视频菜谱","sort_url":"category/52381/&category/20135/&category/50680/&category/51823/\n&category/40072/&category/52107/&category/51865/&category/40074/\n&category/20157/&category/1025798/&category/1000044/","year_url":"category/40066/&category/20131/&category/1025/&category/20143/\n&category/1012713/&category/394/&category/5399/&category/104/&category/275/&category/469/&category/1072/&category/524/&category/503/&category/178/\n&category/51313/&category/52376/\n&category/1012722/&category/52428/","find_rule":".pure-u-3-4&&li;img&&alt;img&&data-src;.stats||.stat||.time&&Text;a&&href.js: (input.indexOf('recipe_list') > -1 ? (input + '?page=fypage') : input) + '#noHistory#'","searchFind":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar host = 'https://www.xiachufang.com';\nvar noHistory = '#noHistory#';\n\n/**\n * 是否开启搜索结果包含菜单\n */\nvar containMenu = 1;\nlet valueInMap = getVar('xiachu_containMenu');\nvalueInMap = parseInt(valueInMap);\ncontainMenu = isNaN(valueInMap) === true ? containMenu : valueInMap;\n\ntry {\n    if (containMenu) {\n        let menusHtml = parseDomForArray(html, '.recipe-menus&&a');\n        for (let i = 0; i < menusHtml.length; i++) {\n            let menuHtml = menusHtml[i];\n            let menu = {};\n            menu.title = parseDomForHtml(menuHtml, 'a&&title');\n            menu.pic_url = parseDomForHtml(menuHtml, 'a&&img&&src');\n            menu.url = host + parseDomForHtml(menuHtml, 'a&&href') + '?page=fypage' + noHistory;\n            menu.desc = '菜单';\n            d.push(menu);\n        }\n        containMenu = 0;\n        putVar2('xiachu_containMenu', containMenu.toString());\n    }\n} catch (e) { }\n\ntry {\n    let resultsHtml = parseDomForArray(html, '.search-result-list&&ul&&li');\n        for (let i = 0; i < resultsHtml.length; i++) {\n            let resultHtml = resultsHtml[i];\n            let result = {};\n            result.title = parseDomForHtml(resultHtml, '.name&&Text');\n            result.pic_url = parseDomForHtml(resultHtml, '.cover&&img&&data-src').replace('w/215/h/136', 'w/430/h/272');\n            result.url = host + parseDomForHtml(resultHtml, 'a&&href') + noHistory;\n            result.content = parseDomForHtml(resultHtml, '.ing&&Text');\n            result.desc = parseDomForHtml(resultHtml, '.stats&&Text');\n            d.push(result);\n        }\n} catch (e) { }\n\nres.data = d;\nsetSearchResult(res);\n/*.search-result-list&&ul&&li;.name&&Text;a&&href.js: 'https://www.%78%69%61%63%68%75%66%61%6e%67.com' + input + '#noHistory#';.stats&&Text;.ing&&Text;.cover&&img&&data-src.js: input.replace('w/215/h/136', 'w/430/h/272')*/","search_url":"https://www.xiachufang.com/search/?keyword=**&page=fypage;get;utf-8;{User-Agent@Mozilla 5.0}","titleColor":"#ff148e8e","group":"①推荐","detail_col_type":"rich_text","detail_find_rule":"js:\nif (MY_URL.indexOf('recipe_list') > -1) {\n    eval(JSON.parse(request(\"hiker://page/menu\")).rule)\n} else {\n    eval(JSON.parse(request(\"hiker://page/detail\")).rule)\n}","sdetail_col_type":"rich_text","sdetail_find_rule":"*","ua":"pc","preRule":"/**\n * 是否开启伪异步加载模式 1/开启 0/不开启\n *\n * 注意：二级会卡可以尝试开启该选项，但可能导致某些图片不显示\n */\nlet multiStepModel = 0;\n// 是否隐藏图片(省流模式) 1/隐藏 0/不隐藏\nlet hideImg = 0;\n// 图片质量，默认 300，推荐 600 或 800\nlet imgWidth = 600;\n// 是否显示看大图(防止无法加载图片) 1/显示 0/不显示\nlet showFullImgTips = 1;\n// 用户颜色\nlet userColor = \"#2979FF\";\n// 是否显示菜的描述 1/显示 0/不显示\nlet showDesc = 1;\n// 用料模块显示方式 1/完整视图 0/缩略模式\nlet ingsMode = 0;\n// 用料名颜色\nlet ingNameColor = \"#46c200\";\n// 用料量颜色\nlet ingUnitColor = \"#706a6b\";\n// 小贴士颜色\nlet tipsColor = \"#706a6b\";\n// 模块之间的间隔\nlet model_line_height = 1;\n// 正文提示\nlet contentTips = '下厨的时候一定要注意安全哦～' + '<br>';\n\n/**\n * 是否开启搜索结果包含菜单\n */\nvar containMenu = 1;\n\nputVar2('xiachu_multiStepModel', multiStepModel.toString());\nputVar2('xiachu_hideImg', hideImg.toString());\nputVar2('xiachu_imgWidth', imgWidth.toString());\nputVar2('xiachu_showFullImgTips', showFullImgTips.toString());\nputVar2('xiachu_userColor', userColor);\nputVar2('xiachu_showDesc', showDesc.toString());\nputVar2('xiachu_ingsMode', ingsMode.toString());\nputVar2('xiachu_ingNameColor', ingNameColor);\nputVar2('xiachu_ingUnitColor', ingUnitColor);\nputVar2('xiachu_tipsColor', tipsColor);\nputVar2('xiachu_model_line_height', model_line_height.toString());\nputVar2('xiachu_contentTips', contentTips);\n\nputVar2('xiachu_containMenu', containMenu.toString());\n\nputVar2('xiachu_host', base64Decode('d3d3LnhpYWNodWZhbmcuY29t'))","pages":"[{\"col_type\":\"rich_text\",\"name\":\"菜单列表\",\"path\":\"menu\",\"rule\":\"js:\\neval(JSON.parse(request(\\\"hiker://page/richtext\\\")).rule)\\neval(JSON.parse(request(\\\"hiker://page/settings\\\")).rule)\\n\\nvar res = {};\\nvar d = [];\\nvar html = getResCode();\\nvar urlSplits = MY_URL.split('?page=');\\nvar page = 1;\\ntry {\\n    let pageTemp = parseInt(urlSplits[1]);\\n    page = isNaN(pageTemp) === true ? page : pageTemp;\\n} catch (e) {}\\n\\ntry {\\n    let mainHtml = parseDomForHtml(html, '.main-panel&&Html');\\n\\n    if (page === 1) {\\n        /**\\n         * header\\n         */\\n        try {\\n            let headerTitle = getBigText(getStrongText(parseDomForHtml(mainHtml, 'h1&&Text'))) +\\n                ' ' + getSmallText(getAddressTag(MY_URL, '[查看原文]'));\\n            let headerHtml = parseDomForHtml(mainHtml, '.rl-summary&&Html');\\n            let collectionCount = '<br>' + getSmallText(parseDomForHtml(headerHtml, '.stats&&Text'));\\n            let time = ' ' + getSmallText(getGreyText(parseDomForHtml(headerHtml, '.time&&Text')));\\n            d.push({\\n                title: headerTitle + collectionCount + time\\n            });\\n            d.push({\\n                col_type: 'line'\\n            });\\n            let author = getAuthorText(parseDomForHtml(headerHtml, '.avatar-link&&Text'));\\n            let desc = '<br>' + parseDomForHtml(headerHtml, '.desc&&Text');\\n            let meta = getBlockquoteText(author + desc);\\n            if (model_line_height > 0) {\\n                d.push({\\n                    title: meta + getGreyText(contentTips)\\n                });\\n                for (let i = 0; i < model_line_height; i++) {\\n                    d.push({\\n                        col_type: 'line_blank'\\n                    });\\n                }\\n            } else {\\n                d.push({\\n                    title: meta\\n                });\\n            }\\n        } catch (e) {}\\n    }\\n    /**\\n     * 正文\\n     */\\n    try {\\n        let contentsHtml = parseDomForHtml(html, '.rl-recipes&&Html');\\n        if (page === 1) {\\n            let contentTitle = getBigText(parseDomForHtml(contentsHtml, '.block-title&&Text'));\\n            d.push({\\n                title: contentTitle\\n            });\\n        }\\n        let contentsHtmlArray = parseDomForArray(contentsHtml, '.normal-recipe-list&&li');\\n        for (let i = 0; i < contentsHtmlArray.length; i++) {\\n            let contentItemHtml = contentsHtmlArray[i];\\n            let cover = parseDomForHtml(contentItemHtml, '.cover&&img&&data-src');\\n            let title = parseDomForHtml(contentItemHtml, '.info&&.name&&Text');\\n            let desc = parseDomForHtml(contentItemHtml, '.stats&&Text');\\n            let url = parseDom(contentItemHtml, 'a&&href');\\n            d.push({\\n                title: title,\\n                pic_url: cover,\\n                desc: desc,\\n                url: \\\"hiker://page/detail?url=\\\" + url.replace(/\\\\?/, \\\"？？\\\") + \\\"；；get；；utf-8；；{User-Agent@Mozilla 5.0}\\\"\\n\\n/*$(url).rule(()=>eval(JSON.parse(request(\\\"hiker://page/detail\\\")).rule))*/,\\n                col_type: 'movie_1'\\n            })\\n        }\\n    } catch (e) {}\\n} catch (e) {}\\n\\n\\nres.data = d;\\nsetHomeResult(res);\"},{\"col_type\":\"rich_text\",\"name\":\"菜谱详情\",\"path\":\"detail\",\"rule\":\"js:\\nvar res = {};\\nvar d = [];\\nvar html = getResCode();\\nlog(html)\\n/*var urlSplits = MY_URL.split('?page=');\\nvar page = 1;\\ntry {\\n    let pageTemp = parseInt(urlSplits[1]);\\n    page = isNaN(pageTemp) === true ? page : pageTemp;\\n} catch (e) {}*/\\n\\neval(JSON.parse(request(\\\"hiker://page/settings\\\")).rule)\\n\\neval(JSON.parse(request(\\\"hiker://page/richtext\\\")).rule)\\n\\nString.prototype.replaceWithCallback = function(searchValue, replaceValue, callback) {\\n    let returnValue = this;\\n    if (callback != null) {\\n        returnValue = callback(this, searchValue, replaceValue);\\n    }\\n    return returnValue;\\n};\\n\\nlet imgError = '<font color=\\\"grey\\\">图片暂时无法显示，若要查看请<a href=\\\"' + MY_URL + '\\\">访问原文</a></font>';\\n\\nfunction imgTag(context, sourceTag, imgUrl) {\\n    if (/(w\\\\/(\\\\d+)\\\\/interlace)/.test(imgUrl) === true) {\\n        let url = RegExp.$1;\\n        // log(sourceTag)\\n        sourceTag = sourceTag.replace(url, 'w/' + imgWidth + '/interlace');\\n        // log(sourceTag)\\n    }\\n    let replaceString = sourceTag;\\n    let replaceString1 = imgUrl === '' ?\\n        imgError :\\n        ('<a href=\\\"' + imgUrl + '\\\">' +\\n            (hideImg === 1 ? '[点击查看大图]' : '图片无法加载？点我试试~') +\\n            '</a>');\\n    if (showFullImgTips) {\\n        replaceString += ('<br>' + getSmallText(replaceString1));\\n    }\\n    if (hideImg) {\\n        replaceString = replaceString1;\\n    }\\n    return context.replace(/<img data-v>/g, replaceString);\\n}\\n\\nfunction imgTagReplacement2(context, searchValue, replaceValue) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = context;\\n    // log(matchArray)\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            let item = matchArray[i];\\n            // log(item);\\n            /(<img (src|data-src)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>)/.test(item);\\n            let imgUrl = RegExp.$3;\\n            if (imgUrl !== '') {\\n                returnValue = returnValue.replace(item, replaceValue);\\n                let tag = item;\\n                // log(tag)\\n                returnValue = imgTag(returnValue, tag, imgUrl);\\n            }\\n        }\\n    }\\n    return returnValue;\\n}\\n\\ntry {\\n    let mainHtml = parseDomForHtml(html, '.main-panel&&Html');\\n    /**\\n     * header\\n     */\\n    try {\\n        let headerTitle = getBigText(getStrongText(parseDomForHtml(mainHtml, 'h1&&Text'))) +\\n            ' ' + getSmallText(getAddressTag(MY_URL, '[查看原文]'));\\n        let tags = '';\\n        try {\\n            let headerTagsHtml = parseDomForHtml(html, '.recipe-tags&&Html');\\n            let tagsHtmlArray = parseDomForArray(headerTagsHtml, '.recipe-cats&&a');\\n            // setError(JSON.stringify(tagsHtmlArray));\\n            for (let i = 0; i < tagsHtmlArray.length; i++) {\\n                let tagHtml = tagsHtmlArray[i];\\n                let tag = getCodeText(parseDomForHtml(tagHtml, 'Text'));\\n                tags += tag;\\n            }\\n            // setError(tags);\\n        } catch (e) {}\\n        tags = tags === '' ? '<br>' + getCodeText('暂无分类') : '<br>' + tags;\\n        d.push({\\n            title: headerTitle + tags\\n        });\\n        d.push({\\n            col_type: 'line'\\n        });\\n    } catch (e) {}\\n\\n    /**\\n     * 描述\\n     */\\n    try {\\n        let author = getAuthorText('作者：' + parseDomForHtml(mainHtml, '.author&&Text'));\\n        let desc = '';\\n        try {\\n            desc = '<br>' + parseDomForHtml(mainHtml, '.desc&&Html');\\n        } catch (e) {}\\n\\n        /**\\n         * 展示\\n         */\\n        let showVideo = '';\\n        try {\\n            let showHtml = parseDomForHtml(html, '.recipe-show&&Html');\\n            let iframeVideoUrl = parseDomForHtml(showHtml, 'iframe&&src');\\n            // setError(iframeVideoUrl);\\n            let iframeHtml = fetch(iframeVideoUrl, {});\\n            // setError(iframeHtml);\\n            let videoUrl = parseDomForHtml(iframeHtml, 'video&&src');\\n            showVideo = getAddressTag(videoUrl, '本帖含视频，点我查看～');\\n        } catch (e) {}\\n\\n        let ings = '';\\n        try {\\n            /**\\n             * 用料\\n             */\\n            let ingsHtml = parseDomForHtml(mainHtml, '.ings&&Html');\\n            let ingsHtmlArray = parseDomForArray(ingsHtml, 'table&&tr');\\n            // setError(JSON.stringify(ingsHtmlArray));\\n            for (let i = 0; i < ingsHtmlArray.length; i++) {\\n                let ingHtml = ingsHtmlArray[i];\\n                /<td class=\\\"name\\\">([\\\\s\\\\S]*?)<\\\\/td>/.test(ingHtml);\\n                let ingName = RegExp.$1;\\n                if (ingName !== '') {\\n                    ingName = getColorText(parseDomForHtml(ingName, 'Text'), ingNameColor);\\n                    /<td class=\\\"unit\\\">([\\\\s\\\\S]*?)<\\\\/td>/.test(ingHtml);\\n                    let ingUnit = RegExp.$1;\\n                    ingUnit = getColorText(((ingUnit === ingName) ? '未知' : ingUnit), ingUnitColor);\\n                    let ing = ingName + ' ' + ingUnit;\\n                    ing = i === (ingsHtmlArray.length - 1) ? ing : ing + (ingsMode === 1 ? '<br>' : '、');\\n                    ings += ing\\n                }\\n            }\\n            ings = (getBigText(getTitleText('用料')) + '<br>') + ings;\\n        } catch (e) {}\\n        desc = showDesc === 1 ? desc : '';\\n        if (model_line_height > 0) {\\n            d.push({\\n                title: getBlockquoteText(author + desc) + (showVideo === '' ? getGreyText(contentTips) : showVideo + '<br>')\\n            });\\n            for (let i = 0; i < model_line_height; i++) {\\n                d.push({\\n                    col_type: 'line_blank'\\n                });\\n            }\\n            d.push({\\n                title: ings\\n            });\\n            for (let i = 0; i < model_line_height; i++) {\\n                d.push({\\n                    col_type: 'line_blank'\\n                });\\n            }\\n        } else {\\n            d.push({\\n                title: getBlockquoteText(author + desc) + (showVideo === '' ? '' : showVideo + '<br><br>') + ings\\n            });\\n        }\\n    } catch (e) {}\\n\\n    /**\\n     * 正文\\n     */\\n    try {\\n        let stepsTitle = getBigText(getTitleText('' + parseDomForHtml(mainHtml, '#steps&&Text') + ''));\\n        let stepsHtmlArray = parseDomForArray(mainHtml, '.steps&&.container');\\n        if (multiStepModel && model_line_height > 0) {\\n            d.push({\\n                title: stepsTitle\\n            });\\n        }\\n        let steps = '';\\n        for (let i = 0; i < stepsHtmlArray.length; i++) {\\n            let step = parseDomForHtml(stepsHtmlArray[i], '.container&&Html');\\n            step = getStrongText('步骤' + (i + 1) + '<br>') +\\n                step\\n                .replace(/<\\\\/p> <img src=/g, '<br><img src=')\\n                .replaceWithCallback(/(<img (src|data-src)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>)/g, \\\"<img data-v>\\\", imgTagReplacement2)\\n                .replace(/(<p class=\\\"text\\\" style=\\\".*?\\\">)|(<\\\\/p>)/, '');\\n            if (multiStepModel && model_line_height > 0) {\\n                d.push({\\n                    title: step\\n                })\\n            } else {\\n                steps += '<br><br>' + step;\\n            }\\n        }\\n        if (!(multiStepModel && model_line_height > 0)) {\\n            d.push({\\n                title: stepsTitle + steps\\n            });\\n        }\\n        for (let i = 0; i < model_line_height; i++) {\\n            d.push({\\n                col_type: 'line_blank'\\n            });\\n        }\\n        /**\\n         * Tips\\n         */\\n        let tips = '';\\n        try {\\n            let tipsHtml = parseDomForHtml(mainHtml, '.tip-container&&Html');\\n            let tipsTitle = getBigText(getTitleText(parseDomForHtml(tipsHtml, 'h2&&Text')));\\n            tipsContent = '<br>' + parseDomForHtml(tipsHtml, '.tip&&Html');\\n            tips = getColorText(tipsTitle + tipsContent, tipsColor);\\n            d.push({\\n                title: tips\\n            });\\n            for (let i = 0; i < model_line_height; i++) {\\n                d.push({\\n                    col_type: 'line_blank'\\n                });\\n            }\\n        } catch (e) {}\\n    } catch (e) {}\\n\\n    /**\\n     * footer\\n     */\\n    try {\\n        let footerHtml = parseDomForHtml(html, '.recipe-stats&&Html');\\n        let time = parseDomForHtml(footerHtml, '.time&&Text');\\n        let collectionCount = parseDomForHtml(footerHtml, '.pv&&Text');\\n        let copyright = parseDomForHtml(footerHtml, '.copyright&&Text');\\n        let footer = getSmallText(getGreyText(time + '<br>' + collectionCount + '<br>' + copyright))\\n        d.push({\\n            title: footer\\n        });\\n    } catch (e) {}\\n\\n    /**\\n     * 评论\\n     */\\n    try {\\n        let commentHtml = parseDomForHtml(html, '.page-bottom-outer&&.page-container&&Html');\\n        let commentTitle = getBigText(getTitleText(parseDomForHtml(commentHtml, 'h2&&Text')));\\n        let commentsHtmlArray = parseDomForArray(commentHtml, '.question-list&&.recipe-quesions-content');\\n        if (commentsHtmlArray.length > 0) {\\n            d.push({\\n                col_type: 'line_blank'\\n            });\\n            d.push({\\n                title: commentTitle\\n            });\\n        }\\n        let comment = '';\\n        for (let i = 0; i < commentsHtmlArray.length; i++) {\\n            let commentsBlockHtmlArray = parseDomForArray(commentsHtmlArray[i], 'li&&.avatar-right-2');\\n            for (let j = 0; j < commentsBlockHtmlArray.length; j++) {\\n                let replyComment = '';\\n                let authorComment = '';\\n                if (commentsBlockHtmlArray[j].indexOf('赞') > -1) {\\n                    let replier = getAuthorText(parseDomForHtml(commentsBlockHtmlArray[j], '.info&&a&&Text'));\\n                    let reply_time = '';\\n                    if (/(<span class=\\\"normal-font gray-font align-baseline\\\">[\\\\s\\\\S]*?<\\\\/span>)/.test(commentsBlockHtmlArray[j]) === true) {\\n                        reply_time = getGreyText(RegExp.$1);\\n                    }\\n                    let reply_meta = getCommentMeta('<br>' + replier + reply_time);\\n                    let reply_content = parseDomForHtml(commentsBlockHtmlArray[j], '.right-bottom&&Html');\\n                    replyComment = reply_content + reply_meta;\\n                }\\n                if (commentsBlockHtmlArray[j].indexOf('作者回复') > -1) {\\n                    try {\\n                        let author = getAuthorText('作者回复');\\n                        let time = '';\\n                        if (/(<span class=\\\"normal-font gray-font align-baseline\\\">[\\\\s\\\\S]*?<\\\\/span>)/.test(commentsBlockHtmlArray[j]) === true) {\\n                            time = getGreyText(RegExp.$1);\\n                        }\\n                        let meta = getCommentMeta('<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;' + author + time);\\n                        let commentContent = '<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>' +\\n                            parseDomForHtml(commentsBlockHtmlArray[j], '.right-bottom&&Html');\\n                        authorComment = commentContent + meta;\\n                        // authorComment = '<br>' + authorComment;\\n                    } catch (e) {}\\n                }\\n                comment = replyComment + authorComment;\\n                d.push({\\n                    title: comment.replace(/<div class=\\\"recipe-questions-digg\\\">/g, '')\\n                });\\n            }\\n            d.push({\\n                col_type: 'line'\\n            });\\n        }\\n    } catch (e) {}\\n} catch (e) {}\\n\\n\\nres.data = d;\\nsetHomeResult(res);\"},{\"col_type\":\"movie_3\",\"name\":\"富文本通用函数\",\"path\":\"richtext\",\"rule\":\"function getBigText(text) {\\n    return '<big>' + text + '</big>';\\n}\\n\\nfunction getSmallText(text) {\\n    return '<small>' + text + '</small>';\\n}\\n\\nfunction getStrongText(text) {\\n    return '<strong>' + text + '</strong>';\\n}\\n\\nfunction getTitleText(text) {\\n    return getStrongText(text);\\n}\\n\\nfunction getColorText(text, color) {\\n    return '<font color=\\\"' + color + '\\\">' + text + '</font>';\\n}\\n\\nfunction getGreyText(text) {\\n    return getColorText(text, 'grey');\\n}\\n\\nfunction getAuthorText(text) {\\n    return getColorText(text, userColor);\\n}\\n\\nfunction getCodeText(text) {\\n    return '<code>' + text + '</code>';\\n}\\n\\nfunction getBlockquoteText(text) {\\n    return '<blockquote>' + text + '</blockquote>'\\n}\\n\\nfunction getAddressTag(url, text) {\\n    return '<a href=\\\"' + url + '\\\">' + text + '</a>'\\n}\\n\\nfunction getCommentMeta(html) {\\n    return getSmallText(html);\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"获取个人配置\",\"path\":\"settings\",\"rule\":\"/**\\n * 个人配置已移到预处理，请前往预处理进行配置\\n */\\n\\n/**\\n * 是否开启伪异步加载模式 1/开启 0/不开启\\n *\\n * 注意：二级会卡可以尝试开启该选项，但可能导致某些图片不显示\\n */\\nlet valueInMap = getVar('xiachu_multiStepModel');\\nlet multiStepModel = 0;\\nvalueInMap = parseInt(valueInMap);\\nmultiStepModel = isNaN(valueInMap) === true ? multiStepModel : valueInMap;\\n// 是否隐藏图片(省流模式) 1/隐藏 0/不隐藏\\nlet hideImg = 0;\\nvalueInMap = getVar('xiachu_hideImg');\\nvalueInMap = parseInt(valueInMap);\\nhideImg = isNaN(valueInMap) === true ? hideImg : valueInMap;\\n// 图片质量，默认 300，推荐 600 或 800\\nlet imgWidth = 600;\\nvalueInMap = getVar('xiachu_imgWidth');\\nvalueInMap = parseInt(valueInMap);\\nimgWidth = isNaN(valueInMap) === true ? imgWidth : valueInMap;\\n// 是否显示看大图(防止无法加载图片) 1/显示 0/不显示\\nlet showFullImgTips = 1;\\nvalueInMap = getVar('xiachu_showFullImgTips');\\nvalueInMap = parseInt(valueInMap);\\nshowFullImgTips = isNaN(valueInMap) === true ? showFullImgTips : valueInMap;\\n// 用户颜色*\\nlet userColor = \\\"#2979FF\\\";\\nvalueInMap = getVar('xiachu_userColor');\\nuserColor = valueInMap === '' ? userColor : valueInMap;\\n// 是否显示菜的描述 1/显示 0/不显示\\nlet showDesc = 1;\\nvalueInMap = getVar('xiachu_showDesc');\\nvalueInMap = parseInt(valueInMap);\\nshowDesc = isNaN(valueInMap) === true ? showDesc : valueInMap;\\n// 用料模块显示方式 1/完整视图 0/缩略模式\\nlet ingsMode = 0;\\nvalueInMap = getVar('xiachu_ingsMode');\\nvalueInMap = parseInt(valueInMap);\\ningsMode = isNaN(valueInMap) === true ? ingsMode : valueInMap;\\n// 用料名颜色\\nlet ingNameColor = \\\"#46c200\\\";\\nvalueInMap = getVar('xiachu_ingNameColor');\\ningNameColor = valueInMap === '' ? ingNameColor : valueInMap;\\n// 用料量颜色\\nlet ingUnitColor = \\\"#706a6b\\\";\\nvalueInMap = getVar('xiachu_ingUnitColor');\\ningUnitColor = valueInMap === '' ? ingUnitColor : valueInMap;\\n// 小贴士颜色\\nlet tipsColor = \\\"#706a6b\\\";\\nvalueInMap = getVar('xiachu_tipsColor');\\ntipsColor = valueInMap === '' ? tipsColor : valueInMap;\\n// 模块之间的间隔*\\nlet model_line_height = 1;\\nvalueInMap = getVar('xiachu_model_line_height');\\nvalueInMap = parseInt(valueInMap);\\nmodel_line_height = isNaN(valueInMap) === true ? model_line_height : valueInMap;\\n// 正文提示*\\nlet contentTips = '下厨的时候一定要注意安全哦～' + '<br>';\\nvalueInMap = getVar('xiachu_contentTips');\\ncontentTips = valueInMap === '' ? contentTips : valueInMap;\"}]","icon":""},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"期刊分期列表","path":"qk","rule":"js:\naddListener('onClose', 'clearVar(\"year\")');\n\nlet d = [];\nlet url = MY_PARAMS.href,\n    name = getParam('name'),\n    img = getParam('img');\nlet collection = JSON.parse(readFile('collection') || '{}');\nlet isCollected = !!(collection[name] && collection[name].url == url);\nd.push({\n    title: isCollected ? '♥已收藏' : '♡添加收藏',\n    url: $().lazyRule((is, url, name, img) => {\n        let collection = JSON.parse(readFile('collection') || '{}');\n        if (is) {\n            delete collection[name];\n            saveFile('collection', JSON.stringify(collection));\n            refreshPage();\n            return 'toast://已取消收藏'\n        } else {\n            collection[name] = {\n                url: url,\n                img: img\n            };\n            saveFile('collection', JSON.stringify(collection));\n            refreshPage();\n            return 'toast://已添加收藏'\n        }\n    }, isCollected, url, name, img),\n    col_type: \"scroll_button\",\n});\n\neval(parseDomForHtml(request(url), \"body&&script,2&&Html\"));\nlet items = {};\nlet now = getVar('year', String(data_list.data_list[0].year));\nfor (let list of data_list.data_list) {\n    if (now == list.year) items = list.list;\n    d.push({\n        title: '““””' + (list.year == now ? '<font color=red>' + list.year + '</font>' : list.year),\n        col_type: 'scroll_button',\n        url: $().lazyRule((year) => {\n            putVar('year', String(year));\n            refreshPage();\n            return 'hiker://empty'\n        }, list.year)\n    });\n}\nfor (let item of items) {\n    d.push({\n        title: item.span,\n        url: 'hiker://page/qkqk#immersiveTheme#',\n        img: item.img,\n        extra:{\n            href:\"http://new-qk.lifves.com/\" + item.href\n        }\n    });\n}\nsetResult(d);"},{"col_type":"movie_3","name":"期刊目录","path":"qkqk","rule":"js:\naddListener('onClose', $.toString(() => {\n    clearVar('item');\n    deleteFile('stroge');\n}));\nlet fullTheme = getItem('fullTheme', 'true') == 'true' ? '#fullTheme#' : '';\nlet nowItem = getVar('item', '');\n\nlet url = MY_PARAMS.href;\n\neval(parseDomForHtml(request(url), \"body&&script,2&&Html\").match(/let\\s*data_list.*JSON\\.parse\\(.*\\)/)[0]);\nlet d = [];\nif (data_list.data_list.length == 0) {\n    d.push({\n        title: '没有内容呦,不信点我去网页看看',\n        col_type: 'movie_1_vertical_pic_blur',\n        url: url\n    })\n} else {\n    d.push({\n        title: data_list.data_list.intro.title,\n        desc: data_list.data_list.intro.intro,\n        img: data_list.data_list.intro.img,\n        col_type: 'movie_1_vertical_pic_blur',\n        url: url\n    })\n    d.push({\n        title: '目录'.big().bold(),\n        col_type: 'rich_text'\n    })\n\n\n    let stroge = {};\n    for (let i in data_list.data_list.ml) {\n        let it = data_list.data_list.ml[i];\n        for (let item in it) {\n            stroge[it[item].title] = \"http://new-qk.lifves.com/\" + it[item].href;\n        }\n    }\n    saveFile('stroge', JSON.stringify(stroge));\n    let star = Object.keys(stroge);\n\n    for (let item in data_list.data_list.ml) {\n        d.push({\n            title: '““””' + (nowItem == item ? '▼ ' : '▶ ') + '<strong>' + item + '</strong>',\n            col_type: 'text_1',\n            url: $('hiker://empty#noLoadind#').lazyRule((item) => {\n                if (getVar('item', '') == item) {\n                    clearVar('item');\n                    refreshPage(false);\n                    return 'toast://已收起 ' + item;\n                } else {\n                    putVar('item', item);\n                    refreshPage(false);\n                    return 'toast://已展开 ' + item;\n                }\n            }, item),\n            extra: {\n                lineVisible: false\n            }\n        })\n\n        if (nowItem && nowItem == item) {\n            data_list.data_list.ml[nowItem].forEach(e => {\n                let index = star.indexOf(e.title);\n                d.push({\n                    title: '““””<small>' + e.title + '</small>',\n                    desc: '““””<small>' + e.intro + '</small>',\n                    col_type: 'text_1',\n                    url: 'hiker://page/text' + fullTheme + '?title=' + e.title + '&index=' + index,\n                    extra: {\n                        href: \"http://new-qk.lifves.com/\" + e.href\n                    }\n                })\n            })\n        }\n    }\n}\nsetResult(d);"},{"col_type":"movie_3","name":"设置","path":"setting","rule":"js:\nlet d = [];\nlet fontsize = parseInt(getItem('fontsize', String(15)));\nlet indent = parseInt(getItem('indent', String(7)));\nlet indents = '';\nfor (let i = 0; i < indent; i++) {\n    indents += '&nbsp;';\n}\nlet fullTheme = getItem('fullTheme', 'true');\nlet click = getItem('click', 'true');\n\nd.push({\n    title: '全屏模式' + (fullTheme == 'true' ? '✔' : '✘'),\n    col_type: 'text_2',\n    url: $('hiker://empty#noLoading#').lazyRule((i) => {\n        setItem('fullTheme', i == 'true' ? 'false' : 'true');\n        refreshPage();\n        return 'hiker://empty';\n    }, fullTheme)\n})\nd.push({\n    title: '点击翻页' + (click == 'true' ? '✔' : '✘'),\n    col_type: 'text_2',\n    url: $('hiker://empty#noLoading#').lazyRule((i) => {\n        setItem('click', i == 'true' ? 'false' : 'true');\n        refreshPage();\n        return 'hiker://empty';\n    }, click)\n})\n\nd.push({\n    title: '调整字号'.big().bold(),\n    col_type: 'rich_text'\n})\nd.push({\n    title: '字号➕',\n    col_type: 'flex_button',\n    url: $(\"hiker://empty#noLoading#\").lazyRule((s) => {\n        setItem('fontsize', String(s + 1));\n        refreshPage(false);\n        return \"hiker://empty\"\n    }, fontsize)\n}, {\n    title: '字号➖',\n    col_type: 'flex_button',\n    url: $(\"hiker://empty#noLoading#\").lazyRule((s) => {\n        setItem('fontsize', String(s - 1));\n        refreshPage(false);\n        return \"hiker://empty\"\n    }, fontsize)\n})\n\nd.push({\n    col_type: 'line'\n})\n\nd.push({\n    title: '调整缩进'.big().bold(),\n    col_type: 'rich_text'\n})\nd.push({\n    title: '缩进➕',\n    col_type: 'flex_button',\n    url: $(\"hiker://empty#noLoading#\").lazyRule((s) => {\n        setItem('indent', String(s + 1));\n        refreshPage(false);\n        return \"hiker://empty\"\n    }, indent)\n}, {\n    title: '缩进➖',\n    col_type: 'flex_button',\n    url: $(\"hiker://empty#noLoading#\").lazyRule((s) => {\n        setItem('indent', String(s - 1));\n        refreshPage(false);\n        return \"hiker://empty\"\n    }, indent)\n})\n\nd.push({\n    col_type: 'line'\n})\n\nd.push({\n    title: '预览'.big() + '(字号:' + fontsize + ',缩进:' + indent + ')',\n    col_type: 'rich_text'\n}, {\n    title: '<p>小棉袄帅吗?</p><p>小棉袄怎么这么帅？</p><p>小棉袄真是超超超超超超超超级帅!!!!帅炸了好不好？举世颜无双!!!!</p>'.replace(/\\<p\\>/g, '<p>' + indents),\n    col_type: 'rich_text',\n    extra: {\n        textSize: fontsize\n    }\n})\nsetResult(d);"},{"col_type":"movie_3","name":"文章","path":"text","rule":"js:\naddListener('onClose', $.toString(() => {\n    clearVar('texthref');\n    clearVar('texttitle');\n    clearVar('textindex');\n}));\nlet fontsize = parseInt(getItem('fontsize', String(15)));\nlet indent = parseInt(getItem('indent', String(7)));\nlet indents = '';\nfor (let i = 0; i < indent; i++) {\n    indents += '&nbsp;';\n}\nlet fullTheme = getItem('fullTheme', 'true') == 'true' ? '#fullTheme#' : '';\nlet click = !!(getItem('click', 'true') == 'true');\nlet stroge = JSON.parse(readFile('stroge'));\nlet star = Object.keys(stroge);\n\nlet href = getVar('texthref', '') || MY_PARAMS.href,\n    title = getVar('texttitle') || getParam('title'),\n    index = parseInt(getVar('textindex') || getParam('index'));\n\nlet html = request(href, {});\nlet text = parseDom(html, '.text&&Html');\nlet author = parseDomForHtml(html, '.author&&Text');\nlet d = [];\nd.push({\n    title: '““””<h2>' + title + '</h2>' + '<small><font color=grey>' + author + '</font> </small>',\n    col_type: 'text_center_1',\n    url: href,\n    extra: {\n        lineVisible: false\n    }\n}, {\n    title: text.replace(/\\>[a-zA-Z0-9+=\\/]*\\</g, '><').replace(/\\<p\\>/g, '<p>' + indents),\n    col_type: 'rich_text',\n    extra: {\n        textSize: parseInt(getItem('fontsize', String(15))),\n        click: click\n    }\n})\nif (index != 0) {\n    let title = star[index - 1];\n    let href = stroge[title];\n    d.push({\n        title: '上一篇:' + title,\n        col_type: 'text_center_1',\n        url: $('hiker://empty#noLoading#').lazyRule((href, title, index) => {\n            putVar('texthref', href);\n            putVar('texttitle', title);\n            putVar('textindex', String(index - 1));\n            refreshPage();\n            return 'hiker://empty'\n        }, href, title, index), //'hiker://page/text' + fullTheme + '?title=' + title + '&index=' + (index - 1),\n        extra: {\n            href: href,\n            lineVisible: false\n        }\n    })\n}\nif (index != star.index) {\n    let title = star[index + 1];\n    let href = stroge[title];\n    d.push({\n        title: '下一篇:' + title,\n        col_type: 'text_center_1',\n        url: $('hiker://empty#noLoading#').lazyRule((href, title, index) => {\n            putVar('texthref', href);\n            putVar('texttitle', title);\n            putVar('textindex', String(index + 1));\n            refreshPage();\n            return 'hiker://empty'\n        }, href, title, index), // 'hiker://page/text' + fullTheme + '?title=' + title + '&index=' + (index + 1),\n        extra: {\n            href: href,\n            lineVisible: false\n        }\n    })\n}\nfor (let i = 0; i < 10; i++) {\n    d.push({\n        col_type: 'blank_block'\n    })\n}\nsetResult(d);"}],"title":"期刊杂志♢","author":"Joker","version":2,"url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\naddListener('onClose', $.toString(() => {\n    deleteFile(\"data1\");\n    deleteFile(\"data2\");\n}));\nlet d = [];\nlet now = getItem('now', '推荐期刊');\nlet arr = ['推荐期刊', '期刊大全', '报纸列表', '收藏'];\nfor (let it of arr) {\n    d.push({\n        title: now == it ? '““””' + it.fontcolor('red') : it,\n        col_type: 'scroll_button',\n        url: $('').lazyRule((it) => {\n            setItem(\"now\", it);\n            refreshPage();\n            return 'hiker://empty';\n        }, it)\n    })\n}\nd.push({\n    title: '规则设置',\n    col_type: 'scroll_button',\n    url: 'hiker://page/setting'\n});\nif (now == '期刊大全') {\n    let rescode = readFile('data1', '');\n    if (!rescode || !rescode.startsWith('{')) {\n        rescode = request('http://new-qk.lifves.com/getQikanCategory.php');\n        saveFile('data1', rescode);\n    }\n    let data = JSON.parse(rescode).qikan_category_list;\n    let nowqk = getMyVar('nowqk', data[0].name);\n    d.push({\n        col_type: 'blank_block'\n    });\n    for (let it of data) {\n        d.push({\n            title: it.name == nowqk ? '““””' + it.name.fontcolor('red') : it.name,\n            col_type: 'scroll_button',\n            url: $().lazyRule((it) => {\n                putMyVar('nowqk', it);\n                refreshPage();\n                return 'hiker://empty';\n            }, it.name)\n        })\n    }\n    let list = data.find(it => it.name == nowqk);\n    for (let it of list._child) {\n        d.push({\n            title: it.name,\n            col_type: 'text_4',\n            url: 'hiker://empty#' + it.name\n        })\n    }\n} else if (now == '推荐期刊' || now == '报纸列表') {\n    let rescode = readFile('data2', '');\n    if (!rescode || !rescode.startsWith('{')) {\n        rescode = request('http://new-qk.lifves.com/public/js/index.js');\n        saveFile('data2', rescode);\n    }\n    eval('let fun =' + rescode.split(\",'created'\")[0].split(\"'data':\")[1]);\n    let data = fun();\n    if (now == '推荐期刊') {\n        let qk_list = data.data_list.qk_list;\n        for (let it of qk_list) {\n            d.push({\n                title: it.title,\n                col_type: 'text_4',\n                url: 'hiker://empty#' + it.title\n            });\n        }\n    } else {\n        let bz_list = data.data_list.bz_list;\n        for (let it of bz_list) {\n            d.push({\n                title: it.title,\n                col_type: 'movie_3',\n                img: it.img,\n                url: 'hiker://empty#noLoading#@lazyRule=.js:\"x5://' + it.href + '\"'\n            })\n        }\n    }\n} else if (now == '收藏') {\n    let collection = JSON.parse(readFile('collection') || '{}');\n    for (let i in collection) {\n        let it = collection[i];\n        d.push({\n            title: i,\n            col_type: 'movie_3',\n            img: it.img,\n            url: 'hiker://page/qk?name=' + i + '&img=' + it.img,\n            extra: {\n                href: it.url\n            }\n        })\n    }\n}\nsetResult(d);","searchFind":"js:\nlet d = [];\neval(parseDomForHtml(getResCode(), \"body&&script,2&&Html\"));\nfor (let item of data_list.data_list) {\n    d.push({\n        title: item.title,\n        url: 'hiker://page/qk?name=' + item.title + '&img=' + item.img,\n        img: item.img,\n        extra:{\n            href:\"http://new-qk.lifves.com/\" + item.href\n        }\n    });\n}\nsetResult(d);","search_url":"http://new-qk.lifves.com/search.php?keyword=**;get;utf-8;{User-Agent@MOBILE_UA}","group":"①推荐","detail_col_type":"movie_3","detail_find_rule":"js:\nlet d = [];\nif (MY_URL.startsWith('hiker://empty#')) {\n    let html = request('http://new-qk.lifves.com/search.php?keyword=' + MY_URL.split('#')[1]);\n    eval(parseDomForHtml(html, \"body&&script,2&&Html\"));\n    for (let item of data_list.data_list) {\n        d.push({\n            title: item.title,\n            url: 'hiker://page/qk?name=' + item.title + '&img=' + item.img,\n            img: item.img,\n            extra:{\n                href:\"http://new-qk.lifves.com/\" + item.href\n            }\n        });\n    }\n} else {}\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"期刊分期列表\",\"path\":\"qk\",\"rule\":\"js:\\naddListener('onClose', 'clearVar(\\\"year\\\")');\\n\\nlet d = [];\\nlet url = MY_PARAMS.href,\\n    name = getParam('name'),\\n    img = getParam('img');\\nlet collection = JSON.parse(readFile('collection') || '{}');\\nlet isCollected = !!(collection[name] && collection[name].url == url);\\nd.push({\\n    title: isCollected ? '♥已收藏' : '♡添加收藏',\\n    url: $().lazyRule((is, url, name, img) => {\\n        let collection = JSON.parse(readFile('collection') || '{}');\\n        if (is) {\\n            delete collection[name];\\n            saveFile('collection', JSON.stringify(collection));\\n            refreshPage();\\n            return 'toast://已取消收藏'\\n        } else {\\n            collection[name] = {\\n                url: url,\\n                img: img\\n            };\\n            saveFile('collection', JSON.stringify(collection));\\n            refreshPage();\\n            return 'toast://已添加收藏'\\n        }\\n    }, isCollected, url, name, img),\\n    col_type: \\\"scroll_button\\\",\\n});\\n\\neval(parseDomForHtml(request(url), \\\"body&&script,2&&Html\\\"));\\nlet items = {};\\nlet now = getVar('year', String(data_list.data_list[0].year));\\nfor (let list of data_list.data_list) {\\n    if (now == list.year) items = list.list;\\n    d.push({\\n        title: '““””' + (list.year == now ? '<font color=red>' + list.year + '</font>' : list.year),\\n        col_type: 'scroll_button',\\n        url: $().lazyRule((year) => {\\n            putVar('year', String(year));\\n            refreshPage();\\n            return 'hiker://empty'\\n        }, list.year)\\n    });\\n}\\nfor (let item of items) {\\n    d.push({\\n        title: item.span,\\n        url: 'hiker://page/qkqk#immersiveTheme#',\\n        img: item.img,\\n        extra:{\\n            href:\\\"http://new-qk.lifves.com/\\\" + item.href\\n        }\\n    });\\n}\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"期刊目录\",\"path\":\"qkqk\",\"rule\":\"js:\\naddListener('onClose', $.toString(() => {\\n    clearVar('item');\\n    deleteFile('stroge');\\n}));\\nlet fullTheme = getItem('fullTheme', 'true') == 'true' ? '#fullTheme#' : '';\\nlet nowItem = getVar('item', '');\\n\\nlet url = MY_PARAMS.href;\\n\\neval(parseDomForHtml(request(url), \\\"body&&script,2&&Html\\\").match(/let\\\\s*data_list.*JSON\\\\.parse\\\\(.*\\\\)/)[0]);\\nlet d = [];\\nif (data_list.data_list.length == 0) {\\n    d.push({\\n        title: '没有内容呦,不信点我去网页看看',\\n        col_type: 'movie_1_vertical_pic_blur',\\n        url: url\\n    })\\n} else {\\n    d.push({\\n        title: data_list.data_list.intro.title,\\n        desc: data_list.data_list.intro.intro,\\n        img: data_list.data_list.intro.img,\\n        col_type: 'movie_1_vertical_pic_blur',\\n        url: url\\n    })\\n    d.push({\\n        title: '目录'.big().bold(),\\n        col_type: 'rich_text'\\n    })\\n\\n\\n    let stroge = {};\\n    for (let i in data_list.data_list.ml) {\\n        let it = data_list.data_list.ml[i];\\n        for (let item in it) {\\n            stroge[it[item].title] = \\\"http://new-qk.lifves.com/\\\" + it[item].href;\\n        }\\n    }\\n    saveFile('stroge', JSON.stringify(stroge));\\n    let star = Object.keys(stroge);\\n\\n    for (let item in data_list.data_list.ml) {\\n        d.push({\\n            title: '““””' + (nowItem == item ? '▼ ' : '▶ ') + '<strong>' + item + '</strong>',\\n            col_type: 'text_1',\\n            url: $('hiker://empty#noLoadind#').lazyRule((item) => {\\n                if (getVar('item', '') == item) {\\n                    clearVar('item');\\n                    refreshPage(false);\\n                    return 'toast://已收起 ' + item;\\n                } else {\\n                    putVar('item', item);\\n                    refreshPage(false);\\n                    return 'toast://已展开 ' + item;\\n                }\\n            }, item),\\n            extra: {\\n                lineVisible: false\\n            }\\n        })\\n\\n        if (nowItem && nowItem == item) {\\n            data_list.data_list.ml[nowItem].forEach(e => {\\n                let index = star.indexOf(e.title);\\n                d.push({\\n                    title: '““””<small>' + e.title + '</small>',\\n                    desc: '““””<small>' + e.intro + '</small>',\\n                    col_type: 'text_1',\\n                    url: 'hiker://page/text' + fullTheme + '?title=' + e.title + '&index=' + index,\\n                    extra: {\\n                        href: \\\"http://new-qk.lifves.com/\\\" + e.href\\n                    }\\n                })\\n            })\\n        }\\n    }\\n}\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"设置\",\"path\":\"setting\",\"rule\":\"js:\\nlet d = [];\\nlet fontsize = parseInt(getItem('fontsize', String(15)));\\nlet indent = parseInt(getItem('indent', String(7)));\\nlet indents = '';\\nfor (let i = 0; i < indent; i++) {\\n    indents += '&nbsp;';\\n}\\nlet fullTheme = getItem('fullTheme', 'true');\\nlet click = getItem('click', 'true');\\n\\nd.push({\\n    title: '全屏模式' + (fullTheme == 'true' ? '✔' : '✘'),\\n    col_type: 'text_2',\\n    url: $('hiker://empty#noLoading#').lazyRule((i) => {\\n        setItem('fullTheme', i == 'true' ? 'false' : 'true');\\n        refreshPage();\\n        return 'hiker://empty';\\n    }, fullTheme)\\n})\\nd.push({\\n    title: '点击翻页' + (click == 'true' ? '✔' : '✘'),\\n    col_type: 'text_2',\\n    url: $('hiker://empty#noLoading#').lazyRule((i) => {\\n        setItem('click', i == 'true' ? 'false' : 'true');\\n        refreshPage();\\n        return 'hiker://empty';\\n    }, click)\\n})\\n\\nd.push({\\n    title: '调整字号'.big().bold(),\\n    col_type: 'rich_text'\\n})\\nd.push({\\n    title: '字号➕',\\n    col_type: 'flex_button',\\n    url: $(\\\"hiker://empty#noLoading#\\\").lazyRule((s) => {\\n        setItem('fontsize', String(s + 1));\\n        refreshPage(false);\\n        return \\\"hiker://empty\\\"\\n    }, fontsize)\\n}, {\\n    title: '字号➖',\\n    col_type: 'flex_button',\\n    url: $(\\\"hiker://empty#noLoading#\\\").lazyRule((s) => {\\n        setItem('fontsize', String(s - 1));\\n        refreshPage(false);\\n        return \\\"hiker://empty\\\"\\n    }, fontsize)\\n})\\n\\nd.push({\\n    col_type: 'line'\\n})\\n\\nd.push({\\n    title: '调整缩进'.big().bold(),\\n    col_type: 'rich_text'\\n})\\nd.push({\\n    title: '缩进➕',\\n    col_type: 'flex_button',\\n    url: $(\\\"hiker://empty#noLoading#\\\").lazyRule((s) => {\\n        setItem('indent', String(s + 1));\\n        refreshPage(false);\\n        return \\\"hiker://empty\\\"\\n    }, indent)\\n}, {\\n    title: '缩进➖',\\n    col_type: 'flex_button',\\n    url: $(\\\"hiker://empty#noLoading#\\\").lazyRule((s) => {\\n        setItem('indent', String(s - 1));\\n        refreshPage(false);\\n        return \\\"hiker://empty\\\"\\n    }, indent)\\n})\\n\\nd.push({\\n    col_type: 'line'\\n})\\n\\nd.push({\\n    title: '预览'.big() + '(字号:' + fontsize + ',缩进:' + indent + ')',\\n    col_type: 'rich_text'\\n}, {\\n    title: '<p>小棉袄帅吗?</p><p>小棉袄怎么这么帅？</p><p>小棉袄真是超超超超超超超超级帅!!!!帅炸了好不好？举世颜无双!!!!</p>'.replace(/\\\\<p\\\\>/g, '<p>' + indents),\\n    col_type: 'rich_text',\\n    extra: {\\n        textSize: fontsize\\n    }\\n})\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"文章\",\"path\":\"text\",\"rule\":\"js:\\naddListener('onClose', $.toString(() => {\\n    clearVar('texthref');\\n    clearVar('texttitle');\\n    clearVar('textindex');\\n}));\\nlet fontsize = parseInt(getItem('fontsize', String(15)));\\nlet indent = parseInt(getItem('indent', String(7)));\\nlet indents = '';\\nfor (let i = 0; i < indent; i++) {\\n    indents += '&nbsp;';\\n}\\nlet fullTheme = getItem('fullTheme', 'true') == 'true' ? '#fullTheme#' : '';\\nlet click = !!(getItem('click', 'true') == 'true');\\nlet stroge = JSON.parse(readFile('stroge'));\\nlet star = Object.keys(stroge);\\n\\nlet href = getVar('texthref', '') || MY_PARAMS.href,\\n    title = getVar('texttitle') || getParam('title'),\\n    index = parseInt(getVar('textindex') || getParam('index'));\\n\\nlet html = request(href, {});\\nlet text = parseDom(html, '.text&&Html');\\nlet author = parseDomForHtml(html, '.author&&Text');\\nlet d = [];\\nd.push({\\n    title: '““””<h2>' + title + '</h2>' + '<small><font color=grey>' + author + '</font> </small>',\\n    col_type: 'text_center_1',\\n    url: href,\\n    extra: {\\n        lineVisible: false\\n    }\\n}, {\\n    title: text.replace(/\\\\>[a-zA-Z0-9+=\\\\/]*\\\\</g, '><').replace(/\\\\<p\\\\>/g, '<p>' + indents),\\n    col_type: 'rich_text',\\n    extra: {\\n        textSize: parseInt(getItem('fontsize', String(15))),\\n        click: click\\n    }\\n})\\nif (index != 0) {\\n    let title = star[index - 1];\\n    let href = stroge[title];\\n    d.push({\\n        title: '上一篇:' + title,\\n        col_type: 'text_center_1',\\n        url: $('hiker://empty#noLoading#').lazyRule((href, title, index) => {\\n            putVar('texthref', href);\\n            putVar('texttitle', title);\\n            putVar('textindex', String(index - 1));\\n            refreshPage();\\n            return 'hiker://empty'\\n        }, href, title, index), //'hiker://page/text' + fullTheme + '?title=' + title + '&index=' + (index - 1),\\n        extra: {\\n            href: href,\\n            lineVisible: false\\n        }\\n    })\\n}\\nif (index != star.index) {\\n    let title = star[index + 1];\\n    let href = stroge[title];\\n    d.push({\\n        title: '下一篇:' + title,\\n        col_type: 'text_center_1',\\n        url: $('hiker://empty#noLoading#').lazyRule((href, title, index) => {\\n            putVar('texthref', href);\\n            putVar('texttitle', title);\\n            putVar('textindex', String(index + 1));\\n            refreshPage();\\n            return 'hiker://empty'\\n        }, href, title, index), // 'hiker://page/text' + fullTheme + '?title=' + title + '&index=' + (index + 1),\\n        extra: {\\n            href: href,\\n            lineVisible: false\\n        }\\n    })\\n}\\nfor (let i = 0; i < 10; i++) {\\n    d.push({\\n        col_type: 'blank_block'\\n    })\\n}\\nsetResult(d);\"}]","icon":"https://www.lifves.com/favicon.ico"},{"last_chapter_rule":"","pageList":[{"col_type":"text_1","name":"ClassTab","path":"ClassTab","rule":"function ClassTab(classArray, params) {\n    Object.assign(this, params)\n    this.arr = classArray.map(v => this.init(v))\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\n    this.color = this.color || '#12b668'\n    this.boundary = this.boundary || 'blank_block'\n}\nClassTab.prototype = {\n    constructor: ClassTab,\n    load(el) {\n        let folded = getVar('fold_' + this.sign, '')\n        if (this.fold) el.push({\n            title: '““””<span style=\"color:#049eff\">' + (folded ? '▶' : '▼'),\n            url: $('#noLoading#').lazyRule((sign, folded) => {\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\n                refreshPage(false)\n                return 'hiker://empty'\n            }, this.sign, folded),\n            col_type: 'scroll_button'\n        })\n        let arr = folded ? [this.arr[0]] : this.arr\n        arr.forEach((v) => {\n            let { id, class_name, class_url } = v,\n                selected = JSON.stringify(this.getClass(id))\n            class_name.forEach((name, i) => {\n                let url = class_url[i],\n                    now = JSON.stringify({ name: name, url: url })\n                el.push({\n                    title: (selected == now ? '““””<span style=\"color:' + this.color + '\"><b>' : '') + name,\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\n                        putVar(sign + id, now)\n                        putVar(sign, now)\n                        refreshPage(false)\n                        return 'hiker://empty'\n                    }, this.sign, id, now),\n                    col_type: 'scroll_button'\n                })\n            })\n            el.push({ col_type: this.boundary })\n        })\n    },\n    init(classObject) {\n        if (typeof classObject.class_name == 'string')\n            classObject.class_name = classObject.class_name.split('&')\n        if (typeof classObject.class_url == 'string')\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\n        return classObject\n    },\n    push(classObject) {\n        this.arr.push(this.init(classObject))\n    },\n    getClass(id) {\n        let defaultClass = this.arr.find(item => item.id == id)\n        if (defaultClass) defaultClass = JSON.stringify({\n            name: defaultClass.class_name[0],\n            url: defaultClass.class_url[0]\n        })\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\n        return JSON.parse(getVar(this.sign + id, defaultClass))\n    },\n    getLastClick() {\n        return JSON.parse(getVar(this.sign, '{}'))\n    },\n    setUrl(url) {\n        return url.replace(/\\$\\{([^}]*)\\}/g, (_, id) => this.getClass(id).url)\n    }\n}\n$.exports = ClassTab\n"},{"col_type":"movie_3","name":"首页","path":"indexLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = parseInt(MY_URL.split('#')[1]),\n    RULE = MY_PARAMS.RULE,\n    fyAll = RULE.url.includes('fyAll'),\n    // 加载ClassTab组件\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\n    tabHeader = []\n\nif (RULE.class_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyclass',\n    class_name: RULE.class_name,\n    class_url: RULE.class_url\n})\nif (RULE.area_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyarea',\n    class_name: RULE.area_name,\n    class_url: RULE.area_url\n})\nif (RULE.year_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyyear',\n    class_name: RULE.year_name,\n    class_url: RULE.year_url\n})\nif (RULE.sort_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fysort',\n    class_name: RULE.sort_name,\n    class_url: RULE.sort_url\n})\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\nif (pageNum == 1) {\n    addListener('onClose', 'clearVar(\"myCollection-searchMode\")')\n    putVar('myCollection-searchMode', RULE.title)\n    tabHeader.load(myCollection_el)\n    if (RULE.search_url) myCollection_el.push({\n        title: \"搜索\",\n        desc: \"搜你想要的...\",\n        url: '\"hiker://page/singleSearch?keyword=\"+input+\"&page=fypage\"',\n        extra: { rule: getItem('myCollection'), RULE: RULE },\n        col_type: \"input\",\n    })\n}\n// 处理MY_URL和MY_RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.find_rule\nMY_RULE.detail_find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\n    url[0] = tabHeader.setUrl(url[0])\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) eval(MY_RULE.preRule)\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"详情","path":"detailLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = 1\n\n// 处理MY_URL和MY_RULE\nlet RULE = MY_PARAMS.RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = RULE.pageList\nMY_RULE.pages = RULE.pages\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = RULE.params\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet fypageFlag = MY_PARAMS.url.indexOf('fypage')\nif (fypageFlag >= 0) pageNum = parseInt(/^\\d+/.exec(MY_URL.slice(fypageFlag)))\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, pageNum),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 解析正文\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\neval(MY_RULE.preRule)\nsetLastChapterRule(MY_RULE.last_chapter_rule)\nMY_PARAMS = MY_RULE.params\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else { return v }\n            v.extra = { url: v.url, RULE: MY__RULE }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\n    findRule = findRule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (detailFindRule) {\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"工具集","path":"utility","rule":"$.exports = {\n    dataLoad: function(showAll) {\n        //检查间隔，默认一天\n        let interval = parseInt(readFile('updateInterval') || '1'),\n            time = parseInt(readFile('updateTime')) || 0,\n            now = new Date().getTime(),\n            data = []\n        if (time == 0 || interval > 0 && now - time > 1000 * 60 * 60 * 24 * interval) {\n            // 获取远程数据\n            let url = getItem('remoteUrl')\n            try {\n                let remoteData = fetch(url)\n                if (url.startsWith('hiker://page/'))\n                    remoteData = JSON.parse(remoteData).rule\n                data = JSON.parse(remoteData)\n            } catch (e) {}\n            if(data.length == 0) {\n                data = JSON.parse(readFile('dataCache') || '[]')\n                log('没有获取到更新数据')\n            } else {\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\n                saveFile('dataCache', JSON.stringify(data))\n                saveFile('updateTime', now.toString())\n                log('更新数据已写入本地')\n            }\n        } else {\n            data = JSON.parse(readFile('dataCache') || '[]')\n        }\n        // 写入自定义数据\n        let customData = JSON.parse(readFile('customData') || '[]'),\n            rewriteData = []\n        customData = customData.reduce((self, v) => {\n            let index = data.findIndex((vv) => v.title == vv.title)\n            if (index >= 0) {\n                self.push(v)\n                let rule = data.splice(index, 1)[0]\n                if(showAll || v.visible)\n                    rewriteData.push(Object.assign(rule, v))\n            }\n            return self\n        }, [])\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\n        saveFile('customData', JSON.stringify(customData))\n        return rewriteData.concat(data)\n    },\n    runCode: function(rule) {\n        try {\n            let [input, code] = rule.split('.js:')\n            return code ? eval(code) : rule\n        } catch (e) { return rule }\n    },\n    urlParse: function(url, headers, pageNum, func) {\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\n        if (func) func(url)\n        url[0] = url[0].replace(/fypage(?:@(-?\\d+)@)?(?:\\*(\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\n        url[0] = /^([\\s\\S]*?)(?:\\[firstPage=([\\s\\S]*?)\\])?$/.exec(url[0])\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\n        let options = { headers: headers, method: url[1] }\n        // post方法时转换参数\n        if (/^post$/i.test(options['method'])) {\n            let [oriUrl, body] = url[0].split('?')\n            url[0] = oriUrl.replace(/？？/g, '?')\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\n            options['body'] = body\n        }\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\n            let [key, value] = v.split('@')\n            options.headers[key] = runCode(value)\n        })\n        // 添加全局UA\n        if (!options.headers['User-Agent']) {\n            if (MY_RULE.ua == 'pc')\n                options.headers['User-Agent'] = PC_UA\n            else if (MY_RULE.ua == 'mobile')\n                options.headers['User-Agent'] = MOBILE_UA\n        }\n        return { MY_URL: url[0], MY_URL_Options: options }\n    }\n}\n"},{"col_type":"movie_1_vertical_pic","name":"单搜","path":"singleSearch","rule":"js:\nlet myCollection_el = [],\n    RULE = MY_PARAMS.RULE,\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page'))\n\n// 处理MY_URL和MY_RULE\nMY_TYPE = 'search'\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\nMY_RULE.find_rule = RULE.searchFind\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE),\n                subTitle = v.title\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\n            v.desc = v.content || ''\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\n            delete v.content\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 4) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 1) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\n                url: url,\n                desc: content,\n                img: img\n            }\n        if(!res.img) res.col_type = 'text_1'\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"icon_2_round","name":"设置","path":"Config","rule":"js:\naddListener('onClose', 'clearVar(\"myCollection-sortFlag\");refreshPage()')\nsetPageTitle('⚙ 轻合集设置 ⚙')\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet data = dataLoad(true),\n    el = [{\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\n        url: $().lazyRule(() => {\n            deleteFile('updateTime')\n            back(false)\n            return 'toast://已更新'\n        }),\n        img: 'hiker://images/icon1',\n        col_type: 'avatar'\n    }],\n    searchThd = readFile('searchThd') || '5',\n    updateInterval = readFile('updateInterval') || '1',\n    newWindow = readFile('newWindow'),\n    editMode = getVar('myCollection-editMode', '启用/禁用')\n\nel.push({\n    title: '  🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd) + '  ',\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\n        if (input == '列表搜索') {\n            saveFile('searchThd', '0')\n            refreshPage()\n        } else {\n            if (searchThd == 0) searchThd = 5\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\n                saveFile('searchThd', input)\n                refreshPage()\n            })\n        }\n    }, searchThd),\n    col_type: 'scroll_button'\n}, {\n    title: '  💡 更新频率: ' + (updateInterval < 1 ? '手动' : updateInterval + '天') + '  ',\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新').input(() => {\n        saveFile('updateInterval', input)\n        refreshPage()\n        return 'hiker://empty'\n    }),\n    col_type: 'scroll_button'\n}, {\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\n    url: $('#noLoading#').lazyRule((newWindow) => {\n        saveFile('newWindow', newWindow ? '' : '1')\n        refreshPage()\n        return 'hiker://empty'\n    }, newWindow),\n    col_type: 'scroll_button'\n}, {\n    title: '““””<font color=\"#666666\"><small>特别鸣谢，小程序提供者：\\n' +\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\n    url: 'hiker://empty',\n    col_type: 'text_center_1'\n})\n\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\n    el.push({\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\n            putVar('myCollection-editMode', v)\n            refreshPage(false)\n            return 'hiker://empty'\n        }, v),\n        col_type: 'scroll_button'\n    })\n})\nel.push({\n    title: '恢复出厂数据',\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\n        deleteFile('customData')\n        refreshPage(false)\n        return 'toast://已恢复出厂数据'\n    }),\n    col_type: 'scroll_button'\n})\n\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\n    let d = { title: v.title, img: data[i].icon }\n    switch (editMode) {\n        case '启用/禁用':\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\n            d.url = $('#noLoading#').lazyRule((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                rules[index].visible = !rules[index].visible\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '重新排序':\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\n            if (sortFlag == -1)\n                d.url = $('#noLoading#').lazyRule((i) => {\n                    putVar('myCollection-sortFlag', i.toString())\n                    refreshPage(false)\n                    return 'toast://选择要移动到的位置'\n                }, i)\n            else\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\n                    let rules = JSON.parse(readFile('customData') || '[]')\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\n                    saveFile('customData', JSON.stringify(rules))\n                    putVar('myCollection-sortFlag', '-1')\n                    refreshPage(false)\n                    return 'hiker://empty'\n                }, sortFlag, i)\n            break\n        case '更改图标':\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                if (input)\n                    rules[index].icon = input\n                else\n                    delete rules[index].icon\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '导入海阔':\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\n            break\n    }\n    el.push(d)\n})\nsetResult(el)\n"}],"title":"听合集","author":"小棉袄🌞&永远の明日","version":78,"url":"hiker://empty","col_type":"text_2","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet el = [{\n    title: ' ' + getItem('myCollection').bold() + ' &nbsp &nbsp ' + '⚙ 轻合集设置 ⚙'.small(),\n    url: 'hiker://page/Config?rule=' + getItem('myCollection'),\n    img: MY_RULE.icon || 'hiker://images/icon1',\n    col_type: 'avatar'\n}, {\n    url: '\"hiker://search?s=\"+input+\"&rule=' + getItem('myCollection') + '\"',\n    desc: '搜你想要的...',\n    title: '搜索',\n    col_type: 'input'\n}]\n\nlet newWindow = readFile('newWindow')\ndataLoad().forEach((v) => {\n    let fypage = /^[^;]*?fypage.*?(;.*)?$/.test(v.url) ? 'fypage' : '1',\n        d = {\n            title: v.title,\n            url: 'hiker://page/indexLoad?#' + fypage + '#noHistory#',\n            img: v.icon,\n            extra: { RULE: v }\n        }\n    if(newWindow) Object.assign(d.extra, { newWindow: true, windowId: getItem('myCollection') + d.title })\n    el.push(d)\n})\nsetResult(el)","searchFind":"js:\nvar { dataLoad, runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet myCollection_el = [],\n    searchThd = parseInt(readFile('searchThd') || '5'),\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page')),\n    RULES = dataLoad().filter((v) => v.search_url)\nif (searchThd == 0) {\n    myCollection_el.push({\n        title: ('⬇ 选择一个小程序查看' + keyword + '的搜索结果 ⬇').small(),\n        url: 'hiker://empty'\n    })\n    RULES.forEach((v) => myCollection_el.push({\n        title: v.title,\n        url: \"hiker://page/singleSearch?keyword=\" + keyword + \"&page=fypage\",\n        extra: { rule: getItem('myCollection'), RULE: v },\n    }))\n} else if (searchThd > 0) {\n    let searchCount = pageNum * searchThd,\n        searchTag = { title: '⬆ 已搜索了' + searchCount + '个小程序 ⬆\\n⬇ 下面还有' + RULES.slice(searchCount).length + '个小程序 ⬇' }\n    RULES = RULES.slice(searchCount - searchThd, searchCount)\n    if (!RULES.length) setResult([])\n\n    let URLS = RULES.map((RULE) => {\n        MY_RULE.ua = RULE.ua\n        let urlReq = urlParse(RULE.search_url, {}, 1, (url) => {\n            url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n        })\n        return { url: urlReq.MY_URL, options: urlReq.MY_URL_Options }\n    })\n    batchFetch(URLS).forEach((indexHtml, index) => {\n        // 处理MY_URL和MY_RULE\n        let RULE = RULES[index]\n        MY_URL = URLS[index].url\n        MY_RULE.ua = RULE.ua\n        MY_RULE.col_type = RULE.col_type\n        MY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\n        MY_RULE.find_rule = RULE.searchFind\n        MY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\n        MY_RULE.preRule = RULE.preRule\n        MY_RULE.pageList = JSON.parse(RULE.pages || '[]')\n        MY_RULE.pages = JSON.stringify(MY_RULE.pageList)\n        MY_RULE.last_chapter_rule = RULE.last_chapter_rule\n        MY_RULE.params = {}\n        MY_RULE.url = MY_URL\n        MY_RULE.urlHeaders = URLS[index].options.headers\n\n        // 正文解析\n        eval(MY_RULE.preRule)\n        if (MY_RULE.find_rule.startsWith('js:')) {\n            function getUrl() {\n                return MY_URL\n            }\n\n            function getResCode() {\n                return indexHtml\n            }\n\n            setResult = function(el) {\n                if (Array.isArray(el.data)) el = el.data\n                Array.prototype.push.apply(myCollection_el, el.map((v) => {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    v.desc = RULE.title + ' ▪ ' + (v.desc || '')\n\n                    if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                        return v\n                    } else if (v.url.includes('@rule=')) {\n                        let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                        v.url = url\n                        MY__RULE.detail_find_rule = rule\n                        MY__RULE.detail_col_type = MY_RULE.col_type\n                    } else if (v.url.startsWith('hiker://page/')) {\n                        if (v.url.includes('rule=') || (v.extra || {}).rule)\n                            return v\n                        let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                            subPage = MY_RULE.pageList.find((v) => v.path == path),\n                            subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                        v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                        MY__RULE.detail_find_rule = subPage.rule\n                        MY__RULE.detail_col_type = subPage.col_type\n                        MY__RULE.params = v.extra || {}\n                    } else if (v.url.includes('@lazyRule=')) {\n                        v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                        return v\n                    } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n                    v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n                    v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                    if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n\n                    return v\n                }))\n            }\n            setHomeResult = setResult\n            setSearchResult = setResult\n\n            try {\n                eval(MY_RULE.find_rule.slice(3))\n            } catch (e) {}\n        } else {\n            let findRule = MY_RULE.find_rule.split(';')\n            parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n                let [title, url, desc, content, img] = findRule.map((v, i) => {\n                        try {\n                            if (v == '*') return ''\n                            else v = (i == 1 || i == 4) ?\n                                parseDom(data, v) :\n                                parseDomForHtml(data, v)\n                            if (i != 1) v = runCode(v)\n                            return v\n                        } catch (e) { return '' }\n                    }),\n                    res = {\n                        title: title,\n                        url: url,\n                        desc: RULE.title + ' ▪ ' + desc,\n                        content: content,\n                        img: img\n                    }\n                if (res.url) {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    if (res.url.includes('@lazyRule=')) {\n                        res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY__RULE.pages, pageList: MY__RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                    } else if (MY_RULE.detail_find_rule) {\n                        res.extra = { url: url, RULE: MY__RULE, pageTitle: title }\n                        res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                        if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n                    }\n                }\n                myCollection_el.push(res)\n            })\n        }\n    })\n    myCollection_el.push(searchTag)\n}\nmethod_setResult.invoke(javaContext, myCollection_el, CALLBACK_KEY, MY_RULE, MY_TYPE)","search_url":"hiker://empty?keyword=**&page=fypage","group":"①轻合集","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"setItem('myCollection', MY_RULE.title)\nsetItem('remoteUrl', 'https://hood.coding.net/p/hiker/d/rules/git/raw/master/ting.json')\n// \n// 包裹错误","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"function ClassTab(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = getVar('fold_' + this.sign, '')\\n        if (this.fold) el.push({\\n            title: '““””<span style=\\\"color:#049eff\\\">' + (folded ? '▶' : '▼'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n                selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: (selected == now ? '““””<span style=\\\"color:' + this.color + '\\\"><b>' : '') + name,\\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        putVar(sign, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        if (defaultClass) defaultClass = JSON.stringify({\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        })\\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    getLastClick() {\\n        return JSON.parse(getVar(this.sign, '{}'))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n$.exports = ClassTab\\n\"},{\"col_type\":\"movie_3\",\"name\":\"首页\",\"path\":\"indexLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = parseInt(MY_URL.split('#')[1]),\\n    RULE = MY_PARAMS.RULE,\\n    fyAll = RULE.url.includes('fyAll'),\\n    // 加载ClassTab组件\\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\\n    tabHeader = []\\n\\nif (RULE.class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: RULE.class_name,\\n    class_url: RULE.class_url\\n})\\nif (RULE.area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: RULE.area_name,\\n    class_url: RULE.area_url\\n})\\nif (RULE.year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: RULE.year_name,\\n    class_url: RULE.year_url\\n})\\nif (RULE.sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: RULE.sort_name,\\n    class_url: RULE.sort_url\\n})\\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\\nif (pageNum == 1) {\\n    addListener('onClose', 'clearVar(\\\"myCollection-searchMode\\\")')\\n    putVar('myCollection-searchMode', RULE.title)\\n    tabHeader.load(myCollection_el)\\n    if (RULE.search_url) myCollection_el.push({\\n        title: \\\"搜索\\\",\\n        desc: \\\"搜你想要的...\\\",\\n        url: '\\\"hiker://page/singleSearch?keyword=\\\"+input+\\\"&page=fypage\\\"',\\n        extra: { rule: getItem('myCollection'), RULE: RULE },\\n        col_type: \\\"input\\\",\\n    })\\n}\\n// 处理MY_URL和MY_RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.find_rule\\nMY_RULE.detail_find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\\n    url[0] = tabHeader.setUrl(url[0])\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) eval(MY_RULE.preRule)\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"详情\",\"path\":\"detailLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = 1\\n\\n// 处理MY_URL和MY_RULE\\nlet RULE = MY_PARAMS.RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = RULE.pageList\\nMY_RULE.pages = RULE.pages\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = RULE.params\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet fypageFlag = MY_PARAMS.url.indexOf('fypage')\\nif (fypageFlag >= 0) pageNum = parseInt(/^\\\\d+/.exec(MY_URL.slice(fypageFlag)))\\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, pageNum),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 解析正文\\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\\neval(MY_RULE.preRule)\\nsetLastChapterRule(MY_RULE.last_chapter_rule)\\nMY_PARAMS = MY_RULE.params\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\\n    findRule = findRule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (detailFindRule) {\\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"工具集\",\"path\":\"utility\",\"rule\":\"$.exports = {\\n    dataLoad: function(showAll) {\\n        //检查间隔，默认一天\\n        let interval = parseInt(readFile('updateInterval') || '1'),\\n            time = parseInt(readFile('updateTime')) || 0,\\n            now = new Date().getTime(),\\n            data = []\\n        if (time == 0 || interval > 0 && now - time > 1000 * 60 * 60 * 24 * interval) {\\n            // 获取远程数据\\n            let url = getItem('remoteUrl')\\n            try {\\n                let remoteData = fetch(url)\\n                if (url.startsWith('hiker://page/'))\\n                    remoteData = JSON.parse(remoteData).rule\\n                data = JSON.parse(remoteData)\\n            } catch (e) {}\\n            if(data.length == 0) {\\n                data = JSON.parse(readFile('dataCache') || '[]')\\n                log('没有获取到更新数据')\\n            } else {\\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\\n                saveFile('dataCache', JSON.stringify(data))\\n                saveFile('updateTime', now.toString())\\n                log('更新数据已写入本地')\\n            }\\n        } else {\\n            data = JSON.parse(readFile('dataCache') || '[]')\\n        }\\n        // 写入自定义数据\\n        let customData = JSON.parse(readFile('customData') || '[]'),\\n            rewriteData = []\\n        customData = customData.reduce((self, v) => {\\n            let index = data.findIndex((vv) => v.title == vv.title)\\n            if (index >= 0) {\\n                self.push(v)\\n                let rule = data.splice(index, 1)[0]\\n                if(showAll || v.visible)\\n                    rewriteData.push(Object.assign(rule, v))\\n            }\\n            return self\\n        }, [])\\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\\n        saveFile('customData', JSON.stringify(customData))\\n        return rewriteData.concat(data)\\n    },\\n    runCode: function(rule) {\\n        try {\\n            let [input, code] = rule.split('.js:')\\n            return code ? eval(code) : rule\\n        } catch (e) { return rule }\\n    },\\n    urlParse: function(url, headers, pageNum, func) {\\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\\n        if (func) func(url)\\n        url[0] = url[0].replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n        url[0] = /^([\\\\s\\\\S]*?)(?:\\\\[firstPage=([\\\\s\\\\S]*?)\\\\])?$/.exec(url[0])\\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\\n        let options = { headers: headers, method: url[1] }\\n        // post方法时转换参数\\n        if (/^post$/i.test(options['method'])) {\\n            let [oriUrl, body] = url[0].split('?')\\n            url[0] = oriUrl.replace(/？？/g, '?')\\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\\n            options['body'] = body\\n        }\\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\\n            let [key, value] = v.split('@')\\n            options.headers[key] = runCode(value)\\n        })\\n        // 添加全局UA\\n        if (!options.headers['User-Agent']) {\\n            if (MY_RULE.ua == 'pc')\\n                options.headers['User-Agent'] = PC_UA\\n            else if (MY_RULE.ua == 'mobile')\\n                options.headers['User-Agent'] = MOBILE_UA\\n        }\\n        return { MY_URL: url[0], MY_URL_Options: options }\\n    }\\n}\\n\"},{\"col_type\":\"movie_1_vertical_pic\",\"name\":\"单搜\",\"path\":\"singleSearch\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    RULE = MY_PARAMS.RULE,\\n    keyword = getParam('keyword'),\\n    pageNum = parseInt(getParam('page'))\\n\\n// 处理MY_URL和MY_RULE\\nMY_TYPE = 'search'\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\\nMY_RULE.find_rule = RULE.searchFind\\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\\\*\\\\*/g, encodeStr(keyword, url[2]))\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE),\\n                subTitle = v.title\\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\\n            v.desc = v.content || ''\\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\\n            delete v.content\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 4) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 1) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\\n                url: url,\\n                desc: content,\\n                img: img\\n            }\\n        if(!res.img) res.col_type = 'text_1'\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"icon_2_round\",\"name\":\"设置\",\"path\":\"Config\",\"rule\":\"js:\\naddListener('onClose', 'clearVar(\\\"myCollection-sortFlag\\\");refreshPage()')\\nsetPageTitle('⚙ 轻合集设置 ⚙')\\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet data = dataLoad(true),\\n    el = [{\\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\\n        url: $().lazyRule(() => {\\n            deleteFile('updateTime')\\n            back(false)\\n            return 'toast://已更新'\\n        }),\\n        img: 'hiker://images/icon1',\\n        col_type: 'avatar'\\n    }],\\n    searchThd = readFile('searchThd') || '5',\\n    updateInterval = readFile('updateInterval') || '1',\\n    newWindow = readFile('newWindow'),\\n    editMode = getVar('myCollection-editMode', '启用/禁用')\\n\\nel.push({\\n    title: '  🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd) + '  ',\\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\\n        if (input == '列表搜索') {\\n            saveFile('searchThd', '0')\\n            refreshPage()\\n        } else {\\n            if (searchThd == 0) searchThd = 5\\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\\n                saveFile('searchThd', input)\\n                refreshPage()\\n            })\\n        }\\n    }, searchThd),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💡 更新频率: ' + (updateInterval < 1 ? '手动' : updateInterval + '天') + '  ',\\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新').input(() => {\\n        saveFile('updateInterval', input)\\n        refreshPage()\\n        return 'hiker://empty'\\n    }),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((newWindow) => {\\n        saveFile('newWindow', newWindow ? '' : '1')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, newWindow),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '““””<font color=\\\"#666666\\\"><small>特别鸣谢，小程序提供者：\\\\n' +\\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1'\\n})\\n\\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\\n    el.push({\\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\\n            putVar('myCollection-editMode', v)\\n            refreshPage(false)\\n            return 'hiker://empty'\\n        }, v),\\n        col_type: 'scroll_button'\\n    })\\n})\\nel.push({\\n    title: '恢复出厂数据',\\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\\n        deleteFile('customData')\\n        refreshPage(false)\\n        return 'toast://已恢复出厂数据'\\n    }),\\n    col_type: 'scroll_button'\\n})\\n\\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\\n    let d = { title: v.title, img: data[i].icon }\\n    switch (editMode) {\\n        case '启用/禁用':\\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\\n            d.url = $('#noLoading#').lazyRule((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                rules[index].visible = !rules[index].visible\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '重新排序':\\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\\n            if (sortFlag == -1)\\n                d.url = $('#noLoading#').lazyRule((i) => {\\n                    putVar('myCollection-sortFlag', i.toString())\\n                    refreshPage(false)\\n                    return 'toast://选择要移动到的位置'\\n                }, i)\\n            else\\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\\n                    let rules = JSON.parse(readFile('customData') || '[]')\\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\\n                    saveFile('customData', JSON.stringify(rules))\\n                    putVar('myCollection-sortFlag', '-1')\\n                    refreshPage(false)\\n                    return 'hiker://empty'\\n                }, sortFlag, i)\\n            break\\n        case '更改图标':\\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                if (input)\\n                    rules[index].icon = input\\n                else\\n                    delete rules[index].icon\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '导入海阔':\\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\\n            break\\n    }\\n    el.push(d)\\n})\\nsetResult(el)\\n\"}]","icon":"hiker://images/icon1"},{"last_chapter_rule":"","pageList":[{"col_type":"text_1","name":"ClassTab","path":"ClassTab","rule":"function ClassTab(classArray, params) {\n    Object.assign(this, params)\n    this.arr = classArray.map(v => this.init(v))\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\n    this.color = this.color || '#12b668'\n    this.boundary = this.boundary || 'blank_block'\n}\nClassTab.prototype = {\n    constructor: ClassTab,\n    load(el) {\n        let folded = getVar('fold_' + this.sign, '')\n        if (this.fold) el.push({\n            title: '““””<span style=\"color:#049eff\">' + (folded ? '▶' : '▼'),\n            url: $('#noLoading#').lazyRule((sign, folded) => {\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\n                refreshPage(false)\n                return 'hiker://empty'\n            }, this.sign, folded),\n            col_type: 'scroll_button'\n        })\n        let arr = folded ? [this.arr[0]] : this.arr\n        arr.forEach((v) => {\n            let { id, class_name, class_url } = v,\n                selected = JSON.stringify(this.getClass(id))\n            class_name.forEach((name, i) => {\n                let url = class_url[i],\n                    now = JSON.stringify({ name: name, url: url })\n                el.push({\n                    title: (selected == now ? '““””<span style=\"color:' + this.color + '\"><b>' : '') + name,\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\n                        putVar(sign + id, now)\n                        putVar(sign, now)\n                        refreshPage(false)\n                        return 'hiker://empty'\n                    }, this.sign, id, now),\n                    col_type: 'scroll_button'\n                })\n            })\n            el.push({ col_type: this.boundary })\n        })\n    },\n    init(classObject) {\n        if (typeof classObject.class_name == 'string')\n            classObject.class_name = classObject.class_name.split('&')\n        if (typeof classObject.class_url == 'string')\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\n        return classObject\n    },\n    push(classObject) {\n        this.arr.push(this.init(classObject))\n    },\n    getClass(id) {\n        let defaultClass = this.arr.find(item => item.id == id)\n        if (defaultClass) defaultClass = JSON.stringify({\n            name: defaultClass.class_name[0],\n            url: defaultClass.class_url[0]\n        })\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\n        return JSON.parse(getVar(this.sign + id, defaultClass))\n    },\n    getLastClick() {\n        return JSON.parse(getVar(this.sign, '{}'))\n    },\n    setUrl(url) {\n        return url.replace(/\\$\\{([^}]*)\\}/g, (_, id) => this.getClass(id).url)\n    }\n}\n$.exports = ClassTab\n"},{"col_type":"movie_3","name":"首页","path":"indexLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = parseInt(MY_URL.split('#')[1]),\n    RULE = MY_PARAMS.RULE,\n    fyAll = RULE.url.includes('fyAll'),\n    // 加载ClassTab组件\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\n    tabHeader = []\n\nif (RULE.class_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyclass',\n    class_name: RULE.class_name,\n    class_url: RULE.class_url\n})\nif (RULE.area_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyarea',\n    class_name: RULE.area_name,\n    class_url: RULE.area_url\n})\nif (RULE.year_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyyear',\n    class_name: RULE.year_name,\n    class_url: RULE.year_url\n})\nif (RULE.sort_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fysort',\n    class_name: RULE.sort_name,\n    class_url: RULE.sort_url\n})\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\nif (pageNum == 1) {\n    addListener('onClose', 'clearVar(\"myCollection-searchMode\")')\n    putVar('myCollection-searchMode', RULE.title)\n    tabHeader.load(myCollection_el)\n    if (RULE.search_url) myCollection_el.push({\n        title: \"搜索\",\n        desc: \"搜你想要的...\",\n        url: '\"hiker://page/singleSearch?keyword=\"+input+\"&page=fypage\"',\n        extra: { rule: getItem('myCollection'), RULE: RULE },\n        col_type: \"input\",\n    })\n}\n// 处理MY_URL和MY_RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.find_rule\nMY_RULE.detail_find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\n    url[0] = tabHeader.setUrl(url[0])\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) eval(MY_RULE.preRule)\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"详情","path":"detailLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = 1\n\n// 处理MY_URL和MY_RULE\nlet RULE = MY_PARAMS.RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = RULE.pageList\nMY_RULE.pages = RULE.pages\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = RULE.params\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet fypageFlag = MY_PARAMS.url.indexOf('fypage')\nif (fypageFlag >= 0) pageNum = parseInt(/^\\d+/.exec(MY_URL.slice(fypageFlag)))\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, pageNum),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 解析正文\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\neval(MY_RULE.preRule)\nsetLastChapterRule(MY_RULE.last_chapter_rule)\nMY_PARAMS = MY_RULE.params\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else { return v }\n            v.extra = { url: v.url, RULE: MY__RULE }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\n    findRule = findRule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (detailFindRule) {\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"工具集","path":"utility","rule":"$.exports = {\n    dataLoad: function(showAll) {\n        //检查间隔，默认一天\n        let interval = parseInt(readFile('updateInterval') || '1'),\n            time = parseInt(readFile('updateTime')) || 0,\n            now = new Date().getTime(),\n            data = []\n        if (time == 0 || interval > 0 && now - time > 1000 * 60 * 60 * 24 * interval) {\n            // 获取远程数据\n            let url = getItem('remoteUrl')\n            try {\n                let remoteData = fetch(url)\n                if (url.startsWith('hiker://page/'))\n                    remoteData = JSON.parse(remoteData).rule\n                data = JSON.parse(remoteData)\n            } catch (e) {}\n            if(data.length == 0) {\n                data = JSON.parse(readFile('dataCache') || '[]')\n                log('没有获取到更新数据')\n            } else {\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\n                saveFile('dataCache', JSON.stringify(data))\n                saveFile('updateTime', now.toString())\n                log('更新数据已写入本地')\n            }\n        } else {\n            data = JSON.parse(readFile('dataCache') || '[]')\n        }\n        // 写入自定义数据\n        let customData = JSON.parse(readFile('customData') || '[]'),\n            rewriteData = []\n        customData = customData.reduce((self, v) => {\n            let index = data.findIndex((vv) => v.title == vv.title)\n            if (index >= 0) {\n                self.push(v)\n                let rule = data.splice(index, 1)[0]\n                if(showAll || v.visible)\n                    rewriteData.push(Object.assign(rule, v))\n            }\n            return self\n        }, [])\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\n        saveFile('customData', JSON.stringify(customData))\n        return rewriteData.concat(data)\n    },\n    runCode: function(rule) {\n        try {\n            let [input, code] = rule.split('.js:')\n            return code ? eval(code) : rule\n        } catch (e) { return rule }\n    },\n    urlParse: function(url, headers, pageNum, func) {\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\n        if (func) func(url)\n        url[0] = url[0].replace(/fypage(?:@(-?\\d+)@)?(?:\\*(\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\n        url[0] = /^([\\s\\S]*?)(?:\\[firstPage=([\\s\\S]*?)\\])?$/.exec(url[0])\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\n        let options = { headers: headers, method: url[1] }\n        // post方法时转换参数\n        if (/^post$/i.test(options['method'])) {\n            let [oriUrl, body] = url[0].split('?')\n            url[0] = oriUrl.replace(/？？/g, '?')\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\n            options['body'] = body\n        }\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\n            let [key, value] = v.split('@')\n            options.headers[key] = runCode(value)\n        })\n        // 添加全局UA\n        if (!options.headers['User-Agent']) {\n            if (MY_RULE.ua == 'pc')\n                options.headers['User-Agent'] = PC_UA\n            else if (MY_RULE.ua == 'mobile')\n                options.headers['User-Agent'] = MOBILE_UA\n        }\n        return { MY_URL: url[0], MY_URL_Options: options }\n    }\n}\n"},{"col_type":"movie_1_vertical_pic","name":"单搜","path":"singleSearch","rule":"js:\nlet myCollection_el = [],\n    RULE = MY_PARAMS.RULE,\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page'))\n\n// 处理MY_URL和MY_RULE\nMY_TYPE = 'search'\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\nMY_RULE.find_rule = RULE.searchFind\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE),\n                subTitle = v.title\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\n            v.desc = v.content || ''\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\n            delete v.content\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 4) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 1) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\n                url: url,\n                desc: content,\n                img: img\n            }\n        if(!res.img) res.col_type = 'text_1'\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"icon_2_round","name":"设置","path":"Config","rule":"js:\naddListener('onClose', 'clearVar(\"myCollection-sortFlag\");refreshPage()')\nsetPageTitle('⚙ 轻合集设置 ⚙')\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet data = dataLoad(true),\n    el = [{\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\n        url: $().lazyRule(() => {\n            deleteFile('updateTime')\n            back(false)\n            return 'toast://已更新'\n        }),\n        img: 'hiker://images/icon1',\n        col_type: 'avatar'\n    }],\n    searchThd = readFile('searchThd') || '5',\n    updateInterval = readFile('updateInterval') || '1',\n    newWindow = readFile('newWindow'),\n    editMode = getVar('myCollection-editMode', '启用/禁用')\n\nel.push({\n    title: '  🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd) + '  ',\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\n        if (input == '列表搜索') {\n            saveFile('searchThd', '0')\n            refreshPage()\n        } else {\n            if (searchThd == 0) searchThd = 5\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\n                saveFile('searchThd', input)\n                refreshPage()\n            })\n        }\n    }, searchThd),\n    col_type: 'scroll_button'\n}, {\n    title: '  💡 更新频率: ' + (updateInterval < 1 ? '手动' : updateInterval + '天') + '  ',\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新').input(() => {\n        saveFile('updateInterval', input)\n        refreshPage()\n        return 'hiker://empty'\n    }),\n    col_type: 'scroll_button'\n}, {\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\n    url: $('#noLoading#').lazyRule((newWindow) => {\n        saveFile('newWindow', newWindow ? '' : '1')\n        refreshPage()\n        return 'hiker://empty'\n    }, newWindow),\n    col_type: 'scroll_button'\n}, {\n    title: '““””<font color=\"#666666\"><small>特别鸣谢，小程序提供者：\\n' +\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\n    url: 'hiker://empty',\n    col_type: 'text_center_1'\n})\n\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\n    el.push({\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\n            putVar('myCollection-editMode', v)\n            refreshPage(false)\n            return 'hiker://empty'\n        }, v),\n        col_type: 'scroll_button'\n    })\n})\nel.push({\n    title: '恢复出厂数据',\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\n        deleteFile('customData')\n        refreshPage(false)\n        return 'toast://已恢复出厂数据'\n    }),\n    col_type: 'scroll_button'\n})\n\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\n    let d = { title: v.title, img: data[i].icon }\n    switch (editMode) {\n        case '启用/禁用':\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\n            d.url = $('#noLoading#').lazyRule((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                rules[index].visible = !rules[index].visible\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '重新排序':\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\n            if (sortFlag == -1)\n                d.url = $('#noLoading#').lazyRule((i) => {\n                    putVar('myCollection-sortFlag', i.toString())\n                    refreshPage(false)\n                    return 'toast://选择要移动到的位置'\n                }, i)\n            else\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\n                    let rules = JSON.parse(readFile('customData') || '[]')\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\n                    saveFile('customData', JSON.stringify(rules))\n                    putVar('myCollection-sortFlag', '-1')\n                    refreshPage(false)\n                    return 'hiker://empty'\n                }, sortFlag, i)\n            break\n        case '更改图标':\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                if (input)\n                    rules[index].icon = input\n                else\n                    delete rules[index].icon\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '导入海阔':\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\n            break\n    }\n    el.push(d)\n})\nsetResult(el)\n"}],"title":"聚漫💠","author":"人民大众","version":211122,"url":"hiker://empty","col_type":"icon_round_small_4","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst {\n    dataLoad\n} = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet el = [{\n    title: ' ' + getItem('myCollection').bold() + ' &nbsp &nbsp ' + '⚙ 轻合集设置 ⚙'.small(),\n    url: 'hiker://page/Config?rule=' + getItem('myCollection'),\n    img: MY_RULE.icon || 'hiker://images/icon1',\n    col_type: 'avatar'\n}, {\n    url: '\"hiker://search?s=\"+input+\"&rule=' + getItem('myCollection') + '\"',\n    desc: '搜你想要的...',\n    title: '搜索',\n    col_type: 'input'\n}]\n\nif (getItem(\"read_policy\") !== \"1\") {\n    el.push({\n        title: '““””<small><font color=#871f78>以下数据来源于网络，如您喜欢，请支持官方</font></small>',\n        desc: '““””<small><font color=#f20c00>本规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n        url: $('#noHistory#').lazyRule(() => {\n            setItem(\"read_policy\", \"1\")\n            refreshPage(false)\n            return \"toast://你已同意该协议\"\n        }),\n        col_type: 'text_center_1'\n    })\n}\n\nlet newWindow = readFile('newWindow')\ndataLoad().forEach((v) => {\n    let fypage = /^[^;]*?fypage.*?(;.*)?$/.test(v.url) ? 'fypage' : '1',\n        d = {\n            title: v.title,\n            url: 'hiker://page/indexLoad?#' + fypage + '#noHistory#',\n            img: v.icon || 'https://cf-ipfs.com/ipfs/QmXxgDVAZLWhFxikrAFVPRZQuJ2uFae7syXhFubPwMwUiU',\n            extra: {\n                RULE: v\n            }\n        }\n    if (newWindow) Object.assign(d.extra, {\n        newWindow: true,\n        windowId: getItem('myCollection') + d.title\n    })\n    el.push(d)\n})\nsetResult(el)","searchFind":"js:\nvar { dataLoad, runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet myCollection_el = [],\n    searchThd = parseInt(readFile('searchThd') || '5'),\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page')),\n    RULES = dataLoad().filter((v) => v.search_url)\nif (searchThd == 0) {\n    myCollection_el.push({\n        title: ('⬇ 选择一个小程序查看' + keyword + '的搜索结果 ⬇').small(),\n        url: 'hiker://empty'\n    })\n    RULES.forEach((v) => myCollection_el.push({\n        title: v.title,\n        url: \"hiker://page/singleSearch?keyword=\" + keyword + \"&page=fypage\",\n        extra: { rule: getItem('myCollection'), RULE: v },\n    }))\n} else if (searchThd > 0) {\n    let searchCount = pageNum * searchThd,\n        searchTag = { title: '⬆ 已搜索了' + searchCount + '个小程序 ⬆\\n⬇ 下面还有' + RULES.slice(searchCount).length + '个小程序 ⬇' }\n    RULES = RULES.slice(searchCount - searchThd, searchCount)\n    if (!RULES.length) setResult([])\n\n    let URLS = RULES.map((RULE) => {\n        MY_RULE.ua = RULE.ua\n        let urlReq = urlParse(RULE.search_url, {}, 1, (url) => {\n            url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n        })\n        return { url: urlReq.MY_URL, options: urlReq.MY_URL_Options }\n    })\n    batchFetch(URLS).forEach((indexHtml, index) => {\n        // 处理MY_URL和MY_RULE\n        let RULE = RULES[index]\n        MY_URL = URLS[index].url\n        MY_RULE.ua = RULE.ua\n        MY_RULE.col_type = RULE.col_type\n        MY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\n        MY_RULE.find_rule = RULE.searchFind\n        MY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\n        MY_RULE.preRule = RULE.preRule\n        MY_RULE.pageList = JSON.parse(RULE.pages || '[]')\n        MY_RULE.pages = JSON.stringify(MY_RULE.pageList)\n        MY_RULE.last_chapter_rule = RULE.last_chapter_rule\n        MY_RULE.params = {}\n        MY_RULE.url = MY_URL\n        MY_RULE.urlHeaders = URLS[index].options.headers\n\n        // 正文解析\n        eval(MY_RULE.preRule)\n        if (MY_RULE.find_rule.startsWith('js:')) {\n            function getUrl() {\n                return MY_URL\n            }\n\n            function getResCode() {\n                return indexHtml\n            }\n\n            setResult = function(el) {\n                if (Array.isArray(el.data)) el = el.data\n                Array.prototype.push.apply(myCollection_el, el.map((v) => {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    v.desc = RULE.title + ' ▪ ' + (v.desc || '')\n\n                    if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                        return v\n                    } else if (v.url.includes('@rule=')) {\n                        let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                        v.url = url\n                        MY__RULE.detail_find_rule = rule\n                        MY__RULE.detail_col_type = MY_RULE.col_type\n                    } else if (v.url.startsWith('hiker://page/')) {\n                        if (v.url.includes('rule=') || (v.extra || {}).rule)\n                            return v\n                        let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                            subPage = MY_RULE.pageList.find((v) => v.path == path),\n                            subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                        v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                        MY__RULE.detail_find_rule = subPage.rule\n                        MY__RULE.detail_col_type = subPage.col_type\n                        MY__RULE.params = v.extra || {}\n                    } else if (v.url.includes('@lazyRule=')) {\n                        v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                        return v\n                    } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n                    v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n                    v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                    if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n\n                    return v\n                }))\n            }\n            setHomeResult = setResult\n            setSearchResult = setResult\n\n            try {\n                eval(MY_RULE.find_rule.slice(3))\n            } catch (e) {}\n        } else {\n            let findRule = MY_RULE.find_rule.split(';')\n            parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n                let [title, url, desc, content, img] = findRule.map((v, i) => {\n                        try {\n                            if (v == '*') return ''\n                            else v = (i == 1 || i == 4) ?\n                                parseDom(data, v) :\n                                parseDomForHtml(data, v)\n                            if (i != 1) v = runCode(v)\n                            return v\n                        } catch (e) { return '' }\n                    }),\n                    res = {\n                        title: title,\n                        url: url,\n                        desc: RULE.title + ' ▪ ' + desc,\n                        content: content,\n                        img: img\n                    }\n                if (res.url) {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    if (res.url.includes('@lazyRule=')) {\n                        res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY__RULE.pages, pageList: MY__RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                    } else if (MY_RULE.detail_find_rule) {\n                        res.extra = { url: url, RULE: MY__RULE, pageTitle: title }\n                        res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                        if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n                    }\n                }\n                myCollection_el.push(res)\n            })\n        }\n    })\n    myCollection_el.push(searchTag)\n}\nmethod_setResult.invoke(javaContext, myCollection_el, CALLBACK_KEY, MY_RULE, MY_TYPE)\n","search_url":"hiker://empty?keyword=**&page=fypage","group":"①轻合集","detail_col_type":"text_3","detail_find_rule":"","sdetail_col_type":"text_3","sdetail_find_rule":"","ua":"mobile","preRule":"setItem('myCollection', MY_RULE.title)\nsetItem('remoteUrl', 'http://hiker.nokia.press/hikerule/rulelist.json?id=2366')\n// \n// 包裹错误\n// clearItem(\"read_policy\")","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"function ClassTab(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = getVar('fold_' + this.sign, '')\\n        if (this.fold) el.push({\\n            title: '““””<span style=\\\"color:#049eff\\\">' + (folded ? '▶' : '▼'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n                selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: (selected == now ? '““””<span style=\\\"color:' + this.color + '\\\"><b>' : '') + name,\\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        putVar(sign, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        if (defaultClass) defaultClass = JSON.stringify({\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        })\\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    getLastClick() {\\n        return JSON.parse(getVar(this.sign, '{}'))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n$.exports = ClassTab\\n\"},{\"col_type\":\"movie_3\",\"name\":\"首页\",\"path\":\"indexLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = parseInt(MY_URL.split('#')[1]),\\n    RULE = MY_PARAMS.RULE,\\n    fyAll = RULE.url.includes('fyAll'),\\n    // 加载ClassTab组件\\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\\n    tabHeader = []\\n\\nif (RULE.class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: RULE.class_name,\\n    class_url: RULE.class_url\\n})\\nif (RULE.area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: RULE.area_name,\\n    class_url: RULE.area_url\\n})\\nif (RULE.year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: RULE.year_name,\\n    class_url: RULE.year_url\\n})\\nif (RULE.sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: RULE.sort_name,\\n    class_url: RULE.sort_url\\n})\\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\\nif (pageNum == 1) {\\n    addListener('onClose', 'clearVar(\\\"myCollection-searchMode\\\")')\\n    putVar('myCollection-searchMode', RULE.title)\\n    tabHeader.load(myCollection_el)\\n    if (RULE.search_url) myCollection_el.push({\\n        title: \\\"搜索\\\",\\n        desc: \\\"搜你想要的...\\\",\\n        url: '\\\"hiker://page/singleSearch?keyword=\\\"+input+\\\"&page=fypage\\\"',\\n        extra: { rule: getItem('myCollection'), RULE: RULE },\\n        col_type: \\\"input\\\",\\n    })\\n}\\n// 处理MY_URL和MY_RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.find_rule\\nMY_RULE.detail_find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\\n    url[0] = tabHeader.setUrl(url[0])\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) eval(MY_RULE.preRule)\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"详情\",\"path\":\"detailLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = 1\\n\\n// 处理MY_URL和MY_RULE\\nlet RULE = MY_PARAMS.RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = RULE.pageList\\nMY_RULE.pages = RULE.pages\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = RULE.params\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet fypageFlag = MY_PARAMS.url.indexOf('fypage')\\nif (fypageFlag >= 0) pageNum = parseInt(/^\\\\d+/.exec(MY_URL.slice(fypageFlag)))\\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, pageNum),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 解析正文\\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\\neval(MY_RULE.preRule)\\nsetLastChapterRule(MY_RULE.last_chapter_rule)\\nMY_PARAMS = MY_RULE.params\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\\n    findRule = findRule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (detailFindRule) {\\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"工具集\",\"path\":\"utility\",\"rule\":\"$.exports = {\\n    dataLoad: function(showAll) {\\n        //检查间隔，默认一天\\n        let interval = parseInt(readFile('updateInterval') || '1'),\\n            time = parseInt(readFile('updateTime')) || 0,\\n            now = new Date().getTime(),\\n            data = []\\n        if (time == 0 || interval > 0 && now - time > 1000 * 60 * 60 * 24 * interval) {\\n            // 获取远程数据\\n            let url = getItem('remoteUrl')\\n            try {\\n                let remoteData = fetch(url)\\n                if (url.startsWith('hiker://page/'))\\n                    remoteData = JSON.parse(remoteData).rule\\n                data = JSON.parse(remoteData)\\n            } catch (e) {}\\n            if(data.length == 0) {\\n                data = JSON.parse(readFile('dataCache') || '[]')\\n                log('没有获取到更新数据')\\n            } else {\\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\\n                saveFile('dataCache', JSON.stringify(data))\\n                saveFile('updateTime', now.toString())\\n                log('更新数据已写入本地')\\n            }\\n        } else {\\n            data = JSON.parse(readFile('dataCache') || '[]')\\n        }\\n        // 写入自定义数据\\n        let customData = JSON.parse(readFile('customData') || '[]'),\\n            rewriteData = []\\n        customData = customData.reduce((self, v) => {\\n            let index = data.findIndex((vv) => v.title == vv.title)\\n            if (index >= 0) {\\n                self.push(v)\\n                let rule = data.splice(index, 1)[0]\\n                if(showAll || v.visible)\\n                    rewriteData.push(Object.assign(rule, v))\\n            }\\n            return self\\n        }, [])\\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\\n        saveFile('customData', JSON.stringify(customData))\\n        return rewriteData.concat(data)\\n    },\\n    runCode: function(rule) {\\n        try {\\n            let [input, code] = rule.split('.js:')\\n            return code ? eval(code) : rule\\n        } catch (e) { return rule }\\n    },\\n    urlParse: function(url, headers, pageNum, func) {\\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\\n        if (func) func(url)\\n        url[0] = url[0].replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n        url[0] = /^([\\\\s\\\\S]*?)(?:\\\\[firstPage=([\\\\s\\\\S]*?)\\\\])?$/.exec(url[0])\\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\\n        let options = { headers: headers, method: url[1] }\\n        // post方法时转换参数\\n        if (/^post$/i.test(options['method'])) {\\n            let [oriUrl, body] = url[0].split('?')\\n            url[0] = oriUrl.replace(/？？/g, '?')\\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\\n            options['body'] = body\\n        }\\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\\n            let [key, value] = v.split('@')\\n            options.headers[key] = runCode(value)\\n        })\\n        // 添加全局UA\\n        if (!options.headers['User-Agent']) {\\n            if (MY_RULE.ua == 'pc')\\n                options.headers['User-Agent'] = PC_UA\\n            else if (MY_RULE.ua == 'mobile')\\n                options.headers['User-Agent'] = MOBILE_UA\\n        }\\n        return { MY_URL: url[0], MY_URL_Options: options }\\n    }\\n}\\n\"},{\"col_type\":\"movie_1_vertical_pic\",\"name\":\"单搜\",\"path\":\"singleSearch\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    RULE = MY_PARAMS.RULE,\\n    keyword = getParam('keyword'),\\n    pageNum = parseInt(getParam('page'))\\n\\n// 处理MY_URL和MY_RULE\\nMY_TYPE = 'search'\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\\nMY_RULE.find_rule = RULE.searchFind\\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\\\*\\\\*/g, encodeStr(keyword, url[2]))\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE),\\n                subTitle = v.title\\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\\n            v.desc = v.content || ''\\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\\n            delete v.content\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 4) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 1) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\\n                url: url,\\n                desc: content,\\n                img: img\\n            }\\n        if(!res.img) res.col_type = 'text_1'\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"icon_2_round\",\"name\":\"设置\",\"path\":\"Config\",\"rule\":\"js:\\naddListener('onClose', 'clearVar(\\\"myCollection-sortFlag\\\");refreshPage()')\\nsetPageTitle('⚙ 轻合集设置 ⚙')\\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet data = dataLoad(true),\\n    el = [{\\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\\n        url: $().lazyRule(() => {\\n            deleteFile('updateTime')\\n            back(false)\\n            return 'toast://已更新'\\n        }),\\n        img: 'hiker://images/icon1',\\n        col_type: 'avatar'\\n    }],\\n    searchThd = readFile('searchThd') || '5',\\n    updateInterval = readFile('updateInterval') || '1',\\n    newWindow = readFile('newWindow'),\\n    editMode = getVar('myCollection-editMode', '启用/禁用')\\n\\nel.push({\\n    title: '  🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd) + '  ',\\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\\n        if (input == '列表搜索') {\\n            saveFile('searchThd', '0')\\n            refreshPage()\\n        } else {\\n            if (searchThd == 0) searchThd = 5\\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\\n                saveFile('searchThd', input)\\n                refreshPage()\\n            })\\n        }\\n    }, searchThd),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💡 更新频率: ' + (updateInterval < 1 ? '手动' : updateInterval + '天') + '  ',\\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新').input(() => {\\n        saveFile('updateInterval', input)\\n        refreshPage()\\n        return 'hiker://empty'\\n    }),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((newWindow) => {\\n        saveFile('newWindow', newWindow ? '' : '1')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, newWindow),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '““””<font color=\\\"#666666\\\"><small>特别鸣谢，小程序提供者：\\\\n' +\\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1'\\n})\\n\\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\\n    el.push({\\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\\n            putVar('myCollection-editMode', v)\\n            refreshPage(false)\\n            return 'hiker://empty'\\n        }, v),\\n        col_type: 'scroll_button'\\n    })\\n})\\nel.push({\\n    title: '恢复出厂数据',\\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\\n        deleteFile('customData')\\n        refreshPage(false)\\n        return 'toast://已恢复出厂数据'\\n    }),\\n    col_type: 'scroll_button'\\n})\\n\\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\\n    let d = { title: v.title, img: data[i].icon }\\n    switch (editMode) {\\n        case '启用/禁用':\\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\\n            d.url = $('#noLoading#').lazyRule((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                rules[index].visible = !rules[index].visible\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '重新排序':\\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\\n            if (sortFlag == -1)\\n                d.url = $('#noLoading#').lazyRule((i) => {\\n                    putVar('myCollection-sortFlag', i.toString())\\n                    refreshPage(false)\\n                    return 'toast://选择要移动到的位置'\\n                }, i)\\n            else\\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\\n                    let rules = JSON.parse(readFile('customData') || '[]')\\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\\n                    saveFile('customData', JSON.stringify(rules))\\n                    putVar('myCollection-sortFlag', '-1')\\n                    refreshPage(false)\\n                    return 'hiker://empty'\\n                }, sortFlag, i)\\n            break\\n        case '更改图标':\\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                if (input)\\n                    rules[index].icon = input\\n                else\\n                    delete rules[index].icon\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '导入海阔':\\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\\n            break\\n    }\\n    el.push(d)\\n})\\nsetResult(el)\\n\"}]","icon":"https://lanmeiguojiang.com/tubiao/q/13.png"},{"last_chapter_rule":"","pageList":[{"col_type":"text_1","name":"ClassTab","path":"ClassTab","rule":"function ClassTab(classArray, params) {\n    Object.assign(this, params)\n    this.arr = classArray.map(v => this.init(v))\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\n    this.color = this.color || '#12b668'\n    this.boundary = this.boundary || 'blank_block'\n}\nClassTab.prototype = {\n    constructor: ClassTab,\n    load(el) {\n        let folded = getVar('fold_' + this.sign, '')\n        if (this.fold) el.push({\n            title: '““””<span style=\"color:#049eff\">' + (folded ? '▶' : '▼'),\n            url: $('#noLoading#').lazyRule((sign, folded) => {\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\n                refreshPage(false)\n                return 'hiker://empty'\n            }, this.sign, folded),\n            col_type: 'scroll_button'\n        })\n        let arr = folded ? [this.arr[0]] : this.arr\n        arr.forEach((v) => {\n            let { id, class_name, class_url } = v,\n                selected = JSON.stringify(this.getClass(id))\n            class_name.forEach((name, i) => {\n                let url = class_url[i],\n                    now = JSON.stringify({ name: name, url: url })\n                el.push({\n                    title: (selected == now ? '““””<span style=\"color:' + this.color + '\"><b>' : '') + name,\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\n                        putVar(sign + id, now)\n                        putVar(sign, now)\n                        refreshPage(false)\n                        return 'hiker://empty'\n                    }, this.sign, id, now),\n                    col_type: 'scroll_button'\n                })\n            })\n            el.push({ col_type: this.boundary })\n        })\n    },\n    init(classObject) {\n        if (typeof classObject.class_name == 'string')\n            classObject.class_name = classObject.class_name.split('&')\n        if (typeof classObject.class_url == 'string')\n            classObject.class_url = classObject.class_url.split('&')\n        return classObject\n    },\n    push(classObject) {\n        this.arr.push(this.init(classObject))\n    },\n    getClass(id) {\n        let defaultClass = this.arr.find(item => item.id == id)\n        if (defaultClass) defaultClass = JSON.stringify({\n            name: defaultClass.class_name[0],\n            url: defaultClass.class_url[0]\n        })\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\n        return JSON.parse(getVar(this.sign + id, defaultClass))\n    },\n    getLastClick() {\n        return JSON.parse(getVar(this.sign, '{}'))\n    },\n    setUrl(url) {\n        return url.replace(/\\$\\{([^}]*)\\}/g, (_, id) => this.getClass(id).url)\n    }\n}\n$.exports = ClassTab\n"},{"col_type":"movie_3","name":"首页","path":"indexLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = parseInt(MY_URL.split('#')[1]),\n    RULE = MY_PARAMS.RULE,\n    fyAll = RULE.url.includes('fyAll'),\n    // 加载ClassTab组件\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\n    tabHeader = []\n\nif (RULE.class_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyclass',\n    class_name: RULE.class_name,\n    class_url: RULE.class_url\n})\nif (RULE.area_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyarea',\n    class_name: RULE.area_name,\n    class_url: RULE.area_url\n})\nif (RULE.year_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyyear',\n    class_name: RULE.year_name,\n    class_url: RULE.year_url\n})\nif (RULE.sort_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fysort',\n    class_name: RULE.sort_name,\n    class_url: RULE.sort_url\n})\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\nif (pageNum == 1) {\n    addListener('onClose', 'clearVar(\"myCollection-searchMode\")')\n    putVar('myCollection-searchMode', RULE.title)\n    tabHeader.load(myCollection_el)\n    if (RULE.search_url) myCollection_el.push({\n        title: \"搜索\",\n        desc: \"搜你想要的...\",\n        url: '\"hiker://search?s=\"+input+\"&rule=' + getItem('myCollection') + '\"',\n        col_type: \"input\",\n    })\n}\n// 处理MY_URL和MY_RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.find_rule\nMY_RULE.detail_find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, indexHtml } = urlParse(RULE.url, pageNum, (url) => {\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\n    url[0] = tabHeader.setUrl(url[0])\n})\nMY_RULE.url = MY_URL\n// 正文解析\nif (pageNum == 1) eval(MY_RULE.preRule)\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\n                return v\n            } else if (!MY_RULE.detail_find_rule) { return v }\n            v.extra = { RULE: Object.assign({}, MY__RULE, { url: v.url }), pageTitle: v.title }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n\n    function setHomeResult(a, param1, param2, param3) {\n        setResult(a, param1, param2, param3)\n    }\n\n    function setSearchResult(a, param1, param2, param3) {\n        setResult(a, param1, param2, param3)\n    }\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) {}\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { RULE: Object.assign({}, MY_RULE, { url: res.url }), pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"详情","path":"detailLoad","rule":"js:\nvar myCollection_el = []\n\n// 处理MY_URL和MY_RULE\nlet RULE = MY_PARAMS.RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = RULE.pageList\nMY_RULE.pages = RULE.pages\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = RULE.params\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, indexHtml } = urlParse(RULE.url, 1)\nMY_RULE.url = MY_URL\n// 解析正文\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\neval(MY_RULE.preRule)\nsetLastChapterRule(MY_RULE.last_chapter_rule)\nMY_PARAMS = MY_RULE.params\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\n                return v\n            } else { return v }\n            v.extra = { RULE: Object.assign({}, MY__RULE, { url: v.url }) }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n\n    function setHomeResult(a, param1, param2, param3) {\n        setResult(a, param1, param2, param3)\n    }\n\n    function setSearchResult(a, param1, param2, param3) {\n        setResult(a, param1, param2, param3)\n    }\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\n    findRule = findRule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) {}\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\n            } else if (detailFindRule) {\n                res.extra = { RULE: Object.assign({}, MY_RULE, { url: res.url, detail_find_rule: detailFindRule }), pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"数据载入","path":"dataLoad","rule":"//真正获取数据的逻辑\nfunction load() {\n    let url = 'http://hiker.nokia.press/hikerule/dev/json_list?name=510381049',\n        d = []\n    try {\n        d = fetch(url)\n        if (url.startsWith('hiker://page/'))\n            d = JSON.parse(d).rule\n        d = JSON.parse(d)\n    } catch (e) {log(e.message)\n        d = []\n    }\n    return d.filter((v) => { return v.title != MY_RULE.title && v.author != '轻合集生成器' })\n}\n//检查间隔，默认一天\nlet min = 60 * 24 * 1\n\nlet data = []\nlet time = getItem('updatetime', '0')\ntime = parseInt(time)\nlet now = new Date().getTime()\nif (now - time > 1000 * 60 * min) {\n    log('更新了数据')\n    setItem('updatetime', '' + now)\n    data = load()\n    saveFile('data.json', JSON.stringify(data))\n} else {\n    log('没有更新数据')\n    data = JSON.parse(readFile('data.json'))\n}\n$.exports = data\n"},{"col_type":"movie_3","name":"工具集","path":"utility","rule":"$.exports = {\n    runCode: function(rule) {\n        try {\n            let [input, code] = rule.split('.js:')\n            return code ? eval(code) : rule\n        } catch (e) { return rule }\n    },\n    urlParse: function(url, pageNum, func) {\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\n        if (func) func(url)\n        url[0] = url[0].replace(/fypage(?:@(-?\\d+)@)?(?:\\*(\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\n        url[0] = /^(.*?)(?:\\[firstPage=(.*?)\\])?$/.exec(url[0])\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\n        let options = { headers: { 'Content-Type': 'text/plain; charst=UTF-8' }, method: url[1] }\n        // post方法时转换参数\n        if (/^post$/i.test(options['method'])) {\n            let [oriUrl, body] = url[0].split('?')\n            url[0] = oriUrl.replace(/？？/g, '?')\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\n            options['body'] = body\n        }\n        if (url[2]) options.headers['Content-Type'] = options.headers['Content-Type'].slice(0, 19) + url[2]\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\n            let [key, value] = v.split('@')\n            options.headers[key] = runCode(value)\n        })\n        // 添加全局UA\n        if (!options.headers['User-Agent']) {\n            if (MY_RULE.ua == 'pc')\n                options.headers['User-Agent'] = PC_UA\n            else if (MY_RULE.ua == 'mobile')\n                options.headers['User-Agent'] = MOBILE_UA\n        }\n        return { MY_URL: url[0], indexHtml: fetch(url[0], options) }\n    }\n}\n"}],"title":"逐风者•轻合集","author":"轻合集生成器","version":74,"url":"hiker://empty","col_type":"icon_round_small_4","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nlet el = [{\n    title: '清除缓存,立即更新 <small>(基于远程仓库,不要频繁点击)',\n    url: $().lazyRule(() => {\n        clearItem('updatetime')\n        refreshPage(true)\n        return 'toast://已更新'\n    }),\n    img: 'hiker://images/icon1',\n    col_type: 'avatar'\n}]\nel.push({\n    url: '\"hiker://search?s=\"+input+\"&rule=' + getItem('myCollection') + '\"',\n    desc: '搜你想要的...',\n    title: '搜索',\n    col_type: 'input'\n})\nconst data = $.require('hiker://page/dataLoad?rule=' + getItem('myCollection'))\nsetResult(el.concat(data.map((v) => {\n    let fypage = /^[^;]*?fypage.*?(;.*)?$/.test(v.url) ? 'fypage' : '1'\n    return {\n        title: v.title,\n        url: 'hiker://page/indexLoad?#' + fypage + '#noHistory#',\n        img: v.icon||'https://cf-ipfs.com/ipfs/QmXxgDVAZLWhFxikrAFVPRZQuJ2uFae7syXhFubPwMwUiU',\n        extra: { RULE: v }\n    }\n})))","searchFind":"js:\nlet myCollection_el = [],\n    searchMode = getVar('myCollection-searchMode', ''),\n    [_, pageNum, keyword] = MY_URL.split('##'),\n    RULE = $.require('hiker://page/dataLoad?rule=' + getItem('myCollection')).filter((v) => v.search_url)\npageNum = parseInt(pageNum)\nif (!searchMode && pageNum > RULE.length) setResult([])\n\nlet searchCount = { title: '⬆ 已搜索了' + pageNum + '个小程序 ⬆\\n⬇ 下面还有' + (RULE.length - pageNum) + '个小程序 ⬇' }\nRULE = searchMode ? RULE.find((v) => v.title == searchMode) : RULE[pageNum - 1]\n// 处理MY_URL和MY_RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = RULE.sdetail_col_type\nMY_RULE.find_rule = RULE.searchFind\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, indexHtml } = urlParse(RULE.search_url, searchMode ? pageNum : 1, (url) => {\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n})\nMY_RULE.url = MY_URL\n// 正文解析\nif (pageNum == 1) eval(MY_RULE.preRule)\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n\n            if (!v.url) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\n                return v\n            } else if (!MY_RULE.detail_find_rule) { return v }\n            v.extra = { RULE: Object.assign({}, MY__RULE, { url: v.url }), pageTitle: v.title }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        if (!searchMode) myCollection_el.push(searchCount)\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n\n    function setHomeResult(a, param1, param2, param3) {\n        setResult(a, param1, param2, param3)\n    }\n\n    function setSearchResult(a, param1, param2, param3) {\n        setResult(a, param1, param2, param3)\n    }\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 4) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 1) v = runCode(v)\n                    return v\n                } catch (e) {}\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                content: content,\n                img: img\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { RULE: Object.assign({}, MY_RULE, { url: res.url }), pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            }\n        }\n        myCollection_el.push(res)\n        if (!searchMode) myCollection_el.push(searchCount)\n    })\n    setResult(myCollection_el)\n}\n","search_url":"hiker://empty##fypage##**","group":"①轻合集","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"setItem('myCollection', MY_RULE.title)\n// 分组\n// 导入导出，排除，排序，简单编辑？？基于远程会自动更新@@判断是否为远程\n// 从轻合集导入海阔\n// 包裹错误\n// 多线程，香情影视那样,在首页点击搜索以后,选择一个规则查看搜索内容","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"function ClassTab(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = getVar('fold_' + this.sign, '')\\n        if (this.fold) el.push({\\n            title: '““””<span style=\\\"color:#049eff\\\">' + (folded ? '▶' : '▼'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n                selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: (selected == now ? '““””<span style=\\\"color:' + this.color + '\\\"><b>' : '') + name,\\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        putVar(sign, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&')\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        if (defaultClass) defaultClass = JSON.stringify({\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        })\\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    getLastClick() {\\n        return JSON.parse(getVar(this.sign, '{}'))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n$.exports = ClassTab\\n\"},{\"col_type\":\"movie_3\",\"name\":\"首页\",\"path\":\"indexLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = parseInt(MY_URL.split('#')[1]),\\n    RULE = MY_PARAMS.RULE,\\n    fyAll = RULE.url.includes('fyAll'),\\n    // 加载ClassTab组件\\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\\n    tabHeader = []\\n\\nif (RULE.class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: RULE.class_name,\\n    class_url: RULE.class_url\\n})\\nif (RULE.area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: RULE.area_name,\\n    class_url: RULE.area_url\\n})\\nif (RULE.year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: RULE.year_name,\\n    class_url: RULE.year_url\\n})\\nif (RULE.sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: RULE.sort_name,\\n    class_url: RULE.sort_url\\n})\\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\\nif (pageNum == 1) {\\n    addListener('onClose', 'clearVar(\\\"myCollection-searchMode\\\")')\\n    putVar('myCollection-searchMode', RULE.title)\\n    tabHeader.load(myCollection_el)\\n    if (RULE.search_url) myCollection_el.push({\\n        title: \\\"搜索\\\",\\n        desc: \\\"搜你想要的...\\\",\\n        url: '\\\"hiker://search?s=\\\"+input+\\\"&rule=' + getItem('myCollection') + '\\\"',\\n        col_type: \\\"input\\\",\\n    })\\n}\\n// 处理MY_URL和MY_RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.find_rule\\nMY_RULE.detail_find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, indexHtml } = urlParse(RULE.url, pageNum, (url) => {\\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\\n    url[0] = tabHeader.setUrl(url[0])\\n})\\nMY_RULE.url = MY_URL\\n// 正文解析\\nif (pageNum == 1) eval(MY_RULE.preRule)\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule) { return v }\\n            v.extra = { RULE: Object.assign({}, MY__RULE, { url: v.url }), pageTitle: v.title }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n\\n    function setHomeResult(a, param1, param2, param3) {\\n        setResult(a, param1, param2, param3)\\n    }\\n\\n    function setSearchResult(a, param1, param2, param3) {\\n        setResult(a, param1, param2, param3)\\n    }\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) {}\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { RULE: Object.assign({}, MY_RULE, { url: res.url }), pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"详情\",\"path\":\"detailLoad\",\"rule\":\"js:\\nvar myCollection_el = []\\n\\n// 处理MY_URL和MY_RULE\\nlet RULE = MY_PARAMS.RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = RULE.pageList\\nMY_RULE.pages = RULE.pages\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = RULE.params\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, indexHtml } = urlParse(RULE.url, 1)\\nMY_RULE.url = MY_URL\\n// 解析正文\\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\\neval(MY_RULE.preRule)\\nsetLastChapterRule(MY_RULE.last_chapter_rule)\\nMY_PARAMS = MY_RULE.params\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\\n                return v\\n            } else { return v }\\n            v.extra = { RULE: Object.assign({}, MY__RULE, { url: v.url }) }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n\\n    function setHomeResult(a, param1, param2, param3) {\\n        setResult(a, param1, param2, param3)\\n    }\\n\\n    function setSearchResult(a, param1, param2, param3) {\\n        setResult(a, param1, param2, param3)\\n    }\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\\n    findRule = findRule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) {}\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\\n            } else if (detailFindRule) {\\n                res.extra = { RULE: Object.assign({}, MY_RULE, { url: res.url, detail_find_rule: detailFindRule }), pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"数据载入\",\"path\":\"dataLoad\",\"rule\":\"//真正获取数据的逻辑\\nfunction load() {\\n    let url = 'http://hiker.nokia.press/hikerule/dev/json_list?name=510381049',\\n        d = []\\n    try {\\n        d = fetch(url)\\n        if (url.startsWith('hiker://page/'))\\n            d = JSON.parse(d).rule\\n        d = JSON.parse(d)\\n    } catch (e) {log(e.message)\\n        d = []\\n    }\\n    return d.filter((v) => { return v.title != MY_RULE.title && v.author != '轻合集生成器' })\\n}\\n//检查间隔，默认一天\\nlet min = 60 * 24 * 1\\n\\nlet data = []\\nlet time = getItem('updatetime', '0')\\ntime = parseInt(time)\\nlet now = new Date().getTime()\\nif (now - time > 1000 * 60 * min) {\\n    log('更新了数据')\\n    setItem('updatetime', '' + now)\\n    data = load()\\n    saveFile('data.json', JSON.stringify(data))\\n} else {\\n    log('没有更新数据')\\n    data = JSON.parse(readFile('data.json'))\\n}\\n$.exports = data\\n\"},{\"col_type\":\"movie_3\",\"name\":\"工具集\",\"path\":\"utility\",\"rule\":\"$.exports = {\\n    runCode: function(rule) {\\n        try {\\n            let [input, code] = rule.split('.js:')\\n            return code ? eval(code) : rule\\n        } catch (e) { return rule }\\n    },\\n    urlParse: function(url, pageNum, func) {\\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\\n        if (func) func(url)\\n        url[0] = url[0].replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n        url[0] = /^(.*?)(?:\\\\[firstPage=(.*?)\\\\])?$/.exec(url[0])\\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\\n        let options = { headers: { 'Content-Type': 'text/plain; charst=UTF-8' }, method: url[1] }\\n        // post方法时转换参数\\n        if (/^post$/i.test(options['method'])) {\\n            let [oriUrl, body] = url[0].split('?')\\n            url[0] = oriUrl.replace(/？？/g, '?')\\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\\n            options['body'] = body\\n        }\\n        if (url[2]) options.headers['Content-Type'] = options.headers['Content-Type'].slice(0, 19) + url[2]\\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\\n            let [key, value] = v.split('@')\\n            options.headers[key] = runCode(value)\\n        })\\n        // 添加全局UA\\n        if (!options.headers['User-Agent']) {\\n            if (MY_RULE.ua == 'pc')\\n                options.headers['User-Agent'] = PC_UA\\n            else if (MY_RULE.ua == 'mobile')\\n                options.headers['User-Agent'] = MOBILE_UA\\n        }\\n        return { MY_URL: url[0], indexHtml: fetch(url[0], options) }\\n    }\\n}\\n\"}]","icon":"http://q2.qlogo.cn/headimg_dl?dst_uin=510381049&spec=100"},{"last_chapter_rule":"","pageList":[{"col_type":"text_1","name":"ClassTab","path":"ClassTab","rule":"function ClassTab(classArray, params) {\n    Object.assign(this, params)\n    this.arr = classArray.map(v => this.init(v))\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\n    this.color = this.color || '#12b668'\n    this.boundary = this.boundary || 'blank_block'\n}\nClassTab.prototype = {\n    constructor: ClassTab,\n    load(el) {\n        let folded = getVar('fold_' + this.sign, '')\n        if (this.fold) el.push({\n            title: '““””<span style=\"color:#049eff\">' + (folded ? '▶' : '▼'),\n            url: $('#noLoading#').lazyRule((sign, folded) => {\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\n                refreshPage(false)\n                return 'hiker://empty'\n            }, this.sign, folded),\n            col_type: 'scroll_button'\n        })\n        let arr = folded ? [this.arr[0]] : this.arr\n        arr.forEach((v) => {\n            let { id, class_name, class_url } = v,\n                selected = JSON.stringify(this.getClass(id))\n            class_name.forEach((name, i) => {\n                let url = class_url[i],\n                    now = JSON.stringify({ name: name, url: url })\n                el.push({\n                    title: (selected == now ? '““””<span style=\"color:' + this.color + '\"><b>' : '') + name,\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\n                        putVar(sign + id, now)\n                        putVar(sign, now)\n                        refreshPage(false)\n                        return 'hiker://empty'\n                    }, this.sign, id, now),\n                    col_type: 'scroll_button'\n                })\n            })\n            el.push({ col_type: this.boundary })\n        })\n    },\n    init(classObject) {\n        if (typeof classObject.class_name == 'string')\n            classObject.class_name = classObject.class_name.split('&')\n        if (typeof classObject.class_url == 'string')\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\n        return classObject\n    },\n    push(classObject) {\n        this.arr.push(this.init(classObject))\n    },\n    getClass(id) {\n        let defaultClass = this.arr.find(item => item.id == id)\n        if (defaultClass) defaultClass = JSON.stringify({\n            name: defaultClass.class_name[0],\n            url: defaultClass.class_url[0]\n        })\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\n        return JSON.parse(getVar(this.sign + id, defaultClass))\n    },\n    getLastClick() {\n        return JSON.parse(getVar(this.sign, '{}'))\n    },\n    setUrl(url) {\n        return url.replace(/\\$\\{([^}]*)\\}/g, (_, id) => this.getClass(id).url)\n    }\n}\n$.exports = ClassTab\n"},{"col_type":"movie_3","name":"首页","path":"indexLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = parseInt(MY_URL.split('#')[1]),\n    RULE = MY_PARAMS.RULE,\n    fyAll = RULE.url.includes('fyAll'),\n    // 加载ClassTab组件\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\n    tabHeader = []\n\nif (RULE.class_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyclass',\n    class_name: RULE.class_name,\n    class_url: RULE.class_url\n})\nif (RULE.area_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyarea',\n    class_name: RULE.area_name,\n    class_url: RULE.area_url\n})\nif (RULE.year_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyyear',\n    class_name: RULE.year_name,\n    class_url: RULE.year_url\n})\nif (RULE.sort_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fysort',\n    class_name: RULE.sort_name,\n    class_url: RULE.sort_url\n})\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\nif (pageNum == 1) {\n    addListener('onClose', 'clearVar(\"myCollection-searchMode\")')\n    putVar('myCollection-searchMode', RULE.title)\n    tabHeader.load(myCollection_el)\n    if (RULE.search_url) myCollection_el.push({\n        title: \"搜索\",\n        desc: \"搜你想要的...\",\n        url: '\"hiker://page/singleSearch?keyword=\"+input+\"&page=fypage\"',\n        extra: { rule: getItem('myCollection'), RULE: RULE },\n        col_type: \"input\",\n    })\n}\n// 处理MY_URL和MY_RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.find_rule\nMY_RULE.detail_find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\n    url[0] = tabHeader.setUrl(url[0])\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) eval(MY_RULE.preRule)\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"详情","path":"detailLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = 1\n\n// 处理MY_URL和MY_RULE\nlet RULE = MY_PARAMS.RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = RULE.pageList\nMY_RULE.pages = RULE.pages\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = RULE.params\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet fypageFlag = MY_PARAMS.url.indexOf('fypage')\nif (fypageFlag >= 0) pageNum = parseInt(/^\\d+/.exec(MY_URL.slice(fypageFlag)))\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, pageNum),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 解析正文\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\neval(MY_RULE.preRule)\nsetLastChapterRule(MY_RULE.last_chapter_rule)\nMY_PARAMS = MY_RULE.params\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else { return v }\n            v.extra = { url: v.url, RULE: MY__RULE }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\n    findRule = findRule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (detailFindRule) {\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"工具集","path":"utility","rule":"$.exports = {\n    dataLoad: function(showAll) {\n        //检查间隔，默认一天\n        let interval = parseInt(readFile('updateInterval') || '1'),\n            time = parseInt(readFile('updateTime')) || 0,\n            now = new Date().getTime(),\n            data = []\n        if (time == 0 || interval > 0 && now - time > 1000 * 60 * 60 * 24 * interval) {\n            // 获取远程数据\n            let url = getItem('remoteUrl')\n            try {\n                let remoteData = fetch(url)\n                if (url.startsWith('hiker://page/'))\n                    remoteData = JSON.parse(remoteData).rule\n                data = JSON.parse(remoteData)\n            } catch (e) {}\n            if(data.length == 0) {\n                data = JSON.parse(readFile('dataCache') || '[]')\n                log('没有获取到更新数据')\n            } else {\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\n                saveFile('dataCache', JSON.stringify(data))\n                saveFile('updateTime', now.toString())\n                log('更新数据已写入本地')\n            }\n        } else {\n            data = JSON.parse(readFile('dataCache') || '[]')\n        }\n        // 写入自定义数据\n        let customData = JSON.parse(readFile('customData') || '[]'),\n            rewriteData = []\n        customData = customData.reduce((self, v) => {\n            let index = data.findIndex((vv) => v.title == vv.title)\n            if (index >= 0) {\n                self.push(v)\n                let rule = data.splice(index, 1)[0]\n                if(showAll || v.visible)\n                    rewriteData.push(Object.assign(rule, v))\n            }\n            return self\n        }, [])\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\n        saveFile('customData', JSON.stringify(customData))\n        return rewriteData.concat(data)\n    },\n    runCode: function(rule) {\n        try {\n            let [input, code] = rule.split('.js:')\n            return code ? eval(code) : rule\n        } catch (e) { return rule }\n    },\n    urlParse: function(url, headers, pageNum, func) {\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\n        if (func) func(url)\n        url[0] = url[0].replace(/fypage(?:@(-?\\d+)@)?(?:\\*(\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\n        url[0] = /^([\\s\\S]*?)(?:\\[firstPage=([\\s\\S]*?)\\])?$/.exec(url[0])\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\n        let options = { headers: headers, method: url[1] }\n        // post方法时转换参数\n        if (/^post$/i.test(options['method'])) {\n            let [oriUrl, body] = url[0].split('?')\n            url[0] = oriUrl.replace(/？？/g, '?')\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\n            options['body'] = body\n        }\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\n            let [key, value] = v.split('@')\n            options.headers[key] = runCode(value)\n        })\n        // 添加全局UA\n        if (!options.headers['User-Agent']) {\n            if (MY_RULE.ua == 'pc')\n                options.headers['User-Agent'] = PC_UA\n            else if (MY_RULE.ua == 'mobile')\n                options.headers['User-Agent'] = MOBILE_UA\n        }\n        return { MY_URL: url[0], MY_URL_Options: options }\n    }\n}\n"},{"col_type":"movie_1_vertical_pic","name":"单搜","path":"singleSearch","rule":"js:\nlet myCollection_el = [],\n    RULE = MY_PARAMS.RULE,\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page'))\n\n// 处理MY_URL和MY_RULE\nMY_TYPE = 'search'\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\nMY_RULE.find_rule = RULE.searchFind\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE),\n                subTitle = v.title\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\n            v.desc = v.content || ''\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\n            delete v.content\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 4) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 1) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\n                url: url,\n                desc: content,\n                img: img\n            }\n        if(!res.img) res.col_type = 'text_1'\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"icon_2_round","name":"设置","path":"Config","rule":"js:\naddListener('onClose', 'clearVar(\"myCollection-sortFlag\");refreshPage()')\nsetPageTitle('⚙ 轻合集设置 ⚙')\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet data = dataLoad(true),\n    el = [{\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\n        url: $().lazyRule(() => {\n            deleteFile('updateTime')\n            back(false)\n            return 'toast://已更新'\n        }),\n        img: 'hiker://images/icon1',\n        col_type: 'avatar'\n    }],\n    searchThd = readFile('searchThd') || '5',\n    updateInterval = readFile('updateInterval') || '1',\n    newWindow = readFile('newWindow'),\n    editMode = getVar('myCollection-editMode', '启用/禁用')\n\nel.push({\n    title: '  🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd) + '  ',\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\n        if (input == '列表搜索') {\n            saveFile('searchThd', '0')\n            refreshPage()\n        } else {\n            if (searchThd == 0) searchThd = 5\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\n                saveFile('searchThd', input)\n                refreshPage()\n            })\n        }\n    }, searchThd),\n    col_type: 'scroll_button'\n}, {\n    title: '  💡 更新频率: ' + (updateInterval < 1 ? '手动' : updateInterval + '天') + '  ',\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新').input(() => {\n        saveFile('updateInterval', input)\n        refreshPage()\n        return 'hiker://empty'\n    }),\n    col_type: 'scroll_button'\n}, {\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\n    url: $('#noLoading#').lazyRule((newWindow) => {\n        saveFile('newWindow', newWindow ? '' : '1')\n        refreshPage()\n        return 'hiker://empty'\n    }, newWindow),\n    col_type: 'scroll_button'\n}, {\n    title: '““””<font color=\"#666666\"><small>特别鸣谢，小程序提供者：\\n' +\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\n    url: 'hiker://empty',\n    col_type: 'text_center_1'\n})\n\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\n    el.push({\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\n            putVar('myCollection-editMode', v)\n            refreshPage(false)\n            return 'hiker://empty'\n        }, v),\n        col_type: 'scroll_button'\n    })\n})\nel.push({\n    title: '恢复出厂数据',\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\n        deleteFile('customData')\n        refreshPage(false)\n        return 'toast://已恢复出厂数据'\n    }),\n    col_type: 'scroll_button'\n})\n\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\n    let d = { title: v.title, img: data[i].icon }\n    switch (editMode) {\n        case '启用/禁用':\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\n            d.url = $('#noLoading#').lazyRule((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                rules[index].visible = !rules[index].visible\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '重新排序':\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\n            if (sortFlag == -1)\n                d.url = $('#noLoading#').lazyRule((i) => {\n                    putVar('myCollection-sortFlag', i.toString())\n                    refreshPage(false)\n                    return 'toast://选择要移动到的位置'\n                }, i)\n            else\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\n                    let rules = JSON.parse(readFile('customData') || '[]')\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\n                    saveFile('customData', JSON.stringify(rules))\n                    putVar('myCollection-sortFlag', '-1')\n                    refreshPage(false)\n                    return 'hiker://empty'\n                }, sortFlag, i)\n            break\n        case '更改图标':\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                if (input)\n                    rules[index].icon = input\n                else\n                    delete rules[index].icon\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '导入海阔':\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\n            break\n    }\n    el.push(d)\n})\nsetResult(el)\n"}],"title":"轻合集.蓝莓♔","author":"轻合集生成器","version":78,"url":"hiker://empty","col_type":"icon_round_4","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet el = [{\n    title: ' ' + getItem('myCollection').bold() + ' &nbsp &nbsp ' + '⚙ 轻合集设置 ⚙'.small(),\n    url: 'hiker://page/Config?rule=' + getItem('myCollection'),\n    img: MY_RULE.icon || 'hiker://images/icon1',\n    col_type: 'avatar'\n}, {\n    url: '\"hiker://search?s=\"+input+\"&rule=' + getItem('myCollection') + '\"',\n    desc: '搜你想要的...',\n    title: '搜索',\n    col_type: 'input'\n}]\n\nlet newWindow = readFile('newWindow')\ndataLoad().forEach((v) => {\n    let fypage = /^[^;]*?fypage.*?(;.*)?$/.test(v.url) ? 'fypage' : '1',\n        d = {\n            title: v.title,\n            url: 'hiker://page/indexLoad?#' + fypage + '#noHistory#',\n            img: v.icon||'https://cf-ipfs.com/ipfs/QmXxgDVAZLWhFxikrAFVPRZQuJ2uFae7syXhFubPwMwUiU',\n            extra: { RULE: v }\n        }\n    if(newWindow) Object.assign(d.extra, { newWindow: true, windowId: getItem('myCollection') + d.title })\n    el.push(d)\n})\nsetResult(el)","searchFind":"js:\nvar { dataLoad, runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet myCollection_el = [],\n    searchThd = parseInt(readFile('searchThd') || '5'),\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page')),\n    RULES = dataLoad().filter((v) => v.search_url)\nif (searchThd == 0) {\n    myCollection_el.push({\n        title: ('⬇ 选择一个小程序查看' + keyword + '的搜索结果 ⬇').small(),\n        url: 'hiker://empty'\n    })\n    RULES.forEach((v) => myCollection_el.push({\n        title: v.title,\n        url: \"hiker://page/singleSearch?keyword=\" + keyword + \"&page=fypage\",\n        extra: { rule: getItem('myCollection'), RULE: v },\n    }))\n} else if (searchThd > 0) {\n    let searchCount = pageNum * searchThd,\n        searchTag = { title: '⬆ 已搜索了' + searchCount + '个小程序 ⬆\\n⬇ 下面还有' + RULES.slice(searchCount).length + '个小程序 ⬇' }\n    RULES = RULES.slice(searchCount - searchThd, searchCount)\n    if (!RULES.length) setResult([])\n\n    let URLS = RULES.map((RULE) => {\n        MY_RULE.ua = RULE.ua\n        let urlReq = urlParse(RULE.search_url, {}, 1, (url) => {\n            url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n        })\n        return { url: urlReq.MY_URL, options: urlReq.MY_URL_Options }\n    })\n    batchFetch(URLS).forEach((indexHtml, index) => {\n        // 处理MY_URL和MY_RULE\n        let RULE = RULES[index]\n        MY_URL = URLS[index].url\n        MY_RULE.ua = RULE.ua\n        MY_RULE.col_type = RULE.col_type\n        MY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\n        MY_RULE.find_rule = RULE.searchFind\n        MY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\n        MY_RULE.preRule = RULE.preRule\n        MY_RULE.pageList = JSON.parse(RULE.pages || '[]')\n        MY_RULE.pages = JSON.stringify(MY_RULE.pageList)\n        MY_RULE.last_chapter_rule = RULE.last_chapter_rule\n        MY_RULE.params = {}\n        MY_RULE.url = MY_URL\n        MY_RULE.urlHeaders = URLS[index].options.headers\n\n        // 正文解析\n        eval(MY_RULE.preRule)\n        if (MY_RULE.find_rule.startsWith('js:')) {\n            function getUrl() {\n                return MY_URL\n            }\n\n            function getResCode() {\n                return indexHtml\n            }\n\n            setResult = function(el) {\n                if (Array.isArray(el.data)) el = el.data\n                Array.prototype.push.apply(myCollection_el, el.map((v) => {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    v.desc = RULE.title + ' ▪ ' + (v.desc || '')\n\n                    if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                        return v\n                    } else if (v.url.includes('@rule=')) {\n                        let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                        v.url = url\n                        MY__RULE.detail_find_rule = rule\n                        MY__RULE.detail_col_type = MY_RULE.col_type\n                    } else if (v.url.startsWith('hiker://page/')) {\n                        if (v.url.includes('rule=') || (v.extra || {}).rule)\n                            return v\n                        let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                            subPage = MY_RULE.pageList.find((v) => v.path == path),\n                            subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                        v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                        MY__RULE.detail_find_rule = subPage.rule\n                        MY__RULE.detail_col_type = subPage.col_type\n                        MY__RULE.params = v.extra || {}\n                    } else if (v.url.includes('@lazyRule=')) {\n                        v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                        return v\n                    } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n                    v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n                    v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                    if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n\n                    return v\n                }))\n            }\n            setHomeResult = setResult\n            setSearchResult = setResult\n\n            try {\n                eval(MY_RULE.find_rule.slice(3))\n            } catch (e) {}\n        } else {\n            let findRule = MY_RULE.find_rule.split(';')\n            parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n                let [title, url, desc, content, img] = findRule.map((v, i) => {\n                        try {\n                            if (v == '*') return ''\n                            else v = (i == 1 || i == 4) ?\n                                parseDom(data, v) :\n                                parseDomForHtml(data, v)\n                            if (i != 1) v = runCode(v)\n                            return v\n                        } catch (e) { return '' }\n                    }),\n                    res = {\n                        title: title,\n                        url: url,\n                        desc: RULE.title + ' ▪ ' + desc,\n                        content: content,\n                        img: img\n                    }\n                if (res.url) {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    if (res.url.includes('@lazyRule=')) {\n                        res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY__RULE.pages, pageList: MY__RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                    } else if (MY_RULE.detail_find_rule) {\n                        res.extra = { url: url, RULE: MY__RULE, pageTitle: title }\n                        res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                        if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n                    }\n                }\n                myCollection_el.push(res)\n            })\n        }\n    })\n    myCollection_el.push(searchTag)\n}\nmethod_setResult.invoke(javaContext, myCollection_el, CALLBACK_KEY, MY_RULE, MY_TYPE)\n","search_url":"hiker://empty?keyword=**&page=fypage","group":"①轻合集","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"setItem('myCollection', MY_RULE.title)\nsetItem('remoteUrl', 'http://hiker.nokia.press/hikerule/dev/json_list?name=2579949378')\n// \n// 包裹错误","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"function ClassTab(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = getVar('fold_' + this.sign, '')\\n        if (this.fold) el.push({\\n            title: '““””<span style=\\\"color:#049eff\\\">' + (folded ? '▶' : '▼'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n                selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: (selected == now ? '““””<span style=\\\"color:' + this.color + '\\\"><b>' : '') + name,\\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        putVar(sign, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        if (defaultClass) defaultClass = JSON.stringify({\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        })\\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    getLastClick() {\\n        return JSON.parse(getVar(this.sign, '{}'))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n$.exports = ClassTab\\n\"},{\"col_type\":\"movie_3\",\"name\":\"首页\",\"path\":\"indexLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = parseInt(MY_URL.split('#')[1]),\\n    RULE = MY_PARAMS.RULE,\\n    fyAll = RULE.url.includes('fyAll'),\\n    // 加载ClassTab组件\\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\\n    tabHeader = []\\n\\nif (RULE.class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: RULE.class_name,\\n    class_url: RULE.class_url\\n})\\nif (RULE.area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: RULE.area_name,\\n    class_url: RULE.area_url\\n})\\nif (RULE.year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: RULE.year_name,\\n    class_url: RULE.year_url\\n})\\nif (RULE.sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: RULE.sort_name,\\n    class_url: RULE.sort_url\\n})\\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\\nif (pageNum == 1) {\\n    addListener('onClose', 'clearVar(\\\"myCollection-searchMode\\\")')\\n    putVar('myCollection-searchMode', RULE.title)\\n    tabHeader.load(myCollection_el)\\n    if (RULE.search_url) myCollection_el.push({\\n        title: \\\"搜索\\\",\\n        desc: \\\"搜你想要的...\\\",\\n        url: '\\\"hiker://page/singleSearch?keyword=\\\"+input+\\\"&page=fypage\\\"',\\n        extra: { rule: getItem('myCollection'), RULE: RULE },\\n        col_type: \\\"input\\\",\\n    })\\n}\\n// 处理MY_URL和MY_RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.find_rule\\nMY_RULE.detail_find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\\n    url[0] = tabHeader.setUrl(url[0])\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) eval(MY_RULE.preRule)\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"详情\",\"path\":\"detailLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = 1\\n\\n// 处理MY_URL和MY_RULE\\nlet RULE = MY_PARAMS.RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = RULE.pageList\\nMY_RULE.pages = RULE.pages\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = RULE.params\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet fypageFlag = MY_PARAMS.url.indexOf('fypage')\\nif (fypageFlag >= 0) pageNum = parseInt(/^\\\\d+/.exec(MY_URL.slice(fypageFlag)))\\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, pageNum),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 解析正文\\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\\neval(MY_RULE.preRule)\\nsetLastChapterRule(MY_RULE.last_chapter_rule)\\nMY_PARAMS = MY_RULE.params\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\\n    findRule = findRule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (detailFindRule) {\\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"工具集\",\"path\":\"utility\",\"rule\":\"$.exports = {\\n    dataLoad: function(showAll) {\\n        //检查间隔，默认一天\\n        let interval = parseInt(readFile('updateInterval') || '1'),\\n            time = parseInt(readFile('updateTime')) || 0,\\n            now = new Date().getTime(),\\n            data = []\\n        if (time == 0 || interval > 0 && now - time > 1000 * 60 * 60 * 24 * interval) {\\n            // 获取远程数据\\n            let url = getItem('remoteUrl')\\n            try {\\n                let remoteData = fetch(url)\\n                if (url.startsWith('hiker://page/'))\\n                    remoteData = JSON.parse(remoteData).rule\\n                data = JSON.parse(remoteData)\\n            } catch (e) {}\\n            if(data.length == 0) {\\n                data = JSON.parse(readFile('dataCache') || '[]')\\n                log('没有获取到更新数据')\\n            } else {\\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\\n                saveFile('dataCache', JSON.stringify(data))\\n                saveFile('updateTime', now.toString())\\n                log('更新数据已写入本地')\\n            }\\n        } else {\\n            data = JSON.parse(readFile('dataCache') || '[]')\\n        }\\n        // 写入自定义数据\\n        let customData = JSON.parse(readFile('customData') || '[]'),\\n            rewriteData = []\\n        customData = customData.reduce((self, v) => {\\n            let index = data.findIndex((vv) => v.title == vv.title)\\n            if (index >= 0) {\\n                self.push(v)\\n                let rule = data.splice(index, 1)[0]\\n                if(showAll || v.visible)\\n                    rewriteData.push(Object.assign(rule, v))\\n            }\\n            return self\\n        }, [])\\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\\n        saveFile('customData', JSON.stringify(customData))\\n        return rewriteData.concat(data)\\n    },\\n    runCode: function(rule) {\\n        try {\\n            let [input, code] = rule.split('.js:')\\n            return code ? eval(code) : rule\\n        } catch (e) { return rule }\\n    },\\n    urlParse: function(url, headers, pageNum, func) {\\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\\n        if (func) func(url)\\n        url[0] = url[0].replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n        url[0] = /^([\\\\s\\\\S]*?)(?:\\\\[firstPage=([\\\\s\\\\S]*?)\\\\])?$/.exec(url[0])\\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\\n        let options = { headers: headers, method: url[1] }\\n        // post方法时转换参数\\n        if (/^post$/i.test(options['method'])) {\\n            let [oriUrl, body] = url[0].split('?')\\n            url[0] = oriUrl.replace(/？？/g, '?')\\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\\n            options['body'] = body\\n        }\\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\\n            let [key, value] = v.split('@')\\n            options.headers[key] = runCode(value)\\n        })\\n        // 添加全局UA\\n        if (!options.headers['User-Agent']) {\\n            if (MY_RULE.ua == 'pc')\\n                options.headers['User-Agent'] = PC_UA\\n            else if (MY_RULE.ua == 'mobile')\\n                options.headers['User-Agent'] = MOBILE_UA\\n        }\\n        return { MY_URL: url[0], MY_URL_Options: options }\\n    }\\n}\\n\"},{\"col_type\":\"movie_1_vertical_pic\",\"name\":\"单搜\",\"path\":\"singleSearch\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    RULE = MY_PARAMS.RULE,\\n    keyword = getParam('keyword'),\\n    pageNum = parseInt(getParam('page'))\\n\\n// 处理MY_URL和MY_RULE\\nMY_TYPE = 'search'\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\\nMY_RULE.find_rule = RULE.searchFind\\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\\\*\\\\*/g, encodeStr(keyword, url[2]))\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE),\\n                subTitle = v.title\\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\\n            v.desc = v.content || ''\\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\\n            delete v.content\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 4) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 1) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\\n                url: url,\\n                desc: content,\\n                img: img\\n            }\\n        if(!res.img) res.col_type = 'text_1'\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"icon_2_round\",\"name\":\"设置\",\"path\":\"Config\",\"rule\":\"js:\\naddListener('onClose', 'clearVar(\\\"myCollection-sortFlag\\\");refreshPage()')\\nsetPageTitle('⚙ 轻合集设置 ⚙')\\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet data = dataLoad(true),\\n    el = [{\\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\\n        url: $().lazyRule(() => {\\n            deleteFile('updateTime')\\n            back(false)\\n            return 'toast://已更新'\\n        }),\\n        img: 'hiker://images/icon1',\\n        col_type: 'avatar'\\n    }],\\n    searchThd = readFile('searchThd') || '5',\\n    updateInterval = readFile('updateInterval') || '1',\\n    newWindow = readFile('newWindow'),\\n    editMode = getVar('myCollection-editMode', '启用/禁用')\\n\\nel.push({\\n    title: '  🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd) + '  ',\\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\\n        if (input == '列表搜索') {\\n            saveFile('searchThd', '0')\\n            refreshPage()\\n        } else {\\n            if (searchThd == 0) searchThd = 5\\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\\n                saveFile('searchThd', input)\\n                refreshPage()\\n            })\\n        }\\n    }, searchThd),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💡 更新频率: ' + (updateInterval < 1 ? '手动' : updateInterval + '天') + '  ',\\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新').input(() => {\\n        saveFile('updateInterval', input)\\n        refreshPage()\\n        return 'hiker://empty'\\n    }),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((newWindow) => {\\n        saveFile('newWindow', newWindow ? '' : '1')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, newWindow),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '““””<font color=\\\"#666666\\\"><small>特别鸣谢，小程序提供者：\\\\n' +\\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1'\\n})\\n\\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\\n    el.push({\\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\\n            putVar('myCollection-editMode', v)\\n            refreshPage(false)\\n            return 'hiker://empty'\\n        }, v),\\n        col_type: 'scroll_button'\\n    })\\n})\\nel.push({\\n    title: '恢复出厂数据',\\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\\n        deleteFile('customData')\\n        refreshPage(false)\\n        return 'toast://已恢复出厂数据'\\n    }),\\n    col_type: 'scroll_button'\\n})\\n\\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\\n    let d = { title: v.title, img: data[i].icon }\\n    switch (editMode) {\\n        case '启用/禁用':\\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\\n            d.url = $('#noLoading#').lazyRule((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                rules[index].visible = !rules[index].visible\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '重新排序':\\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\\n            if (sortFlag == -1)\\n                d.url = $('#noLoading#').lazyRule((i) => {\\n                    putVar('myCollection-sortFlag', i.toString())\\n                    refreshPage(false)\\n                    return 'toast://选择要移动到的位置'\\n                }, i)\\n            else\\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\\n                    let rules = JSON.parse(readFile('customData') || '[]')\\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\\n                    saveFile('customData', JSON.stringify(rules))\\n                    putVar('myCollection-sortFlag', '-1')\\n                    refreshPage(false)\\n                    return 'hiker://empty'\\n                }, sortFlag, i)\\n            break\\n        case '更改图标':\\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                if (input)\\n                    rules[index].icon = input\\n                else\\n                    delete rules[index].icon\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '导入海阔':\\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\\n            break\\n    }\\n    el.push(d)\\n})\\nsetResult(el)\\n\"}]","icon":"https://z3.ax1x.com/2021/09/27/42IJ56.jpg"},{"last_chapter_rule":"","pageList":[{"col_type":"text_1","name":"ClassTab","path":"ClassTab","rule":"function ClassTab(classArray, params) {\n    Object.assign(this, params)\n    this.arr = classArray.map(v => this.init(v))\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\n    this.color = this.color || '#12b668'\n    this.boundary = this.boundary || 'blank_block'\n}\nClassTab.prototype = {\n    constructor: ClassTab,\n    load(el) {\n        let folded = getVar('fold_' + this.sign, '')\n        if (this.fold) el.push({\n            title: '““””<span style=\"color:#049eff\">' + (folded ? '▶' : '▼'),\n            url: $('#noLoading#').lazyRule((sign, folded) => {\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\n                refreshPage(false)\n                return 'hiker://empty'\n            }, this.sign, folded),\n            col_type: 'scroll_button'\n        })\n        let arr = folded ? [this.arr[0]] : this.arr\n        arr.forEach((v) => {\n            let { id, class_name, class_url } = v,\n                selected = JSON.stringify(this.getClass(id))\n            class_name.forEach((name, i) => {\n                let url = class_url[i],\n                    now = JSON.stringify({ name: name, url: url })\n                el.push({\n                    title: (selected == now ? '““””<span style=\"color:' + this.color + '\"><b>' : '') + name,\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\n                        putVar(sign + id, now)\n                        putVar(sign, now)\n                        refreshPage(false)\n                        return 'hiker://empty'\n                    }, this.sign, id, now),\n                    col_type: 'scroll_button'\n                })\n            })\n            el.push({ col_type: this.boundary })\n        })\n    },\n    init(classObject) {\n        if (typeof classObject.class_name == 'string')\n            classObject.class_name = classObject.class_name.split('&')\n        if (typeof classObject.class_url == 'string')\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\n        return classObject\n    },\n    push(classObject) {\n        this.arr.push(this.init(classObject))\n    },\n    getClass(id) {\n        let defaultClass = this.arr.find(item => item.id == id)\n        if (defaultClass) defaultClass = JSON.stringify({\n            name: defaultClass.class_name[0],\n            url: defaultClass.class_url[0]\n        })\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\n        return JSON.parse(getVar(this.sign + id, defaultClass))\n    },\n    getLastClick() {\n        return JSON.parse(getVar(this.sign, '{}'))\n    },\n    setUrl(url) {\n        return url.replace(/\\$\\{([^}]*)\\}/g, (_, id) => this.getClass(id).url)\n    }\n}\n$.exports = ClassTab\n"},{"col_type":"movie_3","name":"首页","path":"indexLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = parseInt(MY_URL.split('#')[1]),\n    RULE = MY_PARAMS.RULE,\n    fyAll = RULE.url.includes('fyAll'),\n    // 加载ClassTab组件\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\n    tabHeader = []\n\nif (RULE.class_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyclass',\n    class_name: RULE.class_name,\n    class_url: RULE.class_url\n})\nif (RULE.area_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyarea',\n    class_name: RULE.area_name,\n    class_url: RULE.area_url\n})\nif (RULE.year_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyyear',\n    class_name: RULE.year_name,\n    class_url: RULE.year_url\n})\nif (RULE.sort_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fysort',\n    class_name: RULE.sort_name,\n    class_url: RULE.sort_url\n})\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\nif (pageNum == 1) {\n    addListener('onClose', 'clearVar(\"myCollection-searchMode\")')\n    putVar('myCollection-searchMode', RULE.title)\n    tabHeader.load(myCollection_el)\n    if (RULE.search_url) myCollection_el.push({\n        title: \"搜索\",\n        desc: \"搜你想要的...\",\n        url: '\"hiker://page/singleSearch?keyword=\"+input+\"&page=fypage\"',\n        extra: { rule: getItem('myCollection'), RULE: RULE },\n        col_type: \"input\",\n    })\n}\n// 处理MY_URL和MY_RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.find_rule\nMY_RULE.detail_find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\n    url[0] = tabHeader.setUrl(url[0])\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) eval(MY_RULE.preRule)\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"详情","path":"detailLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = 1\n\n// 处理MY_URL和MY_RULE\nlet RULE = MY_PARAMS.RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = RULE.pageList\nMY_RULE.pages = RULE.pages\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = RULE.params\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet fypageFlag = MY_PARAMS.url.indexOf('fypage')\nif (fypageFlag >= 0) pageNum = parseInt(/^\\d+/.exec(MY_URL.slice(fypageFlag)))\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, pageNum),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 解析正文\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\neval(MY_RULE.preRule)\nsetLastChapterRule(MY_RULE.last_chapter_rule)\nMY_PARAMS = MY_RULE.params\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else { return v }\n            v.extra = { url: v.url, RULE: MY__RULE }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\n    findRule = findRule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (detailFindRule) {\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"工具集","path":"utility","rule":"$.exports = {\n    dataLoad: function(showAll) {\n        //检查间隔，默认一天\n        let interval = parseInt(readFile('updateInterval') || '1'),\n            time = parseInt(readFile('updateTime')) || 0,\n            now = new Date().getTime(),\n            data = []\n        if (time == 0 || interval > 0 && now - time > 1000 * 60 * 60 * 24 * interval) {\n            // 获取远程数据\n            let url = getItem('remoteUrl')\n            try {\n                let remoteData = fetch(url)\n                if (url.startsWith('hiker://page/'))\n                    remoteData = JSON.parse(remoteData).rule\n                data = JSON.parse(remoteData)\n            } catch (e) {}\n            if(data.length == 0) {\n                data = JSON.parse(readFile('dataCache') || '[]')\n                log('没有获取到更新数据')\n            } else {\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\n                saveFile('dataCache', JSON.stringify(data))\n                saveFile('updateTime', now.toString())\n                log('更新数据已写入本地')\n            }\n        } else {\n            data = JSON.parse(readFile('dataCache') || '[]')\n        }\n        // 写入自定义数据\n        let customData = JSON.parse(readFile('customData') || '[]'),\n            rewriteData = []\n        customData = customData.reduce((self, v) => {\n            let index = data.findIndex((vv) => v.title == vv.title)\n            if (index >= 0) {\n                self.push(v)\n                let rule = data.splice(index, 1)[0]\n                if(showAll || v.visible)\n                    rewriteData.push(Object.assign(rule, v))\n            }\n            return self\n        }, [])\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\n        saveFile('customData', JSON.stringify(customData))\n        return rewriteData.concat(data)\n    },\n    runCode: function(rule) {\n        try {\n            let [input, code] = rule.split('.js:')\n            return code ? eval(code) : rule\n        } catch (e) { return rule }\n    },\n    urlParse: function(url, headers, pageNum, func) {\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\n        if (func) func(url)\n        url[0] = url[0].replace(/fypage(?:@(-?\\d+)@)?(?:\\*(\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\n        url[0] = /^([\\s\\S]*?)(?:\\[firstPage=([\\s\\S]*?)\\])?$/.exec(url[0])\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\n        let options = { headers: headers, method: url[1] }\n        // post方法时转换参数\n        if (/^post$/i.test(options['method'])) {\n            let [oriUrl, body] = url[0].split('?')\n            url[0] = oriUrl.replace(/？？/g, '?')\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\n            options['body'] = body\n        }\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\n            let [key, value] = v.split('@')\n            options.headers[key] = runCode(value)\n        })\n        // 添加全局UA\n        if (!options.headers['User-Agent']) {\n            if (MY_RULE.ua == 'pc')\n                options.headers['User-Agent'] = PC_UA\n            else if (MY_RULE.ua == 'mobile')\n                options.headers['User-Agent'] = MOBILE_UA\n        }\n        return { MY_URL: url[0], MY_URL_Options: options }\n    }\n}\n"},{"col_type":"movie_1_vertical_pic","name":"单搜","path":"singleSearch","rule":"js:\nlet myCollection_el = [],\n    RULE = MY_PARAMS.RULE,\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page'))\n\n// 处理MY_URL和MY_RULE\nMY_TYPE = 'search'\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\nMY_RULE.find_rule = RULE.searchFind\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE),\n                subTitle = v.title\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\n            v.desc = v.content || ''\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\n            delete v.content\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 4) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 1) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\n                url: url,\n                desc: content,\n                img: img\n            }\n        if(!res.img) res.col_type = 'text_1'\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"icon_2_round","name":"设置","path":"Config","rule":"js:\naddListener('onClose', 'clearVar(\"myCollection-sortFlag\");refreshPage()')\nsetPageTitle('⚙ 轻合集设置 ⚙')\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet data = dataLoad(true),\n    el = [{\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\n        url: $().lazyRule(() => {\n            deleteFile('updateTime')\n            back(false)\n            return 'toast://已更新'\n        }),\n        img: 'hiker://images/icon1',\n        col_type: 'avatar'\n    }],\n    searchThd = readFile('searchThd') || '5',\n    updateInterval = readFile('updateInterval') || '1',\n    newWindow = readFile('newWindow'),\n    editMode = getVar('myCollection-editMode', '启用/禁用')\n\nel.push({\n    title: '  🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd) + '  ',\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\n        if (input == '列表搜索') {\n            saveFile('searchThd', '0')\n            refreshPage()\n        } else {\n            if (searchThd == 0) searchThd = 5\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\n                saveFile('searchThd', input)\n                refreshPage()\n            })\n        }\n    }, searchThd),\n    col_type: 'scroll_button'\n}, {\n    title: '  💡 更新频率: ' + (updateInterval < 1 ? '手动' : updateInterval + '天') + '  ',\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新').input(() => {\n        saveFile('updateInterval', input)\n        refreshPage()\n        return 'hiker://empty'\n    }),\n    col_type: 'scroll_button'\n}, {\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\n    url: $('#noLoading#').lazyRule((newWindow) => {\n        saveFile('newWindow', newWindow ? '' : '1')\n        refreshPage()\n        return 'hiker://empty'\n    }, newWindow),\n    col_type: 'scroll_button'\n}, {\n    title: '““””<font color=\"#666666\"><small>特别鸣谢，小程序提供者：\\n' +\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\n    url: 'hiker://empty',\n    col_type: 'text_center_1'\n})\n\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\n    el.push({\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\n            putVar('myCollection-editMode', v)\n            refreshPage(false)\n            return 'hiker://empty'\n        }, v),\n        col_type: 'scroll_button'\n    })\n})\nel.push({\n    title: '恢复出厂数据',\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\n        deleteFile('customData')\n        refreshPage(false)\n        return 'toast://已恢复出厂数据'\n    }),\n    col_type: 'scroll_button'\n})\n\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\n    let d = { title: v.title, img: data[i].icon }\n    switch (editMode) {\n        case '启用/禁用':\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\n            d.url = $('#noLoading#').lazyRule((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                rules[index].visible = !rules[index].visible\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '重新排序':\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\n            if (sortFlag == -1)\n                d.url = $('#noLoading#').lazyRule((i) => {\n                    putVar('myCollection-sortFlag', i.toString())\n                    refreshPage(false)\n                    return 'toast://选择要移动到的位置'\n                }, i)\n            else\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\n                    let rules = JSON.parse(readFile('customData') || '[]')\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\n                    saveFile('customData', JSON.stringify(rules))\n                    putVar('myCollection-sortFlag', '-1')\n                    refreshPage(false)\n                    return 'hiker://empty'\n                }, sortFlag, i)\n            break\n        case '更改图标':\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                if (input)\n                    rules[index].icon = input\n                else\n                    delete rules[index].icon\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '导入海阔':\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\n            break\n    }\n    el.push(d)\n})\nsetResult(el)\n"}],"title":"轻合集.藍凋","author":"轻合集生成器","version":78,"url":"hiker://empty","col_type":"icon_round_small_4","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet el = [{\n    title: ' ' + getItem('myCollection').bold() + ' &nbsp &nbsp ' + '⚙ 轻合集设置 ⚙'.small(),\n    url: 'hiker://page/Config?rule=' + getItem('myCollection'),\n    img: MY_RULE.icon || 'hiker://images/icon1',\n    col_type: 'avatar'\n}, {\n    url: '\"hiker://search?s=\"+input+\"&rule=' + getItem('myCollection') + '\"',\n    desc: '搜你想要的...',\n    title: '搜索',\n    col_type: 'input'\n}]\n\nlet newWindow = readFile('newWindow')\ndataLoad().forEach((v) => {\n    let fypage = /^[^;]*?fypage.*?(;.*)?$/.test(v.url) ? 'fypage' : '1',\n        d = {\n            title: v.title,\n            url: 'hiker://page/indexLoad?#' + fypage + '#noHistory#',\n            img: v.icon||'https://cf-ipfs.com/ipfs/QmXxgDVAZLWhFxikrAFVPRZQuJ2uFae7syXhFubPwMwUiU',\n            extra: { RULE: v }\n        }\n    if(newWindow) Object.assign(d.extra, { newWindow: true, windowId: getItem('myCollection') + d.title })\n    el.push(d)\n})\nsetResult(el)","searchFind":"js:\nvar { dataLoad, runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet myCollection_el = [],\n    searchThd = parseInt(readFile('searchThd') || '5'),\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page')),\n    RULES = dataLoad().filter((v) => v.search_url)\nif (searchThd == 0) {\n    myCollection_el.push({\n        title: ('⬇ 选择一个小程序查看' + keyword + '的搜索结果 ⬇').small(),\n        url: 'hiker://empty'\n    })\n    RULES.forEach((v) => myCollection_el.push({\n        title: v.title,\n        url: \"hiker://page/singleSearch?keyword=\" + keyword + \"&page=fypage\",\n        extra: { rule: getItem('myCollection'), RULE: v },\n    }))\n} else if (searchThd > 0) {\n    let searchCount = pageNum * searchThd,\n        searchTag = { title: '⬆ 已搜索了' + searchCount + '个小程序 ⬆\\n⬇ 下面还有' + RULES.slice(searchCount).length + '个小程序 ⬇' }\n    RULES = RULES.slice(searchCount - searchThd, searchCount)\n    if (!RULES.length) setResult([])\n\n    let URLS = RULES.map((RULE) => {\n        MY_RULE.ua = RULE.ua\n        let urlReq = urlParse(RULE.search_url, {}, 1, (url) => {\n            url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n        })\n        return { url: urlReq.MY_URL, options: urlReq.MY_URL_Options }\n    })\n    batchFetch(URLS).forEach((indexHtml, index) => {\n        // 处理MY_URL和MY_RULE\n        let RULE = RULES[index]\n        MY_URL = URLS[index].url\n        MY_RULE.ua = RULE.ua\n        MY_RULE.col_type = RULE.col_type\n        MY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\n        MY_RULE.find_rule = RULE.searchFind\n        MY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\n        MY_RULE.preRule = RULE.preRule\n        MY_RULE.pageList = JSON.parse(RULE.pages || '[]')\n        MY_RULE.pages = JSON.stringify(MY_RULE.pageList)\n        MY_RULE.last_chapter_rule = RULE.last_chapter_rule\n        MY_RULE.params = {}\n        MY_RULE.url = MY_URL\n        MY_RULE.urlHeaders = URLS[index].options.headers\n\n        // 正文解析\n        eval(MY_RULE.preRule)\n        if (MY_RULE.find_rule.startsWith('js:')) {\n            function getUrl() {\n                return MY_URL\n            }\n\n            function getResCode() {\n                return indexHtml\n            }\n\n            setResult = function(el) {\n                if (Array.isArray(el.data)) el = el.data\n                Array.prototype.push.apply(myCollection_el, el.map((v) => {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    v.desc = RULE.title + ' ▪ ' + (v.desc || '')\n\n                    if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                        return v\n                    } else if (v.url.includes('@rule=')) {\n                        let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                        v.url = url\n                        MY__RULE.detail_find_rule = rule\n                        MY__RULE.detail_col_type = MY_RULE.col_type\n                    } else if (v.url.startsWith('hiker://page/')) {\n                        if (v.url.includes('rule=') || (v.extra || {}).rule)\n                            return v\n                        let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                            subPage = MY_RULE.pageList.find((v) => v.path == path),\n                            subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                        v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                        MY__RULE.detail_find_rule = subPage.rule\n                        MY__RULE.detail_col_type = subPage.col_type\n                        MY__RULE.params = v.extra || {}\n                    } else if (v.url.includes('@lazyRule=')) {\n                        v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                        return v\n                    } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n                    v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n                    v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                    if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n\n                    return v\n                }))\n            }\n            setHomeResult = setResult\n            setSearchResult = setResult\n\n            try {\n                eval(MY_RULE.find_rule.slice(3))\n            } catch (e) {}\n        } else {\n            let findRule = MY_RULE.find_rule.split(';')\n            parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n                let [title, url, desc, content, img] = findRule.map((v, i) => {\n                        try {\n                            if (v == '*') return ''\n                            else v = (i == 1 || i == 4) ?\n                                parseDom(data, v) :\n                                parseDomForHtml(data, v)\n                            if (i != 1) v = runCode(v)\n                            return v\n                        } catch (e) { return '' }\n                    }),\n                    res = {\n                        title: title,\n                        url: url,\n                        desc: RULE.title + ' ▪ ' + desc,\n                        content: content,\n                        img: img\n                    }\n                if (res.url) {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    if (res.url.includes('@lazyRule=')) {\n                        res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY__RULE.pages, pageList: MY__RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                    } else if (MY_RULE.detail_find_rule) {\n                        res.extra = { url: url, RULE: MY__RULE, pageTitle: title }\n                        res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                        if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n                    }\n                }\n                myCollection_el.push(res)\n            })\n        }\n    })\n    myCollection_el.push(searchTag)\n}\nmethod_setResult.invoke(javaContext, myCollection_el, CALLBACK_KEY, MY_RULE, MY_TYPE)\n","search_url":"hiker://empty?keyword=**&page=fypage","titleColor":"#ff13b66a","group":"①轻合集","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"setItem('myCollection', MY_RULE.title)\nsetItem('remoteUrl', 'http://hiker.nokia.press/hikerule/dev/json_list?name=1286098114')\n// \n// 包裹错误","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"function ClassTab(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = getVar('fold_' + this.sign, '')\\n        if (this.fold) el.push({\\n            title: '““””<span style=\\\"color:#049eff\\\">' + (folded ? '▶' : '▼'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n                selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: (selected == now ? '““””<span style=\\\"color:' + this.color + '\\\"><b>' : '') + name,\\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        putVar(sign, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        if (defaultClass) defaultClass = JSON.stringify({\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        })\\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    getLastClick() {\\n        return JSON.parse(getVar(this.sign, '{}'))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n$.exports = ClassTab\\n\"},{\"col_type\":\"movie_3\",\"name\":\"首页\",\"path\":\"indexLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = parseInt(MY_URL.split('#')[1]),\\n    RULE = MY_PARAMS.RULE,\\n    fyAll = RULE.url.includes('fyAll'),\\n    // 加载ClassTab组件\\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\\n    tabHeader = []\\n\\nif (RULE.class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: RULE.class_name,\\n    class_url: RULE.class_url\\n})\\nif (RULE.area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: RULE.area_name,\\n    class_url: RULE.area_url\\n})\\nif (RULE.year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: RULE.year_name,\\n    class_url: RULE.year_url\\n})\\nif (RULE.sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: RULE.sort_name,\\n    class_url: RULE.sort_url\\n})\\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\\nif (pageNum == 1) {\\n    addListener('onClose', 'clearVar(\\\"myCollection-searchMode\\\")')\\n    putVar('myCollection-searchMode', RULE.title)\\n    tabHeader.load(myCollection_el)\\n    if (RULE.search_url) myCollection_el.push({\\n        title: \\\"搜索\\\",\\n        desc: \\\"搜你想要的...\\\",\\n        url: '\\\"hiker://page/singleSearch?keyword=\\\"+input+\\\"&page=fypage\\\"',\\n        extra: { rule: getItem('myCollection'), RULE: RULE },\\n        col_type: \\\"input\\\",\\n    })\\n}\\n// 处理MY_URL和MY_RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.find_rule\\nMY_RULE.detail_find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\\n    url[0] = tabHeader.setUrl(url[0])\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) eval(MY_RULE.preRule)\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"详情\",\"path\":\"detailLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = 1\\n\\n// 处理MY_URL和MY_RULE\\nlet RULE = MY_PARAMS.RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = RULE.pageList\\nMY_RULE.pages = RULE.pages\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = RULE.params\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet fypageFlag = MY_PARAMS.url.indexOf('fypage')\\nif (fypageFlag >= 0) pageNum = parseInt(/^\\\\d+/.exec(MY_URL.slice(fypageFlag)))\\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, pageNum),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 解析正文\\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\\neval(MY_RULE.preRule)\\nsetLastChapterRule(MY_RULE.last_chapter_rule)\\nMY_PARAMS = MY_RULE.params\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\\n    findRule = findRule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (detailFindRule) {\\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"工具集\",\"path\":\"utility\",\"rule\":\"$.exports = {\\n    dataLoad: function(showAll) {\\n        //检查间隔，默认一天\\n        let interval = parseInt(readFile('updateInterval') || '1'),\\n            time = parseInt(readFile('updateTime')) || 0,\\n            now = new Date().getTime(),\\n            data = []\\n        if (time == 0 || interval > 0 && now - time > 1000 * 60 * 60 * 24 * interval) {\\n            // 获取远程数据\\n            let url = getItem('remoteUrl')\\n            try {\\n                let remoteData = fetch(url)\\n                if (url.startsWith('hiker://page/'))\\n                    remoteData = JSON.parse(remoteData).rule\\n                data = JSON.parse(remoteData)\\n            } catch (e) {}\\n            if(data.length == 0) {\\n                data = JSON.parse(readFile('dataCache') || '[]')\\n                log('没有获取到更新数据')\\n            } else {\\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\\n                saveFile('dataCache', JSON.stringify(data))\\n                saveFile('updateTime', now.toString())\\n                log('更新数据已写入本地')\\n            }\\n        } else {\\n            data = JSON.parse(readFile('dataCache') || '[]')\\n        }\\n        // 写入自定义数据\\n        let customData = JSON.parse(readFile('customData') || '[]'),\\n            rewriteData = []\\n        customData = customData.reduce((self, v) => {\\n            let index = data.findIndex((vv) => v.title == vv.title)\\n            if (index >= 0) {\\n                self.push(v)\\n                let rule = data.splice(index, 1)[0]\\n                if(showAll || v.visible)\\n                    rewriteData.push(Object.assign(rule, v))\\n            }\\n            return self\\n        }, [])\\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\\n        saveFile('customData', JSON.stringify(customData))\\n        return rewriteData.concat(data)\\n    },\\n    runCode: function(rule) {\\n        try {\\n            let [input, code] = rule.split('.js:')\\n            return code ? eval(code) : rule\\n        } catch (e) { return rule }\\n    },\\n    urlParse: function(url, headers, pageNum, func) {\\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\\n        if (func) func(url)\\n        url[0] = url[0].replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n        url[0] = /^([\\\\s\\\\S]*?)(?:\\\\[firstPage=([\\\\s\\\\S]*?)\\\\])?$/.exec(url[0])\\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\\n        let options = { headers: headers, method: url[1] }\\n        // post方法时转换参数\\n        if (/^post$/i.test(options['method'])) {\\n            let [oriUrl, body] = url[0].split('?')\\n            url[0] = oriUrl.replace(/？？/g, '?')\\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\\n            options['body'] = body\\n        }\\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\\n            let [key, value] = v.split('@')\\n            options.headers[key] = runCode(value)\\n        })\\n        // 添加全局UA\\n        if (!options.headers['User-Agent']) {\\n            if (MY_RULE.ua == 'pc')\\n                options.headers['User-Agent'] = PC_UA\\n            else if (MY_RULE.ua == 'mobile')\\n                options.headers['User-Agent'] = MOBILE_UA\\n        }\\n        return { MY_URL: url[0], MY_URL_Options: options }\\n    }\\n}\\n\"},{\"col_type\":\"movie_1_vertical_pic\",\"name\":\"单搜\",\"path\":\"singleSearch\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    RULE = MY_PARAMS.RULE,\\n    keyword = getParam('keyword'),\\n    pageNum = parseInt(getParam('page'))\\n\\n// 处理MY_URL和MY_RULE\\nMY_TYPE = 'search'\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\\nMY_RULE.find_rule = RULE.searchFind\\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\\\*\\\\*/g, encodeStr(keyword, url[2]))\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE),\\n                subTitle = v.title\\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\\n            v.desc = v.content || ''\\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\\n            delete v.content\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 4) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 1) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\\n                url: url,\\n                desc: content,\\n                img: img\\n            }\\n        if(!res.img) res.col_type = 'text_1'\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"icon_2_round\",\"name\":\"设置\",\"path\":\"Config\",\"rule\":\"js:\\naddListener('onClose', 'clearVar(\\\"myCollection-sortFlag\\\");refreshPage()')\\nsetPageTitle('⚙ 轻合集设置 ⚙')\\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet data = dataLoad(true),\\n    el = [{\\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\\n        url: $().lazyRule(() => {\\n            deleteFile('updateTime')\\n            back(false)\\n            return 'toast://已更新'\\n        }),\\n        img: 'hiker://images/icon1',\\n        col_type: 'avatar'\\n    }],\\n    searchThd = readFile('searchThd') || '5',\\n    updateInterval = readFile('updateInterval') || '1',\\n    newWindow = readFile('newWindow'),\\n    editMode = getVar('myCollection-editMode', '启用/禁用')\\n\\nel.push({\\n    title: '  🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd) + '  ',\\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\\n        if (input == '列表搜索') {\\n            saveFile('searchThd', '0')\\n            refreshPage()\\n        } else {\\n            if (searchThd == 0) searchThd = 5\\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\\n                saveFile('searchThd', input)\\n                refreshPage()\\n            })\\n        }\\n    }, searchThd),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💡 更新频率: ' + (updateInterval < 1 ? '手动' : updateInterval + '天') + '  ',\\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新').input(() => {\\n        saveFile('updateInterval', input)\\n        refreshPage()\\n        return 'hiker://empty'\\n    }),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((newWindow) => {\\n        saveFile('newWindow', newWindow ? '' : '1')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, newWindow),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '““””<font color=\\\"#666666\\\"><small>特别鸣谢，小程序提供者：\\\\n' +\\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1'\\n})\\n\\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\\n    el.push({\\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\\n            putVar('myCollection-editMode', v)\\n            refreshPage(false)\\n            return 'hiker://empty'\\n        }, v),\\n        col_type: 'scroll_button'\\n    })\\n})\\nel.push({\\n    title: '恢复出厂数据',\\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\\n        deleteFile('customData')\\n        refreshPage(false)\\n        return 'toast://已恢复出厂数据'\\n    }),\\n    col_type: 'scroll_button'\\n})\\n\\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\\n    let d = { title: v.title, img: data[i].icon }\\n    switch (editMode) {\\n        case '启用/禁用':\\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\\n            d.url = $('#noLoading#').lazyRule((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                rules[index].visible = !rules[index].visible\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '重新排序':\\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\\n            if (sortFlag == -1)\\n                d.url = $('#noLoading#').lazyRule((i) => {\\n                    putVar('myCollection-sortFlag', i.toString())\\n                    refreshPage(false)\\n                    return 'toast://选择要移动到的位置'\\n                }, i)\\n            else\\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\\n                    let rules = JSON.parse(readFile('customData') || '[]')\\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\\n                    saveFile('customData', JSON.stringify(rules))\\n                    putVar('myCollection-sortFlag', '-1')\\n                    refreshPage(false)\\n                    return 'hiker://empty'\\n                }, sortFlag, i)\\n            break\\n        case '更改图标':\\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                if (input)\\n                    rules[index].icon = input\\n                else\\n                    delete rules[index].icon\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '导入海阔':\\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\\n            break\\n    }\\n    el.push(d)\\n})\\nsetResult(el)\\n\"}]","icon":"http://q1.qlogo.cn/g?b=qq&nk=1286098114&s=640"},{"last_chapter_rule":"","pageList":[{"col_type":"text_1","name":"ClassTab","path":"ClassTab","rule":"function ClassTab(classArray, params) {\n    Object.assign(this, params)\n    this.arr = classArray.map(v => this.init(v))\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\n    this.color = this.color || '#12b668'\n    this.boundary = this.boundary || 'blank_block'\n}\nClassTab.prototype = {\n    constructor: ClassTab,\n    load(el) {\n        let folded = getVar('fold_' + this.sign, '')\n        if (this.fold) el.push({\n            title: '““””<span style=\"color:#049eff\">' + (folded ? '▶' : '▼'),\n            url: $('#noLoading#').lazyRule((sign, folded) => {\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\n                refreshPage(false)\n                return 'hiker://empty'\n            }, this.sign, folded),\n            col_type: 'scroll_button'\n        })\n        let arr = folded ? [this.arr[0]] : this.arr\n        arr.forEach((v) => {\n            let { id, class_name, class_url } = v,\n                selected = JSON.stringify(this.getClass(id))\n            class_name.forEach((name, i) => {\n                let url = class_url[i],\n                    now = JSON.stringify({ name: name, url: url })\n                el.push({\n                    title: (selected == now ? '““””<span style=\"color:' + this.color + '\"><b>' : '') + name,\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\n                        putVar(sign + id, now)\n                        putVar(sign, now)\n                        refreshPage(false)\n                        return 'hiker://empty'\n                    }, this.sign, id, now),\n                    col_type: 'scroll_button'\n                })\n            })\n            el.push({ col_type: this.boundary })\n        })\n    },\n    init(classObject) {\n        if (typeof classObject.class_name == 'string')\n            classObject.class_name = classObject.class_name.split('&')\n        if (typeof classObject.class_url == 'string')\n            classObject.class_url = classObject.class_url.split('&')\n        return classObject\n    },\n    push(classObject) {\n        this.arr.push(this.init(classObject))\n    },\n    getClass(id) {\n        let defaultClass = this.arr.find(item => item.id == id)\n        if (defaultClass) defaultClass = JSON.stringify({\n            name: defaultClass.class_name[0],\n            url: defaultClass.class_url[0]\n        })\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\n        return JSON.parse(getVar(this.sign + id, defaultClass))\n    },\n    getLastClick() {\n        return JSON.parse(getVar(this.sign, '{}'))\n    },\n    setUrl(url) {\n        return url.replace(/\\$\\{([^}]*)\\}/g, (_, id) => this.getClass(id).url)\n    }\n}\n$.exports = ClassTab\n"},{"col_type":"movie_3","name":"首页","path":"indexLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = parseInt(MY_URL.split('#')[1]),\n    RULE = MY_PARAMS.RULE,\n    fyAll = RULE.url.includes('fyAll'),\n    // 加载ClassTab组件\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\n    tabHeader = []\n\nif (RULE.class_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyclass',\n    class_name: RULE.class_name,\n    class_url: RULE.class_url\n})\nif (RULE.area_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyarea',\n    class_name: RULE.area_name,\n    class_url: RULE.area_url\n})\nif (RULE.year_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyyear',\n    class_name: RULE.year_name,\n    class_url: RULE.year_url\n})\nif (RULE.sort_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fysort',\n    class_name: RULE.sort_name,\n    class_url: RULE.sort_url\n})\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\nif (pageNum == 1) {\n    addListener('onClose', 'clearVar(\"myCollection-searchMode\")')\n    putVar('myCollection-searchMode', RULE.title)\n    tabHeader.load(myCollection_el)\n    if (RULE.search_url) myCollection_el.push({\n        title: \"搜索\",\n        desc: \"搜你想要的...\",\n        url: '\"hiker://search?s=\"+input+\"&rule=' + getItem('myCollection') + '\"',\n        col_type: \"input\",\n    })\n}\n// 处理MY_URL和MY_RULE\nMY_RULE.version = RULE.version\nMY_RULE.group = RULE.group\nMY_RULE.title = RULE.title\nMY_RULE.ua = RULE.ua\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.find_rule\nMY_RULE.detail_find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, indexHtml } = urlParse(RULE.url, pageNum, (url) => {\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\n    url[0] = tabHeader.setUrl(url[0])\n})\nMY_RULE.url = MY_URL\n// 正文解析\nif (pageNum == 1) eval(MY_RULE.preRule)\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url) {\n                return v\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                RULE.detail_find_rule = rule\n                RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let path = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?.*)?$/)[1],\n                    subPage = MY_RULE.pageList.find((v) => v.path == path)\n                RULE.detail_find_rule = subPage.rule\n                RULE.detail_col_type = subPage.col_type\n                RULE.params = v.extra || {}\n            } else if (!MY_RULE.detail_find_rule) { return v }\n            v.extra = { url: v.url, RULE: RULE, pageTitle: v.title }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n\n    function setHomeResult(a, param1, param2, param3) {\n        setResult(a, param1, param2, param3)\n    }\n\n    function setSearchResult(a, param1, param2, param3) {\n        setResult(a, param1, param2, param3)\n    }\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) {}\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\n            } else if (MY_RULE.detail_find_rule) {\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title  }\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"详情","path":"detailLoad","rule":"js:\nvar myCollection_el = []\n\n// 处理MY_URL和MY_RULE\nlet RULE = MY_PARAMS.RULE\nMY_RULE.version = RULE.version\nMY_RULE.group = RULE.group\nMY_RULE.title = RULE.title\nMY_RULE.url = MY_URL\nMY_RULE.ua = RULE.ua\nMY_RULE.col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = RULE.pageList\nMY_RULE.pages = RULE.pages\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = RULE.params\n// 解析正文\nif(MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\neval(MY_RULE.preRule)\nsetLastChapterRule(MY_RULE.last_chapter_rule)\nMY_PARAMS = MY_RULE.params\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url) {\n                return v\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                RULE.detail_find_rule = rule\n                RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let path = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?.*)?$/)[1],\n                    subPage = MY_RULE.pageList.find((v) => v.path == path)\n                RULE.detail_find_rule = subPage.rule\n                RULE.detail_col_type = subPage.col_type\n                RULE.params = v.extra || {}\n            } else { return v }\n            v.extra = { url: v.url, RULE: RULE }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n\n    function setHomeResult(a, param1, param2, param3) {\n        setResult(a, param1, param2, param3)\n    }\n\n    function setSearchResult(a, param1, param2, param3) {\n        setResult(a, param1, param2, param3)\n    }\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    const { runCode } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(getResCode(), findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) {}\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url && res.url.includes('@lazyRule='))\n            res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"数据载入","path":"dataLoad","rule":"//真正获取数据的逻辑\nfunction load() {\n    let url = 'http://hiker.nokia.press/hikerule/dev/json_list?name=16107574',\n        d = []\n    try {\n        d = fetch(url)\n        if (url.startsWith('hiker://page/'))\n            d = JSON.parse(d).rule\n        d = JSON.parse(d)\n    } catch (e) {\n        d = []\n    }\n    return d.filter((v) => { return v.title != MY_RULE.title && v.author != '轻合集生成器' })\n}\n//检查间隔，默认一天\nlet min = 60 * 24 * 1\n\nlet data = []\nlet time = getItem('updatetime', '0')\ntime = parseInt(time)\nlet now = new Date().getTime()\nif (now - time > 1000 * 60 * min) {\n    log('更新了数据')\n    setItem('updatetime', '' + now)\n    data = load()\n    saveFile('data.json', JSON.stringify(data))\n} else {\n    log('没有更新数据')\n    data = JSON.parse(readFile('data.json'))\n}\n$.exports = data\n"},{"col_type":"movie_3","name":"工具集","path":"utility","rule":"$.exports = {\n    runCode: function(rule) {log(rule)\n        try {\n            let [input, code] = rule.split('.js:')\n            return code ? eval(code) : rule\n        } catch (e) { return rule }\n    },\n    urlParse: function(url, pageNum, func) {\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\n        if (func) func(url)\n        url[0] = url[0].replace(/fypage(?:@(-?\\d+)@)?(?:\\*(\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\n        url[0] = /^(.*?)(?:\\[firstPage=(.*?)\\])?$/.exec(url[0])\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\n        let options = { headers: { 'Content-Type': 'text/plain; charst=UTF-8' }, method: url[1] }\n        // post方法时转换参数\n        if (/^post$/i.test(options['method'])) {\n            let [oriUrl, body] = url[0].split('?')\n            url[0] = oriUrl.replace(/？？/g, '?')\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\n            options['body'] = body\n        }\n        if (url[2]) options.headers['Content-Type'] = options.headers['Content-Type'].slice(0, 19) + url[2]\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\n            let [key, value] = v.split('@')\n            options.headers[key] = runCode(value)\n        })\n        // 添加全局UA\n        if (!options.headers['User-Agent']) {\n            if (MY_RULE.ua == 'pc')\n                options.headers['User-Agent'] = PC_UA\n            else if (MY_RULE.ua == 'mobile')\n                options.headers['User-Agent'] = MOBILE_UA\n        }\n        return { MY_URL: url[0], indexHtml: fetch(url[0], options) }\n    }\n}\n"}],"title":"轻合集.行知侠","author":"轻合集生成器","version":72,"url":"hiker://empty","col_type":"icon_2_round","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nlet el = [{\n    title: '清除缓存,立即更新 <small>(基于远程仓库,不要频繁点击)',\n    url: $().lazyRule(() => {\n        clearItem('updatetime')\n        refreshPage(true)\n        return 'toast://已更新'\n    }),\n    img: 'hiker://images/icon1',\n    col_type: 'avatar'\n}]\nel.push({\n    url: '\"hiker://search?s=\"+input+\"&rule=' + getItem('myCollection') + '\"',\n    desc: '搜你想要的...',\n    title: '搜索',\n    col_type: 'input'\n})\nconst data = $.require('hiker://page/dataLoad?rule=' + getItem('myCollection'))\nsetResult(el.concat(data.map((v) => {\n    let fypage = /^[^;]*?fypage.*?(;.*)?$/.test(v.url) ? 'fypage' : '1'\n    return {\n        title: v.title,\n        url: 'hiker://page/indexLoad?#' + fypage + '#noHistory#',\n        img: v.icon,\n        extra: { RULE: v }\n    }\n})))","searchFind":"js:\nlet myCollection_el = [],\n    searchMode = getVar('myCollection-searchMode', ''),\n    [_, pageNum, keyword] = MY_URL.split('##'),\n    RULE = $.require('hiker://page/dataLoad?rule=' + getItem('myCollection')).filter((v) => v.search_url)\npageNum = parseInt(pageNum)\nif (!searchMode && pageNum > RULE.length) setResult([])\n\nlet searchCount = { title: '⬆ 已搜索了' + pageNum + '个小程序 ⬆\\n⬇ 下面还有' + (RULE.length - pageNum) + '个小程序 ⬇' }\nRULE = searchMode ? RULE.find((v) => v.title == searchMode) : RULE[pageNum - 1]\n// 处理MY_URL和MY_RULE\nMY_RULE.version = RULE.version\nMY_RULE.group = RULE.group\nMY_RULE.title = RULE.title\nMY_RULE.ua = RULE.ua\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = RULE.sdetail_col_type\nMY_RULE.find_rule = RULE.searchFind\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, indexHtml } = urlParse(RULE.search_url, searchMode ? pageNum : 1, (url) => {\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n})\nMY_RULE.url = MY_URL\n// 正文解析\nif (pageNum == 1) eval(MY_RULE.preRule)\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        log(el)\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let RULE = Object.assign({}, MY_RULE)\n\n            if (!v.url) {\n                return v\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                RULE.detail_find_rule = rule\n                RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let path = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?.*)?$/)[1],\n                    subPage = MY_RULE.pageList.find(v => v.path == path)\n                RULE.detail_find_rule = subPage.rule\n                RULE.detail_col_type = subPage.col_type\n                RULE.params = v.extra || {}\n            } else if (!MY_RULE.detail_find_rule) { return v }\n            v.extra = { url: v.url, RULE: RULE, pageTitle: v.title  }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            return v\n        }))\n        if (!searchMode) myCollection_el.push(searchCount)\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n\n    function setHomeResult(a, param1, param2, param3) {\n        setResult(a, param1, param2, param3)\n    }\n\n    function setSearchResult(a, param1, param2, param3) {\n        setResult(a, param1, param2, param3)\n    }\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 4) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 1) v = runCode(v)\n                    return v\n                } catch (e) {}\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                content: content,\n                img: img\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\n            } else if (MY_RULE.detail_find_rule) {\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title  }\n            }\n        }\n        myCollection_el.push(res)\n        if (!searchMode) myCollection_el.push(searchCount)\n    })\n    setResult(myCollection_el)\n}\n","search_url":"hiker://empty##fypage##**","group":"①轻合集","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"setItem('myCollection', MY_RULE.title)","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"function ClassTab(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = getVar('fold_' + this.sign, '')\\n        if (this.fold) el.push({\\n            title: '““””<span style=\\\"color:#049eff\\\">' + (folded ? '▶' : '▼'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n                selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: (selected == now ? '““””<span style=\\\"color:' + this.color + '\\\"><b>' : '') + name,\\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        putVar(sign, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&')\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        if (defaultClass) defaultClass = JSON.stringify({\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        })\\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    getLastClick() {\\n        return JSON.parse(getVar(this.sign, '{}'))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n$.exports = ClassTab\\n\"},{\"col_type\":\"movie_3\",\"name\":\"首页\",\"path\":\"indexLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = parseInt(MY_URL.split('#')[1]),\\n    RULE = MY_PARAMS.RULE,\\n    fyAll = RULE.url.includes('fyAll'),\\n    // 加载ClassTab组件\\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\\n    tabHeader = []\\n\\nif (RULE.class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: RULE.class_name,\\n    class_url: RULE.class_url\\n})\\nif (RULE.area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: RULE.area_name,\\n    class_url: RULE.area_url\\n})\\nif (RULE.year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: RULE.year_name,\\n    class_url: RULE.year_url\\n})\\nif (RULE.sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: RULE.sort_name,\\n    class_url: RULE.sort_url\\n})\\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\\nif (pageNum == 1) {\\n    addListener('onClose', 'clearVar(\\\"myCollection-searchMode\\\")')\\n    putVar('myCollection-searchMode', RULE.title)\\n    tabHeader.load(myCollection_el)\\n    if (RULE.search_url) myCollection_el.push({\\n        title: \\\"搜索\\\",\\n        desc: \\\"搜你想要的...\\\",\\n        url: '\\\"hiker://search?s=\\\"+input+\\\"&rule=' + getItem('myCollection') + '\\\"',\\n        col_type: \\\"input\\\",\\n    })\\n}\\n// 处理MY_URL和MY_RULE\\nMY_RULE.version = RULE.version\\nMY_RULE.group = RULE.group\\nMY_RULE.title = RULE.title\\nMY_RULE.ua = RULE.ua\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.find_rule\\nMY_RULE.detail_find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, indexHtml } = urlParse(RULE.url, pageNum, (url) => {\\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\\n    url[0] = tabHeader.setUrl(url[0])\\n})\\nMY_RULE.url = MY_URL\\n// 正文解析\\nif (pageNum == 1) eval(MY_RULE.preRule)\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url) {\\n                return v\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                RULE.detail_find_rule = rule\\n                RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let path = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?.*)?$/)[1],\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path)\\n                RULE.detail_find_rule = subPage.rule\\n                RULE.detail_col_type = subPage.col_type\\n                RULE.params = v.extra || {}\\n            } else if (!MY_RULE.detail_find_rule) { return v }\\n            v.extra = { url: v.url, RULE: RULE, pageTitle: v.title }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n\\n    function setHomeResult(a, param1, param2, param3) {\\n        setResult(a, param1, param2, param3)\\n    }\\n\\n    function setSearchResult(a, param1, param2, param3) {\\n        setResult(a, param1, param2, param3)\\n    }\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) {}\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title  }\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"详情\",\"path\":\"detailLoad\",\"rule\":\"js:\\nvar myCollection_el = []\\n\\n// 处理MY_URL和MY_RULE\\nlet RULE = MY_PARAMS.RULE\\nMY_RULE.version = RULE.version\\nMY_RULE.group = RULE.group\\nMY_RULE.title = RULE.title\\nMY_RULE.url = MY_URL\\nMY_RULE.ua = RULE.ua\\nMY_RULE.col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = RULE.pageList\\nMY_RULE.pages = RULE.pages\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = RULE.params\\n// 解析正文\\nif(MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\\neval(MY_RULE.preRule)\\nsetLastChapterRule(MY_RULE.last_chapter_rule)\\nMY_PARAMS = MY_RULE.params\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url) {\\n                return v\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                RULE.detail_find_rule = rule\\n                RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let path = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?.*)?$/)[1],\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path)\\n                RULE.detail_find_rule = subPage.rule\\n                RULE.detail_col_type = subPage.col_type\\n                RULE.params = v.extra || {}\\n            } else { return v }\\n            v.extra = { url: v.url, RULE: RULE }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n\\n    function setHomeResult(a, param1, param2, param3) {\\n        setResult(a, param1, param2, param3)\\n    }\\n\\n    function setSearchResult(a, param1, param2, param3) {\\n        setResult(a, param1, param2, param3)\\n    }\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    const { runCode } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(getResCode(), findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) {}\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url && res.url.includes('@lazyRule='))\\n            res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"数据载入\",\"path\":\"dataLoad\",\"rule\":\"//真正获取数据的逻辑\\nfunction load() {\\n    let url = 'http://hiker.nokia.press/hikerule/dev/json_list?name=16107574',\\n        d = []\\n    try {\\n        d = fetch(url)\\n        if (url.startsWith('hiker://page/'))\\n            d = JSON.parse(d).rule\\n        d = JSON.parse(d)\\n    } catch (e) {\\n        d = []\\n    }\\n    return d.filter((v) => { return v.title != MY_RULE.title && v.author != '轻合集生成器' })\\n}\\n//检查间隔，默认一天\\nlet min = 60 * 24 * 1\\n\\nlet data = []\\nlet time = getItem('updatetime', '0')\\ntime = parseInt(time)\\nlet now = new Date().getTime()\\nif (now - time > 1000 * 60 * min) {\\n    log('更新了数据')\\n    setItem('updatetime', '' + now)\\n    data = load()\\n    saveFile('data.json', JSON.stringify(data))\\n} else {\\n    log('没有更新数据')\\n    data = JSON.parse(readFile('data.json'))\\n}\\n$.exports = data\\n\"},{\"col_type\":\"movie_3\",\"name\":\"工具集\",\"path\":\"utility\",\"rule\":\"$.exports = {\\n    runCode: function(rule) {log(rule)\\n        try {\\n            let [input, code] = rule.split('.js:')\\n            return code ? eval(code) : rule\\n        } catch (e) { return rule }\\n    },\\n    urlParse: function(url, pageNum, func) {\\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\\n        if (func) func(url)\\n        url[0] = url[0].replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n        url[0] = /^(.*?)(?:\\\\[firstPage=(.*?)\\\\])?$/.exec(url[0])\\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\\n        let options = { headers: { 'Content-Type': 'text/plain; charst=UTF-8' }, method: url[1] }\\n        // post方法时转换参数\\n        if (/^post$/i.test(options['method'])) {\\n            let [oriUrl, body] = url[0].split('?')\\n            url[0] = oriUrl.replace(/？？/g, '?')\\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\\n            options['body'] = body\\n        }\\n        if (url[2]) options.headers['Content-Type'] = options.headers['Content-Type'].slice(0, 19) + url[2]\\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\\n            let [key, value] = v.split('@')\\n            options.headers[key] = runCode(value)\\n        })\\n        // 添加全局UA\\n        if (!options.headers['User-Agent']) {\\n            if (MY_RULE.ua == 'pc')\\n                options.headers['User-Agent'] = PC_UA\\n            else if (MY_RULE.ua == 'mobile')\\n                options.headers['User-Agent'] = MOBILE_UA\\n        }\\n        return { MY_URL: url[0], indexHtml: fetch(url[0], options) }\\n    }\\n}\\n\"}]","icon":"http://q1.qlogo.cn/g?b=qq&nk=16107574&s=640"},{"last_chapter_rule":"","pageList":[{"col_type":"text_1","name":"ClassTab","path":"ClassTab","rule":"function ClassTab(classArray, params) {\n    Object.assign(this, params)\n    this.arr = classArray.map(v => this.init(v))\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\n    this.color = this.color || '#12b668'\n    this.boundary = this.boundary || 'blank_block'\n}\nClassTab.prototype = {\n    constructor: ClassTab,\n    load(el) {\n        let folded = getVar('fold_' + this.sign, '')\n        if (this.fold) el.push({\n            title: '““””<span style=\"color:#049eff\">' + (folded ? '▶' : '▼'),\n            url: $('#noLoading#').lazyRule((sign, folded) => {\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\n                refreshPage(false)\n                return 'hiker://empty'\n            }, this.sign, folded),\n            col_type: 'scroll_button'\n        })\n        let arr = folded ? [this.arr[0]] : this.arr\n        arr.forEach((v) => {\n            let { id, class_name, class_url } = v,\n                selected = JSON.stringify(this.getClass(id))\n            class_name.forEach((name, i) => {\n                let url = class_url[i],\n                    now = JSON.stringify({ name: name, url: url })\n                el.push({\n                    title: (selected == now ? '““””<span style=\"color:' + this.color + '\"><b>' : '') + name,\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\n                        putVar(sign + id, now)\n                        putVar(sign, now)\n                        refreshPage(false)\n                        return 'hiker://empty'\n                    }, this.sign, id, now),\n                    col_type: 'scroll_button'\n                })\n            })\n            el.push({ col_type: this.boundary })\n        })\n    },\n    init(classObject) {\n        if (typeof classObject.class_name == 'string')\n            classObject.class_name = classObject.class_name.split('&')\n        if (typeof classObject.class_url == 'string')\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\n        return classObject\n    },\n    push(classObject) {\n        this.arr.push(this.init(classObject))\n    },\n    getClass(id) {\n        let defaultClass = this.arr.find(item => item.id == id)\n        if (defaultClass) defaultClass = JSON.stringify({\n            name: defaultClass.class_name[0],\n            url: defaultClass.class_url[0]\n        })\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\n        return JSON.parse(getVar(this.sign + id, defaultClass))\n    },\n    getLastClick() {\n        return JSON.parse(getVar(this.sign, '{}'))\n    },\n    setUrl(url) {\n        return url.replace(/\\$\\{([^}]*)\\}/g, (_, id) => this.getClass(id).url)\n    }\n}\n$.exports = ClassTab\n"},{"col_type":"movie_3","name":"首页","path":"indexLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = parseInt(MY_URL.split('#')[1]),\n    RULE = MY_PARAMS.RULE,\n    fyAll = RULE.url.includes('fyAll'),\n    // 加载ClassTab组件\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\n    tabHeader = []\n\nif (RULE.class_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyclass',\n    class_name: RULE.class_name,\n    class_url: RULE.class_url\n})\nif (RULE.area_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyarea',\n    class_name: RULE.area_name,\n    class_url: RULE.area_url\n})\nif (RULE.year_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyyear',\n    class_name: RULE.year_name,\n    class_url: RULE.year_url\n})\nif (RULE.sort_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fysort',\n    class_name: RULE.sort_name,\n    class_url: RULE.sort_url\n})\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\nif (pageNum == 1) {\n    addListener('onClose', 'clearVar(\"myCollection-searchMode\")')\n    putVar('myCollection-searchMode', RULE.title)\n    tabHeader.load(myCollection_el)\n    if (RULE.search_url) myCollection_el.push({\n        title: \"搜索\",\n        desc: \"搜你想要的...\",\n        url: '\"hiker://page/singleSearch?keyword=\"+input+\"&page=fypage\"',\n        extra: { rule: getItem('myCollection'), RULE: RULE },\n        col_type: \"input\",\n    })\n}\n// 处理MY_URL和MY_RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.find_rule\nMY_RULE.detail_find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\n    url[0] = tabHeader.setUrl(url[0])\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) eval(MY_RULE.preRule)\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"详情","path":"detailLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = 1\n\n// 处理MY_URL和MY_RULE\nlet RULE = MY_PARAMS.RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = RULE.pageList\nMY_RULE.pages = RULE.pages\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = RULE.params\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet fypageFlag = MY_PARAMS.url.indexOf('fypage')\nif (fypageFlag >= 0) pageNum = parseInt(/^\\d+/.exec(MY_URL.slice(fypageFlag)))\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, pageNum),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 解析正文\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\neval(MY_RULE.preRule)\nsetLastChapterRule(MY_RULE.last_chapter_rule)\nMY_PARAMS = MY_RULE.params\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else { return v }\n            v.extra = { url: v.url, RULE: MY__RULE }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\n    findRule = findRule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (detailFindRule) {\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"工具集","path":"utility","rule":"$.exports = {\n    dataLoad: function(showAll) {\n        //检查间隔，默认一天\n        let interval = parseInt(readFile('updateInterval') || '1'),\n            time = parseInt(readFile('updateTime')) || 0,\n            now = new Date().getTime(),\n            data = []\n        if (time == 0 || interval > 0 && now - time > 1000 * 60 * 60 * 24 * interval) {\n            // 获取远程数据\n            let url = getItem('remoteUrl')\n            try {\n                let remoteData = fetch(url)\n                if (url.startsWith('hiker://page/'))\n                    remoteData = JSON.parse(remoteData).rule\n                data = JSON.parse(remoteData)\n            } catch (e) {}\n            if(data.length == 0) {\n                data = JSON.parse(readFile('dataCache') || '[]')\n                log('没有获取到更新数据')\n            } else {\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\n                saveFile('dataCache', JSON.stringify(data))\n                saveFile('updateTime', now.toString())\n                log('更新数据已写入本地')\n            }\n        } else {\n            data = JSON.parse(readFile('dataCache') || '[]')\n        }\n        // 写入自定义数据\n        let customData = JSON.parse(readFile('customData') || '[]'),\n            rewriteData = []\n        customData = customData.reduce((self, v) => {\n            let index = data.findIndex((vv) => v.title == vv.title)\n            if (index >= 0) {\n                self.push(v)\n                let rule = data.splice(index, 1)[0]\n                if(showAll || v.visible)\n                    rewriteData.push(Object.assign(rule, v))\n            }\n            return self\n        }, [])\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\n        saveFile('customData', JSON.stringify(customData))\n        return rewriteData.concat(data)\n    },\n    runCode: function(rule) {\n        try {\n            let [input, code] = rule.split('.js:')\n            return code ? eval(code) : rule\n        } catch (e) { return rule }\n    },\n    urlParse: function(url, headers, pageNum, func) {\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\n        if (func) func(url)\n        url[0] = url[0].replace(/fypage(?:@(-?\\d+)@)?(?:\\*(\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\n        url[0] = /^([\\s\\S]*?)(?:\\[firstPage=([\\s\\S]*?)\\])?$/.exec(url[0])\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\n        let options = { headers: headers, method: url[1] }\n        // post方法时转换参数\n        if (/^post$/i.test(options['method'])) {\n            let [oriUrl, body] = url[0].split('?')\n            url[0] = oriUrl.replace(/？？/g, '?')\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\n            options['body'] = body\n        }\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\n            let [key, value] = v.split('@')\n            options.headers[key] = runCode(value)\n        })\n        // 添加全局UA\n        if (!options.headers['User-Agent']) {\n            if (MY_RULE.ua == 'pc')\n                options.headers['User-Agent'] = PC_UA\n            else if (MY_RULE.ua == 'mobile')\n                options.headers['User-Agent'] = MOBILE_UA\n        }\n        return { MY_URL: url[0], MY_URL_Options: options }\n    }\n}\n"},{"col_type":"movie_1_vertical_pic","name":"单搜","path":"singleSearch","rule":"js:\nlet myCollection_el = [],\n    RULE = MY_PARAMS.RULE,\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page'))\n\n// 处理MY_URL和MY_RULE\nMY_TYPE = 'search'\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\nMY_RULE.find_rule = RULE.searchFind\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE),\n                subTitle = v.title\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\n            v.desc = v.content || ''\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\n            delete v.content\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 4) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 1) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\n                url: url,\n                desc: content,\n                img: img\n            }\n        if(!res.img) res.col_type = 'text_1'\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"icon_2_round","name":"设置","path":"Config","rule":"js:\naddListener('onClose', 'clearVar(\"myCollection-sortFlag\");refreshPage()')\nsetPageTitle('⚙ 轻合集设置 ⚙')\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet data = dataLoad(true),\n    el = [{\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\n        url: $().lazyRule(() => {\n            deleteFile('updateTime')\n            back(false)\n            return 'toast://已更新'\n        }),\n        img: 'hiker://images/icon1',\n        col_type: 'avatar'\n    }],\n    searchThd = readFile('searchThd') || '5',\n    updateInterval = readFile('updateInterval') || '1',\n    newWindow = readFile('newWindow'),\n    editMode = getVar('myCollection-editMode', '启用/禁用')\n\nel.push({\n    title: '  🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd) + '  ',\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\n        if (input == '列表搜索') {\n            saveFile('searchThd', '0')\n            refreshPage()\n        } else {\n            if (searchThd == 0) searchThd = 5\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\n                saveFile('searchThd', input)\n                refreshPage()\n            })\n        }\n    }, searchThd),\n    col_type: 'scroll_button'\n}, {\n    title: '  💡 更新频率: ' + (updateInterval < 1 ? '手动' : updateInterval + '天') + '  ',\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新').input(() => {\n        saveFile('updateInterval', input)\n        refreshPage()\n        return 'hiker://empty'\n    }),\n    col_type: 'scroll_button'\n}, {\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\n    url: $('#noLoading#').lazyRule((newWindow) => {\n        saveFile('newWindow', newWindow ? '' : '1')\n        refreshPage()\n        return 'hiker://empty'\n    }, newWindow),\n    col_type: 'scroll_button'\n}, {\n    title: '““””<font color=\"#666666\"><small>特别鸣谢，小程序提供者：\\n' +\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\n    url: 'hiker://empty',\n    col_type: 'text_center_1'\n})\n\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\n    el.push({\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\n            putVar('myCollection-editMode', v)\n            refreshPage(false)\n            return 'hiker://empty'\n        }, v),\n        col_type: 'scroll_button'\n    })\n})\nel.push({\n    title: '恢复出厂数据',\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\n        deleteFile('customData')\n        refreshPage(false)\n        return 'toast://已恢复出厂数据'\n    }),\n    col_type: 'scroll_button'\n})\n\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\n    let d = { title: v.title, img: data[i].icon }\n    switch (editMode) {\n        case '启用/禁用':\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\n            d.url = $('#noLoading#').lazyRule((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                rules[index].visible = !rules[index].visible\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '重新排序':\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\n            if (sortFlag == -1)\n                d.url = $('#noLoading#').lazyRule((i) => {\n                    putVar('myCollection-sortFlag', i.toString())\n                    refreshPage(false)\n                    return 'toast://选择要移动到的位置'\n                }, i)\n            else\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\n                    let rules = JSON.parse(readFile('customData') || '[]')\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\n                    saveFile('customData', JSON.stringify(rules))\n                    putVar('myCollection-sortFlag', '-1')\n                    refreshPage(false)\n                    return 'hiker://empty'\n                }, sortFlag, i)\n            break\n        case '更改图标':\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                if (input)\n                    rules[index].icon = input\n                else\n                    delete rules[index].icon\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '导入海阔':\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\n            break\n    }\n    el.push(d)\n})\nsetResult(el)\n"}],"title":"听书轻合集.dz","author":"轻合集生成器","version":78,"url":"hiker://empty","col_type":"icon_round_small_4","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet el = [{\n    title: ' ' + getItem('myCollection').bold() + ' &nbsp &nbsp ' + '⚙ 轻合集设置 ⚙'.small(),\n    url: 'hiker://page/Config?rule=' + getItem('myCollection'),\n    img: MY_RULE.icon || 'hiker://images/icon1',\n    col_type: 'avatar'\n}, {\n    url: '\"hiker://search?s=\"+input+\"&rule=' + getItem('myCollection') + '\"',\n    desc: '搜你想要的...',\n    title: '搜索',\n    col_type: 'input'\n}]\n\nlet newWindow = readFile('newWindow')\ndataLoad().forEach((v) => {\n    let fypage = /^[^;]*?fypage.*?(;.*)?$/.test(v.url) ? 'fypage' : '1',\n        d = {\n            title: v.title,\n            url: 'hiker://page/indexLoad?#' + fypage + '#noHistory#',\n            img: v.icon||'https://cf-ipfs.com/ipfs/QmXxgDVAZLWhFxikrAFVPRZQuJ2uFae7syXhFubPwMwUiU',\n            extra: { RULE: v }\n        }\n    if(newWindow) Object.assign(d.extra, { newWindow: true, windowId: getItem('myCollection') + d.title })\n    el.push(d)\n})\nsetResult(el)","searchFind":"js:\nvar { dataLoad, runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet myCollection_el = [],\n    searchThd = parseInt(readFile('searchThd') || '5'),\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page')),\n    RULES = dataLoad().filter((v) => v.search_url)\nif (searchThd == 0) {\n    myCollection_el.push({\n        title: ('⬇ 选择一个小程序查看' + keyword + '的搜索结果 ⬇').small(),\n        url: 'hiker://empty'\n    })\n    RULES.forEach((v) => myCollection_el.push({\n        title: v.title,\n        url: \"hiker://page/singleSearch?keyword=\" + keyword + \"&page=fypage\",\n        extra: { rule: getItem('myCollection'), RULE: v },\n    }))\n} else if (searchThd > 0) {\n    let searchCount = pageNum * searchThd,\n        searchTag = { title: '⬆ 已搜索了' + searchCount + '个小程序 ⬆\\n⬇ 下面还有' + RULES.slice(searchCount).length + '个小程序 ⬇' }\n    RULES = RULES.slice(searchCount - searchThd, searchCount)\n    if (!RULES.length) setResult([])\n\n    let URLS = RULES.map((RULE) => {\n        MY_RULE.ua = RULE.ua\n        let urlReq = urlParse(RULE.search_url, {}, 1, (url) => {\n            url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n        })\n        return { url: urlReq.MY_URL, options: urlReq.MY_URL_Options }\n    })\n    batchFetch(URLS).forEach((indexHtml, index) => {\n        // 处理MY_URL和MY_RULE\n        let RULE = RULES[index]\n        MY_URL = URLS[index].url\n        MY_RULE.ua = RULE.ua\n        MY_RULE.col_type = RULE.col_type\n        MY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\n        MY_RULE.find_rule = RULE.searchFind\n        MY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\n        MY_RULE.preRule = RULE.preRule\n        MY_RULE.pageList = JSON.parse(RULE.pages || '[]')\n        MY_RULE.pages = JSON.stringify(MY_RULE.pageList)\n        MY_RULE.last_chapter_rule = RULE.last_chapter_rule\n        MY_RULE.params = {}\n        MY_RULE.url = MY_URL\n        MY_RULE.urlHeaders = URLS[index].options.headers\n\n        // 正文解析\n        eval(MY_RULE.preRule)\n        if (MY_RULE.find_rule.startsWith('js:')) {\n            function getUrl() {\n                return MY_URL\n            }\n\n            function getResCode() {\n                return indexHtml\n            }\n\n            setResult = function(el) {\n                if (Array.isArray(el.data)) el = el.data\n                Array.prototype.push.apply(myCollection_el, el.map((v) => {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    v.desc = RULE.title + ' ▪ ' + (v.desc || '')\n\n                    if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                        return v\n                    } else if (v.url.includes('@rule=')) {\n                        let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                        v.url = url\n                        MY__RULE.detail_find_rule = rule\n                        MY__RULE.detail_col_type = MY_RULE.col_type\n                    } else if (v.url.startsWith('hiker://page/')) {\n                        if (v.url.includes('rule=') || (v.extra || {}).rule)\n                            return v\n                        let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                            subPage = MY_RULE.pageList.find((v) => v.path == path),\n                            subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                        v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                        MY__RULE.detail_find_rule = subPage.rule\n                        MY__RULE.detail_col_type = subPage.col_type\n                        MY__RULE.params = v.extra || {}\n                    } else if (v.url.includes('@lazyRule=')) {\n                        v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                        return v\n                    } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n                    v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n                    v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                    if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n\n                    return v\n                }))\n            }\n            setHomeResult = setResult\n            setSearchResult = setResult\n\n            try {\n                eval(MY_RULE.find_rule.slice(3))\n            } catch (e) {}\n        } else {\n            let findRule = MY_RULE.find_rule.split(';')\n            parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n                let [title, url, desc, content, img] = findRule.map((v, i) => {\n                        try {\n                            if (v == '*') return ''\n                            else v = (i == 1 || i == 4) ?\n                                parseDom(data, v) :\n                                parseDomForHtml(data, v)\n                            if (i != 1) v = runCode(v)\n                            return v\n                        } catch (e) { return '' }\n                    }),\n                    res = {\n                        title: title,\n                        url: url,\n                        desc: RULE.title + ' ▪ ' + desc,\n                        content: content,\n                        img: img\n                    }\n                if (res.url) {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    if (res.url.includes('@lazyRule=')) {\n                        res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY__RULE.pages, pageList: MY__RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                    } else if (MY_RULE.detail_find_rule) {\n                        res.extra = { url: url, RULE: MY__RULE, pageTitle: title }\n                        res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                        if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n                    }\n                }\n                myCollection_el.push(res)\n            })\n        }\n    })\n    myCollection_el.push(searchTag)\n}\nmethod_setResult.invoke(javaContext, myCollection_el, CALLBACK_KEY, MY_RULE, MY_TYPE)\n","search_url":"hiker://empty?keyword=**&page=fypage","group":"①轻合集","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"setItem('myCollection', MY_RULE.title)\nsetItem('remoteUrl', 'http://hiker.nokia.press/hikerule/rulelist.json?id=2433&auth=6ed0eefb-ab05-53c1-95e5-ba5976bbc7e0')\n// \n// 包裹错误","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"function ClassTab(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = getVar('fold_' + this.sign, '')\\n        if (this.fold) el.push({\\n            title: '““””<span style=\\\"color:#049eff\\\">' + (folded ? '▶' : '▼'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n                selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: (selected == now ? '““””<span style=\\\"color:' + this.color + '\\\"><b>' : '') + name,\\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        putVar(sign, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        if (defaultClass) defaultClass = JSON.stringify({\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        })\\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    getLastClick() {\\n        return JSON.parse(getVar(this.sign, '{}'))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n$.exports = ClassTab\\n\"},{\"col_type\":\"movie_3\",\"name\":\"首页\",\"path\":\"indexLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = parseInt(MY_URL.split('#')[1]),\\n    RULE = MY_PARAMS.RULE,\\n    fyAll = RULE.url.includes('fyAll'),\\n    // 加载ClassTab组件\\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\\n    tabHeader = []\\n\\nif (RULE.class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: RULE.class_name,\\n    class_url: RULE.class_url\\n})\\nif (RULE.area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: RULE.area_name,\\n    class_url: RULE.area_url\\n})\\nif (RULE.year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: RULE.year_name,\\n    class_url: RULE.year_url\\n})\\nif (RULE.sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: RULE.sort_name,\\n    class_url: RULE.sort_url\\n})\\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\\nif (pageNum == 1) {\\n    addListener('onClose', 'clearVar(\\\"myCollection-searchMode\\\")')\\n    putVar('myCollection-searchMode', RULE.title)\\n    tabHeader.load(myCollection_el)\\n    if (RULE.search_url) myCollection_el.push({\\n        title: \\\"搜索\\\",\\n        desc: \\\"搜你想要的...\\\",\\n        url: '\\\"hiker://page/singleSearch?keyword=\\\"+input+\\\"&page=fypage\\\"',\\n        extra: { rule: getItem('myCollection'), RULE: RULE },\\n        col_type: \\\"input\\\",\\n    })\\n}\\n// 处理MY_URL和MY_RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.find_rule\\nMY_RULE.detail_find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\\n    url[0] = tabHeader.setUrl(url[0])\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) eval(MY_RULE.preRule)\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"详情\",\"path\":\"detailLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = 1\\n\\n// 处理MY_URL和MY_RULE\\nlet RULE = MY_PARAMS.RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = RULE.pageList\\nMY_RULE.pages = RULE.pages\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = RULE.params\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet fypageFlag = MY_PARAMS.url.indexOf('fypage')\\nif (fypageFlag >= 0) pageNum = parseInt(/^\\\\d+/.exec(MY_URL.slice(fypageFlag)))\\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, pageNum),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 解析正文\\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\\neval(MY_RULE.preRule)\\nsetLastChapterRule(MY_RULE.last_chapter_rule)\\nMY_PARAMS = MY_RULE.params\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\\n    findRule = findRule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (detailFindRule) {\\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"工具集\",\"path\":\"utility\",\"rule\":\"$.exports = {\\n    dataLoad: function(showAll) {\\n        //检查间隔，默认一天\\n        let interval = parseInt(readFile('updateInterval') || '1'),\\n            time = parseInt(readFile('updateTime')) || 0,\\n            now = new Date().getTime(),\\n            data = []\\n        if (time == 0 || interval > 0 && now - time > 1000 * 60 * 60 * 24 * interval) {\\n            // 获取远程数据\\n            let url = getItem('remoteUrl')\\n            try {\\n                let remoteData = fetch(url)\\n                if (url.startsWith('hiker://page/'))\\n                    remoteData = JSON.parse(remoteData).rule\\n                data = JSON.parse(remoteData)\\n            } catch (e) {}\\n            if(data.length == 0) {\\n                data = JSON.parse(readFile('dataCache') || '[]')\\n                log('没有获取到更新数据')\\n            } else {\\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\\n                saveFile('dataCache', JSON.stringify(data))\\n                saveFile('updateTime', now.toString())\\n                log('更新数据已写入本地')\\n            }\\n        } else {\\n            data = JSON.parse(readFile('dataCache') || '[]')\\n        }\\n        // 写入自定义数据\\n        let customData = JSON.parse(readFile('customData') || '[]'),\\n            rewriteData = []\\n        customData = customData.reduce((self, v) => {\\n            let index = data.findIndex((vv) => v.title == vv.title)\\n            if (index >= 0) {\\n                self.push(v)\\n                let rule = data.splice(index, 1)[0]\\n                if(showAll || v.visible)\\n                    rewriteData.push(Object.assign(rule, v))\\n            }\\n            return self\\n        }, [])\\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\\n        saveFile('customData', JSON.stringify(customData))\\n        return rewriteData.concat(data)\\n    },\\n    runCode: function(rule) {\\n        try {\\n            let [input, code] = rule.split('.js:')\\n            return code ? eval(code) : rule\\n        } catch (e) { return rule }\\n    },\\n    urlParse: function(url, headers, pageNum, func) {\\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\\n        if (func) func(url)\\n        url[0] = url[0].replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n        url[0] = /^([\\\\s\\\\S]*?)(?:\\\\[firstPage=([\\\\s\\\\S]*?)\\\\])?$/.exec(url[0])\\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\\n        let options = { headers: headers, method: url[1] }\\n        // post方法时转换参数\\n        if (/^post$/i.test(options['method'])) {\\n            let [oriUrl, body] = url[0].split('?')\\n            url[0] = oriUrl.replace(/？？/g, '?')\\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\\n            options['body'] = body\\n        }\\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\\n            let [key, value] = v.split('@')\\n            options.headers[key] = runCode(value)\\n        })\\n        // 添加全局UA\\n        if (!options.headers['User-Agent']) {\\n            if (MY_RULE.ua == 'pc')\\n                options.headers['User-Agent'] = PC_UA\\n            else if (MY_RULE.ua == 'mobile')\\n                options.headers['User-Agent'] = MOBILE_UA\\n        }\\n        return { MY_URL: url[0], MY_URL_Options: options }\\n    }\\n}\\n\"},{\"col_type\":\"movie_1_vertical_pic\",\"name\":\"单搜\",\"path\":\"singleSearch\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    RULE = MY_PARAMS.RULE,\\n    keyword = getParam('keyword'),\\n    pageNum = parseInt(getParam('page'))\\n\\n// 处理MY_URL和MY_RULE\\nMY_TYPE = 'search'\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\\nMY_RULE.find_rule = RULE.searchFind\\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\\\*\\\\*/g, encodeStr(keyword, url[2]))\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE),\\n                subTitle = v.title\\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\\n            v.desc = v.content || ''\\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\\n            delete v.content\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 4) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 1) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\\n                url: url,\\n                desc: content,\\n                img: img\\n            }\\n        if(!res.img) res.col_type = 'text_1'\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"icon_2_round\",\"name\":\"设置\",\"path\":\"Config\",\"rule\":\"js:\\naddListener('onClose', 'clearVar(\\\"myCollection-sortFlag\\\");refreshPage()')\\nsetPageTitle('⚙ 轻合集设置 ⚙')\\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet data = dataLoad(true),\\n    el = [{\\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\\n        url: $().lazyRule(() => {\\n            deleteFile('updateTime')\\n            back(false)\\n            return 'toast://已更新'\\n        }),\\n        img: 'hiker://images/icon1',\\n        col_type: 'avatar'\\n    }],\\n    searchThd = readFile('searchThd') || '5',\\n    updateInterval = readFile('updateInterval') || '1',\\n    newWindow = readFile('newWindow'),\\n    editMode = getVar('myCollection-editMode', '启用/禁用')\\n\\nel.push({\\n    title: '  🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd) + '  ',\\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\\n        if (input == '列表搜索') {\\n            saveFile('searchThd', '0')\\n            refreshPage()\\n        } else {\\n            if (searchThd == 0) searchThd = 5\\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\\n                saveFile('searchThd', input)\\n                refreshPage()\\n            })\\n        }\\n    }, searchThd),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💡 更新频率: ' + (updateInterval < 1 ? '手动' : updateInterval + '天') + '  ',\\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新').input(() => {\\n        saveFile('updateInterval', input)\\n        refreshPage()\\n        return 'hiker://empty'\\n    }),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((newWindow) => {\\n        saveFile('newWindow', newWindow ? '' : '1')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, newWindow),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '““””<font color=\\\"#666666\\\"><small>特别鸣谢，小程序提供者：\\\\n' +\\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1'\\n})\\n\\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\\n    el.push({\\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\\n            putVar('myCollection-editMode', v)\\n            refreshPage(false)\\n            return 'hiker://empty'\\n        }, v),\\n        col_type: 'scroll_button'\\n    })\\n})\\nel.push({\\n    title: '恢复出厂数据',\\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\\n        deleteFile('customData')\\n        refreshPage(false)\\n        return 'toast://已恢复出厂数据'\\n    }),\\n    col_type: 'scroll_button'\\n})\\n\\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\\n    let d = { title: v.title, img: data[i].icon }\\n    switch (editMode) {\\n        case '启用/禁用':\\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\\n            d.url = $('#noLoading#').lazyRule((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                rules[index].visible = !rules[index].visible\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '重新排序':\\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\\n            if (sortFlag == -1)\\n                d.url = $('#noLoading#').lazyRule((i) => {\\n                    putVar('myCollection-sortFlag', i.toString())\\n                    refreshPage(false)\\n                    return 'toast://选择要移动到的位置'\\n                }, i)\\n            else\\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\\n                    let rules = JSON.parse(readFile('customData') || '[]')\\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\\n                    saveFile('customData', JSON.stringify(rules))\\n                    putVar('myCollection-sortFlag', '-1')\\n                    refreshPage(false)\\n                    return 'hiker://empty'\\n                }, sortFlag, i)\\n            break\\n        case '更改图标':\\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                if (input)\\n                    rules[index].icon = input\\n                else\\n                    delete rules[index].icon\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '导入海阔':\\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\\n            break\\n    }\\n    el.push(d)\\n})\\nsetResult(el)\\n\"}]","icon":"https://z3.ax1x.com/2021/11/16/IWJhxf.png"},{"last_chapter_rule":"","pageList":[{"col_type":"text_1","name":"ClassTab","path":"ClassTab","rule":"function ClassTab(classArray, params) {\n    Object.assign(this, params)\n    this.arr = classArray.map(v => this.init(v))\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\n    this.color = this.color || '#12b668'\n    this.boundary = this.boundary || 'blank_block'\n}\nClassTab.prototype = {\n    constructor: ClassTab,\n    load(el) {\n        let folded = getVar('fold_' + this.sign, '')\n        if (this.fold) el.push({\n            title: '““””<span style=\"color:#049eff\">' + (folded ? '▶' : '▼'),\n            url: $('#noLoading#').lazyRule((sign, folded) => {\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\n                refreshPage(false)\n                return 'hiker://empty'\n            }, this.sign, folded),\n            col_type: 'scroll_button'\n        })\n        let arr = folded ? [this.arr[0]] : this.arr\n        arr.forEach((v) => {\n            let { id, class_name, class_url } = v,\n                selected = JSON.stringify(this.getClass(id))\n            class_name.forEach((name, i) => {\n                let url = class_url[i],\n                    now = JSON.stringify({ name: name, url: url })\n                el.push({\n                    title: (selected == now ? '““””<span style=\"color:' + this.color + '\"><b>' : '') + name,\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\n                        putVar(sign + id, now)\n                        putVar(sign, now)\n                        refreshPage(false)\n                        return 'hiker://empty'\n                    }, this.sign, id, now),\n                    col_type: 'scroll_button'\n                })\n            })\n            el.push({ col_type: this.boundary })\n        })\n    },\n    init(classObject) {\n        if (typeof classObject.class_name == 'string')\n            classObject.class_name = classObject.class_name.split('&')\n        if (typeof classObject.class_url == 'string')\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\n        return classObject\n    },\n    push(classObject) {\n        this.arr.push(this.init(classObject))\n    },\n    getClass(id) {\n        let defaultClass = this.arr.find(item => item.id == id)\n        if (defaultClass) defaultClass = JSON.stringify({\n            name: defaultClass.class_name[0],\n            url: defaultClass.class_url[0]\n        })\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\n        return JSON.parse(getVar(this.sign + id, defaultClass))\n    },\n    getLastClick() {\n        return JSON.parse(getVar(this.sign, '{}'))\n    },\n    setUrl(url) {\n        return url.replace(/\\$\\{([^}]*)\\}/g, (_, id) => this.getClass(id).url)\n    }\n}\n$.exports = ClassTab\n"},{"col_type":"movie_3","name":"首页","path":"indexLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = parseInt(MY_URL.split('#')[1]),\n    RULE = MY_PARAMS.RULE,\n    fyAll = RULE.url.includes('fyAll'),\n    // 加载ClassTab组件\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\n    tabHeader = []\n\nif (RULE.class_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyclass',\n    class_name: RULE.class_name,\n    class_url: RULE.class_url\n})\nif (RULE.area_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyarea',\n    class_name: RULE.area_name,\n    class_url: RULE.area_url\n})\nif (RULE.year_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyyear',\n    class_name: RULE.year_name,\n    class_url: RULE.year_url\n})\nif (RULE.sort_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fysort',\n    class_name: RULE.sort_name,\n    class_url: RULE.sort_url\n})\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\nif (pageNum == 1) {\n    addListener('onClose', 'clearVar(\"myCollection-searchMode\")')\n    putVar('myCollection-searchMode', RULE.title)\n    tabHeader.load(myCollection_el)\n    if (RULE.search_url) myCollection_el.push({\n        title: \"搜索\",\n        desc: \"搜你想要的...\",\n        url: '\"hiker://page/singleSearch?keyword=\"+input+\"&page=fypage\"',\n        extra: { rule: getItem('myCollection'), RULE: RULE },\n        col_type: \"input\",\n    })\n}\n// 处理MY_URL和MY_RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.find_rule\nMY_RULE.detail_find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\n    url[0] = tabHeader.setUrl(url[0])\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) eval(MY_RULE.preRule)\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"详情","path":"detailLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = 1\n\n// 处理MY_URL和MY_RULE\nlet RULE = MY_PARAMS.RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = RULE.pageList\nMY_RULE.pages = RULE.pages\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = RULE.params\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet fypageFlag = MY_PARAMS.url.indexOf('fypage')\nif (fypageFlag >= 0) pageNum = parseInt(/^\\d+/.exec(MY_URL.slice(fypageFlag)))\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, pageNum),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 解析正文\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\neval(MY_RULE.preRule)\nsetLastChapterRule(MY_RULE.last_chapter_rule)\nMY_PARAMS = MY_RULE.params\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else { return v }\n            v.extra = { url: v.url, RULE: MY__RULE }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\n    findRule = findRule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (detailFindRule) {\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"工具集","path":"utility","rule":"$.exports = {\n    dataLoad: function(showAll) {\n        //检查间隔，默认一天\n        let interval = parseInt(readFile('updateInterval') || '1'),\n            time = parseInt(readFile('updateTime')) || 0,\n            now = new Date().getTime(),\n            data = []\n        if (time == 0 || interval > 0 && now - time > 1000 * 60 * 60 * 24 * interval) {\n            // 获取远程数据\n            let url = getItem('remoteUrl')\n            try {\n                let remoteData = fetch(url)\n                if (url.startsWith('hiker://page/'))\n                    remoteData = JSON.parse(remoteData).rule\n                data = JSON.parse(remoteData)\n            } catch (e) {}\n            if(data.length == 0) {\n                data = JSON.parse(readFile('dataCache') || '[]')\n                log('没有获取到更新数据')\n            } else {\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\n                saveFile('dataCache', JSON.stringify(data))\n                saveFile('updateTime', now.toString())\n                log('更新数据已写入本地')\n            }\n        } else {\n            data = JSON.parse(readFile('dataCache') || '[]')\n        }\n        // 写入自定义数据\n        let customData = JSON.parse(readFile('customData') || '[]'),\n            rewriteData = []\n        customData = customData.reduce((self, v) => {\n            let index = data.findIndex((vv) => v.title == vv.title)\n            if (index >= 0) {\n                self.push(v)\n                let rule = data.splice(index, 1)[0]\n                if(showAll || v.visible)\n                    rewriteData.push(Object.assign(rule, v))\n            }\n            return self\n        }, [])\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\n        saveFile('customData', JSON.stringify(customData))\n        return rewriteData.concat(data)\n    },\n    runCode: function(rule) {\n        try {\n            let [input, code] = rule.split('.js:')\n            return code ? eval(code) : rule\n        } catch (e) { return rule }\n    },\n    urlParse: function(url, headers, pageNum, func) {\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\n        if (func) func(url)\n        url[0] = url[0].replace(/fypage(?:@(-?\\d+)@)?(?:\\*(\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\n        url[0] = /^([\\s\\S]*?)(?:\\[firstPage=([\\s\\S]*?)\\])?$/.exec(url[0])\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\n        let options = { headers: headers, method: url[1] }\n        // post方法时转换参数\n        if (/^post$/i.test(options['method'])) {\n            let [oriUrl, body] = url[0].split('?')\n            url[0] = oriUrl.replace(/？？/g, '?')\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\n            options['body'] = body\n        }\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\n            let [key, value] = v.split('@')\n            options.headers[key] = runCode(value)\n        })\n        // 添加全局UA\n        if (!options.headers['User-Agent']) {\n            if (MY_RULE.ua == 'pc')\n                options.headers['User-Agent'] = PC_UA\n            else if (MY_RULE.ua == 'mobile')\n                options.headers['User-Agent'] = MOBILE_UA\n        }\n        return { MY_URL: url[0], MY_URL_Options: options }\n    }\n}\n"},{"col_type":"movie_1_vertical_pic","name":"单搜","path":"singleSearch","rule":"js:\nlet myCollection_el = [],\n    RULE = MY_PARAMS.RULE,\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page'))\n\n// 处理MY_URL和MY_RULE\nMY_TYPE = 'search'\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\nMY_RULE.find_rule = RULE.searchFind\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE),\n                subTitle = v.title\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\n            v.desc = v.content || ''\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\n            delete v.content\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 4) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 1) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\n                url: url,\n                desc: content,\n                img: img\n            }\n        if(!res.img) res.col_type = 'text_1'\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"icon_2_round","name":"设置","path":"Config","rule":"js:\naddListener('onClose', 'clearVar(\"myCollection-sortFlag\");refreshPage()')\nsetPageTitle('⚙ 轻合集设置 ⚙')\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet data = dataLoad(true),\n    el = [{\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\n        url: $().lazyRule(() => {\n            deleteFile('updateTime')\n            back(false)\n            return 'toast://已更新'\n        }),\n        img: 'hiker://images/icon1',\n        col_type: 'avatar'\n    }],\n    searchThd = readFile('searchThd') || '5',\n    updateInterval = readFile('updateInterval') || '1',\n    newWindow = readFile('newWindow'),\n    editMode = getVar('myCollection-editMode', '启用/禁用')\n\nel.push({\n    title: '  🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd) + '  ',\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\n        if (input == '列表搜索') {\n            saveFile('searchThd', '0')\n            refreshPage()\n        } else {\n            if (searchThd == 0) searchThd = 5\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\n                saveFile('searchThd', input)\n                refreshPage()\n            })\n        }\n    }, searchThd),\n    col_type: 'scroll_button'\n}, {\n    title: '  💡 更新频率: ' + (updateInterval < 1 ? '手动' : updateInterval + '天') + '  ',\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新').input(() => {\n        saveFile('updateInterval', input)\n        refreshPage()\n        return 'hiker://empty'\n    }),\n    col_type: 'scroll_button'\n}, {\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\n    url: $('#noLoading#').lazyRule((newWindow) => {\n        saveFile('newWindow', newWindow ? '' : '1')\n        refreshPage()\n        return 'hiker://empty'\n    }, newWindow),\n    col_type: 'scroll_button'\n}, {\n    title: '““””<font color=\"#666666\"><small>特别鸣谢，小程序提供者：\\n' +\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\n    url: 'hiker://empty',\n    col_type: 'text_center_1'\n})\n\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\n    el.push({\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\n            putVar('myCollection-editMode', v)\n            refreshPage(false)\n            return 'hiker://empty'\n        }, v),\n        col_type: 'scroll_button'\n    })\n})\nel.push({\n    title: '恢复出厂数据',\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\n        deleteFile('customData')\n        refreshPage(false)\n        return 'toast://已恢复出厂数据'\n    }),\n    col_type: 'scroll_button'\n})\n\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\n    let d = { title: v.title, img: data[i].icon }\n    switch (editMode) {\n        case '启用/禁用':\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\n            d.url = $('#noLoading#').lazyRule((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                rules[index].visible = !rules[index].visible\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '重新排序':\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\n            if (sortFlag == -1)\n                d.url = $('#noLoading#').lazyRule((i) => {\n                    putVar('myCollection-sortFlag', i.toString())\n                    refreshPage(false)\n                    return 'toast://选择要移动到的位置'\n                }, i)\n            else\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\n                    let rules = JSON.parse(readFile('customData') || '[]')\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\n                    saveFile('customData', JSON.stringify(rules))\n                    putVar('myCollection-sortFlag', '-1')\n                    refreshPage(false)\n                    return 'hiker://empty'\n                }, sortFlag, i)\n            break\n        case '更改图标':\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                if (input)\n                    rules[index].icon = input\n                else\n                    delete rules[index].icon\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '导入海阔':\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\n            break\n    }\n    el.push(d)\n})\nsetResult(el)\n"}],"title":"轻合集.逐风者","author":"轻合集生成器","version":78,"url":"hiker://empty","col_type":"icon_round_small_4","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet el = [{\n    title: ' ' + getItem('myCollection').bold() + ' &nbsp &nbsp ' + '⚙ 轻合集设置 ⚙'.small(),\n    url: 'hiker://page/Config?rule=' + getItem('myCollection'),\n    img: MY_RULE.icon || 'hiker://images/icon1',\n    col_type: 'avatar'\n}, {\n    url: '\"hiker://search?s=\"+input+\"&rule=' + getItem('myCollection') + '\"',\n    desc: '搜你想要的...',\n    title: '搜索',\n    col_type: 'input'\n}]\n\nlet newWindow = readFile('newWindow')\ndataLoad().forEach((v) => {\n    let fypage = /^[^;]*?fypage.*?(;.*)?$/.test(v.url) ? 'fypage' : '1',\n        d = {\n            title: v.title,\n            url: 'hiker://page/indexLoad?#' + fypage + '#noHistory#',\n            img: v.icon||'https://cf-ipfs.com/ipfs/QmXxgDVAZLWhFxikrAFVPRZQuJ2uFae7syXhFubPwMwUiU',\n            extra: { RULE: v }\n        }\n    if(newWindow) Object.assign(d.extra, { newWindow: true, windowId: getItem('myCollection') + d.title })\n    el.push(d)\n})\nsetResult(el)","searchFind":"js:\nvar { dataLoad, runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet myCollection_el = [],\n    searchThd = parseInt(readFile('searchThd') || '5'),\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page')),\n    RULES = dataLoad().filter((v) => v.search_url)\nif (searchThd == 0) {\n    myCollection_el.push({\n        title: ('⬇ 选择一个小程序查看' + keyword + '的搜索结果 ⬇').small(),\n        url: 'hiker://empty'\n    })\n    RULES.forEach((v) => myCollection_el.push({\n        title: v.title,\n        url: \"hiker://page/singleSearch?keyword=\" + keyword + \"&page=fypage\",\n        extra: { rule: getItem('myCollection'), RULE: v },\n    }))\n} else if (searchThd > 0) {\n    let searchCount = pageNum * searchThd,\n        searchTag = { title: '⬆ 已搜索了' + searchCount + '个小程序 ⬆\\n⬇ 下面还有' + RULES.slice(searchCount).length + '个小程序 ⬇' }\n    RULES = RULES.slice(searchCount - searchThd, searchCount)\n    if (!RULES.length) setResult([])\n\n    let URLS = RULES.map((RULE) => {\n        MY_RULE.ua = RULE.ua\n        let urlReq = urlParse(RULE.search_url, {}, 1, (url) => {\n            url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n        })\n        return { url: urlReq.MY_URL, options: urlReq.MY_URL_Options }\n    })\n    batchFetch(URLS).forEach((indexHtml, index) => {\n        // 处理MY_URL和MY_RULE\n        let RULE = RULES[index]\n        MY_URL = URLS[index].url\n        MY_RULE.ua = RULE.ua\n        MY_RULE.col_type = RULE.col_type\n        MY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\n        MY_RULE.find_rule = RULE.searchFind\n        MY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\n        MY_RULE.preRule = RULE.preRule\n        MY_RULE.pageList = JSON.parse(RULE.pages || '[]')\n        MY_RULE.pages = JSON.stringify(MY_RULE.pageList)\n        MY_RULE.last_chapter_rule = RULE.last_chapter_rule\n        MY_RULE.params = {}\n        MY_RULE.url = MY_URL\n        MY_RULE.urlHeaders = URLS[index].options.headers\n\n        // 正文解析\n        eval(MY_RULE.preRule)\n        if (MY_RULE.find_rule.startsWith('js:')) {\n            function getUrl() {\n                return MY_URL\n            }\n\n            function getResCode() {\n                return indexHtml\n            }\n\n            setResult = function(el) {\n                if (Array.isArray(el.data)) el = el.data\n                Array.prototype.push.apply(myCollection_el, el.map((v) => {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    v.desc = RULE.title + ' ▪ ' + (v.desc || '')\n\n                    if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                        return v\n                    } else if (v.url.includes('@rule=')) {\n                        let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                        v.url = url\n                        MY__RULE.detail_find_rule = rule\n                        MY__RULE.detail_col_type = MY_RULE.col_type\n                    } else if (v.url.startsWith('hiker://page/')) {\n                        if (v.url.includes('rule=') || (v.extra || {}).rule)\n                            return v\n                        let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                            subPage = MY_RULE.pageList.find((v) => v.path == path),\n                            subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                        v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                        MY__RULE.detail_find_rule = subPage.rule\n                        MY__RULE.detail_col_type = subPage.col_type\n                        MY__RULE.params = v.extra || {}\n                    } else if (v.url.includes('@lazyRule=')) {\n                        v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                        return v\n                    } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n                    v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n                    v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                    if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n\n                    return v\n                }))\n            }\n            setHomeResult = setResult\n            setSearchResult = setResult\n\n            try {\n                eval(MY_RULE.find_rule.slice(3))\n            } catch (e) {}\n        } else {\n            let findRule = MY_RULE.find_rule.split(';')\n            parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n                let [title, url, desc, content, img] = findRule.map((v, i) => {\n                        try {\n                            if (v == '*') return ''\n                            else v = (i == 1 || i == 4) ?\n                                parseDom(data, v) :\n                                parseDomForHtml(data, v)\n                            if (i != 1) v = runCode(v)\n                            return v\n                        } catch (e) { return '' }\n                    }),\n                    res = {\n                        title: title,\n                        url: url,\n                        desc: RULE.title + ' ▪ ' + desc,\n                        content: content,\n                        img: img\n                    }\n                if (res.url) {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    if (res.url.includes('@lazyRule=')) {\n                        res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY__RULE.pages, pageList: MY__RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                    } else if (MY_RULE.detail_find_rule) {\n                        res.extra = { url: url, RULE: MY__RULE, pageTitle: title }\n                        res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                        if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n                    }\n                }\n                myCollection_el.push(res)\n            })\n        }\n    })\n    myCollection_el.push(searchTag)\n}\nmethod_setResult.invoke(javaContext, myCollection_el, CALLBACK_KEY, MY_RULE, MY_TYPE)\n","search_url":"hiker://empty?keyword=**&page=fypage","group":"①轻合集","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"setItem('myCollection', MY_RULE.title)\nsetItem('remoteUrl', 'http://hiker.nokia.press/hikerule/dev/json_list?name=510381049')\n// \n// 包裹错误","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"function ClassTab(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = getVar('fold_' + this.sign, '')\\n        if (this.fold) el.push({\\n            title: '““””<span style=\\\"color:#049eff\\\">' + (folded ? '▶' : '▼'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n                selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: (selected == now ? '““””<span style=\\\"color:' + this.color + '\\\"><b>' : '') + name,\\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        putVar(sign, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        if (defaultClass) defaultClass = JSON.stringify({\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        })\\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    getLastClick() {\\n        return JSON.parse(getVar(this.sign, '{}'))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n$.exports = ClassTab\\n\"},{\"col_type\":\"movie_3\",\"name\":\"首页\",\"path\":\"indexLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = parseInt(MY_URL.split('#')[1]),\\n    RULE = MY_PARAMS.RULE,\\n    fyAll = RULE.url.includes('fyAll'),\\n    // 加载ClassTab组件\\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\\n    tabHeader = []\\n\\nif (RULE.class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: RULE.class_name,\\n    class_url: RULE.class_url\\n})\\nif (RULE.area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: RULE.area_name,\\n    class_url: RULE.area_url\\n})\\nif (RULE.year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: RULE.year_name,\\n    class_url: RULE.year_url\\n})\\nif (RULE.sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: RULE.sort_name,\\n    class_url: RULE.sort_url\\n})\\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\\nif (pageNum == 1) {\\n    addListener('onClose', 'clearVar(\\\"myCollection-searchMode\\\")')\\n    putVar('myCollection-searchMode', RULE.title)\\n    tabHeader.load(myCollection_el)\\n    if (RULE.search_url) myCollection_el.push({\\n        title: \\\"搜索\\\",\\n        desc: \\\"搜你想要的...\\\",\\n        url: '\\\"hiker://page/singleSearch?keyword=\\\"+input+\\\"&page=fypage\\\"',\\n        extra: { rule: getItem('myCollection'), RULE: RULE },\\n        col_type: \\\"input\\\",\\n    })\\n}\\n// 处理MY_URL和MY_RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.find_rule\\nMY_RULE.detail_find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\\n    url[0] = tabHeader.setUrl(url[0])\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) eval(MY_RULE.preRule)\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"详情\",\"path\":\"detailLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = 1\\n\\n// 处理MY_URL和MY_RULE\\nlet RULE = MY_PARAMS.RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = RULE.pageList\\nMY_RULE.pages = RULE.pages\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = RULE.params\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet fypageFlag = MY_PARAMS.url.indexOf('fypage')\\nif (fypageFlag >= 0) pageNum = parseInt(/^\\\\d+/.exec(MY_URL.slice(fypageFlag)))\\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, pageNum),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 解析正文\\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\\neval(MY_RULE.preRule)\\nsetLastChapterRule(MY_RULE.last_chapter_rule)\\nMY_PARAMS = MY_RULE.params\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\\n    findRule = findRule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (detailFindRule) {\\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"工具集\",\"path\":\"utility\",\"rule\":\"$.exports = {\\n    dataLoad: function(showAll) {\\n        //检查间隔，默认一天\\n        let interval = parseInt(readFile('updateInterval') || '1'),\\n            time = parseInt(readFile('updateTime')) || 0,\\n            now = new Date().getTime(),\\n            data = []\\n        if (time == 0 || interval > 0 && now - time > 1000 * 60 * 60 * 24 * interval) {\\n            // 获取远程数据\\n            let url = getItem('remoteUrl')\\n            try {\\n                let remoteData = fetch(url)\\n                if (url.startsWith('hiker://page/'))\\n                    remoteData = JSON.parse(remoteData).rule\\n                data = JSON.parse(remoteData)\\n            } catch (e) {}\\n            if(data.length == 0) {\\n                data = JSON.parse(readFile('dataCache') || '[]')\\n                log('没有获取到更新数据')\\n            } else {\\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\\n                saveFile('dataCache', JSON.stringify(data))\\n                saveFile('updateTime', now.toString())\\n                log('更新数据已写入本地')\\n            }\\n        } else {\\n            data = JSON.parse(readFile('dataCache') || '[]')\\n        }\\n        // 写入自定义数据\\n        let customData = JSON.parse(readFile('customData') || '[]'),\\n            rewriteData = []\\n        customData = customData.reduce((self, v) => {\\n            let index = data.findIndex((vv) => v.title == vv.title)\\n            if (index >= 0) {\\n                self.push(v)\\n                let rule = data.splice(index, 1)[0]\\n                if(showAll || v.visible)\\n                    rewriteData.push(Object.assign(rule, v))\\n            }\\n            return self\\n        }, [])\\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\\n        saveFile('customData', JSON.stringify(customData))\\n        return rewriteData.concat(data)\\n    },\\n    runCode: function(rule) {\\n        try {\\n            let [input, code] = rule.split('.js:')\\n            return code ? eval(code) : rule\\n        } catch (e) { return rule }\\n    },\\n    urlParse: function(url, headers, pageNum, func) {\\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\\n        if (func) func(url)\\n        url[0] = url[0].replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n        url[0] = /^([\\\\s\\\\S]*?)(?:\\\\[firstPage=([\\\\s\\\\S]*?)\\\\])?$/.exec(url[0])\\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\\n        let options = { headers: headers, method: url[1] }\\n        // post方法时转换参数\\n        if (/^post$/i.test(options['method'])) {\\n            let [oriUrl, body] = url[0].split('?')\\n            url[0] = oriUrl.replace(/？？/g, '?')\\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\\n            options['body'] = body\\n        }\\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\\n            let [key, value] = v.split('@')\\n            options.headers[key] = runCode(value)\\n        })\\n        // 添加全局UA\\n        if (!options.headers['User-Agent']) {\\n            if (MY_RULE.ua == 'pc')\\n                options.headers['User-Agent'] = PC_UA\\n            else if (MY_RULE.ua == 'mobile')\\n                options.headers['User-Agent'] = MOBILE_UA\\n        }\\n        return { MY_URL: url[0], MY_URL_Options: options }\\n    }\\n}\\n\"},{\"col_type\":\"movie_1_vertical_pic\",\"name\":\"单搜\",\"path\":\"singleSearch\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    RULE = MY_PARAMS.RULE,\\n    keyword = getParam('keyword'),\\n    pageNum = parseInt(getParam('page'))\\n\\n// 处理MY_URL和MY_RULE\\nMY_TYPE = 'search'\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\\nMY_RULE.find_rule = RULE.searchFind\\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\\\*\\\\*/g, encodeStr(keyword, url[2]))\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE),\\n                subTitle = v.title\\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\\n            v.desc = v.content || ''\\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\\n            delete v.content\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 4) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 1) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\\n                url: url,\\n                desc: content,\\n                img: img\\n            }\\n        if(!res.img) res.col_type = 'text_1'\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"icon_2_round\",\"name\":\"设置\",\"path\":\"Config\",\"rule\":\"js:\\naddListener('onClose', 'clearVar(\\\"myCollection-sortFlag\\\");refreshPage()')\\nsetPageTitle('⚙ 轻合集设置 ⚙')\\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet data = dataLoad(true),\\n    el = [{\\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\\n        url: $().lazyRule(() => {\\n            deleteFile('updateTime')\\n            back(false)\\n            return 'toast://已更新'\\n        }),\\n        img: 'hiker://images/icon1',\\n        col_type: 'avatar'\\n    }],\\n    searchThd = readFile('searchThd') || '5',\\n    updateInterval = readFile('updateInterval') || '1',\\n    newWindow = readFile('newWindow'),\\n    editMode = getVar('myCollection-editMode', '启用/禁用')\\n\\nel.push({\\n    title: '  🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd) + '  ',\\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\\n        if (input == '列表搜索') {\\n            saveFile('searchThd', '0')\\n            refreshPage()\\n        } else {\\n            if (searchThd == 0) searchThd = 5\\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\\n                saveFile('searchThd', input)\\n                refreshPage()\\n            })\\n        }\\n    }, searchThd),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💡 更新频率: ' + (updateInterval < 1 ? '手动' : updateInterval + '天') + '  ',\\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新').input(() => {\\n        saveFile('updateInterval', input)\\n        refreshPage()\\n        return 'hiker://empty'\\n    }),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((newWindow) => {\\n        saveFile('newWindow', newWindow ? '' : '1')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, newWindow),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '““””<font color=\\\"#666666\\\"><small>特别鸣谢，小程序提供者：\\\\n' +\\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1'\\n})\\n\\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\\n    el.push({\\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\\n            putVar('myCollection-editMode', v)\\n            refreshPage(false)\\n            return 'hiker://empty'\\n        }, v),\\n        col_type: 'scroll_button'\\n    })\\n})\\nel.push({\\n    title: '恢复出厂数据',\\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\\n        deleteFile('customData')\\n        refreshPage(false)\\n        return 'toast://已恢复出厂数据'\\n    }),\\n    col_type: 'scroll_button'\\n})\\n\\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\\n    let d = { title: v.title, img: data[i].icon }\\n    switch (editMode) {\\n        case '启用/禁用':\\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\\n            d.url = $('#noLoading#').lazyRule((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                rules[index].visible = !rules[index].visible\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '重新排序':\\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\\n            if (sortFlag == -1)\\n                d.url = $('#noLoading#').lazyRule((i) => {\\n                    putVar('myCollection-sortFlag', i.toString())\\n                    refreshPage(false)\\n                    return 'toast://选择要移动到的位置'\\n                }, i)\\n            else\\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\\n                    let rules = JSON.parse(readFile('customData') || '[]')\\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\\n                    saveFile('customData', JSON.stringify(rules))\\n                    putVar('myCollection-sortFlag', '-1')\\n                    refreshPage(false)\\n                    return 'hiker://empty'\\n                }, sortFlag, i)\\n            break\\n        case '更改图标':\\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                if (input)\\n                    rules[index].icon = input\\n                else\\n                    delete rules[index].icon\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '导入海阔':\\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\\n            break\\n    }\\n    el.push(d)\\n})\\nsetResult(el)\\n\"}]","icon":"http://q1.qlogo.cn/g?b=qq&nk=510381049&s=640"},{"last_chapter_rule":"","pageList":[{"col_type":"text_1","name":"ClassTab","path":"ClassTab","rule":"function ClassTab(classArray, params) {\n    Object.assign(this, params)\n    this.arr = classArray.map(v => this.init(v))\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\n    this.color = this.color || '#12b668'\n    this.boundary = this.boundary || 'blank_block'\n}\nClassTab.prototype = {\n    constructor: ClassTab,\n    load(el) {\n        let folded = getVar('fold_' + this.sign, '')\n        if (this.fold) el.push({\n            title: '““””<span style=\"color:#049eff\">' + (folded ? '▶' : '▼'),\n            url: $('#noLoading#').lazyRule((sign, folded) => {\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\n                refreshPage(false)\n                return 'hiker://empty'\n            }, this.sign, folded),\n            col_type: 'scroll_button'\n        })\n        let arr = folded ? [this.arr[0]] : this.arr\n        arr.forEach((v) => {\n            let { id, class_name, class_url } = v,\n                selected = JSON.stringify(this.getClass(id))\n            class_name.forEach((name, i) => {\n                let url = class_url[i],\n                    now = JSON.stringify({ name: name, url: url })\n                el.push({\n                    title: (selected == now ? '““””<span style=\"color:' + this.color + '\"><b>' : '') + name,\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\n                        putVar(sign + id, now)\n                        putVar(sign, now)\n                        refreshPage(false)\n                        return 'hiker://empty'\n                    }, this.sign, id, now),\n                    col_type: 'scroll_button'\n                })\n            })\n            el.push({ col_type: this.boundary })\n        })\n    },\n    init(classObject) {\n        if (typeof classObject.class_name == 'string')\n            classObject.class_name = classObject.class_name.split('&')\n        if (typeof classObject.class_url == 'string')\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\n        return classObject\n    },\n    push(classObject) {\n        this.arr.push(this.init(classObject))\n    },\n    getClass(id) {\n        let defaultClass = this.arr.find(item => item.id == id)\n        if (defaultClass) defaultClass = JSON.stringify({\n            name: defaultClass.class_name[0],\n            url: defaultClass.class_url[0]\n        })\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\n        return JSON.parse(getVar(this.sign + id, defaultClass))\n    },\n    getLastClick() {\n        return JSON.parse(getVar(this.sign, '{}'))\n    },\n    setUrl(url) {\n        return url.replace(/\\$\\{([^}]*)\\}/g, (_, id) => this.getClass(id).url)\n    }\n}\n$.exports = ClassTab\n"},{"col_type":"movie_3","name":"首页","path":"indexLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = parseInt(MY_URL.split('#')[1]),\n    RULE = MY_PARAMS.RULE,\n    fyAll = RULE.url.includes('fyAll'),\n    // 加载ClassTab组件\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\n    tabHeader = []\n\nif (RULE.class_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyclass',\n    class_name: RULE.class_name,\n    class_url: RULE.class_url\n})\nif (RULE.area_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyarea',\n    class_name: RULE.area_name,\n    class_url: RULE.area_url\n})\nif (RULE.year_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyyear',\n    class_name: RULE.year_name,\n    class_url: RULE.year_url\n})\nif (RULE.sort_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fysort',\n    class_name: RULE.sort_name,\n    class_url: RULE.sort_url\n})\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\nif (pageNum == 1) {\n    addListener('onClose', 'clearVar(\"myCollection-searchMode\")')\n    putVar('myCollection-searchMode', RULE.title)\n    tabHeader.load(myCollection_el)\n    if (RULE.search_url) myCollection_el.push({\n        title: \"搜索\",\n        desc: \"搜你想要的...\",\n        url: '\"hiker://page/singleSearch?keyword=\"+input+\"&page=fypage\"',\n        extra: { rule: getItem('myCollection'), RULE: RULE },\n        col_type: \"input\",\n    })\n}\n// 处理MY_URL和MY_RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.find_rule\nMY_RULE.detail_find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\n    url[0] = tabHeader.setUrl(url[0])\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) eval(MY_RULE.preRule)\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"详情","path":"detailLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = 1\n\n// 处理MY_URL和MY_RULE\nlet RULE = MY_PARAMS.RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = RULE.pageList\nMY_RULE.pages = RULE.pages\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = RULE.params\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet fypageFlag = MY_PARAMS.url.indexOf('fypage')\nif (fypageFlag >= 0) pageNum = parseInt(/^\\d+/.exec(MY_URL.slice(fypageFlag)))\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, pageNum),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 解析正文\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\neval(MY_RULE.preRule)\nsetLastChapterRule(MY_RULE.last_chapter_rule)\nMY_PARAMS = MY_RULE.params\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else { return v }\n            v.extra = { url: v.url, RULE: MY__RULE }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\n    findRule = findRule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (detailFindRule) {\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"工具集","path":"utility","rule":"$.exports = {\n    dataLoad: function(showAll) {\n        //检查间隔，默认一天\n        let interval = parseInt(readFile('updateInterval') || '1'),\n            time = parseInt(readFile('updateTime')) || 0,\n            now = new Date().getTime(),\n            data = []\n        if (time == 0 || interval > 0 && now - time > 1000 * 60 * 60 * 24 * interval) {\n            // 获取远程数据\n            let url = getItem('remoteUrl')\n            try {\n                let remoteData = fetch(url)\n                if (url.startsWith('hiker://page/'))\n                    remoteData = JSON.parse(remoteData).rule\n                data = JSON.parse(remoteData)\n            } catch (e) {}\n            if(data.length == 0) {\n                data = JSON.parse(readFile('dataCache') || '[]')\n                log('没有获取到更新数据')\n            } else {\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\n                saveFile('dataCache', JSON.stringify(data))\n                saveFile('updateTime', now.toString())\n                log('更新数据已写入本地')\n            }\n        } else {\n            data = JSON.parse(readFile('dataCache') || '[]')\n        }\n        // 写入自定义数据\n        let customData = JSON.parse(readFile('customData') || '[]'),\n            rewriteData = []\n        customData = customData.reduce((self, v) => {\n            let index = data.findIndex((vv) => v.title == vv.title)\n            if (index >= 0) {\n                self.push(v)\n                let rule = data.splice(index, 1)[0]\n                if(showAll || v.visible)\n                    rewriteData.push(Object.assign(rule, v))\n            }\n            return self\n        }, [])\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\n        saveFile('customData', JSON.stringify(customData))\n        return rewriteData.concat(data)\n    },\n    runCode: function(rule) {\n        try {\n            let [input, code] = rule.split('.js:')\n            return code ? eval(code) : rule\n        } catch (e) { return rule }\n    },\n    urlParse: function(url, headers, pageNum, func) {\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\n        if (func) func(url)\n        url[0] = url[0].replace(/fypage(?:@(-?\\d+)@)?(?:\\*(\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\n        url[0] = /^([\\s\\S]*?)(?:\\[firstPage=([\\s\\S]*?)\\])?$/.exec(url[0])\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\n        let options = { headers: headers, method: url[1] }\n        // post方法时转换参数\n        if (/^post$/i.test(options['method'])) {\n            let [oriUrl, body] = url[0].split('?')\n            url[0] = oriUrl.replace(/？？/g, '?')\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\n            options['body'] = body\n        }\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\n            let [key, value] = v.split('@')\n            options.headers[key] = runCode(value)\n        })\n        // 添加全局UA\n        if (!options.headers['User-Agent']) {\n            if (MY_RULE.ua == 'pc')\n                options.headers['User-Agent'] = PC_UA\n            else if (MY_RULE.ua == 'mobile')\n                options.headers['User-Agent'] = MOBILE_UA\n        }\n        return { MY_URL: url[0], MY_URL_Options: options }\n    }\n}\n"},{"col_type":"movie_1_vertical_pic","name":"单搜","path":"singleSearch","rule":"js:\nlet myCollection_el = [],\n    RULE = MY_PARAMS.RULE,\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page'))\n\n// 处理MY_URL和MY_RULE\nMY_TYPE = 'search'\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\nMY_RULE.find_rule = RULE.searchFind\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE),\n                subTitle = v.title\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\n            v.desc = v.content || ''\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\n            delete v.content\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 4) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 1) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\n                url: url,\n                desc: content,\n                img: img\n            }\n        if(!res.img) res.col_type = 'text_1'\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"icon_2_round","name":"设置","path":"Config","rule":"js:\naddListener('onClose', 'clearVar(\"myCollection-sortFlag\");refreshPage()')\nsetPageTitle('⚙ 轻合集设置 ⚙')\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet data = dataLoad(true),\n    el = [{\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\n        url: $().lazyRule(() => {\n            deleteFile('updateTime')\n            back(false)\n            return 'toast://已更新'\n        }),\n        img: 'hiker://images/icon1',\n        col_type: 'avatar'\n    }],\n    searchThd = readFile('searchThd') || '5',\n    updateInterval = readFile('updateInterval') || '1',\n    newWindow = readFile('newWindow'),\n    editMode = getVar('myCollection-editMode', '启用/禁用')\n\nel.push({\n    title: '  🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd) + '  ',\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\n        if (input == '列表搜索') {\n            saveFile('searchThd', '0')\n            refreshPage()\n        } else {\n            if (searchThd == 0) searchThd = 5\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\n                saveFile('searchThd', input)\n                refreshPage()\n            })\n        }\n    }, searchThd),\n    col_type: 'scroll_button'\n}, {\n    title: '  💡 更新频率: ' + (updateInterval < 1 ? '手动' : updateInterval + '天') + '  ',\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新').input(() => {\n        saveFile('updateInterval', input)\n        refreshPage()\n        return 'hiker://empty'\n    }),\n    col_type: 'scroll_button'\n}, {\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\n    url: $('#noLoading#').lazyRule((newWindow) => {\n        saveFile('newWindow', newWindow ? '' : '1')\n        refreshPage()\n        return 'hiker://empty'\n    }, newWindow),\n    col_type: 'scroll_button'\n}, {\n    title: '““””<font color=\"#666666\"><small>特别鸣谢，小程序提供者：\\n' +\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\n    url: 'hiker://empty',\n    col_type: 'text_center_1'\n})\n\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\n    el.push({\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\n            putVar('myCollection-editMode', v)\n            refreshPage(false)\n            return 'hiker://empty'\n        }, v),\n        col_type: 'scroll_button'\n    })\n})\nel.push({\n    title: '恢复出厂数据',\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\n        deleteFile('customData')\n        refreshPage(false)\n        return 'toast://已恢复出厂数据'\n    }),\n    col_type: 'scroll_button'\n})\n\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\n    let d = { title: v.title, img: data[i].icon }\n    switch (editMode) {\n        case '启用/禁用':\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\n            d.url = $('#noLoading#').lazyRule((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                rules[index].visible = !rules[index].visible\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '重新排序':\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\n            if (sortFlag == -1)\n                d.url = $('#noLoading#').lazyRule((i) => {\n                    putVar('myCollection-sortFlag', i.toString())\n                    refreshPage(false)\n                    return 'toast://选择要移动到的位置'\n                }, i)\n            else\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\n                    let rules = JSON.parse(readFile('customData') || '[]')\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\n                    saveFile('customData', JSON.stringify(rules))\n                    putVar('myCollection-sortFlag', '-1')\n                    refreshPage(false)\n                    return 'hiker://empty'\n                }, sortFlag, i)\n            break\n        case '更改图标':\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                if (input)\n                    rules[index].icon = input\n                else\n                    delete rules[index].icon\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '导入海阔':\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\n            break\n    }\n    el.push(d)\n})\nsetResult(el)\n"}],"title":"聚漫🔮","author":"人民大众","version":211130,"url":"hiker://empty","col_type":"icon_round_small_4","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst {\n    dataLoad\n} = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet el = [{\n    title: ' ' + getItem('myCollection').bold() + ' &nbsp &nbsp ' + '⚙ 轻合集设置 ⚙'.small(),\n    url: 'hiker://page/Config?rule=' + getItem('myCollection'),\n    img: MY_RULE.icon || 'hiker://images/icon1',\n    col_type: 'avatar'\n}, {\n    url: '\"hiker://search?s=\"+input+\"&rule=' + getItem('myCollection') + '\"',\n    desc: '搜你想要的...',\n    title: '搜索',\n    col_type: 'input'\n}]\n\nif (getItem(\"read_policy\") !== \"1\") {\n    el.push({\n        title: '““””<small><font color=#871f78>以下数据来源于网络，如您喜欢，请支持官方</font></small>',\n        desc: '““””<small><font color=#f20c00>本规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n        url: $('#noHistory#').lazyRule(() => {\n            setItem(\"read_policy\", \"1\")\n            refreshPage(false)\n            return \"toast://你已同意该协议\"\n        }),\n        col_type: 'text_center_1'\n    })\n}\n\nlet newWindow = readFile('newWindow')\ndataLoad().forEach((v) => {\n    let fypage = /^[^;]*?fypage.*?(;.*)?$/.test(v.url) ? 'fypage' : '1',\n        d = {\n            title: v.title,\n            url: 'hiker://page/indexLoad?#' + fypage + '#noHistory#',\n            img: v.icon || 'https://cf-ipfs.com/ipfs/QmXxgDVAZLWhFxikrAFVPRZQuJ2uFae7syXhFubPwMwUiU',\n            extra: {\n                RULE: v\n            }\n        }\n    if (newWindow) Object.assign(d.extra, {\n        newWindow: true,\n        windowId: getItem('myCollection') + d.title\n    })\n    el.push(d)\n})\nsetResult(el)","searchFind":"js:\nvar { dataLoad, runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet myCollection_el = [],\n    searchThd = parseInt(readFile('searchThd') || '5'),\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page')),\n    RULES = dataLoad().filter((v) => v.search_url)\nif (searchThd == 0) {\n    myCollection_el.push({\n        title: ('⬇ 选择一个小程序查看' + keyword + '的搜索结果 ⬇').small(),\n        url: 'hiker://empty'\n    })\n    RULES.forEach((v) => myCollection_el.push({\n        title: v.title,\n        url: \"hiker://page/singleSearch?keyword=\" + keyword + \"&page=fypage\",\n        extra: { rule: getItem('myCollection'), RULE: v },\n    }))\n} else if (searchThd > 0) {\n    let searchCount = pageNum * searchThd,\n        searchTag = { title: '⬆ 已搜索了' + searchCount + '个小程序 ⬆\\n⬇ 下面还有' + RULES.slice(searchCount).length + '个小程序 ⬇' }\n    RULES = RULES.slice(searchCount - searchThd, searchCount)\n    if (!RULES.length) setResult([])\n\n    let URLS = RULES.map((RULE) => {\n        MY_RULE.ua = RULE.ua\n        let urlReq = urlParse(RULE.search_url, {}, 1, (url) => {\n            url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n        })\n        return { url: urlReq.MY_URL, options: urlReq.MY_URL_Options }\n    })\n    batchFetch(URLS).forEach((indexHtml, index) => {\n        // 处理MY_URL和MY_RULE\n        let RULE = RULES[index]\n        MY_URL = URLS[index].url\n        MY_RULE.ua = RULE.ua\n        MY_RULE.col_type = RULE.col_type\n        MY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\n        MY_RULE.find_rule = RULE.searchFind\n        MY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\n        MY_RULE.preRule = RULE.preRule\n        MY_RULE.pageList = JSON.parse(RULE.pages || '[]')\n        MY_RULE.pages = JSON.stringify(MY_RULE.pageList)\n        MY_RULE.last_chapter_rule = RULE.last_chapter_rule\n        MY_RULE.params = {}\n        MY_RULE.url = MY_URL\n        MY_RULE.urlHeaders = URLS[index].options.headers\n\n        // 正文解析\n        eval(MY_RULE.preRule)\n        if (MY_RULE.find_rule.startsWith('js:')) {\n            function getUrl() {\n                return MY_URL\n            }\n\n            function getResCode() {\n                return indexHtml\n            }\n\n            setResult = function(el) {\n                if (Array.isArray(el.data)) el = el.data\n                Array.prototype.push.apply(myCollection_el, el.map((v) => {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    v.desc = RULE.title + ' ▪ ' + (v.desc || '')\n\n                    if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                        return v\n                    } else if (v.url.includes('@rule=')) {\n                        let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                        v.url = url\n                        MY__RULE.detail_find_rule = rule\n                        MY__RULE.detail_col_type = MY_RULE.col_type\n                    } else if (v.url.startsWith('hiker://page/')) {\n                        if (v.url.includes('rule=') || (v.extra || {}).rule)\n                            return v\n                        let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                            subPage = MY_RULE.pageList.find((v) => v.path == path),\n                            subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                        v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                        MY__RULE.detail_find_rule = subPage.rule\n                        MY__RULE.detail_col_type = subPage.col_type\n                        MY__RULE.params = v.extra || {}\n                    } else if (v.url.includes('@lazyRule=')) {\n                        v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                        return v\n                    } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n                    v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n                    v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                    if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n\n                    return v\n                }))\n            }\n            setHomeResult = setResult\n            setSearchResult = setResult\n\n            try {\n                eval(MY_RULE.find_rule.slice(3))\n            } catch (e) {}\n        } else {\n            let findRule = MY_RULE.find_rule.split(';')\n            parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n                let [title, url, desc, content, img] = findRule.map((v, i) => {\n                        try {\n                            if (v == '*') return ''\n                            else v = (i == 1 || i == 4) ?\n                                parseDom(data, v) :\n                                parseDomForHtml(data, v)\n                            if (i != 1) v = runCode(v)\n                            return v\n                        } catch (e) { return '' }\n                    }),\n                    res = {\n                        title: title,\n                        url: url,\n                        desc: RULE.title + ' ▪ ' + desc,\n                        content: content,\n                        img: img\n                    }\n                if (res.url) {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    if (res.url.includes('@lazyRule=')) {\n                        res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY__RULE.pages, pageList: MY__RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                    } else if (MY_RULE.detail_find_rule) {\n                        res.extra = { url: url, RULE: MY__RULE, pageTitle: title }\n                        res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                        if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n                    }\n                }\n                myCollection_el.push(res)\n            })\n        }\n    })\n    myCollection_el.push(searchTag)\n}\nmethod_setResult.invoke(javaContext, myCollection_el, CALLBACK_KEY, MY_RULE, MY_TYPE)\n","search_url":"hiker://empty?keyword=**&page=fypage","group":"①轻合集","detail_col_type":"text_3","detail_find_rule":"","sdetail_col_type":"text_3","sdetail_find_rule":"","ua":"mobile","preRule":"initConfig({\n    categoryLocalLib: 'hiker://files/rules/js/categories-header.js',\n    categoryGiteeLib: 'https://gitee.com/reborn0/HikerRules/raw/master/plugins/categories-header.js',\n\n\n    依赖: \"http://hiker.nokia.press/hikerule/rulelist.json?id=2454\",\n    更新间隔: 520\n\n});\nsetItem('myCollection', MY_RULE.title)\nsetItem('remoteUrl', 'http://hiker.nokia.press/hikerule/rulelist.json?id=2764')\n// \n// 包裹错误","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"function ClassTab(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = getVar('fold_' + this.sign, '')\\n        if (this.fold) el.push({\\n            title: '““””<span style=\\\"color:#049eff\\\">' + (folded ? '▶' : '▼'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n                selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: (selected == now ? '““””<span style=\\\"color:' + this.color + '\\\"><b>' : '') + name,\\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        putVar(sign, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        if (defaultClass) defaultClass = JSON.stringify({\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        })\\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    getLastClick() {\\n        return JSON.parse(getVar(this.sign, '{}'))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n$.exports = ClassTab\\n\"},{\"col_type\":\"movie_3\",\"name\":\"首页\",\"path\":\"indexLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = parseInt(MY_URL.split('#')[1]),\\n    RULE = MY_PARAMS.RULE,\\n    fyAll = RULE.url.includes('fyAll'),\\n    // 加载ClassTab组件\\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\\n    tabHeader = []\\n\\nif (RULE.class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: RULE.class_name,\\n    class_url: RULE.class_url\\n})\\nif (RULE.area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: RULE.area_name,\\n    class_url: RULE.area_url\\n})\\nif (RULE.year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: RULE.year_name,\\n    class_url: RULE.year_url\\n})\\nif (RULE.sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: RULE.sort_name,\\n    class_url: RULE.sort_url\\n})\\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\\nif (pageNum == 1) {\\n    addListener('onClose', 'clearVar(\\\"myCollection-searchMode\\\")')\\n    putVar('myCollection-searchMode', RULE.title)\\n    tabHeader.load(myCollection_el)\\n    if (RULE.search_url) myCollection_el.push({\\n        title: \\\"搜索\\\",\\n        desc: \\\"搜你想要的...\\\",\\n        url: '\\\"hiker://page/singleSearch?keyword=\\\"+input+\\\"&page=fypage\\\"',\\n        extra: { rule: getItem('myCollection'), RULE: RULE },\\n        col_type: \\\"input\\\",\\n    })\\n}\\n// 处理MY_URL和MY_RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.find_rule\\nMY_RULE.detail_find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\\n    url[0] = tabHeader.setUrl(url[0])\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) eval(MY_RULE.preRule)\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"详情\",\"path\":\"detailLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = 1\\n\\n// 处理MY_URL和MY_RULE\\nlet RULE = MY_PARAMS.RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = RULE.pageList\\nMY_RULE.pages = RULE.pages\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = RULE.params\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet fypageFlag = MY_PARAMS.url.indexOf('fypage')\\nif (fypageFlag >= 0) pageNum = parseInt(/^\\\\d+/.exec(MY_URL.slice(fypageFlag)))\\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, pageNum),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 解析正文\\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\\neval(MY_RULE.preRule)\\nsetLastChapterRule(MY_RULE.last_chapter_rule)\\nMY_PARAMS = MY_RULE.params\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\\n    findRule = findRule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (detailFindRule) {\\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"工具集\",\"path\":\"utility\",\"rule\":\"$.exports = {\\n    dataLoad: function(showAll) {\\n        //检查间隔，默认一天\\n        let interval = parseInt(readFile('updateInterval') || '1'),\\n            time = parseInt(readFile('updateTime')) || 0,\\n            now = new Date().getTime(),\\n            data = []\\n        if (time == 0 || interval > 0 && now - time > 1000 * 60 * 60 * 24 * interval) {\\n            // 获取远程数据\\n            let url = getItem('remoteUrl')\\n            try {\\n                let remoteData = fetch(url)\\n                if (url.startsWith('hiker://page/'))\\n                    remoteData = JSON.parse(remoteData).rule\\n                data = JSON.parse(remoteData)\\n            } catch (e) {}\\n            if(data.length == 0) {\\n                data = JSON.parse(readFile('dataCache') || '[]')\\n                log('没有获取到更新数据')\\n            } else {\\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\\n                saveFile('dataCache', JSON.stringify(data))\\n                saveFile('updateTime', now.toString())\\n                log('更新数据已写入本地')\\n            }\\n        } else {\\n            data = JSON.parse(readFile('dataCache') || '[]')\\n        }\\n        // 写入自定义数据\\n        let customData = JSON.parse(readFile('customData') || '[]'),\\n            rewriteData = []\\n        customData = customData.reduce((self, v) => {\\n            let index = data.findIndex((vv) => v.title == vv.title)\\n            if (index >= 0) {\\n                self.push(v)\\n                let rule = data.splice(index, 1)[0]\\n                if(showAll || v.visible)\\n                    rewriteData.push(Object.assign(rule, v))\\n            }\\n            return self\\n        }, [])\\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\\n        saveFile('customData', JSON.stringify(customData))\\n        return rewriteData.concat(data)\\n    },\\n    runCode: function(rule) {\\n        try {\\n            let [input, code] = rule.split('.js:')\\n            return code ? eval(code) : rule\\n        } catch (e) { return rule }\\n    },\\n    urlParse: function(url, headers, pageNum, func) {\\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\\n        if (func) func(url)\\n        url[0] = url[0].replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n        url[0] = /^([\\\\s\\\\S]*?)(?:\\\\[firstPage=([\\\\s\\\\S]*?)\\\\])?$/.exec(url[0])\\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\\n        let options = { headers: headers, method: url[1] }\\n        // post方法时转换参数\\n        if (/^post$/i.test(options['method'])) {\\n            let [oriUrl, body] = url[0].split('?')\\n            url[0] = oriUrl.replace(/？？/g, '?')\\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\\n            options['body'] = body\\n        }\\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\\n            let [key, value] = v.split('@')\\n            options.headers[key] = runCode(value)\\n        })\\n        // 添加全局UA\\n        if (!options.headers['User-Agent']) {\\n            if (MY_RULE.ua == 'pc')\\n                options.headers['User-Agent'] = PC_UA\\n            else if (MY_RULE.ua == 'mobile')\\n                options.headers['User-Agent'] = MOBILE_UA\\n        }\\n        return { MY_URL: url[0], MY_URL_Options: options }\\n    }\\n}\\n\"},{\"col_type\":\"movie_1_vertical_pic\",\"name\":\"单搜\",\"path\":\"singleSearch\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    RULE = MY_PARAMS.RULE,\\n    keyword = getParam('keyword'),\\n    pageNum = parseInt(getParam('page'))\\n\\n// 处理MY_URL和MY_RULE\\nMY_TYPE = 'search'\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\\nMY_RULE.find_rule = RULE.searchFind\\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\\\*\\\\*/g, encodeStr(keyword, url[2]))\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE),\\n                subTitle = v.title\\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\\n            v.desc = v.content || ''\\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\\n            delete v.content\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 4) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 1) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\\n                url: url,\\n                desc: content,\\n                img: img\\n            }\\n        if(!res.img) res.col_type = 'text_1'\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"icon_2_round\",\"name\":\"设置\",\"path\":\"Config\",\"rule\":\"js:\\naddListener('onClose', 'clearVar(\\\"myCollection-sortFlag\\\");refreshPage()')\\nsetPageTitle('⚙ 轻合集设置 ⚙')\\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet data = dataLoad(true),\\n    el = [{\\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\\n        url: $().lazyRule(() => {\\n            deleteFile('updateTime')\\n            back(false)\\n            return 'toast://已更新'\\n        }),\\n        img: 'hiker://images/icon1',\\n        col_type: 'avatar'\\n    }],\\n    searchThd = readFile('searchThd') || '5',\\n    updateInterval = readFile('updateInterval') || '1',\\n    newWindow = readFile('newWindow'),\\n    editMode = getVar('myCollection-editMode', '启用/禁用')\\n\\nel.push({\\n    title: '  🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd) + '  ',\\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\\n        if (input == '列表搜索') {\\n            saveFile('searchThd', '0')\\n            refreshPage()\\n        } else {\\n            if (searchThd == 0) searchThd = 5\\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\\n                saveFile('searchThd', input)\\n                refreshPage()\\n            })\\n        }\\n    }, searchThd),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💡 更新频率: ' + (updateInterval < 1 ? '手动' : updateInterval + '天') + '  ',\\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新').input(() => {\\n        saveFile('updateInterval', input)\\n        refreshPage()\\n        return 'hiker://empty'\\n    }),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((newWindow) => {\\n        saveFile('newWindow', newWindow ? '' : '1')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, newWindow),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '““””<font color=\\\"#666666\\\"><small>特别鸣谢，小程序提供者：\\\\n' +\\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1'\\n})\\n\\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\\n    el.push({\\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\\n            putVar('myCollection-editMode', v)\\n            refreshPage(false)\\n            return 'hiker://empty'\\n        }, v),\\n        col_type: 'scroll_button'\\n    })\\n})\\nel.push({\\n    title: '恢复出厂数据',\\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\\n        deleteFile('customData')\\n        refreshPage(false)\\n        return 'toast://已恢复出厂数据'\\n    }),\\n    col_type: 'scroll_button'\\n})\\n\\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\\n    let d = { title: v.title, img: data[i].icon }\\n    switch (editMode) {\\n        case '启用/禁用':\\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\\n            d.url = $('#noLoading#').lazyRule((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                rules[index].visible = !rules[index].visible\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '重新排序':\\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\\n            if (sortFlag == -1)\\n                d.url = $('#noLoading#').lazyRule((i) => {\\n                    putVar('myCollection-sortFlag', i.toString())\\n                    refreshPage(false)\\n                    return 'toast://选择要移动到的位置'\\n                }, i)\\n            else\\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\\n                    let rules = JSON.parse(readFile('customData') || '[]')\\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\\n                    saveFile('customData', JSON.stringify(rules))\\n                    putVar('myCollection-sortFlag', '-1')\\n                    refreshPage(false)\\n                    return 'hiker://empty'\\n                }, sortFlag, i)\\n            break\\n        case '更改图标':\\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                if (input)\\n                    rules[index].icon = input\\n                else\\n                    delete rules[index].icon\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '导入海阔':\\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\\n            break\\n    }\\n    el.push(d)\\n})\\nsetResult(el)\\n\"}]","icon":"https://lanmeiguojiang.com/tubiao/q/13.png"},{"last_chapter_rule":"","pageList":[{"col_type":"text_1","name":"ClassTab","path":"ClassTab","rule":"function ClassTab(classArray, params) {\n    Object.assign(this, params)\n    this.arr = classArray.map(v => this.init(v))\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\n    this.color = this.color || '#12b668'\n    this.boundary = this.boundary || 'blank_block'\n}\nClassTab.prototype = {\n    constructor: ClassTab,\n    load(el) {\n        let folded = getVar('fold_' + this.sign, '')\n        if (this.fold) el.push({\n            title: '““””<span style=\"color:#049eff\">' + (folded ? '▶' : '▼'),\n            url: $('#noLoading#').lazyRule((sign, folded) => {\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\n                refreshPage(false)\n                return 'hiker://empty'\n            }, this.sign, folded),\n            col_type: 'scroll_button'\n        })\n        let arr = folded ? [this.arr[0]] : this.arr\n        arr.forEach((v) => {\n            let { id, class_name, class_url } = v,\n                selected = JSON.stringify(this.getClass(id))\n            class_name.forEach((name, i) => {\n                let url = class_url[i],\n                    now = JSON.stringify({ name: name, url: url })\n                el.push({\n                    title: (selected == now ? '““””<span style=\"color:' + this.color + '\"><b>' : '') + name,\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\n                        putVar(sign + id, now)\n                        putVar(sign, now)\n                        refreshPage(false)\n                        return 'hiker://empty'\n                    }, this.sign, id, now),\n                    col_type: 'scroll_button'\n                })\n            })\n            el.push({ col_type: this.boundary })\n        })\n    },\n    init(classObject) {\n        if (typeof classObject.class_name == 'string')\n            classObject.class_name = classObject.class_name.split('&')\n        if (typeof classObject.class_url == 'string')\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\n        return classObject\n    },\n    push(classObject) {\n        this.arr.push(this.init(classObject))\n    },\n    getClass(id) {\n        let defaultClass = this.arr.find(item => item.id == id)\n        if (defaultClass) defaultClass = JSON.stringify({\n            name: defaultClass.class_name[0],\n            url: defaultClass.class_url[0]\n        })\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\n        return JSON.parse(getVar(this.sign + id, defaultClass))\n    },\n    getLastClick() {\n        return JSON.parse(getVar(this.sign, '{}'))\n    },\n    setUrl(url) {\n        return url.replace(/\\$\\{([^}]*)\\}/g, (_, id) => this.getClass(id).url)\n    }\n}\n$.exports = ClassTab\n"},{"col_type":"movie_3","name":"首页","path":"indexLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = parseInt(MY_URL.split('#')[1]),\n    RULE = MY_PARAMS.RULE,\n    fyAll = RULE.url.includes('fyAll'),\n    // 加载ClassTab组件\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\n    tabHeader = []\n\nif (RULE.class_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyclass',\n    class_name: RULE.class_name,\n    class_url: RULE.class_url\n})\nif (RULE.area_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyarea',\n    class_name: RULE.area_name,\n    class_url: RULE.area_url\n})\nif (RULE.year_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyyear',\n    class_name: RULE.year_name,\n    class_url: RULE.year_url\n})\nif (RULE.sort_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fysort',\n    class_name: RULE.sort_name,\n    class_url: RULE.sort_url\n})\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\nif (pageNum == 1) {\n    addListener('onClose', 'clearVar(\"myCollection-searchMode\")')\n    putVar('myCollection-searchMode', RULE.title)\n    tabHeader.load(myCollection_el)\n    if (RULE.search_url) myCollection_el.push({\n        title: \"搜索\",\n        desc: \"搜你想要的...\",\n        url: '\"hiker://page/singleSearch?keyword=\"+input+\"&page=fypage\"',\n        extra: { rule: getItem('myCollection'), RULE: RULE },\n        col_type: \"input\",\n    })\n}\n// 处理MY_URL和MY_RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.find_rule\nMY_RULE.detail_find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\n    url[0] = tabHeader.setUrl(url[0])\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) eval(MY_RULE.preRule)\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"详情","path":"detailLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = 1\n\n// 处理MY_URL和MY_RULE\nlet RULE = MY_PARAMS.RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = RULE.pageList\nMY_RULE.pages = RULE.pages\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = RULE.params\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet fypageFlag = MY_PARAMS.url.indexOf('fypage')\nif (fypageFlag >= 0) pageNum = parseInt(/^\\d+/.exec(MY_URL.slice(fypageFlag)))\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, pageNum),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 解析正文\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\neval(MY_RULE.preRule)\nsetLastChapterRule(MY_RULE.last_chapter_rule)\nMY_PARAMS = MY_RULE.params\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else { return v }\n            v.extra = { url: v.url, RULE: MY__RULE }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\n    findRule = findRule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (detailFindRule) {\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"工具集","path":"utility","rule":"$.exports = {\n    dataLoad: function(showAll) {\n        //检查间隔，默认一天\n        let interval = parseInt(readFile('updateInterval') || '1'),\n            time = parseInt(readFile('updateTime')) || 0,\n            now = new Date().getTime(),\n            data = []\n        if (time == 0 || interval > 0 && now - time > 1000 * 60 * 60 * 24 * interval) {\n            // 获取远程数据\n            let url = getItem('remoteUrl')\n            try {\n                let remoteData = fetch(url)\n                if (url.startsWith('hiker://page/'))\n                    remoteData = JSON.parse(remoteData).rule\n                data = JSON.parse(remoteData)\n            } catch (e) {}\n            if(data.length == 0) {\n                data = JSON.parse(readFile('dataCache') || '[]')\n                log('没有获取到更新数据')\n            } else {\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\n                saveFile('dataCache', JSON.stringify(data))\n                saveFile('updateTime', now.toString())\n                log('更新数据已写入本地')\n            }\n        } else {\n            data = JSON.parse(readFile('dataCache') || '[]')\n        }\n        // 写入自定义数据\n        let customData = JSON.parse(readFile('customData') || '[]'),\n            rewriteData = []\n        customData = customData.reduce((self, v) => {\n            let index = data.findIndex((vv) => v.title == vv.title)\n            if (index >= 0) {\n                self.push(v)\n                let rule = data.splice(index, 1)[0]\n                if(showAll || v.visible)\n                    rewriteData.push(Object.assign(rule, v))\n            }\n            return self\n        }, [])\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\n        saveFile('customData', JSON.stringify(customData))\n        return rewriteData.concat(data)\n    },\n    runCode: function(rule) {\n        try {\n            let [input, code] = rule.split('.js:')\n            return code ? eval(code) : rule\n        } catch (e) { return rule }\n    },\n    urlParse: function(url, headers, pageNum, func) {\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\n        if (func) func(url)\n        url[0] = url[0].replace(/fypage(?:@(-?\\d+)@)?(?:\\*(\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\n        url[0] = /^([\\s\\S]*?)(?:\\[firstPage=([\\s\\S]*?)\\])?$/.exec(url[0])\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\n        let options = { headers: headers, method: url[1] }\n        // post方法时转换参数\n        if (/^post$/i.test(options['method'])) {\n            let [oriUrl, body] = url[0].split('?')\n            url[0] = oriUrl.replace(/？？/g, '?')\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\n            options['body'] = body\n        }\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\n            let [key, value] = v.split('@')\n            options.headers[key] = runCode(value)\n        })\n        // 添加全局UA\n        if (!options.headers['User-Agent']) {\n            if (MY_RULE.ua == 'pc')\n                options.headers['User-Agent'] = PC_UA\n            else if (MY_RULE.ua == 'mobile')\n                options.headers['User-Agent'] = MOBILE_UA\n        }\n        return { MY_URL: url[0], MY_URL_Options: options }\n    }\n}\n"},{"col_type":"movie_1_vertical_pic","name":"单搜","path":"singleSearch","rule":"js:\nlet myCollection_el = [],\n    RULE = MY_PARAMS.RULE,\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page'))\n\n// 处理MY_URL和MY_RULE\nMY_TYPE = 'search'\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\nMY_RULE.find_rule = RULE.searchFind\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE),\n                subTitle = v.title\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\n            v.desc = v.content || ''\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\n            delete v.content\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 4) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 1) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\n                url: url,\n                desc: content,\n                img: img\n            }\n        if(!res.img) res.col_type = 'text_1'\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"icon_2_round","name":"设置","path":"Config","rule":"js:\naddListener('onClose', 'clearVar(\"myCollection-sortFlag\");refreshPage()')\nsetPageTitle('⚙ 轻合集设置 ⚙')\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet data = dataLoad(true),\n    el = [{\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\n        url: $().lazyRule(() => {\n            deleteFile('updateTime')\n            back(false)\n            return 'toast://已更新'\n        }),\n        img: 'hiker://images/icon1',\n        col_type: 'avatar'\n    }],\n    searchThd = readFile('searchThd') || '5',\n    updateInterval = readFile('updateInterval') || '1',\n    newWindow = readFile('newWindow'),\n    editMode = getVar('myCollection-editMode', '启用/禁用')\n\nel.push({\n    title: '  🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd) + '  ',\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\n        if (input == '列表搜索') {\n            saveFile('searchThd', '0')\n            refreshPage()\n        } else {\n            if (searchThd == 0) searchThd = 5\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\n                saveFile('searchThd', input)\n                refreshPage()\n            })\n        }\n    }, searchThd),\n    col_type: 'scroll_button'\n}, {\n    title: '  💡 更新频率: ' + (updateInterval < 1 ? '手动' : updateInterval + '天') + '  ',\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新').input(() => {\n        saveFile('updateInterval', input)\n        refreshPage()\n        return 'hiker://empty'\n    }),\n    col_type: 'scroll_button'\n}, {\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\n    url: $('#noLoading#').lazyRule((newWindow) => {\n        saveFile('newWindow', newWindow ? '' : '1')\n        refreshPage()\n        return 'hiker://empty'\n    }, newWindow),\n    col_type: 'scroll_button'\n}, {\n    title: '““””<font color=\"#666666\"><small>特别鸣谢，小程序提供者：\\n' +\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\n    url: 'hiker://empty',\n    col_type: 'text_center_1'\n})\n\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\n    el.push({\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\n            putVar('myCollection-editMode', v)\n            refreshPage(false)\n            return 'hiker://empty'\n        }, v),\n        col_type: 'scroll_button'\n    })\n})\nel.push({\n    title: '恢复出厂数据',\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\n        deleteFile('customData')\n        refreshPage(false)\n        return 'toast://已恢复出厂数据'\n    }),\n    col_type: 'scroll_button'\n})\n\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\n    let d = { title: v.title, img: data[i].icon }\n    switch (editMode) {\n        case '启用/禁用':\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\n            d.url = $('#noLoading#').lazyRule((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                rules[index].visible = !rules[index].visible\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '重新排序':\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\n            if (sortFlag == -1)\n                d.url = $('#noLoading#').lazyRule((i) => {\n                    putVar('myCollection-sortFlag', i.toString())\n                    refreshPage(false)\n                    return 'toast://选择要移动到的位置'\n                }, i)\n            else\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\n                    let rules = JSON.parse(readFile('customData') || '[]')\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\n                    saveFile('customData', JSON.stringify(rules))\n                    putVar('myCollection-sortFlag', '-1')\n                    refreshPage(false)\n                    return 'hiker://empty'\n                }, sortFlag, i)\n            break\n        case '更改图标':\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                if (input)\n                    rules[index].icon = input\n                else\n                    delete rules[index].icon\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '导入海阔':\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\n            break\n    }\n    el.push(d)\n})\nsetResult(el)\n"}],"title":"轻合集","author":"小棉袄🌞&永远の明日","version":78,"url":"hiker://empty","col_type":"icon_2_round","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet el = [{\n    title: ' ' + getItem('myCollection').bold() + ' &nbsp &nbsp ' + '⚙ 轻合集设置 ⚙'.small(),\n    url: 'hiker://page/Config?rule=' + getItem('myCollection'),\n    img: MY_RULE.icon || 'hiker://images/icon1',\n    col_type: 'avatar'\n}, {\n    url: '\"hiker://search?s=\"+input+\"&rule=' + getItem('myCollection') + '\"',\n    desc: '搜你想要的...',\n    title: '搜索',\n    col_type: 'input'\n}]\n\nlet newWindow = readFile('newWindow')\ndataLoad().forEach((v) => {\n    let fypage = /^[^;]*?fypage.*?(;.*)?$/.test(v.url) ? 'fypage' : '1',\n        d = {\n            title: v.title,\n            url: 'hiker://page/indexLoad?#' + fypage + '#noHistory#',\n            img: v.icon,\n            extra: { RULE: v }\n        }\n    if(newWindow) Object.assign(d.extra, { newWindow: true, windowId: getItem('myCollection') + d.title })\n    el.push(d)\n})\nsetResult(el)","searchFind":"js:\nvar { dataLoad, runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet myCollection_el = [],\n    searchThd = parseInt(readFile('searchThd') || '5'),\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page')),\n    RULES = dataLoad().filter((v) => v.search_url)\nif (searchThd == 0) {\n    myCollection_el.push({\n        title: ('⬇ 选择一个小程序查看' + keyword + '的搜索结果 ⬇').small(),\n        url: 'hiker://empty'\n    })\n    RULES.forEach((v) => myCollection_el.push({\n        title: v.title,\n        url: \"hiker://page/singleSearch?keyword=\" + keyword + \"&page=fypage\",\n        extra: { rule: getItem('myCollection'), RULE: v },\n    }))\n} else if (searchThd > 0) {\n    let searchCount = pageNum * searchThd,\n        searchTag = { title: '⬆ 已搜索了' + searchCount + '个小程序 ⬆\\n⬇ 下面还有' + RULES.slice(searchCount).length + '个小程序 ⬇' }\n    RULES = RULES.slice(searchCount - searchThd, searchCount)\n    if (!RULES.length) setResult([])\n\n    let URLS = RULES.map((RULE) => {\n        MY_RULE.ua = RULE.ua\n        let urlReq = urlParse(RULE.search_url, {}, 1, (url) => {\n            url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n        })\n        return { url: urlReq.MY_URL, options: urlReq.MY_URL_Options }\n    })\n    batchFetch(URLS).forEach((indexHtml, index) => {\n        // 处理MY_URL和MY_RULE\n        let RULE = RULES[index]\n        MY_URL = URLS[index].url\n        MY_RULE.ua = RULE.ua\n        MY_RULE.col_type = RULE.col_type\n        MY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\n        MY_RULE.find_rule = RULE.searchFind\n        MY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\n        MY_RULE.preRule = RULE.preRule\n        MY_RULE.pageList = JSON.parse(RULE.pages || '[]')\n        MY_RULE.pages = JSON.stringify(MY_RULE.pageList)\n        MY_RULE.last_chapter_rule = RULE.last_chapter_rule\n        MY_RULE.params = {}\n        MY_RULE.url = MY_URL\n        MY_RULE.urlHeaders = URLS[index].options.headers\n\n        // 正文解析\n        eval(MY_RULE.preRule)\n        if (MY_RULE.find_rule.startsWith('js:')) {\n            function getUrl() {\n                return MY_URL\n            }\n\n            function getResCode() {\n                return indexHtml\n            }\n\n            setResult = function(el) {\n                if (Array.isArray(el.data)) el = el.data\n                Array.prototype.push.apply(myCollection_el, el.map((v) => {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    v.desc = RULE.title + ' ▪ ' + (v.desc || '')\n\n                    if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                        return v\n                    } else if (v.url.includes('@rule=')) {\n                        let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                        v.url = url\n                        MY__RULE.detail_find_rule = rule\n                        MY__RULE.detail_col_type = MY_RULE.col_type\n                    } else if (v.url.startsWith('hiker://page/')) {\n                        if (v.url.includes('rule=') || (v.extra || {}).rule)\n                            return v\n                        let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                            subPage = MY_RULE.pageList.find((v) => v.path == path),\n                            subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                        v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                        MY__RULE.detail_find_rule = subPage.rule\n                        MY__RULE.detail_col_type = subPage.col_type\n                        MY__RULE.params = v.extra || {}\n                    } else if (v.url.includes('@lazyRule=')) {\n                        v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                        return v\n                    } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n                    v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n                    v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                    if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n\n                    return v\n                }))\n            }\n            setHomeResult = setResult\n            setSearchResult = setResult\n\n            try {\n                eval(MY_RULE.find_rule.slice(3))\n            } catch (e) {}\n        } else {\n            let findRule = MY_RULE.find_rule.split(';')\n            parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n                let [title, url, desc, content, img] = findRule.map((v, i) => {\n                        try {\n                            if (v == '*') return ''\n                            else v = (i == 1 || i == 4) ?\n                                parseDom(data, v) :\n                                parseDomForHtml(data, v)\n                            if (i != 1) v = runCode(v)\n                            return v\n                        } catch (e) { return '' }\n                    }),\n                    res = {\n                        title: title,\n                        url: url,\n                        desc: RULE.title + ' ▪ ' + desc,\n                        content: content,\n                        img: img\n                    }\n                if (res.url) {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    if (res.url.includes('@lazyRule=')) {\n                        res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY__RULE.pages, pageList: MY__RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                    } else if (MY_RULE.detail_find_rule) {\n                        res.extra = { url: url, RULE: MY__RULE, pageTitle: title }\n                        res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                        if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n                    }\n                }\n                myCollection_el.push(res)\n            })\n        }\n    })\n    myCollection_el.push(searchTag)\n}\nmethod_setResult.invoke(javaContext, myCollection_el, CALLBACK_KEY, MY_RULE, MY_TYPE)\n","search_url":"hiker://empty?keyword=**&page=fypage","group":"①轻合集","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"setItem('myCollection', MY_RULE.title)\nsetItem('remoteUrl', 'hiker://files/rules/js/轻合集数据.js')\n// \n// 包裹错误","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"function ClassTab(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = getVar('fold_' + this.sign, '')\\n        if (this.fold) el.push({\\n            title: '““””<span style=\\\"color:#049eff\\\">' + (folded ? '▶' : '▼'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n                selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: (selected == now ? '““””<span style=\\\"color:' + this.color + '\\\"><b>' : '') + name,\\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        putVar(sign, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        if (defaultClass) defaultClass = JSON.stringify({\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        })\\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    getLastClick() {\\n        return JSON.parse(getVar(this.sign, '{}'))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n$.exports = ClassTab\\n\"},{\"col_type\":\"movie_3\",\"name\":\"首页\",\"path\":\"indexLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = parseInt(MY_URL.split('#')[1]),\\n    RULE = MY_PARAMS.RULE,\\n    fyAll = RULE.url.includes('fyAll'),\\n    // 加载ClassTab组件\\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\\n    tabHeader = []\\n\\nif (RULE.class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: RULE.class_name,\\n    class_url: RULE.class_url\\n})\\nif (RULE.area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: RULE.area_name,\\n    class_url: RULE.area_url\\n})\\nif (RULE.year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: RULE.year_name,\\n    class_url: RULE.year_url\\n})\\nif (RULE.sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: RULE.sort_name,\\n    class_url: RULE.sort_url\\n})\\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\\nif (pageNum == 1) {\\n    addListener('onClose', 'clearVar(\\\"myCollection-searchMode\\\")')\\n    putVar('myCollection-searchMode', RULE.title)\\n    tabHeader.load(myCollection_el)\\n    if (RULE.search_url) myCollection_el.push({\\n        title: \\\"搜索\\\",\\n        desc: \\\"搜你想要的...\\\",\\n        url: '\\\"hiker://page/singleSearch?keyword=\\\"+input+\\\"&page=fypage\\\"',\\n        extra: { rule: getItem('myCollection'), RULE: RULE },\\n        col_type: \\\"input\\\",\\n    })\\n}\\n// 处理MY_URL和MY_RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.find_rule\\nMY_RULE.detail_find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\\n    url[0] = tabHeader.setUrl(url[0])\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) eval(MY_RULE.preRule)\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"详情\",\"path\":\"detailLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = 1\\n\\n// 处理MY_URL和MY_RULE\\nlet RULE = MY_PARAMS.RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = RULE.pageList\\nMY_RULE.pages = RULE.pages\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = RULE.params\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet fypageFlag = MY_PARAMS.url.indexOf('fypage')\\nif (fypageFlag >= 0) pageNum = parseInt(/^\\\\d+/.exec(MY_URL.slice(fypageFlag)))\\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, pageNum),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 解析正文\\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\\neval(MY_RULE.preRule)\\nsetLastChapterRule(MY_RULE.last_chapter_rule)\\nMY_PARAMS = MY_RULE.params\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\\n    findRule = findRule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (detailFindRule) {\\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"工具集\",\"path\":\"utility\",\"rule\":\"$.exports = {\\n    dataLoad: function(showAll) {\\n        //检查间隔，默认一天\\n        let interval = parseInt(readFile('updateInterval') || '1'),\\n            time = parseInt(readFile('updateTime')) || 0,\\n            now = new Date().getTime(),\\n            data = []\\n        if (time == 0 || interval > 0 && now - time > 1000 * 60 * 60 * 24 * interval) {\\n            // 获取远程数据\\n            let url = getItem('remoteUrl')\\n            try {\\n                let remoteData = fetch(url)\\n                if (url.startsWith('hiker://page/'))\\n                    remoteData = JSON.parse(remoteData).rule\\n                data = JSON.parse(remoteData)\\n            } catch (e) {}\\n            if(data.length == 0) {\\n                data = JSON.parse(readFile('dataCache') || '[]')\\n                log('没有获取到更新数据')\\n            } else {\\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\\n                saveFile('dataCache', JSON.stringify(data))\\n                saveFile('updateTime', now.toString())\\n                log('更新数据已写入本地')\\n            }\\n        } else {\\n            data = JSON.parse(readFile('dataCache') || '[]')\\n        }\\n        // 写入自定义数据\\n        let customData = JSON.parse(readFile('customData') || '[]'),\\n            rewriteData = []\\n        customData = customData.reduce((self, v) => {\\n            let index = data.findIndex((vv) => v.title == vv.title)\\n            if (index >= 0) {\\n                self.push(v)\\n                let rule = data.splice(index, 1)[0]\\n                if(showAll || v.visible)\\n                    rewriteData.push(Object.assign(rule, v))\\n            }\\n            return self\\n        }, [])\\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\\n        saveFile('customData', JSON.stringify(customData))\\n        return rewriteData.concat(data)\\n    },\\n    runCode: function(rule) {\\n        try {\\n            let [input, code] = rule.split('.js:')\\n            return code ? eval(code) : rule\\n        } catch (e) { return rule }\\n    },\\n    urlParse: function(url, headers, pageNum, func) {\\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\\n        if (func) func(url)\\n        url[0] = url[0].replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n        url[0] = /^([\\\\s\\\\S]*?)(?:\\\\[firstPage=([\\\\s\\\\S]*?)\\\\])?$/.exec(url[0])\\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\\n        let options = { headers: headers, method: url[1] }\\n        // post方法时转换参数\\n        if (/^post$/i.test(options['method'])) {\\n            let [oriUrl, body] = url[0].split('?')\\n            url[0] = oriUrl.replace(/？？/g, '?')\\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\\n            options['body'] = body\\n        }\\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\\n            let [key, value] = v.split('@')\\n            options.headers[key] = runCode(value)\\n        })\\n        // 添加全局UA\\n        if (!options.headers['User-Agent']) {\\n            if (MY_RULE.ua == 'pc')\\n                options.headers['User-Agent'] = PC_UA\\n            else if (MY_RULE.ua == 'mobile')\\n                options.headers['User-Agent'] = MOBILE_UA\\n        }\\n        return { MY_URL: url[0], MY_URL_Options: options }\\n    }\\n}\\n\"},{\"col_type\":\"movie_1_vertical_pic\",\"name\":\"单搜\",\"path\":\"singleSearch\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    RULE = MY_PARAMS.RULE,\\n    keyword = getParam('keyword'),\\n    pageNum = parseInt(getParam('page'))\\n\\n// 处理MY_URL和MY_RULE\\nMY_TYPE = 'search'\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\\nMY_RULE.find_rule = RULE.searchFind\\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\\\*\\\\*/g, encodeStr(keyword, url[2]))\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE),\\n                subTitle = v.title\\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\\n            v.desc = v.content || ''\\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\\n            delete v.content\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 4) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 1) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\\n                url: url,\\n                desc: content,\\n                img: img\\n            }\\n        if(!res.img) res.col_type = 'text_1'\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"icon_2_round\",\"name\":\"设置\",\"path\":\"Config\",\"rule\":\"js:\\naddListener('onClose', 'clearVar(\\\"myCollection-sortFlag\\\");refreshPage()')\\nsetPageTitle('⚙ 轻合集设置 ⚙')\\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet data = dataLoad(true),\\n    el = [{\\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\\n        url: $().lazyRule(() => {\\n            deleteFile('updateTime')\\n            back(false)\\n            return 'toast://已更新'\\n        }),\\n        img: 'hiker://images/icon1',\\n        col_type: 'avatar'\\n    }],\\n    searchThd = readFile('searchThd') || '5',\\n    updateInterval = readFile('updateInterval') || '1',\\n    newWindow = readFile('newWindow'),\\n    editMode = getVar('myCollection-editMode', '启用/禁用')\\n\\nel.push({\\n    title: '  🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd) + '  ',\\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\\n        if (input == '列表搜索') {\\n            saveFile('searchThd', '0')\\n            refreshPage()\\n        } else {\\n            if (searchThd == 0) searchThd = 5\\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\\n                saveFile('searchThd', input)\\n                refreshPage()\\n            })\\n        }\\n    }, searchThd),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💡 更新频率: ' + (updateInterval < 1 ? '手动' : updateInterval + '天') + '  ',\\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新').input(() => {\\n        saveFile('updateInterval', input)\\n        refreshPage()\\n        return 'hiker://empty'\\n    }),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((newWindow) => {\\n        saveFile('newWindow', newWindow ? '' : '1')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, newWindow),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '““””<font color=\\\"#666666\\\"><small>特别鸣谢，小程序提供者：\\\\n' +\\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1'\\n})\\n\\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\\n    el.push({\\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\\n            putVar('myCollection-editMode', v)\\n            refreshPage(false)\\n            return 'hiker://empty'\\n        }, v),\\n        col_type: 'scroll_button'\\n    })\\n})\\nel.push({\\n    title: '恢复出厂数据',\\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\\n        deleteFile('customData')\\n        refreshPage(false)\\n        return 'toast://已恢复出厂数据'\\n    }),\\n    col_type: 'scroll_button'\\n})\\n\\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\\n    let d = { title: v.title, img: data[i].icon }\\n    switch (editMode) {\\n        case '启用/禁用':\\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\\n            d.url = $('#noLoading#').lazyRule((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                rules[index].visible = !rules[index].visible\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '重新排序':\\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\\n            if (sortFlag == -1)\\n                d.url = $('#noLoading#').lazyRule((i) => {\\n                    putVar('myCollection-sortFlag', i.toString())\\n                    refreshPage(false)\\n                    return 'toast://选择要移动到的位置'\\n                }, i)\\n            else\\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\\n                    let rules = JSON.parse(readFile('customData') || '[]')\\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\\n                    saveFile('customData', JSON.stringify(rules))\\n                    putVar('myCollection-sortFlag', '-1')\\n                    refreshPage(false)\\n                    return 'hiker://empty'\\n                }, sortFlag, i)\\n            break\\n        case '更改图标':\\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                if (input)\\n                    rules[index].icon = input\\n                else\\n                    delete rules[index].icon\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '导入海阔':\\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\\n            break\\n    }\\n    el.push(d)\\n})\\nsetResult(el)\\n\"}]","icon":"hiker://images/icon1"},{"last_chapter_rule":"","pageList":[{"col_type":"text_1","name":"ClassTab","path":"ClassTab","rule":"function ClassTab(classArray, params) {\n    Object.assign(this, params)\n    this.arr = classArray.map(v => this.init(v))\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\n    this.color = this.color || '#12b668'\n    this.boundary = this.boundary || 'blank_block'\n}\nClassTab.prototype = {\n    constructor: ClassTab,\n    load(el) {\n        let folded = getVar('fold_' + this.sign, '')\n        if (this.fold) el.push({\n            title: '““””<span style=\"color:#049eff\">' + (folded ? '▶' : '▼'),\n            url: $('#noLoading#').lazyRule((sign, folded) => {\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\n                refreshPage(false)\n                return 'hiker://empty'\n            }, this.sign, folded),\n            col_type: 'scroll_button'\n        })\n        let arr = folded ? [this.arr[0]] : this.arr\n        arr.forEach((v) => {\n            let { id, class_name, class_url } = v,\n                selected = JSON.stringify(this.getClass(id))\n            class_name.forEach((name, i) => {\n                let url = class_url[i],\n                    now = JSON.stringify({ name: name, url: url })\n                el.push({\n                    title: (selected == now ? '““””<span style=\"color:' + this.color + '\"><b>' : '') + name,\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\n                        putVar(sign + id, now)\n                        putVar(sign, now)\n                        refreshPage(false)\n                        return 'hiker://empty'\n                    }, this.sign, id, now),\n                    col_type: 'scroll_button'\n                })\n            })\n            el.push({ col_type: this.boundary })\n        })\n    },\n    init(classObject) {\n        if (typeof classObject.class_name == 'string')\n            classObject.class_name = classObject.class_name.split('&')\n        if (typeof classObject.class_url == 'string')\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\n        return classObject\n    },\n    push(classObject) {\n        this.arr.push(this.init(classObject))\n    },\n    getClass(id) {\n        let defaultClass = this.arr.find(item => item.id == id)\n        if (defaultClass) defaultClass = JSON.stringify({\n            name: defaultClass.class_name[0],\n            url: defaultClass.class_url[0]\n        })\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\n        return JSON.parse(getVar(this.sign + id, defaultClass))\n    },\n    getLastClick() {\n        return JSON.parse(getVar(this.sign, '{}'))\n    },\n    setUrl(url) {\n        return url.replace(/\\$\\{([^}]*)\\}/g, (_, id) => this.getClass(id).url)\n    }\n}\n$.exports = ClassTab\n"},{"col_type":"movie_3","name":"首页","path":"indexLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = parseInt(MY_URL.split('#')[1]),\n    RULE = MY_PARAMS.RULE,\n    fyAll = RULE.url.includes('fyAll'),\n    // 加载ClassTab组件\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\n    tabHeader = []\n\nif (RULE.class_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyclass',\n    class_name: RULE.class_name,\n    class_url: RULE.class_url\n})\nif (RULE.area_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyarea',\n    class_name: RULE.area_name,\n    class_url: RULE.area_url\n})\nif (RULE.year_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyyear',\n    class_name: RULE.year_name,\n    class_url: RULE.year_url\n})\nif (RULE.sort_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fysort',\n    class_name: RULE.sort_name,\n    class_url: RULE.sort_url\n})\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\nif (pageNum == 1) {\n    addListener('onClose', 'clearVar(\"myCollection-searchMode\")')\n    putVar('myCollection-searchMode', RULE.title)\n    tabHeader.load(myCollection_el)\n    if (RULE.search_url) myCollection_el.push({\n        title: \"搜索\",\n        desc: \"搜你想要的...\",\n        url: '\"hiker://page/singleSearch?keyword=\"+input+\"&page=fypage\"',\n        extra: { rule: getItem('myCollection'), RULE: RULE },\n        col_type: \"input\",\n    })\n}\n// 处理MY_URL和MY_RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.find_rule\nMY_RULE.detail_find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\n    url[0] = tabHeader.setUrl(url[0])\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\nlog(MY_URL)\n// 正文解析\nif (pageNum == 1) eval(MY_RULE.preRule)\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"详情","path":"detailLoad","rule":"js:\nlet myCollection_el = []\n\n// 处理MY_URL和MY_RULE\nlet RULE = MY_PARAMS.RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = RULE.pageList\nMY_RULE.pages = RULE.pages\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = RULE.params\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, 1),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 解析正文\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\neval(MY_RULE.preRule)\nsetLastChapterRule(MY_RULE.last_chapter_rule)\nMY_PARAMS = MY_RULE.params\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else { return v }\n            v.extra = { url: v.url, RULE: MY__RULE }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\n    findRule = findRule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (detailFindRule) {\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"工具集","path":"utility","rule":"$.exports = {\n    dataLoad: function(showAll) {\n        //检查间隔，默认一天\n        let min = 60 * 24 * 1,\n            data = [],\n            time = parseInt(readFile('updatetime')) || 0,\n            now = new Date().getTime()\n        if (now - time > 1000 * 60 * min) {\n            log('更新了数据')\n            // 获取远程数据\n            let url = getItem('remoteUrl')\n            try {\n                data = fetch(url)\n                if (url.startsWith('hiker://page/'))\n                    data = JSON.parse(data).rule\n                data = JSON.parse(data)\n            } catch (e) {\n                data = []\n            }\n            data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\n            saveFile('dataCache', JSON.stringify(data))\n            saveFile('updatetime', '' + now)\n        } else {\n            log('没有更新数据')\n            data = JSON.parse(readFile('dataCache'))\n        }\n        // 写入自定义数据\n        let customData = JSON.parse(readFile('customData') || '[]'),\n            rewriteData = []\n        customData = customData.reduce((self, v) => {\n            let index = data.findIndex((vv) => v.title == vv.title)\n            if (index >= 0) {\n                self.push(v)\n                let rule = data.splice(index, 1)[0]\n                if(showAll || v.visible)\n                    rewriteData.push(Object.assign(rule, v))\n            }\n            return self\n        }, [])\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\n        saveFile('customData', JSON.stringify(customData))\n        return rewriteData.concat(data)\n    },\n    runCode: function(rule) {\n        try {\n            let [input, code] = rule.split('.js:')\n            return code ? eval(code) : rule\n        } catch (e) { return rule }\n    },\n    urlParse: function(url, headers, pageNum, func) {\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\n        if (func) func(url)\n        url[0] = url[0].replace(/fypage(?:@(-?\\d+)@)?(?:\\*(\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\n        url[0] = /^(.*?)(?:\\[firstPage=(.*?)\\])?$/.exec(url[0])\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\n        let options = { headers: headers, method: url[1] }\n        // post方法时转换参数\n        if (/^post$/i.test(options['method'])) {\n            let [oriUrl, body] = url[0].split('?')\n            url[0] = oriUrl.replace(/？？/g, '?')\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\n            options['body'] = body\n        }\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\n            let [key, value] = v.split('@')\n            options.headers[key] = runCode(value)\n        })\n        // 添加全局UA\n        if (!options.headers['User-Agent']) {\n            if (MY_RULE.ua == 'pc')\n                options.headers['User-Agent'] = PC_UA\n            else if (MY_RULE.ua == 'mobile')\n                options.headers['User-Agent'] = MOBILE_UA\n        }\n        return { MY_URL: url[0], MY_URL_Options: options }\n    }\n}\n"},{"col_type":"movie_1_vertical_pic","name":"单搜","path":"singleSearch","rule":"js:\nlet myCollection_el = [],\n    RULE = MY_PARAMS.RULE,\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page'))\n\n// 处理MY_URL和MY_RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\nMY_RULE.find_rule = RULE.searchFind\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE),\n                subTitle = v.title\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\n            v.desc = v.content || ''\n            if(!v.img) v.col_type = 'text_1'\n            delete v.content\n\n            if (!v.url) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 4) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 1) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\n                url: url,\n                desc: content,\n                img: img\n            }\n        if(!res.img) res.col_type = 'text_1'\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"icon_2_round","name":"设置","path":"Config","rule":"js:\naddListener('onClose', 'clearVar(\"myCollection-sortFlag\");refreshPage()')\nsetPageTitle('⚙ 轻合集设置 ⚙')\nlet el = [{\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\n        url: $().lazyRule(() => {\n            deleteFile('updatetime')\n            back(true)\n            return 'toast://已更新'\n        }),\n        img: 'hiker://images/icon1',\n        col_type: 'avatar'\n    }],\n    searchThd = parseInt(readFile('searchThd') || '5'),\n    newWindow = readFile('newWindow'),\n    editMode = getVar('myCollection-editMode', '启用/禁用')\n\nel.push({\n    title: '🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd),\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\n        if (input == '列表搜索') {\n            saveFile('searchThd', '0')\n            refreshPage()\n        } else {\n            if (searchThd == 0) searchThd = 5\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\n                saveFile('searchThd', input)\n                refreshPage()\n            })\n        }\n    }, searchThd),\n    col_type: 'text_2'\n}, {\n    title: '🖥 独立首页: ' + (newWindow ? '是' : '否'),\n    url: $('#noLoading#').lazyRule((newWindow) => {\n        saveFile('newWindow', newWindow ? '' : '1')\n        refreshPage()\n        return 'hiker://empty'\n    }, newWindow),\n    col_type: 'text_2'\n})\n\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\n    el.push({\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\n            putVar('myCollection-editMode', v)\n            refreshPage(false)\n            return 'hiker://empty'\n        }, v),\n        col_type: 'scroll_button'\n    })\n})\nel.push({\n    title: '恢复出厂数据',\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\n        deleteFile('customData')\n        refreshPage(false)\n        return 'toast://已恢复出厂数据'\n    }),\n    col_type: 'scroll_button'\n})\n\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet data = dataLoad(true)\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\n    let d = { title: v.title, img: data[i].icon }\n    switch (editMode) {\n        case '启用/禁用':\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\n            d.url = $('#noLoading#').lazyRule((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                rules[index].visible = !rules[index].visible\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '重新排序':\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\n            d.title = (sortFlag == i ? '🔄  ' : '') + d.title\n            if (sortFlag == -1)\n                d.url = $('#noLoading#').lazyRule((i) => {\n                    putVar('myCollection-sortFlag', i.toString())\n                    refreshPage(false)\n                    return 'toast://选择要移动到的位置'\n                }, i)\n            else\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\n                    let rules = JSON.parse(readFile('customData') || '[]')\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\n                    saveFile('customData', JSON.stringify(rules))\n                    putVar('myCollection-sortFlag', '-1')\n                    refreshPage(false)\n                    return 'hiker://empty'\n                }, sortFlag, i)\n            break\n        case '更改图标':\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                if (input)\n                    rules[index].icon = input\n                else\n                    delete rules[index].icon\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '导入海阔':\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\n            break\n    }\n    el.push(d)\n})\nsetResult(el)\n"}],"title":"音乐合集","author":"小棉袄🌞&永远の明日","version":76,"url":"hiker://empty","col_type":"icon_2_round","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet el = [{\n    title: ' ' + getItem('myCollection').bold() + ' &nbsp &nbsp ' + '⚙ 轻合集设置 ⚙'.small(),\n    url: 'hiker://page/Config?rule=' + getItem('myCollection'),\n    img: MY_RULE.icon || 'hiker://images/icon1',\n    col_type: 'avatar'\n}, {\n    url: '\"hiker://search?s=\"+input+\"&rule=' + getItem('myCollection') + '\"',\n    desc: '搜你想要的...',\n    title: '搜索',\n    col_type: 'input'\n}]\n\nlet newWindow = readFile('newWindow')\ndataLoad().forEach((v) => {\n    let fypage = /^[^;]*?fypage.*?(;.*)?$/.test(v.url) ? 'fypage' : '1',\n        d = {\n            title: v.title,\n            url: 'hiker://page/indexLoad?#' + fypage + '#noHistory#',\n            img: v.icon,\n            extra: { RULE: v }\n        }\n    if(newWindow) Object.assign(d.extra, { newWindow: true, windowId: getItem('myCollection') + d.title })\n    el.push(d)\n})\nsetResult(el)","searchFind":"js:\nvar { dataLoad, runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet myCollection_el = [],\n    searchThd = parseInt(readFile('searchThd') || '5'),\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page')),\n    RULES = dataLoad().filter((v) => v.search_url)\nif (searchThd == 0) {\n    myCollection_el.push({\n        title: ('⬇ 选择一个小程序查看' + keyword + '的搜索结果 ⬇').small(),\n        url: 'hiker://empty'\n    })\n    RULES.forEach((v) => myCollection_el.push({\n        title: v.title,\n        url: \"hiker://page/singleSearch?keyword=\" + keyword + \"&page=fypage\",\n        extra: { rule: getItem('myCollection'), RULE: v },\n    }))\n} else if (searchThd > 0) {\n    let searchCount = pageNum * searchThd,\n        searchTag = { title: '⬆ 已搜索了' + searchCount + '个小程序 ⬆\\n⬇ 下面还有' + RULES.slice(searchCount).length + '个小程序 ⬇' }\n    RULES = RULES.slice(searchCount - searchThd, searchCount)\n    if (!RULES.length) setResult([])\n\n    let URLS = RULES.map((RULE) => {\n        MY_RULE.ua = RULE.ua\n        let urlReq = urlParse(RULE.search_url, {}, 1, (url) => {\n            url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n        })\n        return { url: urlReq.MY_URL, options: urlReq.MY_URL_Options }\n    })\n    batchFetch(URLS).forEach((indexHtml, index) => {\n        // 处理MY_URL和MY_RULE\n        let RULE = RULES[index]\n        MY_URL = URLS[index].url\n        MY_RULE.ua = RULE.ua\n        MY_RULE.col_type = RULE.col_type\n        MY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\n        MY_RULE.find_rule = RULE.searchFind\n        MY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\n        MY_RULE.preRule = RULE.preRule\n        MY_RULE.pageList = JSON.parse(RULE.pages || '[]')\n        MY_RULE.pages = JSON.stringify(MY_RULE.pageList)\n        MY_RULE.last_chapter_rule = RULE.last_chapter_rule\n        MY_RULE.params = {}\n        MY_RULE.url = MY_URL\n        MY_RULE.urlHeaders = URLS[index].options.headers\n\n        // 正文解析\n        eval(MY_RULE.preRule)\n        if (MY_RULE.find_rule.startsWith('js:')) {\n            function getUrl() {\n                return MY_URL\n            }\n\n            function getResCode() {\n                return indexHtml\n            }\n\n            function setResult(el) {\n                if (Array.isArray(el.data)) el = el.data\n                Array.prototype.push.apply(myCollection_el, el.map((v) => {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    v.desc = RULE.title + ' ▪ ' + (v.desc || '')\n\n                    if (!v.url) {\n                        return v\n                    } else if (v.url.includes('@rule=')) {\n                        let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                        v.url = url\n                        MY__RULE.detail_find_rule = rule\n                        MY__RULE.detail_col_type = MY_RULE.col_type\n                    } else if (v.url.startsWith('hiker://page/')) {\n                        if (v.url.includes('rule=') || (v.extra || {}).rule)\n                            return v\n                        let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                            subPage = MY_RULE.pageList.find((v) => v.path == path),\n                            subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                        v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                        MY__RULE.detail_find_rule = subPage.rule\n                        MY__RULE.detail_col_type = subPage.col_type\n                        MY__RULE.params = v.extra || {}\n                    } else if (v.url.includes('@lazyRule=')) {\n                        v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                        return v\n                    } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n                    v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n                    v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                    if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n\n                    return v\n                }))\n            }\n            setHomeResult = setResult\n            setSearchResult = setResult\n\n            try {\n                eval(MY_RULE.find_rule.slice(3))\n            } catch (e) {}\n        } else {\n            let findRule = MY_RULE.find_rule.split(';')\n            parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n                let [title, url, desc, content, img] = findRule.map((v, i) => {\n                        try {\n                            if (v == '*') return ''\n                            else v = (i == 1 || i == 4) ?\n                                parseDom(data, v) :\n                                parseDomForHtml(data, v)\n                            if (i != 1) v = runCode(v)\n                            return v\n                        } catch (e) { return '' }\n                    }),\n                    res = {\n                        title: title,\n                        url: url,\n                        desc: RULE.title + ' ▪ ' + desc,\n                        content: content,\n                        img: img\n                    }\n                if (res.url) {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    if (res.url.includes('@lazyRule=')) {\n                        res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY__RULE.pages, pageList: MY__RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                    } else if (MY_RULE.detail_find_rule) {\n                        res.extra = { url: url, RULE: MY__RULE, pageTitle: title }\n                        res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                        if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n                    }\n                }\n                myCollection_el.push(res)\n            })\n        }\n    })\n    myCollection_el.push(searchTag)\n}\nsetResult(myCollection_el)\n","search_url":"hiker://empty?keyword=**&page=fypage","group":"①轻合集","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"setItem('myCollection', MY_RULE.title)\nsetItem('remoteUrl', 'https://cdn.jsdelivr.net/gh/qiusunshine/hiker-rules/rules/音乐合集.json')\n// 包裹错误","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"function ClassTab(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = getVar('fold_' + this.sign, '')\\n        if (this.fold) el.push({\\n            title: '““””<span style=\\\"color:#049eff\\\">' + (folded ? '▶' : '▼'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n                selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: (selected == now ? '““””<span style=\\\"color:' + this.color + '\\\"><b>' : '') + name,\\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        putVar(sign, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        if (defaultClass) defaultClass = JSON.stringify({\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        })\\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    getLastClick() {\\n        return JSON.parse(getVar(this.sign, '{}'))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n$.exports = ClassTab\\n\"},{\"col_type\":\"movie_3\",\"name\":\"首页\",\"path\":\"indexLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = parseInt(MY_URL.split('#')[1]),\\n    RULE = MY_PARAMS.RULE,\\n    fyAll = RULE.url.includes('fyAll'),\\n    // 加载ClassTab组件\\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\\n    tabHeader = []\\n\\nif (RULE.class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: RULE.class_name,\\n    class_url: RULE.class_url\\n})\\nif (RULE.area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: RULE.area_name,\\n    class_url: RULE.area_url\\n})\\nif (RULE.year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: RULE.year_name,\\n    class_url: RULE.year_url\\n})\\nif (RULE.sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: RULE.sort_name,\\n    class_url: RULE.sort_url\\n})\\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\\nif (pageNum == 1) {\\n    addListener('onClose', 'clearVar(\\\"myCollection-searchMode\\\")')\\n    putVar('myCollection-searchMode', RULE.title)\\n    tabHeader.load(myCollection_el)\\n    if (RULE.search_url) myCollection_el.push({\\n        title: \\\"搜索\\\",\\n        desc: \\\"搜你想要的...\\\",\\n        url: '\\\"hiker://page/singleSearch?keyword=\\\"+input+\\\"&page=fypage\\\"',\\n        extra: { rule: getItem('myCollection'), RULE: RULE },\\n        col_type: \\\"input\\\",\\n    })\\n}\\n// 处理MY_URL和MY_RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.find_rule\\nMY_RULE.detail_find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\\n    url[0] = tabHeader.setUrl(url[0])\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\nlog(MY_URL)\\n// 正文解析\\nif (pageNum == 1) eval(MY_RULE.preRule)\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"详情\",\"path\":\"detailLoad\",\"rule\":\"js:\\nlet myCollection_el = []\\n\\n// 处理MY_URL和MY_RULE\\nlet RULE = MY_PARAMS.RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = RULE.pageList\\nMY_RULE.pages = RULE.pages\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = RULE.params\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, 1),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 解析正文\\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\\neval(MY_RULE.preRule)\\nsetLastChapterRule(MY_RULE.last_chapter_rule)\\nMY_PARAMS = MY_RULE.params\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\\n    findRule = findRule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (detailFindRule) {\\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"工具集\",\"path\":\"utility\",\"rule\":\"$.exports = {\\n    dataLoad: function(showAll) {\\n        //检查间隔，默认一天\\n        let min = 60 * 24 * 1,\\n            data = [],\\n            time = parseInt(readFile('updatetime')) || 0,\\n            now = new Date().getTime()\\n        if (now - time > 1000 * 60 * min) {\\n            log('更新了数据')\\n            // 获取远程数据\\n            let url = getItem('remoteUrl')\\n            try {\\n                data = fetch(url)\\n                if (url.startsWith('hiker://page/'))\\n                    data = JSON.parse(data).rule\\n                data = JSON.parse(data)\\n            } catch (e) {\\n                data = []\\n            }\\n            data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\\n            saveFile('dataCache', JSON.stringify(data))\\n            saveFile('updatetime', '' + now)\\n        } else {\\n            log('没有更新数据')\\n            data = JSON.parse(readFile('dataCache'))\\n        }\\n        // 写入自定义数据\\n        let customData = JSON.parse(readFile('customData') || '[]'),\\n            rewriteData = []\\n        customData = customData.reduce((self, v) => {\\n            let index = data.findIndex((vv) => v.title == vv.title)\\n            if (index >= 0) {\\n                self.push(v)\\n                let rule = data.splice(index, 1)[0]\\n                if(showAll || v.visible)\\n                    rewriteData.push(Object.assign(rule, v))\\n            }\\n            return self\\n        }, [])\\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\\n        saveFile('customData', JSON.stringify(customData))\\n        return rewriteData.concat(data)\\n    },\\n    runCode: function(rule) {\\n        try {\\n            let [input, code] = rule.split('.js:')\\n            return code ? eval(code) : rule\\n        } catch (e) { return rule }\\n    },\\n    urlParse: function(url, headers, pageNum, func) {\\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\\n        if (func) func(url)\\n        url[0] = url[0].replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n        url[0] = /^(.*?)(?:\\\\[firstPage=(.*?)\\\\])?$/.exec(url[0])\\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\\n        let options = { headers: headers, method: url[1] }\\n        // post方法时转换参数\\n        if (/^post$/i.test(options['method'])) {\\n            let [oriUrl, body] = url[0].split('?')\\n            url[0] = oriUrl.replace(/？？/g, '?')\\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\\n            options['body'] = body\\n        }\\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\\n            let [key, value] = v.split('@')\\n            options.headers[key] = runCode(value)\\n        })\\n        // 添加全局UA\\n        if (!options.headers['User-Agent']) {\\n            if (MY_RULE.ua == 'pc')\\n                options.headers['User-Agent'] = PC_UA\\n            else if (MY_RULE.ua == 'mobile')\\n                options.headers['User-Agent'] = MOBILE_UA\\n        }\\n        return { MY_URL: url[0], MY_URL_Options: options }\\n    }\\n}\\n\"},{\"col_type\":\"movie_1_vertical_pic\",\"name\":\"单搜\",\"path\":\"singleSearch\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    RULE = MY_PARAMS.RULE,\\n    keyword = getParam('keyword'),\\n    pageNum = parseInt(getParam('page'))\\n\\n// 处理MY_URL和MY_RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\\nMY_RULE.find_rule = RULE.searchFind\\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\\\*\\\\*/g, encodeStr(keyword, url[2]))\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE),\\n                subTitle = v.title\\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\\n            v.desc = v.content || ''\\n            if(!v.img) v.col_type = 'text_1'\\n            delete v.content\\n\\n            if (!v.url) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 4) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 1) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\\n                url: url,\\n                desc: content,\\n                img: img\\n            }\\n        if(!res.img) res.col_type = 'text_1'\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"icon_2_round\",\"name\":\"设置\",\"path\":\"Config\",\"rule\":\"js:\\naddListener('onClose', 'clearVar(\\\"myCollection-sortFlag\\\");refreshPage()')\\nsetPageTitle('⚙ 轻合集设置 ⚙')\\nlet el = [{\\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\\n        url: $().lazyRule(() => {\\n            deleteFile('updatetime')\\n            back(true)\\n            return 'toast://已更新'\\n        }),\\n        img: 'hiker://images/icon1',\\n        col_type: 'avatar'\\n    }],\\n    searchThd = parseInt(readFile('searchThd') || '5'),\\n    newWindow = readFile('newWindow'),\\n    editMode = getVar('myCollection-editMode', '启用/禁用')\\n\\nel.push({\\n    title: '🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd),\\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\\n        if (input == '列表搜索') {\\n            saveFile('searchThd', '0')\\n            refreshPage()\\n        } else {\\n            if (searchThd == 0) searchThd = 5\\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\\n                saveFile('searchThd', input)\\n                refreshPage()\\n            })\\n        }\\n    }, searchThd),\\n    col_type: 'text_2'\\n}, {\\n    title: '🖥 独立首页: ' + (newWindow ? '是' : '否'),\\n    url: $('#noLoading#').lazyRule((newWindow) => {\\n        saveFile('newWindow', newWindow ? '' : '1')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, newWindow),\\n    col_type: 'text_2'\\n})\\n\\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\\n    el.push({\\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\\n            putVar('myCollection-editMode', v)\\n            refreshPage(false)\\n            return 'hiker://empty'\\n        }, v),\\n        col_type: 'scroll_button'\\n    })\\n})\\nel.push({\\n    title: '恢复出厂数据',\\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\\n        deleteFile('customData')\\n        refreshPage(false)\\n        return 'toast://已恢复出厂数据'\\n    }),\\n    col_type: 'scroll_button'\\n})\\n\\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet data = dataLoad(true)\\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\\n    let d = { title: v.title, img: data[i].icon }\\n    switch (editMode) {\\n        case '启用/禁用':\\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\\n            d.url = $('#noLoading#').lazyRule((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                rules[index].visible = !rules[index].visible\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '重新排序':\\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\\n            d.title = (sortFlag == i ? '🔄  ' : '') + d.title\\n            if (sortFlag == -1)\\n                d.url = $('#noLoading#').lazyRule((i) => {\\n                    putVar('myCollection-sortFlag', i.toString())\\n                    refreshPage(false)\\n                    return 'toast://选择要移动到的位置'\\n                }, i)\\n            else\\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\\n                    let rules = JSON.parse(readFile('customData') || '[]')\\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\\n                    saveFile('customData', JSON.stringify(rules))\\n                    putVar('myCollection-sortFlag', '-1')\\n                    refreshPage(false)\\n                    return 'hiker://empty'\\n                }, sortFlag, i)\\n            break\\n        case '更改图标':\\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                if (input)\\n                    rules[index].icon = input\\n                else\\n                    delete rules[index].icon\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '导入海阔':\\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\\n            break\\n    }\\n    el.push(d)\\n})\\nsetResult(el)\\n\"}]","icon":"https://lanmeiguojiang.com/tubiao/music/60.svg"},{"last_chapter_rule":"","pageList":[{"col_type":"text_1","name":"ClassTab","path":"ClassTab","rule":"function ClassTab(classArray, params) {\n    Object.assign(this, params)\n    this.arr = classArray.map(v => this.init(v))\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\n    this.color = this.color || '#12b668'\n    this.boundary = this.boundary || 'blank_block'\n}\nClassTab.prototype = {\n    constructor: ClassTab,\n    load(el) {\n        let folded = getVar('fold_' + this.sign, '')\n        if (this.fold) el.push({\n            title: '““””<span style=\"color:#049eff\">' + (folded ? '▶' : '▼'),\n            url: $('#noLoading#').lazyRule((sign, folded) => {\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\n                refreshPage(false)\n                return 'hiker://empty'\n            }, this.sign, folded),\n            col_type: 'scroll_button'\n        })\n        let arr = folded ? [this.arr[0]] : this.arr\n        arr.forEach((v) => {\n            let { id, class_name, class_url } = v,\n                selected = JSON.stringify(this.getClass(id))\n            class_name.forEach((name, i) => {\n                let url = class_url[i],\n                    now = JSON.stringify({ name: name, url: url })\n                el.push({\n                    title: (selected == now ? '““””<span style=\"color:' + this.color + '\"><b>' : '') + name,\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\n                        putVar(sign + id, now)\n                        putVar(sign, now)\n                        refreshPage(false)\n                        return 'hiker://empty'\n                    }, this.sign, id, now),\n                    col_type: 'scroll_button'\n                })\n            })\n            el.push({ col_type: this.boundary })\n        })\n    },\n    init(classObject) {\n        if (typeof classObject.class_name == 'string')\n            classObject.class_name = classObject.class_name.split('&')\n        if (typeof classObject.class_url == 'string')\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\n        return classObject\n    },\n    push(classObject) {\n        this.arr.push(this.init(classObject))\n    },\n    getClass(id) {\n        let defaultClass = this.arr.find(item => item.id == id)\n        if (defaultClass) defaultClass = JSON.stringify({\n            name: defaultClass.class_name[0],\n            url: defaultClass.class_url[0]\n        })\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\n        return JSON.parse(getVar(this.sign + id, defaultClass))\n    },\n    getLastClick() {\n        return JSON.parse(getVar(this.sign, '{}'))\n    },\n    setUrl(url) {\n        return url.replace(/\\$\\{([^}]*)\\}/g, (_, id) => this.getClass(id).url)\n    }\n}\n$.exports = ClassTab\n"},{"col_type":"movie_3","name":"首页","path":"indexLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = parseInt(MY_URL.split('#')[1]),\n    RULE = MY_PARAMS.RULE,\n    fyAll = RULE.url.includes('fyAll'),\n    // 加载ClassTab组件\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\n    tabHeader = []\n\nif (RULE.class_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyclass',\n    class_name: RULE.class_name,\n    class_url: RULE.class_url\n})\nif (RULE.area_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyarea',\n    class_name: RULE.area_name,\n    class_url: RULE.area_url\n})\nif (RULE.year_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyyear',\n    class_name: RULE.year_name,\n    class_url: RULE.year_url\n})\nif (RULE.sort_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fysort',\n    class_name: RULE.sort_name,\n    class_url: RULE.sort_url\n})\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\nif (pageNum == 1) {\n    addListener('onClose', 'clearVar(\"myCollection-searchMode\")')\n    putVar('myCollection-searchMode', RULE.title)\n    tabHeader.load(myCollection_el)\n    if (RULE.search_url) myCollection_el.push({\n        title: \"搜索\",\n        desc: \"搜你想要的...\",\n        url: '\"hiker://page/singleSearch?keyword=\"+input+\"&page=fypage\"',\n        extra: { rule: getItem('myCollection'), RULE: RULE },\n        col_type: \"input\",\n    })\n}\n// 处理MY_URL和MY_RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.find_rule\nMY_RULE.detail_find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\n    url[0] = tabHeader.setUrl(url[0])\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) eval(MY_RULE.preRule)\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"详情","path":"detailLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = 1\n\n// 处理MY_URL和MY_RULE\nlet RULE = MY_PARAMS.RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = RULE.pageList\nMY_RULE.pages = RULE.pages\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = RULE.params\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet fypageFlag = MY_PARAMS.url.indexOf('fypage')\nif (fypageFlag >= 0) pageNum = parseInt(/^\\d+/.exec(MY_URL.slice(fypageFlag)))\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, pageNum),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 解析正文\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\neval(MY_RULE.preRule)\nsetLastChapterRule(MY_RULE.last_chapter_rule)\nMY_PARAMS = MY_RULE.params\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else { return v }\n            v.extra = { url: v.url, RULE: MY__RULE }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\n    findRule = findRule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (detailFindRule) {\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"工具集","path":"utility","rule":"$.exports = {\n    dataLoad: function(showAll) {\n        //检查间隔，默认一天\n        let interval = parseInt(readFile('updateInterval') || '1'),\n            time = parseInt(readFile('updateTime')) || 0,\n            now = new Date().getTime(),\n            data = []\n        if (time == 0 || interval > 0 && now - time > 1000 * 60 * 60 * 24 * interval) {\n            // 获取远程数据\n            let url = getItem('remoteUrl')\n            try {\n                let remoteData = fetch(url)\n                if (url.startsWith('hiker://page/'))\n                    remoteData = JSON.parse(remoteData).rule\n                data = JSON.parse(remoteData)\n            } catch (e) {}\n            if(data.length == 0) {\n                data = JSON.parse(readFile('dataCache') || '[]')\n                log('没有获取到更新数据')\n            } else {\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\n                saveFile('dataCache', JSON.stringify(data))\n                saveFile('updateTime', now.toString())\n                log('更新数据已写入本地')\n            }\n        } else {\n            data = JSON.parse(readFile('dataCache') || '[]')\n        }\n        // 写入自定义数据\n        let customData = JSON.parse(readFile('customData') || '[]'),\n            rewriteData = []\n        customData = customData.reduce((self, v) => {\n            let index = data.findIndex((vv) => v.title == vv.title)\n            if (index >= 0) {\n                self.push(v)\n                let rule = data.splice(index, 1)[0]\n                if(showAll || v.visible)\n                    rewriteData.push(Object.assign(rule, v))\n            }\n            return self\n        }, [])\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\n        saveFile('customData', JSON.stringify(customData))\n        return rewriteData.concat(data)\n    },\n    runCode: function(rule) {\n        try {\n            let [input, code] = rule.split('.js:')\n            return code ? eval(code) : rule\n        } catch (e) { return rule }\n    },\n    urlParse: function(url, headers, pageNum, func) {\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\n        if (func) func(url)\n        url[0] = url[0].replace(/fypage(?:@(-?\\d+)@)?(?:\\*(\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\n        url[0] = /^([\\s\\S]*?)(?:\\[firstPage=([\\s\\S]*?)\\])?$/.exec(url[0])\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\n        let options = { headers: headers, method: url[1] }\n        // post方法时转换参数\n        if (/^post$/i.test(options['method'])) {\n            let [oriUrl, body] = url[0].split('?')\n            url[0] = oriUrl.replace(/？？/g, '?')\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\n            options['body'] = body\n        }\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\n            let [key, value] = v.split('@')\n            options.headers[key] = runCode(value)\n        })\n        // 添加全局UA\n        if (!options.headers['User-Agent']) {\n            if (MY_RULE.ua == 'pc')\n                options.headers['User-Agent'] = PC_UA\n            else if (MY_RULE.ua == 'mobile')\n                options.headers['User-Agent'] = MOBILE_UA\n        }\n        return { MY_URL: url[0], MY_URL_Options: options }\n    }\n}\n"},{"col_type":"movie_1_vertical_pic","name":"单搜","path":"singleSearch","rule":"js:\nlet myCollection_el = [],\n    RULE = MY_PARAMS.RULE,\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page'))\n\n// 处理MY_URL和MY_RULE\nMY_TYPE = 'search'\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\nMY_RULE.find_rule = RULE.searchFind\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE),\n                subTitle = v.title\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\n            v.desc = v.content || ''\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\n            delete v.content\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 4) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 1) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\n                url: url,\n                desc: content,\n                img: img\n            }\n        if(!res.img) res.col_type = 'text_1'\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"icon_2_round","name":"设置","path":"Config","rule":"js:\naddListener('onClose', 'clearVar(\"myCollection-sortFlag\");refreshPage()')\nsetPageTitle('⚙ 轻合集设置 ⚙')\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet data = dataLoad(true),\n    el = [{\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\n        url: $().lazyRule(() => {\n            deleteFile('updateTime')\n            back(false)\n            return 'toast://已更新'\n        }),\n        img: 'hiker://images/icon1',\n        col_type: 'avatar'\n    }],\n    searchThd = readFile('searchThd') || '5',\n    updateInterval = readFile('updateInterval') || '1',\n    newWindow = readFile('newWindow'),\n    editMode = getVar('myCollection-editMode', '启用/禁用')\n\nel.push({\n    title: '  🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd) + '  ',\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\n        if (input == '列表搜索') {\n            saveFile('searchThd', '0')\n            refreshPage()\n        } else {\n            if (searchThd == 0) searchThd = 5\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\n                saveFile('searchThd', input)\n                refreshPage()\n            })\n        }\n    }, searchThd),\n    col_type: 'scroll_button'\n}, {\n    title: '  💡 更新频率: ' + (updateInterval < 1 ? '手动' : updateInterval + '天') + '  ',\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新').input(() => {\n        saveFile('updateInterval', input)\n        refreshPage()\n        return 'hiker://empty'\n    }),\n    col_type: 'scroll_button'\n}, {\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\n    url: $('#noLoading#').lazyRule((newWindow) => {\n        saveFile('newWindow', newWindow ? '' : '1')\n        refreshPage()\n        return 'hiker://empty'\n    }, newWindow),\n    col_type: 'scroll_button'\n}, {\n    title: '““””<font color=\"#666666\"><small>特别鸣谢，小程序提供者：\\n' +\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\n    url: 'hiker://empty',\n    col_type: 'text_center_1'\n})\n\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\n    el.push({\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\n            putVar('myCollection-editMode', v)\n            refreshPage(false)\n            return 'hiker://empty'\n        }, v),\n        col_type: 'scroll_button'\n    })\n})\nel.push({\n    title: '恢复出厂数据',\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\n        deleteFile('customData')\n        refreshPage(false)\n        return 'toast://已恢复出厂数据'\n    }),\n    col_type: 'scroll_button'\n})\n\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\n    let d = { title: v.title, img: data[i].icon }\n    switch (editMode) {\n        case '启用/禁用':\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\n            d.url = $('#noLoading#').lazyRule((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                rules[index].visible = !rules[index].visible\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '重新排序':\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\n            if (sortFlag == -1)\n                d.url = $('#noLoading#').lazyRule((i) => {\n                    putVar('myCollection-sortFlag', i.toString())\n                    refreshPage(false)\n                    return 'toast://选择要移动到的位置'\n                }, i)\n            else\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\n                    let rules = JSON.parse(readFile('customData') || '[]')\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\n                    saveFile('customData', JSON.stringify(rules))\n                    putVar('myCollection-sortFlag', '-1')\n                    refreshPage(false)\n                    return 'hiker://empty'\n                }, sortFlag, i)\n            break\n        case '更改图标':\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                if (input)\n                    rules[index].icon = input\n                else\n                    delete rules[index].icon\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '导入海阔':\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\n            break\n    }\n    el.push(d)\n})\nsetResult(el)\n"}],"title":"轻合集.晓","author":"轻合集生成器","version":78,"url":"hiker://empty","col_type":"icon_round_small_4","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet el = [{\n    title: ' ' + getItem('myCollection').bold() + ' &nbsp &nbsp ' + '⚙ 轻合集设置 ⚙'.small(),\n    url: 'hiker://page/Config?rule=' + getItem('myCollection'),\n    img: MY_RULE.icon || 'hiker://images/icon1',\n    col_type: 'avatar'\n}, {\n    url: '\"hiker://search?s=\"+input+\"&rule=' + getItem('myCollection') + '\"',\n    desc: '搜你想要的...',\n    title: '搜索',\n    col_type: 'input'\n}]\n\nlet newWindow = readFile('newWindow')\ndataLoad().forEach((v) => {\n    let fypage = /^[^;]*?fypage.*?(;.*)?$/.test(v.url) ? 'fypage' : '1',\n        d = {\n            title: v.title,\n            url: 'hiker://page/indexLoad?#' + fypage + '#noHistory#',\n            img: v.icon||'https://cf-ipfs.com/ipfs/QmXxgDVAZLWhFxikrAFVPRZQuJ2uFae7syXhFubPwMwUiU',\n            extra: { RULE: v }\n        }\n    if(newWindow) Object.assign(d.extra, { newWindow: true, windowId: getItem('myCollection') + d.title })\n    el.push(d)\n})\nsetResult(el)","searchFind":"js:\nvar { dataLoad, runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet myCollection_el = [],\n    searchThd = parseInt(readFile('searchThd') || '5'),\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page')),\n    RULES = dataLoad().filter((v) => v.search_url)\nif (searchThd == 0) {\n    myCollection_el.push({\n        title: ('⬇ 选择一个小程序查看' + keyword + '的搜索结果 ⬇').small(),\n        url: 'hiker://empty'\n    })\n    RULES.forEach((v) => myCollection_el.push({\n        title: v.title,\n        url: \"hiker://page/singleSearch?keyword=\" + keyword + \"&page=fypage\",\n        extra: { rule: getItem('myCollection'), RULE: v },\n    }))\n} else if (searchThd > 0) {\n    let searchCount = pageNum * searchThd,\n        searchTag = { title: '⬆ 已搜索了' + searchCount + '个小程序 ⬆\\n⬇ 下面还有' + RULES.slice(searchCount).length + '个小程序 ⬇' }\n    RULES = RULES.slice(searchCount - searchThd, searchCount)\n    if (!RULES.length) setResult([])\n\n    let URLS = RULES.map((RULE) => {\n        MY_RULE.ua = RULE.ua\n        let urlReq = urlParse(RULE.search_url, {}, 1, (url) => {\n            url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n        })\n        return { url: urlReq.MY_URL, options: urlReq.MY_URL_Options }\n    })\n    batchFetch(URLS).forEach((indexHtml, index) => {\n        // 处理MY_URL和MY_RULE\n        let RULE = RULES[index]\n        MY_URL = URLS[index].url\n        MY_RULE.ua = RULE.ua\n        MY_RULE.col_type = RULE.col_type\n        MY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\n        MY_RULE.find_rule = RULE.searchFind\n        MY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\n        MY_RULE.preRule = RULE.preRule\n        MY_RULE.pageList = JSON.parse(RULE.pages || '[]')\n        MY_RULE.pages = JSON.stringify(MY_RULE.pageList)\n        MY_RULE.last_chapter_rule = RULE.last_chapter_rule\n        MY_RULE.params = {}\n        MY_RULE.url = MY_URL\n        MY_RULE.urlHeaders = URLS[index].options.headers\n\n        // 正文解析\n        eval(MY_RULE.preRule)\n        if (MY_RULE.find_rule.startsWith('js:')) {\n            function getUrl() {\n                return MY_URL\n            }\n\n            function getResCode() {\n                return indexHtml\n            }\n\n            setResult = function(el) {\n                if (Array.isArray(el.data)) el = el.data\n                Array.prototype.push.apply(myCollection_el, el.map((v) => {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    v.desc = RULE.title + ' ▪ ' + (v.desc || '')\n\n                    if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                        return v\n                    } else if (v.url.includes('@rule=')) {\n                        let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                        v.url = url\n                        MY__RULE.detail_find_rule = rule\n                        MY__RULE.detail_col_type = MY_RULE.col_type\n                    } else if (v.url.startsWith('hiker://page/')) {\n                        if (v.url.includes('rule=') || (v.extra || {}).rule)\n                            return v\n                        let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                            subPage = MY_RULE.pageList.find((v) => v.path == path),\n                            subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                        v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                        MY__RULE.detail_find_rule = subPage.rule\n                        MY__RULE.detail_col_type = subPage.col_type\n                        MY__RULE.params = v.extra || {}\n                    } else if (v.url.includes('@lazyRule=')) {\n                        v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                        return v\n                    } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n                    v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n                    v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                    if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n\n                    return v\n                }))\n            }\n            setHomeResult = setResult\n            setSearchResult = setResult\n\n            try {\n                eval(MY_RULE.find_rule.slice(3))\n            } catch (e) {}\n        } else {\n            let findRule = MY_RULE.find_rule.split(';')\n            parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n                let [title, url, desc, content, img] = findRule.map((v, i) => {\n                        try {\n                            if (v == '*') return ''\n                            else v = (i == 1 || i == 4) ?\n                                parseDom(data, v) :\n                                parseDomForHtml(data, v)\n                            if (i != 1) v = runCode(v)\n                            return v\n                        } catch (e) { return '' }\n                    }),\n                    res = {\n                        title: title,\n                        url: url,\n                        desc: RULE.title + ' ▪ ' + desc,\n                        content: content,\n                        img: img\n                    }\n                if (res.url) {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    if (res.url.includes('@lazyRule=')) {\n                        res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY__RULE.pages, pageList: MY__RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                    } else if (MY_RULE.detail_find_rule) {\n                        res.extra = { url: url, RULE: MY__RULE, pageTitle: title }\n                        res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                        if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n                    }\n                }\n                myCollection_el.push(res)\n            })\n        }\n    })\n    myCollection_el.push(searchTag)\n}\nmethod_setResult.invoke(javaContext, myCollection_el, CALLBACK_KEY, MY_RULE, MY_TYPE)\n","search_url":"hiker://empty?keyword=**&page=fypage","group":"①轻合集","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"setItem('myCollection', MY_RULE.title)\nsetItem('remoteUrl', 'http://hiker.nokia.press/hikerule/dev/json_list?name=450384733')\n// \n// 包裹错误","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"function ClassTab(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = getVar('fold_' + this.sign, '')\\n        if (this.fold) el.push({\\n            title: '““””<span style=\\\"color:#049eff\\\">' + (folded ? '▶' : '▼'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n                selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: (selected == now ? '““””<span style=\\\"color:' + this.color + '\\\"><b>' : '') + name,\\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        putVar(sign, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        if (defaultClass) defaultClass = JSON.stringify({\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        })\\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    getLastClick() {\\n        return JSON.parse(getVar(this.sign, '{}'))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n$.exports = ClassTab\\n\"},{\"col_type\":\"movie_3\",\"name\":\"首页\",\"path\":\"indexLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = parseInt(MY_URL.split('#')[1]),\\n    RULE = MY_PARAMS.RULE,\\n    fyAll = RULE.url.includes('fyAll'),\\n    // 加载ClassTab组件\\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\\n    tabHeader = []\\n\\nif (RULE.class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: RULE.class_name,\\n    class_url: RULE.class_url\\n})\\nif (RULE.area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: RULE.area_name,\\n    class_url: RULE.area_url\\n})\\nif (RULE.year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: RULE.year_name,\\n    class_url: RULE.year_url\\n})\\nif (RULE.sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: RULE.sort_name,\\n    class_url: RULE.sort_url\\n})\\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\\nif (pageNum == 1) {\\n    addListener('onClose', 'clearVar(\\\"myCollection-searchMode\\\")')\\n    putVar('myCollection-searchMode', RULE.title)\\n    tabHeader.load(myCollection_el)\\n    if (RULE.search_url) myCollection_el.push({\\n        title: \\\"搜索\\\",\\n        desc: \\\"搜你想要的...\\\",\\n        url: '\\\"hiker://page/singleSearch?keyword=\\\"+input+\\\"&page=fypage\\\"',\\n        extra: { rule: getItem('myCollection'), RULE: RULE },\\n        col_type: \\\"input\\\",\\n    })\\n}\\n// 处理MY_URL和MY_RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.find_rule\\nMY_RULE.detail_find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\\n    url[0] = tabHeader.setUrl(url[0])\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) eval(MY_RULE.preRule)\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"详情\",\"path\":\"detailLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = 1\\n\\n// 处理MY_URL和MY_RULE\\nlet RULE = MY_PARAMS.RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = RULE.pageList\\nMY_RULE.pages = RULE.pages\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = RULE.params\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet fypageFlag = MY_PARAMS.url.indexOf('fypage')\\nif (fypageFlag >= 0) pageNum = parseInt(/^\\\\d+/.exec(MY_URL.slice(fypageFlag)))\\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, pageNum),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 解析正文\\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\\neval(MY_RULE.preRule)\\nsetLastChapterRule(MY_RULE.last_chapter_rule)\\nMY_PARAMS = MY_RULE.params\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\\n    findRule = findRule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (detailFindRule) {\\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"工具集\",\"path\":\"utility\",\"rule\":\"$.exports = {\\n    dataLoad: function(showAll) {\\n        //检查间隔，默认一天\\n        let interval = parseInt(readFile('updateInterval') || '1'),\\n            time = parseInt(readFile('updateTime')) || 0,\\n            now = new Date().getTime(),\\n            data = []\\n        if (time == 0 || interval > 0 && now - time > 1000 * 60 * 60 * 24 * interval) {\\n            // 获取远程数据\\n            let url = getItem('remoteUrl')\\n            try {\\n                let remoteData = fetch(url)\\n                if (url.startsWith('hiker://page/'))\\n                    remoteData = JSON.parse(remoteData).rule\\n                data = JSON.parse(remoteData)\\n            } catch (e) {}\\n            if(data.length == 0) {\\n                data = JSON.parse(readFile('dataCache') || '[]')\\n                log('没有获取到更新数据')\\n            } else {\\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\\n                saveFile('dataCache', JSON.stringify(data))\\n                saveFile('updateTime', now.toString())\\n                log('更新数据已写入本地')\\n            }\\n        } else {\\n            data = JSON.parse(readFile('dataCache') || '[]')\\n        }\\n        // 写入自定义数据\\n        let customData = JSON.parse(readFile('customData') || '[]'),\\n            rewriteData = []\\n        customData = customData.reduce((self, v) => {\\n            let index = data.findIndex((vv) => v.title == vv.title)\\n            if (index >= 0) {\\n                self.push(v)\\n                let rule = data.splice(index, 1)[0]\\n                if(showAll || v.visible)\\n                    rewriteData.push(Object.assign(rule, v))\\n            }\\n            return self\\n        }, [])\\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\\n        saveFile('customData', JSON.stringify(customData))\\n        return rewriteData.concat(data)\\n    },\\n    runCode: function(rule) {\\n        try {\\n            let [input, code] = rule.split('.js:')\\n            return code ? eval(code) : rule\\n        } catch (e) { return rule }\\n    },\\n    urlParse: function(url, headers, pageNum, func) {\\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\\n        if (func) func(url)\\n        url[0] = url[0].replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n        url[0] = /^([\\\\s\\\\S]*?)(?:\\\\[firstPage=([\\\\s\\\\S]*?)\\\\])?$/.exec(url[0])\\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\\n        let options = { headers: headers, method: url[1] }\\n        // post方法时转换参数\\n        if (/^post$/i.test(options['method'])) {\\n            let [oriUrl, body] = url[0].split('?')\\n            url[0] = oriUrl.replace(/？？/g, '?')\\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\\n            options['body'] = body\\n        }\\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\\n            let [key, value] = v.split('@')\\n            options.headers[key] = runCode(value)\\n        })\\n        // 添加全局UA\\n        if (!options.headers['User-Agent']) {\\n            if (MY_RULE.ua == 'pc')\\n                options.headers['User-Agent'] = PC_UA\\n            else if (MY_RULE.ua == 'mobile')\\n                options.headers['User-Agent'] = MOBILE_UA\\n        }\\n        return { MY_URL: url[0], MY_URL_Options: options }\\n    }\\n}\\n\"},{\"col_type\":\"movie_1_vertical_pic\",\"name\":\"单搜\",\"path\":\"singleSearch\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    RULE = MY_PARAMS.RULE,\\n    keyword = getParam('keyword'),\\n    pageNum = parseInt(getParam('page'))\\n\\n// 处理MY_URL和MY_RULE\\nMY_TYPE = 'search'\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\\nMY_RULE.find_rule = RULE.searchFind\\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\\\*\\\\*/g, encodeStr(keyword, url[2]))\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE),\\n                subTitle = v.title\\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\\n            v.desc = v.content || ''\\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\\n            delete v.content\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 4) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 1) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\\n                url: url,\\n                desc: content,\\n                img: img\\n            }\\n        if(!res.img) res.col_type = 'text_1'\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"icon_2_round\",\"name\":\"设置\",\"path\":\"Config\",\"rule\":\"js:\\naddListener('onClose', 'clearVar(\\\"myCollection-sortFlag\\\");refreshPage()')\\nsetPageTitle('⚙ 轻合集设置 ⚙')\\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet data = dataLoad(true),\\n    el = [{\\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\\n        url: $().lazyRule(() => {\\n            deleteFile('updateTime')\\n            back(false)\\n            return 'toast://已更新'\\n        }),\\n        img: 'hiker://images/icon1',\\n        col_type: 'avatar'\\n    }],\\n    searchThd = readFile('searchThd') || '5',\\n    updateInterval = readFile('updateInterval') || '1',\\n    newWindow = readFile('newWindow'),\\n    editMode = getVar('myCollection-editMode', '启用/禁用')\\n\\nel.push({\\n    title: '  🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd) + '  ',\\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\\n        if (input == '列表搜索') {\\n            saveFile('searchThd', '0')\\n            refreshPage()\\n        } else {\\n            if (searchThd == 0) searchThd = 5\\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\\n                saveFile('searchThd', input)\\n                refreshPage()\\n            })\\n        }\\n    }, searchThd),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💡 更新频率: ' + (updateInterval < 1 ? '手动' : updateInterval + '天') + '  ',\\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新').input(() => {\\n        saveFile('updateInterval', input)\\n        refreshPage()\\n        return 'hiker://empty'\\n    }),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((newWindow) => {\\n        saveFile('newWindow', newWindow ? '' : '1')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, newWindow),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '““””<font color=\\\"#666666\\\"><small>特别鸣谢，小程序提供者：\\\\n' +\\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1'\\n})\\n\\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\\n    el.push({\\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\\n            putVar('myCollection-editMode', v)\\n            refreshPage(false)\\n            return 'hiker://empty'\\n        }, v),\\n        col_type: 'scroll_button'\\n    })\\n})\\nel.push({\\n    title: '恢复出厂数据',\\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\\n        deleteFile('customData')\\n        refreshPage(false)\\n        return 'toast://已恢复出厂数据'\\n    }),\\n    col_type: 'scroll_button'\\n})\\n\\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\\n    let d = { title: v.title, img: data[i].icon }\\n    switch (editMode) {\\n        case '启用/禁用':\\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\\n            d.url = $('#noLoading#').lazyRule((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                rules[index].visible = !rules[index].visible\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '重新排序':\\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\\n            if (sortFlag == -1)\\n                d.url = $('#noLoading#').lazyRule((i) => {\\n                    putVar('myCollection-sortFlag', i.toString())\\n                    refreshPage(false)\\n                    return 'toast://选择要移动到的位置'\\n                }, i)\\n            else\\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\\n                    let rules = JSON.parse(readFile('customData') || '[]')\\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\\n                    saveFile('customData', JSON.stringify(rules))\\n                    putVar('myCollection-sortFlag', '-1')\\n                    refreshPage(false)\\n                    return 'hiker://empty'\\n                }, sortFlag, i)\\n            break\\n        case '更改图标':\\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                if (input)\\n                    rules[index].icon = input\\n                else\\n                    delete rules[index].icon\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '导入海阔':\\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\\n            break\\n    }\\n    el.push(d)\\n})\\nsetResult(el)\\n\"}]","icon":"https://www.hualigs.cn/image/6107d579a6403.jpg"},{"last_chapter_rule":"","pageList":[{"col_type":"text_1","name":"ClassTab","path":"ClassTab","rule":"function ClassTab(classArray, params) {\n    Object.assign(this, params)\n    this.arr = classArray.map(v => this.init(v))\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\n    this.color = this.color || '#12b668'\n    this.boundary = this.boundary || 'blank_block'\n}\nClassTab.prototype = {\n    constructor: ClassTab,\n    load(el) {\n        let folded = getVar('fold_' + this.sign, '')\n        if (this.fold) el.push({\n            title: '““””<span style=\"color:#049eff\">' + (folded ? '▶' : '▼'),\n            url: $('#noLoading#').lazyRule((sign, folded) => {\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\n                refreshPage(false)\n                return 'hiker://empty'\n            }, this.sign, folded),\n            col_type: 'scroll_button'\n        })\n        let arr = folded ? [this.arr[0]] : this.arr\n        arr.forEach((v) => {\n            let { id, class_name, class_url } = v,\n                selected = JSON.stringify(this.getClass(id))\n            class_name.forEach((name, i) => {\n                let url = class_url[i],\n                    now = JSON.stringify({ name: name, url: url })\n                el.push({\n                    title: (selected == now ? '““””<span style=\"color:' + this.color + '\"><b>' : '') + name,\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\n                        putVar(sign + id, now)\n                        putVar(sign, now)\n                        refreshPage(false)\n                        return 'hiker://empty'\n                    }, this.sign, id, now),\n                    col_type: 'scroll_button'\n                })\n            })\n            el.push({ col_type: this.boundary })\n        })\n    },\n    init(classObject) {\n        if (typeof classObject.class_name == 'string')\n            classObject.class_name = classObject.class_name.split('&')\n        if (typeof classObject.class_url == 'string')\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\n        return classObject\n    },\n    push(classObject) {\n        this.arr.push(this.init(classObject))\n    },\n    getClass(id) {\n        let defaultClass = this.arr.find(item => item.id == id)\n        if (defaultClass) defaultClass = JSON.stringify({\n            name: defaultClass.class_name[0],\n            url: defaultClass.class_url[0]\n        })\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\n        return JSON.parse(getVar(this.sign + id, defaultClass))\n    },\n    getLastClick() {\n        return JSON.parse(getVar(this.sign, '{}'))\n    },\n    setUrl(url) {\n        return url.replace(/\\$\\{([^}]*)\\}/g, (_, id) => this.getClass(id).url)\n    }\n}\n$.exports = ClassTab\n"},{"col_type":"movie_3","name":"首页","path":"indexLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = parseInt(MY_URL.split('#')[1]),\n    RULE = MY_PARAMS.RULE,\n    fyAll = RULE.url.includes('fyAll'),\n    // 加载ClassTab组件\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\n    tabHeader = []\n\nif (RULE.class_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyclass',\n    class_name: RULE.class_name,\n    class_url: RULE.class_url\n})\nif (RULE.area_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyarea',\n    class_name: RULE.area_name,\n    class_url: RULE.area_url\n})\nif (RULE.year_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyyear',\n    class_name: RULE.year_name,\n    class_url: RULE.year_url\n})\nif (RULE.sort_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fysort',\n    class_name: RULE.sort_name,\n    class_url: RULE.sort_url\n})\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\nif (pageNum == 1) {\n    addListener('onClose', 'clearVar(\"myCollection-searchMode\")')\n    putVar('myCollection-searchMode', RULE.title)\n    tabHeader.load(myCollection_el)\n    if (RULE.search_url) myCollection_el.push({\n        title: \"搜索\",\n        desc: \"搜你想要的...\",\n        url: '\"hiker://page/singleSearch?keyword=\"+input+\"&page=fypage\"',\n        extra: { rule: getItem('myCollection'), RULE: RULE },\n        col_type: \"input\",\n    })\n}\n// 处理MY_URL和MY_RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.find_rule\nMY_RULE.detail_find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\n    url[0] = tabHeader.setUrl(url[0])\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) eval(MY_RULE.preRule)\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"详情","path":"detailLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = 1\n\n// 处理MY_URL和MY_RULE\nlet RULE = MY_PARAMS.RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = RULE.pageList\nMY_RULE.pages = RULE.pages\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = RULE.params\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet fypageFlag = MY_PARAMS.url.indexOf('fypage')\nif (fypageFlag >= 0) pageNum = parseInt(/^\\d+/.exec(MY_URL.slice(fypageFlag)))\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, pageNum),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 解析正文\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\neval(MY_RULE.preRule)\nsetLastChapterRule(MY_RULE.last_chapter_rule)\nMY_PARAMS = MY_RULE.params\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else { return v }\n            v.extra = { url: v.url, RULE: MY__RULE }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\n    findRule = findRule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (detailFindRule) {\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"工具集","path":"utility","rule":"$.exports = {\n    dataLoad: function(showAll) {\n        //检查间隔，默认一天\n        let interval = parseInt(readFile('updateInterval') || '1'),\n            time = parseInt(readFile('updateTime')) || 0,\n            now = new Date().getTime(),\n            data = []\n        if (time == 0 || interval > 0 && now - time > 1000 * 60 * 60 * 24 * interval) {\n            // 获取远程数据\n            let url = getItem('remoteUrl')\n            try {\n                let remoteData = fetch(url)\n                if (url.startsWith('hiker://page/'))\n                    remoteData = JSON.parse(remoteData).rule\n                data = JSON.parse(remoteData)\n            } catch (e) {}\n            if(data.length == 0) {\n                data = JSON.parse(readFile('dataCache') || '[]')\n                log('没有获取到更新数据')\n            } else {\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\n                saveFile('dataCache', JSON.stringify(data))\n                saveFile('updateTime', now.toString())\n                log('更新数据已写入本地')\n            }\n        } else {\n            data = JSON.parse(readFile('dataCache') || '[]')\n        }\n        // 写入自定义数据\n        let customData = JSON.parse(readFile('customData') || '[]'),\n            rewriteData = []\n        customData = customData.reduce((self, v) => {\n            let index = data.findIndex((vv) => v.title == vv.title)\n            if (index >= 0) {\n                self.push(v)\n                let rule = data.splice(index, 1)[0]\n                if(showAll || v.visible)\n                    rewriteData.push(Object.assign(rule, v))\n            }\n            return self\n        }, [])\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\n        saveFile('customData', JSON.stringify(customData))\n        return rewriteData.concat(data)\n    },\n    runCode: function(rule) {\n        try {\n            let [input, code] = rule.split('.js:')\n            return code ? eval(code) : rule\n        } catch (e) { return rule }\n    },\n    urlParse: function(url, headers, pageNum, func) {\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\n        if (func) func(url)\n        url[0] = url[0].replace(/fypage(?:@(-?\\d+)@)?(?:\\*(\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\n        url[0] = /^([\\s\\S]*?)(?:\\[firstPage=([\\s\\S]*?)\\])?$/.exec(url[0])\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\n        let options = { headers: headers, method: url[1] }\n        // post方法时转换参数\n        if (/^post$/i.test(options['method'])) {\n            let [oriUrl, body] = url[0].split('?')\n            url[0] = oriUrl.replace(/？？/g, '?')\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\n            options['body'] = body\n        }\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\n            let [key, value] = v.split('@')\n            options.headers[key] = runCode(value)\n        })\n        // 添加全局UA\n        if (!options.headers['User-Agent']) {\n            if (MY_RULE.ua == 'pc')\n                options.headers['User-Agent'] = PC_UA\n            else if (MY_RULE.ua == 'mobile')\n                options.headers['User-Agent'] = MOBILE_UA\n        }\n        return { MY_URL: url[0], MY_URL_Options: options }\n    }\n}\n"},{"col_type":"movie_1_vertical_pic","name":"单搜","path":"singleSearch","rule":"js:\nlet myCollection_el = [],\n    RULE = MY_PARAMS.RULE,\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page'))\n\n// 处理MY_URL和MY_RULE\nMY_TYPE = 'search'\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\nMY_RULE.find_rule = RULE.searchFind\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE),\n                subTitle = v.title\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\n            v.desc = v.content || ''\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\n            delete v.content\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 4) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 1) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\n                url: url,\n                desc: content,\n                img: img\n            }\n        if(!res.img) res.col_type = 'text_1'\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"icon_2_round","name":"设置","path":"Config","rule":"js:\naddListener('onClose', 'clearVar(\"myCollection-sortFlag\");refreshPage()')\nsetPageTitle('⚙ 轻合集设置 ⚙')\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet data = dataLoad(true),\n    el = [{\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\n        url: $().lazyRule(() => {\n            deleteFile('updateTime')\n            back(false)\n            return 'toast://已更新'\n        }),\n        img: 'hiker://images/icon1',\n        col_type: 'avatar'\n    }],\n    searchThd = readFile('searchThd') || '5',\n    updateInterval = readFile('updateInterval') || '1',\n    newWindow = readFile('newWindow'),\n    editMode = getVar('myCollection-editMode', '启用/禁用')\n\nel.push({\n    title: '  🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd) + '  ',\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\n        if (input == '列表搜索') {\n            saveFile('searchThd', '0')\n            refreshPage()\n        } else {\n            if (searchThd == 0) searchThd = 5\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\n                saveFile('searchThd', input)\n                refreshPage()\n            })\n        }\n    }, searchThd),\n    col_type: 'scroll_button'\n}, {\n    title: '  💡 更新频率: ' + (updateInterval < 1 ? '手动' : updateInterval + '天') + '  ',\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新').input(() => {\n        saveFile('updateInterval', input)\n        refreshPage()\n        return 'hiker://empty'\n    }),\n    col_type: 'scroll_button'\n}, {\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\n    url: $('#noLoading#').lazyRule((newWindow) => {\n        saveFile('newWindow', newWindow ? '' : '1')\n        refreshPage()\n        return 'hiker://empty'\n    }, newWindow),\n    col_type: 'scroll_button'\n}, {\n    title: '““””<font color=\"#666666\"><small>特别鸣谢，小程序提供者：\\n' +\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\n    url: 'hiker://empty',\n    col_type: 'text_center_1'\n})\n\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\n    el.push({\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\n            putVar('myCollection-editMode', v)\n            refreshPage(false)\n            return 'hiker://empty'\n        }, v),\n        col_type: 'scroll_button'\n    })\n})\nel.push({\n    title: '恢复出厂数据',\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\n        deleteFile('customData')\n        refreshPage(false)\n        return 'toast://已恢复出厂数据'\n    }),\n    col_type: 'scroll_button'\n})\n\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\n    let d = { title: v.title, img: data[i].icon }\n    switch (editMode) {\n        case '启用/禁用':\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\n            d.url = $('#noLoading#').lazyRule((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                rules[index].visible = !rules[index].visible\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '重新排序':\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\n            if (sortFlag == -1)\n                d.url = $('#noLoading#').lazyRule((i) => {\n                    putVar('myCollection-sortFlag', i.toString())\n                    refreshPage(false)\n                    return 'toast://选择要移动到的位置'\n                }, i)\n            else\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\n                    let rules = JSON.parse(readFile('customData') || '[]')\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\n                    saveFile('customData', JSON.stringify(rules))\n                    putVar('myCollection-sortFlag', '-1')\n                    refreshPage(false)\n                    return 'hiker://empty'\n                }, sortFlag, i)\n            break\n        case '更改图标':\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                if (input)\n                    rules[index].icon = input\n                else\n                    delete rules[index].icon\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '导入海阔':\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\n            break\n    }\n    el.push(d)\n})\nsetResult(el)\n"}],"title":"轻合集.回忆","author":"轻合集生成器","version":78,"url":"hiker://empty","col_type":"icon_round_small_4","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet el = [{\n    title: ' ' + getItem('myCollection').bold() + ' &nbsp &nbsp ' + '⚙ 轻合集设置 ⚙'.small(),\n    url: 'hiker://page/Config?rule=' + getItem('myCollection'),\n    img: MY_RULE.icon || 'hiker://images/icon1',\n    col_type: 'avatar'\n}, {\n    url: '\"hiker://search?s=\"+input+\"&rule=' + getItem('myCollection') + '\"',\n    desc: '搜你想要的...',\n    title: '搜索',\n    col_type: 'input'\n}]\n\nlet newWindow = readFile('newWindow')\ndataLoad().forEach((v) => {\n    let fypage = /^[^;]*?fypage.*?(;.*)?$/.test(v.url) ? 'fypage' : '1',\n        d = {\n            title: v.title,\n            url: 'hiker://page/indexLoad?#' + fypage + '#noHistory#',\n            img: v.icon||'https://cf-ipfs.com/ipfs/QmXxgDVAZLWhFxikrAFVPRZQuJ2uFae7syXhFubPwMwUiU',\n            extra: { RULE: v }\n        }\n    if(newWindow) Object.assign(d.extra, { newWindow: true, windowId: getItem('myCollection') + d.title })\n    el.push(d)\n})\nsetResult(el)","searchFind":"js:\nvar { dataLoad, runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet myCollection_el = [],\n    searchThd = parseInt(readFile('searchThd') || '5'),\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page')),\n    RULES = dataLoad().filter((v) => v.search_url)\nif (searchThd == 0) {\n    myCollection_el.push({\n        title: ('⬇ 选择一个小程序查看' + keyword + '的搜索结果 ⬇').small(),\n        url: 'hiker://empty'\n    })\n    RULES.forEach((v) => myCollection_el.push({\n        title: v.title,\n        url: \"hiker://page/singleSearch?keyword=\" + keyword + \"&page=fypage\",\n        extra: { rule: getItem('myCollection'), RULE: v },\n    }))\n} else if (searchThd > 0) {\n    let searchCount = pageNum * searchThd,\n        searchTag = { title: '⬆ 已搜索了' + searchCount + '个小程序 ⬆\\n⬇ 下面还有' + RULES.slice(searchCount).length + '个小程序 ⬇' }\n    RULES = RULES.slice(searchCount - searchThd, searchCount)\n    if (!RULES.length) setResult([])\n\n    let URLS = RULES.map((RULE) => {\n        MY_RULE.ua = RULE.ua\n        let urlReq = urlParse(RULE.search_url, {}, 1, (url) => {\n            url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n        })\n        return { url: urlReq.MY_URL, options: urlReq.MY_URL_Options }\n    })\n    batchFetch(URLS).forEach((indexHtml, index) => {\n        // 处理MY_URL和MY_RULE\n        let RULE = RULES[index]\n        MY_URL = URLS[index].url\n        MY_RULE.ua = RULE.ua\n        MY_RULE.col_type = RULE.col_type\n        MY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\n        MY_RULE.find_rule = RULE.searchFind\n        MY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\n        MY_RULE.preRule = RULE.preRule\n        MY_RULE.pageList = JSON.parse(RULE.pages || '[]')\n        MY_RULE.pages = JSON.stringify(MY_RULE.pageList)\n        MY_RULE.last_chapter_rule = RULE.last_chapter_rule\n        MY_RULE.params = {}\n        MY_RULE.url = MY_URL\n        MY_RULE.urlHeaders = URLS[index].options.headers\n\n        // 正文解析\n        eval(MY_RULE.preRule)\n        if (MY_RULE.find_rule.startsWith('js:')) {\n            function getUrl() {\n                return MY_URL\n            }\n\n            function getResCode() {\n                return indexHtml\n            }\n\n            setResult = function(el) {\n                if (Array.isArray(el.data)) el = el.data\n                Array.prototype.push.apply(myCollection_el, el.map((v) => {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    v.desc = RULE.title + ' ▪ ' + (v.desc || '')\n\n                    if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                        return v\n                    } else if (v.url.includes('@rule=')) {\n                        let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                        v.url = url\n                        MY__RULE.detail_find_rule = rule\n                        MY__RULE.detail_col_type = MY_RULE.col_type\n                    } else if (v.url.startsWith('hiker://page/')) {\n                        if (v.url.includes('rule=') || (v.extra || {}).rule)\n                            return v\n                        let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                            subPage = MY_RULE.pageList.find((v) => v.path == path),\n                            subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                        v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                        MY__RULE.detail_find_rule = subPage.rule\n                        MY__RULE.detail_col_type = subPage.col_type\n                        MY__RULE.params = v.extra || {}\n                    } else if (v.url.includes('@lazyRule=')) {\n                        v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                        return v\n                    } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n                    v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n                    v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                    if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n\n                    return v\n                }))\n            }\n            setHomeResult = setResult\n            setSearchResult = setResult\n\n            try {\n                eval(MY_RULE.find_rule.slice(3))\n            } catch (e) {}\n        } else {\n            let findRule = MY_RULE.find_rule.split(';')\n            parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n                let [title, url, desc, content, img] = findRule.map((v, i) => {\n                        try {\n                            if (v == '*') return ''\n                            else v = (i == 1 || i == 4) ?\n                                parseDom(data, v) :\n                                parseDomForHtml(data, v)\n                            if (i != 1) v = runCode(v)\n                            return v\n                        } catch (e) { return '' }\n                    }),\n                    res = {\n                        title: title,\n                        url: url,\n                        desc: RULE.title + ' ▪ ' + desc,\n                        content: content,\n                        img: img\n                    }\n                if (res.url) {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    if (res.url.includes('@lazyRule=')) {\n                        res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY__RULE.pages, pageList: MY__RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                    } else if (MY_RULE.detail_find_rule) {\n                        res.extra = { url: url, RULE: MY__RULE, pageTitle: title }\n                        res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                        if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n                    }\n                }\n                myCollection_el.push(res)\n            })\n        }\n    })\n    myCollection_el.push(searchTag)\n}\nmethod_setResult.invoke(javaContext, myCollection_el, CALLBACK_KEY, MY_RULE, MY_TYPE)\n","search_url":"hiker://empty?keyword=**&page=fypage","group":"①轻合集","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"setItem('myCollection', MY_RULE.title)\nsetItem('remoteUrl', 'http://hiker.nokia.press/hikerule/dev/json_list?name=184462840')\n// \n// 包裹错误","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"function ClassTab(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = getVar('fold_' + this.sign, '')\\n        if (this.fold) el.push({\\n            title: '““””<span style=\\\"color:#049eff\\\">' + (folded ? '▶' : '▼'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n                selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: (selected == now ? '““””<span style=\\\"color:' + this.color + '\\\"><b>' : '') + name,\\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        putVar(sign, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        if (defaultClass) defaultClass = JSON.stringify({\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        })\\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    getLastClick() {\\n        return JSON.parse(getVar(this.sign, '{}'))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n$.exports = ClassTab\\n\"},{\"col_type\":\"movie_3\",\"name\":\"首页\",\"path\":\"indexLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = parseInt(MY_URL.split('#')[1]),\\n    RULE = MY_PARAMS.RULE,\\n    fyAll = RULE.url.includes('fyAll'),\\n    // 加载ClassTab组件\\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\\n    tabHeader = []\\n\\nif (RULE.class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: RULE.class_name,\\n    class_url: RULE.class_url\\n})\\nif (RULE.area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: RULE.area_name,\\n    class_url: RULE.area_url\\n})\\nif (RULE.year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: RULE.year_name,\\n    class_url: RULE.year_url\\n})\\nif (RULE.sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: RULE.sort_name,\\n    class_url: RULE.sort_url\\n})\\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\\nif (pageNum == 1) {\\n    addListener('onClose', 'clearVar(\\\"myCollection-searchMode\\\")')\\n    putVar('myCollection-searchMode', RULE.title)\\n    tabHeader.load(myCollection_el)\\n    if (RULE.search_url) myCollection_el.push({\\n        title: \\\"搜索\\\",\\n        desc: \\\"搜你想要的...\\\",\\n        url: '\\\"hiker://page/singleSearch?keyword=\\\"+input+\\\"&page=fypage\\\"',\\n        extra: { rule: getItem('myCollection'), RULE: RULE },\\n        col_type: \\\"input\\\",\\n    })\\n}\\n// 处理MY_URL和MY_RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.find_rule\\nMY_RULE.detail_find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\\n    url[0] = tabHeader.setUrl(url[0])\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) eval(MY_RULE.preRule)\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"详情\",\"path\":\"detailLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = 1\\n\\n// 处理MY_URL和MY_RULE\\nlet RULE = MY_PARAMS.RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = RULE.pageList\\nMY_RULE.pages = RULE.pages\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = RULE.params\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet fypageFlag = MY_PARAMS.url.indexOf('fypage')\\nif (fypageFlag >= 0) pageNum = parseInt(/^\\\\d+/.exec(MY_URL.slice(fypageFlag)))\\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, pageNum),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 解析正文\\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\\neval(MY_RULE.preRule)\\nsetLastChapterRule(MY_RULE.last_chapter_rule)\\nMY_PARAMS = MY_RULE.params\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\\n    findRule = findRule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (detailFindRule) {\\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"工具集\",\"path\":\"utility\",\"rule\":\"$.exports = {\\n    dataLoad: function(showAll) {\\n        //检查间隔，默认一天\\n        let interval = parseInt(readFile('updateInterval') || '1'),\\n            time = parseInt(readFile('updateTime')) || 0,\\n            now = new Date().getTime(),\\n            data = []\\n        if (time == 0 || interval > 0 && now - time > 1000 * 60 * 60 * 24 * interval) {\\n            // 获取远程数据\\n            let url = getItem('remoteUrl')\\n            try {\\n                let remoteData = fetch(url)\\n                if (url.startsWith('hiker://page/'))\\n                    remoteData = JSON.parse(remoteData).rule\\n                data = JSON.parse(remoteData)\\n            } catch (e) {}\\n            if(data.length == 0) {\\n                data = JSON.parse(readFile('dataCache') || '[]')\\n                log('没有获取到更新数据')\\n            } else {\\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\\n                saveFile('dataCache', JSON.stringify(data))\\n                saveFile('updateTime', now.toString())\\n                log('更新数据已写入本地')\\n            }\\n        } else {\\n            data = JSON.parse(readFile('dataCache') || '[]')\\n        }\\n        // 写入自定义数据\\n        let customData = JSON.parse(readFile('customData') || '[]'),\\n            rewriteData = []\\n        customData = customData.reduce((self, v) => {\\n            let index = data.findIndex((vv) => v.title == vv.title)\\n            if (index >= 0) {\\n                self.push(v)\\n                let rule = data.splice(index, 1)[0]\\n                if(showAll || v.visible)\\n                    rewriteData.push(Object.assign(rule, v))\\n            }\\n            return self\\n        }, [])\\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\\n        saveFile('customData', JSON.stringify(customData))\\n        return rewriteData.concat(data)\\n    },\\n    runCode: function(rule) {\\n        try {\\n            let [input, code] = rule.split('.js:')\\n            return code ? eval(code) : rule\\n        } catch (e) { return rule }\\n    },\\n    urlParse: function(url, headers, pageNum, func) {\\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\\n        if (func) func(url)\\n        url[0] = url[0].replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n        url[0] = /^([\\\\s\\\\S]*?)(?:\\\\[firstPage=([\\\\s\\\\S]*?)\\\\])?$/.exec(url[0])\\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\\n        let options = { headers: headers, method: url[1] }\\n        // post方法时转换参数\\n        if (/^post$/i.test(options['method'])) {\\n            let [oriUrl, body] = url[0].split('?')\\n            url[0] = oriUrl.replace(/？？/g, '?')\\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\\n            options['body'] = body\\n        }\\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\\n            let [key, value] = v.split('@')\\n            options.headers[key] = runCode(value)\\n        })\\n        // 添加全局UA\\n        if (!options.headers['User-Agent']) {\\n            if (MY_RULE.ua == 'pc')\\n                options.headers['User-Agent'] = PC_UA\\n            else if (MY_RULE.ua == 'mobile')\\n                options.headers['User-Agent'] = MOBILE_UA\\n        }\\n        return { MY_URL: url[0], MY_URL_Options: options }\\n    }\\n}\\n\"},{\"col_type\":\"movie_1_vertical_pic\",\"name\":\"单搜\",\"path\":\"singleSearch\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    RULE = MY_PARAMS.RULE,\\n    keyword = getParam('keyword'),\\n    pageNum = parseInt(getParam('page'))\\n\\n// 处理MY_URL和MY_RULE\\nMY_TYPE = 'search'\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\\nMY_RULE.find_rule = RULE.searchFind\\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\\\*\\\\*/g, encodeStr(keyword, url[2]))\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE),\\n                subTitle = v.title\\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\\n            v.desc = v.content || ''\\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\\n            delete v.content\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 4) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 1) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\\n                url: url,\\n                desc: content,\\n                img: img\\n            }\\n        if(!res.img) res.col_type = 'text_1'\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"icon_2_round\",\"name\":\"设置\",\"path\":\"Config\",\"rule\":\"js:\\naddListener('onClose', 'clearVar(\\\"myCollection-sortFlag\\\");refreshPage()')\\nsetPageTitle('⚙ 轻合集设置 ⚙')\\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet data = dataLoad(true),\\n    el = [{\\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\\n        url: $().lazyRule(() => {\\n            deleteFile('updateTime')\\n            back(false)\\n            return 'toast://已更新'\\n        }),\\n        img: 'hiker://images/icon1',\\n        col_type: 'avatar'\\n    }],\\n    searchThd = readFile('searchThd') || '5',\\n    updateInterval = readFile('updateInterval') || '1',\\n    newWindow = readFile('newWindow'),\\n    editMode = getVar('myCollection-editMode', '启用/禁用')\\n\\nel.push({\\n    title: '  🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd) + '  ',\\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\\n        if (input == '列表搜索') {\\n            saveFile('searchThd', '0')\\n            refreshPage()\\n        } else {\\n            if (searchThd == 0) searchThd = 5\\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\\n                saveFile('searchThd', input)\\n                refreshPage()\\n            })\\n        }\\n    }, searchThd),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💡 更新频率: ' + (updateInterval < 1 ? '手动' : updateInterval + '天') + '  ',\\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新').input(() => {\\n        saveFile('updateInterval', input)\\n        refreshPage()\\n        return 'hiker://empty'\\n    }),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((newWindow) => {\\n        saveFile('newWindow', newWindow ? '' : '1')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, newWindow),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '““””<font color=\\\"#666666\\\"><small>特别鸣谢，小程序提供者：\\\\n' +\\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1'\\n})\\n\\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\\n    el.push({\\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\\n            putVar('myCollection-editMode', v)\\n            refreshPage(false)\\n            return 'hiker://empty'\\n        }, v),\\n        col_type: 'scroll_button'\\n    })\\n})\\nel.push({\\n    title: '恢复出厂数据',\\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\\n        deleteFile('customData')\\n        refreshPage(false)\\n        return 'toast://已恢复出厂数据'\\n    }),\\n    col_type: 'scroll_button'\\n})\\n\\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\\n    let d = { title: v.title, img: data[i].icon }\\n    switch (editMode) {\\n        case '启用/禁用':\\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\\n            d.url = $('#noLoading#').lazyRule((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                rules[index].visible = !rules[index].visible\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '重新排序':\\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\\n            if (sortFlag == -1)\\n                d.url = $('#noLoading#').lazyRule((i) => {\\n                    putVar('myCollection-sortFlag', i.toString())\\n                    refreshPage(false)\\n                    return 'toast://选择要移动到的位置'\\n                }, i)\\n            else\\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\\n                    let rules = JSON.parse(readFile('customData') || '[]')\\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\\n                    saveFile('customData', JSON.stringify(rules))\\n                    putVar('myCollection-sortFlag', '-1')\\n                    refreshPage(false)\\n                    return 'hiker://empty'\\n                }, sortFlag, i)\\n            break\\n        case '更改图标':\\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                if (input)\\n                    rules[index].icon = input\\n                else\\n                    delete rules[index].icon\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '导入海阔':\\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\\n            break\\n    }\\n    el.push(d)\\n})\\nsetResult(el)\\n\"}]","icon":"http://q1.qlogo.cn/g?b=qq&nk=184462840&s=640"},{"last_chapter_rule":"","pageList":[{"col_type":"text_1","name":"ClassTab","path":"ClassTab","rule":"function ClassTab(classArray, params) {\n    Object.assign(this, params)\n    this.arr = classArray.map(v => this.init(v))\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\n    this.color = this.color || '#12b668'\n    this.boundary = this.boundary || 'blank_block'\n}\nClassTab.prototype = {\n    constructor: ClassTab,\n    load(el) {\n        let folded = getVar('fold_' + this.sign, '')\n        if (this.fold) el.push({\n            title: '““””<span style=\"color:#049eff\">' + (folded ? '▶' : '▼'),\n            url: $('#noLoading#').lazyRule((sign, folded) => {\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\n                refreshPage(false)\n                return 'hiker://empty'\n            }, this.sign, folded),\n            col_type: 'scroll_button'\n        })\n        let arr = folded ? [this.arr[0]] : this.arr\n        arr.forEach((v) => {\n            let { id, class_name, class_url } = v,\n                selected = JSON.stringify(this.getClass(id))\n            class_name.forEach((name, i) => {\n                let url = class_url[i],\n                    now = JSON.stringify({ name: name, url: url })\n                el.push({\n                    title: (selected == now ? '““””<span style=\"color:' + this.color + '\"><b>' : '') + name,\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\n                        putVar(sign + id, now)\n                        putVar(sign, now)\n                        refreshPage(false)\n                        return 'hiker://empty'\n                    }, this.sign, id, now),\n                    col_type: 'scroll_button'\n                })\n            })\n            el.push({ col_type: this.boundary })\n        })\n    },\n    init(classObject) {\n        if (typeof classObject.class_name == 'string')\n            classObject.class_name = classObject.class_name.split('&')\n        if (typeof classObject.class_url == 'string')\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\n        return classObject\n    },\n    push(classObject) {\n        this.arr.push(this.init(classObject))\n    },\n    getClass(id) {\n        let defaultClass = this.arr.find(item => item.id == id)\n        if (defaultClass) defaultClass = JSON.stringify({\n            name: defaultClass.class_name[0],\n            url: defaultClass.class_url[0]\n        })\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\n        return JSON.parse(getVar(this.sign + id, defaultClass))\n    },\n    getLastClick() {\n        return JSON.parse(getVar(this.sign, '{}'))\n    },\n    setUrl(url) {\n        return url.replace(/\\$\\{([^}]*)\\}/g, (_, id) => this.getClass(id).url)\n    }\n}\n$.exports = ClassTab\n"},{"col_type":"movie_3","name":"首页","path":"indexLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = parseInt(MY_URL.split('#')[1]),\n    RULE = MY_PARAMS.RULE,\n    fyAll = RULE.url.includes('fyAll'),\n    // 加载ClassTab组件\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\n    tabHeader = []\n\nif (RULE.class_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyclass',\n    class_name: RULE.class_name,\n    class_url: RULE.class_url\n})\nif (RULE.area_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyarea',\n    class_name: RULE.area_name,\n    class_url: RULE.area_url\n})\nif (RULE.year_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyyear',\n    class_name: RULE.year_name,\n    class_url: RULE.year_url\n})\nif (RULE.sort_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fysort',\n    class_name: RULE.sort_name,\n    class_url: RULE.sort_url\n})\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\nif (pageNum == 1) {\n    addListener('onClose', 'clearVar(\"myCollection-searchMode\")')\n    putVar('myCollection-searchMode', RULE.title)\n    tabHeader.load(myCollection_el)\n    if (RULE.search_url) myCollection_el.push({\n        title: \"搜索\",\n        desc: \"搜你想要的...\",\n        url: '\"hiker://page/singleSearch?keyword=\"+input+\"&page=fypage\"',\n        extra: { rule: getItem('myCollection'), RULE: RULE },\n        col_type: \"input\",\n    })\n}\n// 处理MY_URL和MY_RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.find_rule\nMY_RULE.detail_find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\n    url[0] = tabHeader.setUrl(url[0])\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) eval(MY_RULE.preRule)\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"详情","path":"detailLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = 1\n\n// 处理MY_URL和MY_RULE\nlet RULE = MY_PARAMS.RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = RULE.pageList\nMY_RULE.pages = RULE.pages\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = RULE.params\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet fypageFlag = MY_PARAMS.url.indexOf('fypage')\nif (fypageFlag >= 0) pageNum = parseInt(/^\\d+/.exec(MY_URL.slice(fypageFlag)))\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, pageNum),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 解析正文\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\neval(MY_RULE.preRule)\nsetLastChapterRule(MY_RULE.last_chapter_rule)\nMY_PARAMS = MY_RULE.params\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else { return v }\n            v.extra = { url: v.url, RULE: MY__RULE }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\n    findRule = findRule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (detailFindRule) {\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"工具集","path":"utility","rule":"$.exports = {\n    dataLoad: function(showAll) {\n        //检查间隔，默认一天\n        let interval = parseInt(readFile('updateInterval') || '1'),\n            time = parseInt(readFile('updateTime')) || 0,\n            now = new Date().getTime(),\n            data = []\n        if (time == 0 || interval > 0 && now - time > 1000 * 60 * 60 * 24 * interval) {\n            // 获取远程数据\n            let url = getItem('remoteUrl')\n            try {\n                let remoteData = fetch(url)\n                if (url.startsWith('hiker://page/'))\n                    remoteData = JSON.parse(remoteData).rule\n                data = JSON.parse(remoteData)\n            } catch (e) {}\n            if(data.length == 0) {\n                data = JSON.parse(readFile('dataCache') || '[]')\n                log('没有获取到更新数据')\n            } else {\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\n                saveFile('dataCache', JSON.stringify(data))\n                saveFile('updateTime', now.toString())\n                log('更新数据已写入本地')\n            }\n        } else {\n            data = JSON.parse(readFile('dataCache') || '[]')\n        }\n        // 写入自定义数据\n        let customData = JSON.parse(readFile('customData') || '[]'),\n            rewriteData = []\n        customData = customData.reduce((self, v) => {\n            let index = data.findIndex((vv) => v.title == vv.title)\n            if (index >= 0) {\n                self.push(v)\n                let rule = data.splice(index, 1)[0]\n                if(showAll || v.visible)\n                    rewriteData.push(Object.assign(rule, v))\n            }\n            return self\n        }, [])\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\n        saveFile('customData', JSON.stringify(customData))\n        return rewriteData.concat(data)\n    },\n    runCode: function(rule) {\n        try {\n            let [input, code] = rule.split('.js:')\n            return code ? eval(code) : rule\n        } catch (e) { return rule }\n    },\n    urlParse: function(url, headers, pageNum, func) {\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\n        if (func) func(url)\n        url[0] = url[0].replace(/fypage(?:@(-?\\d+)@)?(?:\\*(\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\n        url[0] = /^([\\s\\S]*?)(?:\\[firstPage=([\\s\\S]*?)\\])?$/.exec(url[0])\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\n        let options = { headers: headers, method: url[1] }\n        // post方法时转换参数\n        if (/^post$/i.test(options['method'])) {\n            let [oriUrl, body] = url[0].split('?')\n            url[0] = oriUrl.replace(/？？/g, '?')\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\n            options['body'] = body\n        }\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\n            let [key, value] = v.split('@')\n            options.headers[key] = runCode(value)\n        })\n        // 添加全局UA\n        if (!options.headers['User-Agent']) {\n            if (MY_RULE.ua == 'pc')\n                options.headers['User-Agent'] = PC_UA\n            else if (MY_RULE.ua == 'mobile')\n                options.headers['User-Agent'] = MOBILE_UA\n        }\n        return { MY_URL: url[0], MY_URL_Options: options }\n    }\n}\n"},{"col_type":"movie_1_vertical_pic","name":"单搜","path":"singleSearch","rule":"js:\nlet myCollection_el = [],\n    RULE = MY_PARAMS.RULE,\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page'))\n\n// 处理MY_URL和MY_RULE\nMY_TYPE = 'search'\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\nMY_RULE.find_rule = RULE.searchFind\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE),\n                subTitle = v.title\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\n            v.desc = v.content || ''\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\n            delete v.content\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 4) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 1) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\n                url: url,\n                desc: content,\n                img: img\n            }\n        if(!res.img) res.col_type = 'text_1'\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"icon_2_round","name":"设置","path":"Config","rule":"js:\naddListener('onClose', 'clearVar(\"myCollection-sortFlag\");refreshPage()')\nsetPageTitle('⚙ 轻合集设置 ⚙')\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet data = dataLoad(true),\n    el = [{\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\n        url: $().lazyRule(() => {\n            deleteFile('updateTime')\n            back(false)\n            return 'toast://已更新'\n        }),\n        img: 'hiker://images/icon1',\n        col_type: 'avatar'\n    }],\n    searchThd = readFile('searchThd') || '5',\n    updateInterval = readFile('updateInterval') || '1',\n    newWindow = readFile('newWindow'),\n    editMode = getVar('myCollection-editMode', '启用/禁用')\n\nel.push({\n    title: '  🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd) + '  ',\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\n        if (input == '列表搜索') {\n            saveFile('searchThd', '0')\n            refreshPage()\n        } else {\n            if (searchThd == 0) searchThd = 5\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\n                saveFile('searchThd', input)\n                refreshPage()\n            })\n        }\n    }, searchThd),\n    col_type: 'scroll_button'\n}, {\n    title: '  💡 更新频率: ' + (updateInterval < 1 ? '手动' : updateInterval + '天') + '  ',\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新').input(() => {\n        saveFile('updateInterval', input)\n        refreshPage()\n        return 'hiker://empty'\n    }),\n    col_type: 'scroll_button'\n}, {\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\n    url: $('#noLoading#').lazyRule((newWindow) => {\n        saveFile('newWindow', newWindow ? '' : '1')\n        refreshPage()\n        return 'hiker://empty'\n    }, newWindow),\n    col_type: 'scroll_button'\n}, {\n    title: '““””<font color=\"#666666\"><small>特别鸣谢，小程序提供者：\\n' +\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\n    url: 'hiker://empty',\n    col_type: 'text_center_1'\n})\n\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\n    el.push({\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\n            putVar('myCollection-editMode', v)\n            refreshPage(false)\n            return 'hiker://empty'\n        }, v),\n        col_type: 'scroll_button'\n    })\n})\nel.push({\n    title: '恢复出厂数据',\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\n        deleteFile('customData')\n        refreshPage(false)\n        return 'toast://已恢复出厂数据'\n    }),\n    col_type: 'scroll_button'\n})\n\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\n    let d = { title: v.title, img: data[i].icon }\n    switch (editMode) {\n        case '启用/禁用':\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\n            d.url = $('#noLoading#').lazyRule((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                rules[index].visible = !rules[index].visible\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '重新排序':\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\n            if (sortFlag == -1)\n                d.url = $('#noLoading#').lazyRule((i) => {\n                    putVar('myCollection-sortFlag', i.toString())\n                    refreshPage(false)\n                    return 'toast://选择要移动到的位置'\n                }, i)\n            else\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\n                    let rules = JSON.parse(readFile('customData') || '[]')\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\n                    saveFile('customData', JSON.stringify(rules))\n                    putVar('myCollection-sortFlag', '-1')\n                    refreshPage(false)\n                    return 'hiker://empty'\n                }, sortFlag, i)\n            break\n        case '更改图标':\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                if (input)\n                    rules[index].icon = input\n                else\n                    delete rules[index].icon\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '导入海阔':\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\n            break\n    }\n    el.push(d)\n})\nsetResult(el)\n"}],"title":"轻合集.仰望星空","author":"轻合集生成器","version":78,"url":"hiker://empty","col_type":"icon_round_small_4","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet el = [{\n    title: ' ' + getItem('myCollection').bold() + ' &nbsp &nbsp ' + '⚙ 轻合集设置 ⚙'.small(),\n    url: 'hiker://page/Config?rule=' + getItem('myCollection'),\n    img: MY_RULE.icon || 'hiker://images/icon1',\n    col_type: 'avatar'\n}, {\n    url: '\"hiker://search?s=\"+input+\"&rule=' + getItem('myCollection') + '\"',\n    desc: '搜你想要的...',\n    title: '搜索',\n    col_type: 'input'\n}]\n\nlet newWindow = readFile('newWindow')\ndataLoad().forEach((v) => {\n    let fypage = /^[^;]*?fypage.*?(;.*)?$/.test(v.url) ? 'fypage' : '1',\n        d = {\n            title: v.title,\n            url: 'hiker://page/indexLoad?#' + fypage + '#noHistory#',\n            img: v.icon||'https://cf-ipfs.com/ipfs/QmXxgDVAZLWhFxikrAFVPRZQuJ2uFae7syXhFubPwMwUiU',\n            extra: { RULE: v }\n        }\n    if(newWindow) Object.assign(d.extra, { newWindow: true, windowId: getItem('myCollection') + d.title })\n    el.push(d)\n})\nsetResult(el)","searchFind":"js:\nvar { dataLoad, runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet myCollection_el = [],\n    searchThd = parseInt(readFile('searchThd') || '5'),\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page')),\n    RULES = dataLoad().filter((v) => v.search_url)\nif (searchThd == 0) {\n    myCollection_el.push({\n        title: ('⬇ 选择一个小程序查看' + keyword + '的搜索结果 ⬇').small(),\n        url: 'hiker://empty'\n    })\n    RULES.forEach((v) => myCollection_el.push({\n        title: v.title,\n        url: \"hiker://page/singleSearch?keyword=\" + keyword + \"&page=fypage\",\n        extra: { rule: getItem('myCollection'), RULE: v },\n    }))\n} else if (searchThd > 0) {\n    let searchCount = pageNum * searchThd,\n        searchTag = { title: '⬆ 已搜索了' + searchCount + '个小程序 ⬆\\n⬇ 下面还有' + RULES.slice(searchCount).length + '个小程序 ⬇' }\n    RULES = RULES.slice(searchCount - searchThd, searchCount)\n    if (!RULES.length) setResult([])\n\n    let URLS = RULES.map((RULE) => {\n        MY_RULE.ua = RULE.ua\n        let urlReq = urlParse(RULE.search_url, {}, 1, (url) => {\n            url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n        })\n        return { url: urlReq.MY_URL, options: urlReq.MY_URL_Options }\n    })\n    batchFetch(URLS).forEach((indexHtml, index) => {\n        // 处理MY_URL和MY_RULE\n        let RULE = RULES[index]\n        MY_URL = URLS[index].url\n        MY_RULE.ua = RULE.ua\n        MY_RULE.col_type = RULE.col_type\n        MY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\n        MY_RULE.find_rule = RULE.searchFind\n        MY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\n        MY_RULE.preRule = RULE.preRule\n        MY_RULE.pageList = JSON.parse(RULE.pages || '[]')\n        MY_RULE.pages = JSON.stringify(MY_RULE.pageList)\n        MY_RULE.last_chapter_rule = RULE.last_chapter_rule\n        MY_RULE.params = {}\n        MY_RULE.url = MY_URL\n        MY_RULE.urlHeaders = URLS[index].options.headers\n\n        // 正文解析\n        eval(MY_RULE.preRule)\n        if (MY_RULE.find_rule.startsWith('js:')) {\n            function getUrl() {\n                return MY_URL\n            }\n\n            function getResCode() {\n                return indexHtml\n            }\n\n            setResult = function(el) {\n                if (Array.isArray(el.data)) el = el.data\n                Array.prototype.push.apply(myCollection_el, el.map((v) => {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    v.desc = RULE.title + ' ▪ ' + (v.desc || '')\n\n                    if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                        return v\n                    } else if (v.url.includes('@rule=')) {\n                        let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                        v.url = url\n                        MY__RULE.detail_find_rule = rule\n                        MY__RULE.detail_col_type = MY_RULE.col_type\n                    } else if (v.url.startsWith('hiker://page/')) {\n                        if (v.url.includes('rule=') || (v.extra || {}).rule)\n                            return v\n                        let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                            subPage = MY_RULE.pageList.find((v) => v.path == path),\n                            subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                        v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                        MY__RULE.detail_find_rule = subPage.rule\n                        MY__RULE.detail_col_type = subPage.col_type\n                        MY__RULE.params = v.extra || {}\n                    } else if (v.url.includes('@lazyRule=')) {\n                        v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                        return v\n                    } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n                    v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n                    v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                    if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n\n                    return v\n                }))\n            }\n            setHomeResult = setResult\n            setSearchResult = setResult\n\n            try {\n                eval(MY_RULE.find_rule.slice(3))\n            } catch (e) {}\n        } else {\n            let findRule = MY_RULE.find_rule.split(';')\n            parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n                let [title, url, desc, content, img] = findRule.map((v, i) => {\n                        try {\n                            if (v == '*') return ''\n                            else v = (i == 1 || i == 4) ?\n                                parseDom(data, v) :\n                                parseDomForHtml(data, v)\n                            if (i != 1) v = runCode(v)\n                            return v\n                        } catch (e) { return '' }\n                    }),\n                    res = {\n                        title: title,\n                        url: url,\n                        desc: RULE.title + ' ▪ ' + desc,\n                        content: content,\n                        img: img\n                    }\n                if (res.url) {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    if (res.url.includes('@lazyRule=')) {\n                        res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY__RULE.pages, pageList: MY__RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                    } else if (MY_RULE.detail_find_rule) {\n                        res.extra = { url: url, RULE: MY__RULE, pageTitle: title }\n                        res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                        if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n                    }\n                }\n                myCollection_el.push(res)\n            })\n        }\n    })\n    myCollection_el.push(searchTag)\n}\nmethod_setResult.invoke(javaContext, myCollection_el, CALLBACK_KEY, MY_RULE, MY_TYPE)\n","search_url":"hiker://empty?keyword=**&page=fypage","group":"①轻合集","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"setItem('myCollection', MY_RULE.title)\nsetItem('remoteUrl', 'http://hiker.nokia.press/hikerule/dev/json_list?name=1290597077')\n// \n// 包裹错误","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"function ClassTab(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = getVar('fold_' + this.sign, '')\\n        if (this.fold) el.push({\\n            title: '““””<span style=\\\"color:#049eff\\\">' + (folded ? '▶' : '▼'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n                selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: (selected == now ? '““””<span style=\\\"color:' + this.color + '\\\"><b>' : '') + name,\\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        putVar(sign, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        if (defaultClass) defaultClass = JSON.stringify({\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        })\\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    getLastClick() {\\n        return JSON.parse(getVar(this.sign, '{}'))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n$.exports = ClassTab\\n\"},{\"col_type\":\"movie_3\",\"name\":\"首页\",\"path\":\"indexLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = parseInt(MY_URL.split('#')[1]),\\n    RULE = MY_PARAMS.RULE,\\n    fyAll = RULE.url.includes('fyAll'),\\n    // 加载ClassTab组件\\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\\n    tabHeader = []\\n\\nif (RULE.class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: RULE.class_name,\\n    class_url: RULE.class_url\\n})\\nif (RULE.area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: RULE.area_name,\\n    class_url: RULE.area_url\\n})\\nif (RULE.year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: RULE.year_name,\\n    class_url: RULE.year_url\\n})\\nif (RULE.sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: RULE.sort_name,\\n    class_url: RULE.sort_url\\n})\\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\\nif (pageNum == 1) {\\n    addListener('onClose', 'clearVar(\\\"myCollection-searchMode\\\")')\\n    putVar('myCollection-searchMode', RULE.title)\\n    tabHeader.load(myCollection_el)\\n    if (RULE.search_url) myCollection_el.push({\\n        title: \\\"搜索\\\",\\n        desc: \\\"搜你想要的...\\\",\\n        url: '\\\"hiker://page/singleSearch?keyword=\\\"+input+\\\"&page=fypage\\\"',\\n        extra: { rule: getItem('myCollection'), RULE: RULE },\\n        col_type: \\\"input\\\",\\n    })\\n}\\n// 处理MY_URL和MY_RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.find_rule\\nMY_RULE.detail_find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\\n    url[0] = tabHeader.setUrl(url[0])\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) eval(MY_RULE.preRule)\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"详情\",\"path\":\"detailLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = 1\\n\\n// 处理MY_URL和MY_RULE\\nlet RULE = MY_PARAMS.RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = RULE.pageList\\nMY_RULE.pages = RULE.pages\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = RULE.params\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet fypageFlag = MY_PARAMS.url.indexOf('fypage')\\nif (fypageFlag >= 0) pageNum = parseInt(/^\\\\d+/.exec(MY_URL.slice(fypageFlag)))\\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, pageNum),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 解析正文\\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\\neval(MY_RULE.preRule)\\nsetLastChapterRule(MY_RULE.last_chapter_rule)\\nMY_PARAMS = MY_RULE.params\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\\n    findRule = findRule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (detailFindRule) {\\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"工具集\",\"path\":\"utility\",\"rule\":\"$.exports = {\\n    dataLoad: function(showAll) {\\n        //检查间隔，默认一天\\n        let interval = parseInt(readFile('updateInterval') || '1'),\\n            time = parseInt(readFile('updateTime')) || 0,\\n            now = new Date().getTime(),\\n            data = []\\n        if (time == 0 || interval > 0 && now - time > 1000 * 60 * 60 * 24 * interval) {\\n            // 获取远程数据\\n            let url = getItem('remoteUrl')\\n            try {\\n                let remoteData = fetch(url)\\n                if (url.startsWith('hiker://page/'))\\n                    remoteData = JSON.parse(remoteData).rule\\n                data = JSON.parse(remoteData)\\n            } catch (e) {}\\n            if(data.length == 0) {\\n                data = JSON.parse(readFile('dataCache') || '[]')\\n                log('没有获取到更新数据')\\n            } else {\\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\\n                saveFile('dataCache', JSON.stringify(data))\\n                saveFile('updateTime', now.toString())\\n                log('更新数据已写入本地')\\n            }\\n        } else {\\n            data = JSON.parse(readFile('dataCache') || '[]')\\n        }\\n        // 写入自定义数据\\n        let customData = JSON.parse(readFile('customData') || '[]'),\\n            rewriteData = []\\n        customData = customData.reduce((self, v) => {\\n            let index = data.findIndex((vv) => v.title == vv.title)\\n            if (index >= 0) {\\n                self.push(v)\\n                let rule = data.splice(index, 1)[0]\\n                if(showAll || v.visible)\\n                    rewriteData.push(Object.assign(rule, v))\\n            }\\n            return self\\n        }, [])\\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\\n        saveFile('customData', JSON.stringify(customData))\\n        return rewriteData.concat(data)\\n    },\\n    runCode: function(rule) {\\n        try {\\n            let [input, code] = rule.split('.js:')\\n            return code ? eval(code) : rule\\n        } catch (e) { return rule }\\n    },\\n    urlParse: function(url, headers, pageNum, func) {\\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\\n        if (func) func(url)\\n        url[0] = url[0].replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n        url[0] = /^([\\\\s\\\\S]*?)(?:\\\\[firstPage=([\\\\s\\\\S]*?)\\\\])?$/.exec(url[0])\\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\\n        let options = { headers: headers, method: url[1] }\\n        // post方法时转换参数\\n        if (/^post$/i.test(options['method'])) {\\n            let [oriUrl, body] = url[0].split('?')\\n            url[0] = oriUrl.replace(/？？/g, '?')\\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\\n            options['body'] = body\\n        }\\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\\n            let [key, value] = v.split('@')\\n            options.headers[key] = runCode(value)\\n        })\\n        // 添加全局UA\\n        if (!options.headers['User-Agent']) {\\n            if (MY_RULE.ua == 'pc')\\n                options.headers['User-Agent'] = PC_UA\\n            else if (MY_RULE.ua == 'mobile')\\n                options.headers['User-Agent'] = MOBILE_UA\\n        }\\n        return { MY_URL: url[0], MY_URL_Options: options }\\n    }\\n}\\n\"},{\"col_type\":\"movie_1_vertical_pic\",\"name\":\"单搜\",\"path\":\"singleSearch\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    RULE = MY_PARAMS.RULE,\\n    keyword = getParam('keyword'),\\n    pageNum = parseInt(getParam('page'))\\n\\n// 处理MY_URL和MY_RULE\\nMY_TYPE = 'search'\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\\nMY_RULE.find_rule = RULE.searchFind\\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\\\*\\\\*/g, encodeStr(keyword, url[2]))\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE),\\n                subTitle = v.title\\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\\n            v.desc = v.content || ''\\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\\n            delete v.content\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 4) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 1) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\\n                url: url,\\n                desc: content,\\n                img: img\\n            }\\n        if(!res.img) res.col_type = 'text_1'\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"icon_2_round\",\"name\":\"设置\",\"path\":\"Config\",\"rule\":\"js:\\naddListener('onClose', 'clearVar(\\\"myCollection-sortFlag\\\");refreshPage()')\\nsetPageTitle('⚙ 轻合集设置 ⚙')\\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet data = dataLoad(true),\\n    el = [{\\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\\n        url: $().lazyRule(() => {\\n            deleteFile('updateTime')\\n            back(false)\\n            return 'toast://已更新'\\n        }),\\n        img: 'hiker://images/icon1',\\n        col_type: 'avatar'\\n    }],\\n    searchThd = readFile('searchThd') || '5',\\n    updateInterval = readFile('updateInterval') || '1',\\n    newWindow = readFile('newWindow'),\\n    editMode = getVar('myCollection-editMode', '启用/禁用')\\n\\nel.push({\\n    title: '  🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd) + '  ',\\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\\n        if (input == '列表搜索') {\\n            saveFile('searchThd', '0')\\n            refreshPage()\\n        } else {\\n            if (searchThd == 0) searchThd = 5\\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\\n                saveFile('searchThd', input)\\n                refreshPage()\\n            })\\n        }\\n    }, searchThd),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💡 更新频率: ' + (updateInterval < 1 ? '手动' : updateInterval + '天') + '  ',\\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新').input(() => {\\n        saveFile('updateInterval', input)\\n        refreshPage()\\n        return 'hiker://empty'\\n    }),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((newWindow) => {\\n        saveFile('newWindow', newWindow ? '' : '1')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, newWindow),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '““””<font color=\\\"#666666\\\"><small>特别鸣谢，小程序提供者：\\\\n' +\\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1'\\n})\\n\\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\\n    el.push({\\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\\n            putVar('myCollection-editMode', v)\\n            refreshPage(false)\\n            return 'hiker://empty'\\n        }, v),\\n        col_type: 'scroll_button'\\n    })\\n})\\nel.push({\\n    title: '恢复出厂数据',\\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\\n        deleteFile('customData')\\n        refreshPage(false)\\n        return 'toast://已恢复出厂数据'\\n    }),\\n    col_type: 'scroll_button'\\n})\\n\\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\\n    let d = { title: v.title, img: data[i].icon }\\n    switch (editMode) {\\n        case '启用/禁用':\\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\\n            d.url = $('#noLoading#').lazyRule((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                rules[index].visible = !rules[index].visible\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '重新排序':\\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\\n            if (sortFlag == -1)\\n                d.url = $('#noLoading#').lazyRule((i) => {\\n                    putVar('myCollection-sortFlag', i.toString())\\n                    refreshPage(false)\\n                    return 'toast://选择要移动到的位置'\\n                }, i)\\n            else\\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\\n                    let rules = JSON.parse(readFile('customData') || '[]')\\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\\n                    saveFile('customData', JSON.stringify(rules))\\n                    putVar('myCollection-sortFlag', '-1')\\n                    refreshPage(false)\\n                    return 'hiker://empty'\\n                }, sortFlag, i)\\n            break\\n        case '更改图标':\\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                if (input)\\n                    rules[index].icon = input\\n                else\\n                    delete rules[index].icon\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '导入海阔':\\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\\n            break\\n    }\\n    el.push(d)\\n})\\nsetResult(el)\\n\"}]","icon":"http://q1.qlogo.cn/g?b=qq&nk=1290597077&s=640"},{"last_chapter_rule":"","pageList":[{"col_type":"text_1","name":"ClassTab","path":"ClassTab","rule":"function ClassTab(classArray, params) {\n    Object.assign(this, params)\n    this.arr = classArray.map(v => this.init(v))\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\n    this.color = this.color || '#12b668'\n    this.boundary = this.boundary || 'blank_block'\n}\nClassTab.prototype = {\n    constructor: ClassTab,\n    load(el) {\n        let folded = getVar('fold_' + this.sign, '')\n        if (this.fold) el.push({\n            title: '““””<span style=\"color:#049eff\">' + (folded ? '▶' : '▼'),\n            url: $('#noLoading#').lazyRule((sign, folded) => {\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\n                refreshPage(false)\n                return 'hiker://empty'\n            }, this.sign, folded),\n            col_type: 'scroll_button'\n        })\n        let arr = folded ? [this.arr[0]] : this.arr\n        arr.forEach((v) => {\n            let { id, class_name, class_url } = v,\n                selected = JSON.stringify(this.getClass(id))\n            class_name.forEach((name, i) => {\n                let url = class_url[i],\n                    now = JSON.stringify({ name: name, url: url })\n                el.push({\n                    title: (selected == now ? '““””<span style=\"color:' + this.color + '\"><b>' : '') + name,\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\n                        putVar(sign + id, now)\n                        putVar(sign, now)\n                        refreshPage(false)\n                        return 'hiker://empty'\n                    }, this.sign, id, now),\n                    col_type: 'scroll_button'\n                })\n            })\n            el.push({ col_type: this.boundary })\n        })\n    },\n    init(classObject) {\n        if (typeof classObject.class_name == 'string')\n            classObject.class_name = classObject.class_name.split('&')\n        if (typeof classObject.class_url == 'string')\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\n        return classObject\n    },\n    push(classObject) {\n        this.arr.push(this.init(classObject))\n    },\n    getClass(id) {\n        let defaultClass = this.arr.find(item => item.id == id)\n        if (defaultClass) defaultClass = JSON.stringify({\n            name: defaultClass.class_name[0],\n            url: defaultClass.class_url[0]\n        })\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\n        return JSON.parse(getVar(this.sign + id, defaultClass))\n    },\n    getLastClick() {\n        return JSON.parse(getVar(this.sign, '{}'))\n    },\n    setUrl(url) {\n        return url.replace(/\\$\\{([^}]*)\\}/g, (_, id) => this.getClass(id).url)\n    }\n}\n$.exports = ClassTab\n"},{"col_type":"movie_3","name":"首页","path":"indexLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = parseInt(MY_URL.split('#')[1]),\n    RULE = MY_PARAMS.RULE,\n    fyAll = RULE.url.includes('fyAll'),\n    // 加载ClassTab组件\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\n    tabHeader = []\n\nif (RULE.class_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyclass',\n    class_name: RULE.class_name,\n    class_url: RULE.class_url\n})\nif (RULE.area_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyarea',\n    class_name: RULE.area_name,\n    class_url: RULE.area_url\n})\nif (RULE.year_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyyear',\n    class_name: RULE.year_name,\n    class_url: RULE.year_url\n})\nif (RULE.sort_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fysort',\n    class_name: RULE.sort_name,\n    class_url: RULE.sort_url\n})\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\nif (pageNum == 1) {\n    addListener('onClose', 'clearVar(\"myCollection-searchMode\")')\n    putVar('myCollection-searchMode', RULE.title)\n    tabHeader.load(myCollection_el)\n    if (RULE.search_url) myCollection_el.push({\n        title: \"搜索\",\n        desc: \"搜你想要的...\",\n        url: '\"hiker://page/singleSearch?keyword=\"+input+\"&page=fypage\"',\n        extra: { rule: getItem('myCollection'), RULE: RULE },\n        col_type: \"input\",\n    })\n}\n// 处理MY_URL和MY_RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.find_rule\nMY_RULE.detail_find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\n    url[0] = tabHeader.setUrl(url[0])\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) eval(MY_RULE.preRule)\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"详情","path":"detailLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = 1\n\n// 处理MY_URL和MY_RULE\nlet RULE = MY_PARAMS.RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = RULE.pageList\nMY_RULE.pages = RULE.pages\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = RULE.params\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet fypageFlag = MY_PARAMS.url.indexOf('fypage')\nif (fypageFlag >= 0) pageNum = parseInt(/^\\d+/.exec(MY_URL.slice(fypageFlag)))\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, pageNum),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 解析正文\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\neval(MY_RULE.preRule)\nsetLastChapterRule(MY_RULE.last_chapter_rule)\nMY_PARAMS = MY_RULE.params\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else { return v }\n            v.extra = { url: v.url, RULE: MY__RULE }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\n    findRule = findRule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (detailFindRule) {\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"工具集","path":"utility","rule":"$.exports = {\n    dataLoad: function(showAll) {\n        //检查间隔，默认一天\n        let interval = parseInt(readFile('updateInterval') || '1'),\n            time = parseInt(readFile('updateTime')) || 0,\n            now = new Date().getTime(),\n            data = []\n        if (time == 0 || interval > 0 && now - time > 1000 * 60 * 60 * 24 * interval) {\n            // 获取远程数据\n            let url = getItem('remoteUrl')\n            try {\n                let remoteData = fetch(url)\n                if (url.startsWith('hiker://page/'))\n                    remoteData = JSON.parse(remoteData).rule\n                data = JSON.parse(remoteData)\n            } catch (e) {}\n            if(data.length == 0) {\n                data = JSON.parse(readFile('dataCache') || '[]')\n                log('没有获取到更新数据')\n            } else {\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\n                saveFile('dataCache', JSON.stringify(data))\n                saveFile('updateTime', now.toString())\n                log('更新数据已写入本地')\n            }\n        } else {\n            data = JSON.parse(readFile('dataCache') || '[]')\n        }\n        // 写入自定义数据\n        let customData = JSON.parse(readFile('customData') || '[]'),\n            rewriteData = []\n        customData = customData.reduce((self, v) => {\n            let index = data.findIndex((vv) => v.title == vv.title)\n            if (index >= 0) {\n                self.push(v)\n                let rule = data.splice(index, 1)[0]\n                if(showAll || v.visible)\n                    rewriteData.push(Object.assign(rule, v))\n            }\n            return self\n        }, [])\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\n        saveFile('customData', JSON.stringify(customData))\n        return rewriteData.concat(data)\n    },\n    runCode: function(rule) {\n        try {\n            let [input, code] = rule.split('.js:')\n            return code ? eval(code) : rule\n        } catch (e) { return rule }\n    },\n    urlParse: function(url, headers, pageNum, func) {\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\n        if (func) func(url)\n        url[0] = url[0].replace(/fypage(?:@(-?\\d+)@)?(?:\\*(\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\n        url[0] = /^([\\s\\S]*?)(?:\\[firstPage=([\\s\\S]*?)\\])?$/.exec(url[0])\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\n        let options = { headers: headers, method: url[1] }\n        // post方法时转换参数\n        if (/^post$/i.test(options['method'])) {\n            let [oriUrl, body] = url[0].split('?')\n            url[0] = oriUrl.replace(/？？/g, '?')\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\n            options['body'] = body\n        }\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\n            let [key, value] = v.split('@')\n            options.headers[key] = runCode(value)\n        })\n        // 添加全局UA\n        if (!options.headers['User-Agent']) {\n            if (MY_RULE.ua == 'pc')\n                options.headers['User-Agent'] = PC_UA\n            else if (MY_RULE.ua == 'mobile')\n                options.headers['User-Agent'] = MOBILE_UA\n        }\n        return { MY_URL: url[0], MY_URL_Options: options }\n    }\n}\n"},{"col_type":"movie_1_vertical_pic","name":"单搜","path":"singleSearch","rule":"js:\nlet myCollection_el = [],\n    RULE = MY_PARAMS.RULE,\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page'))\n\n// 处理MY_URL和MY_RULE\nMY_TYPE = 'search'\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\nMY_RULE.find_rule = RULE.searchFind\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE),\n                subTitle = v.title\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\n            v.desc = v.content || ''\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\n            delete v.content\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 4) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 1) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\n                url: url,\n                desc: content,\n                img: img\n            }\n        if(!res.img) res.col_type = 'text_1'\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"icon_2_round","name":"设置","path":"Config","rule":"js:\naddListener('onClose', 'clearVar(\"myCollection-sortFlag\");refreshPage()')\nsetPageTitle('⚙ 轻合集设置 ⚙')\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet data = dataLoad(true),\n    el = [{\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\n        url: $().lazyRule(() => {\n            deleteFile('updateTime')\n            back(false)\n            return 'toast://已更新'\n        }),\n        img: 'hiker://images/icon1',\n        col_type: 'avatar'\n    }],\n    searchThd = readFile('searchThd') || '5',\n    updateInterval = readFile('updateInterval') || '1',\n    newWindow = readFile('newWindow'),\n    editMode = getVar('myCollection-editMode', '启用/禁用')\n\nel.push({\n    title: '  🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd) + '  ',\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\n        if (input == '列表搜索') {\n            saveFile('searchThd', '0')\n            refreshPage()\n        } else {\n            if (searchThd == 0) searchThd = 5\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\n                saveFile('searchThd', input)\n                refreshPage()\n            })\n        }\n    }, searchThd),\n    col_type: 'scroll_button'\n}, {\n    title: '  💡 更新频率: ' + (updateInterval < 1 ? '手动' : updateInterval + '天') + '  ',\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新').input(() => {\n        saveFile('updateInterval', input)\n        refreshPage()\n        return 'hiker://empty'\n    }),\n    col_type: 'scroll_button'\n}, {\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\n    url: $('#noLoading#').lazyRule((newWindow) => {\n        saveFile('newWindow', newWindow ? '' : '1')\n        refreshPage()\n        return 'hiker://empty'\n    }, newWindow),\n    col_type: 'scroll_button'\n}, {\n    title: '““””<font color=\"#666666\"><small>特别鸣谢，小程序提供者：\\n' +\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\n    url: 'hiker://empty',\n    col_type: 'text_center_1'\n})\n\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\n    el.push({\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\n            putVar('myCollection-editMode', v)\n            refreshPage(false)\n            return 'hiker://empty'\n        }, v),\n        col_type: 'scroll_button'\n    })\n})\nel.push({\n    title: '恢复出厂数据',\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\n        deleteFile('customData')\n        refreshPage(false)\n        return 'toast://已恢复出厂数据'\n    }),\n    col_type: 'scroll_button'\n})\n\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\n    let d = { title: v.title, img: data[i].icon }\n    switch (editMode) {\n        case '启用/禁用':\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\n            d.url = $('#noLoading#').lazyRule((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                rules[index].visible = !rules[index].visible\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '重新排序':\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\n            if (sortFlag == -1)\n                d.url = $('#noLoading#').lazyRule((i) => {\n                    putVar('myCollection-sortFlag', i.toString())\n                    refreshPage(false)\n                    return 'toast://选择要移动到的位置'\n                }, i)\n            else\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\n                    let rules = JSON.parse(readFile('customData') || '[]')\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\n                    saveFile('customData', JSON.stringify(rules))\n                    putVar('myCollection-sortFlag', '-1')\n                    refreshPage(false)\n                    return 'hiker://empty'\n                }, sortFlag, i)\n            break\n        case '更改图标':\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                if (input)\n                    rules[index].icon = input\n                else\n                    delete rules[index].icon\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '导入海阔':\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\n            break\n    }\n    el.push(d)\n})\nsetResult(el)\n"}],"title":"轻合集.子丑寅卯","author":"轻合集生成器","version":78,"url":"hiker://empty","col_type":"icon_round_small_4","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet el = [{\n    title: ' ' + getItem('myCollection').bold() + ' &nbsp &nbsp ' + '⚙ 轻合集设置 ⚙'.small(),\n    url: 'hiker://page/Config?rule=' + getItem('myCollection'),\n    img: MY_RULE.icon || 'hiker://images/icon1',\n    col_type: 'avatar'\n}, {\n    url: '\"hiker://search?s=\"+input+\"&rule=' + getItem('myCollection') + '\"',\n    desc: '搜你想要的...',\n    title: '搜索',\n    col_type: 'input'\n}]\n\nlet newWindow = readFile('newWindow')\ndataLoad().forEach((v) => {\n    let fypage = /^[^;]*?fypage.*?(;.*)?$/.test(v.url) ? 'fypage' : '1',\n        d = {\n            title: v.title,\n            url: 'hiker://page/indexLoad?#' + fypage + '#noHistory#',\n            img: v.icon||'https://cf-ipfs.com/ipfs/QmXxgDVAZLWhFxikrAFVPRZQuJ2uFae7syXhFubPwMwUiU',\n            extra: { RULE: v }\n        }\n    if(newWindow) Object.assign(d.extra, { newWindow: true, windowId: getItem('myCollection') + d.title })\n    el.push(d)\n})\nsetResult(el)","searchFind":"js:\nvar { dataLoad, runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet myCollection_el = [],\n    searchThd = parseInt(readFile('searchThd') || '5'),\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page')),\n    RULES = dataLoad().filter((v) => v.search_url)\nif (searchThd == 0) {\n    myCollection_el.push({\n        title: ('⬇ 选择一个小程序查看' + keyword + '的搜索结果 ⬇').small(),\n        url: 'hiker://empty'\n    })\n    RULES.forEach((v) => myCollection_el.push({\n        title: v.title,\n        url: \"hiker://page/singleSearch?keyword=\" + keyword + \"&page=fypage\",\n        extra: { rule: getItem('myCollection'), RULE: v },\n    }))\n} else if (searchThd > 0) {\n    let searchCount = pageNum * searchThd,\n        searchTag = { title: '⬆ 已搜索了' + searchCount + '个小程序 ⬆\\n⬇ 下面还有' + RULES.slice(searchCount).length + '个小程序 ⬇' }\n    RULES = RULES.slice(searchCount - searchThd, searchCount)\n    if (!RULES.length) setResult([])\n\n    let URLS = RULES.map((RULE) => {\n        MY_RULE.ua = RULE.ua\n        let urlReq = urlParse(RULE.search_url, {}, 1, (url) => {\n            url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n        })\n        return { url: urlReq.MY_URL, options: urlReq.MY_URL_Options }\n    })\n    batchFetch(URLS).forEach((indexHtml, index) => {\n        // 处理MY_URL和MY_RULE\n        let RULE = RULES[index]\n        MY_URL = URLS[index].url\n        MY_RULE.ua = RULE.ua\n        MY_RULE.col_type = RULE.col_type\n        MY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\n        MY_RULE.find_rule = RULE.searchFind\n        MY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\n        MY_RULE.preRule = RULE.preRule\n        MY_RULE.pageList = JSON.parse(RULE.pages || '[]')\n        MY_RULE.pages = JSON.stringify(MY_RULE.pageList)\n        MY_RULE.last_chapter_rule = RULE.last_chapter_rule\n        MY_RULE.params = {}\n        MY_RULE.url = MY_URL\n        MY_RULE.urlHeaders = URLS[index].options.headers\n\n        // 正文解析\n        eval(MY_RULE.preRule)\n        if (MY_RULE.find_rule.startsWith('js:')) {\n            function getUrl() {\n                return MY_URL\n            }\n\n            function getResCode() {\n                return indexHtml\n            }\n\n            setResult = function(el) {\n                if (Array.isArray(el.data)) el = el.data\n                Array.prototype.push.apply(myCollection_el, el.map((v) => {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    v.desc = RULE.title + ' ▪ ' + (v.desc || '')\n\n                    if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                        return v\n                    } else if (v.url.includes('@rule=')) {\n                        let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                        v.url = url\n                        MY__RULE.detail_find_rule = rule\n                        MY__RULE.detail_col_type = MY_RULE.col_type\n                    } else if (v.url.startsWith('hiker://page/')) {\n                        if (v.url.includes('rule=') || (v.extra || {}).rule)\n                            return v\n                        let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                            subPage = MY_RULE.pageList.find((v) => v.path == path),\n                            subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                        v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                        MY__RULE.detail_find_rule = subPage.rule\n                        MY__RULE.detail_col_type = subPage.col_type\n                        MY__RULE.params = v.extra || {}\n                    } else if (v.url.includes('@lazyRule=')) {\n                        v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                        return v\n                    } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n                    v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n                    v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                    if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n\n                    return v\n                }))\n            }\n            setHomeResult = setResult\n            setSearchResult = setResult\n\n            try {\n                eval(MY_RULE.find_rule.slice(3))\n            } catch (e) {}\n        } else {\n            let findRule = MY_RULE.find_rule.split(';')\n            parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n                let [title, url, desc, content, img] = findRule.map((v, i) => {\n                        try {\n                            if (v == '*') return ''\n                            else v = (i == 1 || i == 4) ?\n                                parseDom(data, v) :\n                                parseDomForHtml(data, v)\n                            if (i != 1) v = runCode(v)\n                            return v\n                        } catch (e) { return '' }\n                    }),\n                    res = {\n                        title: title,\n                        url: url,\n                        desc: RULE.title + ' ▪ ' + desc,\n                        content: content,\n                        img: img\n                    }\n                if (res.url) {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    if (res.url.includes('@lazyRule=')) {\n                        res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY__RULE.pages, pageList: MY__RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                    } else if (MY_RULE.detail_find_rule) {\n                        res.extra = { url: url, RULE: MY__RULE, pageTitle: title }\n                        res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                        if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n                    }\n                }\n                myCollection_el.push(res)\n            })\n        }\n    })\n    myCollection_el.push(searchTag)\n}\nmethod_setResult.invoke(javaContext, myCollection_el, CALLBACK_KEY, MY_RULE, MY_TYPE)\n","search_url":"hiker://empty?keyword=**&page=fypage","group":"①轻合集","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"setItem('myCollection', MY_RULE.title)\nsetItem('remoteUrl', 'http://hiker.nokia.press/hikerule/dev/json_list?name=2449105024')\n// \n// 包裹错误","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"function ClassTab(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = getVar('fold_' + this.sign, '')\\n        if (this.fold) el.push({\\n            title: '““””<span style=\\\"color:#049eff\\\">' + (folded ? '▶' : '▼'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n                selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: (selected == now ? '““””<span style=\\\"color:' + this.color + '\\\"><b>' : '') + name,\\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        putVar(sign, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        if (defaultClass) defaultClass = JSON.stringify({\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        })\\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    getLastClick() {\\n        return JSON.parse(getVar(this.sign, '{}'))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n$.exports = ClassTab\\n\"},{\"col_type\":\"movie_3\",\"name\":\"首页\",\"path\":\"indexLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = parseInt(MY_URL.split('#')[1]),\\n    RULE = MY_PARAMS.RULE,\\n    fyAll = RULE.url.includes('fyAll'),\\n    // 加载ClassTab组件\\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\\n    tabHeader = []\\n\\nif (RULE.class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: RULE.class_name,\\n    class_url: RULE.class_url\\n})\\nif (RULE.area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: RULE.area_name,\\n    class_url: RULE.area_url\\n})\\nif (RULE.year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: RULE.year_name,\\n    class_url: RULE.year_url\\n})\\nif (RULE.sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: RULE.sort_name,\\n    class_url: RULE.sort_url\\n})\\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\\nif (pageNum == 1) {\\n    addListener('onClose', 'clearVar(\\\"myCollection-searchMode\\\")')\\n    putVar('myCollection-searchMode', RULE.title)\\n    tabHeader.load(myCollection_el)\\n    if (RULE.search_url) myCollection_el.push({\\n        title: \\\"搜索\\\",\\n        desc: \\\"搜你想要的...\\\",\\n        url: '\\\"hiker://page/singleSearch?keyword=\\\"+input+\\\"&page=fypage\\\"',\\n        extra: { rule: getItem('myCollection'), RULE: RULE },\\n        col_type: \\\"input\\\",\\n    })\\n}\\n// 处理MY_URL和MY_RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.find_rule\\nMY_RULE.detail_find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\\n    url[0] = tabHeader.setUrl(url[0])\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) eval(MY_RULE.preRule)\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"详情\",\"path\":\"detailLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = 1\\n\\n// 处理MY_URL和MY_RULE\\nlet RULE = MY_PARAMS.RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = RULE.pageList\\nMY_RULE.pages = RULE.pages\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = RULE.params\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet fypageFlag = MY_PARAMS.url.indexOf('fypage')\\nif (fypageFlag >= 0) pageNum = parseInt(/^\\\\d+/.exec(MY_URL.slice(fypageFlag)))\\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, pageNum),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 解析正文\\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\\neval(MY_RULE.preRule)\\nsetLastChapterRule(MY_RULE.last_chapter_rule)\\nMY_PARAMS = MY_RULE.params\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\\n    findRule = findRule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (detailFindRule) {\\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"工具集\",\"path\":\"utility\",\"rule\":\"$.exports = {\\n    dataLoad: function(showAll) {\\n        //检查间隔，默认一天\\n        let interval = parseInt(readFile('updateInterval') || '1'),\\n            time = parseInt(readFile('updateTime')) || 0,\\n            now = new Date().getTime(),\\n            data = []\\n        if (time == 0 || interval > 0 && now - time > 1000 * 60 * 60 * 24 * interval) {\\n            // 获取远程数据\\n            let url = getItem('remoteUrl')\\n            try {\\n                let remoteData = fetch(url)\\n                if (url.startsWith('hiker://page/'))\\n                    remoteData = JSON.parse(remoteData).rule\\n                data = JSON.parse(remoteData)\\n            } catch (e) {}\\n            if(data.length == 0) {\\n                data = JSON.parse(readFile('dataCache') || '[]')\\n                log('没有获取到更新数据')\\n            } else {\\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\\n                saveFile('dataCache', JSON.stringify(data))\\n                saveFile('updateTime', now.toString())\\n                log('更新数据已写入本地')\\n            }\\n        } else {\\n            data = JSON.parse(readFile('dataCache') || '[]')\\n        }\\n        // 写入自定义数据\\n        let customData = JSON.parse(readFile('customData') || '[]'),\\n            rewriteData = []\\n        customData = customData.reduce((self, v) => {\\n            let index = data.findIndex((vv) => v.title == vv.title)\\n            if (index >= 0) {\\n                self.push(v)\\n                let rule = data.splice(index, 1)[0]\\n                if(showAll || v.visible)\\n                    rewriteData.push(Object.assign(rule, v))\\n            }\\n            return self\\n        }, [])\\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\\n        saveFile('customData', JSON.stringify(customData))\\n        return rewriteData.concat(data)\\n    },\\n    runCode: function(rule) {\\n        try {\\n            let [input, code] = rule.split('.js:')\\n            return code ? eval(code) : rule\\n        } catch (e) { return rule }\\n    },\\n    urlParse: function(url, headers, pageNum, func) {\\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\\n        if (func) func(url)\\n        url[0] = url[0].replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n        url[0] = /^([\\\\s\\\\S]*?)(?:\\\\[firstPage=([\\\\s\\\\S]*?)\\\\])?$/.exec(url[0])\\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\\n        let options = { headers: headers, method: url[1] }\\n        // post方法时转换参数\\n        if (/^post$/i.test(options['method'])) {\\n            let [oriUrl, body] = url[0].split('?')\\n            url[0] = oriUrl.replace(/？？/g, '?')\\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\\n            options['body'] = body\\n        }\\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\\n            let [key, value] = v.split('@')\\n            options.headers[key] = runCode(value)\\n        })\\n        // 添加全局UA\\n        if (!options.headers['User-Agent']) {\\n            if (MY_RULE.ua == 'pc')\\n                options.headers['User-Agent'] = PC_UA\\n            else if (MY_RULE.ua == 'mobile')\\n                options.headers['User-Agent'] = MOBILE_UA\\n        }\\n        return { MY_URL: url[0], MY_URL_Options: options }\\n    }\\n}\\n\"},{\"col_type\":\"movie_1_vertical_pic\",\"name\":\"单搜\",\"path\":\"singleSearch\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    RULE = MY_PARAMS.RULE,\\n    keyword = getParam('keyword'),\\n    pageNum = parseInt(getParam('page'))\\n\\n// 处理MY_URL和MY_RULE\\nMY_TYPE = 'search'\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\\nMY_RULE.find_rule = RULE.searchFind\\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\\\*\\\\*/g, encodeStr(keyword, url[2]))\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE),\\n                subTitle = v.title\\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\\n            v.desc = v.content || ''\\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\\n            delete v.content\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 4) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 1) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\\n                url: url,\\n                desc: content,\\n                img: img\\n            }\\n        if(!res.img) res.col_type = 'text_1'\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"icon_2_round\",\"name\":\"设置\",\"path\":\"Config\",\"rule\":\"js:\\naddListener('onClose', 'clearVar(\\\"myCollection-sortFlag\\\");refreshPage()')\\nsetPageTitle('⚙ 轻合集设置 ⚙')\\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet data = dataLoad(true),\\n    el = [{\\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\\n        url: $().lazyRule(() => {\\n            deleteFile('updateTime')\\n            back(false)\\n            return 'toast://已更新'\\n        }),\\n        img: 'hiker://images/icon1',\\n        col_type: 'avatar'\\n    }],\\n    searchThd = readFile('searchThd') || '5',\\n    updateInterval = readFile('updateInterval') || '1',\\n    newWindow = readFile('newWindow'),\\n    editMode = getVar('myCollection-editMode', '启用/禁用')\\n\\nel.push({\\n    title: '  🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd) + '  ',\\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\\n        if (input == '列表搜索') {\\n            saveFile('searchThd', '0')\\n            refreshPage()\\n        } else {\\n            if (searchThd == 0) searchThd = 5\\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\\n                saveFile('searchThd', input)\\n                refreshPage()\\n            })\\n        }\\n    }, searchThd),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💡 更新频率: ' + (updateInterval < 1 ? '手动' : updateInterval + '天') + '  ',\\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新').input(() => {\\n        saveFile('updateInterval', input)\\n        refreshPage()\\n        return 'hiker://empty'\\n    }),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((newWindow) => {\\n        saveFile('newWindow', newWindow ? '' : '1')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, newWindow),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '““””<font color=\\\"#666666\\\"><small>特别鸣谢，小程序提供者：\\\\n' +\\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1'\\n})\\n\\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\\n    el.push({\\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\\n            putVar('myCollection-editMode', v)\\n            refreshPage(false)\\n            return 'hiker://empty'\\n        }, v),\\n        col_type: 'scroll_button'\\n    })\\n})\\nel.push({\\n    title: '恢复出厂数据',\\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\\n        deleteFile('customData')\\n        refreshPage(false)\\n        return 'toast://已恢复出厂数据'\\n    }),\\n    col_type: 'scroll_button'\\n})\\n\\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\\n    let d = { title: v.title, img: data[i].icon }\\n    switch (editMode) {\\n        case '启用/禁用':\\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\\n            d.url = $('#noLoading#').lazyRule((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                rules[index].visible = !rules[index].visible\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '重新排序':\\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\\n            if (sortFlag == -1)\\n                d.url = $('#noLoading#').lazyRule((i) => {\\n                    putVar('myCollection-sortFlag', i.toString())\\n                    refreshPage(false)\\n                    return 'toast://选择要移动到的位置'\\n                }, i)\\n            else\\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\\n                    let rules = JSON.parse(readFile('customData') || '[]')\\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\\n                    saveFile('customData', JSON.stringify(rules))\\n                    putVar('myCollection-sortFlag', '-1')\\n                    refreshPage(false)\\n                    return 'hiker://empty'\\n                }, sortFlag, i)\\n            break\\n        case '更改图标':\\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                if (input)\\n                    rules[index].icon = input\\n                else\\n                    delete rules[index].icon\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '导入海阔':\\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\\n            break\\n    }\\n    el.push(d)\\n})\\nsetResult(el)\\n\"}]","icon":"https://i03piccdn.sogoucdn.com/ed5ffed305c1bbea"},{"last_chapter_rule":"","pageList":[{"col_type":"text_1","name":"ClassTab","path":"ClassTab","rule":"function ClassTab(classArray, params) {\n    Object.assign(this, params)\n    this.arr = classArray.map(v => this.init(v))\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\n    this.color = this.color || '#12b668'\n    this.boundary = this.boundary || 'blank_block'\n}\nClassTab.prototype = {\n    constructor: ClassTab,\n    load(el) {\n        let folded = getVar('fold_' + this.sign, '')\n        if (this.fold) el.push({\n            title: '““””<span style=\"color:#049eff\">' + (folded ? '▶' : '▼'),\n            url: $('#noLoading#').lazyRule((sign, folded) => {\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\n                refreshPage(false)\n                return 'hiker://empty'\n            }, this.sign, folded),\n            col_type: 'scroll_button'\n        })\n        let arr = folded ? [this.arr[0]] : this.arr\n        arr.forEach((v) => {\n            let { id, class_name, class_url } = v,\n                selected = JSON.stringify(this.getClass(id))\n            class_name.forEach((name, i) => {\n                let url = class_url[i],\n                    now = JSON.stringify({ name: name, url: url })\n                el.push({\n                    title: (selected == now ? '““””<span style=\"color:' + this.color + '\"><b>' : '') + name,\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\n                        putVar(sign + id, now)\n                        putVar(sign, now)\n                        refreshPage(false)\n                        return 'hiker://empty'\n                    }, this.sign, id, now),\n                    col_type: 'scroll_button'\n                })\n            })\n            el.push({ col_type: this.boundary })\n        })\n    },\n    init(classObject) {\n        if (typeof classObject.class_name == 'string')\n            classObject.class_name = classObject.class_name.split('&')\n        if (typeof classObject.class_url == 'string')\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\n        return classObject\n    },\n    push(classObject) {\n        this.arr.push(this.init(classObject))\n    },\n    getClass(id) {\n        let defaultClass = this.arr.find(item => item.id == id)\n        if (defaultClass) defaultClass = JSON.stringify({\n            name: defaultClass.class_name[0],\n            url: defaultClass.class_url[0]\n        })\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\n        return JSON.parse(getVar(this.sign + id, defaultClass))\n    },\n    getLastClick() {\n        return JSON.parse(getVar(this.sign, '{}'))\n    },\n    setUrl(url) {\n        return url.replace(/\\$\\{([^}]*)\\}/g, (_, id) => this.getClass(id).url)\n    }\n}\n$.exports = ClassTab\n"},{"col_type":"movie_3","name":"首页","path":"indexLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = parseInt(MY_URL.split('#')[1]),\n    RULE = MY_PARAMS.RULE,\n    fyAll = RULE.url.includes('fyAll'),\n    // 加载ClassTab组件\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\n    tabHeader = []\n\nif (RULE.class_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyclass',\n    class_name: RULE.class_name,\n    class_url: RULE.class_url\n})\nif (RULE.area_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyarea',\n    class_name: RULE.area_name,\n    class_url: RULE.area_url\n})\nif (RULE.year_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyyear',\n    class_name: RULE.year_name,\n    class_url: RULE.year_url\n})\nif (RULE.sort_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fysort',\n    class_name: RULE.sort_name,\n    class_url: RULE.sort_url\n})\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\nif (pageNum == 1) {\n    addListener('onClose', 'clearVar(\"myCollection-searchMode\")')\n    putVar('myCollection-searchMode', RULE.title)\n    tabHeader.load(myCollection_el)\n    if (RULE.search_url) myCollection_el.push({\n        title: \"搜索\",\n        desc: \"搜你想要的...\",\n        url: '\"hiker://page/singleSearch?keyword=\"+input+\"&page=fypage\"',\n        extra: { rule: getItem('myCollection'), RULE: RULE },\n        col_type: \"input\",\n    })\n}\n// 处理MY_URL和MY_RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.find_rule\nMY_RULE.detail_find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\n    url[0] = tabHeader.setUrl(url[0])\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) eval(MY_RULE.preRule)\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"详情","path":"detailLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = 1\n\n// 处理MY_URL和MY_RULE\nlet RULE = MY_PARAMS.RULE\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = RULE.pageList\nMY_RULE.pages = RULE.pages\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = RULE.params\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet fypageFlag = MY_PARAMS.url.indexOf('fypage')\nif (fypageFlag >= 0) pageNum = parseInt(/^\\d+/.exec(MY_URL.slice(fypageFlag)))\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, pageNum),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 解析正文\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\neval(MY_RULE.preRule)\nsetLastChapterRule(MY_RULE.last_chapter_rule)\nMY_PARAMS = MY_RULE.params\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else { return v }\n            v.extra = { url: v.url, RULE: MY__RULE }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\n    findRule = findRule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (detailFindRule) {\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"工具集","path":"utility","rule":"$.exports = {\n    dataLoad: function(showAll) {\n        //检查间隔，默认一天\n        let interval = parseInt(readFile('updateInterval') || '1'),\n            time = parseInt(readFile('updateTime')) || 0,\n            now = new Date().getTime(),\n            data = []\n        if (time == 0 || interval > 0 && now - time > 1000 * 60 * 60 * 24 * interval) {\n            // 获取远程数据\n            let url = getItem('remoteUrl')\n            try {\n                let remoteData = fetch(url)\n                if (url.startsWith('hiker://page/'))\n                    remoteData = JSON.parse(remoteData).rule\n                data = JSON.parse(remoteData)\n            } catch (e) {}\n            if(data.length == 0) {\n                data = JSON.parse(readFile('dataCache') || '[]')\n                log('没有获取到更新数据')\n            } else {\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\n                saveFile('dataCache', JSON.stringify(data))\n                saveFile('updateTime', now.toString())\n                log('更新数据已写入本地')\n            }\n        } else {\n            data = JSON.parse(readFile('dataCache') || '[]')\n        }\n        // 写入自定义数据\n        let customData = JSON.parse(readFile('customData') || '[]'),\n            rewriteData = []\n        customData = customData.reduce((self, v) => {\n            let index = data.findIndex((vv) => v.title == vv.title)\n            if (index >= 0) {\n                self.push(v)\n                let rule = data.splice(index, 1)[0]\n                if(showAll || v.visible)\n                    rewriteData.push(Object.assign(rule, v))\n            }\n            return self\n        }, [])\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\n        saveFile('customData', JSON.stringify(customData))\n        return rewriteData.concat(data)\n    },\n    runCode: function(rule) {\n        try {\n            let [input, code] = rule.split('.js:')\n            return code ? eval(code) : rule\n        } catch (e) { return rule }\n    },\n    urlParse: function(url, headers, pageNum, func) {\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\n        if (func) func(url)\n        url[0] = url[0].replace(/fypage(?:@(-?\\d+)@)?(?:\\*(\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\n        url[0] = /^([\\s\\S]*?)(?:\\[firstPage=([\\s\\S]*?)\\])?$/.exec(url[0])\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\n        let options = { headers: headers, method: url[1] }\n        // post方法时转换参数\n        if (/^post$/i.test(options['method'])) {\n            let [oriUrl, body] = url[0].split('?')\n            url[0] = oriUrl.replace(/？？/g, '?')\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\n            options['body'] = body\n        }\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\n            let [key, value] = v.split('@')\n            options.headers[key] = runCode(value)\n        })\n        // 添加全局UA\n        if (!options.headers['User-Agent']) {\n            if (MY_RULE.ua == 'pc')\n                options.headers['User-Agent'] = PC_UA\n            else if (MY_RULE.ua == 'mobile')\n                options.headers['User-Agent'] = MOBILE_UA\n        }\n        return { MY_URL: url[0], MY_URL_Options: options }\n    }\n}\n"},{"col_type":"movie_1_vertical_pic","name":"单搜","path":"singleSearch","rule":"js:\nlet myCollection_el = [],\n    RULE = MY_PARAMS.RULE,\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page'))\n\n// 处理MY_URL和MY_RULE\nMY_TYPE = 'search'\nMY_RULE.ua = RULE.ua\nMY_RULE.title = RULE.title\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\nMY_RULE.find_rule = RULE.searchFind\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n}),\n    indexHtml = fetch(MY_URL, MY_URL_Options)\nMY_RULE.url = MY_URL\nMY_RULE.urlHeaders = MY_URL_Options.headers\n// 正文解析\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let MY__RULE = Object.assign({}, MY_RULE),\n                subTitle = v.title\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\n            v.desc = v.content || ''\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\n            delete v.content\n\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                MY__RULE.detail_find_rule = rule\n                MY__RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                MY__RULE.detail_find_rule = subPage.rule\n                MY__RULE.detail_col_type = subPage.col_type\n                MY__RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                return v\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n    setHomeResult = setResult\n    setSearchResult = setResult\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 4) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 1) v = runCode(v)\n                    return v\n                } catch (e) { return '' }\n            }),\n            res = {\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\n                url: url,\n                desc: content,\n                img: img\n            }\n        if(!res.img) res.col_type = 'text_1'\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n            } else if (MY_RULE.detail_find_rule) {\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"icon_2_round","name":"设置","path":"Config","rule":"js:\naddListener('onClose', 'clearVar(\"myCollection-sortFlag\");refreshPage()')\nsetPageTitle('⚙ 轻合集设置 ⚙')\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet data = dataLoad(true),\n    el = [{\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\n        url: $().lazyRule(() => {\n            deleteFile('updateTime')\n            back(false)\n            return 'toast://已更新'\n        }),\n        img: 'hiker://images/icon1',\n        col_type: 'avatar'\n    }],\n    searchThd = readFile('searchThd') || '5',\n    updateInterval = readFile('updateInterval') || '1',\n    newWindow = readFile('newWindow'),\n    editMode = getVar('myCollection-editMode', '启用/禁用')\n\nel.push({\n    title: '  🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd) + '  ',\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\n        if (input == '列表搜索') {\n            saveFile('searchThd', '0')\n            refreshPage()\n        } else {\n            if (searchThd == 0) searchThd = 5\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\n                saveFile('searchThd', input)\n                refreshPage()\n            })\n        }\n    }, searchThd),\n    col_type: 'scroll_button'\n}, {\n    title: '  💡 更新频率: ' + (updateInterval < 1 ? '手动' : updateInterval + '天') + '  ',\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新').input(() => {\n        saveFile('updateInterval', input)\n        refreshPage()\n        return 'hiker://empty'\n    }),\n    col_type: 'scroll_button'\n}, {\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\n    url: $('#noLoading#').lazyRule((newWindow) => {\n        saveFile('newWindow', newWindow ? '' : '1')\n        refreshPage()\n        return 'hiker://empty'\n    }, newWindow),\n    col_type: 'scroll_button'\n}, {\n    title: '““””<font color=\"#666666\"><small>特别鸣谢，小程序提供者：\\n' +\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\n    url: 'hiker://empty',\n    col_type: 'text_center_1'\n})\n\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\n    el.push({\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\n            putVar('myCollection-editMode', v)\n            refreshPage(false)\n            return 'hiker://empty'\n        }, v),\n        col_type: 'scroll_button'\n    })\n})\nel.push({\n    title: '恢复出厂数据',\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\n        deleteFile('customData')\n        refreshPage(false)\n        return 'toast://已恢复出厂数据'\n    }),\n    col_type: 'scroll_button'\n})\n\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\n    let d = { title: v.title, img: data[i].icon }\n    switch (editMode) {\n        case '启用/禁用':\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\n            d.url = $('#noLoading#').lazyRule((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                rules[index].visible = !rules[index].visible\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '重新排序':\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\n            if (sortFlag == -1)\n                d.url = $('#noLoading#').lazyRule((i) => {\n                    putVar('myCollection-sortFlag', i.toString())\n                    refreshPage(false)\n                    return 'toast://选择要移动到的位置'\n                }, i)\n            else\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\n                    let rules = JSON.parse(readFile('customData') || '[]')\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\n                    saveFile('customData', JSON.stringify(rules))\n                    putVar('myCollection-sortFlag', '-1')\n                    refreshPage(false)\n                    return 'hiker://empty'\n                }, sortFlag, i)\n            break\n        case '更改图标':\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\n                let rules = JSON.parse(readFile('customData') || '[]'),\n                    index = rules.findIndex((v) => v.title == rule.title)\n                if (input)\n                    rules[index].icon = input\n                else\n                    delete rules[index].icon\n                saveFile('customData', JSON.stringify(rules))\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v)\n            break\n        case '导入海阔':\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\n            break\n    }\n    el.push(d)\n})\nsetResult(el)\n"}],"title":"轻合集·TyrantG","author":"小棉袄🌞&永远の明日","version":78,"url":"hiker://empty","col_type":"icon_2_round","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet el = [{\n    title: ' ' + getItem('myCollection').bold() + ' &nbsp &nbsp ' + '⚙ 轻合集设置 ⚙'.small(),\n    url: 'hiker://page/Config?rule=' + getItem('myCollection'),\n    img: MY_RULE.icon || 'hiker://images/icon1',\n    col_type: 'avatar'\n}, {\n    url: '\"hiker://search?s=\"+input+\"&rule=' + getItem('myCollection') + '\"',\n    desc: '搜你想要的...',\n    title: '搜索',\n    col_type: 'input'\n}]\n\nlet newWindow = readFile('newWindow')\ndataLoad().forEach((v) => {\n    let fypage = /^[^;]*?fypage.*?(;.*)?$/.test(v.url) ? 'fypage' : '1',\n        d = {\n            title: v.title,\n            url: 'hiker://page/indexLoad?#' + fypage + '#noHistory#',\n            img: v.icon,\n            extra: { RULE: v }\n        }\n    if(newWindow) Object.assign(d.extra, { newWindow: true, windowId: getItem('myCollection') + d.title })\n    el.push(d)\n})\nsetResult(el)","searchFind":"js:\nvar { dataLoad, runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nlet myCollection_el = [],\n    searchThd = parseInt(readFile('searchThd') || '5'),\n    keyword = getParam('keyword'),\n    pageNum = parseInt(getParam('page')),\n    RULES = dataLoad().filter((v) => v.search_url)\nif (searchThd == 0) {\n    myCollection_el.push({\n        title: ('⬇ 选择一个小程序查看' + keyword + '的搜索结果 ⬇').small(),\n        url: 'hiker://empty'\n    })\n    RULES.forEach((v) => myCollection_el.push({\n        title: v.title,\n        url: \"hiker://page/singleSearch?keyword=\" + keyword + \"&page=fypage\",\n        extra: { rule: getItem('myCollection'), RULE: v },\n    }))\n} else if (searchThd > 0) {\n    let searchCount = pageNum * searchThd,\n        searchTag = { title: '⬆ 已搜索了' + searchCount + '个小程序 ⬆\\n⬇ 下面还有' + RULES.slice(searchCount).length + '个小程序 ⬇' }\n    RULES = RULES.slice(searchCount - searchThd, searchCount)\n    if (!RULES.length) setResult([])\n\n    let URLS = RULES.map((RULE) => {\n        MY_RULE.ua = RULE.ua\n        let urlReq = urlParse(RULE.search_url, {}, 1, (url) => {\n            url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n        })\n        return { url: urlReq.MY_URL, options: urlReq.MY_URL_Options }\n    })\n    batchFetch(URLS).forEach((indexHtml, index) => {\n        // 处理MY_URL和MY_RULE\n        let RULE = RULES[index]\n        MY_URL = URLS[index].url\n        MY_RULE.ua = RULE.ua\n        MY_RULE.col_type = RULE.col_type\n        MY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\n        MY_RULE.find_rule = RULE.searchFind\n        MY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\n        MY_RULE.preRule = RULE.preRule\n        MY_RULE.pageList = JSON.parse(RULE.pages || '[]')\n        MY_RULE.pages = JSON.stringify(MY_RULE.pageList)\n        MY_RULE.last_chapter_rule = RULE.last_chapter_rule\n        MY_RULE.params = {}\n        MY_RULE.url = MY_URL\n        MY_RULE.urlHeaders = URLS[index].options.headers\n\n        // 正文解析\n        eval(MY_RULE.preRule)\n        if (MY_RULE.find_rule.startsWith('js:')) {\n            function getUrl() {\n                return MY_URL\n            }\n\n            function getResCode() {\n                return indexHtml\n            }\n\n            setResult = function(el) {\n                if (Array.isArray(el.data)) el = el.data\n                Array.prototype.push.apply(myCollection_el, el.map((v) => {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    v.desc = RULE.title + ' ▪ ' + (v.desc || '')\n\n                    if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\n                        return v\n                    } else if (v.url.includes('@rule=')) {\n                        let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                        v.url = url\n                        MY__RULE.detail_find_rule = rule\n                        MY__RULE.detail_col_type = MY_RULE.col_type\n                    } else if (v.url.startsWith('hiker://page/')) {\n                        if (v.url.includes('rule=') || (v.extra || {}).rule)\n                            return v\n                        let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?(.*))?$/),\n                            subPage = MY_RULE.pageList.find((v) => v.path == path),\n                            subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\n                        v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\n                        MY__RULE.detail_find_rule = subPage.rule\n                        MY__RULE.detail_col_type = subPage.col_type\n                        MY__RULE.params = v.extra || {}\n                    } else if (v.url.includes('@lazyRule=')) {\n                        v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                        return v\n                    } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\n                    v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\n                    v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                    if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\n\n                    return v\n                }))\n            }\n            setHomeResult = setResult\n            setSearchResult = setResult\n\n            try {\n                eval(MY_RULE.find_rule.slice(3))\n            } catch (e) {}\n        } else {\n            let findRule = MY_RULE.find_rule.split(';')\n            parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n                let [title, url, desc, content, img] = findRule.map((v, i) => {\n                        try {\n                            if (v == '*') return ''\n                            else v = (i == 1 || i == 4) ?\n                                parseDom(data, v) :\n                                parseDomForHtml(data, v)\n                            if (i != 1) v = runCode(v)\n                            return v\n                        } catch (e) { return '' }\n                    }),\n                    res = {\n                        title: title,\n                        url: url,\n                        desc: RULE.title + ' ▪ ' + desc,\n                        content: content,\n                        img: img\n                    }\n                if (res.url) {\n                    let MY__RULE = Object.assign({}, MY_RULE, { title: RULE.title })\n                    if (res.url.includes('@lazyRule=')) {\n                        res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY__RULE.pages, pageList: MY__RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\"' + MY_URL + '\";')\n                    } else if (MY_RULE.detail_find_rule) {\n                        res.extra = { url: url, RULE: MY__RULE, pageTitle: title }\n                        res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                        if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\n                    }\n                }\n                myCollection_el.push(res)\n            })\n        }\n    })\n    myCollection_el.push(searchTag)\n}\nmethod_setResult.invoke(javaContext, myCollection_el, CALLBACK_KEY, MY_RULE, MY_TYPE)\n","search_url":"hiker://empty?keyword=**&page=fypage","group":"①轻合集","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"setItem('myCollection', MY_RULE.title)\nsetItem('remoteUrl', 'https://git.tyrantg.com/tyrantgenesis/hikerViewRules/raw/master/data/rules.json')\n// \n// 包裹错误","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"function ClassTab(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = getVar('fold_' + this.sign, '')\\n        if (this.fold) el.push({\\n            title: '““””<span style=\\\"color:#049eff\\\">' + (folded ? '▶' : '▼'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n                selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: (selected == now ? '““””<span style=\\\"color:' + this.color + '\\\"><b>' : '') + name,\\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        putVar(sign, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&').map((v) => v.trim())\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        if (defaultClass) defaultClass = JSON.stringify({\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        })\\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    getLastClick() {\\n        return JSON.parse(getVar(this.sign, '{}'))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n$.exports = ClassTab\\n\"},{\"col_type\":\"movie_3\",\"name\":\"首页\",\"path\":\"indexLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = parseInt(MY_URL.split('#')[1]),\\n    RULE = MY_PARAMS.RULE,\\n    fyAll = RULE.url.includes('fyAll'),\\n    // 加载ClassTab组件\\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\\n    tabHeader = []\\n\\nif (RULE.class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: RULE.class_name,\\n    class_url: RULE.class_url\\n})\\nif (RULE.area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: RULE.area_name,\\n    class_url: RULE.area_url\\n})\\nif (RULE.year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: RULE.year_name,\\n    class_url: RULE.year_url\\n})\\nif (RULE.sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: RULE.sort_name,\\n    class_url: RULE.sort_url\\n})\\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\\nif (pageNum == 1) {\\n    addListener('onClose', 'clearVar(\\\"myCollection-searchMode\\\")')\\n    putVar('myCollection-searchMode', RULE.title)\\n    tabHeader.load(myCollection_el)\\n    if (RULE.search_url) myCollection_el.push({\\n        title: \\\"搜索\\\",\\n        desc: \\\"搜你想要的...\\\",\\n        url: '\\\"hiker://page/singleSearch?keyword=\\\"+input+\\\"&page=fypage\\\"',\\n        extra: { rule: getItem('myCollection'), RULE: RULE },\\n        col_type: \\\"input\\\",\\n    })\\n}\\n// 处理MY_URL和MY_RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.find_rule\\nMY_RULE.detail_find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.url, {}, pageNum, (url) => {\\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\\n    url[0] = tabHeader.setUrl(url[0])\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) eval(MY_RULE.preRule)\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: v.title }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"详情\",\"path\":\"detailLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = 1\\n\\n// 处理MY_URL和MY_RULE\\nlet RULE = MY_PARAMS.RULE\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = RULE.pageList\\nMY_RULE.pages = RULE.pages\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = RULE.params\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet fypageFlag = MY_PARAMS.url.indexOf('fypage')\\nif (fypageFlag >= 0) pageNum = parseInt(/^\\\\d+/.exec(MY_URL.slice(fypageFlag)))\\nvar { MY_URL, MY_URL_Options } = urlParse(MY_PARAMS.url, RULE.urlHeaders, pageNum),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 解析正文\\nif (MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\\neval(MY_RULE.preRule)\\nsetLastChapterRule(MY_RULE.last_chapter_rule)\\nMY_PARAMS = MY_RULE.params\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let [_, findRule, detailFindRule] = MY_RULE.find_rule.match(/^(.*?)(?:==>(.*))?$/)\\n    findRule = findRule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (detailFindRule) {\\n                res.extra = { url: url, RULE: Object.assign({}, MY_RULE, { detail_find_rule: detailFindRule }) }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"工具集\",\"path\":\"utility\",\"rule\":\"$.exports = {\\n    dataLoad: function(showAll) {\\n        //检查间隔，默认一天\\n        let interval = parseInt(readFile('updateInterval') || '1'),\\n            time = parseInt(readFile('updateTime')) || 0,\\n            now = new Date().getTime(),\\n            data = []\\n        if (time == 0 || interval > 0 && now - time > 1000 * 60 * 60 * 24 * interval) {\\n            // 获取远程数据\\n            let url = getItem('remoteUrl')\\n            try {\\n                let remoteData = fetch(url)\\n                if (url.startsWith('hiker://page/'))\\n                    remoteData = JSON.parse(remoteData).rule\\n                data = JSON.parse(remoteData)\\n            } catch (e) {}\\n            if(data.length == 0) {\\n                data = JSON.parse(readFile('dataCache') || '[]')\\n                log('没有获取到更新数据')\\n            } else {\\n                data = data.filter((v) => { return v.title != getItem('myCollection') && !v.author.includes('轻合集生成器') })\\n                saveFile('dataCache', JSON.stringify(data))\\n                saveFile('updateTime', now.toString())\\n                log('更新数据已写入本地')\\n            }\\n        } else {\\n            data = JSON.parse(readFile('dataCache') || '[]')\\n        }\\n        // 写入自定义数据\\n        let customData = JSON.parse(readFile('customData') || '[]'),\\n            rewriteData = []\\n        customData = customData.reduce((self, v) => {\\n            let index = data.findIndex((vv) => v.title == vv.title)\\n            if (index >= 0) {\\n                self.push(v)\\n                let rule = data.splice(index, 1)[0]\\n                if(showAll || v.visible)\\n                    rewriteData.push(Object.assign(rule, v))\\n            }\\n            return self\\n        }, [])\\n        data.forEach((v) => customData.push({ title: v.title, visible: true }))\\n        saveFile('customData', JSON.stringify(customData))\\n        return rewriteData.concat(data)\\n    },\\n    runCode: function(rule) {\\n        try {\\n            let [input, code] = rule.split('.js:')\\n            return code ? eval(code) : rule\\n        } catch (e) { return rule }\\n    },\\n    urlParse: function(url, headers, pageNum, func) {\\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\\n        if (func) func(url)\\n        url[0] = url[0].replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n        url[0] = /^([\\\\s\\\\S]*?)(?:\\\\[firstPage=([\\\\s\\\\S]*?)\\\\])?$/.exec(url[0])\\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\\n        let options = { headers: headers, method: url[1] }\\n        // post方法时转换参数\\n        if (/^post$/i.test(options['method'])) {\\n            let [oriUrl, body] = url[0].split('?')\\n            url[0] = oriUrl.replace(/？？/g, '?')\\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\\n            options['body'] = body\\n        }\\n        if (url[2]) options.headers['Content-Type'] = 'text/plain;charst=' + url[2]\\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\\n            let [key, value] = v.split('@')\\n            options.headers[key] = runCode(value)\\n        })\\n        // 添加全局UA\\n        if (!options.headers['User-Agent']) {\\n            if (MY_RULE.ua == 'pc')\\n                options.headers['User-Agent'] = PC_UA\\n            else if (MY_RULE.ua == 'mobile')\\n                options.headers['User-Agent'] = MOBILE_UA\\n        }\\n        return { MY_URL: url[0], MY_URL_Options: options }\\n    }\\n}\\n\"},{\"col_type\":\"movie_1_vertical_pic\",\"name\":\"单搜\",\"path\":\"singleSearch\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    RULE = MY_PARAMS.RULE,\\n    keyword = getParam('keyword'),\\n    pageNum = parseInt(getParam('page'))\\n\\n// 处理MY_URL和MY_RULE\\nMY_TYPE = 'search'\\nMY_RULE.ua = RULE.ua\\nMY_RULE.title = RULE.title\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_col_type : RULE.sdetail_col_type\\nMY_RULE.find_rule = RULE.searchFind\\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, MY_URL_Options } = urlParse(RULE.search_url, {}, pageNum, (url) => {\\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\\\*\\\\*/g, encodeStr(keyword, url[2]))\\n}),\\n    indexHtml = fetch(MY_URL, MY_URL_Options)\\nMY_RULE.url = MY_URL\\nMY_RULE.urlHeaders = MY_URL_Options.headers\\n// 正文解析\\nif (pageNum == 1) setPageTitle('“' + keyword + '”的搜索结果')\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let MY__RULE = Object.assign({}, MY_RULE),\\n                subTitle = v.title\\n            v.title += '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + (v.desc || '').fontcolor('#666666')).small()\\n            v.desc = v.content || ''\\n            if(!v.img && !v.pic_url) v.col_type = 'text_1'\\n            delete v.content\\n\\n            if (!v.url || ['rule', 'pics', 'toast', 'input', 'copy', 'editFile', 'x5', 'x5WebView', 'x5Play', 'web', 'select', 'x5Rule', 'webRule'].find((vv) => v.url.startsWith(vv + '://'))) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                MY__RULE.detail_find_rule = rule\\n                MY__RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let [_, path, params] = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?(.*))?$/),\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path),\\n                    subUrl = (params || '').split('&').find((v) => v.startsWith('url='))\\n                v.url = subUrl ? subUrl.slice(4).replace(/？？/g, '?').replace(/＆＆/g, '&') : (v.extra || {}).url || 'hiker://empty?' + (params || '')\\n                MY__RULE.detail_find_rule = subPage.rule\\n                MY__RULE.detail_col_type = subPage.col_type\\n                MY__RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule || v.url.startsWith('hiker://')) { return v }\\n            v.extra = { url: v.url, RULE: MY__RULE, pageTitle: subTitle }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            if (v.extra.RULE.url.includes('#immersiveTheme#')) v.url += '&#immersiveTheme#'\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n    setHomeResult = setResult\\n    setSearchResult = setResult\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 4) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 1) v = runCode(v)\\n                    return v\\n                } catch (e) { return '' }\\n            }),\\n            res = {\\n                title: title + '““””<br>' + (RULE.title.fontcolor('#12b668') + ' ▪ ' + desc.fontcolor('#666666')).small(),\\n                url: url,\\n                desc: content,\\n                img: img\\n            }\\n        if(!res.img) res.col_type = 'text_1'\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');MY_URL=\\\"' + MY_URL + '\\\";')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title }\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                if (res.extra.RULE.url.includes('#immersiveTheme#')) res.url += '&#immersiveTheme#'\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"icon_2_round\",\"name\":\"设置\",\"path\":\"Config\",\"rule\":\"js:\\naddListener('onClose', 'clearVar(\\\"myCollection-sortFlag\\\");refreshPage()')\\nsetPageTitle('⚙ 轻合集设置 ⚙')\\nconst { dataLoad } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nlet data = dataLoad(true),\\n    el = [{\\n        title: '清除缓存,立即更新 <small> （基于远程仓库,不要频繁点击）',\\n        url: $().lazyRule(() => {\\n            deleteFile('updateTime')\\n            back(false)\\n            return 'toast://已更新'\\n        }),\\n        img: 'hiker://images/icon1',\\n        col_type: 'avatar'\\n    }],\\n    searchThd = readFile('searchThd') || '5',\\n    updateInterval = readFile('updateInterval') || '1',\\n    newWindow = readFile('newWindow'),\\n    editMode = getVar('myCollection-editMode', '启用/禁用')\\n\\nel.push({\\n    title: '  🔍 搜索模式: ' + (searchThd == 0 ? '列' : '聚' + searchThd) + '  ',\\n    url: $(['列表搜索', '聚合搜索'], 1).select((searchThd) => {\\n        if (input == '列表搜索') {\\n            saveFile('searchThd', '0')\\n            refreshPage()\\n        } else {\\n            if (searchThd == 0) searchThd = 5\\n            return $(searchThd, '输入搜索线程，最好不要超过16').input(() => {\\n                saveFile('searchThd', input)\\n                refreshPage()\\n            })\\n        }\\n    }, searchThd),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  💡 更新频率: ' + (updateInterval < 1 ? '手动' : updateInterval + '天') + '  ',\\n    url: $(updateInterval, '输入更新间隔（天），为0则手动更新').input(() => {\\n        saveFile('updateInterval', input)\\n        refreshPage()\\n        return 'hiker://empty'\\n    }),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '  🖥 独立首页: ' + (newWindow ? '是' : '否') + '  ',\\n    url: $('#noLoading#').lazyRule((newWindow) => {\\n        saveFile('newWindow', newWindow ? '' : '1')\\n        refreshPage()\\n        return 'hiker://empty'\\n    }, newWindow),\\n    col_type: 'scroll_button'\\n}, {\\n    title: '““””<font color=\\\"#666666\\\"><small>特别鸣谢，小程序提供者：\\\\n' +\\n        data.reduce((self, v) => v.author ? self.concat(v.author.split('&')) : self, [])\\n        .filter((v, i, arr) => v && arr.indexOf(v) == i).join('、'),\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1'\\n})\\n\\nel.push({ col_type: 'line' }, { col_type: 'big_blank_block' });\\n['启用/禁用', '重新排序', '更改图标', '导入海阔'].forEach((v) => {\\n    el.push({\\n        title: v == editMode ? '““””' + v.bold().fontcolor('#12b668') : v,\\n        url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\\n            putVar('myCollection-editMode', v)\\n            refreshPage(false)\\n            return 'hiker://empty'\\n        }, v),\\n        col_type: 'scroll_button'\\n    })\\n})\\nel.push({\\n    title: '恢复出厂数据',\\n    url: $('确定要恢复出厂，清楚自定义数据吗？').confirm(() => {\\n        deleteFile('customData')\\n        refreshPage(false)\\n        return 'toast://已恢复出厂数据'\\n    }),\\n    col_type: 'scroll_button'\\n})\\n\\nJSON.parse(readFile('customData') || '[]').forEach((v, i) => {\\n    let d = { title: v.title, img: data[i].icon }\\n    switch (editMode) {\\n        case '启用/禁用':\\n            d.title = (v.visible ? '🟢  ' : '🔴  ') + d.title\\n            d.url = $('#noLoading#').lazyRule((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                rules[index].visible = !rules[index].visible\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '重新排序':\\n            let sortFlag = parseInt(getVar('myCollection-sortFlag', '-1'))\\n            d.title = (sortFlag == i ? '🔃  ' : '') + d.title\\n            if (sortFlag == -1)\\n                d.url = $('#noLoading#').lazyRule((i) => {\\n                    putVar('myCollection-sortFlag', i.toString())\\n                    refreshPage(false)\\n                    return 'toast://选择要移动到的位置'\\n                }, i)\\n            else\\n                d.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\\n                    let rules = JSON.parse(readFile('customData') || '[]')\\n                    rules.splice(newIndex, 0, rules.splice(oldIndex, 1)[0])\\n                    saveFile('customData', JSON.stringify(rules))\\n                    putVar('myCollection-sortFlag', '-1')\\n                    refreshPage(false)\\n                    return 'hiker://empty'\\n                }, sortFlag, i)\\n            break\\n        case '更改图标':\\n            d.url = $(v.icon || '', '输入新图标地址或颜色代码：').input((rule) => {\\n                let rules = JSON.parse(readFile('customData') || '[]'),\\n                    index = rules.findIndex((v) => v.title == rule.title)\\n                if (input)\\n                    rules[index].icon = input\\n                else\\n                    delete rules[index].icon\\n                saveFile('customData', JSON.stringify(rules))\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v)\\n            break\\n        case '导入海阔':\\n            d.url = 'rule://' + base64Encode(JSON.stringify(data[i]))\\n            break\\n    }\\n    el.push(d)\\n})\\nsetResult(el)\\n\"}]","icon":"https://git.tyrantg.com/tyrantgenesis/hikerViewRules/raw/master/assets/images/avatar.jpg"},{"last_chapter_rule":"","pageList":[{"col_type":"text_1","name":"ClassTab","path":"ClassTab","rule":"function ClassTab(classArray, params) {\n    Object.assign(this, params)\n    this.arr = classArray.map(v => this.init(v))\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\n    this.color = this.color || '#12b668'\n    this.boundary = this.boundary || 'blank_block'\n}\nClassTab.prototype = {\n    constructor: ClassTab,\n    load(el) {\n        let folded = getVar('fold_' + this.sign, '')\n        if (this.fold) el.push({\n            title: '““””<span style=\"color:#049eff\">' + (folded ? '▶' : '▼'),\n            url: $('#noLoading#').lazyRule((sign, folded) => {\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\n                refreshPage(false)\n                return 'hiker://empty'\n            }, this.sign, folded),\n            col_type: 'scroll_button'\n        })\n        let arr = folded ? [this.arr[0]] : this.arr\n        arr.forEach((v) => {\n            let { id, class_name, class_url } = v,\n                selected = JSON.stringify(this.getClass(id))\n            class_name.forEach((name, i) => {\n                let url = class_url[i],\n                    now = JSON.stringify({ name: name, url: url })\n                el.push({\n                    title: (selected == now ? '““””<span style=\"color:' + this.color + '\"><b>' : '') + name,\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\n                        putVar(sign + id, now)\n                        putVar(sign, now)\n                        refreshPage(false)\n                        return 'hiker://empty'\n                    }, this.sign, id, now),\n                    col_type: 'scroll_button'\n                })\n            })\n            el.push({ col_type: this.boundary })\n        })\n    },\n    init(classObject) {\n        if (typeof classObject.class_name == 'string')\n            classObject.class_name = classObject.class_name.split('&')\n        if (typeof classObject.class_url == 'string')\n            classObject.class_url = classObject.class_url.split('&')\n        return classObject\n    },\n    push(classObject) {\n        this.arr.push(this.init(classObject))\n    },\n    getClass(id) {\n        let defaultClass = this.arr.find(item => item.id == id)\n        if (defaultClass) defaultClass = JSON.stringify({\n            name: defaultClass.class_name[0],\n            url: defaultClass.class_url[0]\n        })\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\n        return JSON.parse(getVar(this.sign + id, defaultClass))\n    },\n    getLastClick() {\n        return JSON.parse(getVar(this.sign, '{}'))\n    },\n    setUrl(url) {\n        return url.replace(/\\$\\{([^}]*)\\}/g, (_, id) => this.getClass(id).url)\n    }\n}\n$.exports = ClassTab\n"},{"col_type":"movie_3","name":"首页","path":"indexLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = parseInt(MY_URL.split('#')[1]),\n    RULE = MY_PARAMS.RULE,\n    fyAll = RULE.url.includes('fyAll'),\n    // 加载ClassTab组件\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\n    tabHeader = []\n\nif (RULE.class_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyclass',\n    class_name: RULE.class_name,\n    class_url: RULE.class_url\n})\nif (RULE.area_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyarea',\n    class_name: RULE.area_name,\n    class_url: RULE.area_url\n})\nif (RULE.year_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyyear',\n    class_name: RULE.year_name,\n    class_url: RULE.year_url\n})\nif (RULE.sort_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fysort',\n    class_name: RULE.sort_name,\n    class_url: RULE.sort_url\n})\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\nif (pageNum == 1) {\n    addListener('onClose', 'clearVar(\"myCollection-searchMode\")')\n    putVar('myCollection-searchMode', RULE.title)\n    tabHeader.load(myCollection_el)\n    if (RULE.search_url) myCollection_el.push({\n        title: \"搜索\",\n        desc: \"搜你想要的...\",\n        url: '\"hiker://search?s=\"+input+\"&rule=' + getItem('myCollection') + '\"',\n        col_type: \"input\",\n    })\n}\n// 处理MY_URL和MY_RULE\nMY_RULE.version = RULE.version\nMY_RULE.group = RULE.group\nMY_RULE.title = RULE.title\nMY_RULE.ua = RULE.ua\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.find_rule\nMY_RULE.detail_find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, indexHtml } = urlParse(RULE.url, pageNum, (url) => {\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\n    url[0] = tabHeader.setUrl(url[0])\n})\nMY_RULE.url = MY_URL\n// 正文解析\nif (pageNum == 1) eval(MY_RULE.preRule)\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                RULE.detail_find_rule = rule\n                RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let path = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?.*)?$/)[1],\n                    subPage = MY_RULE.pageList.find((v) => v.path == path)\n                RULE.detail_find_rule = subPage.rule\n                RULE.detail_col_type = subPage.col_type\n                RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\n                return v\n            } else if (!MY_RULE.detail_find_rule) { return v }\n            v.extra = { url: v.url, RULE: RULE, pageTitle: v.title }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n\n    function setHomeResult(a, param1, param2, param3) {\n        setResult(a, param1, param2, param3)\n    }\n\n    function setSearchResult(a, param1, param2, param3) {\n        setResult(a, param1, param2, param3)\n    }\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) {}\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\n            } else if (MY_RULE.detail_find_rule) {\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title  }\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"详情","path":"detailLoad","rule":"js:\nvar myCollection_el = []\n\n// 处理MY_URL和MY_RULE\nlet RULE = MY_PARAMS.RULE\nMY_RULE.version = RULE.version\nMY_RULE.group = RULE.group\nMY_RULE.title = RULE.title\nMY_RULE.url = MY_URL\nMY_RULE.ua = RULE.ua\nMY_RULE.col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = RULE.pageList\nMY_RULE.pages = RULE.pages\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = RULE.params\n// 解析正文\nif(MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\neval(MY_RULE.preRule)\nsetLastChapterRule(MY_RULE.last_chapter_rule)\nMY_PARAMS = MY_RULE.params\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                RULE.detail_find_rule = rule\n                RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let path = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?.*)?$/)[1],\n                    subPage = MY_RULE.pageList.find((v) => v.path == path)\n                RULE.detail_find_rule = subPage.rule\n                RULE.detail_col_type = subPage.col_type\n                RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\n                return v\n            } else { return v }\n            v.extra = { url: v.url, RULE: RULE }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n\n    function setHomeResult(a, param1, param2, param3) {\n        setResult(a, param1, param2, param3)\n    }\n\n    function setSearchResult(a, param1, param2, param3) {\n        setResult(a, param1, param2, param3)\n    }\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    const { runCode } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(getResCode(), findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) {}\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url && res.url.includes('@lazyRule='))\n            res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"数据载入","path":"dataLoad","rule":"//真正获取数据的逻辑\nfunction load() {\n    let url = 'http://hiker.nokia.press/hikerule/rulelist.json?id=2040',\n        d = []\n    try {\n        d = fetch(url)\n        if (url.startsWith('hiker://page/'))\n            d = JSON.parse(d).rule\n        d = JSON.parse(d)\n    } catch (e) {log(e.message)\n        d = []\n    }\n    return d.filter((v) => { return v.title != MY_RULE.title && v.author != '轻合集生成器' })\n}\n//检查间隔，默认一天\nlet min = 60 * 24 * 1\n\nlet data = []\nlet time = getItem('updatetime', '0')\ntime = parseInt(time)\nlet now = new Date().getTime()\nif (now - time > 1000 * 60 * min) {\n    log('更新了数据')\n    setItem('updatetime', '' + now)\n    data = load()\n    saveFile('data.json', JSON.stringify(data))\n} else {\n    log('没有更新数据')\n    data = JSON.parse(readFile('data.json'))\n}\n$.exports = data\n"},{"col_type":"movie_3","name":"工具集","path":"utility","rule":"$.exports = {\n    runCode: function(rule) {log(rule)\n        try {\n            let [input, code] = rule.split('.js:')\n            return code ? eval(code) : rule\n        } catch (e) { return rule }\n    },\n    urlParse: function(url, pageNum, func) {\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\n        if (func) func(url)\n        url[0] = url[0].replace(/fypage(?:@(-?\\d+)@)?(?:\\*(\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\n        url[0] = /^(.*?)(?:\\[firstPage=(.*?)\\])?$/.exec(url[0])\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\n        let options = { headers: { 'Content-Type': 'text/plain; charst=UTF-8' }, method: url[1] }\n        // post方法时转换参数\n        if (/^post$/i.test(options['method'])) {\n            let [oriUrl, body] = url[0].split('?')\n            url[0] = oriUrl.replace(/？？/g, '?')\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\n            options['body'] = body\n        }\n        if (url[2]) options.headers['Content-Type'] = options.headers['Content-Type'].slice(0, 19) + url[2]\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\n            let [key, value] = v.split('@')\n            options.headers[key] = runCode(value)\n        })\n        // 添加全局UA\n        if (!options.headers['User-Agent']) {\n            if (MY_RULE.ua == 'pc')\n                options.headers['User-Agent'] = PC_UA\n            else if (MY_RULE.ua == 'mobile')\n                options.headers['User-Agent'] = MOBILE_UA\n        }\n        return { MY_URL: url[0], indexHtml: fetch(url[0], options) }\n    }\n}\n"}],"title":"轻合集·Q","author":"小棉袄🌞&永远の明日","version":72,"url":"hiker://empty","col_type":"icon_2_round","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nlet el = [{\n    title: '清除缓存,立即更新 <small>(基于远程仓库,不要频繁点击)',\n    url: $().lazyRule(() => {\n        clearItem('updatetime')\n        refreshPage(true)\n        return 'toast://已更新'\n    }),\n    img: 'hiker://images/icon1',\n    col_type: 'avatar'\n}]\nel.push({\n    url: '\"hiker://search?s=\"+input+\"&rule=' + getItem('myCollection') + '\"',\n    desc: '搜你想要的...',\n    title: '搜索',\n    col_type: 'input'\n})\nconst data = $.require('hiker://page/dataLoad?rule=' + getItem('myCollection'))\nsetResult(el.concat(data.map((v) => {\n    let fypage = /^[^;]*?fypage.*?(;.*)?$/.test(v.url) ? 'fypage' : '1'\n    return {\n        title: v.title,\n        url: 'hiker://page/indexLoad?#' + fypage + '#noHistory#',\n        img: v.icon,\n        extra: { RULE: v }\n    }\n})))","searchFind":"js:\nlet myCollection_el = [],\n    searchMode = getVar('myCollection-searchMode', ''),\n    [_, pageNum, keyword] = MY_URL.split('##'),\n    RULE = $.require('hiker://page/dataLoad?rule=' + getItem('myCollection')).filter((v) => v.search_url)\npageNum = parseInt(pageNum)\nif (!searchMode && pageNum > RULE.length) setResult([])\n\nlet searchCount = { title: '⬆ 已搜索了' + pageNum + '个小程序 ⬆\\n⬇ 下面还有' + (RULE.length - pageNum) + '个小程序 ⬇' }\nRULE = searchMode ? RULE.find((v) => v.title == searchMode) : RULE[pageNum - 1]\n// 处理MY_URL和MY_RULE\nMY_RULE.version = RULE.version\nMY_RULE.group = RULE.group\nMY_RULE.title = RULE.title\nMY_RULE.ua = RULE.ua\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = RULE.sdetail_col_type\nMY_RULE.find_rule = RULE.searchFind\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, indexHtml } = urlParse(RULE.search_url, searchMode ? pageNum : 1, (url) => {\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n})\nMY_RULE.url = MY_URL\n// 正文解析\nif (pageNum == 1) eval(MY_RULE.preRule)\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        log(el)\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let RULE = Object.assign({}, MY_RULE)\n\n            if (!v.url) {\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                RULE.detail_find_rule = rule\n                RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let path = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?.*)?$/)[1],\n                    subPage = MY_RULE.pageList.find(v => v.path == path)\n                RULE.detail_find_rule = subPage.rule\n                RULE.detail_col_type = subPage.col_type\n                RULE.params = v.extra || {}\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\n                return v\n            } else if (!MY_RULE.detail_find_rule) { return v }\n            v.extra = { url: v.url, RULE: RULE, pageTitle: v.title  }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            return v\n        }))\n        if (!searchMode) myCollection_el.push(searchCount)\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n\n    function setHomeResult(a, param1, param2, param3) {\n        setResult(a, param1, param2, param3)\n    }\n\n    function setSearchResult(a, param1, param2, param3) {\n        setResult(a, param1, param2, param3)\n    }\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 4) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 1) v = runCode(v)\n                    return v\n                } catch (e) {}\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                content: content,\n                img: img\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\n            } else if (MY_RULE.detail_find_rule) {\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title  }\n            }\n        }\n        myCollection_el.push(res)\n        if (!searchMode) myCollection_el.push(searchCount)\n    })\n    setResult(myCollection_el)\n}\n","search_url":"hiker://empty##fypage##**","group":"①轻合集","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"setItem('myCollection', MY_RULE.title)\n// UA，==>，rule和lazyRule嵌套问题\n// 分组\n// 导入导出，删除，排序，简单编辑？？基于远程会自动更新","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"function ClassTab(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = getVar('fold_' + this.sign, '')\\n        if (this.fold) el.push({\\n            title: '““””<span style=\\\"color:#049eff\\\">' + (folded ? '▶' : '▼'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n                selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: (selected == now ? '““””<span style=\\\"color:' + this.color + '\\\"><b>' : '') + name,\\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        putVar(sign, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&')\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        if (defaultClass) defaultClass = JSON.stringify({\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        })\\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    getLastClick() {\\n        return JSON.parse(getVar(this.sign, '{}'))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n$.exports = ClassTab\\n\"},{\"col_type\":\"movie_3\",\"name\":\"首页\",\"path\":\"indexLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = parseInt(MY_URL.split('#')[1]),\\n    RULE = MY_PARAMS.RULE,\\n    fyAll = RULE.url.includes('fyAll'),\\n    // 加载ClassTab组件\\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\\n    tabHeader = []\\n\\nif (RULE.class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: RULE.class_name,\\n    class_url: RULE.class_url\\n})\\nif (RULE.area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: RULE.area_name,\\n    class_url: RULE.area_url\\n})\\nif (RULE.year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: RULE.year_name,\\n    class_url: RULE.year_url\\n})\\nif (RULE.sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: RULE.sort_name,\\n    class_url: RULE.sort_url\\n})\\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\\nif (pageNum == 1) {\\n    addListener('onClose', 'clearVar(\\\"myCollection-searchMode\\\")')\\n    putVar('myCollection-searchMode', RULE.title)\\n    tabHeader.load(myCollection_el)\\n    if (RULE.search_url) myCollection_el.push({\\n        title: \\\"搜索\\\",\\n        desc: \\\"搜你想要的...\\\",\\n        url: '\\\"hiker://search?s=\\\"+input+\\\"&rule=' + getItem('myCollection') + '\\\"',\\n        col_type: \\\"input\\\",\\n    })\\n}\\n// 处理MY_URL和MY_RULE\\nMY_RULE.version = RULE.version\\nMY_RULE.group = RULE.group\\nMY_RULE.title = RULE.title\\nMY_RULE.ua = RULE.ua\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.find_rule\\nMY_RULE.detail_find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, indexHtml } = urlParse(RULE.url, pageNum, (url) => {\\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\\n    url[0] = tabHeader.setUrl(url[0])\\n})\\nMY_RULE.url = MY_URL\\n// 正文解析\\nif (pageNum == 1) eval(MY_RULE.preRule)\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                RULE.detail_find_rule = rule\\n                RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let path = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?.*)?$/)[1],\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path)\\n                RULE.detail_find_rule = subPage.rule\\n                RULE.detail_col_type = subPage.col_type\\n                RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\\n                return v\\n            } else if (!MY_RULE.detail_find_rule) { return v }\\n            v.extra = { url: v.url, RULE: RULE, pageTitle: v.title }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n\\n    function setHomeResult(a, param1, param2, param3) {\\n        setResult(a, param1, param2, param3)\\n    }\\n\\n    function setSearchResult(a, param1, param2, param3) {\\n        setResult(a, param1, param2, param3)\\n    }\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) {}\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title  }\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"详情\",\"path\":\"detailLoad\",\"rule\":\"js:\\nvar myCollection_el = []\\n\\n// 处理MY_URL和MY_RULE\\nlet RULE = MY_PARAMS.RULE\\nMY_RULE.version = RULE.version\\nMY_RULE.group = RULE.group\\nMY_RULE.title = RULE.title\\nMY_RULE.url = MY_URL\\nMY_RULE.ua = RULE.ua\\nMY_RULE.col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = RULE.pageList\\nMY_RULE.pages = RULE.pages\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = RULE.params\\n// 解析正文\\nif(MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\\neval(MY_RULE.preRule)\\nsetLastChapterRule(MY_RULE.last_chapter_rule)\\nMY_PARAMS = MY_RULE.params\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url) {\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                RULE.detail_find_rule = rule\\n                RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let path = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?.*)?$/)[1],\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path)\\n                RULE.detail_find_rule = subPage.rule\\n                RULE.detail_col_type = subPage.col_type\\n                RULE.params = v.extra || {}\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\\n                return v\\n            } else { return v }\\n            v.extra = { url: v.url, RULE: RULE }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n\\n    function setHomeResult(a, param1, param2, param3) {\\n        setResult(a, param1, param2, param3)\\n    }\\n\\n    function setSearchResult(a, param1, param2, param3) {\\n        setResult(a, param1, param2, param3)\\n    }\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    const { runCode } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(getResCode(), findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) {}\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url && res.url.includes('@lazyRule='))\\n            res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"数据载入\",\"path\":\"dataLoad\",\"rule\":\"//真正获取数据的逻辑\\nfunction load() {\\n    let url = 'http://hiker.nokia.press/hikerule/rulelist.json?id=2040',\\n        d = []\\n    try {\\n        d = fetch(url)\\n        if (url.startsWith('hiker://page/'))\\n            d = JSON.parse(d).rule\\n        d = JSON.parse(d)\\n    } catch (e) {log(e.message)\\n        d = []\\n    }\\n    return d.filter((v) => { return v.title != MY_RULE.title && v.author != '轻合集生成器' })\\n}\\n//检查间隔，默认一天\\nlet min = 60 * 24 * 1\\n\\nlet data = []\\nlet time = getItem('updatetime', '0')\\ntime = parseInt(time)\\nlet now = new Date().getTime()\\nif (now - time > 1000 * 60 * min) {\\n    log('更新了数据')\\n    setItem('updatetime', '' + now)\\n    data = load()\\n    saveFile('data.json', JSON.stringify(data))\\n} else {\\n    log('没有更新数据')\\n    data = JSON.parse(readFile('data.json'))\\n}\\n$.exports = data\\n\"},{\"col_type\":\"movie_3\",\"name\":\"工具集\",\"path\":\"utility\",\"rule\":\"$.exports = {\\n    runCode: function(rule) {log(rule)\\n        try {\\n            let [input, code] = rule.split('.js:')\\n            return code ? eval(code) : rule\\n        } catch (e) { return rule }\\n    },\\n    urlParse: function(url, pageNum, func) {\\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\\n        if (func) func(url)\\n        url[0] = url[0].replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n        url[0] = /^(.*?)(?:\\\\[firstPage=(.*?)\\\\])?$/.exec(url[0])\\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\\n        let options = { headers: { 'Content-Type': 'text/plain; charst=UTF-8' }, method: url[1] }\\n        // post方法时转换参数\\n        if (/^post$/i.test(options['method'])) {\\n            let [oriUrl, body] = url[0].split('?')\\n            url[0] = oriUrl.replace(/？？/g, '?')\\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\\n            options['body'] = body\\n        }\\n        if (url[2]) options.headers['Content-Type'] = options.headers['Content-Type'].slice(0, 19) + url[2]\\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\\n            let [key, value] = v.split('@')\\n            options.headers[key] = runCode(value)\\n        })\\n        // 添加全局UA\\n        if (!options.headers['User-Agent']) {\\n            if (MY_RULE.ua == 'pc')\\n                options.headers['User-Agent'] = PC_UA\\n            else if (MY_RULE.ua == 'mobile')\\n                options.headers['User-Agent'] = MOBILE_UA\\n        }\\n        return { MY_URL: url[0], indexHtml: fetch(url[0], options) }\\n    }\\n}\\n\"}]","icon":"hiker://images/icon1"},{"firstHeader":"class","last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"处理m数据为采集格式","path":"deal_data","rule":"String.prototype.trim = function () { return this.replace(/(^\\s*)|(\\s*$)/g, \"\"); }\nfunction deal_path(path){\n    let back = fetch(path,{});\n    try {\n        back = JSON.parse(back);\n        let datas = back.data;\n        let applists = '';\n        log('tab数:'+datas.length);\n        for(var i in datas){\n            let data = datas[i];\n            log('data:'+data);\n            let tmp = '#'+data.title+'\\n';\n            let tma = [];\n            for(var j=0;j<data.list.length;j++){\n                let app = data.list[j];\n                let tm = [app.title,app.url,app.img].join(',')+'\\n'\n                tma.push(tm);\n            }\n            tmp+=tma.join('');\n            tmp+='#\\n';\n            applists+=tmp;\n        }\n        return applists.trim()\n\n    }catch (e) {\n        return back\n    }\n}"},{"col_type":"movie_3","name":"预处理","path":"beforeRule","rule":"js:\n//let myUrl=JSON.parse(getRule()).url;\nconst base_path=\"hiker://files/rules/dzHouse/zyw/\";\nconst house=\"http://hiker.nokia.press/hikerule/rulelist.json?id=\";\nconst dz_zyw=\"http://hiker.nokia.press/hikerule/zyw_data/\";\nconst dz_zyw_ver=\"http://hiker.nokia.press/hikerule/zyw_data_ver/\";\nconst js_name=\"appmovie.js\";\nconst txt_name=\"道长app.txt\";\nputVar(\"base_dir\",base_path);\nputVar(\"dz_zyw\",dz_zyw);\nputVar(\"dz_zyw_ver\",dz_zyw_ver);\nputVar(\"js_dir\",base_path+js_name);\nputVar(\"txt_dir\",base_path+txt_name);\nfiles={\n    \"道长app.txt\":dz_zyw+\"5\",\n   \"m点佬.txt\":\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/APP影视列表\"\n};\nfiles[js_name]=house+\"1486\";\nputVar(\"files\",files);\nputVar(\"now_file\",\"道长app.txt\");\n\neval(JSON.parse(fetch(\"hiker://page/deal_data\")).rule);\n//执行预处理\n\n\nfor(var key in files){\n    log(key+\">\"+files[key]);\n    if(!fileExist(base_path+key)||!fetch(base_path+key)){\n            try{ \n            let filecode='';\nif(key.indexOf('.txt')>-1){\n   filecode=deal_path(files[key]); \n}else{\n    filecode=fetch(files[key]);\n}\nif(filecode){\n    writeFile(base_path+key,filecode);\n}\n            } \n            catch(e){\n                log(e.message);\n            }\n    }\n}\neval(fetch(getVar(\"js_dir\")));\nlog(\"APP影视预处理执行完毕\\n\"+getVar(\"js_dir\"));\napppre();"},{"col_type":"movie_3","name":"错误页","path":"error","rule":"js:\nd=[];\nd.push({\n    title:\"规则或插件错误，请把插件删了再试吧\",\n    col_type:\"text_center_1\",\n    url:\"hiker://empty\"\n});\nsetResult(d);"},{"col_type":"movie_3","name":"解析规则","path":"parseRule","rule":"js:\nputVar(\"now_file\",MY_URL.split(\"#\")[1]);\neval(fetch(getVar(\"js_dir\")));\ntry{\napphm();\nclearItem('error_num');\n}catch(e){\nlet files = JSON.parse(getVar('files'));\nvar rulejs = fetch(files[getVar('js_dir').replace(getVar('base_dir'),\"\")], {});\nlet error_num=parseInt(getItem('error_num',\"0\"))+1;\n//log(\"重试次数:\"+error_num);\nsetItem(\"error_num\",error_num+\"\");\nif(error_num<3){\n    writeFile(getVar('js_dir'), rulejs);\n    refreshPage(true);\n}else{\nlet tips='规则或插件错误，请把插件删了再试吧';\nconfirm({title:'错误提示', content:tips, confirm:$.toString(() => {\r\n            clearItem('error_num');\r\n            //refreshPage(true);\r\n        }), cancel:''});\neval(JSON.parse(fetch(\"hiker://page/error\")).rule);\n}\n}"}],"title":"app影视.dz","author":"道长","version":10,"url":"hiker://empty#fyAll","col_type":"movie_3","class_name":"道长app&M点佬","class_url":"道长app.txt&m点佬.txt","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\neval(JSON.parse(fetch(\"hiker://page/parseRule\")).rule);","searchFind":"js:\nlog(\"app影视搜索js:\\n\"+getVar(\"js_dir\"));\neval(fetch(getVar(\"js_dir\")));\napp_search();","search_url":"hiker://empty$$$**$$$fypage$$$","titleColor":"#ff673ab7","group":"②影搜","detail_col_type":"movie_1","detail_find_rule":"js:\neval(fetch(getVar(\"js_dir\")));\napp_ej();","sdetail_col_type":"movie_1","sdetail_find_rule":"js:\neval(fetch(getVar(\"js_dir\")));\napp_search_ej();","ua":"mobile","preRule":"eval(JSON.parse(fetch(\"hiker://page/beforeRule\")).rule)","pages":"[{\"col_type\":\"movie_3\",\"name\":\"处理m数据为采集格式\",\"path\":\"deal_data\",\"rule\":\"String.prototype.trim = function () { return this.replace(/(^\\\\s*)|(\\\\s*$)/g, \\\"\\\"); }\\nfunction deal_path(path){\\n    let back = fetch(path,{});\\n    try {\\n        back = JSON.parse(back);\\n        let datas = back.data;\\n        let applists = '';\\n        log('tab数:'+datas.length);\\n        for(var i in datas){\\n            let data = datas[i];\\n            log('data:'+data);\\n            let tmp = '#'+data.title+'\\\\n';\\n            let tma = [];\\n            for(var j=0;j<data.list.length;j++){\\n                let app = data.list[j];\\n                let tm = [app.title,app.url,app.img].join(',')+'\\\\n'\\n                tma.push(tm);\\n            }\\n            tmp+=tma.join('');\\n            tmp+='#\\\\n';\\n            applists+=tmp;\\n        }\\n        return applists.trim()\\n\\n    }catch (e) {\\n        return back\\n    }\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"预处理\",\"path\":\"beforeRule\",\"rule\":\"js:\\n//let myUrl=JSON.parse(getRule()).url;\\nconst base_path=\\\"hiker://files/rules/dzHouse/zyw/\\\";\\nconst house=\\\"http://hiker.nokia.press/hikerule/rulelist.json?id=\\\";\\nconst dz_zyw=\\\"http://hiker.nokia.press/hikerule/zyw_data/\\\";\\nconst dz_zyw_ver=\\\"http://hiker.nokia.press/hikerule/zyw_data_ver/\\\";\\nconst js_name=\\\"appmovie.js\\\";\\nconst txt_name=\\\"道长app.txt\\\";\\nputVar(\\\"base_dir\\\",base_path);\\nputVar(\\\"dz_zyw\\\",dz_zyw);\\nputVar(\\\"dz_zyw_ver\\\",dz_zyw_ver);\\nputVar(\\\"js_dir\\\",base_path+js_name);\\nputVar(\\\"txt_dir\\\",base_path+txt_name);\\nfiles={\\n    \\\"道长app.txt\\\":dz_zyw+\\\"5\\\",\\n   \\\"m点佬.txt\\\":\\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/APP影视列表\\\"\\n};\\nfiles[js_name]=house+\\\"1486\\\";\\nputVar(\\\"files\\\",files);\\nputVar(\\\"now_file\\\",\\\"道长app.txt\\\");\\n\\neval(JSON.parse(fetch(\\\"hiker://page/deal_data\\\")).rule);\\n//执行预处理\\n\\n\\nfor(var key in files){\\n    log(key+\\\">\\\"+files[key]);\\n    if(!fileExist(base_path+key)||!fetch(base_path+key)){\\n            try{ \\n            let filecode='';\\nif(key.indexOf('.txt')>-1){\\n   filecode=deal_path(files[key]); \\n}else{\\n    filecode=fetch(files[key]);\\n}\\nif(filecode){\\n    writeFile(base_path+key,filecode);\\n}\\n            } \\n            catch(e){\\n                log(e.message);\\n            }\\n    }\\n}\\neval(fetch(getVar(\\\"js_dir\\\")));\\nlog(\\\"APP影视预处理执行完毕\\\\n\\\"+getVar(\\\"js_dir\\\"));\\napppre();\"},{\"col_type\":\"movie_3\",\"name\":\"错误页\",\"path\":\"error\",\"rule\":\"js:\\nd=[];\\nd.push({\\n    title:\\\"规则或插件错误，请把插件删了再试吧\\\",\\n    col_type:\\\"text_center_1\\\",\\n    url:\\\"hiker://empty\\\"\\n});\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"解析规则\",\"path\":\"parseRule\",\"rule\":\"js:\\nputVar(\\\"now_file\\\",MY_URL.split(\\\"#\\\")[1]);\\neval(fetch(getVar(\\\"js_dir\\\")));\\ntry{\\napphm();\\nclearItem('error_num');\\n}catch(e){\\nlet files = JSON.parse(getVar('files'));\\nvar rulejs = fetch(files[getVar('js_dir').replace(getVar('base_dir'),\\\"\\\")], {});\\nlet error_num=parseInt(getItem('error_num',\\\"0\\\"))+1;\\n//log(\\\"重试次数:\\\"+error_num);\\nsetItem(\\\"error_num\\\",error_num+\\\"\\\");\\nif(error_num<3){\\n    writeFile(getVar('js_dir'), rulejs);\\n    refreshPage(true);\\n}else{\\nlet tips='规则或插件错误，请把插件删了再试吧';\\nconfirm({title:'错误提示', content:tips, confirm:$.toString(() => {\\r\\n            clearItem('error_num');\\r\\n            //refreshPage(true);\\r\\n        }), cancel:''});\\neval(JSON.parse(fetch(\\\"hiker://page/error\\\")).rule);\\n}\\n}\"}]","icon":""},{"last_chapter_rule":"js:\nfunction getDoubanRes(url) {\n    if (url.indexOf('apikey') === -1) {\n        url += (url.indexOf('?') === -1 ? '?' : '&') + \"apikey=0dad551ec0f84ed02907ff5c42e8ec70\"\n    }\n    let s = fetch(url, {\n        headers: {\n            \"User-Agent\": \"Rexxar-Core/0.1.3 api-client/1 com.douban.frodo/7.9.0.beta2(215) Android/25 product/TAS-AL00 vendor/HUAWEI model/TAS-AL00  rom/android  network/wifi  platform/mobile com.douban.frodo/7.9.0.beta2(215) Rexxar/1.2.151  platform/mobile 1.2.151\"\n        },\n        method: 'POST',\n        body: 'host=frodo.douban.com'\n    });\n    return JSON.parse(s);\n}\nlet type = getParam('type', ''),\n    id = getParam('id', ''),\n    title = getParam('title', '');\nlet res = getDoubanRes(\"https://frodo.douban.com/api/v2/\" + type + \"/\" + id);\nlet update = \"\";\nif (title == '') {\n    let length = res.vendors.length;\n    update += length > 0 ? '共' + length + '个片源' : '暂无片源';\n    if (length > 0) {\n        let e = res.vendors[0];\n        update += e.episodes_info ? \"|\" + e.episodes_info : \"\";\n    }\n} else {\n    for (let e of res.vendors) {\n        if (e.title == title) {\n            update += e.episodes_info ? e.episodes_info : \"\";\n            break;\n        }\n    }\n}\nsetResult(update);","pageList":[{"col_type":"movie_3","name":"配置编辑界面","path":"setting-editor","rule":"js:\neval(request(getVar('qdb_file')))\nlet d = [];\nlet configType = getVar(\"input_config_type\")\nif (configType === '解析插件配置') {\n    setPageTitle(\"编辑解析代码\")\n    analysisModeEditPage(d)\n} else if (configType === '影片详情页面配置') {\n    setPageTitle(\"编辑影片详情页面代码\")\n    detailViewModeEditPage(d)\n} else {\n    setError('错误的配置');\n}\nsetResult(d)"},{"col_type":"movie_3","name":"解除被封ip","path":"releaseIP","rule":"js:\nlet id = getParam('id');\nlet d = [];\nd.push({\n    title: '您已被封禁IP地址或触发了人机验证，请按照以下步骤处理(如不处理您将在一段时间内无法正常获取剧集列表)',\n    url: 'hiker://empty',\n    col_type: 'text_1'\n});\nd.push({\n    title: '1.点击此处导入自动获取Cookie插件',\n    url: $()\n        .lazyRule(() => {\n            let getDoubanCookie = \"(function(){if(window['location']['host']=='www.douban.com'){fy_bridge_app['writeFile']('hiker://files/cache/doubancookie.txt',fy_bridge_app['getCookie']('https://www.douban.com/'));}if(window['location']['host']=='m.douban.com'){fy_bridge_app['writeFile']('hiker://files/cache/doubancookie.txt',fy_bridge_app['getCookie']('https://m.douban.com/'));}}());\"\n            if (!fileExist('hiker://files/cache/global_getDoubanCookie.js')) {\n                writeFile('hiker://files/cache/global_getDoubanCookie.js', getDoubanCookie);\n            };\n            return 'rule://' + base64Encode('海阔视界，网页插件￥js_url￥global_getDoubanCookie@hiker://files/cache/global_getDoubanCookie.js');\n        }),\n    col_type: 'text_1'\n});\nd.push({\n    title: '2.点击此处进入网页进行登录或人机验证，完成后返回此页面',\n    url: 'https://movie.douban.com/subject/' + id + '/',\n    col_type: 'text_1'\n});\nd.push({\n    title: '3.完成登录或人机验证后返回影片详情页面重新进入',\n    url: 'hiker://empty',\n    col_type: 'text_1'\n});\nsetResult(d)"},{"col_type":"movie_3","name":"抢救页面","path":"urgencyMode","rule":"js:\nlet d = [];\nd.push({\n    title: '很明显,出了一些小问题,建议重生',\n    col_type: 'text_center_1'\n})\nd.push({\n    title: '点我更新依赖',\n    col_type: 'text_1',\n    url: $('hiker://empty')\n        .lazyRule(() => {\n            let file = \"hiker://files/rules/joker/qdb.js\";\n            let gitfile = 'http://hiker.nokia.press/hikerule/rulelist.json?id=1564';\n            let text = fetch(gitfile);\n            writeFile(file, text);\n            //back(true);\n            return 'toast://依赖文件更新成功'\n        })\n})\nd.push({\n    title: '点我恢复默认设置',\n    col_type: 'text_1',\n    url: $(\"确定要恢复？\")\n        .confirm(() => {\n            let defaultConfigs = {\n                quickSearchConfigs: {\n                    order: []\n                },\n                detailsViewConfigs: {\n                    use: \"默认\",\n                    \"默认\": {\n                        config: \"eval(fetch(getVar('qdb_file')));detailsView(type, id);\"\n                    }\n                },\n                analysisConfigs: {\n                    use: \"不解析\",\n                    \"不解析\": {\n                        config: $.toString(() => {\n                            return input;\n                        }),\n                        setting: $.toString(() => {\n                            return \"toast://该插件无设置页面\";\n                        })\n                    },\n                    \"断插\": {\n                        config: $.toString(() => {\n                            let conf = fetch('hiker://files/cache/MyParseSet.json');\n                            let jsUrl = 'https://code.aliyun.com/AI957/Hiker/raw/master/v/CloudParse-V2_Dn.js';\n                            if (conf && fetch(JSON.parse(conf)\n                                    .cj)) {\n                                jsUrl = JSON.parse(conf)\n                                    .cj;\n                            }\n                            eval(fetch(jsUrl));\n                            return aytmParse(input);\n                        }),\n                        setting: $.toString(() => {\n                            let conf = fetch('hiker://files/cache/MyParseSet.json');\n                            let jsUrl = 'https://code.aliyun.com/AI957/Hiker/raw/master/v/CloudParse-V2_Dn.js';\n                            if (conf && fetch(JSON.parse(conf)\n                                    .cj)) {\n                                jsUrl = JSON.parse(conf)\n                                    .cj;\n                            }\n                            eval(fetch(jsUrl));\n                            return setUrl;\n                        })\n                    }\n                }\n            }\n            writeFile(getVar('qdb_config'), JSON.stringify(defaultConfigs));\n            refreshPage();\n            return \"toast://已恢复默认设置\";\n        })\n})\nd.push({\n    title: '若重生不起作用,点我复制错误信息提交给开发者',\n    col_type: 'text_1',\n    url: 'copy://' + e.message\n})\nsetResult(d);"},{"col_type":"movie_3","name":"顺佬专用详情页","path":"Sdetail","rule":"js:\nputVar('qdb_file', 'hiker://files/rules/joker/qdb.js');\neval(fetch(getVar(\"qdb_file\")));\npre();\nlet type = getParam('type', ''),\n    id = getParam('id', '');\ndetailsView(type, id);"}],"title":"青豆","author":"Joker&&Reborn","version":8,"url":"hiker://empty/","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nlet forceUrgencyMode = 0\nif (forceUrgencyMode) {\n    let e = '当前为强制急救模式'\n    let rule = JSON.parse(request(\"hiker://page/urgencyMode\")).rule;\n    eval(rule)\n} else {\n    try {\n        eval(fetch(getVar(\"qdb_file\")));\n        home();\n    } catch (e) {\n        let rule = JSON.parse(request(\"hiker://page/urgencyMode\")).rule;\n        eval(rule)\n    }\n}","searchFind":"js:\ntry {\n    eval(fetch(getVar(\"qdb_file\")));\n    search();\n} catch (e) {\n    let rule = JSON.parse(request(\"hiker://page/urgencyMode\")).rule;\n    eval(rule)\n}","search_url":"hiker://empty/$page{fypage}/#/**","titleColor":"","group":"②影搜","detail_col_type":"movie_1_vertical_pic","detail_find_rule":"js:\ntry {\n    eval(fetch(getVar(\"qdb_file\")));\n    erji();\n} catch (e) {\n    let rule = JSON.parse(request(\"hiker://page/urgencyMode\")).rule;\n    eval(rule)\n}","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"let file = \"hiker://files/rules/joker/qdb.js\";\nlet gitfile = 'http://hiker.nokia.press/hikerule/rulelist.json?id=1564';\nif (!fetch(file)) {\n    writeFile(file, fetch(gitfile));\n}\nputVar({\n    key: \"qdb_file\",\n    value: file\n});\ntry {\n    eval(fetch(file));\n    pre();\n} catch (e) {\n    let rule = JSON.parse(request(\"hiker://page/urgencyMode\")).rule;\n    eval(rule)\n}","pages":"[{\"col_type\":\"movie_3\",\"name\":\"配置编辑界面\",\"path\":\"setting-editor\",\"rule\":\"js:\\neval(request(getVar('qdb_file')))\\nlet d = [];\\nlet configType = getVar(\\\"input_config_type\\\")\\nif (configType === '解析插件配置') {\\n    setPageTitle(\\\"编辑解析代码\\\")\\n    analysisModeEditPage(d)\\n} else if (configType === '影片详情页面配置') {\\n    setPageTitle(\\\"编辑影片详情页面代码\\\")\\n    detailViewModeEditPage(d)\\n} else {\\n    setError('错误的配置');\\n}\\nsetResult(d)\"},{\"col_type\":\"movie_3\",\"name\":\"解除被封ip\",\"path\":\"releaseIP\",\"rule\":\"js:\\nlet id = getParam('id');\\nlet d = [];\\nd.push({\\n    title: '您已被封禁IP地址或触发了人机验证，请按照以下步骤处理(如不处理您将在一段时间内无法正常获取剧集列表)',\\n    url: 'hiker://empty',\\n    col_type: 'text_1'\\n});\\nd.push({\\n    title: '1.点击此处导入自动获取Cookie插件',\\n    url: $()\\n        .lazyRule(() => {\\n            let getDoubanCookie = \\\"(function(){if(window['location']['host']=='www.douban.com'){fy_bridge_app['writeFile']('hiker://files/cache/doubancookie.txt',fy_bridge_app['getCookie']('https://www.douban.com/'));}if(window['location']['host']=='m.douban.com'){fy_bridge_app['writeFile']('hiker://files/cache/doubancookie.txt',fy_bridge_app['getCookie']('https://m.douban.com/'));}}());\\\"\\n            if (!fileExist('hiker://files/cache/global_getDoubanCookie.js')) {\\n                writeFile('hiker://files/cache/global_getDoubanCookie.js', getDoubanCookie);\\n            };\\n            return 'rule://' + base64Encode('海阔视界，网页插件￥js_url￥global_getDoubanCookie@hiker://files/cache/global_getDoubanCookie.js');\\n        }),\\n    col_type: 'text_1'\\n});\\nd.push({\\n    title: '2.点击此处进入网页进行登录或人机验证，完成后返回此页面',\\n    url: 'https://movie.douban.com/subject/' + id + '/',\\n    col_type: 'text_1'\\n});\\nd.push({\\n    title: '3.完成登录或人机验证后返回影片详情页面重新进入',\\n    url: 'hiker://empty',\\n    col_type: 'text_1'\\n});\\nsetResult(d)\"},{\"col_type\":\"movie_3\",\"name\":\"抢救页面\",\"path\":\"urgencyMode\",\"rule\":\"js:\\nlet d = [];\\nd.push({\\n    title: '很明显,出了一些小问题,建议重生',\\n    col_type: 'text_center_1'\\n})\\nd.push({\\n    title: '点我更新依赖',\\n    col_type: 'text_1',\\n    url: $('hiker://empty')\\n        .lazyRule(() => {\\n            let file = \\\"hiker://files/rules/joker/qdb.js\\\";\\n            let gitfile = 'http://hiker.nokia.press/hikerule/rulelist.json?id=1564';\\n            let text = fetch(gitfile);\\n            writeFile(file, text);\\n            //back(true);\\n            return 'toast://依赖文件更新成功'\\n        })\\n})\\nd.push({\\n    title: '点我恢复默认设置',\\n    col_type: 'text_1',\\n    url: $(\\\"确定要恢复？\\\")\\n        .confirm(() => {\\n            let defaultConfigs = {\\n                quickSearchConfigs: {\\n                    order: []\\n                },\\n                detailsViewConfigs: {\\n                    use: \\\"默认\\\",\\n                    \\\"默认\\\": {\\n                        config: \\\"eval(fetch(getVar('qdb_file')));detailsView(type, id);\\\"\\n                    }\\n                },\\n                analysisConfigs: {\\n                    use: \\\"不解析\\\",\\n                    \\\"不解析\\\": {\\n                        config: $.toString(() => {\\n                            return input;\\n                        }),\\n                        setting: $.toString(() => {\\n                            return \\\"toast://该插件无设置页面\\\";\\n                        })\\n                    },\\n                    \\\"断插\\\": {\\n                        config: $.toString(() => {\\n                            let conf = fetch('hiker://files/cache/MyParseSet.json');\\n                            let jsUrl = 'https://code.aliyun.com/AI957/Hiker/raw/master/v/CloudParse-V2_Dn.js';\\n                            if (conf && fetch(JSON.parse(conf)\\n                                    .cj)) {\\n                                jsUrl = JSON.parse(conf)\\n                                    .cj;\\n                            }\\n                            eval(fetch(jsUrl));\\n                            return aytmParse(input);\\n                        }),\\n                        setting: $.toString(() => {\\n                            let conf = fetch('hiker://files/cache/MyParseSet.json');\\n                            let jsUrl = 'https://code.aliyun.com/AI957/Hiker/raw/master/v/CloudParse-V2_Dn.js';\\n                            if (conf && fetch(JSON.parse(conf)\\n                                    .cj)) {\\n                                jsUrl = JSON.parse(conf)\\n                                    .cj;\\n                            }\\n                            eval(fetch(jsUrl));\\n                            return setUrl;\\n                        })\\n                    }\\n                }\\n            }\\n            writeFile(getVar('qdb_config'), JSON.stringify(defaultConfigs));\\n            refreshPage();\\n            return \\\"toast://已恢复默认设置\\\";\\n        })\\n})\\nd.push({\\n    title: '若重生不起作用,点我复制错误信息提交给开发者',\\n    col_type: 'text_1',\\n    url: 'copy://' + e.message\\n})\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"顺佬专用详情页\",\"path\":\"Sdetail\",\"rule\":\"js:\\nputVar('qdb_file', 'hiker://files/rules/joker/qdb.js');\\neval(fetch(getVar(\\\"qdb_file\\\")));\\npre();\\nlet type = getParam('type', ''),\\n    id = getParam('id', '');\\ndetailsView(type, id);\"}]","icon":"https://gitee.com/Joker_tx/hiker/raw/master/img/青豆.png"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"香资搜","author":"香雅情","version":4,"url":"https://v.sogou.com/api/video/result?order=&style=&zone=&year=fyyear&req=class&entity=fyclass&page=fypage&pagesize=30","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"film&teleplay&tvshow&cartoon","area_name":"","area_url":"","sort_name":"","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","sort_url":"","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","find_rule":"js:\nvar res = {};\nvar items = [];\n//var pg = MY_URL.match(/page\\=(.*?)\\&pagesize/)[1];\n//if (pg == '1') {\n    items.push({\n        title: \"资源网搜\",\n        url: $.toString(() => {\n            var link = 'hiker://empty$$$?wd=' + input + '&pg=1&ac=list$$$fypage';\n            //log(link);\n            return $(link).rule(() => {\n                eval(fetch('hiker://files/rules/xyq/zywcj.js'));\n                zywsea()\n               \n            });\n        }),\n        desc: \"请输入搜索关键词\",\n        col_type: \"input\"\n    });\n//}\nvar html = JSON.parse(getResCode());\nvar list = html.longVideo.results;\n\nfor (var i = 0; i < list.length; i++) {\n    var title = list[i].name;\n    var img = list[i].v_picurl;\n    var desc = list[i].score;\n    items.push({\n        title: title,\n        pic_url: img,\n        url: $('hiker://empty$$$hiker://files/rules/xyq/hikermovie.json$$$' + title.replace(/[\\s]/g, '') + '$$$fypage$$$').rule(() => {\n            eval(fetch('hiker://files/rules/xyq/hikermovie.js'));\n            hiksearch();\n        }),\n        desc: desc\n    });\n}\n\nres.data = items;\nsetHomeResult(res);","searchFind":"js:\neval(fetch('hiker://files/rules/xyq/hikermovie.js'));hiksearch();","search_url":"hiker://empty$$$hiker://files/rules/xyq/hikermovie.json$$$**$$$fypage$$$","titleColor":"#fff20c00","group":"②影搜","detail_col_type":"text_2","detail_find_rule":"","sdetail_col_type":"text_2","sdetail_find_rule":"","ua":"mobile","preRule":"//执行香情影视预处理\nvar lac = fetch('hiker://files/rules/xyq/hikermovie.js');\nif (lac.search(/lazyRule/)!=-1) {\n    eval(lac);\n    hikerpre();\n} else {\n    setError('香情影视规则不完整请尝试切换到香情影视检查。');\n}","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"JSON接口数据","path":"ResCode","rule":"{\n    \"data\": [{\n            \"title\": \"APP影视\",\n            \"list\": [{\n                    \"title\": \"007影视\",\n                    \"url\": \"https://www.007ts.cc/api.php/app/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/零零七影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"555电影\",\n                    \"url\": \"http://w7tv.com/api.php/app/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/555电影.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"5060影院\",\n                    \"url\": \"https://app.linzhiyuan.xyz/xgapp.php/v1/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/5060影院.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"913e影视\",\n                    \"url\": \"http://www.913e.net/xgapp.php/v1/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/913E影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"F7影视\",\n                    \"url\": \"http://v.zq1080.cc/api.php/app/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/F7影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"one影视\",\n                    \"url\": \"http://www.onedianshi.com/api.php/app/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/ONE影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"vip影院\",\n                    \"url\": \"http://360yy.cn/xgapp.php/v1/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/VIP影院xg.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"爱尚影视\",\n                    \"url\": \"https://www.aisvod.tv/xgapp.php/v1/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/爱尚影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"爱影吧\",\n                    \"url\": \"http://www.ayinb.com/api.php/app/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/爱影吧.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"播放呀\",\n                    \"url\": \"https://www.bofangya.com/xgapp.php/v1/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/播放呀.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"畅视影视\",\n                    \"url\": \"http://app.reboju.net/api.php/app/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/畅视影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"迪迪影院\",\n                    \"url\": \"http://dd88.icu:6080/api.php/app/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/迪迪影院.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"嘀哩嘀哩\",\n                    \"url\": \"https://diliktv.xyz/xgapp.php/v1/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/嘀哩嘀哩.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"大师兄\",\n                    \"url\": \"https://hou.lu/api.php/app/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/大师兄影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"段友影视\",\n                    \"url\": \"https://lb.5277s.com/api.php/app/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/段友影视©.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"飞英视频\",\n                    \"url\": \"http://v.phoves.com.cn/xgapp.php/v1/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/飞英视频.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"瓜皮TV\",\n                    \"url\": \"http://www.dijiaxia.com/xgapp.php/v1/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/瓜皮TV.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"海胆影视\",\n                    \"url\": \"http://xf123.cc/api.php/app/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/海胆影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"火箭影视\",\n                    \"url\": \"http://huojian.wchulian.com.cn/api.php/app/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/火箭影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"海绵影视\",\n                    \"url\": \"http://app1.yuzhouys.com/api.php/app/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/海绵影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"海棠视频\",\n                    \"url\": \"https://www.haitangsp.net/xgapp.php/v1/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/海棠视频.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"京广航\",\n                    \"url\": \"https://www.jingguanhang.com/api.php/app/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/京广航影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"九合视频\",\n                    \"url\": \"https://ptygx.com/api.php/app/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/九合视频.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"久九影视\",\n                    \"url\": \"https://api.58qxk.cn/xgapp.php/v1/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/久九影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"灵狐影视\",\n                    \"url\": \"http://x.dmntv.com/api.php/app/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/灵狐影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"琳琅影视\",\n                    \"url\": \"https://www.u23c.com/api.php/app/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/琳琅影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"极乐阁\",\n                    \"url\": \"https://vip.wuqcms.com/api.php/app/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/极乐阁.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"抹茶猪\",\n                    \"url\": \"https://www.mczdyw.com/xgapp.php/v1/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/抹茶猪电影.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"萌蛋蛋\",\n                    \"url\": \"http://app.mengdandan.com/xgapp.php/v1/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/萌蛋蛋.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"迷你库\",\n                    \"url\": \"http://www.miniku.cc/api.php/app/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/迷你库.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"皮皮影视\",\n                    \"url\": \"http://pp.ig4.cn/xgapp.php/v1/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/皮皮影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"氢视频\",\n                    \"url\": \"http://h1080p.com/api.php/app/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/氢视频.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"思古影视\",\n                    \"url\": \"https://app.siguyy.com/xgapp.php/v1/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/思古影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"神马影院\",\n                    \"url\": \"https://www.6080kan.cc/xgapp.php/v1/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/神马影院.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"双十电影\",\n                    \"url\": \"http://www.shoujikandianying.com/api.php/app/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/双十电影.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"糖果影视\",\n                    \"url\": \"https://www.tgys.tv/api.php/app/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/糖果影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"天空影视\",\n                    \"url\": \"https://www.tkys.tv/api.php/app/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/天空影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"污妖动漫\",\n                    \"url\": \"https://www.wyydm.com/api.php/app/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/污妖动漫.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"星空影视\",\n                    \"url\": \"https://xkys.tv/xgapp.php/v1/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/星空影视xg.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"小强TV\",\n                    \"url\": \"http://xqapp.hailanfj.com/xgapp.php/v1/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/小强TV.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"雪人影视\",\n                    \"url\": \"http://qqtvapp.com/xgapp.php/v1/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/雪人影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"小易影视\",\n                    \"url\": \"https://xy.irop.cn/api.php/app/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/小易影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"影视工场\",\n                    \"url\": \"https://www.ik4.cc/api.php/app/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/影视工场.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"追剧达人\",\n                    \"url\": \"http://vipmv.tv/xgapp.php/v1/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/追剧达人.png\",\n                    \"murl\": \"q:APP影视\"\n                }\n            ]\n        },\n        {\n            \"title\": \"APP影视(v1)\",\n            \"list\": [{\n                    \"title\": \"720看片\",\n                    \"url\": \"https://tvd.720kp.cn/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/720看片.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"80影视\",\n                    \"url\": \"http://www.ccc8.net/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/80影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"80K影视\",\n                    \"url\": \"https://1080p.tv/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/80K影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"CJT影院\",\n                    \"url\": \"https://www.cjt521.com/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/CJT影院.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"HG影视\",\n                    \"url\": \"http://cs.hgyx.vip/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/HG影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"U5影视\",\n                    \"url\": \"https://appx.uy07.com/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/U5影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"VIP影视\",\n                    \"url\": \"http://www.sp.ooo/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/VIP影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"yoyo\",\n                    \"url\": \"http://jx.wnvod.net/ruifenglb_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/yoyo影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"爱影视\",\n                    \"url\": \"https://www.hzlff.cn/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/爱影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"爱看美剧\",\n                    \"url\": \"https://www.uumjw.com/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/爱看美剧.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"艾特影视\",\n                    \"url\": \"https://www.aitee.cc/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/艾特影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"爱西西\",\n                    \"url\": \"http://app.aixixi.vip/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/爱西西影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"阿姨追剧\",\n                    \"url\": \"http://www.77ysdy.com/ruifenglb_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/阿姨追剧2.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"白菜追剧\",\n                    \"url\": \"http://lbapp.huimaojia.com:30119/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/白菜追剧.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"比邻影视\",\n                    \"url\": \"http://0hzy.cn:9990/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/比邻影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"百讯视频\",\n                    \"url\": \"https://z.iopenyun.com:99/app_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/百讯视频.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"菜鸟动漫\",\n                    \"url\": \"http://taikong.huangguay.com/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/菜鸟动漫.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"畅优视界\",\n                    \"url\": \"http://app.518imo.cn/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/畅优视界.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"初心影视\",\n                    \"url\": \"https://www.18mv.club/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/初心影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"锤子追剧\",\n                    \"url\": \"http://www.jjsvip.cc/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/锤子追剧.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"多多影视\",\n                    \"url\": \"https://sp.9aeng.com/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/多多影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"大海影视\",\n                    \"url\": \"http://119.29.63.137/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/大海影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"东南影院\",\n                    \"url\": \"https://ys.dabih.cn/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/东南影院.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"大熊影视\",\n                    \"url\": \"https://dxys3355.com/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/大熊影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"段友影视\",\n                    \"url\": \"http://js.66app.me/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/段友影视2.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"段友影视\",\n                    \"url\": \"https://shangjihuoke.com/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/段友影视3.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"二狗电影\",\n                    \"url\": \"http://app.hetaoys.vip/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/二狗电影.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"风车影视\",\n                    \"url\": \"http://www.feifan123.xyz/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/风车影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"飞捷影视\",\n                    \"url\": \"https://www.fj6080.com/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/飞捷影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"疯狂看\",\n                    \"url\": \"http://app.fkkdy.vip/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/疯狂看电影.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"公主影视\",\n                    \"url\": \"http://mm.tcsdchina.com:6096/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/公主影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"辉哥影视\",\n                    \"url\": \"https://app.y.hgyule8.com/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/辉哥影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"黄河影视\",\n                    \"url\": \"http://i.ledu8.cn/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/黄河影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"黑马动漫\",\n                    \"url\": \"http://lkan.vip/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/黑马动漫.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"黑马影视\",\n                    \"url\": \"http://www.lkan.vip/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/黑马影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"盒子影院\",\n                    \"url\": \"http://i.nihaohezi.com/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/盒子影院.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"筋斗云\",\n                    \"url\": \"https://tv.jindcloud.com/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/筋斗云影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"极简影视\",\n                    \"url\": \"https://tv.areone.top/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/极简影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"久久追剧\",\n                    \"url\": \"http://bc.bhtv.org.cn/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/久久追剧.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"剧迷视频\",\n                    \"url\": \"http://pan.hzafw.com/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/剧迷视频.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"橘子影视\",\n                    \"url\": \"http://jz.juzidy.vip/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/橘子影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"看剧吧\",\n                    \"url\": \"http://app.ishen520.com/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/看剧吧.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"可米影视\",\n                    \"url\": \"http://www.kmysw.vip/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/可米影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"阔贼影院\",\n                    \"url\": \"https://www.itvaa.com/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/阔贼影院.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"快云影音\",\n                    \"url\": \"https://k.ptygx.com/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/快云影音.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"蓝光视频\",\n                    \"url\": \"http://vip.91iqiyi.com/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/蓝光视频.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"林谷影视\",\n                    \"url\": \"http://ys.linguyy.xyz/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/林谷影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"绿箭影视\",\n                    \"url\": \"http://www.69ty.cc/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/绿箭影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"乐看视频\",\n                    \"url\": \"http://www.lkan.vip/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/乐看视频.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"冷视TV\",\n                    \"url\": \"https://len.tv/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/冷视TV.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"木白影视\",\n                    \"url\": \"http://vapp.23at.cn/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/木白影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"美剧虫\",\n                    \"url\": \"https://meijuchong.com/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/美剧虫.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"喵乐影视\",\n                    \"url\": \"http://miaoleys.com/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/喵乐影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"麻腾TV\",\n                    \"url\": \"https://www.matengtv.top/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/麻腾TV.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"喵影影视\",\n                    \"url\": \"http://www.mxmbk.xyz/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/喵影影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"木子电影\",\n                    \"url\": \"http://www.muzidy.top/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/木子电影.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"麻子追剧\",\n                    \"url\": \"http://b.2maz.cn/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/麻子追剧.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"奈非迷\",\n                    \"url\": \"https://app.netflixmi.com/ruifenglb_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/奈非迷影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"南府影视\",\n                    \"url\": \"http://nfapi.xkvideo.club/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/南府影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"暖光影视\",\n                    \"url\": \"https://app.bl210.com/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/暖光影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"内涵影视\",\n                    \"url\": \"http://v.nhdyys.cn/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/内涵影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"皮皮动漫\",\n                    \"url\": \"http://dm.muying.me/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/皮皮动漫.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"皮影视\",\n                    \"url\": \"http://app.piyingshi.com/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/皮影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"全能影视\",\n                    \"url\": \"https://qnys5566.com/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/全能影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"奇趣影视\",\n                    \"url\": \"https://app.qiqu.me/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/奇趣影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"骑士影院\",\n                    \"url\": \"https://app.qishi.xyz/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/骑士影院.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"人人动漫\",\n                    \"url\": \"http://man.jjsvip.cc/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/人人动漫.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"神马影视\",\n                    \"url\": \"http://xin.jjsvip.cc/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/神马影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"思奇影视\",\n                    \"url\": \"http://app.siqitv.vip/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/思奇影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"视听星球\",\n                    \"url\": \"http://zjyapijzys.shynwlkj.com/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/视听星球.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"手指影视\",\n                    \"url\": \"http://szys3355.com/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/手指影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"土豆TV\",\n                    \"url\": \"http://xiuxian.qd234.cn/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/土豆TV.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"淘剧社\",\n                    \"url\": \"https://app.shuhai99.com/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/淘剧社.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"天空影视\",\n                    \"url\": \"https://tv.51aizn.com/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/天空影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"天天影视\",\n                    \"url\": \"http://app.at008.cn/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/天天影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"天天视频\",\n                    \"url\": \"http://app.qianju.cc/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/天天视频.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"团夕影院\",\n                    \"url\": \"http://119.29.121.48/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/团夕影院.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"兔子窝\",\n                    \"url\": \"http://cj.huimaojia.com:12345/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/兔子窝.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"我爱跟剧\",\n                    \"url\": \"https://www.genmov.com/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/我爱跟剧.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"吾爱影视\",\n                    \"url\": \"http://app.5lp.net/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/吾爱影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"蜗牛看鸭\",\n                    \"url\": \"http://movie.96keji.cn/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/蜗牛看鸭.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"蜗牛动漫\",\n                    \"url\": \"http://woniudm.woniu.cyou:20000/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/蜗牛动漫.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"小城影视\",\n                    \"url\": \"https://www.269w.com/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/小城影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"先锋视频\",\n                    \"url\": \"https://58xtv.net/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/先锋视频.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"小极影视\",\n                    \"url\": \"http://api.xiaoysw.com/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/小极影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"星空影视\",\n                    \"url\": \"http://xiongkongwx.cn/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/星空影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"熊猫动漫\",\n                    \"url\": \"http://dongman.k8aa.com/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/熊猫动漫.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"玺娜影视\",\n                    \"url\": \"https://pp.wxina.cn/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/玺娜影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"小蜻蜓\",\n                    \"url\": \"http://3ketv.com/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/小蜻蜓视频.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"雪人资源\",\n                    \"url\": \"https://zy.qd234.cn/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/雪人资源站.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"星影相随\",\n                    \"url\": \"http://app.rootthree.top/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/星影相随.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"小易影视\",\n                    \"url\": \"http://xy.irop.cn/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/小易影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"星月追剧\",\n                    \"url\": \"http://xingyuezhuiju.com/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/星月追剧.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"益达影院\",\n                    \"url\": \"http://luobu.yss6080.com/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/益达影院.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"元芳影视\",\n                    \"url\": \"http://yfys1122.com/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/元芳影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"雨果影视\",\n                    \"url\": \"http://ygapp.xcys63.com/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/雨果影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"樱花动漫\",\n                    \"url\": \"https://www.dmwu.cc/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/樱花动漫.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"颖家影院\",\n                    \"url\": \"http://zly.xjqxz.top/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/颖家影院.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"月亮影视\",\n                    \"url\": \"http://www.13tv.top/acj_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/月亮影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"影视大全\",\n                    \"url\": \"https://xc.xixi2yy.xyz/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/影视大全HD.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"影视热剧\",\n                    \"url\": \"http://lb.26ys.cn/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/影视热剧.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"月色影视\",\n                    \"url\": \"http://69ty.cc/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/月色影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"杨桃影视\",\n                    \"url\": \"http://ytys1122.com/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/杨桃影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"影阅阁\",\n                    \"url\": \"http://221.236.18.12:665/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/影阅阁.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"渔渔影视\",\n                    \"url\": \"http://luobo.yugenye.site/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/渔渔影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"优优影院\",\n                    \"url\": \"http://xs.78tv.cc/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/优优影院.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"一只鱼\",\n                    \"url\": \"http://www.bd-4k.ml/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/一只鱼影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"追番猫\",\n                    \"url\": \"http://dm.496dy.cn:88/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/追番猫.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"宅男影院\",\n                    \"url\": \"http://www.sexyy.top/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/宅男影院.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"侦探影视\",\n                    \"url\": \"http://ys.huangguay.com/mogai_api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/侦探影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"追影兔\",\n                    \"url\": \"http://longw.xyz:91/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/追影兔.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"猪猪影院\",\n                    \"url\": \"http://app.2zdyy.com/api.php/v1.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/猪猪影院.png\",\n                    \"murl\": \"q:APP影视\"\n                }\n            ]\n        },\n        {\n            \"title\": \"APP影视(tv)\",\n            \"list\": [{\n                    \"title\": \"555TV\",\n                    \"url\": \"http://tv.gxhshyy.com/api.php/gctvapi.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/555TV.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"720看片\",\n                    \"url\": \"https://tvd.720kp.cn/api.php/tv.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/720看片TV.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"段友影视\",\n                    \"url\": \"https://shangjihuoke.com/api.php/tv.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/段友影视TV.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"可米影视\",\n                    \"url\": \"http://www.kmysw.vip/api.php/tv.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/可米影视.png\",\n                    \"murl\": \"q:APP影视\"\n                },\n                {\n                    \"title\": \"奈非迷TV\",\n                    \"url\": \"https://app.netflixmi.com/api.php/tv.vod\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/奈非迷TV.png\",\n                    \"murl\": \"q:APP影视\"\n                }\n            ]\n        },\n        {\n            \"title\": \"TV影视\",\n            \"list\": [{\n                    \"title\": \"2号币\",\n                    \"url\": \"http://phoebe.cf/api.php/iptv/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/2号币影院.png\",\n                    \"murl\": \"q:TV影视\"\n                },\n                {\n                    \"title\": \"F7影院\",\n                    \"url\": \"http://mtv.haokanju1.cc/api.php/Chengcheng/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/F7影院.png\",\n                    \"murl\": \"q:TV影视\"\n                },\n                {\n                    \"title\": \"HG影视\",\n                    \"url\": \"http://api.hgyx.vip/api.php/iptv/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/HG影视.png\",\n                    \"murl\": \"q:TV影视\"\n                },\n                {\n                    \"title\": \"傲视影院\",\n                    \"url\": \"http://j.zjj.life:88/mv/api.php/Chengcheng/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/傲视影院.png\",\n                    \"murl\": \"q:TV影视\"\n                },\n                {\n                    \"title\": \"爱西西TV\",\n                    \"url\": \"http://tv.aixixi.vip/api.php/iptv/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/爱西西TV.png\",\n                    \"murl\": \"q:TV影视\"\n                },\n                {\n                    \"title\": \"尘梓TV\",\n                    \"url\": \"http://cztv.vip:83/api.php/chenziystv/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/尘梓TV.png\",\n                    \"murl\": \"q:TV影视\"\n                },\n                {\n                    \"title\": \"稻草人TV\",\n                    \"url\": \"http://www.zhaikanys.xyz/api.php/iptv1/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/稻草人TV.png\",\n                    \"murl\": \"q:TV影视\"\n                },\n                {\n                    \"title\": \"嘀哩嘀哩\",\n                    \"url\": \"https://api.diliktv.xyz/api.php/Chengcheng/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/嘀哩嘀哩TV.png\",\n                    \"murl\": \"q:TV影视\"\n                },\n                {\n                    \"title\": \"动力影视\",\n                    \"url\": \"http://www.love9989.com/api.php/iptv/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/动力影视.png\",\n                    \"murl\": \"q:TV影视\"\n                },\n                {\n                    \"title\": \"大师兄\",\n                    \"url\": \"http://dsxtv.tv.ci/api.php/dsx/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/大师兄影视.png\",\n                    \"murl\": \"q:TV影视\"\n                },\n                {\n                    \"title\": \"风车影视\",\n                    \"url\": \"http://www.feifan123.xyz/api.php/iptv/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/风车影视.png\",\n                    \"murl\": \"q:TV影视\"\n                },\n                {\n                    \"title\": \"疯狂看TV\",\n                    \"url\": \"http://tv.fkkdy.vip/api.php/iptv/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/疯狂看TV.png\",\n                    \"murl\": \"q:TV影视\"\n                },\n                {\n                    \"title\": \"火箭影视\",\n                    \"url\": \"http://293.0759.fit:8/c/api.php/WAiLaowang/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/火箭影视.png\",\n                    \"murl\": \"q:TV影视\"\n                },\n                {\n                    \"title\": \"黑龙影视\",\n                    \"url\": \"http://vip.ji-ding-he.site/api.php/iptv/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/黑龙影视.png\",\n                    \"murl\": \"q:TV影视\"\n                },\n                {\n                    \"title\": \"红牛TV\",\n                    \"url\": \"http://bbb.056158.com/api.php/iptv/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/红牛TV.png\",\n                    \"murl\": \"q:TV影视\"\n                },\n                {\n                    \"title\": \"核桃影视\",\n                    \"url\": \"http://tv.hetaoys.vip/api.php/iptv/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/核桃影视.png\",\n                    \"murl\": \"q:TV影视\"\n                },\n                {\n                    \"title\": \"聚多影视\",\n                    \"url\": \"http://jdys.weetai.cn/api.php/iptv/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/聚多影视.png\",\n                    \"murl\": \"q:TV影视\"\n                },\n                {\n                    \"title\": \"久久影院\",\n                    \"url\": \"http://lm.0818tv.com/mv/api.php/jiujiuystv/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/久久影院.png\",\n                    \"murl\": \"q:TV影视\"\n                },\n                {\n                    \"title\": \"乐酷TV\",\n                    \"url\": \"http://lktv.top:55/api.php/chenziystv/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/乐酷TV.png\",\n                    \"murl\": \"q:TV影视\"\n                },\n                {\n                    \"title\": \"流星雨\",\n                    \"url\": \"http://syy.lxyyy.xyz/mv/api.php/Chengcheng/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/流星雨影院.png\",\n                    \"murl\": \"q:TV影视\"\n                },\n                {\n                    \"title\": \"凌雪影视\",\n                    \"url\": \"http://lxue.top/api.php/iptv/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/凌雪影视.png\",\n                    \"murl\": \"q:TV影视\"\n                },\n                {\n                    \"title\": \"冷月TV\",\n                    \"url\": \"https://tv.521x5.com/api.php/iptv/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/冷月TV.png\",\n                    \"murl\": \"q:TV影视\"\n                },\n                {\n                    \"title\": \"思奇TV\",\n                    \"url\": \"http://tv.siqitv.vip/api.php/iptv/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/思奇TV.png\",\n                    \"murl\": \"q:TV影视\"\n                },\n                {\n                    \"title\": \"双子星\",\n                    \"url\": \"http://tv.diyoui.cc/api.php/iptv/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/双子星.png\",\n                    \"murl\": \"q:TV影视\"\n                },\n                {\n                    \"title\": \"若惜影视\",\n                    \"url\": \"http://rxw.ruoxinew.com/api.php/Sntv/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/若惜影视.png\",\n                    \"murl\": \"q:TV影视\"\n                },\n                {\n                    \"title\": \"小极TV\",\n                    \"url\": \"http://api.8d8q.com/mmv/api.php/Chengcheng/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/小极TV.png\",\n                    \"murl\": \"q:TV影视\"\n                },\n                {\n                    \"title\": \"云播影视\",\n                    \"url\": \"http://yunbo.bxin.tv/api.php/iptv/vod/\",\n                    \"img\": \"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/云播影视.png\",\n                    \"murl\": \"q:TV影视\"\n                }\n            ]\n        }\n    ]\n}"},{"col_type":"movie_3","name":"搜索","path":"sear","rule":"var res = {};\nvar items = [];\n//设置搜索线程\nvar ssmode = JSON.parse(fetch('hiker://files/rules/xyq/appmset.json', {})).ssmode;\nvar key = MY_URL.split('$$$')[1];\n//setError(le);\nif (ssmode == '0') {\n    setPageTitle(key + ' 的搜索结果')\n};\nvar html = JSON.parse(JSON.parse(fetch('hiker://page/ResCode', {})).rule);\n//var html = JSON.parse(fetchCache('https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/APP影视列表', 24));\n\nvar dlist = html.data;\n\nfunction randomSort3(arr) {\n    arr.sort(function(a, b) {\n        return Math.random() - 0.5;\n    });\n    return arr;\n}\n\n//打乱顺序\nvar random = true;\nif (ssmode == '1' || MY_TYPE == 'home') {\n    for (var l = 0; l < dlist.length; l++) {\n        var list = dlist[l].list;\n        var tytit = dlist[l].title\n        if (random) {\n            let k = getVar(MY_RULE.title + \"-\" + tytit, \"\");\n            if (k == \"\") {\n                list = randomSort3(list)\n                putVar(MY_RULE.title + \"-\" + tytit, JSON.stringify(list))\n            } else {\n                list = JSON.parse(k)\n            }\n        }\n\n\n        items.push({\n            title: MY_TYPE == \"home\" ? \"点击查看 \" + tytit + \" 分类 ““\" + key + \"”” 的聚搜结果\" : \"点击查看 \" + tytit + \" 分类 \" + key + \" 的聚搜结果\",\n            url: $('hiker://empty$$$' + key + '$$$fypage$$$').rule((list, tytit) => {\n                var res = {};\n                var items = [];\n                //取搜索线程设置\n                var ssxc = JSON.parse(fetch('hiker://files/rules/xyq/appmset.json', {})).sscount;\n                //设置超时时间，越小越快，单位毫秒\n                //var timeou = 5000;\n                var key = MY_URL.split('$$$')[1];\n                var num = MY_URL.split('$$$')[2];\n                var le = parseInt(num * ssxc);\n                var Data = [];\n                var Tit = [];\n                for (var j = le - ssxc; j < le; j++) {\n                    if (j < list.length) {\n                        var link = list[j].url;\n\n                        if (/APP影视/.test(tytit)) {\n                            if (link.indexOf('api.php/app/') != -1) {\n                                var hmurl = link + 'search?pg=1&text=' + key + '&token=';\n                            } else if (link.indexOf('xgapp.php/v1/') != -1) {\n                                var hmurl = link + 'search?pg=1&text=' + key;\n                            } else {\n                                if (/iopenyun/.test(link)) {\n                                    var hmurl = link + '/list?page=fypage&limit=10&wd=' + key;\n                                } else {\n                                    var hmurl = link + '?page=1&limit=10&wd=' + key;\n                                }\n                            }\n                        } else if (/TV影视/.test(tytit)) {\n                            if (/19jx|293ys|zhaikanys|ji\\-ding\\-he|phoebe|yunbo\\.bxin|lanrentk|hetaoys|pxun|139\\.155|fkkdy|056158|aixixi|ruoxinew|feifan123|siqitv/.test(link)) {\n                                var hmurl = link + '?ac=list&zm=' + key + '&page=1';\n                            } else {\n                                var hmurl = link + '?ac=list&wd=' + key + '&page=1';\n                            }\n                        }\n                        //Data.push({url: hmurl,options: {headers: {\"User-Agent\": \"Dart/2.13 (dart:io)\"},timeout: timeou}});\n                        Data.push({\n                            url: hmurl,\n                            options: {\n                                headers: {\n                                    \"User-Agent\": \"Dart/2.13 (dart:io)\"\n                                }\n                            }\n                        });\n                        Tit.push({\n                            tit: list[j].title,\n                            link: link,\n                            typnm: tytit\n                        });\n                    } //if\n                } //for j\n\n                //---代码分界线---- \n                if (Data != '') {\n                    var bhtml = batchFetch(Data);\n                    //writeFile(\"hiker://files/rules/xyq/appError.json\",JSON.stringify(bhtml));\n\n                    for (var k = 0; k < bhtml.length; k++) {\n                        var html = bhtml[k];\n                        //log(html);\n                        try {\n                            html = html.substring(0, 2) == '\\r\\n' ? html.replace('\\r\\n', '') : html;\n                        } catch (e) {}\n                        if (/btwaf/.test(html)) {\n                            html = fetch(Data[k].url + '&btwaf' + html.match(/btwaf(.*?)\\\"/)[1], {});\n\n                        }\n                        if (html == \"\" || html == null || html.substring(0, 5) == 'error' || !html.startsWith('{')) {\n\n                            items.push({\n                                title: Tit[k].tit + ' ' + '未搜索到，点击访问原网页',\n                                url: Data[k].url + `@lazyRule=.js:input.split(';')[0]`,\n                                col_type: 'text_1'\n                            });\n\n                        } else if (html.length < 80) {\n                            items.push({\n                                title: Tit[k].tit + ' ' + '返回数据不完整，点击访问原网页',\n                                url: Data[k].url + `@lazyRule=.js:input.split(';')[0]`,\n                                col_type: 'text_1'\n                            });\n                        } else {\n                            var html = JSON.parse(html);\n                            //log(html);\n                            var typet = Tit[k].typnm;\n                            var tdomin = Tit[k].link;\n                            if (html.list) {\n                                var list = html.list;\n                            } else if (html.data.list) {\n                                var list = html.data.list;\n                            } else if (html.data) {\n                                var list = html.data;\n                            } else {\n                                var list = [];\n                            }\n                            if (list.length < 1) {\n\n                                items.push({\n                                    title: Tit[k].tit + ' ' + '列表小于1，无法展示，点击访问原网页',\n                                    url: Data[k].url + `@lazyRule=.js:input.split(';')[0]`,\n                                    col_type: 'text_1'\n                                });\n\n                            } else {\n                                for (var i = 0; i < list.length; i++) {\n                                    if (/TV影视/.test(typet)) {\n                                        var title = list[i].title;\n                                        var pic = list[i].pic;\n                                        var vid = list[i].nextlink;\n                                        var rem = list[i].state;\n                                    } else if (/APP影视/.test(typet)) {\n\n                                        if (tdomin.indexOf('api.php/app/') != -1) {\n                                            var title = list[i].vod_name;\n                                            var pic = list[i].vod_pic;\n                                            if (/fantuan/.test(tdomin)) {\n                                                var vid = 'https://fantuan.wkfile.com/api.php/app/video_detail?id=' + list[i].vod_id + '&token=';\n                                            } else {\n                                                var vid = tdomin + 'video_detail?id=' + list[i].vod_id + '&token=';\n                                            }\n                                            var rem = list[i].vod_remarks;\n                                            //var con=list[i].type.type_des;\n                                        } else if (tdomin.indexOf('xgapp.php/v1/') != -1) {\n                                            var title = list[i].vod_name;\n                                            var pic = list[i].vod_pic;\n                                            var vid = tdomin + 'video_detail?id=' + list[i].vod_id;\n                                            var rem = list[i].vod_remarks;\n                                            //var con=list[i].type.type_des;\n                                        } else {\n                                            var title = list[i].vod_name;\n                                            var pic = list[i].vod_pic;\n                                            if (/iopenyun/.test(tdomin)) {\n                                                var vid = tdomin + '/detailID?vod_id=' + list[i].vod_id + '&token=';\n                                            } else {\n                                                var vid = tdomin + '/detail?vod_id=' + list[i].vod_id + '&token=';\n                                            }\n                                            var rem = list[i].vod_remarks;\n                                            //var con=list[i].type.type_des;\n                                        }\n\n                                    }\n                                    //var con=list[i].state;\n                                    //log(vid);\n\n                                    items.push({\n                                        title: MY_TYPE == \"home\" ? title.replace(key, '““' + key + '””') + '\\n' + rem : title + rem,\n                                        pic_url: pic + '@Referer=',\n                                        url: $(vid + ';get;utf-8;{User-Agent@Dart/2.13 (dart:io)}').rule((typet) => {\n                                            var res = {};\n                                            var items = [];\n                                            var html = JSON.parse(getResCode());\n                                            items.push({\n                                                title: '',\n                                                desc: '255&&float',\n                                                url: '',\n                                                col_type: 'x5_webview_single'\n                                            });\n                                            var myurl = MY_URL.match(/([\\S]*?:\\/\\/[\\S]*?)\\//)[1];\n                                            if (/APP影视/.test(typet)) {\n                                                eval(JSON.parse(fetch('hiker://page/appmovlist', {})).rule);\n                                            } else if (/TV影视/.test(typet)) {\n                                                eval(JSON.parse(fetch('hiker://page/tvmovlist', {})).rule);\n                                            }\n\n                                            res.data = items;\n                                            setHomeResult(res);\n                                        }, typet),\n                                        //content: rem,\n                                        desc: typet + ' => ' + Tit[k].tit,\n                                        col_type: 'movie_1_vertical_pic'\n                                    });\n                                } //for i\n                            } //if list.length\n                        }\n                    } //for k bhtml.length\n                }\n\n                res.data = items;\n                setHomeResult(res);\n            }, list, tytit),\n            col_type: 'text_1'\n        });\n\n    } //for i\n}; //end mode 1\n\nif (ssmode == '0' || MY_TYPE == 'home') {\n    for (var i = 0; i < dlist.length; i++) {\n        var list = dlist[i].list;\n        var tytit = dlist[i].title\n        if (random) {\n            let k = getVar(MY_RULE.title + \"-\" + tytit, \"\");\n            if (k == \"\") {\n                list = randomSort3(list)\n                putVar(MY_RULE.title + \"-\" + tytit, JSON.stringify(list))\n            } else {\n                list = JSON.parse(k)\n            }\n        }\n\n        items.push({\n            title: MY_TYPE == \"home\" ? \" 选择一个 \"+dlist[i].title+\" 项目查看 ““\" + key + \"”” 的搜索结果\" : \" 选择一个 \"+dlist[i].title+\" 项目查看 \" + key + \" 的搜索结果\",\n            col_type: 'text_1'\n        });\n\n        for (var j = 0; j < list.length; j++) {\n            var link = list[j].url;\n\n            if (/APP影视/.test(tytit)) {\n                if (link.indexOf('api.php/app/') != -1) {\n                    var hmurl = link + 'search?pg=fypage&text=' + key + '&token=';\n                } else if (link.indexOf('xgapp.php/v1/') != -1) {\n                    var hmurl = link + 'search?pg=fypage&text=' + key;\n                } else {\n                    if (/iopenyun/.test(link)) {\n                        var hmurl = link + '/list?page=fypage&limit=10&wd=' + key;\n                    } else {\n                        var hmurl = link + '?page=fypage&limit=10&wd=' + key;\n                    }\n                }\n            } else if (/TV影视/.test(tytit)) {\n                if (/19jx|293ys|zhaikanys|ji\\-ding\\-he|phoebe|yunbo\\.bxin|lanrentk|hetaoys|pxun|139\\.155|fkkdy|056158|aixixi|ruoxinew|feifan123|siqitv/.test(link)) {\n                    var hmurl = link + '?ac=list&zm=' + key + '&page=fypage';\n                } else {\n                    var hmurl = link + '?ac=list&wd=' + key + '&page=fypage';\n                }\n            }\n            items.push({\n                title: list[j].title,\n                img: list[j].img,\n                url: $('hiker://empty#x#' + hmurl + '#x#' + link + '#x#' + tytit + '#x#' + key + '#x#').rule(() => {\n                    $.require('hiker://page/searerj');\n                }),\n                col_type: 'icon_round_small_4'\n                //col_type: 'text_3'\n                //link:link,\n                //type: i\n            });\n\n        } //for j\n\n\n    } //for i\n\n} //end mode 0\n\n\nres.data = items;\nsetHomeResult(res);"},{"col_type":"movie_3","name":"APP分类列表","path":"applistdata","rule":"if (html.list) {\n    var list = html.list;\n} else if (html.data && html.data.list) {\n    var list = html.data.list;\n} else {\n    var list = html.data;\n}\n//log(list);\nfor (var i = 0; i < list.length; i++) {\n    var title = list[i].vod_name;\n    var img = list[i].vod_pic;\n    var url = list[i].vod_id;\n    var desc = list[i].vod_remarks;\n    if (html.list) {\n        var link = murl + 'video_detail?id=' + url + '&token=;get;utf-8;{User-Agent@Dart/2.13 (dart:io)}';\n    } else if (html.data && html.data.list) {\n        var link = murl + '/detail?vod_id=' + url + '&rel_limit=10;get;utf-8;{User-Agent@Dart/2.13 (dart:io)}';\n    } else {\n        var link = murl + 'video_detail?id=' + url + '&token=;get;utf-8;{User-Agent@Dart/2.13 (dart:io)}';\n    };\n    if (/fantuan/.test(murl)) {\n        var link = 'https://fantuan.wkfile.com/api.php/app/video_detail?id=' + url + '&token=;get;utf-8;{User-Agent@Dart/2.13 (dart:io)}';\n    } else if (/iopenyun/.test(murl)) {\n        var link = murl + '/detailID?vod_id=' + url + '&rel_limit=10;get;utf-8;{User-Agent@Dart/2.13 (dart:io)}';\n    } else if (/dijiaxia/.test(murl)) {\n        var link = 'http://www.dijiaxia.com/api.php/app/video_detail?id=' + url;\n    }\n    items.push({\n        title: title,\n        pic_url: img + '@Referer=',\n        url: $(link).rule(() => {\n            var res = {};\n            var items = [];\n            items.push({\n                title: '',\n                desc: '255&&float',\n                url: '',\n                col_type: 'x5_webview_single'\n            });\n            refreshX5WebView('');\n            var html = JSON.parse(getResCode());\n            var myurl = MY_URL.match(/([\\S]*?:\\/\\/[\\S]*?)\\//)[1];\n            eval(JSON.parse(fetch('hiker://page/appmovlist', {})).rule);\n            res.data = items;\n            setHomeResult(res);\n        }),\n        desc: desc,\n        col_type: 'movie_3_marquee'\n    });\n}"},{"col_type":"movie_3","name":"TV列表解析","path":"tvlistdata","rule":"var list = html.data;\nfor (var i = 0; i < list.length; i++) {\n    var title = list[i].title;\n    var img = list[i].pic;\n    var url = list[i].nextlink;\n    var desc = list[i].state;\n    url = url.startsWith('http') ? url : murl + '?ac=detail&ids=' + url;\n    items.push({\n        title: title,\n        pic_url: img + '@Referer=',\n        url: $(url).rule(() => {\n            var res = {};\n            var items = [];\n            var html = JSON.parse(getResCode());\n            var myurl = MY_URL.match(/([\\S]*?:\\/\\/[\\S]*?)\\//)[1];\n            items.push({\n                title: '',\n                desc: '255&&float',\n                url: '',\n                col_type: 'x5_webview_single'\n            });\n            refreshX5WebView('');\n            eval(JSON.parse(fetch('hiker://page/tvmovlist', {})).rule);\n            res.data = items;\n            setHomeResult(res);\n        }),\n        desc: desc,\n        col_type: 'movie_3_marquee'\n    });\n}"},{"col_type":"movie_3","name":"APP简介与选集","path":"appmovlist","rule":"if (html.data.vod_url_with_player) {\n    var conts = html.data.vod_url_with_player;\n    if (conts.length < 1) {\n        conts = html.data.vod_play_url.split('$$$');\n        var tabs = html.data.vod_play_from.split('$$$');\n    }\n} else if (html.data.vod_info && html.data.vod_info.vod_url_with_player) {\n    var conts = html.data.vod_info.vod_url_with_player;\n    if (conts.length < 1) {\n        conts = html.data.vod_info.vod_play_url.split('$$$');\n        var tabs = html.data.vod_info.vod_play_from.split('$$$');\n    }\n} else {\n    var conts = html.data.vod_play_list;\n    if (conts.length < 1) {\n        conts = html.data.vod_play_url.split('$$$');\n        var tabs = html.data.vod_play_from.split('$$$');\n    }\n}\n\n//log(conts);\n\nvar thumb = html.data.vod_info ? html.data.vod_info.vod_pic : html.data.vod_pic;\neval(JSON.parse(fetch('hiker://page/dnplugin', {})).rule);\nitems.push({\n    title: '剧情简介：',\n    desc: html.data.vod_info ? html.data.vod_info.vod_content : html.data.vod_content,\n    pic_url: thumb,\n    url: dnpug,\n    col_type: 'movie_1_vertical_pic'\n});\nvar jiek = '';\nfor (var i = 0; i < conts.length; i++) {\n    if (conts[i].urls) {\n        var list = conts[i].urls;\n    } else if (conts[i].url) {\n        var list = conts[i].url.split(\"#\");\n    } else {\n        var list = conts[i].split(\"#\");\n    }\n    //setError(list.length);\n    if (html.data.vod_url_with_player) {\n        var ptab = conts[i].code ? conts[i].code : tabs[i];\n    } else if (html.data.vod_info && html.data.vod_info.vod_url_with_player) {\n        var ptab = conts[i].code ? conts[i].code : tabs[i];\n    } else {\n        var ptab = conts[i].from ? conts[i].from : tabs[i];\n    }\n    items.push({\n        title: ptab + ' 🔗' + [i + 1] + '/' + [conts.length],\n        col_type: 'text_1'\n    });\n    for (var j = 0; j < list.length; j++) {\n        if (conts[i].urls) {\n            var vlink = list[j].url;\n            var title = list[j].name;\n        } else {\n            var vlink = list[j].split(\"$\")[1];\n            var title = list[j].split(\"$\")[0];\n        }\n        try {\n            if (html.data.vod_url_with_player) {\n                var jiek = conts[i].parse_api;\n            } else if (html.data.vod_info && html.data.vod_info.vod_url_with_player) {\n                var jiek = conts[i].parse_api;\n            } else {\n                if (conts[i].player_info.parse2 && (conts[i].player_info.parse2).indexOf(\"=\") != -1) {\n                    var jiek = (conts[i].player_info.parse2).match(/.*?url=|.*?v=|.*?vid=/)[0].replace(\"..\", \".\").replace('jsonbs', '');\n                } else if (conts[i].player_info.parse && (conts[i].player_info.parse).indexOf(\"=\") != -1) {\n                    var jiek = (conts[i].player_info.parse).match(/.*?url=|.*?v=|.*?vid=/)[0].replace(\"..\", \".\");\n                } else {\n                    var jiek = \"\";\n                }\n                //setError(jiek);                \n            }\n        } catch (e) {}\n        if (jiek != '' && jiek != null) {\n            if (jiek.substring(0, 4) == 'http') {\n                jiek = jiek;\n            } else if (jiek.substring(0, 2) == '\\/\\/') {\n                jiek = 'https:' + jiek;\n            }\n        }\n        //对失效接口进行替换\n        if (/cokemv/.test(myurl) && /cokeqie|xin|90mm/.test(ptab)) {\n            jiek = 'https://player.90mm.me/play.php?url=';\n        } else if (/json\\.m3u8\\.tv/.test(jiek)) {\n            jiek = 'https://jx.m3u8.tv/jiexi/?url=';\n        } else if (/cjt521/.test(myurl)) {\n            jiek = conts[i].player_info.parse;\n        } else if (jiek.indexOf('jpg.hou.lu/jm/za/index.php') != -1) {\n            jiek = 'http://vip.mengx.vip/home/api?type=ys&uid=3249696&key=aefqrtuwxyEFHKNOQY&url=';\n        } else if (ptab == 'renrenmi' && jiek.search(/jhdyw/) != -1) {\n            jiek = 'http://www.1080kan.cc/jiexi/rrmi.php?url=';\n        } else if (ptab == 'fqfilm' && jiek.search(/jhdyw/) != -1) {\n            jiek = 'http://www.1080kan.cc/jiexi/fq.php?url=';\n        } else if (ptab == 'rrsp' && jiek.search(/jhdyw/) != -1) {\n            jiek = 'http://www.1080kan.cc/jiexi/rr.php?url=';\n        } else if (/jhyun\\.php/.test(jiek)) {\n            jiek = jiek.replace('http://svip.jhyun.jx.cn:1234/jhyun.php?url=', 'https://api.jhdyw.vip/?url=');            \n        };\n        //声明链接\n        var link = jiek + vlink;\n        if (/\\.m3u8|\\.mp4|obj\\/tos/.test(vlink) && /http/.test(vlink)) {\n            link = vlink;\n        }\n        //log(link);\n        if (list.length <= 4) {\n            var clt = 'text_2';\n        } else {\n            var clt = isNaN(title) ? 'flex_button' : 'text_5'\n        };\n        items.push({\n            title: title,\n            url: $().lazyRule((ptab, link, myurl) => {\n                function openurl(resurl) {\n                    if (resurl.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bilibili|sohu|pptv|le|1905.com/) && resurl.search(/html|bilibili/) != -1) {\n                        var enDn = JSON.parse(fetch('hiker://files/rules/xyq/appmset.json', {})).enDn;\n                        if (enDn == '1') {\n                            log('调用断插解析');\n                            eval(\"var config =\" + fetch(\"hiker://files/cache/MyParseSet.json\"));\n                            eval(fetch(config.cj));\n                            return aytmParse(resurl);\n                        } else {\n                            return resurl\n                        };\n                    } else {\n                        return resurl\n                    }\n                };\n                var srcurl = link;\n                //log(srcurl);\n                //动态解析代码开始\n                try {\n                    //处理指定视频与线路\n                    if (/\\.m3u8|\\.mp4|obj\\/tos/.test(srcurl) && /http/.test(srcurl) && !/\\.html/.test(srcurl)) {\n                        if (/wkfile/.test(srcurl)) {\n                            return srcurl + ';{Referer@https://fantuan.wkfile.com/}'\n                        } else if (/duoduozy/.test(ptab)) {\n                            var json = fetch('https://player.duoduozy.com/ddplay/api.php?url=' + srcurl, {});\n                            return JSON.parse(json).url;\n                        } else {\n                            return /\\=/.test(srcurl) ? srcurl.split('=')[1] : srcurl + '#isVideo=true#';\n                        }\n                    } else if (srcurl.indexOf(\"/share/\") != -1) {\n                        try {\n                            var link = srcurl.split(\"/share\")[0];\n                            var fc = fetch(srcurl, {}).replace(\"var purl\", \"var main\");\n                            if (fc.indexOf(\"main\") != -1) {\n                                var mat = fc.match(/var main.*?;/)[0];\n                                eval(mat);\n                                var play = (main.indexOf(\"http\") != -1 ? main : link + main);\n                            } else {\n                                var main = fc.match(/url:.*?[\\'\\\"](.*?)[\\'\\\"]/)[1];\n                                var play = (main.indexOf(\"http\") != -1 ? main : link + main)\n                            };\n                            return play;\n                        } catch (e) {\n                            return 'x5WebView://' + (srcurl)\n                        }\n\n                    } else if (ptab == 'alizy') {\n                        var purl = fetch('https://foubin.com/jiexi.php?url=' + srcurl.split('url=')[1], {}).match(/\\\"url\\\":\\\"(.*?)\\\"/)[1];\n                        return purl;\n                    } else if (/983vip/.test(srcurl)) {\n                        return JSON.parse(fetch(srcurl, {\n                            headers: {\n                                \"User-Agent\": MOBILE_UA\n                            },\n                            redirect: false,\n                            withHeaders: true\n                        })).headers.location[0];\n                    } else if (/x\\-n\\.cc|nhdz666/.test(srcurl) && /\\.html|bilibili/.test(srcurl)) {\n                        return openurl(srcurl.substring(srcurl.indexOf('=http') + 1));\n                    }\n                    //处理指定视频和线路结束\n                    //----分割线----//\n                    var scode = JSON.parse(fetch(srcurl, {\n                        headers: {\n                            \"User-Agent\": \"Dart/2.13 (dart:io)\"\n                        },\n                        redirect: false,\n                        withStatusCode: true\n                    }));\n                    //log(scode);\n                    if (scode.statusCode == '302' || scode.statusCode == '301') {\n                        //打开解析有302重定向的链接\n                        var redurl = scode.headers.location[0].replace(/\\\\/g,'');\n                        if (/\\=http/.test(redurl) && /html|bilibili/.test(redurl)) {\n                            return JSON.parse(fetch(redurl, {})).url;\n                        } else if (/\\=http/.test(redurl) && /\\.m3u8|\\.mp4|\\.flv/.test(redurl)) {\n                            return redurl.substring(redurl.indexOf('=http') + 1);\n                        } else {\n                            return redurl\n                        }\n                    } else {\n                        //var html = request(srcurl);\n                        var html = scode.body;\n                        if (/\\<body/.test(html)) {\n                            log('尝试网页解析');\n                            requireCache('https://code.aliyun.com/lzk23559/PublicRule/raw/master/x5rule.js', 24);\n                            return x5rule(srcurl, srcurl);\n                            //return openurl(srcurl);\n                        } else {\n                            //json解析的取链接\n                            var purl = html.match(/[\\'\\\"]url[\\'\\\"]:.*?[\\'\\\"](.*?)[\\'\\\"]/)[1].replace(/\\\\/g, '');\n                            if (/http/.test(purl)) {\n                                if (ptab == 'bilibili') {\n                                    return purl + ';{Referer@https://www.bilibili.com/&&User-Agent@Mozilla/5.0}';\n                                } else if (ptab == 'mgtv') {\n                                    return purl + '#isVideo=true#' + ';{Referer@www.mgtv.com&&User-Agent@Mozilla/5.0}';\n                                } else {\n                                    return purl + '#isVideo=true#'\n                                };\n                            } else if (/\\=http/.test(srcurl) && /\\.html|bilibili/.test(srcurl)) {\n                                return openurl(srcurl.substring(srcurl.indexOf('=http') + 1));\n                            } else {\n                                //非http开头的打开原链接                                                                \n                                return openurl(srcurl.substring(srcurl.indexOf('=http') + 1))\n                            }\n                        }\n                    }\n                } catch (e) {\n                    //报错判断处理\n                    if (srcurl.substring(0, 2) == '\\/\\/') {\n                        return openurl('https:' + srcurl);\n                    } else if (/\\=http/.test(srcurl) && /\\.html|bilibili/.test(srcurl)) {\n                        //return srcurl.split('=')[1];\n                        return openurl(srcurl.substring(srcurl.indexOf('=http') + 1));\n                    } else {\n                        return openurl(srcurl)\n                        //return 'x5WebView://'+srcurl\n                    }\n                }\n                //动态解析代码结束\n            }, ptab, link, myurl),\n            col_type: clt\n        });\n    }\n}"},{"col_type":"movie_3","name":"TV简介与选集","path":"tvmovlist","rule":"var tabs = Object.keys(html.videolist);\nvar thumb = html.img_url;\neval(JSON.parse(fetch('hiker://page/dnplugin', {})).rule);\nitems.push({\n    title: '剧情简介：',\n    desc: html.intro,\n    pic_url: thumb,\n    url: dnpug,\n    col_type: 'movie_1_vertical_pic'\n});\n\nfor (var i = 0; i < tabs.length; i++) {\n    var list = html.videolist[tabs[i]];\n    var ptab = tabs[i];\n    items.push({\n        title: ptab + ' 🔗' + [i + 1] + '/' + [tabs.length],\n        col_type: 'text_1'\n    });\n\n    for (var j = 0; j < list.length; j++) {\n        var srcurl = list[j].url;\n        if (/293jx1/.test(srcurl)) {\n            srcurl = srcurl.replace('293jx1', 'jx');\n        } else if (/8d8q|diliktv|haokanju1|cztv|fit\\:8|ppzhu/.test(myurl)) {\n            srcurl = srcurl + '&app=10000&account=272775028&password=qq272775028';\n        }\n        var title = list[j].title;\n        if (list.length <= 4) {\n            var clt = 'text_2';\n        } else {\n            var clt = isNaN(title) ? 'flex_button' : 'text_5'\n        };\n        items.push({\n            title: title,\n            url: $().lazyRule((ptab, srcurl, myurl) => {\n                function openurl(resurl) {\n                    if (resurl.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bilibili|sohu|pptv|le|1905.com/) && resurl.search(/html|bilibili/) != -1) {\n                        var enDn = JSON.parse(fetch('hiker://files/rules/xyq/appmset.json', {})).enDn;\n                        if (enDn == '1') {\n                            log('调用断插解析');\n                            eval(\"var config =\" + fetch(\"hiker://files/cache/MyParseSet.json\"));\n                            eval(fetch(config.cj));\n                            return aytmParse(resurl);\n                        } else {\n                            return resurl\n                        };\n                    } else {\n                        return resurl\n                    }\n                };\n                //log(srcurl);\n                //动态解析代码开始\n                try {\n                    if (/\\.m3u8|\\.mp4|obj\\/tos/.test(srcurl) && /http/.test(srcurl)) {\n                        return /\\=/.test(srcurl) ? srcurl.split('=')[1] : srcurl + '#isVideo=true#';\n                    } else if (srcurl.indexOf(\"/share/\") != -1) {\n                        try {\n                            var link = srcurl.split(\"/share\")[0];\n                            var fc = fetch(srcurl, {}).replace(\"var purl\", \"var main\");\n                            if (fc.indexOf(\"main\") != -1) {\n                                var mat = fc.match(/var main.*?;/)[0];\n                                eval(mat);\n                                var play = (main.indexOf(\"http\") != -1 ? main : link + main);\n                            } else {\n                                var main = fc.match(/url:.*?[\\'\\\"](.*?)[\\'\\\"]/)[1];\n                                var play = (main.indexOf(\"http\") != -1 ? main : link + main)\n                            };\n                            return play;\n                        } catch (e) {\n                            return 'x5WebView://' + (srcurl)\n                        }\n                    } else if (ptab == 'alizy') {\n                        var purl = fetch('https://foubin.com/jiexi.php?url=' + srcurl, {}).match(/\\\"url\\\":\\\"(.*?)\\\"/)[1];\n                        return purl;\n                    } else if (/19jx\\.vip|nfyingshi/.test(srcurl)) {\n                        var purl = JSON.parse(fetch(srcurl.replace('http://', 'https://'), {\n                            headers: {\n                                \"User-Agent\": MOBILE_UA\n                            },\n                            redirect: false,\n                            withHeaders: true\n                        })).headers.location[0];\n                        if (/titan.mgtv/.test(purl)) {\n                            return purl + '#isVideo=true#' + ';{Referer@www.mgtv.com&&User-Agent@Mozilla/5.0}';\n                        } else if (/obj\\/tos/.test(purl)) {\n                            return purl + '#isVideo=true#';\n                        } else {\n                            return purl\n                        };\n                    } /*else if (/zhaikanys/.test(srcurl)) {\n                        var purl = JSON.parse(fetch(srcurl + '&app=10003&account=272775028&password=qq272775028', {\n                            headers: {\n                                \"User-Agent\": MOBILE_UA\n                            },\n                            redirect: false,\n                            withHeaders: true\n                        })).headers.location[0];\n                        if (/titan.mgtv/.test(purl)) {\n                            return purl + '#isVideo=true#' + ';{Referer@www.mgtv.com&&User-Agent@Mozilla/5.0}';\n                        } else if (/obj\\/tos/.test(purl)) {\n                            return purl + '#isVideo=true#';\n                        } else {\n                            return purl\n                        };\n                    }*/\n\n                    //----分割线----//\n                    var scode = JSON.parse(fetch(srcurl, {\n                        headers: {\n                            \"User-Agent\": MOBILE_UA\n                        },\n                        redirect: false,\n                        withStatusCode: true\n                    }));\n                    //log(scode);\n                    if (scode.statusCode == '302' || scode.statusCode == '301') {\n                        var purl = scode.headers.location[0].replace(/\\\\/g, '');\n                    } else {\n                        //var html = request(srcurl);\n                        var html = scode.body;\n                        //log(html);\n                        if (/\\\"url\\\"\\:\\\"http/.test(html)) {\n                            var purl = html.match(/\\\"url\\\":\\\"(.*?)\\\"/)[1].replace(/\\\\/g, '');\n                        } else if (html.startsWith('{')) {\n                            var purl = srcurl.substring(srcurl.indexOf('=http') + 1);\n                        } else {\n                            //var purl = srcurl\n                            requireCache('https://code.aliyun.com/lzk23559/PublicRule/raw/master/x5rule.js', 24);\n                            return x5rule(srcurl, srcurl);\n                            //return 'x5WebView://'+(srcurl) \n                        }\n                    };\n                    //log(purl);\n                    if (/titan.mgtv/.test(purl)) {\n                        return purl + '#isVideo=true#' + ';{Referer@www.mgtv.com&&User-Agent@Mozilla/5.0}';\n                    } else if (/obj\\/tos/.test(purl)) {\n                        return purl + '#isVideo=true#';\n                    } else {\n                        return purl\n                    };\n\n                } catch (e) {\n                    if (srcurl.substring(0, 2) == '\\/\\/') {\n                        return openurl('https:' + srcurl);\n                    } else if (/\\=http/.test(srcurl) && /\\.html|bilibili/.test(srcurl)) {\n                        //return srcurl.split('=')[1];\n                        return openurl(srcurl.substring(srcurl.indexOf('=http') + 1));\n                    } else {\n                        return openurl(srcurl)\n                    }\n                }\n                //动态解析代码结束\n            }, ptab, srcurl, myurl),\n            col_type: clt\n        });\n    }\n}"},{"col_type":"movie_3","name":"列表模式搜索二级","path":"searerj","rule":"var res = {};\nvar items = [];\nvar spl = getResCode().split('#x#');\nvar typet = spl[3];\nvar tdomin = spl[2];\nvar key = spl[4];\n\nif (/vipmv/.test(tdomin)) {\n    var bhtml = request(spl[1]);\n} else {\n    var bhtml = fetch(spl[1], {\n        headers: {\n            \"User-Agent\": \"Dart/2.13 (dart:io)\"\n        }\n    });\n}\ntry {\n    bhtml = bhtml.startsWith('\\r\\n') ? bhtml.replace('\\r\\n', '') : bhtml;\n} catch (e) {}\nif (/btwaf/.test(bhtml)) {\n    /*\n                items.push({\n                    title:'有宝塔验证，点击访问原网页',\n                    url: spl[1] + `@lazyRule=.js:input.split(';')[0]`,\n                    col_type: 'text_1'\n                });\n                */\n\n    bhtml = fetch(spl[1] + '&btwaf' + bhtml.match(/btwaf(.*?)\\\"/)[1], {});\n\n}\n\nif (bhtml == \"\" || bhtml == null || bhtml.substring(0, 5) == 'error' || !bhtml.startsWith('{')) {\n    items.push({\n        title: '未搜索到相关资源，点击访问原网页',\n        url: spl[1] + `@lazyRule=.js:input.split(';')[0]`,\n        col_type: 'text_1'\n    });\n} else if (bhtml.length < 80) {\n    items.push({\n        title: '返回数据不完整，点击访问原网页',\n        url: spl[1] + `@lazyRule=.js:input.split(';')[0]`,\n        col_type: 'text_1'\n    });\n} else {\n    var html = JSON.parse(bhtml);\n    //log(spl[1]);\n    if (html.list) {\n        var list = html.list;\n    } else if (html.data.list) {\n        var list = html.data.list;\n    } else if (html.data) {\n        var list = html.data;\n    }\n\n    if (list.length < 1) {\n        items.push({\n            title: '未搜索到，点击访问原网页',\n            url: spl[1] + `@lazyRule=.js:input.split(';')[0]`,\n            col_type: 'text_1'\n        });\n    } else {\n        for (var i = 0; i < list.length; i++) {\n\n            if (/APP影视/.test(typet)) {\n                if (tdomin.indexOf('api.php/app/') != -1) {\n                    var title = list[i].vod_name;\n                    var pic = list[i].vod_pic;\n                    if (/fantuan/.test(tdomin)) {\n                        var vid = 'https://fantuan.wkfile.com/api.php/app/video_detail?id=' + list[i].vod_id + '&token=';\n                    } else {\n                        var vid = tdomin + 'video_detail?id=' + list[i].vod_id + '&token=';\n                    }\n                    var rem = list[i].vod_remarks;\n                    //var con=list[i].type.type_des;\n                } else if (tdomin.indexOf('xgapp.php/v1/') != -1) {\n                    var title = list[i].vod_name;\n                    var pic = list[i].vod_pic;\n                    var vid = tdomin + 'video_detail?id=' + list[i].vod_id;\n                    var rem = list[i].vod_remarks;\n                    //var con=list[i].type.type_des;\n                } else {\n                    var title = list[i].vod_name;\n                    var pic = list[i].vod_pic;\n                    if (/iopenyun/.test(tdomin)) {\n                        var vid = tdomin + '/detailID?vod_id=' + list[i].vod_id + '&token=';\n                    } else {\n                        var vid = tdomin + '/detail?vod_id=' + list[i].vod_id + '&token=';\n                    }\n                    var rem = list[i].vod_remarks;\n                    //var con=list[i].type.type_des;\n                }\n            } else if (/TV影视/.test(typet)) {\n                var title = list[i].title;\n                var pic = list[i].pic;\n                //var vid=tdomin+'/detail?vod_id='+list[i].nextlink+'&rel_limit=10';\n                var vid = list[i].nextlink;\n                var rem = list[i].state;\n                //var con=list[i].state;\n            }\n\n            items.push({\n                title: title.replace(key, '““' + key + '””'),\n                pic_url: pic + '@Referer=',\n                url: $(vid+';get;utf-8;{User-Agent@Dart/2.13 (dart:io)}').rule((typet) => {\n                    var res = {};\n                    var items = [];\n                    var html = JSON.parse(getResCode());\n                    items.push({\n                        title: '',\n                        desc: '255&&float',\n                        url: '',\n                        col_type: 'x5_webview_single'\n                    });\n                    refreshX5WebView('');\n                    var myurl = MY_URL.match(/([\\S]*?:\\/\\/[\\S]*?)\\//)[1];\n                    if (/APP影视/.test(typet)) {\n                        eval(JSON.parse(fetch('hiker://page/appmovlist', {})).rule);\n                    } else if (/TV影视/.test(typet)) {\n                        eval(JSON.parse(fetch('hiker://page/tvmovlist', {})).rule);\n                    }\n                    res.data = items;\n                    setHomeResult(res);\n                }, typet),\n                //content:rem,\n                desc: rem,\n                col_type: 'movie_1_vertical_pic'\n            });\n        } //for i\n    } //else list.length\n}\n\nres.data = items;\nsetHomeResult(res);"},{"col_type":"movie_3","name":"APP首页列表","path":"appindexdata","rule":"if (html.list) {\n    var list = html.list;\n} else if (html.data && html.data.list) {\n    var list = html.data.list;\n} else {\n    var list = html.data;\n}\n\nfor (var i = 0; i < list.length; i++) {\n    if (list[i].vod_list) {\n        var lists = list[i].vod_list;\n        var typename = list[i].vod_type_name;\n    } else {\n        var lists = list[i].vlist;\n        var typename = list[i].type_name\n    }\n    items.push({\n        title: typename,\n        col_type: 'text_1'\n\n    });\n\n    for (var j = 0; j < lists.length; j++) {\n        var title = lists[j].vod_name;\n        var img = lists[j].vod_pic;\n        var url = lists[j].vod_id;\n        var desc = lists[j].vod_remarks;\n        if (html.list) {\n            var link = murl + 'video_detail?id=' + url + '&token=;get;utf-8;{User-Agent@Dart/2.13 (dart:io)}';\n        } else if (html.data && html.data.list) {\n            var link = murl + '/detail?vod_id=' + url + '&rel_limit=10;get;utf-8;{User-Agent@Dart/2.13 (dart:io)}';\n        } else {\n            var link = murl + 'video_detail?id=' + url + '&token=;get;utf-8;{User-Agent@Dart/2.13 (dart:io)}';\n        };\n        if (/fantuan/.test(murl)) {\n            var link = 'https://fantuan.wkfile.com/api.php/app/video_detail?id=' + url + '&token=;get;utf-8;{User-Agent@Dart/2.13 (dart:io)}';\n        } else if (/iopenyun/.test(murl)) {\n            var link = murl + '/detailID?vod_id=' + url + '&rel_limit=10;get;utf-8;{User-Agent@Dart/2.13 (dart:io)}';\n        } else if (/dijiaxia/.test(murl)) {\n            var link = 'http://www.dijiaxia.com/api.php/app/video_detail?id=' + url;\n        }\n        items.push({\n            title: title,\n            pic_url: img + '@Referer=',\n            url: $(link).rule(() => {\n                var res = {};\n                var items = [];\n                items.push({\n                    title: '',\n                    desc: '255&&float',\n                    url: '',\n                    col_type: 'x5_webview_single'\n                });\n                refreshX5WebView('');\n                var html = JSON.parse(getResCode());\n                var myurl = MY_URL.match(/([\\S]*?:\\/\\/[\\S]*?)\\//)[1];\n                eval(JSON.parse(fetch('hiker://page/appmovlist', {})).rule);\n                res.data = items;\n                setHomeResult(res);\n            }),\n            desc: desc,\n            col_type: 'movie_3_marquee'\n        });\n    }\n}"},{"col_type":"movie_3","name":"首次导入等待","path":"wait","rule":"function canUse() {\n    //如果更新了规则也要限流，可以修改key\n    let key = \"lock4\"\n    //等待分钟数\n    let waitMin = 20\n    \n    let min = Math.round(Math.random() * 1000 * 60 * waitMin)\n    let unlock = new Date().getTime() + min;\n    let time = getItem(key, \"\");\n    if (time == \"\") {\n        setItem(key, \"\" + unlock)\n        let st = new Date(unlock).toLocaleString().replace(/:\\d{1,2}$/, ' ');\n        let msg = \"这是您第一次使用该版本规则，为避免第一次导入使用人数激增，规则将在\" + st + \"解锁使用。<br><br>好规则不怕晚，请耐心等待！该提示仅在第一次导入（更新）时出现，后续使用过程中不会出现！\"\n        setResult([{\n            title: msg,\n            col_type: \"rich_text\"\n        }])\n        return false\n    } else if (parseInt(time) < new Date().getTime()) {\n        return true\n    } else {\n        let st = new Date(parseInt(time)).toLocaleString().replace(/:\\d{1,2}$/, ' ');\n        let msg = \"为避免使用人数激增，规则将在\" + st + \"解锁使用。<br><br>好规则不怕晚，请耐心等待！该提示仅在第一次导入（更新）时出现，后续使用过程中不会出现！\"\n        setResult([{\n            title: msg,\n            col_type: \"rich_text\"\n        }])\n        return false\n    }\n}\n$.exports = canUse();"},{"col_type":"movie_3","name":"断念插件调用","path":"dnplugin","rule":"var dnpug = $().rule(() => {\n    var d = [];\n    setPageTitle('断念插件设置')\n    var enDn = JSON.parse(fetch('hiker://files/rules/xyq/appmset.json', {})).enDn;\n    d.push({\n        title: '断念插件调用',\n        url: 'hiker://empty',\n        col_type: 'text_center_1'\n    });\n    d.push({\n        title: '当前：' + '(' + (enDn == 1 ? '已启用' : '已禁用') + ')',\n        url: $('hiker://empty').lazyRule(() => {\n            var md = JSON.parse(fetch('hiker://files/rules/xyq/appmset.json', {})).enDn;\n\n            if (md == 1) {\n                var fileUrl = fetch(\"hiker://files/rules/xyq/appmset.json\", {}).replace('\\\"enDn\\\":\\\"1\\\"', '\\\"enDn\\\":\\\"0\\\"');\n                writeFile(\"hiker://files/rules/xyq/appmset.json\", fileUrl);\n                refreshPage(false);\n                return 'toast://已禁用断插调用！';\n            } else {\n                var fileUrl = fetch(\"hiker://files/rules/xyq/appmset.json\", {}).replace('\\\"enDn\\\":\\\"0\\\"', '\\\"enDn\\\":\\\"1\\\"');\n                //log(fileUrl);\n                writeFile(\"hiker://files/rules/xyq/appmset.json\", fileUrl);\n                refreshPage(false);\n                return 'toast://已开启断插调用！'\n            }\n        }),\n        col_type: 'text_2'\n    });\n    d.push({\n        title: '管理解析',\n        url: \"hiker://empty#noRecordHistory#@rule=js:this.d=[];require('https://gitea.com/AI957/Hiker/raw/m/v/jxItem.js');jxItem.jxList();setResult(d)\",\n        col_type: 'text_2'\n    });\n    d.push({\n        title: '线路配置',\n        url: \"hiker://empty#noRecordHistory#@rule=js:this.d=[];require('https://gitea.com/AI957/Hiker/raw/m/v/Route.js');Route.setParse();setResult(d);\",\n        col_type: 'text_2'\n    });\n    setResult(d)\n});"},{"col_type":"movie_3","name":"设置页代码","path":"setting","rule":"var d = [];\nvar setjson = JSON.parse(fetch('hiker://files/rules/xyq/appmset.json', {}));\nvar ssmd = setjson.ssmode;\nvar ssxc = setjson.sscount;\nd.push({\n    title: '搜索模式设置',\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '当前：' + '(' + (ssmd == 1 ? '聚合结果' : '引擎列表') + ')',\n    url: $('hiker://empty').lazyRule(() => {\n        var md = JSON.parse(fetch('hiker://files/rules/xyq/appmset.json', {})).ssmode;\n\n        if (md == 1) {\n            var fileUrl = fetch(\"hiker://files/rules/xyq/appmset.json\", {}).replace('\\\"ssmode\\\":\\\"1\\\"', '\\\"ssmode\\\":\\\"0\\\"');\n            writeFile(\"hiker://files/rules/xyq/appmset.json\", fileUrl);\n            back(true);\n            return 'toast://切换为搜索引擎列表单选模式成功！';\n        } else {\n            var fileUrl = fetch(\"hiker://files/rules/xyq/appmset.json\", {}).replace('\\\"ssmode\\\":\\\"0\\\"', '\\\"ssmode\\\":\\\"1\\\"');\n            //log(fileUrl);\n            writeFile(\"hiker://files/rules/xyq/appmset.json\", fileUrl);\n            back(true);\n            return 'toast://切换为聚合搜索模式成功！'\n        }\n    }),\n    col_type: 'text_2'\n})\n\nd.push({\n    title: '搜索线程设置',\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '当前线程' + ssxc + '  ' + '你输入的是' + parseInt(getVar('appmssxcset', '')),\n    col_type: 'rich_text'\n});\n\nd.push({\n    title: '设置搜索线程',\n    url: \"input://\" + '' + \"////请输入一个整数数字，推荐最大不要超过15。.js:putVar('appmssxcset',input);refreshPage()\",\n    col_type: 'text_2'\n});\n\nd.push({\n    title: '保存线程设置',\n    url: $().lazyRule(() => {\n        var num = parseInt(getVar('appmssxcset')).toString();\n        if (num == 'NaN') {\n            return 'toast://输入的值好像不正确。';\n        } else {\n            var fileUrl = fetch(\"hiker://files/rules/xyq/appmset.json\", {}).replace(/\\\"sscount\\\":\\\"[\\S]*\\\"/, '\\\"sscount\\\":\\\"' + num + '\\\"');\n            writeFile(\"hiker://files/rules/xyq/appmset.json\", fileUrl);\n            //refreshPage(true);\n            back(true);\n            return 'toast://保存设置搜索线程完成！';\n        }\n\n    }),\n    col_type: 'text_2'\n});\nd.push({\n    title: '更新相关',\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '检测更新',\n    url: $('').lazyRule((locver) => {\n        var remf = fetchCache('https://codeberg.org/lzk23559/cloudrule/raw/branch/master/appmovie.txt', 24);\n        if (/￥base64/.test(remf)) {\n            var remv = JSON.parse(base64Decode(remf.split('@')[2])).version;\n        } else {\n            var remv = JSON.parse(remf.split('home_rule￥')[1]).version;\n        }\n        log('远程版本：' + remv);\n        log('本地版本：' + locver);\n        if (locver != remv) {\n            putVar('appnver', remf);\n            refreshPage();\n            return 'toast://有新版本，点导入更新可更新规则。';\n        } else {\n            return 'toast://暂无新版本。'\n        }\n    }, locver),\n    col_type: 'text_2'\n});\nif (getVar('appnver')) {\n    d.push({\n        title: '导入更新',\n        url: $('').lazyRule(()=>{\n           return getVar('appnver');\n        }),\n        col_type: 'text_2'\n    });\n}\nsetResult(d)"}],"title":"APP影视(P)","author":"香雅情","version":6,"url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst canUse = $.require(\"hiker://page/wait\");\nif (canUse) {\n    var items = [];\n    var self = JSON.parse(getRule()).title;\n    var setjson = JSON.parse(fetch('hiker://files/rules/xyq/appmset.json', {}));\n    var ssmd = setjson.ssmode;\n    var ssxc = setjson.sscount;\n    var locver = MY_RULE.version;\n    //打乱顺序\n    var random = true;\n\n    function randomSort3(arr) {\n        arr.sort(function(a, b) {\n            return Math.random() - 0.5;\n        });\n        return arr;\n    }\n\n    items.push({\n        title: '🔍设置' + '(' + (ssmd == 1 ? '聚' + ssxc : '列') + ')',\n        //title : '🔍设置'+'('+ssxc+')',\n        url: $('hiker://empty').rule((locver) => {\n        eval(JSON.parse(fetch('hiker://page/setting', {})).rule);\n        },locver),\n        col_type: 'flex_button'\n    });\n\n    items.push({\n        title: '资源网采集',\n        url: 'hiker://home@资源网采集.xyq||https://haikuoshijie.cn/topic/6033',\n        col_type: 'flex_button'\n    });\n    items.push({\n        title: '香情影视',\n        url: 'hiker://home@香情影视||https://mp.weixin.qq.com/s/XpUI3F1nBvlNgHXvY71t0g',\n        col_type: 'flex_button'\n    });\n    items.push({\n        title: \"搜索\",\n        url: $.toString(() => {\n            var link = 'hiker://empty#noRecordHistory#$$$' + input + '$$$fypage$$$';\n            //log(link);\n            return $(link).rule(() => {\n                $.require('hiker://page/sear');\n            });\n        }),\n        extra: {\n            onChange: \"putVar('xyqappystext',input)\",\n            titleVisible: true\n        },\n        desc: \"请输入搜索关键词\",\n        col_type: \"input\"\n    });\n\n    var ssyq = ['资源网采集搜@@资源网采集.xyq', '香情影视搜@@香情影视'];\n    if (self !== 'APP影视(P)') {\n        items.push({\n            title: self + '搜',\n            url: $(\"#noLoading#\").lazyRule(rule => 'hiker://search?s=' + getVar('xyqappystext') + '&rule=' + rule, self),\n            col_type: 'flex_button'\n        });\n    } else {\n        for (var yq in ssyq) {\n            var kj = ssyq[yq].split('@@');\n            items.push({\n                title: kj[0],\n                url: $(\"#noLoading#\").lazyRule(rule => 'hiker://search?s=' + getVar('xyqappystext') + '&rule=' + rule, kj[1]),\n                col_type: \"flex_button\"\n            });\n        }\n    }\n    items.push({\n        title: '茶杯狐搜',\n        url: $('hiker://empty#x#fypage@-1@*24@#x#').rule(() => {\n            var res = {};\n            var d = [];\n            var spl = MY_URL.split('#x#');\n            //var lin = 'https://api2.jackeriss.com/api/v1/search/?text=' + spl[1] + '&type=0&from=' + spl[2] + '&size=20';\n            var lin = 'https://api.jackeriss.com/api/v1/search/?text=' + getVar('xyqappystext') + '&type=0&from=' + spl[1] + '&size=24';\n            var pn = spl[1] / 24 + 1;\n            var urlo = JSON.parse(request(lin, {}));\n            var urlt = JSON.parse(fetch(lin.replace('type=0', 'type=1'), {}));\n            //log(urlo);\n            if (urlo.resources.length < 1 && urlt.resources.length < 1) {\n                d.push({\n                    title: '当前关键字  ' + getVar('xyqappystext') + '  无搜索结果',\n                    col_type: 'text_center_1'\n                });\n            }\n            if (urlo.resources.length > 0) {\n                d.push({\n                    title: '♥当前第' + pn + '页',\n                    col_type: 'text_center_1'\n                });\n\n                for (var i = 0; i < urlo.resources.length; i++) {\n                    var title = urlo.resources[i].text.replace(/\\<.*?\\>/g, '');\n                    var url = urlo.resources[i].url;\n                    var desc = urlo.resources[i].website;\n                    d.push({\n                        title: title.replace(getVar('xyqappystext'), '““' + getVar('xyqappystext') + '””') + '  ' + desc + '  在线',\n                        url: url,\n                        //desc: '在线搜索结果',\n                        col_type: 'text_1'\n                    });\n                }\n            }\n\n            if (urlt.resources.length > 0) {\n                for (var j = 0; j < urlt.resources.length; j++) {\n                    var title = urlt.resources[j].text.replace(/\\<.*?\\>/g, '');\n                    var url = urlt.resources[j].url;\n                    var desc = urlt.resources[j].website;\n                    d.push({\n                        title: title.replace(getVar('xyqappystext'), '““' + getVar('xyqappystext') + '””') + '  ' + desc + '  下载',\n                        url: url,\n                        //desc: '下载搜索结果',\n                        col_type: 'text_1'\n                    });\n                }\n            }\n            res.data = d;\n            setResult(res);\n        }),\n        col_type: \"flex_button\"\n    });\n\n    var html = JSON.parse(JSON.parse(fetch('hiker://page/ResCode', {})).rule);\n    //var html = JSON.parse(fetchCache('https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/APP影视列表', 24));\n\n    var conts = html.data;\n    for (var i = 0; i < conts.length; i++) {\n        var list = conts[i].list;\n        var tytit = conts[i].title;\n        items.push({\n            title: tytit + ' ' + [list.length],\n            url: 'hiker://empty',\n            col_type: 'text_1'\n        });\n\n        if (random) {\n            let k = getVar(MY_RULE.title + \"-\" + tytit, \"\");\n            if (k == \"\") {\n                list = randomSort3(list)\n                putVar(MY_RULE.title + \"-\" + tytit, JSON.stringify(list))\n            } else {\n                list = JSON.parse(k)\n            }\n        }\n        for (var j = 0; j < list.length; j++) {\n            var title = list[j].title;\n            var turl = list[j].url;\n            var img = list[j].img;\n            if (/TV影视/.test(tytit)) {\n                var url = 'hiker://empty$$' + tytit + '$$' + turl + '$$?ac=list&class=&page=fypage&area=&type=&start=$$';\n            } else if (/APP影视/.test(tytit)) {\n                if (turl.indexOf('api.php/app/') != -1) {\n                    var url = 'hiker://empty$$' + tytit + '$$' + turl + '$$index_video?token=$$';\n                } else if (turl.indexOf('xgapp.php/v1/') != -1) {\n                    var url = 'hiker://empty$$' + tytit + '$$' + turl + '$$index_video?token=$$';\n                } else {\n                    var url = 'hiker://empty$$' + tytit + '$$' + turl + '$$/vodPhbAll$$';\n                }\n            }\n            items.push({\n                title: title,\n                url: url,\n                pic_url: img,\n                col_type: 'icon_round_small_4'\n            });\n        }\n    }\n    setResult({\n        data: items\n    });\n}","searchFind":"js:\nconst canUse = $.require(\"hiker://page/wait\");\nif (canUse) {\n    $.require('hiker://page/sear');\n}","search_url":"hiker://empty$$$**$$$fypage$$$","group":"②影搜","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {};\nvar items = [];\nvar typet = MY_URL.split('$$')[1];\nvar murl = MY_URL.split('$$')[2];\nvar turl = murl + MY_URL.split('$$')[3];\n\nif (/TV影视/.test(typet)) {\n    var pg = MY_URL.match(/page\\=([\\d]*)/)[1];\n    if (pg == 1) {\n        var typt = ('电影&连续剧&综艺&动漫').split('&');\n        var typl = ('movie&tvplay&tvshow&comic').split('&');\n\n        for (var i = 0; i < typt.length; i++) {\n            var tyurl = murl + '?ac=list&class=' + typl[i] + '&page=fypage&area=&type=&start=';\n            items.push({\n                title: typt[i],\n                url: $(tyurl).rule((murl) => {\n                    var res = {};\n                    var items = [];\n                    var murl = murl;\n                    var html = JSON.parse(getResCode());\n                    eval(JSON.parse(fetch('hiker://page/tvlistdata', {})).rule);\n                    res.data = items;\n                    setHomeResult(res);\n                }, murl),\n                col_type: 'flex_button'\n            })\n        }\n        items.push({\n            col_type: 'line'\n        });\n    }\n\n    try {\n        var html = JSON.parse(fetch(turl));\n        eval(JSON.parse(fetch('hiker://page/tvlistdata', {})).rule);\n    } catch (e) {}\n} else if (/APP影视/.test(typet)) {\n\n    try {\n        if (murl.search(/api.php\\/app/) != -1) {\n\n            var typcode = request(murl + \"nav?token=\", {\n                headers: {\n                    \"User-Agent\": \"Dart/2.13 (dart:io)\"\n                }\n            });\n            if (typcode.indexOf('检测中') != -1) {\n                typcode = fetch(murl + \"nav?token=\" + '&btwaf' + typcode.match(/btwaf(.*?)\\\"/)[1], {});\n            }\n            var typec = JSON.parse(typcode).list;\n\n        } else if (murl.search(/xgapp.php\\/v1/) != -1) {\n\n            var typcode = request(murl + \"nav?token=\", {\n                headers: {\n                    \"User-Agent\": \"Dart/2.13 (dart:io)\"\n                }\n            });\n            if (typcode.indexOf('检测中') != -1) {\n                typcode = fetch(murl + \"nav?token=\" + '&btwaf' + typcode.match(/btwaf(.*?)\\\"/)[1], {});\n            }\n            var typec = JSON.parse(typcode).data;\n\n        } else {\n            var typcode = request(murl + \"/types\", {\n                headers: {\n                    \"User-Agent\": \"Dart/2.13 (dart:io)\"\n                }\n            });\n            if (typcode.indexOf('检测中') != -1) {\n                typcode = fetch(murl + \"/types\" + '?btwaf' + typcode.match(/btwaf(.*?)\\\"/)[1], {});\n            }\n            var typec = JSON.parse(typcode).data.list;\n\n        }\n        var typet = \"\",\n            typel = \"\";\n        for (var j = 0; j < typec.length; j++) {\n            typet += typec[j].type_name;\n            typel += typec[j].type_id;\n            if (j < typec.length - 1) {\n                typet += \"&\";\n                typel += \"&\";\n            }\n        }\n        var typt = typet.split('&');\n        var typl = typel.split('&');\n\n        for (var i = 0; i < typt.length; i++) {\n            if (murl.indexOf('api.php/app/') != -1) {\n                if (/fantuan/.test(murl)) {\n                    var tyurl = 'https://fantuan.wkfile.com/api.php/app/video?pg=fypage&tid=' + typl[i] + '&class=&area=&lang=&year=&token=;get;utf-8;{User-Agent@Dart/2.13 (dart:io)}';\n                } else {\n                    var tyurl = murl + 'video?pg=fypage&tid=' + typl[i] + '&class=&area=&lang=&year=&token=;get;utf-8;{User-Agent@Dart/2.13 (dart:io)}';\n                }\n            } else if (murl.indexOf('xgapp.php/v1/') != -1) {\n                var tyurl = murl + 'video?pg=fypage&tid=' + typl[i] + '&class=&area=&lang=&year=;get;utf-8;{User-Agent@Dart/2.13 (dart:io)}';\n            } else {\n                if (/iopenyun/.test(murl)) {\n                    var tyurl = murl + '/list?type=' + typl[i] + '&class=&lang=&area=&year=&by=&page=fypage&limit=9;get;utf-8;{User-Agent@Dart/2.13 (dart:io)}'\n                } else {\n                    var tyurl = murl + '?type=' + typl[i] + '&class=&lang=&area=&year=&by=&page=fypage&limit=9;get;utf-8;{User-Agent@Dart/2.13 (dart:io)}'\n                }\n            }\n            items.push({\n                title: typt[i],\n                url: $(tyurl).rule((murl) => {\n                    var res = {};\n                    var items = [];\n                    var murl = murl;\n                    var rescode = getResCode();\n                    if (rescode.indexOf('检测中') != -1) {\n                        rescode = fetch(MY_URL + '&btwaf' + rescode.match(/btwaf(.*?)\\\"/)[1], {});\n                    }\n                    var html = JSON.parse(rescode);\n                    eval(JSON.parse(fetch('hiker://page/applistdata', {})).rule);\n\n                    res.data = items;\n                    setHomeResult(res);\n                }, murl),\n                col_type: 'flex_button'\n            })\n        }\n        items.push({\n            col_type: 'line'\n        });\n    } catch (e) {}\n\n\n    try {\n        var html = request(turl, {\n            headers: {\n                \"User-Agent\": \"Dart/2.13 (dart:io)\"\n            }\n        });\n        if (html.indexOf('检测中') != -1) {\n            html = fetch(turl + '&btwaf' + html.match(/btwaf(.*?)\\\"/)[1], {});\n        }\n        var html = JSON.parse(html);\n        //log(html);\n        //if (murl.indexOf('xgapp.php/v1/') != -1) {\n        eval(JSON.parse(fetch('hiker://page/appindexdata', {})).rule);\n        //} else {\n        //log(html);\n        //eval(JSON.parse(fetch('hiker://page/applistdata', {})).rule);\n        //}\n    } catch (e) {}\n\n}\n\nres.data = items;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"if (!fileExist('hiker://files/rules/xyq/appmset.json')) {\n    let set = `{\"ssmode\":\"0\",\"sscount\":\"5\",\"enDn\":\"0\"}`;\n    writeFile(\"hiker://files/rules/xyq/appmset.json\", set);\n}\nvar ruleset = fetch('hiker://files/rules/xyq/appmset.json', {});\nif (!JSON.parse(ruleset).enDn) {\n    let set = ruleset.replace('\\\"\\}', '\\\"\\,\\\"enDn\\\"\\:\\\"0\\\"\\}');\n    writeFile(\"hiker://files/rules/xyq/appmset.json\", set);\n}","pages":"[{\"col_type\":\"movie_3\",\"name\":\"JSON接口数据\",\"path\":\"ResCode\",\"rule\":\"{\\n    \\\"data\\\": [{\\n            \\\"title\\\": \\\"APP影视\\\",\\n            \\\"list\\\": [{\\n                    \\\"title\\\": \\\"007影视\\\",\\n                    \\\"url\\\": \\\"https://www.007ts.cc/api.php/app/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/零零七影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"555电影\\\",\\n                    \\\"url\\\": \\\"http://w7tv.com/api.php/app/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/555电影.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"5060影院\\\",\\n                    \\\"url\\\": \\\"https://app.linzhiyuan.xyz/xgapp.php/v1/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/5060影院.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"913e影视\\\",\\n                    \\\"url\\\": \\\"http://www.913e.net/xgapp.php/v1/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/913E影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"F7影视\\\",\\n                    \\\"url\\\": \\\"http://v.zq1080.cc/api.php/app/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/F7影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"one影视\\\",\\n                    \\\"url\\\": \\\"http://www.onedianshi.com/api.php/app/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/ONE影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"vip影院\\\",\\n                    \\\"url\\\": \\\"http://360yy.cn/xgapp.php/v1/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/VIP影院xg.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"爱尚影视\\\",\\n                    \\\"url\\\": \\\"https://www.aisvod.tv/xgapp.php/v1/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/爱尚影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"爱影吧\\\",\\n                    \\\"url\\\": \\\"http://www.ayinb.com/api.php/app/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/爱影吧.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"播放呀\\\",\\n                    \\\"url\\\": \\\"https://www.bofangya.com/xgapp.php/v1/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/播放呀.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"畅视影视\\\",\\n                    \\\"url\\\": \\\"http://app.reboju.net/api.php/app/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/畅视影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"迪迪影院\\\",\\n                    \\\"url\\\": \\\"http://dd88.icu:6080/api.php/app/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/迪迪影院.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"嘀哩嘀哩\\\",\\n                    \\\"url\\\": \\\"https://diliktv.xyz/xgapp.php/v1/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/嘀哩嘀哩.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"大师兄\\\",\\n                    \\\"url\\\": \\\"https://hou.lu/api.php/app/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/大师兄影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"段友影视\\\",\\n                    \\\"url\\\": \\\"https://lb.5277s.com/api.php/app/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/段友影视©.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"飞英视频\\\",\\n                    \\\"url\\\": \\\"http://v.phoves.com.cn/xgapp.php/v1/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/飞英视频.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"瓜皮TV\\\",\\n                    \\\"url\\\": \\\"http://www.dijiaxia.com/xgapp.php/v1/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/瓜皮TV.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"海胆影视\\\",\\n                    \\\"url\\\": \\\"http://xf123.cc/api.php/app/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/海胆影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"火箭影视\\\",\\n                    \\\"url\\\": \\\"http://huojian.wchulian.com.cn/api.php/app/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/火箭影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"海绵影视\\\",\\n                    \\\"url\\\": \\\"http://app1.yuzhouys.com/api.php/app/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/海绵影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"海棠视频\\\",\\n                    \\\"url\\\": \\\"https://www.haitangsp.net/xgapp.php/v1/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/海棠视频.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"京广航\\\",\\n                    \\\"url\\\": \\\"https://www.jingguanhang.com/api.php/app/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/京广航影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"九合视频\\\",\\n                    \\\"url\\\": \\\"https://ptygx.com/api.php/app/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/九合视频.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"久九影视\\\",\\n                    \\\"url\\\": \\\"https://api.58qxk.cn/xgapp.php/v1/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/久九影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"灵狐影视\\\",\\n                    \\\"url\\\": \\\"http://x.dmntv.com/api.php/app/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/灵狐影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"琳琅影视\\\",\\n                    \\\"url\\\": \\\"https://www.u23c.com/api.php/app/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/琳琅影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"极乐阁\\\",\\n                    \\\"url\\\": \\\"https://vip.wuqcms.com/api.php/app/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/极乐阁.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"抹茶猪\\\",\\n                    \\\"url\\\": \\\"https://www.mczdyw.com/xgapp.php/v1/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/抹茶猪电影.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"萌蛋蛋\\\",\\n                    \\\"url\\\": \\\"http://app.mengdandan.com/xgapp.php/v1/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/萌蛋蛋.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"迷你库\\\",\\n                    \\\"url\\\": \\\"http://www.miniku.cc/api.php/app/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/迷你库.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"皮皮影视\\\",\\n                    \\\"url\\\": \\\"http://pp.ig4.cn/xgapp.php/v1/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/皮皮影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"氢视频\\\",\\n                    \\\"url\\\": \\\"http://h1080p.com/api.php/app/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/氢视频.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"思古影视\\\",\\n                    \\\"url\\\": \\\"https://app.siguyy.com/xgapp.php/v1/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/思古影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"神马影院\\\",\\n                    \\\"url\\\": \\\"https://www.6080kan.cc/xgapp.php/v1/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/神马影院.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"双十电影\\\",\\n                    \\\"url\\\": \\\"http://www.shoujikandianying.com/api.php/app/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/双十电影.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"糖果影视\\\",\\n                    \\\"url\\\": \\\"https://www.tgys.tv/api.php/app/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/糖果影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"天空影视\\\",\\n                    \\\"url\\\": \\\"https://www.tkys.tv/api.php/app/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/天空影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"污妖动漫\\\",\\n                    \\\"url\\\": \\\"https://www.wyydm.com/api.php/app/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/污妖动漫.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"星空影视\\\",\\n                    \\\"url\\\": \\\"https://xkys.tv/xgapp.php/v1/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/星空影视xg.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"小强TV\\\",\\n                    \\\"url\\\": \\\"http://xqapp.hailanfj.com/xgapp.php/v1/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/小强TV.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"雪人影视\\\",\\n                    \\\"url\\\": \\\"http://qqtvapp.com/xgapp.php/v1/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/雪人影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"小易影视\\\",\\n                    \\\"url\\\": \\\"https://xy.irop.cn/api.php/app/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/小易影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"影视工场\\\",\\n                    \\\"url\\\": \\\"https://www.ik4.cc/api.php/app/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/影视工场.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"追剧达人\\\",\\n                    \\\"url\\\": \\\"http://vipmv.tv/xgapp.php/v1/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/追剧达人.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                }\\n            ]\\n        },\\n        {\\n            \\\"title\\\": \\\"APP影视(v1)\\\",\\n            \\\"list\\\": [{\\n                    \\\"title\\\": \\\"720看片\\\",\\n                    \\\"url\\\": \\\"https://tvd.720kp.cn/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/720看片.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"80影视\\\",\\n                    \\\"url\\\": \\\"http://www.ccc8.net/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/80影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"80K影视\\\",\\n                    \\\"url\\\": \\\"https://1080p.tv/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/80K影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"CJT影院\\\",\\n                    \\\"url\\\": \\\"https://www.cjt521.com/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/CJT影院.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"HG影视\\\",\\n                    \\\"url\\\": \\\"http://cs.hgyx.vip/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/HG影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"U5影视\\\",\\n                    \\\"url\\\": \\\"https://appx.uy07.com/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/U5影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"VIP影视\\\",\\n                    \\\"url\\\": \\\"http://www.sp.ooo/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/VIP影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"yoyo\\\",\\n                    \\\"url\\\": \\\"http://jx.wnvod.net/ruifenglb_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/yoyo影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"爱影视\\\",\\n                    \\\"url\\\": \\\"https://www.hzlff.cn/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/爱影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"爱看美剧\\\",\\n                    \\\"url\\\": \\\"https://www.uumjw.com/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/爱看美剧.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"艾特影视\\\",\\n                    \\\"url\\\": \\\"https://www.aitee.cc/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/艾特影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"爱西西\\\",\\n                    \\\"url\\\": \\\"http://app.aixixi.vip/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/爱西西影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"阿姨追剧\\\",\\n                    \\\"url\\\": \\\"http://www.77ysdy.com/ruifenglb_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/阿姨追剧2.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"白菜追剧\\\",\\n                    \\\"url\\\": \\\"http://lbapp.huimaojia.com:30119/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/白菜追剧.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"比邻影视\\\",\\n                    \\\"url\\\": \\\"http://0hzy.cn:9990/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/比邻影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"百讯视频\\\",\\n                    \\\"url\\\": \\\"https://z.iopenyun.com:99/app_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/百讯视频.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"菜鸟动漫\\\",\\n                    \\\"url\\\": \\\"http://taikong.huangguay.com/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/菜鸟动漫.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"畅优视界\\\",\\n                    \\\"url\\\": \\\"http://app.518imo.cn/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/畅优视界.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"初心影视\\\",\\n                    \\\"url\\\": \\\"https://www.18mv.club/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/初心影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"锤子追剧\\\",\\n                    \\\"url\\\": \\\"http://www.jjsvip.cc/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/锤子追剧.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"多多影视\\\",\\n                    \\\"url\\\": \\\"https://sp.9aeng.com/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/多多影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"大海影视\\\",\\n                    \\\"url\\\": \\\"http://119.29.63.137/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/大海影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"东南影院\\\",\\n                    \\\"url\\\": \\\"https://ys.dabih.cn/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/东南影院.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"大熊影视\\\",\\n                    \\\"url\\\": \\\"https://dxys3355.com/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/大熊影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"段友影视\\\",\\n                    \\\"url\\\": \\\"http://js.66app.me/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/段友影视2.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"段友影视\\\",\\n                    \\\"url\\\": \\\"https://shangjihuoke.com/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/段友影视3.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"二狗电影\\\",\\n                    \\\"url\\\": \\\"http://app.hetaoys.vip/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/二狗电影.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"风车影视\\\",\\n                    \\\"url\\\": \\\"http://www.feifan123.xyz/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/风车影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"飞捷影视\\\",\\n                    \\\"url\\\": \\\"https://www.fj6080.com/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/飞捷影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"疯狂看\\\",\\n                    \\\"url\\\": \\\"http://app.fkkdy.vip/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/疯狂看电影.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"公主影视\\\",\\n                    \\\"url\\\": \\\"http://mm.tcsdchina.com:6096/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/公主影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"辉哥影视\\\",\\n                    \\\"url\\\": \\\"https://app.y.hgyule8.com/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/辉哥影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"黄河影视\\\",\\n                    \\\"url\\\": \\\"http://i.ledu8.cn/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/黄河影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"黑马动漫\\\",\\n                    \\\"url\\\": \\\"http://lkan.vip/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/黑马动漫.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"黑马影视\\\",\\n                    \\\"url\\\": \\\"http://www.lkan.vip/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/黑马影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"盒子影院\\\",\\n                    \\\"url\\\": \\\"http://i.nihaohezi.com/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/盒子影院.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"筋斗云\\\",\\n                    \\\"url\\\": \\\"https://tv.jindcloud.com/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/筋斗云影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"极简影视\\\",\\n                    \\\"url\\\": \\\"https://tv.areone.top/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/极简影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"久久追剧\\\",\\n                    \\\"url\\\": \\\"http://bc.bhtv.org.cn/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/久久追剧.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"剧迷视频\\\",\\n                    \\\"url\\\": \\\"http://pan.hzafw.com/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/剧迷视频.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"橘子影视\\\",\\n                    \\\"url\\\": \\\"http://jz.juzidy.vip/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/橘子影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"看剧吧\\\",\\n                    \\\"url\\\": \\\"http://app.ishen520.com/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/看剧吧.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"可米影视\\\",\\n                    \\\"url\\\": \\\"http://www.kmysw.vip/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/可米影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"阔贼影院\\\",\\n                    \\\"url\\\": \\\"https://www.itvaa.com/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/阔贼影院.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"快云影音\\\",\\n                    \\\"url\\\": \\\"https://k.ptygx.com/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/快云影音.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"蓝光视频\\\",\\n                    \\\"url\\\": \\\"http://vip.91iqiyi.com/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/蓝光视频.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"林谷影视\\\",\\n                    \\\"url\\\": \\\"http://ys.linguyy.xyz/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/林谷影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"绿箭影视\\\",\\n                    \\\"url\\\": \\\"http://www.69ty.cc/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/绿箭影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"乐看视频\\\",\\n                    \\\"url\\\": \\\"http://www.lkan.vip/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/乐看视频.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"冷视TV\\\",\\n                    \\\"url\\\": \\\"https://len.tv/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/冷视TV.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"木白影视\\\",\\n                    \\\"url\\\": \\\"http://vapp.23at.cn/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/木白影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"美剧虫\\\",\\n                    \\\"url\\\": \\\"https://meijuchong.com/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/美剧虫.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"喵乐影视\\\",\\n                    \\\"url\\\": \\\"http://miaoleys.com/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/喵乐影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"麻腾TV\\\",\\n                    \\\"url\\\": \\\"https://www.matengtv.top/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/麻腾TV.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"喵影影视\\\",\\n                    \\\"url\\\": \\\"http://www.mxmbk.xyz/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/喵影影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"木子电影\\\",\\n                    \\\"url\\\": \\\"http://www.muzidy.top/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/木子电影.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"麻子追剧\\\",\\n                    \\\"url\\\": \\\"http://b.2maz.cn/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/麻子追剧.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"奈非迷\\\",\\n                    \\\"url\\\": \\\"https://app.netflixmi.com/ruifenglb_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/奈非迷影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"南府影视\\\",\\n                    \\\"url\\\": \\\"http://nfapi.xkvideo.club/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/南府影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"暖光影视\\\",\\n                    \\\"url\\\": \\\"https://app.bl210.com/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/暖光影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"内涵影视\\\",\\n                    \\\"url\\\": \\\"http://v.nhdyys.cn/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/内涵影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"皮皮动漫\\\",\\n                    \\\"url\\\": \\\"http://dm.muying.me/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/皮皮动漫.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"皮影视\\\",\\n                    \\\"url\\\": \\\"http://app.piyingshi.com/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/皮影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"全能影视\\\",\\n                    \\\"url\\\": \\\"https://qnys5566.com/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/全能影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"奇趣影视\\\",\\n                    \\\"url\\\": \\\"https://app.qiqu.me/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/奇趣影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"骑士影院\\\",\\n                    \\\"url\\\": \\\"https://app.qishi.xyz/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/骑士影院.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"人人动漫\\\",\\n                    \\\"url\\\": \\\"http://man.jjsvip.cc/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/人人动漫.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"神马影视\\\",\\n                    \\\"url\\\": \\\"http://xin.jjsvip.cc/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/神马影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"思奇影视\\\",\\n                    \\\"url\\\": \\\"http://app.siqitv.vip/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/思奇影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"视听星球\\\",\\n                    \\\"url\\\": \\\"http://zjyapijzys.shynwlkj.com/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/视听星球.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"手指影视\\\",\\n                    \\\"url\\\": \\\"http://szys3355.com/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/手指影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"土豆TV\\\",\\n                    \\\"url\\\": \\\"http://xiuxian.qd234.cn/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/土豆TV.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"淘剧社\\\",\\n                    \\\"url\\\": \\\"https://app.shuhai99.com/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/淘剧社.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"天空影视\\\",\\n                    \\\"url\\\": \\\"https://tv.51aizn.com/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/天空影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"天天影视\\\",\\n                    \\\"url\\\": \\\"http://app.at008.cn/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/天天影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"天天视频\\\",\\n                    \\\"url\\\": \\\"http://app.qianju.cc/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/天天视频.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"团夕影院\\\",\\n                    \\\"url\\\": \\\"http://119.29.121.48/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/团夕影院.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"兔子窝\\\",\\n                    \\\"url\\\": \\\"http://cj.huimaojia.com:12345/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/兔子窝.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"我爱跟剧\\\",\\n                    \\\"url\\\": \\\"https://www.genmov.com/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/我爱跟剧.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"吾爱影视\\\",\\n                    \\\"url\\\": \\\"http://app.5lp.net/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/吾爱影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"蜗牛看鸭\\\",\\n                    \\\"url\\\": \\\"http://movie.96keji.cn/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/蜗牛看鸭.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"蜗牛动漫\\\",\\n                    \\\"url\\\": \\\"http://woniudm.woniu.cyou:20000/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/蜗牛动漫.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"小城影视\\\",\\n                    \\\"url\\\": \\\"https://www.269w.com/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/小城影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"先锋视频\\\",\\n                    \\\"url\\\": \\\"https://58xtv.net/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/先锋视频.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"小极影视\\\",\\n                    \\\"url\\\": \\\"http://api.xiaoysw.com/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/小极影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"星空影视\\\",\\n                    \\\"url\\\": \\\"http://xiongkongwx.cn/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/星空影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"熊猫动漫\\\",\\n                    \\\"url\\\": \\\"http://dongman.k8aa.com/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/熊猫动漫.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"玺娜影视\\\",\\n                    \\\"url\\\": \\\"https://pp.wxina.cn/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/玺娜影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"小蜻蜓\\\",\\n                    \\\"url\\\": \\\"http://3ketv.com/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/小蜻蜓视频.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"雪人资源\\\",\\n                    \\\"url\\\": \\\"https://zy.qd234.cn/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/雪人资源站.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"星影相随\\\",\\n                    \\\"url\\\": \\\"http://app.rootthree.top/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/星影相随.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"小易影视\\\",\\n                    \\\"url\\\": \\\"http://xy.irop.cn/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/小易影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"星月追剧\\\",\\n                    \\\"url\\\": \\\"http://xingyuezhuiju.com/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/星月追剧.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"益达影院\\\",\\n                    \\\"url\\\": \\\"http://luobu.yss6080.com/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/益达影院.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"元芳影视\\\",\\n                    \\\"url\\\": \\\"http://yfys1122.com/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/元芳影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"雨果影视\\\",\\n                    \\\"url\\\": \\\"http://ygapp.xcys63.com/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/雨果影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"樱花动漫\\\",\\n                    \\\"url\\\": \\\"https://www.dmwu.cc/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/樱花动漫.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"颖家影院\\\",\\n                    \\\"url\\\": \\\"http://zly.xjqxz.top/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/颖家影院.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"月亮影视\\\",\\n                    \\\"url\\\": \\\"http://www.13tv.top/acj_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/月亮影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"影视大全\\\",\\n                    \\\"url\\\": \\\"https://xc.xixi2yy.xyz/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/影视大全HD.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"影视热剧\\\",\\n                    \\\"url\\\": \\\"http://lb.26ys.cn/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/影视热剧.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"月色影视\\\",\\n                    \\\"url\\\": \\\"http://69ty.cc/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/月色影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"杨桃影视\\\",\\n                    \\\"url\\\": \\\"http://ytys1122.com/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/杨桃影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"影阅阁\\\",\\n                    \\\"url\\\": \\\"http://221.236.18.12:665/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/影阅阁.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"渔渔影视\\\",\\n                    \\\"url\\\": \\\"http://luobo.yugenye.site/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/渔渔影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"优优影院\\\",\\n                    \\\"url\\\": \\\"http://xs.78tv.cc/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/优优影院.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"一只鱼\\\",\\n                    \\\"url\\\": \\\"http://www.bd-4k.ml/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/一只鱼影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"追番猫\\\",\\n                    \\\"url\\\": \\\"http://dm.496dy.cn:88/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/追番猫.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"宅男影院\\\",\\n                    \\\"url\\\": \\\"http://www.sexyy.top/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/宅男影院.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"侦探影视\\\",\\n                    \\\"url\\\": \\\"http://ys.huangguay.com/mogai_api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/侦探影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"追影兔\\\",\\n                    \\\"url\\\": \\\"http://longw.xyz:91/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/追影兔.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"猪猪影院\\\",\\n                    \\\"url\\\": \\\"http://app.2zdyy.com/api.php/v1.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/猪猪影院.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                }\\n            ]\\n        },\\n        {\\n            \\\"title\\\": \\\"APP影视(tv)\\\",\\n            \\\"list\\\": [{\\n                    \\\"title\\\": \\\"555TV\\\",\\n                    \\\"url\\\": \\\"http://tv.gxhshyy.com/api.php/gctvapi.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/555TV.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"720看片\\\",\\n                    \\\"url\\\": \\\"https://tvd.720kp.cn/api.php/tv.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/720看片TV.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"段友影视\\\",\\n                    \\\"url\\\": \\\"https://shangjihuoke.com/api.php/tv.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/段友影视TV.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"可米影视\\\",\\n                    \\\"url\\\": \\\"http://www.kmysw.vip/api.php/tv.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/可米影视.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"奈非迷TV\\\",\\n                    \\\"url\\\": \\\"https://app.netflixmi.com/api.php/tv.vod\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/奈非迷TV.png\\\",\\n                    \\\"murl\\\": \\\"q:APP影视\\\"\\n                }\\n            ]\\n        },\\n        {\\n            \\\"title\\\": \\\"TV影视\\\",\\n            \\\"list\\\": [{\\n                    \\\"title\\\": \\\"2号币\\\",\\n                    \\\"url\\\": \\\"http://phoebe.cf/api.php/iptv/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/2号币影院.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"F7影院\\\",\\n                    \\\"url\\\": \\\"http://mtv.haokanju1.cc/api.php/Chengcheng/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/F7影院.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"HG影视\\\",\\n                    \\\"url\\\": \\\"http://api.hgyx.vip/api.php/iptv/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/HG影视.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"傲视影院\\\",\\n                    \\\"url\\\": \\\"http://j.zjj.life:88/mv/api.php/Chengcheng/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/傲视影院.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"爱西西TV\\\",\\n                    \\\"url\\\": \\\"http://tv.aixixi.vip/api.php/iptv/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/爱西西TV.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"尘梓TV\\\",\\n                    \\\"url\\\": \\\"http://cztv.vip:83/api.php/chenziystv/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/尘梓TV.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"稻草人TV\\\",\\n                    \\\"url\\\": \\\"http://www.zhaikanys.xyz/api.php/iptv1/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/稻草人TV.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"嘀哩嘀哩\\\",\\n                    \\\"url\\\": \\\"https://api.diliktv.xyz/api.php/Chengcheng/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/嘀哩嘀哩TV.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"动力影视\\\",\\n                    \\\"url\\\": \\\"http://www.love9989.com/api.php/iptv/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/动力影视.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"大师兄\\\",\\n                    \\\"url\\\": \\\"http://dsxtv.tv.ci/api.php/dsx/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/大师兄影视.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"风车影视\\\",\\n                    \\\"url\\\": \\\"http://www.feifan123.xyz/api.php/iptv/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/风车影视.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"疯狂看TV\\\",\\n                    \\\"url\\\": \\\"http://tv.fkkdy.vip/api.php/iptv/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/疯狂看TV.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"火箭影视\\\",\\n                    \\\"url\\\": \\\"http://293.0759.fit:8/c/api.php/WAiLaowang/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/火箭影视.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"黑龙影视\\\",\\n                    \\\"url\\\": \\\"http://vip.ji-ding-he.site/api.php/iptv/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/黑龙影视.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"红牛TV\\\",\\n                    \\\"url\\\": \\\"http://bbb.056158.com/api.php/iptv/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/红牛TV.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"核桃影视\\\",\\n                    \\\"url\\\": \\\"http://tv.hetaoys.vip/api.php/iptv/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/核桃影视.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"聚多影视\\\",\\n                    \\\"url\\\": \\\"http://jdys.weetai.cn/api.php/iptv/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/聚多影视.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"久久影院\\\",\\n                    \\\"url\\\": \\\"http://lm.0818tv.com/mv/api.php/jiujiuystv/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/久久影院.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"乐酷TV\\\",\\n                    \\\"url\\\": \\\"http://lktv.top:55/api.php/chenziystv/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/乐酷TV.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"流星雨\\\",\\n                    \\\"url\\\": \\\"http://syy.lxyyy.xyz/mv/api.php/Chengcheng/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/流星雨影院.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"凌雪影视\\\",\\n                    \\\"url\\\": \\\"http://lxue.top/api.php/iptv/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/凌雪影视.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"冷月TV\\\",\\n                    \\\"url\\\": \\\"https://tv.521x5.com/api.php/iptv/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/冷月TV.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"思奇TV\\\",\\n                    \\\"url\\\": \\\"http://tv.siqitv.vip/api.php/iptv/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/思奇TV.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"双子星\\\",\\n                    \\\"url\\\": \\\"http://tv.diyoui.cc/api.php/iptv/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/双子星.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"若惜影视\\\",\\n                    \\\"url\\\": \\\"http://rxw.ruoxinew.com/api.php/Sntv/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/若惜影视.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"小极TV\\\",\\n                    \\\"url\\\": \\\"http://api.8d8q.com/mmv/api.php/Chengcheng/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/小极TV.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                },\\n                {\\n                    \\\"title\\\": \\\"云播影视\\\",\\n                    \\\"url\\\": \\\"http://yunbo.bxin.tv/api.php/iptv/vod/\\\",\\n                    \\\"img\\\": \\\"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/云播影视.png\\\",\\n                    \\\"murl\\\": \\\"q:TV影视\\\"\\n                }\\n            ]\\n        }\\n    ]\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"搜索\",\"path\":\"sear\",\"rule\":\"var res = {};\\nvar items = [];\\n//设置搜索线程\\nvar ssmode = JSON.parse(fetch('hiker://files/rules/xyq/appmset.json', {})).ssmode;\\nvar key = MY_URL.split('$$$')[1];\\n//setError(le);\\nif (ssmode == '0') {\\n    setPageTitle(key + ' 的搜索结果')\\n};\\nvar html = JSON.parse(JSON.parse(fetch('hiker://page/ResCode', {})).rule);\\n//var html = JSON.parse(fetchCache('https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/APP影视列表', 24));\\n\\nvar dlist = html.data;\\n\\nfunction randomSort3(arr) {\\n    arr.sort(function(a, b) {\\n        return Math.random() - 0.5;\\n    });\\n    return arr;\\n}\\n\\n//打乱顺序\\nvar random = true;\\nif (ssmode == '1' || MY_TYPE == 'home') {\\n    for (var l = 0; l < dlist.length; l++) {\\n        var list = dlist[l].list;\\n        var tytit = dlist[l].title\\n        if (random) {\\n            let k = getVar(MY_RULE.title + \\\"-\\\" + tytit, \\\"\\\");\\n            if (k == \\\"\\\") {\\n                list = randomSort3(list)\\n                putVar(MY_RULE.title + \\\"-\\\" + tytit, JSON.stringify(list))\\n            } else {\\n                list = JSON.parse(k)\\n            }\\n        }\\n\\n\\n        items.push({\\n            title: MY_TYPE == \\\"home\\\" ? \\\"点击查看 \\\" + tytit + \\\" 分类 ““\\\" + key + \\\"”” 的聚搜结果\\\" : \\\"点击查看 \\\" + tytit + \\\" 分类 \\\" + key + \\\" 的聚搜结果\\\",\\n            url: $('hiker://empty$$$' + key + '$$$fypage$$$').rule((list, tytit) => {\\n                var res = {};\\n                var items = [];\\n                //取搜索线程设置\\n                var ssxc = JSON.parse(fetch('hiker://files/rules/xyq/appmset.json', {})).sscount;\\n                //设置超时时间，越小越快，单位毫秒\\n                //var timeou = 5000;\\n                var key = MY_URL.split('$$$')[1];\\n                var num = MY_URL.split('$$$')[2];\\n                var le = parseInt(num * ssxc);\\n                var Data = [];\\n                var Tit = [];\\n                for (var j = le - ssxc; j < le; j++) {\\n                    if (j < list.length) {\\n                        var link = list[j].url;\\n\\n                        if (/APP影视/.test(tytit)) {\\n                            if (link.indexOf('api.php/app/') != -1) {\\n                                var hmurl = link + 'search?pg=1&text=' + key + '&token=';\\n                            } else if (link.indexOf('xgapp.php/v1/') != -1) {\\n                                var hmurl = link + 'search?pg=1&text=' + key;\\n                            } else {\\n                                if (/iopenyun/.test(link)) {\\n                                    var hmurl = link + '/list?page=fypage&limit=10&wd=' + key;\\n                                } else {\\n                                    var hmurl = link + '?page=1&limit=10&wd=' + key;\\n                                }\\n                            }\\n                        } else if (/TV影视/.test(tytit)) {\\n                            if (/19jx|293ys|zhaikanys|ji\\\\-ding\\\\-he|phoebe|yunbo\\\\.bxin|lanrentk|hetaoys|pxun|139\\\\.155|fkkdy|056158|aixixi|ruoxinew|feifan123|siqitv/.test(link)) {\\n                                var hmurl = link + '?ac=list&zm=' + key + '&page=1';\\n                            } else {\\n                                var hmurl = link + '?ac=list&wd=' + key + '&page=1';\\n                            }\\n                        }\\n                        //Data.push({url: hmurl,options: {headers: {\\\"User-Agent\\\": \\\"Dart/2.13 (dart:io)\\\"},timeout: timeou}});\\n                        Data.push({\\n                            url: hmurl,\\n                            options: {\\n                                headers: {\\n                                    \\\"User-Agent\\\": \\\"Dart/2.13 (dart:io)\\\"\\n                                }\\n                            }\\n                        });\\n                        Tit.push({\\n                            tit: list[j].title,\\n                            link: link,\\n                            typnm: tytit\\n                        });\\n                    } //if\\n                } //for j\\n\\n                //---代码分界线---- \\n                if (Data != '') {\\n                    var bhtml = batchFetch(Data);\\n                    //writeFile(\\\"hiker://files/rules/xyq/appError.json\\\",JSON.stringify(bhtml));\\n\\n                    for (var k = 0; k < bhtml.length; k++) {\\n                        var html = bhtml[k];\\n                        //log(html);\\n                        try {\\n                            html = html.substring(0, 2) == '\\\\r\\\\n' ? html.replace('\\\\r\\\\n', '') : html;\\n                        } catch (e) {}\\n                        if (/btwaf/.test(html)) {\\n                            html = fetch(Data[k].url + '&btwaf' + html.match(/btwaf(.*?)\\\\\\\"/)[1], {});\\n\\n                        }\\n                        if (html == \\\"\\\" || html == null || html.substring(0, 5) == 'error' || !html.startsWith('{')) {\\n\\n                            items.push({\\n                                title: Tit[k].tit + ' ' + '未搜索到，点击访问原网页',\\n                                url: Data[k].url + `@lazyRule=.js:input.split(';')[0]`,\\n                                col_type: 'text_1'\\n                            });\\n\\n                        } else if (html.length < 80) {\\n                            items.push({\\n                                title: Tit[k].tit + ' ' + '返回数据不完整，点击访问原网页',\\n                                url: Data[k].url + `@lazyRule=.js:input.split(';')[0]`,\\n                                col_type: 'text_1'\\n                            });\\n                        } else {\\n                            var html = JSON.parse(html);\\n                            //log(html);\\n                            var typet = Tit[k].typnm;\\n                            var tdomin = Tit[k].link;\\n                            if (html.list) {\\n                                var list = html.list;\\n                            } else if (html.data.list) {\\n                                var list = html.data.list;\\n                            } else if (html.data) {\\n                                var list = html.data;\\n                            } else {\\n                                var list = [];\\n                            }\\n                            if (list.length < 1) {\\n\\n                                items.push({\\n                                    title: Tit[k].tit + ' ' + '列表小于1，无法展示，点击访问原网页',\\n                                    url: Data[k].url + `@lazyRule=.js:input.split(';')[0]`,\\n                                    col_type: 'text_1'\\n                                });\\n\\n                            } else {\\n                                for (var i = 0; i < list.length; i++) {\\n                                    if (/TV影视/.test(typet)) {\\n                                        var title = list[i].title;\\n                                        var pic = list[i].pic;\\n                                        var vid = list[i].nextlink;\\n                                        var rem = list[i].state;\\n                                    } else if (/APP影视/.test(typet)) {\\n\\n                                        if (tdomin.indexOf('api.php/app/') != -1) {\\n                                            var title = list[i].vod_name;\\n                                            var pic = list[i].vod_pic;\\n                                            if (/fantuan/.test(tdomin)) {\\n                                                var vid = 'https://fantuan.wkfile.com/api.php/app/video_detail?id=' + list[i].vod_id + '&token=';\\n                                            } else {\\n                                                var vid = tdomin + 'video_detail?id=' + list[i].vod_id + '&token=';\\n                                            }\\n                                            var rem = list[i].vod_remarks;\\n                                            //var con=list[i].type.type_des;\\n                                        } else if (tdomin.indexOf('xgapp.php/v1/') != -1) {\\n                                            var title = list[i].vod_name;\\n                                            var pic = list[i].vod_pic;\\n                                            var vid = tdomin + 'video_detail?id=' + list[i].vod_id;\\n                                            var rem = list[i].vod_remarks;\\n                                            //var con=list[i].type.type_des;\\n                                        } else {\\n                                            var title = list[i].vod_name;\\n                                            var pic = list[i].vod_pic;\\n                                            if (/iopenyun/.test(tdomin)) {\\n                                                var vid = tdomin + '/detailID?vod_id=' + list[i].vod_id + '&token=';\\n                                            } else {\\n                                                var vid = tdomin + '/detail?vod_id=' + list[i].vod_id + '&token=';\\n                                            }\\n                                            var rem = list[i].vod_remarks;\\n                                            //var con=list[i].type.type_des;\\n                                        }\\n\\n                                    }\\n                                    //var con=list[i].state;\\n                                    //log(vid);\\n\\n                                    items.push({\\n                                        title: MY_TYPE == \\\"home\\\" ? title.replace(key, '““' + key + '””') + '\\\\n' + rem : title + rem,\\n                                        pic_url: pic + '@Referer=',\\n                                        url: $(vid + ';get;utf-8;{User-Agent@Dart/2.13 (dart:io)}').rule((typet) => {\\n                                            var res = {};\\n                                            var items = [];\\n                                            var html = JSON.parse(getResCode());\\n                                            items.push({\\n                                                title: '',\\n                                                desc: '255&&float',\\n                                                url: '',\\n                                                col_type: 'x5_webview_single'\\n                                            });\\n                                            var myurl = MY_URL.match(/([\\\\S]*?:\\\\/\\\\/[\\\\S]*?)\\\\//)[1];\\n                                            if (/APP影视/.test(typet)) {\\n                                                eval(JSON.parse(fetch('hiker://page/appmovlist', {})).rule);\\n                                            } else if (/TV影视/.test(typet)) {\\n                                                eval(JSON.parse(fetch('hiker://page/tvmovlist', {})).rule);\\n                                            }\\n\\n                                            res.data = items;\\n                                            setHomeResult(res);\\n                                        }, typet),\\n                                        //content: rem,\\n                                        desc: typet + ' => ' + Tit[k].tit,\\n                                        col_type: 'movie_1_vertical_pic'\\n                                    });\\n                                } //for i\\n                            } //if list.length\\n                        }\\n                    } //for k bhtml.length\\n                }\\n\\n                res.data = items;\\n                setHomeResult(res);\\n            }, list, tytit),\\n            col_type: 'text_1'\\n        });\\n\\n    } //for i\\n}; //end mode 1\\n\\nif (ssmode == '0' || MY_TYPE == 'home') {\\n    for (var i = 0; i < dlist.length; i++) {\\n        var list = dlist[i].list;\\n        var tytit = dlist[i].title\\n        if (random) {\\n            let k = getVar(MY_RULE.title + \\\"-\\\" + tytit, \\\"\\\");\\n            if (k == \\\"\\\") {\\n                list = randomSort3(list)\\n                putVar(MY_RULE.title + \\\"-\\\" + tytit, JSON.stringify(list))\\n            } else {\\n                list = JSON.parse(k)\\n            }\\n        }\\n\\n        items.push({\\n            title: MY_TYPE == \\\"home\\\" ? \\\" 选择一个 \\\"+dlist[i].title+\\\" 项目查看 ““\\\" + key + \\\"”” 的搜索结果\\\" : \\\" 选择一个 \\\"+dlist[i].title+\\\" 项目查看 \\\" + key + \\\" 的搜索结果\\\",\\n            col_type: 'text_1'\\n        });\\n\\n        for (var j = 0; j < list.length; j++) {\\n            var link = list[j].url;\\n\\n            if (/APP影视/.test(tytit)) {\\n                if (link.indexOf('api.php/app/') != -1) {\\n                    var hmurl = link + 'search?pg=fypage&text=' + key + '&token=';\\n                } else if (link.indexOf('xgapp.php/v1/') != -1) {\\n                    var hmurl = link + 'search?pg=fypage&text=' + key;\\n                } else {\\n                    if (/iopenyun/.test(link)) {\\n                        var hmurl = link + '/list?page=fypage&limit=10&wd=' + key;\\n                    } else {\\n                        var hmurl = link + '?page=fypage&limit=10&wd=' + key;\\n                    }\\n                }\\n            } else if (/TV影视/.test(tytit)) {\\n                if (/19jx|293ys|zhaikanys|ji\\\\-ding\\\\-he|phoebe|yunbo\\\\.bxin|lanrentk|hetaoys|pxun|139\\\\.155|fkkdy|056158|aixixi|ruoxinew|feifan123|siqitv/.test(link)) {\\n                    var hmurl = link + '?ac=list&zm=' + key + '&page=fypage';\\n                } else {\\n                    var hmurl = link + '?ac=list&wd=' + key + '&page=fypage';\\n                }\\n            }\\n            items.push({\\n                title: list[j].title,\\n                img: list[j].img,\\n                url: $('hiker://empty#x#' + hmurl + '#x#' + link + '#x#' + tytit + '#x#' + key + '#x#').rule(() => {\\n                    $.require('hiker://page/searerj');\\n                }),\\n                col_type: 'icon_round_small_4'\\n                //col_type: 'text_3'\\n                //link:link,\\n                //type: i\\n            });\\n\\n        } //for j\\n\\n\\n    } //for i\\n\\n} //end mode 0\\n\\n\\nres.data = items;\\nsetHomeResult(res);\"},{\"col_type\":\"movie_3\",\"name\":\"APP分类列表\",\"path\":\"applistdata\",\"rule\":\"if (html.list) {\\n    var list = html.list;\\n} else if (html.data && html.data.list) {\\n    var list = html.data.list;\\n} else {\\n    var list = html.data;\\n}\\n//log(list);\\nfor (var i = 0; i < list.length; i++) {\\n    var title = list[i].vod_name;\\n    var img = list[i].vod_pic;\\n    var url = list[i].vod_id;\\n    var desc = list[i].vod_remarks;\\n    if (html.list) {\\n        var link = murl + 'video_detail?id=' + url + '&token=;get;utf-8;{User-Agent@Dart/2.13 (dart:io)}';\\n    } else if (html.data && html.data.list) {\\n        var link = murl + '/detail?vod_id=' + url + '&rel_limit=10;get;utf-8;{User-Agent@Dart/2.13 (dart:io)}';\\n    } else {\\n        var link = murl + 'video_detail?id=' + url + '&token=;get;utf-8;{User-Agent@Dart/2.13 (dart:io)}';\\n    };\\n    if (/fantuan/.test(murl)) {\\n        var link = 'https://fantuan.wkfile.com/api.php/app/video_detail?id=' + url + '&token=;get;utf-8;{User-Agent@Dart/2.13 (dart:io)}';\\n    } else if (/iopenyun/.test(murl)) {\\n        var link = murl + '/detailID?vod_id=' + url + '&rel_limit=10;get;utf-8;{User-Agent@Dart/2.13 (dart:io)}';\\n    } else if (/dijiaxia/.test(murl)) {\\n        var link = 'http://www.dijiaxia.com/api.php/app/video_detail?id=' + url;\\n    }\\n    items.push({\\n        title: title,\\n        pic_url: img + '@Referer=',\\n        url: $(link).rule(() => {\\n            var res = {};\\n            var items = [];\\n            items.push({\\n                title: '',\\n                desc: '255&&float',\\n                url: '',\\n                col_type: 'x5_webview_single'\\n            });\\n            refreshX5WebView('');\\n            var html = JSON.parse(getResCode());\\n            var myurl = MY_URL.match(/([\\\\S]*?:\\\\/\\\\/[\\\\S]*?)\\\\//)[1];\\n            eval(JSON.parse(fetch('hiker://page/appmovlist', {})).rule);\\n            res.data = items;\\n            setHomeResult(res);\\n        }),\\n        desc: desc,\\n        col_type: 'movie_3_marquee'\\n    });\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"TV列表解析\",\"path\":\"tvlistdata\",\"rule\":\"var list = html.data;\\nfor (var i = 0; i < list.length; i++) {\\n    var title = list[i].title;\\n    var img = list[i].pic;\\n    var url = list[i].nextlink;\\n    var desc = list[i].state;\\n    url = url.startsWith('http') ? url : murl + '?ac=detail&ids=' + url;\\n    items.push({\\n        title: title,\\n        pic_url: img + '@Referer=',\\n        url: $(url).rule(() => {\\n            var res = {};\\n            var items = [];\\n            var html = JSON.parse(getResCode());\\n            var myurl = MY_URL.match(/([\\\\S]*?:\\\\/\\\\/[\\\\S]*?)\\\\//)[1];\\n            items.push({\\n                title: '',\\n                desc: '255&&float',\\n                url: '',\\n                col_type: 'x5_webview_single'\\n            });\\n            refreshX5WebView('');\\n            eval(JSON.parse(fetch('hiker://page/tvmovlist', {})).rule);\\n            res.data = items;\\n            setHomeResult(res);\\n        }),\\n        desc: desc,\\n        col_type: 'movie_3_marquee'\\n    });\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"APP简介与选集\",\"path\":\"appmovlist\",\"rule\":\"if (html.data.vod_url_with_player) {\\n    var conts = html.data.vod_url_with_player;\\n    if (conts.length < 1) {\\n        conts = html.data.vod_play_url.split('$$$');\\n        var tabs = html.data.vod_play_from.split('$$$');\\n    }\\n} else if (html.data.vod_info && html.data.vod_info.vod_url_with_player) {\\n    var conts = html.data.vod_info.vod_url_with_player;\\n    if (conts.length < 1) {\\n        conts = html.data.vod_info.vod_play_url.split('$$$');\\n        var tabs = html.data.vod_info.vod_play_from.split('$$$');\\n    }\\n} else {\\n    var conts = html.data.vod_play_list;\\n    if (conts.length < 1) {\\n        conts = html.data.vod_play_url.split('$$$');\\n        var tabs = html.data.vod_play_from.split('$$$');\\n    }\\n}\\n\\n//log(conts);\\n\\nvar thumb = html.data.vod_info ? html.data.vod_info.vod_pic : html.data.vod_pic;\\neval(JSON.parse(fetch('hiker://page/dnplugin', {})).rule);\\nitems.push({\\n    title: '剧情简介：',\\n    desc: html.data.vod_info ? html.data.vod_info.vod_content : html.data.vod_content,\\n    pic_url: thumb,\\n    url: dnpug,\\n    col_type: 'movie_1_vertical_pic'\\n});\\nvar jiek = '';\\nfor (var i = 0; i < conts.length; i++) {\\n    if (conts[i].urls) {\\n        var list = conts[i].urls;\\n    } else if (conts[i].url) {\\n        var list = conts[i].url.split(\\\"#\\\");\\n    } else {\\n        var list = conts[i].split(\\\"#\\\");\\n    }\\n    //setError(list.length);\\n    if (html.data.vod_url_with_player) {\\n        var ptab = conts[i].code ? conts[i].code : tabs[i];\\n    } else if (html.data.vod_info && html.data.vod_info.vod_url_with_player) {\\n        var ptab = conts[i].code ? conts[i].code : tabs[i];\\n    } else {\\n        var ptab = conts[i].from ? conts[i].from : tabs[i];\\n    }\\n    items.push({\\n        title: ptab + ' 🔗' + [i + 1] + '/' + [conts.length],\\n        col_type: 'text_1'\\n    });\\n    for (var j = 0; j < list.length; j++) {\\n        if (conts[i].urls) {\\n            var vlink = list[j].url;\\n            var title = list[j].name;\\n        } else {\\n            var vlink = list[j].split(\\\"$\\\")[1];\\n            var title = list[j].split(\\\"$\\\")[0];\\n        }\\n        try {\\n            if (html.data.vod_url_with_player) {\\n                var jiek = conts[i].parse_api;\\n            } else if (html.data.vod_info && html.data.vod_info.vod_url_with_player) {\\n                var jiek = conts[i].parse_api;\\n            } else {\\n                if (conts[i].player_info.parse2 && (conts[i].player_info.parse2).indexOf(\\\"=\\\") != -1) {\\n                    var jiek = (conts[i].player_info.parse2).match(/.*?url=|.*?v=|.*?vid=/)[0].replace(\\\"..\\\", \\\".\\\").replace('jsonbs', '');\\n                } else if (conts[i].player_info.parse && (conts[i].player_info.parse).indexOf(\\\"=\\\") != -1) {\\n                    var jiek = (conts[i].player_info.parse).match(/.*?url=|.*?v=|.*?vid=/)[0].replace(\\\"..\\\", \\\".\\\");\\n                } else {\\n                    var jiek = \\\"\\\";\\n                }\\n                //setError(jiek);                \\n            }\\n        } catch (e) {}\\n        if (jiek != '' && jiek != null) {\\n            if (jiek.substring(0, 4) == 'http') {\\n                jiek = jiek;\\n            } else if (jiek.substring(0, 2) == '\\\\/\\\\/') {\\n                jiek = 'https:' + jiek;\\n            }\\n        }\\n        //对失效接口进行替换\\n        if (/cokemv/.test(myurl) && /cokeqie|xin|90mm/.test(ptab)) {\\n            jiek = 'https://player.90mm.me/play.php?url=';\\n        } else if (/json\\\\.m3u8\\\\.tv/.test(jiek)) {\\n            jiek = 'https://jx.m3u8.tv/jiexi/?url=';\\n        } else if (/cjt521/.test(myurl)) {\\n            jiek = conts[i].player_info.parse;\\n        } else if (jiek.indexOf('jpg.hou.lu/jm/za/index.php') != -1) {\\n            jiek = 'http://vip.mengx.vip/home/api?type=ys&uid=3249696&key=aefqrtuwxyEFHKNOQY&url=';\\n        } else if (ptab == 'renrenmi' && jiek.search(/jhdyw/) != -1) {\\n            jiek = 'http://www.1080kan.cc/jiexi/rrmi.php?url=';\\n        } else if (ptab == 'fqfilm' && jiek.search(/jhdyw/) != -1) {\\n            jiek = 'http://www.1080kan.cc/jiexi/fq.php?url=';\\n        } else if (ptab == 'rrsp' && jiek.search(/jhdyw/) != -1) {\\n            jiek = 'http://www.1080kan.cc/jiexi/rr.php?url=';\\n        } else if (/jhyun\\\\.php/.test(jiek)) {\\n            jiek = jiek.replace('http://svip.jhyun.jx.cn:1234/jhyun.php?url=', 'https://api.jhdyw.vip/?url=');            \\n        };\\n        //声明链接\\n        var link = jiek + vlink;\\n        if (/\\\\.m3u8|\\\\.mp4|obj\\\\/tos/.test(vlink) && /http/.test(vlink)) {\\n            link = vlink;\\n        }\\n        //log(link);\\n        if (list.length <= 4) {\\n            var clt = 'text_2';\\n        } else {\\n            var clt = isNaN(title) ? 'flex_button' : 'text_5'\\n        };\\n        items.push({\\n            title: title,\\n            url: $().lazyRule((ptab, link, myurl) => {\\n                function openurl(resurl) {\\n                    if (resurl.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bilibili|sohu|pptv|le|1905.com/) && resurl.search(/html|bilibili/) != -1) {\\n                        var enDn = JSON.parse(fetch('hiker://files/rules/xyq/appmset.json', {})).enDn;\\n                        if (enDn == '1') {\\n                            log('调用断插解析');\\n                            eval(\\\"var config =\\\" + fetch(\\\"hiker://files/cache/MyParseSet.json\\\"));\\n                            eval(fetch(config.cj));\\n                            return aytmParse(resurl);\\n                        } else {\\n                            return resurl\\n                        };\\n                    } else {\\n                        return resurl\\n                    }\\n                };\\n                var srcurl = link;\\n                //log(srcurl);\\n                //动态解析代码开始\\n                try {\\n                    //处理指定视频与线路\\n                    if (/\\\\.m3u8|\\\\.mp4|obj\\\\/tos/.test(srcurl) && /http/.test(srcurl) && !/\\\\.html/.test(srcurl)) {\\n                        if (/wkfile/.test(srcurl)) {\\n                            return srcurl + ';{Referer@https://fantuan.wkfile.com/}'\\n                        } else if (/duoduozy/.test(ptab)) {\\n                            var json = fetch('https://player.duoduozy.com/ddplay/api.php?url=' + srcurl, {});\\n                            return JSON.parse(json).url;\\n                        } else {\\n                            return /\\\\=/.test(srcurl) ? srcurl.split('=')[1] : srcurl + '#isVideo=true#';\\n                        }\\n                    } else if (srcurl.indexOf(\\\"/share/\\\") != -1) {\\n                        try {\\n                            var link = srcurl.split(\\\"/share\\\")[0];\\n                            var fc = fetch(srcurl, {}).replace(\\\"var purl\\\", \\\"var main\\\");\\n                            if (fc.indexOf(\\\"main\\\") != -1) {\\n                                var mat = fc.match(/var main.*?;/)[0];\\n                                eval(mat);\\n                                var play = (main.indexOf(\\\"http\\\") != -1 ? main : link + main);\\n                            } else {\\n                                var main = fc.match(/url:.*?[\\\\'\\\\\\\"](.*?)[\\\\'\\\\\\\"]/)[1];\\n                                var play = (main.indexOf(\\\"http\\\") != -1 ? main : link + main)\\n                            };\\n                            return play;\\n                        } catch (e) {\\n                            return 'x5WebView://' + (srcurl)\\n                        }\\n\\n                    } else if (ptab == 'alizy') {\\n                        var purl = fetch('https://foubin.com/jiexi.php?url=' + srcurl.split('url=')[1], {}).match(/\\\\\\\"url\\\\\\\":\\\\\\\"(.*?)\\\\\\\"/)[1];\\n                        return purl;\\n                    } else if (/983vip/.test(srcurl)) {\\n                        return JSON.parse(fetch(srcurl, {\\n                            headers: {\\n                                \\\"User-Agent\\\": MOBILE_UA\\n                            },\\n                            redirect: false,\\n                            withHeaders: true\\n                        })).headers.location[0];\\n                    } else if (/x\\\\-n\\\\.cc|nhdz666/.test(srcurl) && /\\\\.html|bilibili/.test(srcurl)) {\\n                        return openurl(srcurl.substring(srcurl.indexOf('=http') + 1));\\n                    }\\n                    //处理指定视频和线路结束\\n                    //----分割线----//\\n                    var scode = JSON.parse(fetch(srcurl, {\\n                        headers: {\\n                            \\\"User-Agent\\\": \\\"Dart/2.13 (dart:io)\\\"\\n                        },\\n                        redirect: false,\\n                        withStatusCode: true\\n                    }));\\n                    //log(scode);\\n                    if (scode.statusCode == '302' || scode.statusCode == '301') {\\n                        //打开解析有302重定向的链接\\n                        var redurl = scode.headers.location[0].replace(/\\\\\\\\/g,'');\\n                        if (/\\\\=http/.test(redurl) && /html|bilibili/.test(redurl)) {\\n                            return JSON.parse(fetch(redurl, {})).url;\\n                        } else if (/\\\\=http/.test(redurl) && /\\\\.m3u8|\\\\.mp4|\\\\.flv/.test(redurl)) {\\n                            return redurl.substring(redurl.indexOf('=http') + 1);\\n                        } else {\\n                            return redurl\\n                        }\\n                    } else {\\n                        //var html = request(srcurl);\\n                        var html = scode.body;\\n                        if (/\\\\<body/.test(html)) {\\n                            log('尝试网页解析');\\n                            requireCache('https://code.aliyun.com/lzk23559/PublicRule/raw/master/x5rule.js', 24);\\n                            return x5rule(srcurl, srcurl);\\n                            //return openurl(srcurl);\\n                        } else {\\n                            //json解析的取链接\\n                            var purl = html.match(/[\\\\'\\\\\\\"]url[\\\\'\\\\\\\"]:.*?[\\\\'\\\\\\\"](.*?)[\\\\'\\\\\\\"]/)[1].replace(/\\\\\\\\/g, '');\\n                            if (/http/.test(purl)) {\\n                                if (ptab == 'bilibili') {\\n                                    return purl + ';{Referer@https://www.bilibili.com/&&User-Agent@Mozilla/5.0}';\\n                                } else if (ptab == 'mgtv') {\\n                                    return purl + '#isVideo=true#' + ';{Referer@www.mgtv.com&&User-Agent@Mozilla/5.0}';\\n                                } else {\\n                                    return purl + '#isVideo=true#'\\n                                };\\n                            } else if (/\\\\=http/.test(srcurl) && /\\\\.html|bilibili/.test(srcurl)) {\\n                                return openurl(srcurl.substring(srcurl.indexOf('=http') + 1));\\n                            } else {\\n                                //非http开头的打开原链接                                                                \\n                                return openurl(srcurl.substring(srcurl.indexOf('=http') + 1))\\n                            }\\n                        }\\n                    }\\n                } catch (e) {\\n                    //报错判断处理\\n                    if (srcurl.substring(0, 2) == '\\\\/\\\\/') {\\n                        return openurl('https:' + srcurl);\\n                    } else if (/\\\\=http/.test(srcurl) && /\\\\.html|bilibili/.test(srcurl)) {\\n                        //return srcurl.split('=')[1];\\n                        return openurl(srcurl.substring(srcurl.indexOf('=http') + 1));\\n                    } else {\\n                        return openurl(srcurl)\\n                        //return 'x5WebView://'+srcurl\\n                    }\\n                }\\n                //动态解析代码结束\\n            }, ptab, link, myurl),\\n            col_type: clt\\n        });\\n    }\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"TV简介与选集\",\"path\":\"tvmovlist\",\"rule\":\"var tabs = Object.keys(html.videolist);\\nvar thumb = html.img_url;\\neval(JSON.parse(fetch('hiker://page/dnplugin', {})).rule);\\nitems.push({\\n    title: '剧情简介：',\\n    desc: html.intro,\\n    pic_url: thumb,\\n    url: dnpug,\\n    col_type: 'movie_1_vertical_pic'\\n});\\n\\nfor (var i = 0; i < tabs.length; i++) {\\n    var list = html.videolist[tabs[i]];\\n    var ptab = tabs[i];\\n    items.push({\\n        title: ptab + ' 🔗' + [i + 1] + '/' + [tabs.length],\\n        col_type: 'text_1'\\n    });\\n\\n    for (var j = 0; j < list.length; j++) {\\n        var srcurl = list[j].url;\\n        if (/293jx1/.test(srcurl)) {\\n            srcurl = srcurl.replace('293jx1', 'jx');\\n        } else if (/8d8q|diliktv|haokanju1|cztv|fit\\\\:8|ppzhu/.test(myurl)) {\\n            srcurl = srcurl + '&app=10000&account=272775028&password=qq272775028';\\n        }\\n        var title = list[j].title;\\n        if (list.length <= 4) {\\n            var clt = 'text_2';\\n        } else {\\n            var clt = isNaN(title) ? 'flex_button' : 'text_5'\\n        };\\n        items.push({\\n            title: title,\\n            url: $().lazyRule((ptab, srcurl, myurl) => {\\n                function openurl(resurl) {\\n                    if (resurl.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bilibili|sohu|pptv|le|1905.com/) && resurl.search(/html|bilibili/) != -1) {\\n                        var enDn = JSON.parse(fetch('hiker://files/rules/xyq/appmset.json', {})).enDn;\\n                        if (enDn == '1') {\\n                            log('调用断插解析');\\n                            eval(\\\"var config =\\\" + fetch(\\\"hiker://files/cache/MyParseSet.json\\\"));\\n                            eval(fetch(config.cj));\\n                            return aytmParse(resurl);\\n                        } else {\\n                            return resurl\\n                        };\\n                    } else {\\n                        return resurl\\n                    }\\n                };\\n                //log(srcurl);\\n                //动态解析代码开始\\n                try {\\n                    if (/\\\\.m3u8|\\\\.mp4|obj\\\\/tos/.test(srcurl) && /http/.test(srcurl)) {\\n                        return /\\\\=/.test(srcurl) ? srcurl.split('=')[1] : srcurl + '#isVideo=true#';\\n                    } else if (srcurl.indexOf(\\\"/share/\\\") != -1) {\\n                        try {\\n                            var link = srcurl.split(\\\"/share\\\")[0];\\n                            var fc = fetch(srcurl, {}).replace(\\\"var purl\\\", \\\"var main\\\");\\n                            if (fc.indexOf(\\\"main\\\") != -1) {\\n                                var mat = fc.match(/var main.*?;/)[0];\\n                                eval(mat);\\n                                var play = (main.indexOf(\\\"http\\\") != -1 ? main : link + main);\\n                            } else {\\n                                var main = fc.match(/url:.*?[\\\\'\\\\\\\"](.*?)[\\\\'\\\\\\\"]/)[1];\\n                                var play = (main.indexOf(\\\"http\\\") != -1 ? main : link + main)\\n                            };\\n                            return play;\\n                        } catch (e) {\\n                            return 'x5WebView://' + (srcurl)\\n                        }\\n                    } else if (ptab == 'alizy') {\\n                        var purl = fetch('https://foubin.com/jiexi.php?url=' + srcurl, {}).match(/\\\\\\\"url\\\\\\\":\\\\\\\"(.*?)\\\\\\\"/)[1];\\n                        return purl;\\n                    } else if (/19jx\\\\.vip|nfyingshi/.test(srcurl)) {\\n                        var purl = JSON.parse(fetch(srcurl.replace('http://', 'https://'), {\\n                            headers: {\\n                                \\\"User-Agent\\\": MOBILE_UA\\n                            },\\n                            redirect: false,\\n                            withHeaders: true\\n                        })).headers.location[0];\\n                        if (/titan.mgtv/.test(purl)) {\\n                            return purl + '#isVideo=true#' + ';{Referer@www.mgtv.com&&User-Agent@Mozilla/5.0}';\\n                        } else if (/obj\\\\/tos/.test(purl)) {\\n                            return purl + '#isVideo=true#';\\n                        } else {\\n                            return purl\\n                        };\\n                    } /*else if (/zhaikanys/.test(srcurl)) {\\n                        var purl = JSON.parse(fetch(srcurl + '&app=10003&account=272775028&password=qq272775028', {\\n                            headers: {\\n                                \\\"User-Agent\\\": MOBILE_UA\\n                            },\\n                            redirect: false,\\n                            withHeaders: true\\n                        })).headers.location[0];\\n                        if (/titan.mgtv/.test(purl)) {\\n                            return purl + '#isVideo=true#' + ';{Referer@www.mgtv.com&&User-Agent@Mozilla/5.0}';\\n                        } else if (/obj\\\\/tos/.test(purl)) {\\n                            return purl + '#isVideo=true#';\\n                        } else {\\n                            return purl\\n                        };\\n                    }*/\\n\\n                    //----分割线----//\\n                    var scode = JSON.parse(fetch(srcurl, {\\n                        headers: {\\n                            \\\"User-Agent\\\": MOBILE_UA\\n                        },\\n                        redirect: false,\\n                        withStatusCode: true\\n                    }));\\n                    //log(scode);\\n                    if (scode.statusCode == '302' || scode.statusCode == '301') {\\n                        var purl = scode.headers.location[0].replace(/\\\\\\\\/g, '');\\n                    } else {\\n                        //var html = request(srcurl);\\n                        var html = scode.body;\\n                        //log(html);\\n                        if (/\\\\\\\"url\\\\\\\"\\\\:\\\\\\\"http/.test(html)) {\\n                            var purl = html.match(/\\\\\\\"url\\\\\\\":\\\\\\\"(.*?)\\\\\\\"/)[1].replace(/\\\\\\\\/g, '');\\n                        } else if (html.startsWith('{')) {\\n                            var purl = srcurl.substring(srcurl.indexOf('=http') + 1);\\n                        } else {\\n                            //var purl = srcurl\\n                            requireCache('https://code.aliyun.com/lzk23559/PublicRule/raw/master/x5rule.js', 24);\\n                            return x5rule(srcurl, srcurl);\\n                            //return 'x5WebView://'+(srcurl) \\n                        }\\n                    };\\n                    //log(purl);\\n                    if (/titan.mgtv/.test(purl)) {\\n                        return purl + '#isVideo=true#' + ';{Referer@www.mgtv.com&&User-Agent@Mozilla/5.0}';\\n                    } else if (/obj\\\\/tos/.test(purl)) {\\n                        return purl + '#isVideo=true#';\\n                    } else {\\n                        return purl\\n                    };\\n\\n                } catch (e) {\\n                    if (srcurl.substring(0, 2) == '\\\\/\\\\/') {\\n                        return openurl('https:' + srcurl);\\n                    } else if (/\\\\=http/.test(srcurl) && /\\\\.html|bilibili/.test(srcurl)) {\\n                        //return srcurl.split('=')[1];\\n                        return openurl(srcurl.substring(srcurl.indexOf('=http') + 1));\\n                    } else {\\n                        return openurl(srcurl)\\n                    }\\n                }\\n                //动态解析代码结束\\n            }, ptab, srcurl, myurl),\\n            col_type: clt\\n        });\\n    }\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"列表模式搜索二级\",\"path\":\"searerj\",\"rule\":\"var res = {};\\nvar items = [];\\nvar spl = getResCode().split('#x#');\\nvar typet = spl[3];\\nvar tdomin = spl[2];\\nvar key = spl[4];\\n\\nif (/vipmv/.test(tdomin)) {\\n    var bhtml = request(spl[1]);\\n} else {\\n    var bhtml = fetch(spl[1], {\\n        headers: {\\n            \\\"User-Agent\\\": \\\"Dart/2.13 (dart:io)\\\"\\n        }\\n    });\\n}\\ntry {\\n    bhtml = bhtml.startsWith('\\\\r\\\\n') ? bhtml.replace('\\\\r\\\\n', '') : bhtml;\\n} catch (e) {}\\nif (/btwaf/.test(bhtml)) {\\n    /*\\n                items.push({\\n                    title:'有宝塔验证，点击访问原网页',\\n                    url: spl[1] + `@lazyRule=.js:input.split(';')[0]`,\\n                    col_type: 'text_1'\\n                });\\n                */\\n\\n    bhtml = fetch(spl[1] + '&btwaf' + bhtml.match(/btwaf(.*?)\\\\\\\"/)[1], {});\\n\\n}\\n\\nif (bhtml == \\\"\\\" || bhtml == null || bhtml.substring(0, 5) == 'error' || !bhtml.startsWith('{')) {\\n    items.push({\\n        title: '未搜索到相关资源，点击访问原网页',\\n        url: spl[1] + `@lazyRule=.js:input.split(';')[0]`,\\n        col_type: 'text_1'\\n    });\\n} else if (bhtml.length < 80) {\\n    items.push({\\n        title: '返回数据不完整，点击访问原网页',\\n        url: spl[1] + `@lazyRule=.js:input.split(';')[0]`,\\n        col_type: 'text_1'\\n    });\\n} else {\\n    var html = JSON.parse(bhtml);\\n    //log(spl[1]);\\n    if (html.list) {\\n        var list = html.list;\\n    } else if (html.data.list) {\\n        var list = html.data.list;\\n    } else if (html.data) {\\n        var list = html.data;\\n    }\\n\\n    if (list.length < 1) {\\n        items.push({\\n            title: '未搜索到，点击访问原网页',\\n            url: spl[1] + `@lazyRule=.js:input.split(';')[0]`,\\n            col_type: 'text_1'\\n        });\\n    } else {\\n        for (var i = 0; i < list.length; i++) {\\n\\n            if (/APP影视/.test(typet)) {\\n                if (tdomin.indexOf('api.php/app/') != -1) {\\n                    var title = list[i].vod_name;\\n                    var pic = list[i].vod_pic;\\n                    if (/fantuan/.test(tdomin)) {\\n                        var vid = 'https://fantuan.wkfile.com/api.php/app/video_detail?id=' + list[i].vod_id + '&token=';\\n                    } else {\\n                        var vid = tdomin + 'video_detail?id=' + list[i].vod_id + '&token=';\\n                    }\\n                    var rem = list[i].vod_remarks;\\n                    //var con=list[i].type.type_des;\\n                } else if (tdomin.indexOf('xgapp.php/v1/') != -1) {\\n                    var title = list[i].vod_name;\\n                    var pic = list[i].vod_pic;\\n                    var vid = tdomin + 'video_detail?id=' + list[i].vod_id;\\n                    var rem = list[i].vod_remarks;\\n                    //var con=list[i].type.type_des;\\n                } else {\\n                    var title = list[i].vod_name;\\n                    var pic = list[i].vod_pic;\\n                    if (/iopenyun/.test(tdomin)) {\\n                        var vid = tdomin + '/detailID?vod_id=' + list[i].vod_id + '&token=';\\n                    } else {\\n                        var vid = tdomin + '/detail?vod_id=' + list[i].vod_id + '&token=';\\n                    }\\n                    var rem = list[i].vod_remarks;\\n                    //var con=list[i].type.type_des;\\n                }\\n            } else if (/TV影视/.test(typet)) {\\n                var title = list[i].title;\\n                var pic = list[i].pic;\\n                //var vid=tdomin+'/detail?vod_id='+list[i].nextlink+'&rel_limit=10';\\n                var vid = list[i].nextlink;\\n                var rem = list[i].state;\\n                //var con=list[i].state;\\n            }\\n\\n            items.push({\\n                title: title.replace(key, '““' + key + '””'),\\n                pic_url: pic + '@Referer=',\\n                url: $(vid+';get;utf-8;{User-Agent@Dart/2.13 (dart:io)}').rule((typet) => {\\n                    var res = {};\\n                    var items = [];\\n                    var html = JSON.parse(getResCode());\\n                    items.push({\\n                        title: '',\\n                        desc: '255&&float',\\n                        url: '',\\n                        col_type: 'x5_webview_single'\\n                    });\\n                    refreshX5WebView('');\\n                    var myurl = MY_URL.match(/([\\\\S]*?:\\\\/\\\\/[\\\\S]*?)\\\\//)[1];\\n                    if (/APP影视/.test(typet)) {\\n                        eval(JSON.parse(fetch('hiker://page/appmovlist', {})).rule);\\n                    } else if (/TV影视/.test(typet)) {\\n                        eval(JSON.parse(fetch('hiker://page/tvmovlist', {})).rule);\\n                    }\\n                    res.data = items;\\n                    setHomeResult(res);\\n                }, typet),\\n                //content:rem,\\n                desc: rem,\\n                col_type: 'movie_1_vertical_pic'\\n            });\\n        } //for i\\n    } //else list.length\\n}\\n\\nres.data = items;\\nsetHomeResult(res);\"},{\"col_type\":\"movie_3\",\"name\":\"APP首页列表\",\"path\":\"appindexdata\",\"rule\":\"if (html.list) {\\n    var list = html.list;\\n} else if (html.data && html.data.list) {\\n    var list = html.data.list;\\n} else {\\n    var list = html.data;\\n}\\n\\nfor (var i = 0; i < list.length; i++) {\\n    if (list[i].vod_list) {\\n        var lists = list[i].vod_list;\\n        var typename = list[i].vod_type_name;\\n    } else {\\n        var lists = list[i].vlist;\\n        var typename = list[i].type_name\\n    }\\n    items.push({\\n        title: typename,\\n        col_type: 'text_1'\\n\\n    });\\n\\n    for (var j = 0; j < lists.length; j++) {\\n        var title = lists[j].vod_name;\\n        var img = lists[j].vod_pic;\\n        var url = lists[j].vod_id;\\n        var desc = lists[j].vod_remarks;\\n        if (html.list) {\\n            var link = murl + 'video_detail?id=' + url + '&token=;get;utf-8;{User-Agent@Dart/2.13 (dart:io)}';\\n        } else if (html.data && html.data.list) {\\n            var link = murl + '/detail?vod_id=' + url + '&rel_limit=10;get;utf-8;{User-Agent@Dart/2.13 (dart:io)}';\\n        } else {\\n            var link = murl + 'video_detail?id=' + url + '&token=;get;utf-8;{User-Agent@Dart/2.13 (dart:io)}';\\n        };\\n        if (/fantuan/.test(murl)) {\\n            var link = 'https://fantuan.wkfile.com/api.php/app/video_detail?id=' + url + '&token=;get;utf-8;{User-Agent@Dart/2.13 (dart:io)}';\\n        } else if (/iopenyun/.test(murl)) {\\n            var link = murl + '/detailID?vod_id=' + url + '&rel_limit=10;get;utf-8;{User-Agent@Dart/2.13 (dart:io)}';\\n        } else if (/dijiaxia/.test(murl)) {\\n            var link = 'http://www.dijiaxia.com/api.php/app/video_detail?id=' + url;\\n        }\\n        items.push({\\n            title: title,\\n            pic_url: img + '@Referer=',\\n            url: $(link).rule(() => {\\n                var res = {};\\n                var items = [];\\n                items.push({\\n                    title: '',\\n                    desc: '255&&float',\\n                    url: '',\\n                    col_type: 'x5_webview_single'\\n                });\\n                refreshX5WebView('');\\n                var html = JSON.parse(getResCode());\\n                var myurl = MY_URL.match(/([\\\\S]*?:\\\\/\\\\/[\\\\S]*?)\\\\//)[1];\\n                eval(JSON.parse(fetch('hiker://page/appmovlist', {})).rule);\\n                res.data = items;\\n                setHomeResult(res);\\n            }),\\n            desc: desc,\\n            col_type: 'movie_3_marquee'\\n        });\\n    }\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"首次导入等待\",\"path\":\"wait\",\"rule\":\"function canUse() {\\n    //如果更新了规则也要限流，可以修改key\\n    let key = \\\"lock4\\\"\\n    //等待分钟数\\n    let waitMin = 20\\n    \\n    let min = Math.round(Math.random() * 1000 * 60 * waitMin)\\n    let unlock = new Date().getTime() + min;\\n    let time = getItem(key, \\\"\\\");\\n    if (time == \\\"\\\") {\\n        setItem(key, \\\"\\\" + unlock)\\n        let st = new Date(unlock).toLocaleString().replace(/:\\\\d{1,2}$/, ' ');\\n        let msg = \\\"这是您第一次使用该版本规则，为避免第一次导入使用人数激增，规则将在\\\" + st + \\\"解锁使用。<br><br>好规则不怕晚，请耐心等待！该提示仅在第一次导入（更新）时出现，后续使用过程中不会出现！\\\"\\n        setResult([{\\n            title: msg,\\n            col_type: \\\"rich_text\\\"\\n        }])\\n        return false\\n    } else if (parseInt(time) < new Date().getTime()) {\\n        return true\\n    } else {\\n        let st = new Date(parseInt(time)).toLocaleString().replace(/:\\\\d{1,2}$/, ' ');\\n        let msg = \\\"为避免使用人数激增，规则将在\\\" + st + \\\"解锁使用。<br><br>好规则不怕晚，请耐心等待！该提示仅在第一次导入（更新）时出现，后续使用过程中不会出现！\\\"\\n        setResult([{\\n            title: msg,\\n            col_type: \\\"rich_text\\\"\\n        }])\\n        return false\\n    }\\n}\\n$.exports = canUse();\"},{\"col_type\":\"movie_3\",\"name\":\"断念插件调用\",\"path\":\"dnplugin\",\"rule\":\"var dnpug = $().rule(() => {\\n    var d = [];\\n    setPageTitle('断念插件设置')\\n    var enDn = JSON.parse(fetch('hiker://files/rules/xyq/appmset.json', {})).enDn;\\n    d.push({\\n        title: '断念插件调用',\\n        url: 'hiker://empty',\\n        col_type: 'text_center_1'\\n    });\\n    d.push({\\n        title: '当前：' + '(' + (enDn == 1 ? '已启用' : '已禁用') + ')',\\n        url: $('hiker://empty').lazyRule(() => {\\n            var md = JSON.parse(fetch('hiker://files/rules/xyq/appmset.json', {})).enDn;\\n\\n            if (md == 1) {\\n                var fileUrl = fetch(\\\"hiker://files/rules/xyq/appmset.json\\\", {}).replace('\\\\\\\"enDn\\\\\\\":\\\\\\\"1\\\\\\\"', '\\\\\\\"enDn\\\\\\\":\\\\\\\"0\\\\\\\"');\\n                writeFile(\\\"hiker://files/rules/xyq/appmset.json\\\", fileUrl);\\n                refreshPage(false);\\n                return 'toast://已禁用断插调用！';\\n            } else {\\n                var fileUrl = fetch(\\\"hiker://files/rules/xyq/appmset.json\\\", {}).replace('\\\\\\\"enDn\\\\\\\":\\\\\\\"0\\\\\\\"', '\\\\\\\"enDn\\\\\\\":\\\\\\\"1\\\\\\\"');\\n                //log(fileUrl);\\n                writeFile(\\\"hiker://files/rules/xyq/appmset.json\\\", fileUrl);\\n                refreshPage(false);\\n                return 'toast://已开启断插调用！'\\n            }\\n        }),\\n        col_type: 'text_2'\\n    });\\n    d.push({\\n        title: '管理解析',\\n        url: \\\"hiker://empty#noRecordHistory#@rule=js:this.d=[];require('https://gitea.com/AI957/Hiker/raw/m/v/jxItem.js');jxItem.jxList();setResult(d)\\\",\\n        col_type: 'text_2'\\n    });\\n    d.push({\\n        title: '线路配置',\\n        url: \\\"hiker://empty#noRecordHistory#@rule=js:this.d=[];require('https://gitea.com/AI957/Hiker/raw/m/v/Route.js');Route.setParse();setResult(d);\\\",\\n        col_type: 'text_2'\\n    });\\n    setResult(d)\\n});\"},{\"col_type\":\"movie_3\",\"name\":\"设置页代码\",\"path\":\"setting\",\"rule\":\"var d = [];\\nvar setjson = JSON.parse(fetch('hiker://files/rules/xyq/appmset.json', {}));\\nvar ssmd = setjson.ssmode;\\nvar ssxc = setjson.sscount;\\nd.push({\\n    title: '搜索模式设置',\\n    col_type: 'text_center_1'\\n});\\nd.push({\\n    title: '当前：' + '(' + (ssmd == 1 ? '聚合结果' : '引擎列表') + ')',\\n    url: $('hiker://empty').lazyRule(() => {\\n        var md = JSON.parse(fetch('hiker://files/rules/xyq/appmset.json', {})).ssmode;\\n\\n        if (md == 1) {\\n            var fileUrl = fetch(\\\"hiker://files/rules/xyq/appmset.json\\\", {}).replace('\\\\\\\"ssmode\\\\\\\":\\\\\\\"1\\\\\\\"', '\\\\\\\"ssmode\\\\\\\":\\\\\\\"0\\\\\\\"');\\n            writeFile(\\\"hiker://files/rules/xyq/appmset.json\\\", fileUrl);\\n            back(true);\\n            return 'toast://切换为搜索引擎列表单选模式成功！';\\n        } else {\\n            var fileUrl = fetch(\\\"hiker://files/rules/xyq/appmset.json\\\", {}).replace('\\\\\\\"ssmode\\\\\\\":\\\\\\\"0\\\\\\\"', '\\\\\\\"ssmode\\\\\\\":\\\\\\\"1\\\\\\\"');\\n            //log(fileUrl);\\n            writeFile(\\\"hiker://files/rules/xyq/appmset.json\\\", fileUrl);\\n            back(true);\\n            return 'toast://切换为聚合搜索模式成功！'\\n        }\\n    }),\\n    col_type: 'text_2'\\n})\\n\\nd.push({\\n    title: '搜索线程设置',\\n    col_type: 'text_center_1'\\n});\\nd.push({\\n    title: '当前线程' + ssxc + '  ' + '你输入的是' + parseInt(getVar('appmssxcset', '')),\\n    col_type: 'rich_text'\\n});\\n\\nd.push({\\n    title: '设置搜索线程',\\n    url: \\\"input://\\\" + '' + \\\"////请输入一个整数数字，推荐最大不要超过15。.js:putVar('appmssxcset',input);refreshPage()\\\",\\n    col_type: 'text_2'\\n});\\n\\nd.push({\\n    title: '保存线程设置',\\n    url: $().lazyRule(() => {\\n        var num = parseInt(getVar('appmssxcset')).toString();\\n        if (num == 'NaN') {\\n            return 'toast://输入的值好像不正确。';\\n        } else {\\n            var fileUrl = fetch(\\\"hiker://files/rules/xyq/appmset.json\\\", {}).replace(/\\\\\\\"sscount\\\\\\\":\\\\\\\"[\\\\S]*\\\\\\\"/, '\\\\\\\"sscount\\\\\\\":\\\\\\\"' + num + '\\\\\\\"');\\n            writeFile(\\\"hiker://files/rules/xyq/appmset.json\\\", fileUrl);\\n            //refreshPage(true);\\n            back(true);\\n            return 'toast://保存设置搜索线程完成！';\\n        }\\n\\n    }),\\n    col_type: 'text_2'\\n});\\nd.push({\\n    title: '更新相关',\\n    col_type: 'text_center_1'\\n});\\nd.push({\\n    title: '检测更新',\\n    url: $('').lazyRule((locver) => {\\n        var remf = fetchCache('https://codeberg.org/lzk23559/cloudrule/raw/branch/master/appmovie.txt', 24);\\n        if (/￥base64/.test(remf)) {\\n            var remv = JSON.parse(base64Decode(remf.split('@')[2])).version;\\n        } else {\\n            var remv = JSON.parse(remf.split('home_rule￥')[1]).version;\\n        }\\n        log('远程版本：' + remv);\\n        log('本地版本：' + locver);\\n        if (locver != remv) {\\n            putVar('appnver', remf);\\n            refreshPage();\\n            return 'toast://有新版本，点导入更新可更新规则。';\\n        } else {\\n            return 'toast://暂无新版本。'\\n        }\\n    }, locver),\\n    col_type: 'text_2'\\n});\\nif (getVar('appnver')) {\\n    d.push({\\n        title: '导入更新',\\n        url: $('').lazyRule(()=>{\\n           return getVar('appnver');\\n        }),\\n        col_type: 'text_2'\\n    });\\n}\\nsetResult(d)\"}]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"香情影视","author":"香雅情","version":3,"url":"hiker://files/rules/xyq/hikermovie.json","col_type":"icon_4_card","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\neval(fetch('hiker://files/rules/xyq/hikermovie.js'));hikhmrule();","searchFind":"js:\neval(fetch('hiker://files/rules/xyq/hikermovie.js'));hiksearch();","search_url":"hiker://empty$$$hiker://files/rules/xyq/hikermovie.json$$$**$$$fypage$$$","group":"②影搜","detail_col_type":"movie_1","detail_find_rule":"js:\neval(fetch('hiker://files/rules/xyq/hikermovie.js'));hikhmerj();","sdetail_col_type":"movie_1","sdetail_find_rule":"js:\neval(fetch('hiker://files/rules/xyq/hikermovie.js'));hikseaerji();","ua":"mobile","preRule":"//设置更新间隔时间,单位为整数天。\nvar uptime = 2;\n\nfunction uprulefile() {\n    var rulejs = fetch('https://code.aliyun.com/lzk23559/CloudRule/raw/master/hikermovie.js', {});\n    if (rulejs.search(/lazyRule/) == -1) {\n        rulejs = fetch('https://codeberg.org/lzk23559/cloudrule/raw/branch/master/hikermovie.js', {});\n    }\n    if (rulejs.search(/lazyRule/) != -1) {\n        writeFile(\"hiker://files/rules/xyq/hikermovie.js\", rulejs);\n    }\n    var rulejson = fetch('https://code.aliyun.com/lzk23559/CloudRule/raw/master/hikermovie.json', {});\n    if (rulejson.search(/\\\"vodhref\\\"/) == -1) {\n        rulejson = fetch('https://codeberg.org/lzk23559/cloudrule/raw/branch/master/hikermovie.json', {});\n    }\n    if (rulejson.search(/\\\"vodhref\\\"/) != -1) {\n        writeFile(\"hiker://files/rules/xyq/hikermovie.json\", rulejson);\n    }\n    if (rulejs.search(/lazyRule/) != -1 && rulejson.search(/\\\"vodhref\\\"/) != -1) {\n        writeFile(\"hiker://files/rules/xyq/hikerupdate.txt\", new Date() + '');\n        confirm({title:'提示', content:'自动更新完成'});\n    } else {\n        confirm({title:'提示', content:'自动更新失败'});\n    }\n}\n\n\n\n//检测是否有写入时间与规则的js插件文件\nif (fileExist(\"hiker://files/rules/xyq/hikerupdate.txt\") && fileExist(\"hiker://files/rules/xyq/hikermovie.js\") && fileExist(\"hiker://files/rules/xyq/hikermovie.json\")) {\n    //计算时间间隔\n    var start = new Date(fetch(\"hiker://files/rules/xyq/hikerupdate.txt\", {}));\n    var nowt = new Date();\n    var D_T = nowt.getTime() - start.getTime();\n    var D_D = D_T / (1000 * 3600 * 24);\n    var tdif = parseInt(D_D) + '';\n    //log(tdif);\n    //默认间隔超过设置天数就取一次云端文件\n    if (tdif >= uptime || tdif < 0) {\n        uprulefile();\n    }\n} else {\n    //如果少一个文件就自动取云端文件\n    uprulefile();\n}\n\n\n\n//执行需要预处理的站点\nvar lac = fetch('hiker://files/rules/xyq/hikermovie.js');\n//log(lac.length);\nif (lac.search(/lazyRule/) != -1) {\n    eval(lac);\n    hikerpre();\n} else {\n    //如果本地文件不对将尝试自修复\n    uprulefile();\n    setError('规则修复完成，如有问题请反馈。')\n}","pages":"[]"},{"last_chapter_rule":"","pageList":[],"title":"资源网采集.xyq","author":"香雅情","version":1,"url":"hiker://files/rules/xyq/ZYWCJ.txt","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\neval(fetch('hiker://files/rules/xyq/zywcj.js'));zywhm();","searchFind":"js:\neval(fetch('hiker://files/rules/xyq/zywcj.js'));zywsea();","search_url":"hiker://$$$?wd=**&pg=1&ac=list$$$fypage","group":"②影搜","detail_col_type":"movie_1","detail_find_rule":"js:\r\neval(fetch('hiker://files/rules/xyq/zywcj.js',{}));\nTWEJ();","sdetail_col_type":"movie_1","sdetail_find_rule":"js:\neval(fetch('hiker://files/rules/xyq/zywcj.js'));zywerj();","ua":"mobile","preRule":"function uprulefile() {\n    var ruletxt = fetch('https://codeberg.org/lzk23559/PublicRule/raw/branch/master/ZYWCJ.txt', {});\n    var rulejs = fetch('https://codeberg.org/lzk23559/PublicRule/raw/branch/master/zywcj.js', {});\n    if (rulejs.search(/lazyRule/) != -1) {\n        writeFile(\"hiker://files/rules/xyq/zywcj.js\", rulejs);\n        writeFile(\"hiker://files/rules/xyq/ZYWCJ.txt\", ruletxt);\n    } else {\n        setError('规则文件获取失败，可能网络有问题。')\n    };\n};\n\n//检测是否有规则与JS文件\nif (fileExist(\"hiker://files/rules/xyq/zywcj.js\") && fileExist(\"hiker://files/rules/xyq/ZYWCJ.txt\")) {\n    //执行预处理\n    var lac = fetch('hiker://files/rules/xyq/zywcj.js');\n    if (lac.search(/lazyRule/) != -1) {\n        eval(lac);\n        if (filter(base64Decode('VklQ'))) {\n            zywpre();\n        } else {\n            uprulefile();\n        };\n    } else {\n        //如果本地文件不对将尝试自修复\n        uprulefile();\n        eval(fetch('hiker://files/rules/xyq/zywcj.js'));\n        zywpre();\n    };\n} else {\n    uprulefile();\n    //执行预处理\n    eval(fetch('hiker://files/rules/xyq/zywcj.js'));\n    zywpre();\n};","pages":"[]","icon":""},{"last_chapter_rule":"js:\nvar html = getResCode();\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&#player_list')[0];\n//选集列表的定位\nvar list=parseDomForArray(conts, 'body&&a');\nvar title=parseDomForHtml(list[list.length-1],'a&&Text');\nsetResult(\"更新至: \"+title);","pageList":[],"title":"AuEte","author":"晓","version":0,"url":"https://auete.com/search.php?page=fypage&searchtype=5&order=fysort&tid=fyclass&year=fyyear&area=fyarea","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"地区&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","sort_name":"时间&人气&评分","year_name":"年代&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&更早","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&更早","find_rule":".threadlist&&li;.title&&Text;img&&src;p&&Text;a&&href.js:input+\"#immersiveTheme#\"","searchFind":"body&&.list-unstyled;.text-danger&&Text;a&&href.js:input+\"#immersiveTheme#\";.text-grey&&Text;.text-danger&&Text+.ml-2&&Text;;","search_url":"https://auete.com/search.php?page=fypage&searchword=**","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\nputVar(\"_x5\", $.toString(() => {\n    var urls = _getUrls()\n    for (var i in urls) {\n        if (!urls[i].includes(\"url=\")&& urls[i].match(/\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i])\n            return urls[i]\n        }\n    }\n}))\nvar lazy = \"@lazyRule=.js:showLoading('动态解析中，请稍候');'x5Rule://'+input+'@' + getVar('_x5')\";\n\nvar arts = parseDomForArray(html, 'body&&h2');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'body&&Text').match(/』(.*?)\\：/)[1])\n}\nvar conts = parseDomForArray(html, 'body&&#player_list');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\nd.push({\n    title: parseDomForHtml(html, 'p,4&&Text').replace('影片', '').substring(1, 22) + '\\n' + parseDomForHtml(html, 'p,5&&Text').substring(1, 20),\n\n    desc: parseDomForHtml(html, 'p,6&&Text').substring(1, 22) + '\\n' + parseDomForHtml(html, 'p,8&&Text').substring(1, 19),\n    pic_url: parseDom(html, '.cover&&img&&src'),\n    url: getUrl(),\n    col_type: 'movie_1_vertical_pic_blur',\n    extra:{gradient: true}\n});\nvar desc = '简介 : ' + parseDomForHtml(html, '.message&&p,-1&&Text').replace('　　', '').replace('[收起部分]', '').replace('简介：', '').substring(3, 71) + \"…详情\";\neval(fetch(\"hiker://files/rules/js/xiaoXL.js\"));","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"let localHtml = fetch('hiker://files/rules/js/xiaoXL.js');\nlet gitHtml = fetch('https://91io.cn/s/G2k6kCG/xiaoXL.js');\nif (!localHtml || localHtml != gitHtml) {\n  writeFile(\"hiker://files/rules/js/xiaoXL.js\", gitHtml); }","pages":"[]","icon":"https://android-artworks.25pp.com/fs08/2021/10/22/5/2_1c34fcddeb650eadbca457ed12c03fbc_con_130x130.png"},{"last_chapter_rule":"js:\nvar html = getResCode();\n// 播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.myui-content__list')[0];\n// 选集列表的定位\nvar list=parseDomForArray(conts, 'ul&&li');\nvar title=\"\";\n// 过滤掉含番外和特别等字眼为最后一集的选集，避免有更新的选集无法被感知\nfor(let i = 1; i < list.length; i++) {\n    let index = list.length-i;\n    title = parseDomForHtml(list[index],'a&&Text');\n    if(title.search(/番外|特别/) == -1) break;\n}\n// 获取更新时间，确保有更新时能正常提示\nvar time = parseDomForHtml(html, \".myui-content__detail&&p,1&&Text\").replace(\"更新：\", \"\");\nsetResult(\"更新至: \" + title + \" | \" + time);","pageList":[{"col_type":"movie_3","name":"二级快捷键","path":"erjiKJJ","rule":"d.push({\n    title: '影视圈',\n    url: 'hiker://search?s=' + title + '&rule=影视圈',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '聚合圈',\n    url: 'hiker://search?s=' + title + '&rule=聚合圈',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2019/09/16/7/110_9bcb18fc9a2cec98bd037bf37bb06164_con_130x130.png\",\n    col_type: 'icon_small_4'\n})"},{"col_type":"movie_3","name":"一级快捷键","path":"yijiKJJ","rule":"d.push({\n    title: 'B站',\n    url: 'hiker://home@哔哩ℛ',\n    col_type: 'scroll_button',\n});\nd.push({\n    title: ' 聚合 ',\n    url: 'hiker://home@资源网采集.xyq',\n    col_type: 'scroll_button',\n});\nd.push({\n    title: ' 影视 ',\n    url: 'hiker://home@香情影视',\n    col_type: 'scroll_button',\n});\nd.push({\n    title: ' 搜狗 ',\n    url: 'hiker://home@搜狗·Q',\n    col_type: 'scroll_button',\n});\nd.push({\n    title: ' 直播 ',\n    url: 'hiker://home@直播',\n    col_type: 'scroll_button',\n});\nd.push({\n    title: ' 虎牙 ',\n    url: 'hiker://home@虎牙',\n    col_type: 'scroll_button',\n});\nd.push({\n    title: ' 斗鱼 ',\n    url: 'hiker://home@斗鱼',\n    col_type: 'scroll_button',\n});\nd.push({\n    title: ' 企鹅 ',\n    url: 'hiker://home@企鹅',\n    col_type: 'scroll_button',\n});\nd.push({\n    title: ' APP ',\n    url: 'hiker://home@APP影视',\n    col_type: 'scroll_button',\n});\nd.push({\n    title: ' 仓库 ',\n    url: 'hiker://home@道长仓库',\n    col_type: 'scroll_button',\n});\nd.push({\n    title: ' 论坛 ',\n    url: 'hiker://home@视界论坛R',\n    col_type: 'scroll_button',\n});\nd.push({\n    title: ' 导入 ',\n    url: 'hiker://home@合集导入',\n    col_type: 'scroll_button',\n});\nd.push({\n    title: ' 漫画 ',\n    url: 'hiker://home@漫画',\n    col_type: 'scroll_button',\n});\nd.push({\n    title: ' 音乐 ',\n    url: 'hiker://home@QQ音乐🎶',\n    col_type: 'scroll_button',\n});\nd.push({\n    title: ' 抖音 ',\n    url: 'hiker://home@短视频·Q',\n    col_type: 'scroll_button',\n});\nd.push({\n    title: ' 阅读 ',\n    url: 'hiker://home@稻草人书屋',\n    col_type: 'scroll_button',\n});\nd.push({\n    title: ' 榜单 ',\n    url: 'hiker://home@开天榜单',\n    col_type: 'scroll_button',\n});\nd.push({\n    title: ' 虎娃 ',\n    url: 'hiker://home@虎娃•R',\n    col_type: 'scroll_button',\n});\nd.push({\n    title: ' 厨娃 ',\n    url: 'hiker://home@厨娃R',\n    col_type: 'scroll_button',\n});\nd.push({\n    title: ' JRS ',\n    url: 'hiker://home@JRS直播',\n    col_type: 'scroll_button',\n});\nd.push({\n    title: ' 杂志 ',\n    url: 'hiker://home@杂志&报纸',\n    col_type: 'scroll_button',\n});\nd.push({\n    title: ' 知乎 ',\n    url: 'hiker://home@知乎热搜',\n    col_type: 'scroll_button',\n});\nd.push({\n    title: ' 堆糖 ',\n    url: 'hiker://home@堆糖',\n    col_type: 'scroll_button',\n});\nd.push({\n    title: ' 新浪 ',\n    url: 'hiker://home@稻新浪图集',\n    col_type: 'scroll_button',\n});\nd.push({\n    title: ' 黑黑 ',\n    url: 'hiker://home@黑黑影视',\n    col_type: 'scroll_button',\n});\nconst shortcut = [\n    '插件@@hiker://js@@hiker://images/collection',\n    '收藏@@hiker://collection@@hiker://images/history',\n    '备份@@hiker://webdav@@hiker://images/video',\n    '书签@@hiker://bookmark@@hiker://images/bookmark'\n];\nshortcut.forEach(function(s) {\n    let a = s.split(/\\s*@@\\s*/);\n    d.push({\n        title: a[0],\n        url: a[1],\n        pic_url: a[2],\n        col_type: 'icon_small_4'\n    });\n});\nd.push({\n    col_type: 'line_blank'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\n"}],"title":"31看","author":"晓","version":0,"url":"http://www.31kan.com/vodshow/fyclass-fyarea--fysort-----fypage---fyyear.html.js:input.replace('-time', 'time-').replace('-hits', 'hits-').replace('-score', 'score-');get;utf-8;{User-Agent@Mobile}","col_type":"movie_3","class_name":"连续剧&电影&综艺&动漫&动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&国产剧&香港剧&韩国剧&欧美剧&日本剧&台湾剧","class_url":"2&1&3&4&6&7&8&9&10&11&12&13&14&15&16&20&21","area_name":"地区&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&内地&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","sort_name":"时间&人气&评分&纪录&喜剧&古装&动作&爱情&科幻&动画&悬疑&惊悚&恐怖&灾难&历史&传记","year_name":"年代&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010","sort_url":"time&hits&score&纪录&喜剧&古装&动作&爱情&科幻&动画&悬疑&惊悚&恐怖&灾难&历史&传记","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010","find_rule":"js:\nvar d = [];\r\nvar list = parseDomForArray(getResCode(), '.myui-vodlist&&li');\r\n\r\nfor (var j in list) {\r\n    d.push({\r\n        title: parseDomForHtml(list[j], 'a&&title'),\r\n        desc: parseDomForHtml(list[j], '.pic-text&&Text'),\r\n        pic_url: parseDom(list[j], '.lazyload&&data-original') + '@Referer=',\r\n        url: parseDom(list[j], 'a&&href') + \"#immersiveTheme#\"\r\n    });\r\n}\r\nsetResult(d);","searchFind":"js:\nvar res = {};\nvar d = [];\n\nvar list = parseDomForArray(getResCode(), '.myui-vodlist__media&&li');\nfor (var j in list) {\n    d.push({\n        title: parseDomForHtml(list[j], 'a&&title'),\n        desc: parseDomForHtml(list[j], '.pic-text&&Text'),\n        content: parseDomForHtml(list[j], 'p,0&&Text') + '\\n' + parseDomForHtml(list[j], 'p,1&&Text') + '\\n' + parseDomForHtml(list[j], 'p,2&&Text'),\n        img: parseDom(list[j], 'a&&data-original') + \"@Referer=\",\n        url: parseDom(list[j], 'a&&href') + \"#immersiveTheme#\"\n    });\n}\nres.data = d;\nsetSearchResult(res);","search_url":"http://www.31kan.com/vodsearch/**----------fypage---.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\nvar lazy = `@lazyRule=.js:eval(parseDomForHtml(request(input,{}),'.embed-responsive&&script&&Html'));var jsurl=player_aaaa.url;var from=player_aaaa.from;var duoduo=\"https://player.duoduozy.com/ddplay/?url=\"+jsurl;if(jsurl.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu/)){eval(\"var config =\" + fetch(\"hiker://files/cache/MyParseSet.json\"));eval(fetch(config.cj));aytmParse(jsurl)}else if(from === 'duoduozy'){request(duoduo, {headers:{'Referer':'http://www.31kan.com/'}}).match(/urls = \"(.*?)\"/)[1]}else if(from === 'renrenmi'){var urll=request(\"https://rr.4kbuka.com/analysis.php?v=\"+jsurl).match(/urls = \"(.*?)\"/)[1];writeFile('hiker://files/cache/video.m3u8', fetch(urll, {}));'file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/cache/video.m3u8#'+urll}else{jsurl}`;\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, '.nav&&a');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text').replace('', ''))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.myui-content__list');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\nvar 简介 = parseDomForHtml(html, '.col-pd&&.sketch&&Text').replace('……', '。').replace('　', '').replace('展开全部', '');\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: parseDomForHtml(html, '.myui-content__detail&&.data,2&&Text').substring(0, 19) + '\\n' + parseDomForHtml(html, '.myui-content__detail&&p,1&&Text').replace('年份：', ' ').replace('地区：', ' ') + '\\n' + parseDomForHtml(html, '.myui-content__detail&&.data,3&&Text'),\n    desc: parseDomForHtml(html, '.myui-content__detail&&p,2&&Text'),\n    pic_url: parseDom(html, '.lazyload&&data-original'),\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",\n    col_type: 'movie_1_vertical_pic_blur',\n    extra:{gradient: true}\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 65) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url: parseDom(list[j], 'a&&href') + lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url: parseDom(list[j], 'a&&href') + lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'long_text'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"二级快捷键\",\"path\":\"erjiKJJ\",\"rule\":\"d.push({\\n    title: '影视圈',\\n    url: 'hiker://search?s=' + title + '&rule=影视圈',\\n    pic_url: \\\"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\\\",\\n    col_type: 'icon_small_4'\\n})\\nd.push({\\n    title: '聚合圈',\\n    url: 'hiker://search?s=' + title + '&rule=聚合圈',\\n    pic_url: \\\"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\\\",\\n    col_type: 'icon_small_4'\\n})\\nd.push({\\n    title: '搜索',\\n    url: 'hiker://search?s=' + title + '&group=',\\n    pic_url: \\\"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\\\",\\n    col_type: 'icon_small_4'\\n})\\nd.push({\\n    title: '豆瓣',\\n    url: 'hiker://search?s=' + title + '&rule=青豆',\\n    pic_url: \\\"https://android-artworks.25pp.com/fs08/2019/09/16/7/110_9bcb18fc9a2cec98bd037bf37bb06164_con_130x130.png\\\",\\n    col_type: 'icon_small_4'\\n})\"},{\"col_type\":\"movie_3\",\"name\":\"一级快捷键\",\"path\":\"yijiKJJ\",\"rule\":\"d.push({\\n    title: 'B站',\\n    url: 'hiker://home@哔哩ℛ',\\n    col_type: 'scroll_button',\\n});\\nd.push({\\n    title: ' 聚合 ',\\n    url: 'hiker://home@资源网采集.xyq',\\n    col_type: 'scroll_button',\\n});\\nd.push({\\n    title: ' 影视 ',\\n    url: 'hiker://home@香情影视',\\n    col_type: 'scroll_button',\\n});\\nd.push({\\n    title: ' 搜狗 ',\\n    url: 'hiker://home@搜狗·Q',\\n    col_type: 'scroll_button',\\n});\\nd.push({\\n    title: ' 直播 ',\\n    url: 'hiker://home@直播',\\n    col_type: 'scroll_button',\\n});\\nd.push({\\n    title: ' 虎牙 ',\\n    url: 'hiker://home@虎牙',\\n    col_type: 'scroll_button',\\n});\\nd.push({\\n    title: ' 斗鱼 ',\\n    url: 'hiker://home@斗鱼',\\n    col_type: 'scroll_button',\\n});\\nd.push({\\n    title: ' 企鹅 ',\\n    url: 'hiker://home@企鹅',\\n    col_type: 'scroll_button',\\n});\\nd.push({\\n    title: ' APP ',\\n    url: 'hiker://home@APP影视',\\n    col_type: 'scroll_button',\\n});\\nd.push({\\n    title: ' 仓库 ',\\n    url: 'hiker://home@道长仓库',\\n    col_type: 'scroll_button',\\n});\\nd.push({\\n    title: ' 论坛 ',\\n    url: 'hiker://home@视界论坛R',\\n    col_type: 'scroll_button',\\n});\\nd.push({\\n    title: ' 导入 ',\\n    url: 'hiker://home@合集导入',\\n    col_type: 'scroll_button',\\n});\\nd.push({\\n    title: ' 漫画 ',\\n    url: 'hiker://home@漫画',\\n    col_type: 'scroll_button',\\n});\\nd.push({\\n    title: ' 音乐 ',\\n    url: 'hiker://home@QQ音乐🎶',\\n    col_type: 'scroll_button',\\n});\\nd.push({\\n    title: ' 抖音 ',\\n    url: 'hiker://home@短视频·Q',\\n    col_type: 'scroll_button',\\n});\\nd.push({\\n    title: ' 阅读 ',\\n    url: 'hiker://home@稻草人书屋',\\n    col_type: 'scroll_button',\\n});\\nd.push({\\n    title: ' 榜单 ',\\n    url: 'hiker://home@开天榜单',\\n    col_type: 'scroll_button',\\n});\\nd.push({\\n    title: ' 虎娃 ',\\n    url: 'hiker://home@虎娃•R',\\n    col_type: 'scroll_button',\\n});\\nd.push({\\n    title: ' 厨娃 ',\\n    url: 'hiker://home@厨娃R',\\n    col_type: 'scroll_button',\\n});\\nd.push({\\n    title: ' JRS ',\\n    url: 'hiker://home@JRS直播',\\n    col_type: 'scroll_button',\\n});\\nd.push({\\n    title: ' 杂志 ',\\n    url: 'hiker://home@杂志&报纸',\\n    col_type: 'scroll_button',\\n});\\nd.push({\\n    title: ' 知乎 ',\\n    url: 'hiker://home@知乎热搜',\\n    col_type: 'scroll_button',\\n});\\nd.push({\\n    title: ' 堆糖 ',\\n    url: 'hiker://home@堆糖',\\n    col_type: 'scroll_button',\\n});\\nd.push({\\n    title: ' 新浪 ',\\n    url: 'hiker://home@稻新浪图集',\\n    col_type: 'scroll_button',\\n});\\nd.push({\\n    title: ' 黑黑 ',\\n    url: 'hiker://home@黑黑影视',\\n    col_type: 'scroll_button',\\n});\\nconst shortcut = [\\n    '插件@@hiker://js@@hiker://images/collection',\\n    '收藏@@hiker://collection@@hiker://images/history',\\n    '备份@@hiker://webdav@@hiker://images/video',\\n    '书签@@hiker://bookmark@@hiker://images/bookmark'\\n];\\nshortcut.forEach(function(s) {\\n    let a = s.split(/\\\\s*@@\\\\s*/);\\n    d.push({\\n        title: a[0],\\n        url: a[1],\\n        pic_url: a[2],\\n        col_type: 'icon_small_4'\\n    });\\n});\\nd.push({\\n    col_type: 'line_blank'\\n});\\nd.push({\\n    col_type: 'big_blank_block'\\n});\\nd.push({\\n    col_type: 'big_blank_block'\\n});\\n\"}]","icon":"https://android-artworks.25pp.com/fs08/2021/09/10/2/2_5f35b91fdcef19ee56c3218d39960ee8_con_130x130.png"},{"last_chapter_rule":"","pageList":[],"title":"1080P","author":"鸠魁&晓","version":0,"url":"https://1080p.tv/vodshow/fyclass-fyarea--fysort-----fypage---fyyear/.js:input.replace('-time', 'time-').replace('-hits', 'hits-').replace('-score', 'score-');get;utf-8;{User-Agent@Mobile}","col_type":"movie_3","class_name":"连续剧&电影&综艺&动漫&动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&国产剧&香港剧&韩国剧&欧美剧&日本剧&台湾剧","class_url":"2&1&3&4&6&7&8&9&10&11&12&13&14&15&16&20&21","area_name":"地区&大陆&美国&香港&韩国&英国&台湾&日本&法国&意大利&德国&泰国&其他","area_url":"&内地&美国&香港&韩国&英国&台湾&日本&法国&意大利&德国&泰国&其他","sort_name":"时间&人气&评分&纪录&喜剧&古装&动作&爱情&科幻&动画&悬疑&惊悚&恐怖&灾难&历史&传记","year_name":"年代&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","sort_url":"time&hits&score&纪录&喜剧&古装&动作&爱情&科幻&动画&悬疑&惊悚&恐怖&灾难&历史&传记","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar list = parseDomForArray(html,'.module-list&&.module-item');\nfor (var j in list) {\n  d.push({\n     title: parseDomForHtml(list[j], 'a&&title'),\n     desc:parseDomForHtml(list[j], '.module-item-text&&Text'),\n     pic_url: parseDom(list[j], 'img&&data-src')+'@Referer=',\n     url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\n  });\n}\nres.data = d;\nsetHomeResult(res);\n","searchFind":"js:\nvar d = [];\nvar html = getResCode();\n\nvar list = parseDomForArray(html,'body&&.module-search-item');\n\n    for (var i = 0; i < list.length; i++) {\n        var L = list[i];\n        d.push({\n            title: parseDomForHtml(L, 'h3&&Text'),\n            url: parseDom(L, 'a,1&&href')+\"#immersiveTheme#\",\n            desc:  parseDomForHtml(L, '.video-info&&a&&Text'),\n            content: parseDomForHtml(L, '.video-info-main&&.video-info-item,2&&Text'),\n            img: parseDom(L, 'img&&data-src'),\n        });\r\n    }\nsetResult(d)","search_url":"https://1080p.tv/vodsearch/**----------fypage---/;get;utf-8;{User-Agent@Mozilla 5.0}","group":"②影视","detail_col_type":"movie_3","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\nvar lazy = `@lazyRule=.player-wrapper&&script&&Html.js:eval(input.replace(/player_.*?={/,'player_data={'));var jsurl=player_data.url;var from=player_data.from;var duoduo=\"https://player.duoduozy.com/ddplay/?url=\"+jsurl;if(jsurl.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu|le|pptv/)){eval(\"var config =\" + fetch(\"hiker://files/cache/MyParseSet.json\"));eval(fetch(config.cj));aytmParse(jsurl)}else if(from === 'renrenmi'){var urll=request(\"https://www.80k.tv/rr/analysis.php?v=\"+jsurl).match(/urls = \"(.*?)\"/)[1];writeFile('hiker://files/cache/video.m3u8', fetch(urll, {}));'file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/cache/video.m3u8#'+urll}else if(from === 'rx'){eval(JSON.parse(fetch('hiker://page/globalParse?rule=道长仓库Pro', {})).rule);lazyParse(\"https://80k.tv/player/analysis.php?v=\"+jsurl,5000)}else{jsurl}`;\n\n//线路名列表的定位\nvar arts = parseDomForArray(html,'body&&.module-tab-item');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'span&&Text'))\n}\n\nvar conts = parseDomForArray(html, 'body&&.sort-item');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\n//导演名称的定位\nvar daoyan = parseDomForHtml(html, '.video-info-items&&Text').replace('/','').replace('/','').substring(0, 15);\n\n\n//演员名称的定位\nvar zhuyan = parseDomForHtml(html, '.video-info-items,1&&Text').replace('/','').substring(0, 18);\n\nvar title = parseDomForHtml(html, 'h1&&Text');\n\n//影片分类的定位\nvar fenlei = parseDomForHtml(html, '.tag-link,1&&a&&Text').replace('','分类： ').substring(0, 35);\n\nvar diqu = parseDomForHtml(html,'.tag-link,3&&Text');\n\nvar nianfen = parseDomForHtml(html,'.tag-link,2&&Text').replace('年代：','');\n\nvar 简介= parseDomForHtml(html, '.video-info-items,6&&Text');\n\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nvar aa='hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#';\nputVar('aa',aa);\nlet line_model = 8;\nlet line_type_model = 'blank_block';\n\nd.push({\n\ttitle:daoyan + '\\n' + zhuyan +'\\n'+ fenlei +'|'+ diqu +'|'+ nianfen,\n\tdesc:parseDomForHtml(html,'.video-info-items,2&&Text').substring(0, 50)+ '\\n' + parseDomForHtml(html, '.video-info-items,3&&Text').replace('备注：','状态: '),\n\npic_url: parseDom(html,'.lazyload&&data-src'),\n    url: getVar('aa'),\n    col_type: 'movie_1_vertical_pic_blur',\n    extra:{gradient: true}\n});\nd.push({\n   title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(3, 65) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' +'\\n\\t\\t\\t\\t\\t\\t\\t'+ 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\n\nd.push({\n    title: '影视圈',\n    url: 'hiker://search?s=' + title + '&rule=影视圈',\n    pic_url: \"https://z3.ax1x.com/2021/10/18/5UplTJ.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '聚合圈',\n    url: 'hiker://search?s=' + title + '&rule=聚合圈',\n    pic_url: \"https://z3.ax1x.com/2021/10/18/5UpQw4.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&rule=',\n    pic_url: \"https://z3.ax1x.com/2021/10/18/5Up3k9.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '青豆',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://z3.ax1x.com/2021/10/18/5UC4Wn.png\",\n    col_type: 'icon_small_4'\n})\n\nd.push({\n    pic_url: \"https://z3.ax1x.com/2021/10/11/5ei2tA.gif\",\nurl: MY_URL,\n    col_type: 'pic_1_full'\n})\n\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\n\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url: parseDom(list[j], 'a&&href')  + lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url: parseDom(list[j], 'a&&href')  + lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","icon":"https://android-artworks.25pp.com/fs08/2021/10/26/6/123_6379ac33291ee64cc642235fd03657ec_con_130x130.png"},{"last_chapter_rule":"js:\nvar html = getResCode();\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist')[0];\n//选集列表的定位\nvar list=parseDomForArray(conts, 'ul&&li');\nvar title=parseDomForHtml(list[list.length-1],'a&&Text');\nsetResult(\"更新至: \"+title);","pageList":[],"title":"九州影视","author":"晓","version":0,"url":"http://www.unss.net/vodshow/fyclass-fyarea--fysort-----fypage---fyyear/.js:input.replace('-time', 'time-').replace('-hits', 'hits-').replace('-score', 'score-').replace('-up', 'up-')","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫&日韩剧&欧美剧","class_url":"1&2&3&4&15&16","area_name":"地区&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","sort_name":"时间&热门&评分&更新&纪录&喜剧&古装&动作&爱情&科幻&动画&悬疑&惊悚&恐怖&灾难&历史&成人&传记","year_name":"年代&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&更早","sort_url":"time&hits&score&up&纪录&喜剧&古装&动作&爱情&科幻&动画&悬疑&惊悚&恐怖&灾难&历史&%E4%BC%A6%E7%90%86&传记","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&更早","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.stui-vodlist&&li');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),\r\n       desc: parseDomForHtml(list[j], '.pic-text&&Text'),\r\n       pic_url: parseDom(list[j], '.lazyload&&data-original') + '@Referer=',\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\nvar d = [];\r\nvar list = parseDomForArray(getResCode(), '.stui-vodlist__media&&li');\r\nfor (var j in list) {\r\n    d.push({\r\n        title: parseDomForHtml(list[j], 'a&&title'),\r\n        desc: parseDomForHtml(list[j], '.pic-text&&Text'),\r\n        content: parseDomForHtml(list[j], 'p,2&&Text'),\r\n        img: parseDom(list[j], 'a&&data-original') + '@Referer=',\r\n        url: parseDom(list[j], 'a&&href') + \"#immersiveTheme#\"\r\n    });\r\n}\r\nsetResult(d)","search_url":"http://www.unss.net/vodsearch/**----------fypage---.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar html = getResCode();\n\n\n//免嗅\nvar lazy = `@lazyRule=.js:var url=unescape(JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]).url);if(/.html|bilibili/.test(url)){var input=url;` + lazy + `}else{url+'#isVideo=true#'}`;\n\nvar playList = [];\nvar arts = parseDomForArray(html, 'body&&.nav-tabs&&a');\n\n\nfor (var i in arts) {\n    playList.push({\n        name: parseDomForHtml(arts[i], 'Text'),\n        list: []\n    });\n}\nplayList[0].use = true;\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist');\n\n\ntry {\n    //导演\n    var daoyan = parseDomForHtml(html, '.data,3&&Text').substring(3, 26);\n    //演员\n    var yanyuan = parseDomForHtml(html, '.data,2&&Text').substring(3, 45);\n    //状态\n    var time = parseDomForHtml(html, '.data,1&&Text').replace('状态：', '');\n} catch (e) {\n    var daoyan = yanyuan = time = \"未知\";\n}\nvar data = {\n    myhistory: {\n        url: MY_URL,\n        ruleName: MY_RULE.title\n    }, //固定\n    name: parseDomForHtml(html, 'h1&&Text'),\n    pic: parseDom(html, '.lazyload&&data-original'),\n    class: parseDomForHtml(html, '.branch&&Text'),\n    year: parseDomForHtml(html, '.data&&Text').replace('分类：', ' ').replace('地区：', ' ').replace('年份：', ' '),\n    area: parseDomForHtml(html, '.pic-text&&Text'),\n    info: [{\n            type: '导演：',\n            inf: daoyan\n        },\n        {\n            type: '演员：',\n            inf: yanyuan\n        },\n        {\n            type: '状态：',\n            inf: time\n        }\n    ],\n    desc: parseDomForHtml(html, '.data,-1&&Text'),\n    lazy: true,\n\n    plugin: $.toString(() => {\n        var config = fetch('hiker://files/cache/MyParseSet.json');\n        if (config == '' || !fetch(JSON.parse(config).cj)) {\n            var jsUrl = 'https://code.aliyun.com/AI957/Hiker/raw/master/v/CloudParse-V2_Dn.js';\n        } else {\n            var jsUrl = JSON.parse(config).cj;\n        }\n        eval(fetch(jsUrl));\n        var d = [];\n        setParse();\n        setResult(d);\n    })\n}\n\nfor (let i = 0; i < conts.length; i++) {\n    playList[i].list = parseDomForArray(conts[i], \"ul&&li\").map(item => {\n        return {\n            title: parseDomForHtml(item, \"a&&Text\"),\n            url: parseDom(item, 'a&&href') + lazy,\n        }\n    });\n}\n//setError(playList)\ndata.playList = playList;\nputVar('movieDetail', data);\nsetResult([{\n    desc: 'float&&100%',\n    url: 'file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/x5page/style_pro.html',\n    col_type: 'x5_webview_single'\n}]);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"var is_refresh=0;\n//＝1为每次打开小程序都下载页面文件，进二级点击海报图，更新动态文件。平常最好设为0\nis_refresh||!fileExist('hiker://files/rules/x5page/style_pro.html')?(writeFile('hiker://files/rules/x5page/style_pro.html',request('http://82.156.222.77/weisyr/style_pro.html'))):0;\nputVar('gengxin',is_refresh);","pages":"[]","icon":"https://android-artworks.25pp.com/fs08/2021/09/28/8/109_b2ee2e1556e6c2d3b70505fee86e4c09.gif"},{"last_chapter_rule":"","pageList":[],"title":"饭团影视.dz","author":"道长","version":8,"url":"https://ty.fantuan.tv/vodtype/fyclass-fypage.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nconst {comParse} = $.require('hiker://page/globalParse?rule=道长仓库Pro');\nlet parStr=\"body&&.myui-vodlist__box;a&&title;a&&data-original.js:input+'@Referer=';a&&Text;a&&href.js:input+'#immersiveTheme#'\";\nlet jscode=comParse(parStr,true);\neval(jscode)","searchFind":"js:\r\nconst {comParse} = $.require('hiker://page/globalParse?rule=道长仓库Pro');\nlet parStr=\"#searchList&&li;.thumb&&a&&title;.thumb&&a&&data-original.js:input+'@Referer=';.detail&&p,1&&Text;.searchkey&&href.js:input+'#immersiveTheme#'\";\nlet jscode=comParse(parStr,true);\neval(jscode)","search_url":"https://ty.fantuan.tv/vodsearch.html?wd=**&submit=","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nlet d=[];\nlet html=getResCode();\nd.push({\n    title:pdfh(html,\".myui-content__thumb&&a&&title\"),\n    pic_url:pd(html,\".myui-content__thumb&&a&&img&&data-original\"),\n    url:pd(html,\".myui-content__thumb&&a&&href\"),\n    desc:pdfh(html,\".myui-content__detail&&Text\"),\n    col_type:\"movie_1_vertical_pic_blur\"\n});\nlet info=pdfh(html,\"#desc&&span.content&&Text\");\nfunction rechange(playUrl){\n    fba.log(\"开始改变链接\");\n    return playUrl\n}\nlet lazy=$(\"\").lazyRule((rechange)=>{\n    const {lazyParse} = $.require('hiker://page/globalParse?rule=道长仓库Pro');\n   return lazyParse(input,null,null,rechange);\n},rechange);\nd.push({\n    title:\"剧情简介\",\n    desc:info,\n    col_type:\"text_1\",\n    url:$().rule((info)=>{\n        let d=[];\n        d.push({\n            title:info,\n            col_type:\"long_text\"\n        },info);\n        setResult(d)\n    },info)\n});\nfunction reChange(link){\n        if (/cat\\.wkfile\\.com\\/m3u8/.test(link)){\n            link+=\";{Referer@https://fantuan.tv}\"\n        }\n        return link;\n }\nlet tabs=pdfa(html,\".tab-content&&a\");\n//log(tabs.length)\nd.push({\n    title:\"播放地址共计\"+tabs.length+\"条线路\",\n    col_type:\"text_1\",\n    url:\"hiker://\"\n});\nfor(let i in tabs){\n    d.push({\n        title:pdfh(tabs[i],\"a&&Text\"),\n        url:pd(tabs[i],\"a&&href\")+lazy,\n        col_type:tabs.length>10?\"flex_button\":\"text_2\",extra:{\n                    blockRules: ['baidu.*.png', '.jpg','.mp3','.mp4','.m3u8','.flv','.avi','.3gp','.mpeg','.wmv','.mov','.rmvb','.gif','.jpg','.jpeg','.png','.ico','.svg']\n}\n    });\n}\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/饭团影院.png"},{"last_chapter_rule":"","pageList":[],"title":"F7影院","author":"","version":0,"url":"https://haokanju1.cc/index.php/vod/show/fyarea/fysort/id/fyclass/page/fypage/year/fyyear.html","col_type":"movie_3","class_name":"电影&连续剧&动漫&综艺&||&动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&纪录片&||&国产剧&港台剧&欧美剧&日韩剧","class_url":"1&2&4&3&||&6&7&8&9&10&11&12&16&||&13&14&15&39","area_name":"全部&大陆&美国&香港&韩国&英国&台湾&日本&法国&意大利&德国&西班牙&泰国&其它","area_url":"&/area/大陆&/area/美国&/area/香港&/area/韩国&/area/英国&/area/台湾&/area/日本&/area/法国&/area/意大利&/area/德国&/area/西班牙&/area/泰国&/area/其它","sort_name":"时间&人气&评分&喜剧&动作&爱情&惊悚&犯罪&冒险&科幻&悬疑&剧情&动画&武侠&战争&歌舞&奇幻&传记&警匪&历史&运动&伦 理&灾难&西部&魔幻&枪战&恐怖&记录","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","sort_url":"/by/time&/by/hits&/by/score&/class/喜剧&/class/动作&/class/爱情&/class/惊悚&/class/犯罪&/class/冒险&/class/科幻&/class/悬疑&/class/剧情&/class/动画&/class/武侠&/class/战争&/class/歌舞&/class/奇幻&/class/传记&/class/警匪&/class/历史&/class/运动&/class/伦 理&/class/灾难&/class/西部&/class/魔幻&/class/枪战&/class/恐怖&/class/记录","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","find_rule":"js:\r\nvar d = [];\nvar list = parseDomForArray(getResCode(), 'body&&.module-item');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], '.lazyloaded&&alt'),\r\n       desc: parseDomForHtml(list[j], '.module-item-text&&Text'),\r\n       img: parseDom(list[j], '.lazyloaded&&data-src')+'@Referer=',\r\n       url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\r\n  });\r\n}\r\nsetResult(d);","searchFind":"js:\nvar d = [];\nvar html = getResCode();\n\nvar list = parseDomForArray(html,'body&&.module-list&&.module-search-item');\n\n    for (var i = 0; i < list.length; i++) {\n        var L = list[i];\n        d.push({\n            title: parseDomForHtml(L, 'img&&alt'),\n            url: parseDom(L, 'a,1&&href')+\"#immersiveTheme#\",\n            desc:  parseDomForHtml(L, '.video-info&&a&&Text'),\n            content: parseDomForHtml(L, '.video-info-main&&.video-info-item,2&&Text'),\n            img: parseDom(L, 'img&&data-src'),\n        });\r\n    }\nsetResult(d)","search_url":"https://haokanju1.cc/index.php/vod/search/page/fypage/wd/**.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\nvar lazy=`@lazyRule=.js:var xx=JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]);var jsurl=decodeURIComponent(base64Decode(xx.url));if(jsurl.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu|pptv|le/)){eval(\"var config =\" + fetch(\"hiker://files/cache/MyParseSet.json\"));eval(fetch(config.cj));aytmParse(jsurl)}else{jsurl}`;\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, 'body&&.module-tab-item');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'span&&Text'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.scroll-box-y');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\nvar 导演 = parseDomForHtml(html, '.video-info-items&&Text').replace(/\\//g,' ');\n\nvar 主演 = parseDomForHtml(html, '.video-info-items,1&&Text').replace(/\\//g,' ');\n\nvar 更新 = parseDomForHtml(html, '.video-info-items,2&&Text');\n\nvar 状态 = parseDomForHtml(html, '.video-info-items,3&&Text');\n\nvar 图片 = parseDom(html, '.lazyload&&data-src');\n\nvar 简介 = parseDomForHtml(html, '.vod_content&&span&&Text');\n\n\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 导演 + '\\n' + 主演,\n    desc: 更新 + '\\n' + 状态,\n    pic_url: 图片,\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",   \n    col_type: 'movie_1_vertical_pic_blur',\n    extra:{gradient: true}\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') +lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') +lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://haokanju1.cc/mxstatic/picture/logo.png"},{"last_chapter_rule":"","pageList":[],"title":"视觉影院","author":"","version":0,"url":"http://shijueyy.com/index.php/vod/show/fyarea/by/fysort/id/fyclass/page/fypage/year/fyyear.html","col_type":"movie_3","class_name":"电影&连续剧&动漫&综艺&||&动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&||&国产剧&港台剧&日韩剧&欧美剧","class_url":"1&2&4&3&||&6&7&8&9&10&11&12&||&13&14&15&16","area_name":"全部&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&/area/大陆&/area/香港&/area/台湾&/area/美国&/area/法国&/area/英国&/area/日本&/area/韩国&/area/德国&/area/泰国&/area/印度&/area/意大利&/area/西班牙&/area/加拿大&/area/其他","sort_name":"时间&人气&评分","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010","find_rule":"js:\nvar items=[];\n\nvar list = parseDomForArray(getResCode(), '.vodlist&&li');//列表\n\nfor(var i in list){\ntry{\nitems.push({\ntitle:parseDomForHtml(list[i],'a&&title'),//标题\ndesc:parseDomForHtml(list[i],'.pic_text&&Text'),//描述\npic_url:parseDom(list[i],'.lazyload&&data-original')+'@Referer=',//图片\nurl:parseDom(list[i],'a&&href')+\"#immersiveTheme#\",//链接\ncol_type: 'movie_3'});\n  }catch(e){''}\n}\n//道佬•模板\nsetHomeResult({ data : items});","searchFind":"js:\nvar items=[];\n\nvar list = parseDomForArray(getResCode(), '.vodlist&&li');//列表\nfor(var i in list){\ntry{\nitems.push({\ntitle:parseDomForHtml(list[i],'a&&title'),//标题\ndesc:parseDomForHtml(list[i],'.pic_text&&Text'),//描述\ncontent:parseDomForHtml(list[i],'p,-1&&Text'),//详情\npic_url:parseDom(list[i],'a&&data-original'),//图片\nurl:parseDom(list[i],'a&&href')+\"#immersiveTheme#\"//链接\n});\n  }catch(e){''}\n}\n//道佬•模板\nsetSearchResult({ data : items});","search_url":"http://shijueyy.com/index.php/vod/search/page/fypage/wd/**.html","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\nvar lazy=`@lazyRule=.js:JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]).url`\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, 'body&&#bofy&&h2');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text').replace(' ',''))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.content_playlist');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\nvar 分类 = parseDomForHtml(html, '.data&&Text').replace('类型：','').replace('地区：','').replace('年份：','');\n\nvar 状态 = parseDomForHtml(html, '.data,1&&Text');\n\nvar 主演 = parseDomForHtml(html, '.data,2&&Text');\n\nvar 导演 = parseDomForHtml(html, '.data,3&&Text');\n\nvar 图片 = parseDom(html, '.lazyload&&data-original');\n\nvar 简介 = parseDomForHtml(html, '.content_desc&&Text').replace(' 展开全部','');\n\n\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 分类 + '\\n' + 状态,\n    desc: 主演 + '\\n' + 导演,\n    pic_url: 图片,\n    url:MY_URL,\n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') +lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') +lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"http://shijueyy.com/template/ikan/img/favicon.png"},{"last_chapter_rule":"","pageList":[],"title":"爱影视","author":"","version":0,"url":"https://aiyingshis.com/vodshow/fyarea/by/fysort/id/fyclass/page/fypage/year/fyyear.html","col_type":"movie_3","class_name":"蓝光电影&蓝光电视剧&蓝光综艺&蓝光动漫&哔哩视频","class_url":"38&39&40&41&43","area_name":"全部&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&/area/大陆&/area/香港&/area/台湾&/area/美国&/area/法国&/area/英国&/area/日本&/area/韩国&/area/德国&/area/泰国&/area/印度&/area/意大利&/area/西班牙&/area/加拿大&/area/其他","sort_name":"时间&人气&评分","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","find_rule":"js:\r\nvar d = [];\nvar list = parseDomForArray(getResCode(), 'body&&.module-item');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], '.lazyloaded&&alt'),\r\n       desc: parseDomForHtml(list[j], '.module-item-text&&Text'),\r\n       img: parseDom(list[j], '.lazyloaded&&data-src')+'@Referer=',\r\n       url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\r\n  });\r\n}\r\nsetResult(d);","searchFind":"js:\nvar d = [];\nvar html = getResCode();\n\nvar list = parseDomForArray(html,'body&&.module-list&&.module-search-item');\n\n    for (var i = 0; i < list.length; i++) {\n        var L = list[i];\n        d.push({\n            title: parseDomForHtml(L, 'img&&alt'),\n            url: parseDom(L, 'a,1&&href')+\"#immersiveTheme#\",\n            desc:  parseDomForHtml(L, '.video-info&&a&&Text'),\n            content: parseDomForHtml(L, '.video-info-main&&.video-info-item,2&&Text'),\n            img: parseDom(L, 'img&&data-src'),\n        });\r\n    }\nsetResult(d)","search_url":"https://aiyingshis.com/vodsearch/page/fypage/wd/**.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\nvar lazy = $(\"\").lazyRule(() => {\n    eval(parseDomForHtml(fetch(input, {\n        headers: {\n            'User-Agent': MOBILE_UA\n        }\n    }), '.player-wrapper&&script&&Html'));\n    var url = player_aaaa.url;\n    if (url.search(/m3u8|mp4/)>-1) {\n        var video = url\n    } else {\neval(fetch('https://aiyingshis.com/static/js/playerconfig.js'));\n        var jx = MacPlayerConfig.player_list[player_aaaa.from].parse;\n        if (jx == '') {\n            jx = MacPlayerConfig.parse\n        };\n        var play = jx + url\n        showLoading(\"\\u5df2\\u5f00\\u542f\\u5f3a\\u529b\\u55c5\\u63a2\\uff0c\\u8bf7\\u7a0d\\u5019\");\n        var video = 'x5Rule://' + play + '@' + $.toString(() => {\n            var urls = _getUrls()\n            for (var i in urls) {\n                if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n                    fy_bridge_app.log(urls[i])\n                    return urls[i];} else if (urls[i].match(/\\.flv/)) {\n                    fy_bridge_app.log(urls[i])\n                    return urls[i]+';{Referer@https://www.bilibili.com/&&User-Agent@Mozilla/5.0}';\n               }\n            }\n        })\n    }\n    return video\n});\n//线路名列表的定位\nvar arts = parseDomForArray(html, 'body&&.module-tab-item');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'span&&Text'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.scroll-box-y');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\nvar 导演 = parseDomForHtml(html, '.video-info-items&&Text').replace(/\\//g,' ');\n\nvar 主演 = parseDomForHtml(html, '.video-info-items,1&&Text').replace(/\\//g,' ');\n\nvar 更新 = parseDomForHtml(html, '.video-info-items,2&&Text');\n\nvar 状态 = parseDomForHtml(html, '.video-info-items,3&&Text');\n\nvar 图片 = parseDom(html, '.lazyload&&data-src');\n\nvar 简介 = parseDomForHtml(html, '.vod_content&&span&&Text');\n\n\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 导演 + '\\n' + 主演,\n    desc: 更新 + '\\n' + 状态,\n    pic_url: 图片,\n    url: MY_URL,   \n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') +lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') +lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://aiyingshis.com/mxstatic/picture/logo.png"},{"last_chapter_rule":"","pageList":[],"title":"迷你库","author":"","version":1,"url":"http://www.miniku.cc/vodshow/fyclass-fyarea-fysort------fypage---fyyear/","col_type":"movie_3","class_name":"欧美&日韩&电影&剧集&综艺&动漫&||&动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&||&国产剧&港台剧&日韩剧&欧美剧","class_url":"20&21&1&2&3&4&||&6&7&8&9&10&11&12&||&13&14&15&16","area_name":"全部&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","sort_name":"时间&人气&评分","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","find_rule":"js:\r\nvar d = [];\nvar list = parseDomForArray(getResCode(), 'body&&.module-item');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], '.lazyloaded&&alt'),\r\n       desc: parseDomForHtml(list[j], '.module-item-text&&Text'),\r\n       img: parseDom(list[j], '.lazyloaded&&data-src')+'@Referer=',\r\n       url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\r\n  });\r\n}\r\nsetResult(d);","searchFind":"js:\nvar d = [];\nvar html = getResCode();\n\nvar list = parseDomForArray(html,'body&&.module-list&&.module-search-item');\n\n    for (var i = 0; i < list.length; i++) {\n        var L = list[i];\n        d.push({\n            title: parseDomForHtml(L, 'img&&alt'),\n            url: parseDom(L, 'a,1&&href')+\"#immersiveTheme#\",\n            desc:  parseDomForHtml(L, '.video-info&&a&&Text'),\n            content: parseDomForHtml(L, '.video-info-main&&.video-info-item,2&&Text'),\n            img: parseDom(L, 'img&&data-src'),\n        });\r\n    }\nsetResult(d)","search_url":"http://www.miniku.cc/vodsearch/**----------fypage---/","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\nvar lazy=`@lazyRule=.js:var xx=JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]);var url=xx.url;var from=xx.from;if(url.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu|pptv|le/)){var input=url;eval(fetch('hiker://files/cache/Parse_Dn.js'));aytmParse(input)}else if(from=='renrenmi'){var rr=request('https://sudu.renrenmi.cc:2021/ku/analysis.php?v='+url).match(/https.*?m3u8/)[0];cacheM3u8(rr)}else{url}`;\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, 'body&&.module-tab-item');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'span&&Text'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.scroll-box-y');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\nvar 导演 = parseDomForHtml(html, '.video-info-items&&Text');\n\nvar 主演 = parseDomForHtml(html, '.video-info-items,1&&Text');\n\nvar 更新 = parseDomForHtml(html, '.video-info-items,2&&Text');\n\nvar 状态 = parseDomForHtml(html, '.video-info-items,3&&Text');\n\nvar 图片 = parseDom(html, '.lazyload&&data-src');\n\nvar 简介 = parseDomForHtml(html, '.vod_content&&Text').replace('剧情： ','').replace('收起','');\n\n\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 导演 + '\\n' + 主演,\n    desc: 更新 + '\\n' + 状态,\n    pic_url: 图片,\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",   \n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') +lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') +lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://www.miniku.cc/upload/mxcms/20211026-1/f829108856ade114cd56f0b11f626efd.png"},{"last_chapter_rule":"","pageList":[],"title":"牛马TV","author":"","version":1,"url":"http://www.niumatv.com/vodshow/fyarea/by/fysort/id/fyclass/page/fypage/year/fyyear.html","col_type":"movie_3","class_name":"电影&电视剧&动漫&综艺","class_url":"dianying&dianshiju&dongman&zongyi","area_name":"全部&大陆&香港&台湾&美国&韩国&日本&泰国&新加坡&马来西亚&印度&英国&法国&德国&加拿大&西班牙&俄罗斯&其它","area_url":"&/area/大陆&/area/香港&/area/台湾&/area/美国&/area/韩国&/area/日本&/area/泰国&/area/新加坡&/area/马来西亚&/area/印度&/area/英国&/area/法国&/area/德国&/area/加拿大&/area/西班牙&/area/俄罗斯&/area/其它","sort_name":"时间&人气&评分","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000&1990&1980&1970&1960&1950","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000&1990&1980&1970&1960&1950","find_rule":"body&&.vodlist__thumb;a&&title;a&&data-original.js:input+\"@Referer=\";span&&Text;a&&href.js:input +\"#immersiveTheme#\"","searchFind":"body&&.vodlist__thumb;a&&title;a&&href.js:input +\"#immersiveTheme#\";span&&Text;;a&&data-original","search_url":"http://www.niumatv.com/vodsearch**/page/fypage.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\nvar lazy=`@lazyRule=.js:var xx=JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]);var jsurl=unescape(xx.url);var from=xx.from;if(jsurl.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu|pptv|le/)){eval(\"var config =\" + fetch(\"hiker://files/cache/MyParseSet.json\"));eval(fetch(config.cj));aytmParse(jsurl)}else if(from === 'renrenmi'){x=request('https://jx.178du.com/ku/analysis.php?v='+jsurl).match(/urls = \"(.*?)\"/)[1];writeFile('hiker://files/cache/video.m3u8',fetch(x, {}));'file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/cache/video.m3u8#'+x}else if(from=='duoduozy'){request('https://player.duoduozy.com/ddplay/?url='+jsurl,{headers:{'Referer':'https://player.duoduozy.com/'}}).match(/urls = \"(.*?)\"/)[1]}else{jsurl}`;\n\n\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, '.playlists&&dt');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text').replace('新云','人人迷'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.playlist');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\nvar 导演 = parseDomForHtml(html, '.product-excerpt&&Text');\n\nvar 主演 = parseDomForHtml(html, '.product-excerpt,1&&Text');\n\nvar 类型 = parseDomForHtml(html, '.product-excerpt,2&&Text');\n\nvar 地区 = parseDomForHtml(html, '.product-excerpt,3&&Text').replace('制片国家/','');\n\nvar 图片 = parseDom(html, '.article-container&&img&&src');\n\nvar 简介 = parseDomForHtml(html, '.product-excerpt,5&&Text').replace('剧情简介：','');\n\n\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 主演 + '\\n' + 导演,\n    desc: 类型 + '\\n' + 地区,\n    pic_url: 图片,\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",\n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') +lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href')  +lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","icon":"https://i.loli.net/2021/11/03/s9EowCQmVKrL8D5.jpg"},{"last_chapter_rule":"","pageList":[],"title":"HG影视","author":"","version":1,"url":"http://cs.hgyx.vip/index.php/vod/show/fyarea/by/fysort/id/fyclass/page/fypage/year/fyyear.html","col_type":"movie_3","class_name":"4k影视片&4k影视剧&4k动漫&综艺","class_url":"1&2&4&3","area_name":"全部&大陆&美国&香港&韩国&英国&台湾&日本&法国&意大利&德国&西班牙&泰国&其它","area_url":"&/area/大陆&/area/美国&/area/香港&/area/韩国&/area/英国&/area/台湾&/area/日本&/area/法国&/area/意大利&/area/德国&/area/西班牙&/area/泰国&/area/其它","sort_name":"时间&人气&评分","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","find_rule":"js:\nvar items=[];\n\nvar list = parseDomForArray(getResCode(), '.vodlist&&li');//列表\n\nfor(var i in list){\ntry{\nitems.push({\ntitle:parseDomForHtml(list[i],'a&&title'),//标题\ndesc:parseDomForHtml(list[i],'.xszxj&&Text'),//描述\npic_url:parseDom(list[i],'.lazyload&&data-original')+'@Referer=',//图片\nurl:parseDom(list[i],'a&&href').replace('detail','play').replace('.html','/sid/1/nid/1.html')+\"#immersiveTheme#\",//链接\ncol_type: 'movie_3'});\n  }catch(e){''}\n}\n//道佬•模板\nsetHomeResult({ data : items});","searchFind":"js:\nvar items=[];\n\nvar list = parseDomForArray(getResCode(), '.vodlist&&li');//列表\nfor(var i in list){\ntry{\nitems.push({\ntitle:parseDomForHtml(list[i],'a&&title'),//标题\ndesc:parseDomForHtml(list[i],'.pic_text&&Text'),//描述\ncontent:parseDomForHtml(list[i],'p,-1&&Text'),//详情\npic_url:parseDom(list[i],'a&&data-original'),//图片\nurl:parseDom(list[i],'a&&href').replace('detail','play').replace('.html','/sid/1/nid/1.html')+\"#immersiveTheme#\"//链接\n});\n  }catch(e){''}\n}\n//道佬•模板\nsetSearchResult({ data : items});","search_url":"http://cs.hgyx.vip/index.php/vod/search/page/fypage/wd/**.html","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\nvar lazy=`@lazyRule=.js:var xx=JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]);var jsurl=decodeURIComponent(base64Decode(xx.url));var from=xx.from;if(jsurl.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu|pptv|le/)){eval(\"var config =\" + fetch(\"hiker://files/cache/MyParseSet.json\"));eval(fetch(config.cj));aytmParse(jsurl)}else{jsurl}`;\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, '.play_source_tab&&a');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text').replace(' ',''))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.content_playlist');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\nvar 分类 = parseDomForHtml(html, '.player_detail&&h2&&Text');\n\nvar 状态 = parseDomForHtml(html, '.play_text&&p&&Text');\n\nvar 主演 = parseDomForHtml(html, '.play_content&&p,1&&Text');\n\nvar 导演 = parseDomForHtml(html, '.play_content&&p&&Text');\n\nvar 图片 = parseDom(html, '.play_vlist&&.lazyload&&data-original');\n\nvar 简介 = parseDomForHtml(html, '.play_content&&p,-1&&Text');\n\n\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 分类 + '\\n' + 主演,\n    desc: 导演 + '\\n' + 状态,\n    pic_url: 图片,\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",\n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') +lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') +lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://i.loli.net/2021/11/04/1RyVMrghf9itlIc.png"},{"last_chapter_rule":"js:\nvar html = getResCode();\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.scroll-box-y')[0];\n//选集列表的定位\nvar list=parseDomForArray(conts, 'body&&a');\nvar title=parseDomForHtml(list[list.length-1],'a&&Text');\nsetResult(\"更新至: \"+title);","pageList":[],"title":"喵乐影视","author":"","version":2,"url":"http://www.miaoleys.com/vodshow/fyclass-fyarea-fysort------fypage---fyyear.html","col_type":"movie_3","class_name":"电影&连续剧&奈菲专区&十月新番&动漫&综艺","class_url":"1&2&47&4&3&48","area_name":"全部&大陆&美国&香港&韩国&英国&台湾&日本&法国&意大利&德国&西班牙&泰国&其它","area_url":"&大陆&美国&香港&韩国&英国&台湾&日本&法国&意大利&德国&西班牙&泰国&其它","sort_name":"时间&人气&评分","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","find_rule":"js:\r\nvar d = [];\nvar list = parseDomForArray(getResCode(), 'body&&.module-item');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], '.lazyloaded&&alt'),\r\n       desc: parseDomForHtml(list[j], '.module-item-text&&Text'),\r\n       img: parseDom(list[j], '.lazyloaded&&data-src')+'@Referer=',\r\n       url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\r\n  });\r\n}\r\nsetResult(d);","searchFind":"js:\nvar d = [];\nvar html = getResCode();\n\nvar list = parseDomForArray(html,'body&&.module-list&&.module-search-item');\n\n    for (var i = 0; i < list.length; i++) {\n        var L = list[i];\n        d.push({\n            title: parseDomForHtml(L, 'img&&alt'),\n            url: parseDom(L, 'a,1&&href')+\"#immersiveTheme#\",\n            desc:  parseDomForHtml(L, '.video-info&&a&&Text'),\n            content: parseDomForHtml(L, '.video-info-main&&.video-info-item,2&&Text'),\n            img: parseDom(L, 'img&&data-src'),\n        });\r\n    }\nsetResult(d)","search_url":"http://www.miaoletv.com/vodsearch/----------fypage---.html?wd=**","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\nvar lazy=`@lazyRule=.js:var xx=JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]);var url=xx.url;var from=xx.from;if(url.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu|le/)){var input=url;eval(fetch('hiker://files/cache/Parse_Dn.js'));aytmParse(input)}else if(from=='renrenmi'){request('https://xl.miaoletv.com/analysis.php?v='+url).match(/urls = \"(.*?)\"/)[1]}else{url}`;\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, 'body&&.module-tab-item');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'span&&Text').replace('超清线路一','爱奇艺').replace('超清线路二','腾讯').replace('超清线路三','优酷').replace('超清线路四','芒果').replace('超清线路五','乐视').replace('超清线路六','搜狐').replace('超清线路七','哔哩哔哩').replace('超清线路八','PPTV').replace('此线路广告勿信','kbm3u8').replace('喵乐云','人人迷'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.scroll-box-y');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\nvar 导演 = parseDomForHtml(html, '.video-info-items&&Text');\n\nvar 主演 = parseDomForHtml(html, '.video-info-items,1&&Text');\n\nvar 年代 = parseDomForHtml(html, '.video-info-items,2&&Text');\n\nvar 状态 = parseDomForHtml(html, '.video-info-items,3&&Text');\n\nvar 图片 = parseDom(html, '.lazyload&&data-src');\n\nvar 简介 = parseDomForHtml(html, '.zkjj_a&&Text').replace('[展开全部]','');\n\nvar 图片链接 =MY_URL;\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 导演 + '\\n' + 主演,\n    desc: 年代 + '\\n' + 状态,\n    pic_url: 图片,\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",\n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href')+lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href')+lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://i.loli.net/2021/11/02/A1YoesEfpX46CiD.png"},{"last_chapter_rule":"","pageList":[],"title":"极速云播","author":"","version":1,"url":"https://www.zxyb.cc/s/fyclass-fyarea--fysort-----fypage---2021.html.js:input.replace('-time', 'time-').replace('-hits', 'hits-').replace('-score', 'score-')","col_type":"movie_3","class_name":"电影&连续剧&动漫&综艺&||&动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&||&国产剧&港台剧&日韩剧&欧美剧","class_url":"1&2&4&3&||&6&7&8&9&10&11&12&||&13&14&15&16","area_name":"全部&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","sort_name":"时间&人气&评分&喜剧&爱情&恐怖&动作&科幻&剧情&战争&警匪&犯罪&动画&奇幻&武侠&冒险&枪战&恐怖&悬疑&惊悚&经典&青春&文艺&微电影&古装&历史&运动&农村&儿童&网络电影","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010","sort_url":"time&hits&score&喜剧&爱情&恐怖&动作&科幻&剧情&战争&警匪&犯罪&动画&奇幻&武侠&冒险&枪战&恐怖&悬疑&惊悚&经典&青春&文艺&微电影&古装&历史&运动&农村&儿童&网络电影","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010","find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar list = parseDomForArray(html,'.stui-vodlist&&li');\nfor (var j in list) {\n  d.push({\n     title: parseDomForHtml(list[j], 'a&&title'),\n     desc:parseDomForHtml(list[j], '.pic-text&&Text'),\n     pic_url: parseDom(list[j], 'a&&data-original')+'@Referer=',\n     url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\n  });\n}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar list = parseDomForArray(html,'.stui-vodlist__media&&li');\nfor (var j in list) {\n  d.push({\n     title: parseDomForHtml(list[j], 'a&&title'),\n     desc:parseDomForHtml(list[j], '.pic-text&&Text'),\n     pic_url: parseDom(list[j], 'a&&data-original'),\n     url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\n  });\n}\nres.data = d;\nsetHomeResult(res);","search_url":"https://www.zxyb.cc/so/**----------fypage---.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar lazy = `@lazyRule=.embed-responsive&&script&&Html.js:eval(input.replace(/player_.*?={/,'player_aaaa={'));var jsurl=player_aaaa.url;if(jsurl.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu|pptv|le/)){eval(\"var config =\" + fetch(\"hiker://files/cache/MyParseSet.json\"));eval(fetch(config.cj));aytmParse(jsurl)}else if(jsurl.match(/renrenmi/)){var rr=request('https://zxyb.xyz/lg/analysis.php?v='+jsurl).match(/urls = \"(.*?)\"/)[1];cacheM3u8(rr)}else{jsurl}`;\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, '.nav-tabs&&li');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text').replace('极速云[蓝光]','人人迷').replace('百度云','龙腾'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\nvar 分类 = parseDomForHtml(html, '.data&&Text');\n\nvar 主演 = parseDomForHtml(html, '.data,2&&Text');\n\nvar 导演 = parseDomForHtml(html, '.data,3&&Text');\n\nvar 更新 = parseDomForHtml(html, '.data,1&&Text');\n\nvar 图片 = parseDom(html, '.lazyload&&data-original');\n\nvar 简介 = parseDomForHtml(html, '.desc&&Text').replace('简介：','').replace('详情','');\n\nvar 图片链接 = MY_URL;\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 分类 + '\\n' + 主演,\n    desc: 导演 + '\\n' + 更新,\n    pic_url: 图片,\n    //url: 图片链接,\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",\n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href')+lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') +lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://i.loli.net/2021/11/02/rfqZM8NShUePikK.jpg"},{"last_chapter_rule":"","pageList":[],"title":"爱影吧","author":"","version":2,"url":"http://www.ayinb.com/index.php/vod/show/fyarea/by/fysort/id/fyclass/page/fypage/year/fyyear.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫&||&动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&惊悚片&犯罪片&冒险片&悬疑片&武侠片&奇幻片&记录片&邵氏电影&b电影&||&国产剧&港台剧&日韩剧&欧美剧&泰剧","class_url":"1&2&3&4&||&6&7&8&9&10&11&12&20&21&22&23&24&25&26&29&30&||&13&14&15&16&28","area_name":"全部&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&/area/大陆&/area/香港&/area/台湾&/area/美国&/area/法国&/area/英国&/area/日本&/area/韩国&/area/德国&/area/泰国&/area/印度&/area/意大利&/area/西班牙&/area/加拿大&/area/其他","sort_name":"时间&人气&评分","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","find_rule":"js:\nvar items=[];\n\nvar list = parseDomForArray(getResCode(), '.vodlist&&li');//列表\n\nfor(var i in list){\ntry{\nitems.push({\ntitle:parseDomForHtml(list[i],'a&&title'),//标题\ndesc:parseDomForHtml(list[i],'.pic_text&&Text'),//描述\npic_url:parseDom(list[i],'.lazyload&&data-original')+'@Referer=',//图片\nurl:parseDom(list[i],'a&&href')+\"#immersiveTheme#\",//链接\ncol_type: 'movie_3'});\n  }catch(e){''}\n}\n//道佬•模板\nsetHomeResult({ data : items});","searchFind":"js:\nvar items=[];\n\nvar list = parseDomForArray(getResCode(), '.vodlist&&li');//列表\nfor(var i in list){\ntry{\nitems.push({\ntitle:parseDomForHtml(list[i],'a&&title'),//标题\ndesc:parseDomForHtml(list[i],'.pic_text&&Text'),//描述\ncontent:parseDomForHtml(list[i],'p,-1&&Text'),//详情\npic_url:parseDom(list[i],'a&&data-original'),//图片\nurl:parseDom(list[i],'a&&href')+\"#immersiveTheme#\"//链接\n});\n  }catch(e){''}\n}\n//道佬•模板\nsetSearchResult({ data : items});","search_url":"http://www.ayinb.com/index.php/vod/search/page/fypage/wd/**.html","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\nputMyVar('_x5', $.toString(() => {\n    fba.log(fba.getUrls())\n    var urls = _getUrls()\n    for (var i in urls) {\n        if (!urls[i].includes(\"url=\") &&  urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i])\n            return urls[i]\n        }\n    }\n}));\nvar lazy=`@lazyRule=.js:var xx=JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]);var url=xx.url;var from=xx.from;if(url.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu|pptv|le/)){showLoading('正在进行嗅探，请稍候');'x5Rule://'+input+'@'+getMyVar('_x5')}else if(from=='renrenmi'){var rr=request('http://www.ayinb.com/as/analysis.php?v='+url).match(/urls = \"(.*?)\"/)[1];cacheM3u8(rr)}else if(from=='leduo'){request('https://api.leduotv.com/wp-api/glid.php?vid='+url+'&isDp=1').match(/url='(.*?)'/)[1]+\"#isVideo=true#\"}else{url}`;\n//线路名列表的定位\nvar arts = parseDomForArray(html, '.play_source_tab&&a');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text').replace(' ',''))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&#playlistbox');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\nvar 分类 = parseDomForHtml(html, '.data&&Text').replace('类型：','').replace('地区：','').replace('年份：','');\n\nvar 状态 = parseDomForHtml(html, '.data,1&&Text');\n\nvar 主演 = parseDomForHtml(html, '.data,2&&Text');\n\nvar 导演 = parseDomForHtml(html, '.data,3&&Text');\n\nvar 图片 = parseDom(html, '.lazyload&&data-original');\n\nvar 简介 = parseDomForHtml(html, '.content_desc&&Text').replace(' 展开全部','');\n\n\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 分类 + '\\n' + 状态,\n    desc: 主演 + '\\n' + 导演,\n    pic_url: 图片,\n    url:MY_URL,\n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') +lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') +lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://i.loli.net/2021/11/02/hDuP8iEgTvfBsr6.png"},{"last_chapter_rule":"","pageList":[],"title":"U23c影院","author":"","version":0,"url":"https://www.u23c.com/vodshow/fyclass-fyarea-fysort------fypage---fyyear.html","col_type":"movie_3","class_name":"电影&连续剧&动漫&综艺&||&动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&||&国产剧&港台剧&日韩剧&欧美剧","class_url":"1&2&4&3&||&6&7&8&9&10&11&12&||&13&14&15&16","area_name":"全部&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","sort_name":"时间&人气&评分","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010","find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar list = parseDomForArray(html,'.list&&li');\nfor (var j in list) {\n  d.push({\n     title: parseDomForHtml(list[j], 'a&&title'),\n     desc:parseDomForHtml(list[j], 'span&&Text'),\n     pic_url: parseDom(list[j], '.lazy&&data-original')+'@Referer=',\n     url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\n  });\n}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar list = parseDomForArray(html,'.list&&li');\nfor (var j in list) {\n  d.push({\n     title: parseDomForHtml(list[j], 'a&&title').replace('立刻播放',''),\n     desc:parseDomForHtml(list[j], 'span,1&&Text'),\n     pic_url: parseDom(list[j], '.lazy&&data-original'),\n     url: parseDom(list[j], 'a&&href').replace('play','detail').replace('-1-1.html','.html')+\"#immersiveTheme#\"\n  });\n}\nres.data = d;\nsetHomeResult(res);","search_url":"https://www.u23c.com/vodsearch/**----------fypage---.html","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\nvar lazy=`@lazyRule=.js:var xx=JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]);var url=xx.url;var from=xx.from;if(url.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu|pptv|le/)){var input=url;eval(fetch('hiker://files/cache/Parse_Dn.js'));aytmParse(input)}else if(from=='renrenmi'){eval(fetch('hiker://files/cache/Parse_Dn.js'));ParseS.defaultParse(\"https://jx.renrenmi.cc/?url=\"+url)}else{url}`;\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, '#playNumTab&&a');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.playNumList');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\nvar 分类 = parseDomForHtml(html, '.info-item,1&&Text');\n\nvar 地区 = parseDomForHtml(html, '.info-item,2&&Text');\n\nvar 年代 = parseDomForHtml(html, '.info-item&&Text');\n\nvar 状态 = parseDomForHtml(html, '.infor-item&&Text');\n\nvar 图片 = parseDom(html, '.detail-info&&img&&src');\n\nvar 简介 = parseDomForHtml(html, '.ju-blurb&&Text');\n\nvar 图片链接 =MY_URL;\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 年代 + '\\n' + 分类,\n    desc: 地区 + '\\n' + 状态,\n    pic_url: 图片,\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",\n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href')+lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href')+lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://www.u23c.com/template/datll_tpl_m031/assets/icon/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"嘿锋影视","author":"","version":0,"url":"https://www.hfys8.vip/index.php/vod/type/id/fyAll/page/fypage.html","col_type":"movie_3","class_name":"电影片&连续剧&动漫剧&综艺剧","class_url":"20&21&22&23","area_name":"动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&犯罪片&奇幻片&悬疑片&动画片&惊悚片&古装片","area_url":"26&27&28&29&30&31&32&33&34&35&36&37&38","sort_name":"","year_name":"国产剧&港台剧&日韩剧&欧美剧&泰国剧&其他剧","sort_url":"","year_url":"39&40&41&42&43&44","find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar list = parseDomForArray(html,'.stui-vodlist&&li');\nfor (var j in list) {\n  d.push({\n     title: parseDomForHtml(list[j], 'a&&title'),\n     desc:parseDomForHtml(list[j], '.pic-text&&Text'),\n     pic_url: parseDom(list[j], 'a&&data-original')+'@Referer=',\n     url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\n  });\n}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\nvar json = {};\neval('json=' + getResCode());\nvar res = {};\nvar d = [];\n\nfor (var i = 0; i < json.list.length; i++) {\n    var r = {};\n    var j = json.list[i];\n    r.title = j.name;\n    r.img = j.pic.indexOf('http') != -1 ? j.pic : 'https://www.hfys8.vip/' + j.pic;\n    r.url = 'https://www.hfys8.vip/vod/detail/id/' + j.id + '/' + \"#immersiveTheme#\";\n    r.content = j.name + '\\n' + j.en;\n    if (r.title !== null && r.title !== undefined && r.title !== '') d.push(r);\n}\nres.data = d;\nsetSearchResult(res);","search_url":"https://www.hfys8.vip/index.php/ajax/suggest?mid=1&wd=**&limit=500;get;utf-8;{User-Agent@Mobile}","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar lazy = `@lazyRule=.embed-responsive&&script&&Html.js:eval(input.replace(/player_.*?={/,'player_aaaa={'));var jsurl=player_aaaa.url;var from=player_aaaa.from;if(jsurl.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu|pptv|le/)){eval(\"var config =\" + fetch(\"hiker://files/cache/MyParseSet.json\"));eval(fetch(config.cj));aytmParse(jsurl)}else{jsurl}`;\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, '.nav-tabs&&li');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\nvar 分类 = parseDomForHtml(html, '.data&&Text');\n\nvar 主演 = parseDomForHtml(html, '.data,2&&Text');\n\nvar 导演 = parseDomForHtml(html, '.data,3&&Text');\n\nvar 更新 = parseDomForHtml(html, '.data,1&&Text');\n\nvar 图片 = parseDom(html, '.lazyload&&data-original');\n\nvar 简介 = parseDomForHtml(html, '.desc&&Text').replace('简介：','').replace('详情','');\n\nvar 图片链接 = MY_URL;\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 分类 + '\\n' + 主演 ,\n    desc: 导演 + '\\n' + 更新,\n    pic_url: 图片,\n    //url: 图片链接,\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",\n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href')+lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') +lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://www.hfys8.vip/template/unioreo/statics/img/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"零玖影视","author":"","version":1,"url":"https://09tv.top/index.php/vod/show/fyarea/by/fysort/id/fyclass/page/fypage/year/fyyear/","col_type":"movie_3","class_name":"电影&连续剧&综艺&动漫","class_url":"1&2&3&4","area_name":"全部&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&/area/大陆&/area/香港&/area/台湾&/area/美国&/area/法国&/area/英国&/area/日本&/area/韩国&/area/德国&/area/泰国&/area/印度&/area/意大利&/area/西班牙&/area/加拿大&/area/其他","sort_name":"时间&人气&评分","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010","find_rule":"js:\r\nvar d = [];\nvar list = parseDomForArray(getResCode(), 'body&&li:has(.mo-situ-lazy)');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], '.mo-situ-name&&Text'),\r\n       desc: parseDomForHtml(list[j], '.mo-situ-rema&&Text'),\r\n       img: parseDom(list[j], 'a&&data-original')+\"#immersiveTheme#\",\r\n       url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\r\n  });\r\n}\r\nsetResult(d);","searchFind":"js:\r\nvar d = [];\nvar list = parseDomForArray(getResCode(), 'body&&.mo-deta-info.mo-cols-rows');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'h1&&Text'),\r\n       desc: parseDomForHtml(list[j], 'span,2&&Text'),\r\n       img: parseDom(list[j], 'a&&data-original'),\r\n       url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\r\n  });\r\n}\r\nsetResult(d);","search_url":"https://09tv.top/index.php/vod/search/page/fypage/wd/**/","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\nvar lazy=`@lazyRule=.js:var js = request(input);var jsurl = base64Decode(parseDomForHtml(js, '.mo-play-load&&data-play').slice(3));if(jsurl.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu|pptv|le/)){eval(\"var config =\" + fetch(\"hiker://files/cache/MyParseSet.json\"));eval(fetch(config.cj));aytmParse(jsurl)}else{jsurl+\"#isVideo=true#\"}`\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, 'body&&.mo-movs-btns');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.mo-movs-item');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\nvar 主演 = parseDomForHtml(html, '.mo-cols-lays&&li&&Text');\n\nvar 导演 = parseDomForHtml(html, '.mo-cols-lays&&li,1&&Text');\n\nvar 地区 = parseDomForHtml(html, '.mo-cols-lays&&li,3&&Text');\n\nvar 年份 = parseDomForHtml(html, '.mo-cols-lays&&li,4&&Text');\n\nvar 图片 = parseDom(html, '.mo-situ-pics&&data-original');\n\nvar 简介 = parseDomForHtml(html, '.mo-lhxl-24px&&Text').replace('短评: ','');\n\n\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 主演 + '\\n' + 导演 ,\n    desc: 地区 + '\\n' + 年份,\n    pic_url: 图片,\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",\n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href')+lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') +lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://i.loli.net/2021/10/24/vcREwIiSCHF8dGm.jpg"},{"last_chapter_rule":"","pageList":[],"title":"达达兔","author":"","version":1,"url":"https://www.osx3.com/s/fyclass-fyarea-fyyear/by/fysort/page/fypage.html","col_type":"movie_3","class_name":"电影&连续剧&综艺&动漫&||&动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&惊悚片&奇幻片&文艺片&悬疑片&纪录片&犯罪片&动画片&其他片&||&国产剧&港台剧&日韩剧&欧美剧&泰国剧","class_url":"movie&tv&zongyi&dongman&||&dongzuopian&xijupian&aiqingpian&kehuanpian&kongbupian&juqingpian&zhanzhengpian&jilupian&weidianying&fuli&xuanyipian&jilupian&fanzuipian&donghuapian&qitapian&||&guochanju&gangtaiju&rihanju&oumeiju&lunlipian","area_name":"全部&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","sort_name":"时间&人气&评分","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010","find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar list = parseDomForArray(html,'.fed-list-info&&li');\nfor (var j in list) {\n  d.push({\n     title: parseDomForHtml(list[j], 'a,1&&Text'),\n     desc:parseDomForHtml(list[j], '.fed-list-remarks&&Text'),\n     pic_url: parseDom(list[j], 'a&&data-original')+'@Referer=',\n     url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\n  });\n}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\nvar json = {};\neval('json=' + getResCode());\nvar res = {};\nvar d = [];\n\nfor (var i = 0; i < json.list.length; i++) {\n    var r = {};\n    var j = json.list[i];\n    r.title = j.name;\n    r.img = j.pic.indexOf('http') != -1 ? j.pic : 'https://www.osx3.com' + j.pic;\n    r.url = 'https://www.osx3.com/v/' + j.id + '/' + \"#immersiveTheme#\";\n    r.content = j.name + '\\n' + j.en;\n    if (r.title !== null && r.title !== undefined && r.title !== '') d.push(r);\n}\nres.data = d;\nsetSearchResult(res);","search_url":"https://www.osx3.com/index.php/ajax/suggest?mid=1&wd=**&limit=500;get;utf-8;{User-Agent@Mobile}","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\nvar lazy = `@lazyRule=.js:var js = request(input);var url = base64Decode(parseDomForHtml(js, '.fed-play-iframe&&data-play').slice(3));if(url.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu|pptv|le/)){var input=url;eval(fetch('hiker://files/cache/Parse_Dn.js'));aytmParse(input)}else if(url.match(/renrenmi/)){xx=request('https://jiexi.moeamv.com/analysis.php?v='+url).match(/urls = \"(.*?)\"/)[1];writeFile('hiker://files/cache/video.m3u8',fetch(xx, {}));'file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/cache/video.m3u8#'+xx}else{url}`\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, '.fed-tabs-item&&ul&&li:not(:contains(永久网址发布页：www.osx2.com(收藏不迷路)))');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.fed-play-item');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&.fed-btns-info'))\n}\n\nvar 主演 = parseDomForHtml(html, '.fed-deta-content&&li&&Text');\n\nvar 导演 = parseDomForHtml(html, '.fed-deta-content&&li,1&&Text');\n\nvar 分类 = parseDomForHtml(html, '.fed-deta-content&&li,2&&Text');\n\nvar 更新 = parseDomForHtml(html, '.fed-deta-content&&li,5&&Text');\n\nvar 图片 = parseDom(html, '.fed-lazy&&data-original');\n\nvar 简介 = parseDomForHtml(html, '.fed-part-esan&&Text').replace('简介：','');\n\nvar 图片链接 = MY_URL;\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 主演 + '\\n' + 导演 ,\n    desc: 分类 + '\\n' + 更新,\n    pic_url: 图片,\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",\n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href')+lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href')+lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://www.osx3.com/upload/site/20210114-1/82f9ef7bd34028a1a5e8b9c9bdf07a58.png"},{"last_chapter_rule":"","pageList":[],"title":"电影港","author":"sm`回忆","version":0,"url":"https://www.dy6g.com/dygtop/fyclass/fyarea/by/fysort/page/fypage/year/fyyear.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫&记录片&||&动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&||&国产剧&香港剧&台湾剧&日本剧&韩国剧&欧美剧&海外剧","class_url":"dygdy&dygdsj&/dygzy&dygdm&dygjlp&||&dygdzp&dygxjp&dygaqp&dygkhp&dygkbp&dygjqp&dygzzp&||&dyggcj&dygxgj&dygtwj&dygrbj&dyghgj&dygomj&dyghwj","area_name":"全部&大陆&香港&台湾&新加坡&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&俄罗斯&澳大利亚","area_url":"&/area/大陆&/area/香港&/area/台湾&/area/新加坡&/area/美国&/area/法国&/area/英国&/area/日本&/area/韩国&/area/德国&/area/泰国&/area/印度&/area/意大利&/area/西班牙&/area/加拿大&/area/俄罗斯&/area/澳大利亚","sort_name":"时间&人气&评分","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000","find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar list = parseDomForArray(html,'.stui-vodlist&&li');\nfor (var j in list) {\n  d.push({\n     title: parseDomForHtml(list[j], 'a&&title'),\n     desc:parseDomForHtml(list[j], 'span,1&&Text'),\n     pic_url: parseDom(list[j], 'a&&data-original')+'@Referer=',\n     url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\n  });\n}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar list = parseDomForArray(html,'.stui-vodlist__media&&li');\nfor (var j in list) {\n  d.push({\n     title: parseDomForHtml(list[j], 'a&&title'),\n     desc:parseDomForHtml(list[j], 'span,1&&Text'),\n     pic_url: parseDom(list[j], 'a&&data-original'),\n     url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\n  });\n}\nres.data = d;\nsetHomeResult(res);","search_url":"https://www.dy6g.com/dygso**/page/fypage.html","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar lazy = `@lazyRule=.embed-responsive&&script&&Html.js:eval(input.replace(/player_.*?={/,'player_aaaa={'));var url=decodeURIComponent(base64Decode(player_aaaa.url));var from=player_aaaa.from;if(url.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu|le/)){var input=url;eval(fetch('hiker://files/cache/Parse_Dn.js'));aytmParse(input)}else if(from=='renrenmi'){xx=request('https://api.anje.cn/analysis.php?v='+url).match(/urls = \"(.*?)\"/)[1];writeFile('hiker://files/cache/video.m3u8',fetch(xx, {}));'file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/cache/video.m3u8#'+xx}else if(from=='leduo'){request('https://api.leduotv.com/wp-api/glid.php?vid='+url+'&isDp=1').match(/url='(.*?)'/)[1]+\"#isVideo=true#\"}else{url+'#isVideo=true#'}`;\n\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, '.nav-tabs&&li');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text').replace('蓝光①线','腾讯').replace('蓝光极速','人人迷').replace('蓝光②线','爱奇艺').replace('蓝光③线','优酷').replace('蓝光④线','芒果').replace('蓝光⑤线','搜狐').replace('蓝光⑥线','哔哩哔哩').replace('备用①线','dbm3u8').replace('备用②线','tkm3u8').replace('备用③线','leduo'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\nvar 分类 = parseDomForHtml(html, '.data&&Text').replace('类型：','').replace('地区：','').replace('年份：','').replace('语言：','');\n\nvar 更新 = parseDomForHtml(html, '.data,1&&Text');\n\nvar 主演 = parseDomForHtml(html, '.data,2&&Text');\n\nvar 导演 = parseDomForHtml(html, '.data,3&&Text');\n\nvar 图片 = parseDom(html, '.lazyload&&data-original');\n\nvar 简介 = parseDomForHtml(html, '.detail-sketch&&Text');\n\n\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 分类 + '\\n' + 更新,\n    desc: 主演 + '\\n' + 导演,\n    pic_url: 图片,\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",\n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href')+lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') +lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://www.dy6g.com/statics/img/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"尘落电影网","author":"浮生短&逐风者","version":2021092805,"url":"http://v.90s.wang/whole/fyclass_fyarea__fyyear___0_fysort_fypage.html;get;UTF-8;{User-Agent@Mozilla/5.0 (Linux；； Android 10)&&Cookie@.js:getVar('cookie')}","col_type":"movie_3","class_name":"电视剧&电影&动漫&综艺&国产剧&港台剧&日韩剧&欧美剧&其他剧&动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&纪录片&微电影&动漫片&音乐片&犯罪片&悬疑片&冒险片&奇幻片&惊悚片&青春片&灾难片&古装片","class_url":"2~1&1&4&3&13&14&15&16&20&6&7&8&9&10&11&12&21&22&23&26&33&34&35&36&37&38&41&42","area_name":"地区&内地&韩国&香港&台湾&日本&美国&泰国&英国&新加坡&其他","area_url":"&内地&韩国&香港&台湾&日本&美国&泰国&英国&新加坡&其他","sort_name":"最新&最热&评分","year_name":"时间&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011","sort_url":"time&hit&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011","find_rule":"js:\r\nvar res = {};\r\nvar items = [];\r\nvar html = getResCode();\nvar list = parseDomForArray(html,'body&&.pic');\n\r\n    for (var i in list) {\r\n        var title = parseDomForHtml(list[i], 'img&&alt');\n        var img = parseDom(list[i], 'img&&src');\r\n        var url = parseDom(list[i], 'a&&href');\n        var desc = parseDomForHtml(list[i], '.sBottom||.pic-tag&&Text');\r\n        items.push({\r\n            title: title,\n            pic_url: img,\r\n            url: url,\n            desc: desc\r\n        });\r\n    }\n\r\nres.data = items;\r\nsetHomeResult(res);","searchFind":"js:var res = {};var d = [];\n\nvar list = parseDomForArray(getResCode(), 'body&&.picTxt&&li');\n\nfor(var i in list){\ntry{\nd.push({\ntitle:parseDomForHtml(list[i],'.sTit&&Text'),\ndesc:parseDomForHtml(list[i],'.sDes&&Text'),\ncontent:parseDomForHtml(list[i],'.txt&&Text'),\npic_url:parseDom(list[i],'img&&src'),\nurl:parseDom(list[i],'a&&href')\n});\n  }catch(e){}\n}\n//道佬•模板\nres.data = d;\nsetSearchResult(res);","search_url":"http://v.90s.wang/?c=search&wd=**&sort=addtime&order=desc&page=fypage;get;UTF-8;{User-Agent@Mozilla/5.0 (Linux；； Android 10)&&Cookie@.js:getVar('cookie')}","titleColor":"#ff871f78","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n//嗅探\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/http.*url=/,'').replace(/https.*url=/,'')\n        }\n    }\n});\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, 'body&&#sec_subTab&&p');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'body&&Text'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&#sec_subTab&&ul');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\nvar 导演 = parseDomForHtml(html, '.sSource&&Text').replace(/\\//g,' ');\n\nvar 主演 = parseDomForHtml(html, '.sDes&&Text').replace(/\\//g,' ');\n\nvar 更新 = parseDomForHtml(html, '.sDes,1&&Text');\n\nvar 状态 = parseDomForHtml(html, '');\n\nvar 图片 = parseDom(html, 'img&&src');\n\nvar 简介 = parseDomForHtml(html, '.pIntroTxt&&Text').replace(/详细 >/,'');\n\n\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 导演 + '\\n' + 主演,\n    desc: 更新 + '\\n' + 状态,\n    pic_url: 图片,\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",   \n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\n\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h1&&Text');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dp',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=A•APP',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://gitee.com/Joker_tx/hiker/raw/master/img/青豆.png\",\n    col_type: 'icon_small_4'\n})\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"//感谢：①大总管提供一级规则。②墙佬指导。","pages":"[]","icon":"http://v.90s.wang/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"喜欢看","author":"逐风者","version":2021101802,"url":"https://www.xhkan.com/vodshow/id/fyAll/page/fypage.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&犯罪","area_url":"6&7&8&9&10&11&12&21","sort_name":"","year_name":"国产剧&港台剧&日韩剧&海外剧","sort_url":"","year_url":"13&14&15&16","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), 'body&&.stui-vodlist__box');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], '')+' '+parseDomForHtml(list[j], '.pic-text&&Text'),//双重描述\r\n       pic_url: parseDom(list[j], 'a&&data-original'),//图片\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\n//以下是 列表解析规则（JS）\n\nvar res = {};\nvar d = [];\ntry {\n    var list = parseDomForArray(getResCode(), 'body&&.stui-vodlist__media&&li');//       【列表】\n    for (var i in list) {\n        d.push({\n            title: parseDomForHtml(list[i], 'a&&title'),//【标题】\n            pic_url: parseDom(list[i], 'a&&data-original'),//【图片】\n            desc: parseDomForHtml(list[i], '.pic-text&&Text'),//【描述】\n            url: parseDom(list[i], 'a&&href').replace(/\\/d\\//g,'/p/').replace('.html','-1-1.html'),//【链接】\n        })\n    }\n} catch(e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"https://www.xhkan.com/vodsearch/page/fypage/wd/**.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n//嗅探\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/http.*url=/,'').replace(/https.*url=/,'')\n        }\n    }\n});\n\n\n//①类型地区等②主演③导演④简介\nd.push({\n\ttitle: parseDomForHtml(html, 'body&&p,0&&Text').replace(/\\//g,'')+ '\\n' + parseDomForHtml(html,'body&&p,1&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15)+'\\n'+parseDomForHtml(html, 'body&&p,2&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15),\tdesc: parseDomForHtml(html,'body&&p,3&&Text').replace('[收起部分]','').replace('　',''),\n//图片\n\tpic_url: parseDom(html, 'img&&data-original'),\n\turl: parseDom(html, 'img&&data-original'),\n\ncol_type: 'movie_1_vertical_pic_blur'\n});\n\n\n\n//线路列表名称\nvar arts = parseDomForArray(html,'body&&.stui-pannel__head:has(.more)');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'h3&&Text'))\n}\n\n//选集列表\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\n\n\n//线路切换\nfunction setTabs(tabs, vari) {\n     d.push({\n         title: '‘‘线路:’’',\n            col_type: 'scroll_button',}) \n  for (var i = 0; i < tabs.length; i++) {\n    d.push({\n        title: getVar(vari, '0') == i ? '““' + tabs[i] + '↓' + '””' : tabs[i],\n        url: `hiker://empty@lazyRule=.js:putVar('` + vari + \"', '\" + i + `');refreshPage();'toast://切换线路';'#noHistory#hiker://empty'`,\n\t\t      col_type: 'scroll_button',\n        })\n    }\n    \n\n//正反序         \n    d.push({        col_type: 'line_blank'    })}\n\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';}\n    function setLists(lists, index) {\n        d.push({\n           // title: '‘‘选集’’',\n            title: '‘‘选集’’' +''+ sx,\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n\nif(lists.length != '')  {\n        var list = lists[index];\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        }\n        \n        }\n      d.push({title:'<br>',col_type:'rich_text' });      \n    }\n\n// 调用函数\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://www.xhkan.com/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"LIBVIO","author":"逐风者","version":2021092906,"url":"https://www.libvio.com/type/fyAll-fypage.html","col_type":"movie_3","class_name":"电影&电视剧&动漫&日韩剧&欧美剧","class_url":"1&2&4&15&16","area_name":"","area_url":"","sort_name":"","year_name":"搜索有验证就不搞了","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), 'body&&.stui-vodlist__box');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], '')+' '+parseDomForHtml(list[j], '.pic-text&&Text'),//双重描述\r\n       pic_url: parseDom(list[j], 'a&&data-original'),//图片\r\n       url: parseDom(list[j],'a&&href')//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","search_url":"https://www.libvio.com/search/**----------fypage---.html","titleColor":"#ff228be6","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n//嗅探\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/https.*url=/,'')\n        }\n    }\n});\n\n\n//①类型地区等②主演③导演④简介\nd.push({\n\ttitle: parseDomForHtml(html, 'body&&p,0&&Text').replace(/\\//g,'')+ '\\n' + parseDomForHtml(html,'body&&p,1&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15)+'\\n'+parseDomForHtml(html, 'body&&p,2&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15),\tdesc: parseDomForHtml(html,'body&&p,5&&Text').replace('[收起部分]','').replace('　',''),\n//图片\n\tpic_url: parseDom(html, 'img&&data-original'),\n\turl: parseDom(html, 'img&&data-original'),\n\ncol_type: 'movie_1_vertical_pic_blur'\n});\n\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h1&&Text');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dz',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=①高清',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2019/09/16/7/110_9bcb18fc9a2cec98bd037bf37bb06164_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\n\n\n//线路列表名称\nvar arts = parseDomForArray(html,'body&&.stui-pannel__head');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'h3&&Text'))\n}\n\n//选集列表\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\n\n\n//线路切换\nfunction setTabs(tabs, vari) {\n     d.push({\n         title: '‘‘线路:’’',\n            col_type: 'scroll_button',}) \n  for (var i = 0; i < tabs.length; i++) {\n    d.push({\n        title: getVar(vari, '0') == i ? '““' + tabs[i] + '↓' + '””' : tabs[i],\n        url: `hiker://empty@lazyRule=.js:putVar('` + vari + \"', '\" + i + `');refreshPage();'toast://切换线路';'#noHistory#hiker://empty'`,\n\t\t      col_type: 'scroll_button',\n        })\n    }\n    \n\n//正反序         \n    d.push({        col_type: 'line_blank'    })}\n\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';}\n    function setLists(lists, index) {\n        d.push({\n           // title: '‘‘选集’’',\n            title: '‘‘选集’’' +''+ sx,\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n\nif(lists.length != '')  {\n        var list = lists[index];\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        }\n        \n        }\n      d.push({title:'<br>',col_type:'rich_text' });      \n    }\n\n// 调用函数\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/97.svg"},{"last_chapter_rule":"","pageList":[],"title":"5个G影院","author":"逐风者","version":2021111802,"url":"http://www.gggggyy.com/show/fyclass--fysort------fypage---.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"按时间&按人气&按评分","year_name":"","sort_url":"time&hits&score","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), 'body&&.stui-vodlist&&li');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], '')+' '+parseDomForHtml(list[j], '.pic-text&&Text'),//双重描述\r\n       pic_url: parseDom(list[j], 'a&&data-original'),//图片\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\n//以下是 列表解析规则（JS）\nvar d = [];\n\nvar list = parseDomForArray(getResCode(), 'body&&.stui-vodlist__media&&li');//【列表】\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j], 'a&&title'),//【标题】\n       desc: parseDomForHtml(list[j], '.pic-text&&Text'),//【描述】\n       content: parseDomForHtml(list[j], 'p,2&&Text'),//【详情】\n       pic_url: parseDom(list[j], 'a&&data-original'),//【图片】\n       url: parseDom(list[j],'a&&href').replace('play','detail').replace('-1-1.html','.html')+\"#immersiveTheme#\"\n  });//【链接】\n}\nsetResult(d)","search_url":"http://www.gggggyy.com/search/**----------fypage---.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n//嗅探\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/http.*url=/,'').replace(/https.*url=/,'')\n        }\n    }\n});\n//线路名列表的定位\nvar arts = parseDomForArray(html, 'body&&.nav&&li');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\nvar 导演 = parseDomForHtml(html, 'body&&p,2&&Text').replace(/\\//g,' ');\n\nvar 主演 = parseDomForHtml(html, 'body&&p,1&&Text').replace(/\\//g,' ');\n\nvar 更新 = parseDomForHtml(html, 'body&&p,3&&Text');\n\nvar 状态 = parseDomForHtml(html, 'body&&p,0&&Text');\n\nvar 图片 = parseDom(html, '.lazyload&&data-original');\n\nvar 简介 = parseDomForHtml(html, 'body&&p,4&&Text').replace(/详细 >/,'');\n\n\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 导演 + '\\n' + 主演,\n    desc: 更新 + '\\n' + 状态,\n    pic_url: 图片,\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",   \n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\n\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h1&&Text').replace(/\\d+.\\d/,'');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dp',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=A•APP',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://gitee.com/Joker_tx/hiker/raw/master/img/青豆.png\",\n    col_type: 'icon_small_4'\n})\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/156.png"},{"last_chapter_rule":"","pageList":[],"title":"克拉TV","author":"逐风者","version":2021111802,"url":"https://m.kelatv.com/fyAll/index-fypage.html;get;UTF-8;{User-Agent@Mozilla/5.0 (Linux；； Android 11；； Mi 10 Pro) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.152 Mobile Safari/537.36}","col_type":"movie_3","class_name":"电影&电视剧&动漫","class_url":"dianying&dianshiju&dongman","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), 'body&&.video-list&&li');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], '')+' '+parseDomForHtml(list[j], '.video-duration&&Text'),//双重描述\r\n       pic_url: parseDom(list[j], 'div&&data-echo'),//图片\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\n//以下是 列表解析规则（JS）\nvar d = [];\n\nvar list = parseDomForArray(getResCode(), 'body&&.detail-wrap');//【列表】\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j], 'a&&title'),//【标题】\n       desc: parseDomForHtml(list[j], 'li&&Text'),//【描述】\n       content: parseDomForHtml(list[j], 'li,2&&Text'),//【详情】\n       pic_url: parseDom(list[j], 'div&&data-echo'),//【图片】\n       url: parseDom(list[j],'a&&href').replace('play','detail').replace('-1-1.html','.html')+\"#immersiveTheme#\"\n  });//【链接】\n}\nsetResult(d)","search_url":"https://m.kelatv.com/search/**-fypage.html;get;UTF-8;{User-Agent@Mozilla/5.0 (Linux；； Android 11；； Mi 10 Pro) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.152 Mobile Safari/537.36}","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, 'body&&.layui-tab-title');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'li&&Text'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.layui-tab-item');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\nvar 导演 = parseDomForHtml(html, '.desc&&li,0&&Text').replace(/\\//g,' ');\n\nvar 主演 = parseDomForHtml(html, '.desc&&li,1&&Text').replace(/\\//g,' ');\n\nvar 更新 = parseDomForHtml(html, '.desc&&li,2&&Text');\n\nvar 状态 = parseDomForHtml(html, '.desc&&li,3&&Text');\n\nvar 图片 = parseDom(html, 'img,1&&src');\n\nvar 简介 = parseDomForHtml(html, '.detail-intro-txt&&Text').replace(/详细 >/,'');\n\n\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 导演 + '\\n' + 主演,\n    desc: 更新 + '\\n' + 状态,\n    pic_url: 图片,\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",   \n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:$(parseDom(list[j], 'a&&href')).lazyRule(()=>{\n                    const {lazyParse} = $.require('hiker://page/globalParse?rule=道长仓库Pro');\nreturn lazyParse(input,5000);\n                       }),\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:$(parseDom(list[j], 'a&&href')).lazyRule(()=>{\n                    const {lazyParse} = $.require('hiker://page/globalParse?rule=道长仓库Pro');\nreturn lazyParse(input,5000);\n                       }),\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\n\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h1&&Text');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dp',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=A•APP',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://gitee.com/Joker_tx/hiker/raw/master/img/青豆.png\",\n    col_type: 'icon_small_4'\n})\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://m.kelatv.com/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"西门影视","author":"逐风者","version":2021110502,"url":"https://ximenys.com/index.php/vod/type/id/fyAll/page/fypage.html","col_type":"movie_3","class_name":"西门专线&电影&电视剧&综艺&动漫","class_url":"25&1&2&3&4","area_name":"国产剧&港台剧&日韩剧&欧美剧&其他剧","area_url":"13&14&15&16&23","sort_name":"悬疑片&奇幻片&惊悚片&纪录片","year_name":"动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片","sort_url":"20&21&22&24","year_url":"6&7&8&9&10&11&12","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), 'body&&.module-item-cover');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], '')+' '+parseDomForHtml(list[j], 'span&&Text'),//双重描述\r\n       pic_url: parseDom(list[j], 'img&&data-src'),//图片\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\n//以下是 列表解析规则（JS）\nvar d = [];\n\nvar list = parseDomForArray(getResCode(), 'body&&.module-search-item');//【列表】\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j], 'img&&alt'),//【标题】\n       desc: parseDomForHtml(list[j], 'a,1&&Text'),//【描述】\n       content: parseDomForHtml(list[j], '.video-info-items,2&&Text'),//【详情】\n       pic_url: parseDom(list[j], 'img&&data-src'),//【图片】\n       url: parseDom(list[j],'a,1&&href').replace('play','detail').replace('-1-1.html','.html')+\"#immersiveTheme#\"\n  });//【链接】\n}\nsetResult(d)","search_url":"https://ximenys.com/index.php/vod/search/page/fypage/wd/**.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\nvar lazy=`@lazyRule=.js:var xx=JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]);var jsurl=xx.url;var from=xx.from;if(jsurl.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu|pptv|le/)){eval(\"var config =\" + fetch(\"hiker://files/cache/MyParseSet.json\"));eval(fetch(config.cj));aytmParse(jsurl)}else if(from=='rx'){request('https://test.rongxingvr.com/test/?url='+jsurl).match(/urls = \"(.*?)\"/)[1]}else{jsurl}`;\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, 'body&&.module-tab-content:has(.tab-item)');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'span&&Text'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.module-blocklist');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\nvar 导演 = parseDomForHtml(html, '.video-info-items,0&&Text').replace(/\\//g,' ');\n\nvar 主演 = parseDomForHtml(html, '.video-info-items,1&&Text').replace(/\\//g,' ');\n\nvar 更新 = parseDomForHtml(html, '.video-info-items,2&&Text');\n\nvar 状态 = parseDomForHtml(html, '.video-info-items,3&&Text');\n\nvar 图片 = parseDom(html, '.lazyload&&data-src');\n\nvar 简介 = parseDomForHtml(html, '.video-info-items,4&&Text').replace(/[收起部分]/,'');\n\n\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 导演 + '\\n' + 主演,\n    desc: 更新 + '\\n' + 状态,\n    pic_url: 图片,\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",   \n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') +lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') +lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\n\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h1&&Text');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dp',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=A•APP',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://gitee.com/Joker_tx/hiker/raw/master/img/青豆.png\",\n    col_type: 'icon_small_4'\n})\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://ximenys.com//upload/dycms/20210804-1/0d2747872badd4b359bfbf0831782101.png"},{"last_chapter_rule":"","pageList":[],"title":"糖果影视","author":"逐风者","version":2021100204,"url":"https://www.tgys.tv/vodshow/fyAll--------fypage---.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"国产剧&港台剧&日韩剧&欧美剧","area_url":"13&14&15&16","sort_name":"惊悚片&犯罪片&冒险片&悬疑片&动画片&武侠片&奇幻片&纪录片","year_name":"动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片","sort_url":"20&21&22&23&24&25&26&27","year_url":"6&7&8&9&10&11&12","find_rule":"js:\nvar d = [];\nvar list = parseDomForArray(getResCode(), '.vodlist&&li');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),\r\n       desc: parseDomForHtml(list[j], '.pic-text&&Text'),\r\n       img: parseDom(list[j], 'a&&data-original'),\r\n       url: parseDom(list[j], 'a&&href')\r+\"#immersiveTheme#\"\n  });\r\n}\r\nsetResult(d);","searchFind":"js:\n//以下是 列表解析规则（JS）\nvar d = [];\n\nvar list = parseDomForArray(getResCode(), 'body&&.vodlist&&li');//【列表】\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j], 'a&&title'),//【标题】\n       desc: parseDomForHtml(list[j], '.pic-text&&Text'),//【描述】\n       content: parseDomForHtml(list[j], '.hidden_xs&&Text'),//【详情】\n       pic_url: parseDom(list[j], 'a&&data-original'),//【图片】\n       url: parseDom(list[j],'a,1&&href').replace('play','detail').replace('-1-1.html','.html')+\"#immersiveTheme#\"\n  });//【链接】\n}\nsetResult(d)","search_url":"https://www.tgys.tv/vodsearch/**----------fypage---.html","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n//嗅探\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/http.*url=/,'').replace(/https.*url=/,'')\n        }\n    }\n});\n//线路名列表的定位\nvar arts = parseDomForArray(html, '#bofy&&.tab-play');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'li&&Text'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.content_playlist');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\nvar 导演 = parseDomForHtml(html, '.data,3&&Text').replace(/\\//g,' ');\n\nvar 主演 = parseDomForHtml(html, '.data,2&&Text').replace(/\\//g,' ');\n\nvar 更新 = parseDomForHtml(html, '.data,1&&Text');\n\nvar 状态 = parseDomForHtml(html, '.data,0&&Text');\n\nvar 图片 = parseDom(html, '.lazyload&&data-original');\n\nvar 简介 = parseDomForHtml(html, '#cText&&Text').replace(/详细 >/,'');\n\n\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 导演 + '\\n' + 主演,\n    desc: 更新 + '\\n' + 状态,\n    pic_url: 图片,\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",   \n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\n\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h2&&Text');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dp',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=A•APP',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://gitee.com/Joker_tx/hiker/raw/master/img/青豆.png\",\n    col_type: 'icon_small_4'\n})\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/17.svg"},{"last_chapter_rule":"","pageList":[],"title":"外星人视频","author":"逐风者","version":2021111501,"url":"https://www.ettv8.com/vodshow/fyAll--------fypage---.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), 'body&&.vodlist&&li');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], '')+' '+parseDomForHtml(list[j], '.pic_text&&Text'),//双重描述\r\n       pic_url: parseDom(list[j], 'a&&data-original'),//图片\r\n       url: parseDom(list[j],'a&&href').replace('detail','play').replace('.html','-1-1.html')+\"#immersiveTheme#\"//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\n//以下是 列表解析规则（JS）\nvar d = [];\n\nvar list = parseDomForArray(getResCode(), 'body&&.vodlist&&li');//【列表】\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j], 'a&&title'),//【标题】\n       desc: parseDomForHtml(list[j], '.pic_text&&Text'),//【描述】\n       content: parseDomForHtml(list[j], 'p,2&&Text'),//【详情】\n       pic_url: parseDom(list[j], 'a&&data-original'),//【图片】\n       url: parseDom(list[j],'a&&href').replace('detail','play').replace('.html','-1-1.html')+\"#immersiveTheme#\"\n  });//【链接】\n}\nsetResult(d)","search_url":"https://www.ettv8.com/vodsearch/**----------fypage---.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n//调用断插\nvar config = fetch('hiker://files/cache/MyParseSet.json');\n\nif(config == '' || !fetch(JSON.parse(config).cj)){\n\n    var jsUrl = 'https://code.aliyun.com/AI957/Hiker/raw/master/v/CloudParse-V2_Dn.js';\n\n}else{\n\n    var jsUrl = JSON.parse(config).cj;\n\n} eval(fetch(jsUrl));\n\n//断插免嗅探\nvar lazy = `@lazyRule=.js:var jsurl = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]).url;if(jsurl.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu|pptv|letv|le/)){var input=jsurl;`+lazy+`}else{jsurl}`;\n//线路名列表的定位\nvar arts = parseDomForArray(html, 'body&&#NumTab');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.content_playlist');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\nvar 导演 = parseDomForHtml(html, '.play_content&&p&&Text').replace(/\\//g,' ');\n\nvar 主演 = parseDomForHtml(html, '.play_content&&p,1&&Text').replace(/\\//g,' ');\n\nvar 更新 = parseDomForHtml(html, '');\n\nvar 状态 = parseDomForHtml(html, '');\n\nvar 图片 = parseDom(html, '');\n\nvar 简介 = parseDomForHtml(html, '.play_content&&p,2&&Text').replace(/详细 >/,'');\n\n\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 导演 + '\\n' + 主演,\n    desc: 更新 + '\\n' + 状态,\n    pic_url: 图片,\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",   \n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') + lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') + lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\n\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h2&&Text');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dp',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=A•APP',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://gitee.com/Joker_tx/hiker/raw/master/img/青豆.png\",\n    col_type: 'icon_small_4'\n})\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"VIP电影院","author":"逐风者","version":2021111501,"url":"http://www.ceroti.cn/vodshow/fyAll--------fypage---.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"国产剧&港台剧&日韩剧&欧美剧","area_url":"13&14&15&16","sort_name":"动画片&纪录片","year_name":"动作片&喜剧片&爱情片&科幻片&恐惧片&剧情片&战争片","sort_url":"29&19","year_url":"6&7&8&9&10&11&12","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), 'body&&.stui-vodlist&&li');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], '')+' '+parseDomForHtml(list[j], '.pic-text&&Text'),//双重描述\r\n       pic_url: parseDom(list[j], 'a&&data-original'),//图片\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\n//以下是 列表解析规则（JS）\nvar d = [];\n\nvar list = parseDomForArray(getResCode(), 'body&&.stui-vodlist__media&&li');//【列表】\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j], 'a&&title'),//【标题】\n       desc: parseDomForHtml(list[j], '.pic-text&&Text'),//【描述】\n       content: parseDomForHtml(list[j], '.hidden-mi&&Text'),//【详情】\n       pic_url: parseDom(list[j], '.lazyload&&data-original'),//【图片】\n       url: parseDom(list[j],'a&&href').replace('play','detail').replace('-1-1.html','.html')+\"#immersiveTheme#\"\n  });//【链接】\n}\nsetResult(d)","search_url":"http://www.ceroti.cn/vodsearch/**----------fypage---.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n//嗅探\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/http.*url=/,'').replace(/https.*url=/,'')\n        }\n    }\n});\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, 'body&&.stui-pannel_hd:has(.pull-right)');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'h3&&Text'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\nvar 导演 = parseDomForHtml(html, '.data,2&&Text').replace(/\\//g,' ');\n\nvar 主演 = parseDomForHtml(html, '.data,1&&Text').replace(/\\//g,' ');\n\nvar 更新 = parseDomForHtml(html, '.text-red&&Text');\n\nvar 状态 = parseDomForHtml(html, '.data&&Text');\n\nvar 图片 = parseDom(html, '.lazyload&&data-original');\n\nvar 简介 = parseDomForHtml(html, 'body&&p,4&&Text').replace(/详细 >/,'');\n\n\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 导演 + '\\n' + 主演,\n    desc: 更新 + '\\n' + 状态,\n    pic_url: 图片,\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",   \n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\n\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h1&&Text').replace(/\\d+.+\\d/,'');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dp',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=A•APP',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://gitee.com/Joker_tx/hiker/raw/master/img/青豆.png\",\n    col_type: 'icon_small_4'\n})\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"http://www.ceroti.cn/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"爱西西影视","author":"逐风者","version":2021111401,"url":"https://aixixi.vip/index.php/vod/type/id/fyAll/page/fypage.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), 'body&&.mo-cols-lg2');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a,1&&Text'),//标题\r\n       desc: parseDomForHtml(list[j], '')+' '+parseDomForHtml(list[j], '.mo-situ-rema&&Text'),//双重描述\r\n       pic_url: parseDom(list[j], 'a&&data-original'),//图片\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\n//以下是 列表解析规则（JS）\nvar d = [];\n\nvar list = parseDomForArray(getResCode(), 'body&&.mo-deta-info');//【列表】\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j], 'h1&&Text'),//【标题】\n       desc: parseDomForHtml(list[j], '.mo-situ-rema&&Text'),//【描述】\n       content: parseDomForHtml(list[j], '.mo-lhxl-24px&&Text'),//【详情】\n       pic_url: parseDom(list[j], 'a&&data-original'),//【图片】\n       url: parseDom(list[j],'a&&href').replace('play','detail').replace('-1-1.html','.html')+\"#immersiveTheme#\"\n  });//【链接】\n}\nsetResult(d)","search_url":"https://aixixi.vip/index.php/vod/search/page/fypage/wd/**.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n//嗅探\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/http.*url=/,'').replace(/https.*url=/,'')\n        }\n    }\n});\n//线路名列表的定位\nvar arts = parseDomForArray(html, '.mo-cols-lg10&&a');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.mo-movs-item');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\nvar 导演 = parseDomForHtml(html, '.mo-cols-md6,2&&Text').replace(/\\//g,' ');\n\nvar 主演 = parseDomForHtml(html, '.mo-cols-md6,1&&Text').replace(/\\//g,' ');\n\nvar 更新 = parseDomForHtml(html, '.mo-cols-md3,3&&Text');\n\nvar 状态 = parseDomForHtml(html, '.mo-cols-md3,2&&Text');\n\nvar 图片 = parseDom(html, '.mo-byxs-2by3&&data-original');\n\nvar 简介 = parseDomForHtml(html, '.mo-ptxs-0px&&Text').replace(/详细 >/,'');\n\n\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 导演 + '\\n' + 主演,\n    desc: 更新 + '\\n' + 状态,\n    pic_url: 图片,\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",   \n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\n\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h1&&Text');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dp',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=A•APP',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://gitee.com/Joker_tx/hiker/raw/master/img/青豆.png\",\n    col_type: 'icon_small_4'\n})\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://aixixi.vip/favicon.ico"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"九亿看看","author":"逐风者","version":2021100604,"url":"https://www.9ekk.net/vodshow/fyclass--fyyear------fypage---fyarea.html","col_type":"movie_3","class_name":"电影&连续剧&综艺&动漫&&动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&&国产剧&港台剧&日韩剧&欧美剧&海外剧","class_url":"dianying&lianxuju&zongyi&dongman&&dongzuopian&xijupian&aiqingpian&kehuanpian&kongbupian&juqingpian&zhanzhengpian&&guochanju&gangtaiju&rihanju&oumeiju&haiwaiju","area_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010","area_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010","sort_name":"遇到部分视频不能播放就换个规则。","year_name":"按时间&按人气&按评分","sort_url":"","year_url":"time&hits&score","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), 'body&&.stui-vodlist__box');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], '')+' '+parseDomForHtml(list[j], '.pic-text&&Text'),//双重描述\r\n       pic_url: parseDom(list[j], 'a&&data-original'),//图片\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\n//以下是 列表解析规则（JS）\n\nvar res = {};\nvar d = [];\ntry {\n    var list = parseDomForArray(getResCode(), '.stui-pannel_bd&&li');//       【列表】\n    for (var i in list) {\n        d.push({\n            title: parseDomForHtml(list[i], 'a&&title'),//【标题】\n            pic_url: parseDom(list[i], 'a&&data-original'),//【图片】\n            desc: parseDomForHtml(list[i], '.pic-text&&Text'),//【描述】\n            url: parseDom(list[i], 'a&&href').replace(/\\/d\\//g,'/p/').replace('.html','-1-1.html'),//【链接】\n        })\n    }\n} catch(e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"https://www.9ekk.net/vodsearch/**----------fypage---.html","titleColor":"#ff228be6","group":"②影视","detail_col_type":"text_2","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n//嗅探\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i]\n        }\n    }\n});\n\n\n//①类型地区等②主演③导演④简介\nd.push({\n\ttitle: parseDomForHtml(html, 'body&&p,0&&Text').replace(/\\//g,'')+ '\\n' + parseDomForHtml(html,'body&&p,1&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15)+'\\n'+parseDomForHtml(html, 'body&&p,2&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15),\tdesc: parseDomForHtml(html,'.detail-content&&Text').replace(/9亿看看.*/,'').replace('　',''),\n//图片\n\tpic_url: parseDom(html, 'img&&data-original'),\n\turl: parseDom(html, 'img&&data-original'),\n\ncol_type: 'movie_1_vertical_pic_blur'\n});\n\n\n\n//线路列表名称\nvar arts = parseDomForArray(html,'body&&.nav&&li');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text'))\n}\n\n//选集列表\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\n\n\n//线路切换\nfunction setTabs(tabs, vari) {\n     d.push({\n         title: '‘‘线路:’’',\n            col_type: 'scroll_button',}) \n  for (var i = 0; i < tabs.length; i++) {\n    d.push({\n        title: getVar(vari, '0') == i ? '““' + tabs[i] + '↓' + '””' : tabs[i],\n        url: `hiker://empty@lazyRule=.js:putVar('` + vari + \"', '\" + i + `');refreshPage();'toast://切换线路';'#noHistory#hiker://empty'`,\n\t\t      col_type: 'scroll_button',\n        })\n    }\n    \n\n//正反序         \n    d.push({        col_type: 'line_blank'    })}\n\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';}\n    function setLists(lists, index) {\n        d.push({\n           // title: '‘‘选集’’',\n            title: '‘‘选集’’' +''+ sx,\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n\nif(lists.length != '')  {\n        var list = lists[index];\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        }\n        \n        }\n      d.push({title:'<br>',col_type:'rich_text' });      \n    }\n\n// 调用函数\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"text_2","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","icon":"https://www.9ekk.net/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"天空影视","author":"逐风者&子丑寅卯","version":2021101808,"url":"https://www.tkys.tv/vodtype/fyAll-fypage.html;get;UTF-8;{User-Agent@Mozilla/5.0 (Linux；； Android 11；； Mi 10 Pro) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.152 Mobile Safari/537.36}","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"感谢子丑寅卯大佬完善规则。","year_name":"特别鸣谢","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nif(MY_URL.indexOf('-1')>-1){\nd.push({\n    title:\"‘‘随机推荐’’\",\n    col_type: \"text_1\",\n});\n}\n\nvar list = parseDomForArray(getResCode(), '.m-list&&li');//列表\nvar list1 = parseDomForArray(getResCode(), '.m-list,1&&li');//列表\r\nfor (var j in list) {\nvar pic=parseDomForHtml(list[j], 'img&&src');\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], '')+' '+parseDomForHtml(list[j], '.label&&Text'),//双重描述\r\n       pic_url: pic.indexOf('upload')>-1?pic+'@Referer=doubanio.com':pic+'@Referer=',//图片\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"//链接\r\n  });\r\n}\nif(MY_URL.indexOf('-1')>-1){\nd.push({\ntitle:\"‘‘\"+parseDomForHtml(getResCode(),'.mod-head-name,2&&Text')+\"’’\",\n    col_type: \"text_1\"\n});\n}\n\r\nfor (var i in list1) {\nvar pic1=parseDomForHtml(list1[i], 'img&&src');\r\n  d.push({\r\n       title: parseDomForHtml(list1[i], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list1[i], '')+' '+parseDomForHtml(list1[i], '.label&&Text'),//双重描述\r\n       pic_url: pic1.indexOf('upload')>-1?pic1+'@Referer=doubanio.com':pic1+'@Referer=',//图片\r\n       url: parseDom(list1[i],'a&&href')+\"#immersiveTheme#\"//链接\r\n  });\r\n}\n}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\n//以下是 列表解析规则（JS）\n\nvar res = {};\nvar d = [];\ntry {\n    var list = parseDomForArray(getResCode(), 'body&&.m-list&&li');//       【列表】\n    for (var i in list) {\n        d.push({\n            title: parseDomForHtml(list[i], 'a&&title'),//【标题】\n            pic_url: parseDom(list[i], 'img&&src'),//【图片】\n            desc: parseDomForHtml(list[i], '.label&&Text')+' '+parseDomForHtml(list[i], '.des&&Text'),//【描述】\n            url: parseDom(list[i], 'a&&href').replace(/\\/d\\//g,'/p/').replace('.html','-1-1.html'),//【链接】\n        })\n    }\n} catch(e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"https://www.tkys.tv/vodsearch/page/fypage/wd/**.html;get;UTF-8;{User-Agent@Mozilla/5.0 (Linux；； Android 11；； Mi 10 Pro) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.152 Mobile Safari/537.36}","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n\n\n//①类型地区等②主演③导演④简介\nd.push({\n\ttitle: parseDomForHtml(html, 'h1&&Text').replace(/\\//g,'')+ '\\n' + parseDomForHtml(html,'.albumDetailMedia&&li,1&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15)+'\\n'+parseDomForHtml(html, '.albumDetailMedia&&li,2&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15),\tdesc: parseDomForHtml(html,'body&&p&&Text').replace('[收起部分]','').replace('　',''),\n//图片\n\tpic_url: parseDom(html, 'img&&data-original'),\n\turl: parseDom(html, 'img&&data-original'),\n\ncol_type: 'movie_1_vertical_pic_blur'\n});\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h1&&Text');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dz',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=①高清',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://gitee.com/Joker_tx/hiker/raw/master/img/青豆.png\",\n    col_type: 'icon_small_4'\n})\n\n\n\n//线路列表名称\nvar arts = parseDomForArray(html,'body&&.popWin_sce');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'em&&Text'))\n}\n\n//选集列表\nvar conts = parseDomForArray(html, 'body&&.num-tab-main');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\n\n\n//线路切换\nfunction setTabs(tabs, vari) {\n     d.push({\n         title: '‘‘线路:’’',\n            col_type: 'scroll_button',}) \n  for (var i = 0; i < tabs.length; i++) {\n    d.push({\n        title: getVar(vari, '0') == i ? '““' + tabs[i] + '↓' + '””' : tabs[i],\n        url: `hiker://empty@lazyRule=.js:putVar('` + vari + \"', '\" + i + `');refreshPage();'toast://切换线路';'#noHistory#hiker://empty'`,\n\t\t      col_type: 'scroll_button',\n        })\n    }\n    \n\n//正反序         \n    d.push({        col_type: 'line_blank'    })}\n\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';}\n    function setLists(lists, index) {\n        d.push({\n           // title: '‘‘选集’’',\n            title: '‘‘选集’’' +''+ sx,\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n\nif(lists.length != '')  {\n        var list = lists[index];\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: $(parseDom(list[j], 'a&&href')).lazyRule(()=>{\n                    const {lazyParse} = $.require('hiker://page/globalParse?rule=道长仓库Pro');\nreturn lazyParse(input,5000);\n                       }),\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: $(parseDom(list[j], 'a&&href')).lazyRule(()=>{\n                    const {lazyParse} = $.require('hiker://page/globalParse?rule=道长仓库Pro');\nreturn lazyParse(input,5000);\n                       }),\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        }\n        \n        }\n      d.push({title:'<br>',col_type:'rich_text' });      \n    }\n\n// 调用函数\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","icon":"https://www.tkys.tv/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"淘剧影院G","author":"逐风者","version":2021111103,"url":"http://m.huigutongying.cn/lists/fyclass_fypage.html?order=fysort","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"按时间&按人气","year_name":"","sort_url":"time&hit","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), 'body&&.stui-vodlist&&li');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], '')+' '+parseDomForHtml(list[j], '.pic-text&&Text'),//双重描述\r\n       pic_url: parseDom(list[j], 'a&&data-original'),//图片\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\n//以下是 列表解析规则（JS）\nvar d = [];\n\nvar list = parseDomForArray(getResCode(), 'body&&.stui-vodlist__media&&li');//【列表】\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j], 'a&&title'),//【标题】\n       desc: parseDomForHtml(list[j], '.pic-text&&Text'),//【描述】\n       content: parseDomForHtml(list[j], '.hidden-mi&&Text'),//【详情】\n       pic_url: parseDom(list[j], '.lazyload&&data-original'),//【图片】\n       url: parseDom(list[j],'a&&href').replace('play','detail').replace('-1-1.html','.html')+\"#immersiveTheme#\"\n  });//【链接】\n}\nsetResult(d)","search_url":"http://m.huigutongying.cn/search.php?searchword=**;post;utf-8","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n//嗅探\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/http.*url=/,'').replace(/https.*url=/,'')\n        }\n    }\n});\n//线路名列表的定位\nvar arts = parseDomForArray(html, 'body&&.nav&&li');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\nvar 导演 = parseDomForHtml(html, 'body&&p,2&&Text').replace(/\\//g,' ');\n\nvar 主演 = parseDomForHtml(html, 'body&&p,1&&Text').replace(/\\//g,' ');\n\nvar 更新 = parseDomForHtml(html, 'body&&p,3&&Text');\n\nvar 状态 = parseDomForHtml(html, 'body&&p,0&&Text');\n\nvar 图片 = parseDom(html, '.lazyload&&data-original');\n\nvar 简介 = parseDomForHtml(html, 'body&&p,4&&Text').replace(/详细 >/,'');\n\n\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 导演 + '\\n' + 主演,\n    desc: 更新 + '\\n' + 状态,\n    pic_url: 图片,\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",   \n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\n\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h1&&Text');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dp',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=A•APP',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://gitee.com/Joker_tx/hiker/raw/master/img/青豆.png\",\n    col_type: 'icon_small_4'\n})\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/113.svg"},{"last_chapter_rule":"","pageList":[],"title":"ONE蓝光影院","author":"逐风者","version":2021110705,"url":"http://www.onedianshi.com/vod/show/by/time/id/fyAll/page/fypage.html","col_type":"movie_3","class_name":"电影&连接剧&综艺&动漫&哔哩","class_url":"1&2&3&4&40","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), 'body&&.pack-ykpack');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], '.qr&&Text')+' '+parseDomForHtml(list[j], '.pack-prb&&Text'),//双重描述\r\n       pic_url: parseDom(list[j], '.eclazy&&data-original'),//图片\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\n//以下是 列表解析规则（JS）\nvar d = [];\n\nvar list = parseDomForArray(getResCode(), 'body&&.padd');//【列表】\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j], 'a&&title'),//【标题】\n       desc: parseDomForHtml(list[j], 'p&&Text'),//【描述】\n       content: parseDomForHtml(list[j], 'p,2&&Text'),//【详情】\n       pic_url: parseDom(list[j], '.eclazy&&data-original'),//【图片】\n       url: parseDom(list[j],'a,1&&href').replace('play','detail').replace('-1-1.html','.html')+\"#immersiveTheme#\"\n  });//【链接】\n}\nsetResult(d)","search_url":"http://www.onedianshi.com/vod/search/page/fypage/wd/**.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\nvar lazy=`@lazyRule=.js:var xx=JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]);var jsurl=xx.url;var from=xx.from;if(jsurl.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu|pptv|le/)){eval(\"var config =\" + fetch(\"hiker://files/cache/MyParseSet.json\"));eval(fetch(config.cj));aytmParse(jsurl)}else if(from=='rx'){request('https://test.rongxingvr.com/test/?url='+jsurl).match(/urls = \"(.*?)\"/)[1]}else{jsurl}`;\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, '#tag&&a');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.content_playlist');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\nvar 导演 = parseDomForHtml(html, '.item-actor,2&&Text').replace(/\\//g,' ');\n\nvar 主演 = parseDomForHtml(html, '.item-type&&Text').replace(/\\//g,' ');\n\nvar 更新 = parseDomForHtml(html, '.item-actor&&Text');\n\nvar 状态 = parseDomForHtml(html, '.item-director&&Text');\n\nvar 图片 = parseDom(html, '.img-cover&&src');\n\nvar 简介 = parseDomForHtml(html, '#cText&&Text').replace(/详细 >/,'');\n\n\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 导演 + '\\n' + 主演,\n    desc: 更新 + '\\n' + 状态,\n    pic_url: 图片,\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",   \n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') +lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') +lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\n\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h1&&Text');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dp',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=A•APP',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://gitee.com/Joker_tx/hiker/raw/master/img/青豆.png\",\n    col_type: 'icon_small_4'\n})\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","icon":"http://www.onedianshi.com/template/DYXS2/static/picture/logo.png"},{"last_chapter_rule":"","pageList":[],"title":"乐猪TV","author":"逐风者","version":2021101708,"url":"http://www.lezhutv.com/type/fyAll-fypage.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫&韩剧","class_url":"1&2&3&4&14","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), 'body&&.tbox_m&&li');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], '')+' '+parseDomForHtml(list[j], 'span&&Text'),//双重描述\r\n       pic_url: parseDom(list[j], 'a&&data-original'),//图片\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\n//以下是 列表解析规则（JS）\n\nvar res = {};\nvar d = [];\ntry {\n    var list = parseDomForArray(getResCode(), 'body&&.tbox_m&&li');//       【列表】\n    for (var i in list) {\n        d.push({\n            title: parseDomForHtml(list[i], 'a&&title'),//【标题】\n            pic_url: parseDom(list[i], 'a&&data-original'),//【图片】\n            desc: parseDomForHtml(list[i], 'span&&Text'),//【描述】\n            url: parseDom(list[i], 'a&&href').replace(/\\/d\\//g,'/p/').replace('.html','-1-1.html'),//【链接】\n        })\n    }\n} catch(e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"http://www.lezhutv.com/search-pg-fypage-wd-**.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n//嗅探\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/http.*url=/,'').replace(/https.*url=/,'')\n        }\n    }\n});\n\n\n//①类型地区等②主演③导演④简介\nd.push({\n\ttitle: parseDomForHtml(html, 'body&&p,0&&Text').replace(/\\//g,'')+ '\\n' + parseDomForHtml(html,'body&&p,1&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15)+'\\n'+parseDomForHtml(html, 'body&&p,2&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15),\tdesc: parseDomForHtml(html,'.tbox_js&&Text').replace('[收起部分]','').replace('　',''),\n//图片\n\tpic_url: parseDom(html, '.item-lazy&&data-original'),\n\turl: parseDom(html, '.item-lazy&&data-original'),\n\ncol_type: 'movie_1_vertical_pic_blur'\n});\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h4&&Text').replace(/\\d+.*播放/,'');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dp',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=A•APP',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://gitee.com/Joker_tx/hiker/raw/master/img/青豆.png\",\n    col_type: 'icon_small_4'\n})\n\n\n\n//线路列表名称\nvar arts = parseDomForArray(html,'body&&.tbox_t:has(.icon-pin)');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'h3&&Text').replace(/(支持手机)/,''))\n}\n\n//选集列表\nvar conts = parseDomForArray(html, 'body&&.list_block');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\n\n\n//线路切换\nfunction setTabs(tabs, vari) {\n     d.push({\n         title: '‘‘线路:’’',\n            col_type: 'scroll_button',}) \n  for (var i = 0; i < tabs.length; i++) {\n    d.push({\n        title: getVar(vari, '0') == i ? '““' + tabs[i] + '↓' + '””' : tabs[i],\n        url: `hiker://empty@lazyRule=.js:putVar('` + vari + \"', '\" + i + `');refreshPage();'toast://切换线路';'#noHistory#hiker://empty'`,\n\t\t      col_type: 'scroll_button',\n        })\n    }\n    \n\n//正反序         \n    d.push({        col_type: 'line_blank'    })}\n\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';}\n    function setLists(lists, index) {\n        d.push({\n           // title: '‘‘选集’’',\n            title: '‘‘选集’’' +''+ sx,\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n\nif(lists.length != '')  {\n        var list = lists[index];\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        }\n        \n        }\n      d.push({title:'<br>',col_type:'rich_text' });      \n    }\n\n// 调用函数\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/1.svg"},{"last_chapter_rule":"","pageList":[],"title":"星辰影院","author":"逐风者","version":2021092806,"url":"http://www.40yb.com/fyAll/indexfypage.html[firstPage=http://www.40yb.com/fyAll/index.html]","col_type":"movie_3","class_name":"电影&电视剧&动漫&综艺","class_url":"dianying&dianshiju&dongman&zongyi","area_name":"","area_url":"","sort_name":"用免嗅白名单播放","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.stui-vodlist&&li');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], '')+' '+parseDomForHtml(list[j], '.pic-text&&Text'),//双重描述\r\n       pic_url: parseDom(list[j], 'a&&data-original'),//图片\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\n//以下是 列表解析规则（JS）\n\nvar res = {};\nvar d = [];\ntry {\n    var list = parseDomForArray(getResCode(), '.stui-vodlist__media&&li');//       【列表】\n    for (var i in list) {\n        d.push({\n            title: parseDomForHtml(list[i], 'a&&title'),//【标题】\n            pic_url: parseDom(list[i], 'a&&data-original'),//【图片】\n            desc: parseDomForHtml(list[i], '.pic-text&&Text'),//【描述】\n            url: parseDom(list[i], 'a&&href').replace(/\\/d\\//g,'/p/').replace('.html','-1-1.html'),//【链接】\n        })\n    }\n} catch(e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"http://www.40yb.com/search.php?page=fypage&searchword=**=","titleColor":"#ff228be6","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n\n\n//①类型地区等②主演③导演④简介\nd.push({\n\ttitle: parseDomForHtml(html, 'body&&p,1&&Text').replace(/\\//g,'')+ '\\n' + parseDomForHtml(html,'body&&p,2&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15)+'\\n'+parseDomForHtml(html, 'body&&p,3&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15),\tdesc: parseDomForHtml(html,'.detail-sketch&&Text').replace('[收起部分]','').replace('　',''),\n//图片\n\tpic_url: parseDom(html, '.lazyload&&data-original'),\n\turl: parseDom(html, '.lazyload&&data-original'),\n\ncol_type: 'movie_1_vertical_pic_blur'\n});\n\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h1&&Text');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dz',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=A•APP',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2019/09/16/7/110_9bcb18fc9a2cec98bd037bf37bb06164_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\n\n\n//线路列表名称\nvar arts = parseDomForArray(html,'body&&.stui-pannel__head:has(.more)');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'h3&&Text'))\n}\n\n//选集列表\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\n\n\n//线路切换\nfunction setTabs(tabs, vari) {\n     d.push({\n         title: '‘‘线路:’’',\n            col_type: 'scroll_button',}) \n  for (var i = 0; i < tabs.length; i++) {\n    d.push({\n        title: getVar(vari, '0') == i ? '““' + tabs[i] + '↓' + '””' : tabs[i],\n        url: `hiker://empty@lazyRule=.js:putVar('` + vari + \"', '\" + i + `');refreshPage();'toast://切换线路';'#noHistory#hiker://empty'`,\n\t\t      col_type: 'scroll_button',\n        })\n    }\n    \n\n//正反序         \n    d.push({        col_type: 'line_blank'    })}\n\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';}\n    function setLists(lists, index) {\n        d.push({\n           // title: '‘‘选集’’',\n            title: '‘‘选集’’' +''+ sx,\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n\nif(lists.length != '')  {\n        var list = lists[index];\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: $(parseDom(list[j], 'a&&href')).lazyRule(()=>{\n                    const {lazyParse} = $.require('hiker://page/globalParse?rule=道长仓库Pro');\nreturn lazyParse(input,5000);\n                       }),\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: $(parseDom(list[j], 'a&&href')).lazyRule(()=>{\n                    const {lazyParse} = $.require('hiker://page/globalParse?rule=道长仓库Pro');\nreturn lazyParse(input,5000);\n                       }),\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        }\n        \n        }\n      d.push({title:'<br>',col_type:'rich_text' });      \n    }\n\n// 调用函数\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"http://www.40yb.com/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"利丽娅电影","author":"逐风者","version":2021101707,"url":"https://www.llyady.com/vodtype/fyAll-fypage.html","col_type":"movie_3","class_name":"4K&哔哩哔哩&电影&电视剧&动漫","class_url":"20&21&1&2&4","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), 'body&&.module-item');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], '')+' '+parseDomForHtml(list[j], '.module-item-text&&Text'),//双重描述\r\n       pic_url: parseDom(list[j], 'img&&data-src'),//图片\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\n//以下是 列表解析规则（JS）\nvar d = [];\n\nvar list = parseDomForArray(getResCode(), 'body&&.module-search-item');//【列表】\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j], 'a,1&&title'),//【标题】\n       desc: parseDomForHtml(list[j], 'a,1&&Text'),//【描述】\n       content: parseDomForHtml(list[j], '.video-info-items,1&&Text'),//【详情】\n       pic_url: parseDom(list[j], 'img&&data-src'),//【图片】\n       url: parseDom(list[j],'a,1&&href').replace('play','detail').replace('-1-1.html','.html')+\"#immersiveTheme#\"\n  });//【链接】\n}\nsetResult(d)","search_url":"https://www.llyady.com/vodsearch/**----------fypage---.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n//嗅探\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/http.*url=/,'').replace(/https.*url=/,'')\n        }\n    }\n});\n\n\n//①类型地区等②主演③导演④简介\nd.push({\n\ttitle: parseDomForHtml(html, '').replace(/\\//g,'')+ '\\n' + parseDomForHtml(html,'').replace(/\\//g,' ').replace('  ','').substring(0, 15)+'\\n'+parseDomForHtml(html, '').replace(/\\//g,' ').replace('  ','').substring(0, 15),\tdesc: parseDomForHtml(html,'body&&p&&Text').replace('[收起部分]','').replace('　',''),\n//图片\n\tpic_url: parseDom(html, '.lazyload&&data-src'),\n\turl: parseDom(html, '.lazyload&&data-src'),\n\ncol_type: 'movie_1_vertical_pic_blur'\n});\n\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h1&&Text');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dz',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=①高清',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://gitee.com/Joker_tx/hiker/raw/master/img/青豆.png\",\n    col_type: 'icon_small_4'\n})\n\n\n//线路列表名称\nvar arts = parseDomForArray(html,'body&&.module-tab-content&&.module-tab-item');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'span&&Text'))\n}\n\n//选集列表\nvar conts = parseDomForArray(html, 'body&&.sort-item');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\n\n\n//线路切换\nfunction setTabs(tabs, vari) {\n     d.push({\n         title: '‘‘线路:’’',\n            col_type: 'scroll_button',}) \n  for (var i = 0; i < tabs.length; i++) {\n    d.push({\n        title: getVar(vari, '0') == i ? '““' + tabs[i] + '↓' + '””' : tabs[i],\n        url: `hiker://empty@lazyRule=.js:putVar('` + vari + \"', '\" + i + `');refreshPage();'toast://切换线路';'#noHistory#hiker://empty'`,\n\t\t      col_type: 'scroll_button',\n        })\n    }\n    \n\n//正反序         \n    d.push({        col_type: 'line_blank'    })}\n\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';}\n    function setLists(lists, index) {\n        d.push({\n           // title: '‘‘选集’’',\n            title: '‘‘选集’’' +''+ sx,\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n\nif(lists.length != '')  {\n        var list = lists[index];\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        }\n        \n        }\n      d.push({title:'<br>',col_type:'rich_text' });      \n    }\n\n// 调用函数\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/122.svg"},{"last_chapter_rule":"","pageList":[],"title":"九妹影视","author":"逐风者","version":2021101907,"url":"https://www.9mdyy.com/type/fyAll-fypage.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"dianying&dianshiju&zongyi&dongman","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), 'body&&.stui-vodlist__box');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], '')+' '+parseDomForHtml(list[j], '.pic-text&&Text'),//双重描述\r\n       pic_url: parseDom(list[j], 'a&&data-original'),//图片\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"body&&.stui-vodlist__media&&li;a&&title;a&&href;pic-text&&Text;.hidden-mi&&Text;a&&data-original","search_url":"https://www.9mdyy.com/search/**----------fypage---.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n//嗅探\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/http.*url=/,'').replace(/https.*url=/,'')\n        }\n    }\n});\n\n\n//①类型地区等②主演③导演④简介\nd.push({\n\ttitle: parseDomForHtml(html, 'body&&p,2&&Text').replace(/\\//g,'')+ '\\n' + parseDomForHtml(html,'body&&p,3&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15)+'\\n'+parseDomForHtml(html, 'body&&p,5&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15),\tdesc: parseDomForHtml(html,'.detail-sketch&&Text').replace('[收起部分]','').replace(/九妹.*已达/,''),\n//图片\n\tpic_url: parseDom(html, '.lazyload&&data-original'),\n\turl: parseDom(html, '.lazyload&&data-original'),\n\ncol_type: 'movie_1_vertical_pic_blur'\n});\n\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h1&&Text');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dz',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=①高清',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2019/09/16/7/110_9bcb18fc9a2cec98bd037bf37bb06164_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\n\n//线路列表名称\nvar arts = parseDomForArray(html,'body&&.bottom-line');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'h3&&Text'))\n}\n\n//选集列表\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\n\n\n//线路切换\nfunction setTabs(tabs, vari) {\n     d.push({\n         title: '‘‘线路:’’',\n            col_type: 'scroll_button',}) \n  for (var i = 0; i < tabs.length; i++) {\n    d.push({\n        title: getVar(vari, '0') == i ? '““' + tabs[i] + '↓' + '””' : tabs[i],\n        url: `hiker://empty@lazyRule=.js:putVar('` + vari + \"', '\" + i + `');refreshPage();'toast://切换线路';'#noHistory#hiker://empty'`,\n\t\t      col_type: 'scroll_button',\n        })\n    }\n    \n\n//正反序         \n    d.push({        col_type: 'line_blank'    })}\n\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';}\n    function setLists(lists, index) {\n        d.push({\n           // title: '‘‘选集’’',\n            title: '‘‘选集’’' +''+ sx,\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n\nif(lists.length != '')  {\n        var list = lists[index];\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        }\n        \n        }\n      d.push({title:'<br>',col_type:'rich_text' });      \n    }\n\n// 调用函数\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/q/25.png"},{"last_chapter_rule":"","pageList":[],"title":"米来影视","author":"逐风者","version":2021102503,"url":"https://www.qdytv.com/vodtype/fyAll-fypage.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片","area_url":"6&7&8&9&10&11&12","sort_name":"动画片&少儿片&纪录片","year_name":"国产剧&港台剧&日韩剧&欧美剧","sort_url":"29&63&20","year_url":"13&14&15&16","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), 'body&&.myui-vodlist__box');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], '.pic-tag&&Text')+' '+parseDomForHtml(list[j], '.pic-text&&Text'),//双重描述\r\n       pic_url: parseDom(list[j], 'a&&data-original'),//图片\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\n//以下是 列表解析规则（JS）\n\nvar res = {};\nvar d = [];\ntry {\n    var list = parseDomForArray(getResCode(), 'body&&.myui-vodlist__media&&li');//       【列表】\n    for (var i in list) {\n        d.push({\n            title: parseDomForHtml(list[i], 'a&&title'),//【标题】\n            pic_url: parseDom(list[i], 'a&&data-original'),//【图片】\n            desc: parseDomForHtml(list[i], '.pic-text&&Text')+'  '+parseDomForHtml(list[i], '.pic-tag&&Text'),//【描述】\n            url: parseDom(list[i], 'a&&href').replace(/\\/d\\//g,'/p/').replace('.html','-1-1.html'),//【链接】\n        })\n    }\n} catch(e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"https://www.qdytv.com/search**/page/fypage.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n//嗅探\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/http.*url=/,'').replace(/https.*url=/,'')\n        }\n    }\n});\n\n\n//①类型地区等②主演③导演④简介\nd.push({\n\ttitle: parseDomForHtml(html, '.myui-content__detail&&p,1&&Text').replace(/\\//g,'')+ '\\n' + parseDomForHtml(html,'.myui-content__detail&&p,3&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15)+'\\n'+parseDomForHtml(html, '.myui-content__detail&&p,4&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15),\tdesc: parseDomForHtml(html,'.myui-content__detail&&p,5&&Text').replace('[收起部分]','').replace(/简介.*剧情/,'').replace(/【本视频.*网络】/,''),\n//图片\n\tpic_url: parseDom(html, '.lazyload&&data-original'),\n\turl: parseDom(html, '.lazyload&&data-original'),\n\ncol_type: 'movie_1_vertical_pic_blur'\n});\n\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h1&&Text');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dz',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=①高清',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://gitee.com/Joker_tx/hiker/raw/master/img/青豆.png\",\n    col_type: 'icon_small_4'\n})\n\n\n//线路列表名称\nvar arts = parseDomForArray(html,'body&&.nav&&li');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text'))\n}\n\n//选集列表\nvar conts = parseDomForArray(html, 'body&&.myui-content__list');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\n\n\n//线路切换\nfunction setTabs(tabs, vari) {\n     d.push({\n         title: '‘‘线路:’’',\n            col_type: 'scroll_button',}) \n  for (var i = 0; i < tabs.length; i++) {\n    d.push({\n        title: getVar(vari, '0') == i ? '““' + tabs[i] + '↓' + '””' : tabs[i],\n        url: `hiker://empty@lazyRule=.js:putVar('` + vari + \"', '\" + i + `');refreshPage();'toast://切换线路';'#noHistory#hiker://empty'`,\n\t\t      col_type: 'scroll_button',\n        })\n    }\n    \n\n//正反序         \n    d.push({        col_type: 'line_blank'    })}\n\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';}\n    function setLists(lists, index) {\n        d.push({\n           // title: '‘‘选集’’',\n            title: '‘‘选集’’' +''+ sx,\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n\nif(lists.length != '')  {\n        var list = lists[index];\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        }\n        \n        }\n      d.push({title:'<br>',col_type:'rich_text' });      \n    }\n\n// 调用函数\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/q/27.png"},{"last_chapter_rule":"","pageList":[],"title":"1080看视界","author":"逐风者","version":2021100722,"url":"http://www.1080kan.cc/vodtype/fyAll-fypage/","col_type":"movie_3","class_name":"欧美剧&日韩剧&电影&电视剧&综艺&动漫&记录片","class_url":"29&30&1&2&3&4&31","area_name":"","area_url":"","sort_name":"触发防盗的视频直接点解下方链接进原网站观看。","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), 'body&&.module-item-pic');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], '')+' '+parseDomForHtml(list[j], 'span&&Text'),//双重描述\r\n       pic_url: parseDom(list[j], 'img&&data-src'),//图片\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\n//以下是 列表解析规则（JS）\n\nvar res = {};\nvar d = [];\ntry {\n    var list = parseDomForArray(getResCode(), 'body&&.module-item-pic');//       【列表】\n    for (var i in list) {\n        d.push({\n            title: parseDomForHtml(list[i], 'a&&title'),//【标题】\n            pic_url: parseDom(list[i], '.lazyload&&data-src'),//【图片】\n            desc: parseDomForHtml(list[i], ''),//【描述】\n            url: parseDom(list[i], 'a&&href').replace(/\\/d\\//g,'/p/').replace('.html','-1-1.html'),//【链接】\n        })\n    }\n} catch(e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"http://www.1080kan.cc/vodsearch/**----------fypage---/","titleColor":"#ff228be6","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\nvar _x5 = $.toString(() => {\n    function muteMe(elem) {\n        try {\n            elem.pause();\n        } catch (e) {}\n    }\n    var videos = document.querySelectorAll(\"video\"),\n        audios = document.querySelectorAll(\"audio\"),\n        v2 = document.querySelectorAll(\"embed\"),\n        v3 = document.querySelectorAll(\"#player\");\n    try {\n        [].forEach.call(videos, function(video) {\n            muteMe(video);\n        });\n    } catch (e) {}\n    try {\n        [].forEach.call(audios, function(audio) {\n            muteMe(audio);\n        });\n    } catch (e) {}\n    try {\n        [].forEach.call(v2, function(v) {\n            muteMe(v);\n        });\n    } catch (e) {}\n    try {\n        [].forEach.call(v3, function(v) {\n            muteMe(v);\n        });\n    } catch (e) {}\n    var urls = _getUrls()\n\n    function getHost(u) {\n        return u.split(\"//\")[1].split(\"/\")[0]\n    }\n\n    function getUa() {\n        let ua = navigator.userAgent\n        return ua.replace(/;/g, \"；；\")\n    }\n    for (var i in urls) {\n        if (!urls[i].includes(\"url=\") && urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i])\n            return urls[i] + ';{Accept@*/*&&X-Requested-With@com.example.hikerview&&Sec-Fetch-Site@cross-site&&Sec-Fetch-Mode@no-cors&&Sec-Fetch-Dest@script&&Origin@http://' + getHost(location.href) + '/&&User-Agent@' + getUa() + '}'\n        }\n    }\n});\n\n\n//①类型地区等②主演③导演④简介\nd.push({\n    title: parseDomForHtml(html, 'h1&&Text').replace(/\\//g, '') + '\\n' + parseDomForHtml(html, '').replace(/\\//g, ' ').replace('  ', '').substring(0, 15) + '\\n' + parseDomForHtml(html, '').replace(/\\//g, ' ').replace('  ', '').substring(0, 15),\n    desc: parseDomForHtml(html, '.video-info-content&&Text').replace('[收起部分]', '').replace('　', ''),\n    //图片\n    pic_url: parseDom(html, '.lazyload&&data-src'),\n    url: parseDom(html, '.lazyload&&data-src'),\n\n    col_type: 'movie_1_vertical_pic_blur'\n});\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h1&&Text');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dz',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=①高清',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2019/09/16/7/110_9bcb18fc9a2cec98bd037bf37bb06164_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\n\n\n\n//线路列表名称\nvar arts = parseDomForArray(html, '.module-tab-items&&.module-tab-item');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'span&&Text'))\n}\n\n//选集列表\nvar conts = parseDomForArray(html, 'body&&.sort-item');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\n\nd.push({\n    col_type: \"big_blank_block\"\n});\nd.push({\n    col_type: \"big_blank_block\"\n});\n\n\n//线路切换\nfunction setTabs(tabs, vari) {\n    d.push({\n        title: '‘‘线路:’’',\n        col_type: 'scroll_button',\n    })\n    for (var i = 0; i < tabs.length; i++) {\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '↓' + '””' : tabs[i],\n            url: `hiker://empty@lazyRule=.js:putVar('` + vari + \"', '\" + i + `');refreshPage();'toast://切换线路';'#noHistory#hiker://empty'`,\n            col_type: 'scroll_button',\n        })\n    }\n\n\n    //正反序         \n    d.push({\n        col_type: 'line_blank'\n    })\n}\n\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';\n}\n\nfunction setLists(lists, index) {\n    d.push({\n        // title: '‘‘选集’’',\n        title: '‘‘选集’’' + '' + sx,\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n\n    if (lists.length != '') {\n        var list = lists[index];\n        if (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g, ''),\n                    url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                    col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g, ''),\n                    url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                    col_type: list.length > 4 ? 'text_4' : 'text_2',\n                    extra: {\n                        blockRules: [\n                            \".jpg\",\n                            \".jpeg\",\n                            \".png\",\n                            \".mp4\",\n                            \".m3u8\"\n                        ]\n                    }\n                });\n            }\n        }\n\n    }\n    d.push({\n        title: '<br>',\n        col_type: 'rich_text'\n    });\n}\n\n// 调用函数\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/33.svg"},{"last_chapter_rule":"","pageList":[],"title":"芒果电影","author":"逐风者","version":2021102204,"url":"https://www.mguomovie.com/v/type/fyAll-fypage.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"dianying&dianshiju&zongyi&dongman","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), 'body&&.module-item');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], '.module-item-text&&Text')+' '+parseDomForHtml(list[j], 'span&&Text'),//双重描述\r\n       pic_url: parseDom(list[j], 'img&&data-src'),//图片\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\n//以下是 列表解析规则（JS）\n\nvar res = {};\nvar d = [];\ntry {\n    var list = parseDomForArray(getResCode(), 'body&&.module-search-item');//       【列表】\n    for (var i in list) {\n        d.push({\n            title: parseDomForHtml(list[i], 'a,1&&title'),//【标题】\n            pic_url: parseDom(list[i], 'img&&data-src'),//【图片】\n            desc: parseDomForHtml(list[i], '.video-serial&&Text'),//【描述】\n            url: parseDom(list[i], 'a,1&&href').replace(/\\/d\\//g,'/p/').replace('.html','-1-1.html'),//【链接】\n        })\n    }\n} catch(e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"https://www.mguomovie.com/search/**----------fypage---.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n//嗅探\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/http.*url=/,'').replace(/https.*url=/,'')\n        }\n    }\n});\n\n//①类型地区等②主演③导演④简介\nd.push({\n\ttitle: parseDomForHtml(html, '').replace(/\\//g,'')+ '\\n' + parseDomForHtml(html,'').replace(/\\//g,' ').replace('  ','').substring(0, 15)+'\\n'+parseDomForHtml(html, '').replace(/\\//g,' ').replace('  ','').substring(0, 15),\tdesc: parseDomForHtml(html,'.vod_content&&Text').replace('[收起部分]','').replace('　',''),\n//图片\n\tpic_url: parseDom(html, '.lazyload&&data-src'),\n\turl: parseDom(html, '.lazyload&&data-src'),\n\ncol_type: 'movie_1_vertical_pic_blur'\n});\n\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h1&&Text');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dz',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=①高清',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2019/09/16/7/110_9bcb18fc9a2cec98bd037bf37bb06164_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\n\n\n\n//线路列表名称\nvar arts = parseDomForArray(html,'body&&.module-tab-item');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'span&&Text'))\n}\n\n//选集列表\nvar conts = parseDomForArray(html, 'body&&.module-blocklist');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\n\n\n//线路切换\nfunction setTabs(tabs, vari) {\n     d.push({\n         title: '‘‘线路:’’',\n            col_type: 'scroll_button',}) \n  for (var i = 0; i < tabs.length; i++) {\n    d.push({\n        title: getVar(vari, '0') == i ? '““' + tabs[i] + '↓' + '””' : tabs[i],\n        url: `hiker://empty@lazyRule=.js:putVar('` + vari + \"', '\" + i + `');refreshPage();'toast://切换线路';'#noHistory#hiker://empty'`,\n\t\t      col_type: 'scroll_button',\n        })\n    }\n    \n\n//正反序         \n    d.push({        col_type: 'line_blank'    })}\n\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';}\n    function setLists(lists, index) {\n        d.push({\n           // title: '‘‘选集’’',\n            title: '‘‘选集’’' +''+ sx,\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n\nif(lists.length != '')  {\n        var list = lists[index];\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        }\n        \n        }\n      d.push({title:'<br>',col_type:'rich_text' });      \n    }\n\n// 调用函数\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/32.svg"},{"last_chapter_rule":"","pageList":[],"title":"YYCMS","author":"入戏太深&浮生短&逐风者","version":2021101502,"url":"https://www.xiaohaitv.com/fyAll_rankhot_____fypage_fypage.html","col_type":"movie_3","class_name":"电影&剧集&动漫&综艺","class_url":"movie&tv&dongman&zongyi","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".fed-list-info&&li;.fed-list-title&&Text;a&&data-original;.fed-list-remarks&&Text;a&&href","searchFind":"body&&.fed-deta-info;h1&&Text;a&&href;.fed-text-center&&Text;.fed-deta-content--h1&&Text;a&&data-original","search_url":"https://www.xiaohaitv.com/searchqw-**.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n\n//通用免嗅\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/http.*url=/,'').replace(/https.*url=/,'')\n        }\n    }\n});\n\nvar arts = parseDomForArray(html, 'body&&.fed-play-btns');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text'))\n}\n\nvar conts = parseDomForArray(html, 'body&&.fed-drop-btns');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'body&&Text'))\n}\n\nif(MY_URL.indexOf('/m/')!=-1){\n\nvar conts = parseDomForArray(html, 'body&&.fed-drop-btns');\n\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&li'))\n}\nvar title = parseDomForHtml(html, 'body&&Text');\n}else{\nvar conts = parseDomForArray(html, 'body&&.fed-play-item');\n\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\nvar title = parseDomForHtml(html, 'body&&Text');\n}\n\nd.push({\n title: parseDomForHtml(getResCode(), ' h1&&Text').replace('地区：','  ').replace('年份：','  ')+ '\\n'+parseDomForHtml(getResCode(), '.fed-deta-content&&li,1&&Text').substring(0, 18)+'\\n'+parseDomForHtml(getResCode(), '.fed-deta-content&&li,2&&Text'),\n    desc:parseDomForHtml(getResCode(), '.fed-deta-content&&li&&Text'),\n pic_url: parseDom(html, 'body&&.lazyload&&data-original'),\n url: MY_URL,\n col_type: 'movie_1_vertical_pic'\n});\n\nvar des_desc = parseDomForHtml(html, 'body&&.fed-part-esan&&Text');\n d.push({\n          title: des_desc.length > 50 ? des_desc.replace(des_desc, des_desc.substring(0, 50) +'...‘‘’’<font color=\"#0aa344\">详情</font></small>') : des_desc,\n          url: 'hiker://empty#' + parseDomForHtml(html,'body&&.fed-deta-content&&Html').split('/h1>')[1].replace(/;/g,'').replace(/<li/g,'<br><ul') + `@rule=js:var res = {}; var d = [];d.push({title: MY_URL.split('hiker://empty#')[1],col_type: 'rich_text'});res.data = d; setHomeResult(res);`,     \n          col_type: 'text_1'\n});\n\nd.push({\n    col_type: 'line_blank'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nvar title = parseDomForHtml(html, 'h1&&Text');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\n\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';\n}\n\nfunction setLists(lists, index) {\n    d.push({\n        // title: '‘‘选集’’',\n        title:  '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/32.svg"},{"last_chapter_rule":"","pageList":[],"title":"优酷影院","author":"戏太深&逐风者","version":2021101604,"url":"http://www.youku65.com/vodshow/fyAll--------fypage---.html","col_type":"movie_3","class_name":"电影&连续剧&综艺&动漫","class_url":"dianying&lianxuju&zongyi&dongman","area_name":"动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&记录片&音乐片","area_url":"dongzuopian&xijupian&aiqingpian&kehuanpian&kongbupian&juqingpian&zhanzhengpian&jilupian&yinyuepian","sort_name":"","year_name":"国产剧&港台剧&日韩剧&欧美剧&泰国剧&海外剧","sort_url":"","year_url":"guochanju&gangtaiju&rihanju&oumeiju&taiguoju&haiwaiju","find_rule":".fed-list-info&&li;.fed-list-title&&Text;a&&data-original;.fed-text-center&&Text;a&&href","searchFind":"body&&.fed-deta-info;h1&&Text;a&&href;.fed-text-center&&Text;.fed-col-md10--h1&&Text;a&&data-original","search_url":"http://www.youku65.com/vodsearch/**----------fypage---.html","titleColor":"#ff871f78","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n//嗅探\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/http.*url=/,'').replace(/https.*url=/,'')\n        }\n    }\n});\n\n\n//①类型地区等②主演③导演④简介\nd.push({\n\ttitle: parseDomForHtml(html, '.fed-deta-content&&li,0&&Text').replace(/\\//g,'')+ '\\n' + parseDomForHtml(html,'.fed-deta-content&&li,1&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15)+'\\n'+parseDomForHtml(html, '.fed-deta-content&&li,2&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15),\tdesc: parseDomForHtml(html,'body&&p,1&&Text').replace('[收起部分]','').replace('　',''),\n//图片\n\tpic_url: parseDom(html, '.fed-lazy&&data-original'),\n\turl: parseDom(html, '.fed-lazy&&data-original'),\n\ncol_type: 'movie_1_vertical_pic_blur'\n});\n\n\n\nvar arts = parseDomForArray(html, 'body&&.fed-drop-btns');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text'))\n}\n\nvar conts = parseDomForArray(html, 'body&&.fed-drop-btns');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'body&&Text'))\n}\n\nif(MY_URL.indexOf('/m/')!=-1){\n\nvar conts = parseDomForArray(html, 'body&&.fed-drop-btns');\n\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&li'))\n}\nvar title = parseDomForHtml(html, 'body&&Text');\n}else{\nvar conts = parseDomForArray(html, 'body&&.fed-play-item');\n\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\nvar title = parseDomForHtml(html, 'body&&Text');\n}\n\n\n\n//线路切换\nfunction setTabs(tabs, vari) {\n     d.push({\n         title: '‘‘线路:’’',\n            col_type: 'scroll_button',}) \n  for (var i = 0; i < tabs.length; i++) {\n    d.push({\n        title: getVar(vari, '0') == i ? '““' + tabs[i] + '↓' + '””' : tabs[i],\n        url: `hiker://empty@lazyRule=.js:putVar('` + vari + \"', '\" + i + `');refreshPage();'toast://切换线路';'#noHistory#hiker://empty'`,\n\t\t      col_type: 'scroll_button',\n        })\n    }\n    \n\n//正反序         \n    d.push({        col_type: 'line_blank'    })}\n\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';}\n    function setLists(lists, index) {\n        d.push({\n           // title: '‘‘选集’’',\n            title: '‘‘选集’’' +''+ sx,\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n\nif(lists.length != '')  {\n        var list = lists[index];\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        }\n        \n        }\n      d.push({title:'<br>',col_type:'rich_text' });      \n    }\n\n// 调用函数\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/26.svg"},{"last_chapter_rule":"","pageList":[],"title":"星影相随","author":"逐风者","version":2021102403,"url":"https://www.rootthree.top/show/fyarea/by/fysort/id/fyclass/page/fypage/year/fyyear.html","col_type":"movie_3","class_name":"电影&连续剧&综艺&动漫","class_url":"1&2&3&4","area_name":"全部&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&/area/大陆&/area/香港&/area/台湾&/area/美国&/area/法国&/area/英国&/area/日本&/area/韩国&/area/德国&/area/泰国&/area/印度&/area/意大利&/area/西班牙&/area/加拿大&/area/其他","sort_name":"时间&人气&评分","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), 'body&&.module-item-cover');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], 'span,2&&Text')+' '+parseDomForHtml(list[j], 'span&&Text'),//双重描述\r\n       pic_url: parseDom(list[j], 'img&&data-src'),//图片\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\n//以下是 列表解析规则（JS）\n\nvar res = {};\nvar d = [];\ntry {\n    var list = parseDomForArray(getResCode(), 'body&&.module-search-item');//       【列表】\n    for (var i in list) {\n        d.push({\n            title: parseDomForHtml(list[i], 'h3&&Text'),//【标题】\n            pic_url: parseDom(list[i], 'img&&data-src'),//【图片】\n            desc: parseDomForHtml(list[i], 'a,1&&Text'),//【描述】\n            url: parseDom(list[i], 'a,1&&href').replace(/\\/d\\//g,'/p/').replace('.html','-1-1.html'),//【链接】\n        })\n    }\n} catch(e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"https://www.rootthree.top/search/page/fypage/wd/**.html","titleColor":"#ff871f78","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n//嗅探\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/http.*url=/,'').replace(/https.*url=/,'')\n        }\n    }\n});\n\n//①类型地区等②主演③导演④简介\nd.push({\n\ttitle: parseDomForHtml(html, '').replace(/\\//g,'')+ '\\n' + parseDomForHtml(html,'').replace(/\\//g,' ').replace('  ','').substring(0, 15)+'\\n'+parseDomForHtml(html, '').replace(/\\//g,' ').replace('  ','').substring(0, 15),\tdesc: parseDomForHtml(html,'.vod_content&&Text').replace('[收起部分]','').replace('　',''),\n//图片\n\tpic_url: parseDom(html, '.lazyload&&data-src'),\n\turl: parseDom(html, '.lazyload&&data-src'),\n\ncol_type: 'movie_1_vertical_pic_blur'\n});\n\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h1&&Text');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dz',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=①高清',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://gitee.com/Joker_tx/hiker/raw/master/img/青豆.png\",\n    col_type: 'icon_small_4'\n})\n\n\n\n//线路列表名称\nvar arts = parseDomForArray(html,'body&&.module-tab-item');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'span&&Text'))\n}\n\n//选集列表\nvar conts = parseDomForArray(html, 'body&&.scroll-box-y');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\n\n\n//线路切换\nfunction setTabs(tabs, vari) {\n     d.push({\n         title: '‘‘线路:’’',\n            col_type: 'scroll_button',}) \n  for (var i = 0; i < tabs.length; i++) {\n    d.push({\n        title: getVar(vari, '0') == i ? '““' + tabs[i] + '↓' + '””' : tabs[i],\n        url: `hiker://empty@lazyRule=.js:putVar('` + vari + \"', '\" + i + `');refreshPage();'toast://切换线路';'#noHistory#hiker://empty'`,\n\t\t      col_type: 'scroll_button',\n        })\n    }\n    \n\n//正反序         \n    d.push({        col_type: 'line_blank'    })}\n\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';}\n    function setLists(lists, index) {\n        d.push({\n           // title: '‘‘选集’’',\n            title: '‘‘选集’’' +''+ sx,\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n\nif(lists.length != '')  {\n        var list = lists[index];\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        }\n        \n        }\n      d.push({title:'<br>',col_type:'rich_text' });      \n    }\n\n// 调用函数\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/24.svg"},{"last_chapter_rule":"","pageList":[],"title":"久久影视","author":"逐风者","version":2020102203,"url":"http://www.9fm.cc/8fm-vodshow/fyAll--------fypage---.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"dianying&lianxuju&zongyi&dongman","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), 'body&&.stui-vodlist__box');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], '')+' '+parseDomForHtml(list[j], '.pic-text&&Text'),//双重描述\r\n       pic_url: parseDom(list[j], 'a&&data-original'),//图片\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"body&&.stui-vodlist__media&&li;a&&title;a&&href;.pic-text&&Text;;a&&data-original","search_url":"http://www.9fm.cc/8fm-vodsearch/**----------fypage---.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n//嗅探\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/http.*url=/,'').replace(/https.*url=/,'')\n        }\n    }\n});\n\n\n//①类型地区等②主演③导演④简介\nd.push({\n\ttitle: parseDomForHtml(html, 'body&&p,0&&Text').replace(/\\//g,'')+ '\\n' + parseDomForHtml(html,'body&&p,1&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15)+'\\n'+parseDomForHtml(html, 'body&&p,2&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15),\tdesc: parseDomForHtml(html,'body&&p,4&&Text').replace('[收起部分]','').replace('　',''),\n//图片\n\tpic_url: parseDom(html, 'img&&data-original'),\n\turl: parseDom(html, 'img&&data-original'),\n\ncol_type: 'movie_1_vertical_pic_blur'\n});\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h4&&Text');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dz',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=①高清',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2019/09/16/7/110_9bcb18fc9a2cec98bd037bf37bb06164_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\n\n\n\n//线路列表名称\nvar arts = parseDomForArray(html,'body&&.nav&&li');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text'))\n}\n\n//选集列表\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\n\n\n//线路切换\nfunction setTabs(tabs, vari) {\n     d.push({\n         title: '‘‘线路:’’',\n            col_type: 'scroll_button',}) \n  for (var i = 0; i < tabs.length; i++) {\n    d.push({\n        title: getVar(vari, '0') == i ? '““' + tabs[i] + '↓' + '””' : tabs[i],\n        url: `hiker://empty@lazyRule=.js:putVar('` + vari + \"', '\" + i + `');refreshPage();'toast://切换线路';'#noHistory#hiker://empty'`,\n\t\t      col_type: 'scroll_button',\n        })\n    }\n    \n\n//正反序         \n    d.push({        col_type: 'line_blank'    })}\n\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';}\n    function setLists(lists, index) {\n        d.push({\n           // title: '‘‘选集’’',\n            title: '‘‘选集’’' +''+ sx,\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n\nif(lists.length != '')  {\n        var list = lists[index];\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        }\n        \n        }\n      d.push({title:'<br>',col_type:'rich_text' });      \n    }\n\n// 调用函数\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/19.svg"},{"last_chapter_rule":"","pageList":[],"title":"小易影视","author":"逐风者","version":2021102205,"url":"https://xy.irop.cn/index.php/vod/show/fyarea/by/fysort/id/fyclass/page/fypage/year/fyyear.html","col_type":"movie_3","class_name":"电影&连续剧&综艺&动漫","class_url":"1&2&3&4","area_name":"全部&大陆&美国&香港&韩国&英国&台湾&日本&法国&意大利&德国&西班牙&泰国&其它","area_url":"&/area/大陆&/area/美国&/area/香港&/area/韩国&/area/英国&/area/台湾&/area/日本&/area/法国&/area/意大利&/area/德国&/area/西班牙&/area/泰国&/area/其它","sort_name":"时间&人气&评分","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","find_rule":"js:\r\nvar d = [];\nvar list = parseDomForArray(getResCode(), 'body&&.module-item');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], '.lazyloaded&&alt'),\r\n       desc: parseDomForHtml(list[j], '.module-item-text&&Text'),\r\n       img: parseDom(list[j], '.lazyloaded&&data-src')+'@Referer=',\r\n       url: parseDom(list[j], 'a&&href').replace('play','detail').replace('/sid/1/nid/1.html','.html')+\"#immersiveTheme#\"\n  });\r\n}\r\nsetResult(d);","searchFind":"js:\nvar d = [];\nvar html = getResCode();\n\nvar list = parseDomForArray(html,'body&&.module-list&&.module-search-item');\n\n    for (var i = 0; i < list.length; i++) {\n        var L = list[i];\n        d.push({\n            title: parseDomForHtml(L, 'img&&alt'),\n            url: parseDom(L, 'a,1&&href').replace('play','detail').replace('/sid/1/nid/1.html','.html')+\"#immersiveTheme#\",\n            desc:  parseDomForHtml(L, '.video-info&&a&&Text'),\n            content: parseDomForHtml(L, '.video-info-main&&.video-info-item,2&&Text'),\n            img: parseDom(L, 'img&&data-src'),\n        });\r\n    }\nsetResult(d)","search_url":"https://xy.irop.cn/index.php/vod/search/page/fypage/wd/**.html","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n//嗅探\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/http.*url=/,'').replace(/https.*url=/,'')\n        }\n    }\n});\n\n\n//①类型地区等②主演③导演④简介\nd.push({\n\ttitle: '片名：'+parseDomForHtml(html, 'h1&&Text').replace(/\\//g,'')+ '\\n' + parseDomForHtml(html,'').replace(/\\//g,' ').replace('  ','').substring(0, 15)+'\\n'+'主演：'+parseDomForHtml(html, '.video-info-item,1&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15),\tdesc:'简介：'+ parseDomForHtml(html,'body&&p&&Text').replace('[收起部分]','').replace('　',''),\n//图片\n\tpic_url: parseDom(html, '.lazyload&&data-src'),\n\turl: parseDom(html, '.lazyload&&data-src'),\n\ncol_type: 'movie_1_vertical_pic_blur'\n});\n\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h1&&Text');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dz',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=①高清',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2019/09/16/7/110_9bcb18fc9a2cec98bd037bf37bb06164_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\n\n\n//线路列表名称\nvar arts = parseDomForArray(html,'body&&.module-tab-item');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'span&&Text'))\n}\n\n//选集列表\nvar conts = parseDomForArray(html, 'body&&.scroll-box-y');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\n\n\n//线路切换\nfunction setTabs(tabs, vari) {\n     d.push({\n         title: '‘‘线路:’’',\n            col_type: 'scroll_button',}) \n  for (var i = 0; i < tabs.length; i++) {\n    d.push({\n        title: getVar(vari, '0') == i ? '““' + tabs[i] + '↓' + '””' : tabs[i],\n        url: `hiker://empty@lazyRule=.js:putVar('` + vari + \"', '\" + i + `');refreshPage();'toast://切换线路';'#noHistory#hiker://empty'`,\n\t\t      col_type: 'scroll_button',\n        })\n    }\n    \n\n//正反序         \n    d.push({        col_type: 'line_blank'    })}\n\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';}\n    function setLists(lists, index) {\n        d.push({\n           // title: '‘‘选集’’',\n            title: '‘‘选集’’' +''+ sx,\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n\nif(lists.length != '')  {\n        var list = lists[index];\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        }\n        \n        }\n      d.push({title:'<br>',col_type:'rich_text' });      \n    }\n\n// 调用函数\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/18.svg"},{"last_chapter_rule":"","pageList":[],"title":"白夜影视","author":"逐风者","version":2021100504,"url":"https://www.baiyeys.com/vodtype/fyAll-fypage.html","col_type":"movie_3","class_name":"电影&剧集&综艺&动漫","class_url":"20&21&22&23","area_name":"动作片&喜剧片&爱情片&科幻片&剧情片","area_url":"24&25&26&27&28","sort_name":"搜索用不了。","year_name":"国产剧&港台剧&日韩剧&欧美剧&海外剧&纪录片","sort_url":"","year_url":"36&37&38&39&40&44","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), 'body&&.myui-vodlist__box');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], '')+' '+parseDomForHtml(list[j], '.pic-tag&&Text'),//双重描述\r\n       pic_url: parseDom(list[j], 'a&&data-original'),//图片\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:var d=[];\n\nvar list=JSON.parse(getResCode()).data;\n\nfor(var i in list){\nd.push({\ntitle:list[i].name,\ndesc:list[i].vod_continu,\npic_url:'https://www.baiyeys.com'+list[i].pic+\"@Referer=\",\nurl:'https://www.baiyeys.com'+list[i].url+'#immersiveTheme#',\ncol_type:'movie_3'\n});\n}\n\nsetResult(d);","search_url":"https://www.baiyeys.com/index.php/ajax/suggest?mid=fypage&wd=**&limit=10&timestamp=1633392175735","titleColor":"#ff13b66a","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n//嗅探\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/https.*url=/,'')\n        }\n    }\n});\n\n\n//①类型地区等②主演③导演④简介\nd.push({\n\ttitle: parseDomForHtml(html, '.myui-content__detail&&p,1&&Text').replace(/\\//g,'')+ '\\n' + parseDomForHtml(html,'.myui-content__detail&&p,3&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15)+'\\n'+parseDomForHtml(html, '.myui-content__detail&&p,4&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15),\tdesc: parseDomForHtml(html,'.myui-content__detail&&p,5&&Text').replace('[收起部分]','').replace('　',''),\n//图片\n\tpic_url: parseDom(html, '.lazyload&&data-original'),\n\turl: parseDom(html, '.lazyload&&data-original'),\n\ncol_type: 'movie_1_vertical_pic_blur'\n});\n\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h1&&Text');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dz',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=①高清',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2019/09/16/7/110_9bcb18fc9a2cec98bd037bf37bb06164_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\n\n\n//线路列表名称\nvar arts = parseDomForArray(html,'body&&.nav&&li');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text').replace(/白夜/,'').replace(/（推荐）/,''))\n}\n\n//选集列表\nvar conts = parseDomForArray(html, 'body&&.myui-content__list');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\n\n\n//线路切换\nfunction setTabs(tabs, vari) {\n     d.push({\n         title: '‘‘线路:’’',\n            col_type: 'scroll_button',}) \n  for (var i = 0; i < tabs.length; i++) {\n    d.push({\n        title: getVar(vari, '0') == i ? '““' + tabs[i] + '↓' + '””' : tabs[i],\n        url: `hiker://empty@lazyRule=.js:putVar('` + vari + \"', '\" + i + `');refreshPage();'toast://切换线路';'#noHistory#hiker://empty'`,\n\t\t      col_type: 'scroll_button',\n        })\n    }\n    \n\n//正反序         \n    d.push({        col_type: 'line_blank'    })}\n\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';}\n    function setLists(lists, index) {\n        d.push({\n           // title: '‘‘选集’’',\n            title: '‘‘选集’’' +''+ sx,\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n\nif(lists.length != '')  {\n        var list = lists[index];\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        }\n        \n        }\n      d.push({title:'<br>',col_type:'rich_text' });      \n    }\n\n// 调用函数\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/15.svg"},{"last_chapter_rule":"","pageList":[],"title":"嘟嘟电影网","author":"逐风者","version":2021101605,"url":"https://www.dudu2020.com/?m=vod-type-id-fyAll-pg-fypage.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片","area_url":"5&6&7&8&9&10","sort_name":"国产剧&港台剧&日韩剧&欧美剧&海外剧","year_name":"战争片&动画片&纪录片&悬疑片&惊悚片","sort_url":"12&13&14&15&17","year_url":"11&16&18&19&20","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), 'body&&.index-area&&li');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], '.other&&Text')+' '+parseDomForHtml(list[j], ''),//双重描述\r\n       pic_url: parseDom(list[j], 'img&&data-original'),//图片\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\n//以下是 列表解析规则（JS）\n\nvar res = {};\nvar d = [];\ntry {\n    var list = parseDomForArray(getResCode(), 'body&&.index-area&&li');//       【列表】\n    for (var i in list) {\n        d.push({\n            title: parseDomForHtml(list[i], 'a&&title'),//【标题】\n            pic_url: parseDom(list[i], '.lazy&&data-original'),//【图片】\n            desc: parseDomForHtml(list[i], '.other&&Text'),//【描述】\n            url: parseDom(list[i], 'a&&href').replace(/\\/d\\//g,'/p/').replace('.html','-1-1.html'),//【链接】\n        })\n    }\n} catch(e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"https://www.dudu2020.com/index.php?m=vod-search-pg-fypage-wd-**.html","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n//嗅探\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/http.*url=/,'').replace(/https.*url=/,'')\n        }\n    }\n});\n\n\n//①类型地区等②主演③导演④简介\nd.push({\n\ttitle: parseDomForHtml(html, '.ct-c&&span,6&&Text').replace(/\\//g,'')+ '\\n' + parseDomForHtml(html,'.ct-c&&span,7&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15)+'\\n'+parseDomForHtml(html, '.ct-c&&span,8&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15),\tdesc: parseDomForHtml(html,'.ee&&Text').replace('[收起部分]','').replace('　',''),\n//图片\n\tpic_url: parseDom(html, '.lazy&&data-original'),\n\turl: parseDom(html, '.lazy&&data-original'),\n\ncol_type: 'movie_1_vertical_pic_blur'\n});\n\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h1&&Text').replace(/首页.*片  »  /,'');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dz',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=①高清',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2019/09/16/7/110_9bcb18fc9a2cec98bd037bf37bb06164_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\n\n\n//线路列表名称\nvar arts = parseDomForArray(html,'body&&.playfrom&&li');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'li&&Text'))\n}\n\n//选集列表\nvar conts = parseDomForArray(html, 'body&&.videourl');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\n\n\n//线路切换\nfunction setTabs(tabs, vari) {\n     d.push({\n         title: '‘‘线路:’’',\n            col_type: 'scroll_button',}) \n  for (var i = 0; i < tabs.length; i++) {\n    d.push({\n        title: getVar(vari, '0') == i ? '““' + tabs[i] + '↓' + '””' : tabs[i],\n        url: `hiker://empty@lazyRule=.js:putVar('` + vari + \"', '\" + i + `');refreshPage();'toast://切换线路';'#noHistory#hiker://empty'`,\n\t\t      col_type: 'scroll_button',\n        })\n    }\n    \n\n//正反序         \n    d.push({        col_type: 'line_blank'    })}\n\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';}\n    function setLists(lists, index) {\n        d.push({\n           // title: '‘‘选集’’',\n            title: '‘‘选集’’' +''+ sx,\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n\nif(lists.length != '')  {\n        var list = lists[index];\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        }\n        \n        }\n      d.push({title:'<br>',col_type:'rich_text' });      \n    }\n\n// 调用函数\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/14.svg"},{"last_chapter_rule":"","pageList":[],"title":"天天看","author":"逐风者","version":2021101104,"url":"https://www.ttky8.com/vod/show/by/fyarea/id/fyclass/page/fypage.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"按更新&按人气&按豆瓣","area_url":"time&hits&douban_score","sort_name":"","year_name":"显示不全的地方将就用吧","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), 'body&&.v-pic');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], '')+' '+parseDomForHtml(list[j], '.v-tips&&Text'),//双重描述\r\n       pic_url: parseDom(list[j], 'img&&data-src'),//图片\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"body&&.item;a&&title;a&&href;.v-tips,1&&Text+.v-tips&&Text;.p_intro&&Text;img&&data-src","search_url":"https://www.ttky8.com/vod/search/page/fypage/wd/**.html","titleColor":"#ff228be6","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode().replace(/<!-- /g,'').replace(/-->/g,'');\n\n//嗅探\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i]\n        }\n    }\n});\n\n\n//①类型地区等②主演③导演④简介\nd.push({\n\ttitle: parseDomForHtml(html, '').replace(/\\//g,'')+ '\\n' + parseDomForHtml(html,'').replace(/\\//g,' ').replace('  ','').substring(0, 15)+'\\n'+parseDomForHtml(html, '').replace(/\\//g,' ').replace('  ','').substring(0, 15),\tdesc: parseDomForHtml(html,'').replace('[收起部分]','').replace('　',''),\n//图片\n\tpic_url: parseDom(html, '.col-r&&img&&src'),\n\turl: parseDom(html, '.col-r&&img&&src'),\n\ncol_type: 'movie_1_vertical_pic_blur'\n});\n\n\n\n//线路列表名称\nvar arts = parseDomForArray(html,'body&&.fjcon');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text'))\n}\n\n//选集列表\nvar conts = parseDomForArray(html, 'body&&.play-list');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\n\n\n//线路切换\nfunction setTabs(tabs, vari) {\n     d.push({\n         title: '‘‘线路:’’',\n            col_type: 'scroll_button',}) \n  for (var i = 0; i < tabs.length; i++) {\n    d.push({\n        title: getVar(vari, '0') == i ? '““' + tabs[i] + '↓' + '””' : tabs[i],\n        url: `hiker://empty@lazyRule=.js:putVar('` + vari + \"', '\" + i + `');refreshPage();'toast://切换线路';'#noHistory#hiker://empty'`,\n\t\t      col_type: 'scroll_button',\n        })\n    }\n    \n\n//正反序         \n    d.push({        col_type: 'line_blank'    })}\n\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';}\n    function setLists(lists, index) {\n        d.push({\n           // title: '‘‘选集’’',\n            title: '‘‘选集’’' +''+ sx,\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n\nif(lists.length != '')  {\n        var list = lists[index];\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        }\n        \n        }\n      d.push({title:'<br>',col_type:'rich_text' });      \n    }\n\n// 调用函数\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/13.svg"},{"last_chapter_rule":"","pageList":[],"title":"4K电影网","author":"逐风者","version":2021091904,"url":"http://www.4k6.net/vodshow/fyclass-fyarea-fysort------fypage---fyyear.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫&||&动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&||&国产剧&港台剧&日韩剧&欧美剧","class_url":"dianying&dianshiju&zongyi&dongman&||&dongzuopian&xijupian&aiqingpian&kehuanpian&kongbupian&juqingpian&zhanzhengpian&||&guochanju&gangtaiju&rihanju&oumeiju","area_name":"全部&中国&内地&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&中国&内地&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","sort_name":"时间&人气&评分","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000","find_rule":"js:\r\nvar d = [];\nvar list = parseDomForArray(getResCode(), 'body&&.module-item');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], '.lazyloaded&&alt'),\r\n       desc: parseDomForHtml(list[j], '.module-item-text&&Text'),\r\n       img: parseDom(list[j], '.lazyloaded&&data-src')+'@Referer=',\r\n       url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\r\n  });\r\n}\r\nsetResult(d);","searchFind":"js:\nvar d = [];\nvar html = getResCode();\n\nvar list = parseDomForArray(html,'body&&.module-list&&.module-search-item');\n\n    for (var i = 0; i < list.length; i++) {\n        var L = list[i];\n        d.push({\n            title: parseDomForHtml(L, 'img&&alt'),\n            url: parseDom(L, 'a,1&&href')+\"#immersiveTheme#\",\n            desc:  parseDomForHtml(L, '.video-info&&a&&Text'),\n            content: parseDomForHtml(L, '.video-info-main&&.video-info-item,2&&Text'),\n            img: parseDom(L, 'img&&data-src'),\n        });\r\n    }\nsetResult(d)","search_url":"http://www.4k6.net/vodsearch/**----------fypage---.html","titleColor":"#ff228be6","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html=getResCode();\n//调用断插\nvar config = fetch('hiker://files/cache/MyParseSet.json');\n\nif(config == '' || !fetch(JSON.parse(config).cj)){\n\n    var jsUrl = 'https://code.aliyun.com/AI957/Hiker/raw/master/v/CloudParse-V2_Dn.js';\n\n}else{\n\n    var jsUrl = JSON.parse(config).cj;\n\n} eval(fetch(jsUrl));\n\n//断插免嗅探\nvar lazy = `@lazyRule=.js:var jsurl = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]).url;if(jsurl.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu|pptv|letv|le/)){var input=jsurl;`+lazy+`}else{jsurl}`;\n\n//视频标题的定位\ntry{\nvar des_title = parseDomForHtml(html, 'h1&&Text');\n\n}catch(e){\nvar des_title ='没有正确获取到影片名称哟！';\n}\n\n//剧情简介的定位\ntry{\nvar des_desc = parseDomForHtml(html,'.zkjj_a&&Text').replace(/最新.*完整版，/,'');\n\n}catch(e){\nvar des_desc ='没有正确获取到剧情简介哟！';\n}\n\n//视频封面的定位\ntry{\nvar des_pic =parseDom(html,'.lazyload&&data-src');\n\n}catch(e){\nvar des_desc ='没有正确获取到简介图片路径哟！\\n'+des_desc;\n}\n\n//线路名列表的定位\nvar arts = parseDomForArray(html,'body&&.module-tab-item');\n\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.scroll-box-y');\n   \nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))      //' 列表名改'ul&&li'\n}\n\nvar tabs = [];\nfor (var i in conts) {\n    tabs.push(parseDomForHtml(arts[i], 'span&&Text'))//有可能改Text\n\n}\n\n\n//下面除了获取选集名称例如1,2,3集，有的需要改下\n//有其他不需要修改\n\nd.push({\ntitle:des_title,\ndesc:des_desc,\npic_url:des_pic,\nurl:getUrl(),\ncol_type:'movie_1_vertical_pic_blur'\n});\n\nd.push({\n    col_type: 'line_blank'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n    url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n    col_type: 'scroll_button'\n})\n\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    d.push({\n        col_type: 'line_blank'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    if (getVar('shsort') == '1') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_2' : 'text_5'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_2' : 'text_5'\n            });\n        }\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/11.svg"},{"last_chapter_rule":"","pageList":[],"title":"快看APP","author":"逐风者","version":2021100103,"url":"https://www.suanzao.tv/vod/type/id/fyAll/page/fypage.html","col_type":"movie_3","class_name":"电影&连续剧&综艺&动漫","class_url":"1&2&3&4","area_name":"动作片&纪录片&喜剧片&爱情片&科幻片","area_url":"6&20&7&8&9","sort_name":"偶有不能播放请更换小程序。","year_name":"恐怖片&剧情片&战争片&动画电影&电影解说","sort_url":"","year_url":"10&11&12&32&33","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.video-film-list&&li');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], '.red&&Text')+''+parseDomForHtml(list[j], '.video-duration&&Text'),//描述\r\n       pic_url: parseDom(list[j], 'div&&data-echo'),//图片\r\n       url: parseDom(list[j],'a&&href')//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"body&&.detail-search;a&&title;a&&href;li,0&&Text;li,2&&Text;div&&data-echo","search_url":"https://www.suanzao.tv/vod/search/page/fypage/wd/**.html","titleColor":"#ff228be6","group":"②影视","detail_col_type":"movie_3","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n//嗅探\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/https.*url=/,'')\n        }\n    }\n});\n\n\n//①类型地区等②主演③导演④简介\nd.push({\n\ttitle: parseDomForHtml(html, 'body&&li,0&&Text').replace(/\\//g,'')+ '\\n' + parseDomForHtml(html,'body&&li,1&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15)+'\\n'+parseDomForHtml(html, 'body&&li,2&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15),\tdesc: parseDomForHtml(html,'.detail-intro-txt&&Text').replace('[收起部分]','').replace('　',''),\n//图片\n\tpic_url: parseDom(html, 'img&&src'),\n\turl: parseDom(html, 'img&&src'),\n\ncol_type: 'movie_1_vertical_pic_blur'\n});\n\n\n\n//线路列表名称\nvar arts = parseDomForArray(html,'body&&.swiper-wrapper&&li');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'li&&Text'))\n}\n\n//选集列表\nvar conts = parseDomForArray(html, 'body&&.filmSelectWrap');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\n\n\n//线路切换\nfunction setTabs(tabs, vari) {\n     d.push({\n         title: '‘‘线路:’’',\n            col_type: 'scroll_button',}) \n  for (var i = 0; i < tabs.length; i++) {\n    d.push({\n        title: getVar(vari, '0') == i ? '““' + tabs[i] + '↓' + '””' : tabs[i],\n        url: `hiker://empty@lazyRule=.js:putVar('` + vari + \"', '\" + i + `');refreshPage();'toast://切换线路';'#noHistory#hiker://empty'`,\n\t\t      col_type: 'scroll_button',\n        })\n    }\n    \n\n//正反序         \n    d.push({        col_type: 'line_blank'    })}\n\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';}\n    function setLists(lists, index) {\n        d.push({\n           // title: '‘‘选集’’',\n            title: '‘‘选集’’' +''+ sx,\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n\nif(lists.length != '')  {\n        var list = lists[index];\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        }\n        \n        }\n      d.push({title:'<br>',col_type:'rich_text' });      \n    }\n\n// 调用函数\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\n\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/9.svg"},{"last_chapter_rule":"","pageList":[],"title":"cho酷吧电影院","author":"逐风者","version":2021092705,"url":"https://www.chok8.com/vodshow/fyAll--------fypage---.html","col_type":"movie_3","class_name":"电影&连续剧&综艺&动漫&直播","class_url":"dianying&lianxuju&zongyi&dongman&zhibo","area_name":"动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&纪录片&犯罪片","area_url":"dongzuopian&xijupian&aiqingpian&kehuanpian&kongbupian&juqingpian&zhanzhengpian&jilupian&fanzuipian","sort_name":"遇到部分视频不能播放就换个规则。","year_name":"国产剧&港台剧&日韩剧&欧美剧","sort_url":"","year_url":"guochanju&gangtaiju&rihanju&oumeiju","find_rule":"body&&.col-md-7;.text-overflow&&Text;.lazyload&&data-original;.text-right&&Text;a&&href","searchFind":".stui-pannel_bd&&li;.title&&Text;a&&href;.lazyload&&Text;.margin-0&&Text;.lazyload&&data-original","search_url":"https://www.chok8.com/vodsearch/-------------.html?wd=**","titleColor":"#ff228be6","group":"②影视","detail_col_type":"movie_3","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n\n//①类型地区等②主演③导演④简介\nd.push({\n\ttitle: parseDomForHtml(html, 'body&&p,0&&Text').replace(/\\//g,'')+ '\\n' + parseDomForHtml(html,'body&&p,1&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15)+'\\n'+parseDomForHtml(html, 'body&&p,2&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15),\tdesc: parseDomForHtml(html,'body&&p,4&&Text').replace('[收起部分]','').replace('　',''),\n//图片\n\tpic_url: parseDom(html, 'img&&data-original'),\n\turl: parseDom(html, 'img&&data-original'),\n\ncol_type: 'movie_1_vertical_pic_blur'\n});\n\n\n\n\n//线路列表名称\nvar arts = parseDomForArray(html,'body&&.stui-pannel__head');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'h3&&Text').replace(/猜.*欢/,'❌').replace(/.*榜单/,'❌'))\n}\n\n//选集列表\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\n\n\n//线路切换\nfunction setTabs(tabs, vari) {\n     d.push({\n         title: '‘‘线路:’’',\n            col_type: 'scroll_button',}) \n  for (var i = 0; i < tabs.length; i++) {\n    d.push({\n        title: getVar(vari, '0') == i ? '““' + tabs[i] + '↓' + '””' : tabs[i],\n        url: `hiker://empty@lazyRule=.js:putVar('` + vari + \"', '\" + i + `');refreshPage();'toast://切换线路';'#noHistory#hiker://empty'`,\n\t\t      col_type: 'scroll_button',\n        })\n    }\n    \n\n//正反序         \n    d.push({        col_type: 'line_blank'    })}\n\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';}\n    function setLists(lists, index) {\n        d.push({\n           // title: '‘‘选集’’',\n            title: '‘‘选集’’' +''+ sx,\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n\nif(lists.length != '')  {\n        var list = lists[index];\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: $(parseDom(list[j], 'a&&href')).lazyRule(()=>{\n                    const {lazyParse} = $.require('hiker://page/globalParse?rule=道长仓库Pro');\nreturn lazyParse(input,5000);\n                       }),\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: $(parseDom(list[j], 'a&&href')).lazyRule(()=>{\n                    const {lazyParse} = $.require('hiker://page/globalParse?rule=道长仓库Pro');\nreturn lazyParse(input,5000);\n                       }),\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        }\n        \n        }\n      d.push({title:'<br>',col_type:'rich_text' });      \n    }\n\n// 调用函数\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/6.svg"},{"last_chapter_rule":"","pageList":[],"title":"歪片星球.","author":"逐风者","version":2021100703,"url":"http://waipian1.com/show-fyAll--------fypage---/","col_type":"movie_3","class_name":"电影&剧集&综艺&动漫&纪录片","class_url":"dianying&juji&zongyi&dongman&jilupian","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), 'body&&.stui-vodlist__box');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], '')+' '+parseDomForHtml(list[j], '.pic-text&&Text'),//双重描述\r\n       pic_url: parseDom(list[j], 'a&&data-original'),//图片\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\n//以下是 列表解析规则（JS）\n\nvar res = {};\nvar d = [];\ntry {\n    var list = parseDomForArray(getResCode(), 'body&&.top-line-dot');//       【列表】\n    for (var i in list) {\n        d.push({\n            title: parseDomForHtml(list[i], 'a&&title'),//【标题】\n            pic_url: parseDom(list[i], 'a&&data-original'),//【图片】\n            desc: parseDomForHtml(list[i], '.pic-text&&Text'),//【描述】\n            url: parseDom(list[i], 'a&&href').replace(/\\/d\\//g,'/p/').replace('.html','-1-1.html'),//【链接】\n        })\n    }\n} catch(e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"http://waipian1.com/search-**----------fypage---/","titleColor":"#ff228be6","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n//嗅探\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i]\n        }\n    }\n});\n\n\n//①类型地区等②主演③导演④简介\nd.push({\n\ttitle: parseDomForHtml(html, 'body&&p,0&&Text').replace(/\\//g,'')+ '\\n' + parseDomForHtml(html,'body&&p,1&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15)+'\\n'+parseDomForHtml(html, 'body&&p,2&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15),\tdesc: parseDomForHtml(html,'body&&.detail-sketch&&Text').replace('[收起部分]','').replace('　',''),\n//图片\n\tpic_url: parseDom(html, '.lazyload&&data-original'),\n\turl: parseDom(html, '.lazyload&&data-original'),\n\ncol_type: 'movie_1_vertical_pic_blur'\n});\n\n\n\n//线路列表名称\nvar arts = parseDomForArray(html,'body&&.nav&&li');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text'))\n}\n\n//选集列表\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\n\n\n//线路切换\nfunction setTabs(tabs, vari) {\n     d.push({\n         title: '‘‘线路:’’',\n            col_type: 'scroll_button',}) \n  for (var i = 0; i < tabs.length; i++) {\n    d.push({\n        title: getVar(vari, '0') == i ? '““' + tabs[i] + '↓' + '””' : tabs[i],\n        url: `hiker://empty@lazyRule=.js:putVar('` + vari + \"', '\" + i + `');refreshPage();'toast://切换线路';'#noHistory#hiker://empty'`,\n\t\t      col_type: 'scroll_button',\n        })\n    }\n    \n\n//正反序         \n    d.push({        col_type: 'line_blank'    })}\n\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';}\n    function setLists(lists, index) {\n        d.push({\n           // title: '‘‘选集’’',\n            title: '‘‘选集’’' +''+ sx,\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n\nif(lists.length != '')  {\n        var list = lists[index];\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        }\n        \n        }\n      d.push({title:'<br>',col_type:'rich_text' });      \n    }\n\n// 调用函数\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"http://waipian1.com//favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"天天影视","author":"香雅情","version":0,"url":"https://www.lranc.com/ystv/fyAll/page/fypage.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫&纪录片&动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&国产剧&香港剧&台湾剧&韩国剧&日本剧&海外剧","class_url":"dydq&dsjdq&zydq&dmdq&jlpdq&dzpdq&xjpdq&aqpdq&khpdq&kbpdq&jqpdq&zzpdq&gcjdq&xgjdq&twjdq&hgjdq&rbjdq&hwjdq","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar items = [];\r\nvar html = getResCode();\nvar list = parseDomForArray(html,'body&&.stui-vodlist:has(.col-md-7)&&li');\n\r\n    for (var i in list) {\r\n        var title = parseDomForHtml(list[i], 'a&&title');\n        var img = parseDom(list[i], '.lazyload&&data-original');\r\n        var url = parseDom(list[i], 'a&&href');\n        var desc = parseDomForHtml(list[i], '.pic-text||span&&Text');\r\n        items.push({\r\n            title: title,\n            pic_url: img,\r\n            url: url,\n            desc: desc\r\n        });\r\n    }\n\r\nres.data = items;\r\nsetHomeResult(res);\n","searchFind":"js:\r\nvar res = {};\r\nvar items = [];\r\nvar html = getResCode();\n\nvar list = parseDomForArray(html,'.stui-vodlist__media&&li');\n\r\n    for (var i in list) {\r\n        var title = parseDomForHtml(list[i], 'a&&title');\n        var img = parseDom(list[i], '.lazyload&&data-original');\r\n        var url = parseDom(list[i], 'a&&href');\n        var desc = parseDomForHtml(list[i], '.pic-text&&Text');\n        var con = parseDomForHtml(list[i], '.detail--h2&&Text');\r\n        items.push({\r\n            title: title,\n            img: img,\r\n            url: url,\n            desc: desc,\n            content: con\r\n        });\r\n    }\n\r\nres.data = items;\r\nsetSearchResult(res);\n","search_url":"https://www.lranc.com/sosou**/page/fypage.html","titleColor":"","group":"②影视","detail_col_type":"text_2","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar tabs = parseDomForArray(html, 'body&&.playlist');\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist');\n//setError(conts.length);\n\nvar thumb = parseDom(html, \".stui-content__thumb&&.lazyload&&data-original\");\nd.push({\n    title: '剧情简介：' + '    共' + conts.length + '条线路',\n    desc: parseDomForHtml(html, \".stui-content__detail&&p,-1&&Text\"),\n    pic_url: thumb,\n    url: thumb,\n    col_type: 'pic_1'\n});\n\nfor (var i in conts) {\n    var list = parseDomForArray(conts[i], 'body&&li');\n    if (list != null) {\n        d.push({\n            title: parseDomForHtml(tabs[i], \"h3&&Text\"),\n            col_type: 'text_1'\n        });\n        //setError(list[0]);\n\n        for (var j in list) {\n            d.push({\n                title: parseDomForHtml(list[j], \"a&&Text\"),\n                url: $(parseDom(list[j], \"a&&href\") + '#noPre#').lazyRule(() => {\n                    var html = request(input, {});\n                    var js = parseDomForHtml(html, \".embed-responsive&&script&&Html\").replace(/player_.*?={/, 'player_data={');\n                    eval(js);\n                    var fro = player_data.from;\n                    if (player_data.encrypt == '1') {\n                        var urll = unescape(player_data.url);\n                    } else if (player_data.encrypt == '2') {\n                        var urll = unescape(base64Decode(player_data.url));\n                    }\n                    var jvs = parseDom(html, \".embed-responsive&&script,1&&src\");\n                    eval(request(jvs, {}));\n                    var jiek = '';\n                    if (MacPlayerConfig.player_list[fro].ps == \"1\") {\n                        jiek = MacPlayerConfig.player_list[fro].parse == '' ? MacPlayerConfig.parse : MacPlayerConfig.player_list[fro].parse;\n                    } else {\n                        return urll\n                    };\n\n                    //log(jiek);\n                    var link = jiek + urll;\n                    requireCache('https://code.aliyun.com/lzk23559/PublicRule/raw/master/x5rule.js', 24);\n                    return x5rule(link);\n                }),\n                extra: {\n                    id: parseDom(list[j], \"a&&href\")\n                },\n                col_type: 'text_3'\n            });\n        }\n\n    }\n}\n\n//二级模板by香雅情\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"text_2","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"js:\nvar html=getResCode();\nvar list=parseDomForArray(html,'.play_list&&li&&a');\nsetResult('最新:'+list.length)","pageList":[],"title":"骚火影视N","author":"香雅情","version":2,"url":"hiker://empty#fyAll#https://saohuotv.com/list/fyAll-fypage.html","col_type":"movie_3","class_name":"首页&电影&喜剧&爱情&恐怖&动作&科幻&战争&犯罪&动画&奇幻&剧情&冒险&悬疑&惊悚&其他","class_url":"首页&1&6&7&8&9&10&11&12&13&14&15&16&17&18&19","area_name":"电视剧&大陆&TVB&韩剧&美剧&日剧&英剧&台剧&其他","area_url":"2&20&21&22&23&24&25&26&27","sort_name":"","year_name":"动漫&搞笑&恋爱&热血&格斗&美少女&魔法&机战&校园&亲子&童话&冒险&真人&LOLI&其它","sort_url":"","year_url":"4&38&39&40&41&42&43&44&45&46&47&48&49&50&51","find_rule":"js:\nvar res = {};\nvar items = [];\nvar cnam = MY_URL.split('#')[1];\n//log(getRule());\nif (cnam == '首页') {\n    var html = request('https://saohuotv.com/', {});\n} else {\n    var html = request(MY_URL.split('#')[2], {});\n}\ntry {\n    var conts = parseDomForArray(html, 'body&&.v_list');\n    for (var j = 0; j < conts.length; j++) {\n        var list = parseDomForArray(conts[j], 'body&&li:has(.v_title)');\n\n        for (var i = 0; i < list.length; i++) {\n            var title = parseDomForHtml(list[i], '.v_title&&Text');\n            var img = parseDomForHtml(list[i], 'img&&data-original');\n            var url = parseDomForHtml(list[i], 'a&&href');\n            var desc = parseDomForHtml(list[i], '.v_note&&Text');\n            items.push({\n                title: title,\n                pic_url: img,\n                url: 'https://saohuotv.com' + url+\"#immersiveTheme#\",\n                desc: desc\n            });\n        }\n\n    }\n} catch (e) {}\n\nres.data = items;\nsetHomeResult(res);","searchFind":"js:\nvar items = [];\nvar html = getResCode();\nif (html.indexOf('请输入正确的验证码继续访问') > 0) {\n    items.push({\n        title: '点击输入验证码后返回刷新',\n        url: $('hiker://empty' + MY_URL).rule(() => {\n            var items = [];\n            var cok = JSON.parse(fetchCookie('https://saohuotv.com/', {\n                headers: {\n                    'User-Agent': MOBILE_UA\n                },\n                method: 'GET',\n                withHeaders: true\n            })).join(';');\n            //log(cok);\n            var spl = getResCode();\n            var kwrd = spl.match(/searchword\\=(.*?)\\&searchtype/)[1];\n            var img = 'https://saohuotv.com/include/vdimgck.php?get=' + new Date() + '@User-Agent=' + MOBILE_UA + '@Cookie=' + cok;\n            items.push({\n                pic_url: img,\n                url: $('').lazyRule(() => {\n                    return refreshPage();\n                }),\n                desc: '0',\n                col_type: 'pic_1_full'\n            });\n\n            items.push({\n                title: '',\n                url: \"'toast://你输入的是' + input\",\n                extra: {\n                    onChange: \"putVar('骚火验证码',input)\",\n                    titleVisible: false\n                },\n                col_type: 'input'\n            });\n\n            items.push({\n                title: '发送',\n                url: $('').lazyRule((cok, spl, kwrd) => {\n                    var cod = getVar('骚火验证码');\n                    var html = fetch('https://saohuotv.com/search.php?scheckAC=check&page=&searchtype=&order=&tid=&area=&year=&letter=&yuyan=&state=&money=&ver=&jq=', {\n                        headers: {\n                            'User-Agent': MOBILE_UA,\n                            'Cookie': cok\n                        },\n                        body: 'validate=' + cod + '&searchword=' + kwrd,\n                        method: 'POST'\n                    });\n                    if (html.indexOf('请输入正确的验证码继续访问') > 0) {\n                        //refreshPage();\n                        return \"toast://验证失败。\"\n                    } else {\n                        writeFile('hiker://files/cache/shaohuoCookie.txt', cok);\n                        back(true);\n                        return \"toast://验证成功！请下拉刷新。\"\n                    }\n                }, cok, spl, kwrd),\n                col_type: 'text_2'\n            });\n            setHomeResult({\n                data: items\n            });\n        }),\n        content: '验证成功后请下拉刷新查看搜索结果。',\n        col_type: 'text_1'\n    });\n} else {\n    var tabs = parseDomForArray(html, 'body&&.v_list&&li:has(.v_title)');\n    for (var i in tabs) {\n        items.push({\n            title: parseDomForHtml(tabs[i], 'a&&title'),\n            url: 'https://saohuotv.com' + parseDomForHtml(tabs[i], 'a&&href') + \"#immersiveTheme#\",\n            desc: parseDomForHtml(tabs[i], '.v_note&&Text'),\n            content: parseDomForHtml(tabs[i], 'body&&Text'),\n            pic_url: parseDomForHtml(tabs[i], 'img&&data-original'),\n        });\n    }\n}\nsetSearchResult({\n    data: items\n});","search_url":"https://saohuotv.com/search.php?page=fypage&searchword=**&searchtype=;get;utf-8;{User-Agent@.js:MOBILE_UA&&Cookie@.js:fetch('hiker://files/cache/shaohuoCookie.txt', {})}","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\n\nvar thumb = parseDom(getResCode(), \".m_background&&div&&style\");\nd.push({\n    title: '剧情简介：',\n    desc: parseDomForHtml(getResCode(), \".p_txt&&Text\"),\n    pic_url: thumb,\n    url: thumb,\n    col_type: 'movie_1_vertical_pic_blur'\n});\n\nvar tabs = parseDomForArray(getResCode(), 'body&&.from_list&&li');\nvar conts = parseDomForArray(getResCode(), 'body&&#play_link&&li');\n//setError(conts.length);\n\nfor (var i = 0; i < conts.length; i++) {\n\n    if (getVar('shsort', '1') == '1') {\n        var list = parseDomForArray(conts[i], 'body&&a').reverse();\n    } else {\n        var list = parseDomForArray(conts[i], 'body&&a')\n    }\n\n    if (list != null) {\n        d.push({\n            title: parseDomForHtml(tabs[i], \"body&&Text\") + '““切换选集排序””',\n            url: \"hiker://empty@lazyRule=.js:putVar('shsort', getVar('shsort','1')=='1'?'0':'1');refreshPage();'toast://切换成功！'\",\n            col_type: 'text_1'\n        });\n        //setError(list[0]);\n\n        for (var j = 0; j < list.length; j++) {\n            d.push({\n                title: parseDomForHtml(list[j], \"a&&Text\"),\n                url: $(parseDom(list[j], \"a&&href\")).lazyRule(() => {\n                    var get = request(input);\n                    var src = parseDom(get, \"body&&iframe&&src\");\n                    //log(src);\n                    if (/api\\.hhplayer/.test(src)) {\n                        var psurl = 'https://api.hhplayer.com/api.php';\n                    } else if (/play\\.hhplayer/.test(src)) {\n                        var psurl = 'https://play.hhplayer.com/hhjx/api.php'\n                    }\n                    var cc = parseDomForHtml(fetch(src, {}), 'body&&script,0&&Html').split('endebug()\\;')[1].split('var act')[0];\n                    eval(cc);\n                    var cs = 'url=' + url + '&t=' + t + '&key=' + key + '&act=0&play=1';\n                    var fc = fetch(psurl, {\n                        headers: {\n                            'User-Agent': MOBILE_UA,\n                            'referer': 'https://api.hhplayer.com'\n                        },\n                        body: cs,\n                        method: 'POST'\n                    });\n                    var playlink = JSON.parse(fc).url;\n                    if (/obj\\/tos/.test(playlink)) {\n                        return playlink + '#isVideo=true#';\n                    } else {\n                        return (playlink.indexOf('http') != -1 ? playlink : 'https://api.hhplayer.com' + playlink) + '#isVideo=true#'\n                    }\n                }),\n                col_type: list.length > 12 ? 'text_5' : 'text_3'\n            });\n        }\n\n    }\n}\n\n//二级模板\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://saohuotv.com/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"人人视频tv","author":"香雅情","version":1,"url":"https://web-api.rr.tv/web/drama/filter_search?JsonBody={\"dramaType\":\"fyclass\",\"area\":\"fyarea\",\"plotType\":\"fyyear\",\"sort\":\"fysort\",\"webChannel\":\"M_STATION\",\"page\":fypage};post;utf-8;{User-Agent@Mozilla/5.0&&Content-Type@application/json&&Referer@https://m.rr.tv/}","col_type":"movie_3","class_name":"全部&电视剧&综艺&纪录片&动漫","class_url":"&TV&VARIETY&DOCUMENTARY&COMIC","area_name":"全部&美国&日本&韩国&泰国&英国&内地&中国香港&中国台湾&其它","area_url":"&美国&日本&韩国&泰国&英国&内地&中国香港&中国台湾&其它","sort_name":"最近更新&最热&好评","year_name":"全部&剧情&喜剧&动作&爱情&犯罪&冒险&战争&悬疑&恐怖&科幻&家庭","sort_url":"&hot&score","year_url":"&剧情&喜剧&动作&爱情&犯罪&冒险&战争&悬疑&恐怖&科幻&家庭","find_rule":"js:\r\nvar res = {};\r\nvar items = [];\r\nvar html = JSON.parse(getResCode());\n//log(html);\n\nvar list = html.data.content;\n\r\n    for (var i = 0; i < list.length; i++) {\r\n        var title = list[i].title;\n        var img = list[i].coverUrl;\r\n        var vid = list[i].dramaId;\nvar url='https://web-api.rr.tv/web/drama/detail?webChannel=M_STATION&dramaId='+vid+'';\n        var desc = list[i].score;\r\n        items.push({\r\n            title: title,\n            pic_url: img+'@Referer=',\r\n            url: url,\n            desc: desc\r\n        });\r\n    }\n\r\nres.data = items;\r\nsetHomeResult(res);\n","searchFind":"js:\nvar res = {};\r\nvar items = [];\r\nvar html = JSON.parse(getResCode());\r\n\r\nvar list = html.data;\r\n\r\nfor (var i = 0; i < list.length; i++) {\r\n    var title = list[i].title;\r\n    var img = list[i].cover;\r\n    var cont = list[i].brief;\r\n    var vid = list[i].id;\r\n    var url = 'https://web-api.rr.tv/web/drama/detail?webChannel=M_STATION&dramaId=' + vid + '';\r\n    var score = list[i].score;\r\n    var flag = list[i].classify;\r\n    items.push({\r\n        title: title,\r\n        pic_url: img + '@Referer=',\r\n        url: url,\r\n        content: cont,\r\n        desc: '评分:' + score + '  类型:' + flag\r\n    });\r\n}\r\n\r\nres.data = items;\r\nsetSearchResult(res);","search_url":"https://web-api.rr.tv/web/drama/search/season?keywords=**&size=10&webChannel=M_STATION;get;utf-8;{User-Agent@Mozilla/5.0&&Content-Type@application/json&&Referer@https://m.rr.tv/}","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = JSON.parse(getResCode());\n\nvar conts = html.data.episodes;\nvar did = html.data.id;\n//setError(conts.length);\n\nvar thumb = html.data.coverUrl;\nd.push({\n    title: '剧情简介：',\n    desc: html.data.desc,\n    pic_url: thumb,\n    url: thumb,\n    col_type: 'pic_1'\n});\n\nfor (var i = 0; i < conts.length; i++) {\n    var title = conts[i].episodeNo;\n    var vid = conts[i].sid;\n    d.push({\n        title: title,\n        url: $('').lazyRule((did, vid) => {\n            var jk = 'https://web-api.rr.tv/web/drama/play?webChannel=M_STATION&dramaId=' + did + '&episodeId=' + vid;\n            var pos = fetch(jk, {\n                headers: {\n                    \"User-Agent\": MOBILE_UA,\n                    \"Referer\": \"http://m.rr.tv/\"\n                }\n            });\n            //log(pos);\n            return JSON.parse(pos).data.url\n        }, did, vid),\n        col_type: 'text_2'\n    });\n}\n\n//二级模板\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"js:\nvar html=getResCode();\nvar list=parseDomForArray(html,'.stui-content__playlist&&li');\nsetResult('最新:'+list.length)","pageList":[],"title":"奇优影院","author":"香雅情","version":0,"url":"http://taoju.tv/list/fyclass_fypage.html[firstPage=http://taoju.tv/list/fyclass.html]","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&4&3","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\r\nvar items = [];\r\nvar html = getResCode();\r\nvar list = parseDomForArray(html, '.stui-vodlist&&li');\r\n\r\nfor (var i in list) {\r\n    var title = parseDomForHtml(list[i], 'a&&title');\r\n    var img = parseDom(list[i], '.lazyload&&data-original');\r\n    var url = parseDom(list[i], 'a&&href');\r\n    var desc = parseDomForHtml(list[i], '.pic-text||span&&Text');\r\n    items.push({\r\n        title: title,\r\n        pic_url: img,\r\n        url: url,\r\n        desc: desc\r\n    });\r\n}\r\n\r\nres.data = items;\r\nsetHomeResult(res);","searchFind":"js:\nvar res = {};\nvar items = [];\nvar kwrd = getResCode();\nvar file = fetch('hiker://files/cache/taojucookie.txt').split('\\n');\n//log(file);\nvar html = fetch('http://taoju.tv/search.php', {\n    headers: {\n        'User-Agent': MOBILE_UA,\n        'Cookie': file[1]\n    },\n    body: file[0] + '&searchword=' + kwrd,\n    method: 'POST'\n});\n//log(html);\nif (html.indexOf('验证码') > 0) {\n    items.push({\n        title: '本次搜索需要点我输入验证码验证',\n        url: $('hiker://empty' + kwrd).rule(() => {\n            evalPrivateJS('iRUOtvhhY0h9Pag97tZcEesmnqfgqqtrhDaKYNA88U+dx6WE7IiO6OzHC82W6y3OJSf6s2h92UhZ8tSB6OUlYl3YqfIUOdZRFinfSU2TiOvD1Sa9aByPL3KYhGxFGJ+6yS7BgHeFhBhd5FklcBV165xGFtXzYjcQwzT9uXpTGn5ubvtEexFGps6CH+ckakOyoEZ53pPoapw6eiRjC0vC/KhpvdThOqAmdf3NZ5Y9sADXTI5Hc+0mMI70RVEWq4K9OiIFhGrK7UPrVeheRkOVLusmnqfgqqtrhDaKYNA88U8PdbyfRZpHGpubTGRIQbshcHX/y9Cjsduq9jPKY0ofRPzIXllqGtkUbpSMeLJeA1425ccGJQdcau3F5Ues9c0DRmPTRQeriZjdwJ7l5BNza9iffMLfcCRafCnWs8qFC6hIpE/H4ERMWeNvOpANMTRagYLeDCqHr6HwEyDqKxPveuPw5jcozlzti8dk6FNY8hA0SFgy6+xjlfDZ/VGO+NEwZpvVPcEgsbWFYWRa0hjXErsHgjmu9YtkbNSVmVvjeOnxubnrn6H0LG3unWzfoWvX/8x12gaSS+zRJJIpa+e/I79SLB3pJltJLJE9E29o38QaBpLcG3L+5cIJ2pv0AeEI/FDRtaOKFytFrnmxBghpS9wBqtLcaEcRRfNdQ1+RpNeB/18tkUcpjmL/pBmrNpGEsP7JMtfTHOqkj4xTibmCmM6UMvsO/POw5Ccr79sJzicekbU/m/xWEVz2UJ0fpRcz7Ps2dAkvdZNjvfVb1ZNioqDU6OHWbaXPq+qHsSXiSObUVlQ7z7iGtBy7wJTF/hgT8VLoqYFM2WszypmZh42J9h3JedJYcg0OAt72y+9RWqcwqLMPvGD+pwWxyKVg/b5xv36llg6SFanDDZnZWTP5tPY8Jw4Khn22bUNAZmhn2D0honYN+PSDmXyxidVC8IEhXpvi2ATezcbIB3kSunn29hRzhqQltxdbhWxfk8QKvIjntO7VnSjk4tNgo1M1PmkbwFitHSh+EKJGCMoUuFI21K/y7cuWwSyDxKA0yIb/cFgjrVbO4ayedLSBO1BbdJl5dNcacs7pnvWiBNIyAsrKkJP2v/tzEaUYjRDoPf5PalEWEI+jxiNVdTIhQxWsbzQeheRmAhyWzWxg6prDnEEeBylF6Yncuu11H2bFz5IvZg3M8kxFRmrwfCMwkjZ9LwQqSe0C1F4efpPy1/pjkpW8wVJRkOnyHWW530rfA+IVXuFl/tQNutzNGlYgTmU8grifFOx+vjSZh2SKJ81C5uO/Wc6UMvsO/POw5Ccr79sJzieGlCYVB01CqLTG+LacgCpzXyLJRef968+BHCfvrXIXx9Q9M8zR7WUACYTZcp4ZSiWGyF9OgFcHiW3IDk3D15Mebe7wuuDCcfCiKIPi1tiCZYeYi9mWNuCIlZkTY4yJ99HulEfogMcK8EtfD4nbO20LMRjxggkl1EPoCD2WLbU/Fyoch9BM6vgq/uBKS42w1uKD4F9Fzb3sAfddKAvhU9smAGr3jGRpuaBWApzuJ/ia18qKGm5HF7BLwKokDAwxAU3OlDL7DvzzsOQnK+/bCc4n8pOIGk+36wliBBHYhLujeDa/OfH2lZWPvlj0qlSfAuT/NmgR9qNrSwH7YbRxRzwBxRfovVZc5RTGczl8tiCIQF8EM6NraDRI5P7XA9iRz6NZAS+wDCCwfHIQ2x+YQEmL/IDEFE+LPglXpa/WiNCkv1+0fYf0oTOWN13UPITo5+vLK8tI1lZz+wif+9ZIAdT2NIiMiFGSCnFP8oy/qIfyWUF9l/VIjh4juyapV8D9TMrLK8tI1lZz+wif+9ZIAdT2/9TdGuVd82obdLJLtvaXHCDyLHMKuvexTpsOAEAfNKyam5qd+KegkkESOG8kQQephnaFnP2loAD3rnJEJFPoVI/Jxlko3xqpz/Jt0O7HJfIr4yFjcTvFkQnh2PRbLG9QLCmc5F5putsjFPFSMd4/c++C29gQ0Z/V8oGjKsBhILnLK8tI1lZz+wif+9ZIAdT2VPo2RemEb47/eSmFFCfiYssry0jWVnP7CJ/71kgB1Pa7dqlpxGAYw3PcHKSnEuzzSk8M0P07X+cbbqTvzbLhBr/GdiI5jec/GLM/0P5bPFijz3AdN1Ek6GT4eN0+5N2UrkiffTTCMPrTgKwCskXbmaFUIAelNAA4uq7ywYIAuHIULwDmulNsSoZStnqK7ykuNvtByo4cI/GHPmSdG7Op3/R1G+mFvToqlHos0mvKm4fwPwhSj4D5jPV/bacXRpmNyyvLSNZWc/sIn/vWSAHU9tAqBO44UjomvvJqPcw6XTdv1QiCoz5BU55yqI/7jsHv5Roo7sNwWj9St76IaOwOYJob+ifHIjBHxlK7EypHlztWwYt8B3S/XibsatPFBNyHyyvLSNZWc/sIn/vWSAHU9qm8UvJnKhw1qNtJ82Ad9AjLK8tI1lZz+wif+9ZIAdT2R06zAbQ7Ub018TPjnG/oqJQE+MLhmZ1jhHU15lh1Q+YWgY3ybB1veuHZXOv6zEN5yDhUnECT++IJtDA34rKCw501/MuQaIj/Ybrdy979FtrJ9qKFB6n+atvirFGF4OeihxwC99OGkj+tkKuJGsx8h7nOfUPKLxUgS5Dhhu4pSNnLK8tI1lZz+wif+9ZIAdT2rtmtPAaX4uJsNgaB0BTlxvbC06ddQRtJR5jLQeD8yyaBhetz/BC9vuvn5YKQNA2UPf4dEFMAYd2hrrhEaot/xB9VqqXqIqLvHCPOrl52gP1UrZ1J5uj5L+PdYuaH+OMsR81f5umZfL1m7lkOe/S5NERJkO/3JceE/Rux2xj220YegJZC85B4JVqOWcueipNaCbfc+kp40vfX1RSe/s+NPXRfrpLZ1K3ctNWeQWfikt6TAQTIUOTacuoaasLvzN7V4dThjTrEviNFETqB1IRsYuUovEqwuJmrU9P9HKN86Y5IqcvUfWDMXXQObN3a7WXBVeGJulCA/gmm50H1jngGnw==');\n        }),\n        content: '验证成功后请下拉刷新查看搜索结果。',\n        col_type: 'text_1'\n    });\n} else {\n    var list = parseDomForArray(html, '.stui-vodlist__media&&li');\n    for (var i in list) {\n        var title = parseDomForHtml(list[i], 'a&&title');\n        var img = parseDomForHtml(list[i], '.lazyload&&data-original');\n        var url = parseDomForHtml(list[i], 'a&&href');\n        var desc = parseDomForHtml(list[i], '.pic-text&&Text');\n        var con = parseDomForHtml(list[i], '.detail--h3&&Text');\n        items.push({\n            title: title,\n            img: img,\n            url: 'http://taoju.tv' + url,\n            desc: desc,\n            content: con\n        });\n    }\n}\nres.data = items;\nsetSearchResult(res);","search_url":"hiker://empty**","titleColor":"","group":"②影视","detail_col_type":"text_2","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar tabs = parseDomForArray(html, 'body&&.nav-tabs&&li');\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist');\n//setError(conts.length);\n\nvar thumb = parseDom(html, \".stui-content__thumb&&.lazyload&&data-original\");\nd.push({\n    title: '剧情简介：' + '    共' + conts.length + '条线路',\n    desc: parseDomForHtml(html, \".stui-content__detail&&p,-1&&Text\"),\n    pic_url: thumb,\n    url: thumb,\n    col_type: 'pic_1'\n});\n\nfor (var i in conts) {\n    var list = parseDomForArray(conts[i], 'body&&li');\n    if (list != null) {\n        d.push({\n            title: parseDomForHtml(tabs[i], \"body&&Text\"),\n            col_type: 'text_1'\n        });\n        //setError(list[0]);\n\n        for (var j in list) {\n            d.push({\n                title: parseDomForHtml(list[j], \"a&&Text\"),\n                url: $(parseDom(list[j], \"a&&href\")).lazyRule(() => {\n                    var html = request(input, {});\n                    var ifr = parseDomForHtml(html, '#playbox&&iframe&&src');\n                    var lac = JSON.parse(fetch(ifr, {\n                        headers: {\n                            'User-Agent': MOBILE_UA,\n                            'Referer': 'http://taoju.tv/'\n                        },\n                        redirect: false,\n                        withHeaders: true\n                    })).headers.location[0];\n                    var playA = request(lac, {\n                        headers: {\n                            \"Referer\": \"http://taoju.tv/\"\n                        }\n                    });\n                    if (/loadSource/.test(playA)) {\n                        var play = playA.match(/loadSource\\(\\\"(.*?)\\\"\\)/)[1];\n                    } else {\n                        var play = parseDomForHtml(playA, 'center&&script&&Html').match(/src\\=\\\"(.*?)\\\"/)[1];\n                    }\n                    //return play + ';{Origin@http://api.xosxx.com}'\n                    if (play.indexOf('titan.mgtv.com') != -1) {\n                        return play + '#isVideo=true#' + ';{Referer@www.mgtv.com&&User-Agent@Mozilla/5.0}';\n                    } else {\n                        return play\n                    }\n                }),\n                col_type: list.length <= 4 ? 'text_2' : 'flex_button'\n            });\n        }\n\n    }\n}\n\n//二级模板by香雅情\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"text_2","sdetail_find_rule":"*","ua":"mobile","preRule":"if (!fileExist(\"hiker://files/cache/taojucookie.txt\")) {\n    \n    let cook = JSON.parse(fetchCookie('http://taoju.tv/scode.php', {\n        headers: {\n            \"User-Agent\": MOBILE_UA,\n            \"Referer\":\"http://taoju.tv/v_search.php\"\n        }\n    })).join(';');\n    let cont='verify=bkov'+'\\n'+cook\n    writeFile(\"hiker://files/cache/taojucookie.txt\", cont);\n}","pages":"[]","icon":"http://taoju.tv/static/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"蚂蚁高清","author":"香雅情","version":2,"url":"https://m.mayigq.com/lists/fyclass--------fypage---.html","col_type":"movie_3","class_name":"电影&剧集&动漫&综艺","class_url":"31&32&33&34","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&.mo-part-round,1&&.mo-cols-info;.mo-situ-name&&Text;.mo-situ-pics&&data-original;.mo-situ-rema&&Text;a&&href","searchFind":".mo-main-info&&.mo-deta-info;h1&&Text;a&&href;.mo-situ-rema&&Text;dd--h1&&Text;.mo-situ-pics&&data-original","search_url":"https://m.mayigq.com/search/**----------fypage---.html","titleColor":"","group":"②影视","detail_col_type":"text_2","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar tabs = parseDomForArray(html, 'body&&.mo-sort-head&&.mo-movs-btns');\nvar conts = parseDomForArray(html, 'body&&.mo-main-info&&.mo-movs-item');\n//setError(conts.length);\n\n//var thumb = parseDom(html, \".mo-deta-info&&.mo-situ-pics&&data-original\");\nd.push({\n    title: '剧情简介：' + '    共' + conts.length + '条线路',\n    desc: parseDomForHtml(html, \".mo-deta-info&&li,-1&&Text\"),\n    //pic_url:thumb,\n    //url:thumb,\n    col_type: 'pic_1'\n});\n\nfor (var i in conts) {\n    var list = parseDomForArray(conts[i], 'body&&a');\n    if (list != null) {\n        d.push({\n            title: parseDomForHtml(tabs[i], \"a&&Text\"),\n            col_type: 'text_1'\n        });\n\n        for (var j in list) {\n            d.push({\n                title: parseDomForHtml(list[j], \"a&&Text\"),\n                url: $(parseDom(list[j], \"a&&href\")).lazyRule(() => {\n                    try{\n                    var html = request(input, {});\n                    var play = base64Decode(parseDomForHtml(html, \".mo-main-info&&.mo-play-load&&data-play\").slice(3));\n                    var jiex = parseDomForHtml(html, \".mo-main-info&&.mo-play-load&&data-parse\");\n                    if (/\\.m3u8|\\.mp4|obj\\/tos/.test(play) && /http/.test(play)) {\n                        return play;\n                    } else {\n                        var jxhtml = request(jiex + play, {\n                            headers: {\n                                \"Referer\": input\n                            }\n                        });\n                        var bdy = parseDomForHtml(jxhtml, '#player_swf&&lovevod');\n                        var pthtml = request('https://www.mayigq.com/vodzip/config/token.php', {\n                            headers: {\n                                'Content-Type': 'application/x-www-form-urlencoded',\n                                'Referer': 'https://www.mayigq.com',\n                                'X-Requested-With': 'XMLHttpRequest'\n                            },\n                            body: 'menudata=' + bdy,\n                            method: 'POST'\n                        });\n                        var link = 'https://www.mayigq.com/vodzip/' + pthtml.match(/var url = \\\"(.*?)\\\"/)[1];\n\n                        var play = JSON.parse(request(link, {\n                            headers: {\n                                'Referer': 'https://www.mayigq.com'\n                            },\n                            redirect: false,\n                            withHeaders: true\n                        })).headers.location[0];\n                        log(play);\n                        if(/gekai/.test(play)){                        \n                        return JSON.parse(request(play, {\n                            headers: {\n                                'Referer': 'https://www.mayigq.com'\n                            },\n                            redirect: false,\n                            withHeaders: true\n                        })).headers.location[0] + '#isVideo=true#';                            \n                        }else{return play + '#isVideo=true#';}\n                    }\n                    }catch(e){return input}\n                }),\n                col_type: 'text_3'\n            });\n        }\n\n    }\n}\n\n//mo-模板by香雅情\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"text_2","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"pageList":[],"title":"蓝莓影视","author":"香雅情","version":1,"url":"http://www.lanmeiys.com/fyclass/list.html?country=fyarea&year=fyyear&page=fypage","col_type":"movie_3","class_name":"电影&连续剧&综艺&动漫","class_url":"m&t&var&a","area_name":"全部&中国&香港&台湾&美国&日本&韩国&印度&法国&泰国&英国&俄罗斯&加拿大&意大利","area_url":"&中国&香港&台湾&美国&日本&韩国&印度&法国&泰国&英国&俄罗斯&加拿大&意大利","sort_name":"","year_name":"全部&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000&90年代&80年代","sort_url":"","year_url":"&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000&90年代&80年代","find_rule":".projects-holder&&.project-item;h2&&Text;img&&src;span&&Text;a&&href","searchFind":"body&&.service-item;h4&&Text;a&&href;*;.service-content--h4&&Text;img&&src","search_url":"http://www.lanmeiys.com/movie/search?keyword=**;post;utf-8","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res ={};\nvar d=[];\nvar html=getResCode();\n/*针对播放线路*/\nvar lazy=`@lazyRule=.js:var get =fetch(input,{});var js = parseDomForHtml(get,\".container&&iframe&&src\");if(js.indexOf('url=')!=-1){var urll=decodeURIComponent(js.split('url=')[1]);if(urll.indexOf('html')!=-1){var jiek=\"https://1717.ntryjd.net/0526/?url=\"+urll;var fileUrl=\"https://cdn.jsdelivr.net/gh/lzk23559/Public_folder/parse.js\";eval(fetch(fileUrl,{}));var url=yqjx.toUrl(jiek);url!=\"\"?url:getUrl(jiek);}else{urll};}else{var urll=parseDomForHtml(fetch(js,{headers:{\"Referer\":\"http://www.lanmeiys.com/\"}}),'body&&iframe&&src');if(urll.indexOf(\"share\")!=-1){var link=urll.split(\"/share\")[0];var fc=fetch(urll,{}).replace(\"var purl\",\"var main\");if(fc.indexOf(\"main\")!=-1){var mat=fc.match(/var main.*?;/)[0];eval(mat);main.indexOf(\"http\")!=-1?main:link+main;}else{var main=fc.match(/url:.*?[\\'\\\"](.*?)[\\'\\\"]/)[1];main.indexOf(\"http\")!=-1?main:link+main};}else{urll}}`;\n/*针对下载线路*/\nvar dnlazy=`@rule=js:var res={};var d=[];var html=getResCode();var cont=parseDomForHtml(html,'.box-content&&Html');var link=parseDomForHtml(cont, \"textarea&&Text\");if(link.indexOf('aHR0')!=-1){var mac=link.match(/\\\\/(aHR0.*?)\\\\//)[1];link=decodeURIComponent(base64Decode(mac));}else{link=link}d.push({\ttitle:link,desc:parseDomForHtml(cont, \".panel-body&&Text\"),url:link,\tcol_type: 'text_1'\t});res.data=d;setHomeResult(res)`;\n/*直接解析*/\nvar zjlazy=`@lazyRule=.js:var urll=input;var jiek=\"https://1717.ntryjd.net/0526/?url=\"+urll;var fileUrl=\"https://cdn.jsdelivr.net/gh/lzk23559/Public_folder/parse.js\";eval(fetch(fileUrl,{}));var url=yqjx.toUrl(jiek);url!=\"\"?url:getUrl(jiek)`;\n\nvar tabs=parseDomForArray(html,'body&&.panel-heading');\nvar conts=parseDomForArray(html,'body&&.list-group');\n//setError(conts.length);\n\nvar thumb = parseDom(html, \".blog-image&&img&&src\");\nd.push({\n\t\t\ttitle: '剧情简介：'+'    共'+conts.length+'条线路',\n    desc:parseDomForHtml(html, \".table-dateil&&tr,-1&&Text\"),\n    pic_url:thumb,\n    url:thumb,\n\t\tcol_type: 'pic_1'\n});\n\nfor(var i = 0;i<conts.length;i++){\n  var list=parseDomForArray(conts[i],'body&&a');\n  if(list!=null){\n\t\td.push({\n\t\t\ttitle:parseDomForHtml(tabs[i], \"body&&Text\"),\n\t\t\tcol_type: 'text_1'\n\t\t});\n//setError(list[0]);\n\n   for(var j=list.length-1;j>=0;j--){\n   var url=parseDomForHtml(list[j], \"a&&href\");\nif(url.substring(0,4)=='http'){url=url+zjlazy;}else if(url.indexOf('play')!=-1){url='http://www.lanmeiys.com'+url+lazy;}else{url='http://www.lanmeiys.com'+url+dnlazy}\n\t\t\td.push({\n\t\t\t\ttitle:parseDomForHtml(list[j], \"a&&Text\"),\n      url:url,\n      col_type: 'text_2'\n\t\t\t});\n   }\n\n  }\n}\n\n//二级模板by香雅情\nres.data=d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":""},{"pageList":[],"title":"片吧影院","author":"香雅情","version":2,"url":"http://www.pianba.net/class/fyAll--------fypage---/","col_type":"movie_3","class_name":"电影&动作片&喜剧片&恐怖片&科幻片&爱情片&剧情片&战争片&纪录片","class_url":"1&5&6&7&8&9&10&11&12","area_name":"电视剧&国产剧&香港剧&欧美剧&韩国剧&日本剧&台湾剧&海外剧","area_url":"2&13&14&15&16&17&18&20","sort_name":"综艺&真人秀&脱口秀&晚会&音乐秀","year_name":"动漫&动画电影&动画剧集","sort_url":"4&23&24&25&26","year_url":"3&21&22","find_rule":".stui-vodlist&&li;h4&&Text;.lazyload&&data-original;.pic-text&&Text;h4&&a&&href","searchFind":".stui-vodlist&&li;h4&&Text;a&&href;.pic-text&&Text;*;.lazyload&&data-original","search_url":"http://www.pianba.net/so/**----------fypage---/","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res ={};\nvar d=[];\nvar thumb = parseDom(getResCode(), \".stui-content__thumb&&img&&data-original\");\nd.push({\n\t\t\ttitle: '剧情简介：'+'    共'+getResCode().match(/<ul class=\\\"stui-content__playlist/g).length+'条线路',\n    desc:parseDomForHtml(getResCode(), \".stui-content__detail&&p,-1&&Text\"),\n    pic_url:thumb,\n    url:thumb,\n\t\tcol_type: 'pic_1'\n});\n\n//var tabs=parseDom(getResCode(),'body&&.stui-pannel__bd&&Html').match(/<h3[\\s\\S]*?<\\/h3>/g);\nvar conts=parseDom(getResCode(),'body&&.stui-pannel__bd&&Html').match(/<ul class=\\\"stui-content__playlist[\\s\\S]*?<\\/ul>/g);\n//setError(conts.length);\n\nfor(var i = 0;i<conts.length;i++){\n  var list=conts[i].match(/<a.*?<\\/a>/g);\n  if(list!=null){\n\t\td.push({\n\t\t\ttitle:'线路'+[i+1],\n\t\t\tcol_type: 'text_1'\n\t\t});\n//setError(list[0]);\n\n\t\tfor(var j = 0; j<list.length; j++){\n\t\t\td.push({\n\t\t\t\ttitle:parseDomForHtml(list[j], \"a&&Text\"),\n      url:parseDom(list[j], \"a&&href\")+`@lazyRule=.js:var get =fetch(input,{});var js = parseDomForHtml(get,\".embed-responsive&&script&&Html\");eval(js);player_data.url`,\n      col_type: 'text_2'\n\t\t\t});\n   }\n  }\n}\n\nif(getResCode().indexOf('stui-content__down')!=-1){\nvar downs=parseDom(getResCode(),'body&&.stui-content__down&&Html').match(/<li.*?<\\/li>/g);\n\t\td.push({\n\t\t\ttitle:'下载线路',\n\t\t\tcol_type: 'text_center_1'\n\t\t});\n\n\t\tfor(var dj = 0; dj<downs.length; dj++){\n\t\t\td.push({\n\t\t\t\ttitle:parseDomForHtml(downs[dj], \"a&&Text\"),\n      url:parseDom(downs[dj], \"a&&href\"),\n      col_type: 'text_2'\n\t\t\t});\n   }\n}\n\n//二级模板\nres.data=d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":""},{"pageList":[],"title":"萌果资源","author":"香雅情","version":0,"url":"http://api.appearoo.top/fyAll-fypage.html","col_type":"text_center_1","class_name":"首页&电影&连续剧&综艺&动漫","class_url":"index&vodtype/1&vodtype/2&vodtype/3&vodtype/4","area_name":"动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&动画片&纪录片","area_url":"vodtype/6&vodtype/7&vodtype/8&vodtype/9&vodtype/10&vodtype/11&vodtype/12&vodtype/20&vodtype/21","sort_name":"","year_name":"国产剧&港台剧&日韩剧&欧美剧","sort_url":"","year_url":"vodtype/13&vodtype/14&vodtype/15&vodtype/16","find_rule":".stui-vodlist&&li:has(h3);h3&&Text;*;li--h3&&Text;a&&href","searchFind":".stui-vodlist&&li;h3&&Text;a&&href;em&&Text;li--h3&&Text","search_url":"http://api.appearoo.top/vodsearch/**----------fypage---.html","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res ={};\nvar d=[];\nd.push({\n\t\t\ttitle: '',\n    desc:'240&&float',\n    url:'',\n\t\tcol_type: 'x5_webview_single'\n});\nrefreshX5WebView('');\nvar html=getResCode();\nvar tabs=parseDomForArray(html,'body&&#playlist');\nvar conts=parseDomForArray(html,'body&&.stui-content__playlist');\n//setError(conts.length);\n\nvar thumb = parseDom(html, \".stui-content__thumb&&img&&src\");\nd.push({\n\t\t\ttitle: '剧情简介：'+'    共'+conts.length+'条线路',\n    desc:parseDomForHtml(html, \".stui-content__desc&&Text\"),\n    pic_url:thumb,\n    url:thumb,\n\t\tcol_type: 'pic_1'\n});\n\nfor(var i in conts){\n  var list=parseDomForArray(conts[i],'body&&input');\n  if(list!=null){\n\t\td.push({\n\t\t\ttitle:parseDomForHtml(tabs[i], \"h3&&Text\"),\n\t\t\tcol_type: 'text_1'\n\t\t});\n//setError(list[0]);\n\n\t\tfor(var j in list){\n\t\t\td.push({\n\t\t\t\ttitle:list[j].split('value=\"')[1].split('$')[0],\n      url:list[j].split('$')[1].split('\"')[0]+`@lazyRule=.js:var src = 'https://jsap.attakids.com/?url='+input;refreshX5WebView(src)`,\n      col_type: 'text_2'\n\t\t\t});\n   }\n\n  }\n}\n\n//二级模板by香雅情\nres.data=d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":""},{"pageList":[],"title":"桔子TV_X5","author":"香雅情","version":0,"url":"https://www.juztv.com/vodshow/fyAll--------fypage---/","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&其它片","area_url":"6&7&8&9&10&11&12&20","sort_name":"","year_name":"国产剧&港台剧&日韩剧&欧美剧&其它剧","sort_url":"","year_url":"13&14&15&16&21","find_rule":"js:\r\nvar res = {};\r\nvar items = [];\r\nvar html = getResCode();\nvar list = parseDomForArray(html,'.stui-vodlist&&li');\n\r\n    for (var i in list) {\r\n        var title = parseDomForHtml(list[i], 'a&&title');\n        var img = parseDom(list[i], '.lazyload&&data-original');\r\n        var url = parseDom(list[i], 'a&&href');\n        var desc = parseDomForHtml(list[i], '.pic-text||span&&Text');\r\n        items.push({\r\n            title: title,\n            pic_url: img,\r\n            url: url,\n            desc: desc\r\n        });\r\n    }\n\r\nres.data = items;\r\nsetHomeResult(res);\n","searchFind":"js:\r\nvar res = {};\r\nvar items = [];\r\nvar html = getResCode();\n\nvar list = parseDomForArray(html,'.stui-vodlist__media&&li');\n\r\n    for (var i in list) {\r\n        var title = parseDomForHtml(list[i], 'a&&title');\n        var img = parseDom(list[i], '.lazyload&&data-original');\r\n        var url = parseDom(list[i], 'a&&href');\n        var desc = parseDomForHtml(list[i], '.pic-text&&Text');\n        var con = parseDomForHtml(list[i], '.detail--h3&&Text');\r\n        items.push({\r\n            title: title,\n            img: img,\r\n            url: url,\n            desc: desc,\n            content: con\r\n        });\r\n    }\n\r\nres.data = items;\r\nsetSearchResult(res);\n","search_url":"https://www.juztv.com/vodsearch/**----------fypage---/","titleColor":"","group":"②影视","detail_col_type":"text_2","detail_find_rule":"js:\nvar res ={};\nvar d=[];\nd.push({\n\t\t\ttitle: '',\n    desc:'240&&float',\n    url:'',\n\t\tcol_type: 'x5_webview_single'\n});\nrefreshX5WebView('');\nvar html=getResCode();\nvar tabs=parseDomForArray(html,'body&&.playlist');\nvar conts=parseDomForArray(html,'body&&.stui-content__playlist');\n//setError(conts.length);\n\nvar thumb = parseDom(html, \".stui-content__thumb&&.lazyload&&data-original\");\nd.push({\n\t\t\ttitle: '剧情简介：'+'    共'+conts.length+'条线路',\n    desc:parseDomForHtml(html, \".stui-content__detail&&p,-1&&Text\"),\n    pic_url:thumb,\n    url:thumb,\n\t\tcol_type: 'pic_1'\n});\n\nfor(var i in conts){\n  var list=parseDomForArray(conts[i],'body&&li');\n  if(list!=null){\n\t\td.push({\n\t\t\ttitle:parseDomForHtml(tabs[i], \"h3&&Text\"),\n\t\t\tcol_type: 'text_1'\n\t\t});\n//setError(list[0]);\n\n\t\tfor(var j in list){\n\t\t\td.push({\n\t\t\t\ttitle:parseDomForHtml(list[j], \"a&&Text\"),\n      url:parseDom(list[j], \"a&&href\")+`@lazyRule=.js:var get =request(input,{});var js = parseDomForHtml(get,\".stui-player__video&&script&&Html\").replace(/player_.*?={/,'player_data={');eval(js);var fro=player_data.from;var urll=player_data.url;if(fro=='niux'){var jiexi=fetch('https://www.juztv.com/jx.php?id='+urll,{headers:{\"User-Agent\":PC_UA,\"Referer\":\"https://www.juztv.com/\"}});var re=fetch('https://www.juztv.com/'+jiexi.match(/var u=\\\"(.*?)\\\"/)[1],{});if(re=='error'){'toast://解析失败，该资源播放地址。';}else{re.match(/url: \\\"(.*?)\\\"/)[1]};}else{var jk=request('https://www.juztv.com/static/player/'+fro+'.js',{}).match(/src=\\\"(.*?)\\'/)[1];refreshX5WebView(jk+urll);'toast://切换选集成功，请等待加载播放框架。'}`,\n      col_type: 'text_2'\n\t\t\t});\n   }\n\n  }\n}\n\n//二级模板by香雅情\nres.data=d;\nsetHomeResult(res);","sdetail_col_type":"text_2","sdetail_find_rule":"*","ua":"pc","preRule":""},{"last_chapter_rule":"","pageList":[],"title":"子弹影视","author":"子丑寅卯","version":5,"url":"https://www.i8k.cc/vodshow/fyAll--------fypage---.html","col_type":"movie_3","class_name":"电影&连续剧&综艺&动漫","class_url":"1&29&3&4","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"#vod_list&&li;a&&title;a&&data-original;.score&&Text;a&&href.js:input+'#immersiveTheme#'","searchFind":".stui-pannel_bd&&li;h3&&Text;a&&href.js:input+'#immersiveTheme#';.pic-text&&Text;.detail--h3&&Text;.lazyload&&data-original","search_url":"https://www.zidanx.com/vodsearch/**----------fypage---.html","titleColor":"#ffff00ff","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\r\nvar res = {};\r\nvar d = [];\r\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/.mp3|.mp4|.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i]\n        }\n    }\n});\r\n// 子\r\nvar des_desc = parseDom(getResCode(), 'head&&meta,-1&&content').replace(getUrl()+\"/\",\"\");\r\n// 丑\nvar des_pic = parseDomForHtml(getResCode(), 'body&&.poster&&img&&src');\r\n// 寅\r\nvar tabs = parseDom(getResCode(), 'body&&#playNumTab&&Html').match(/data-id=[\\s\\S]*?<\\/a/g);\r\n// 卯\n\r\nvar conts = parseDom(getResCode(), 'body&&Html').match(/\"playNumList[\\s\\S]*?<\\/ul/g);\r\n\r\nd.push({\r\n\ttitle: '共有' + conts.length + '条线路',\r\n desc: des_desc.split('：')[1],\r\n\tpic_url: des_pic,\r\n\turl: getUrl(),\r\n\tcol_type: 'movie_1_vertical_pic_blur'\r\n});\r\n\n\r\nfor (var i = 0; i < conts.length; i++) {\r\n\tvar list = conts[i].match(/<a[\\s\\S]*?<\\/a>/g);\r\n\tif (list != null) {\r\n\t\td.push({\r\n\t\t\ttitle: tabs[i].split(\">\")[3].split(\"<\")[0],\r\n\t\t\tcol_type: 'text_1'\r\n\t\t});\n\r\n\t\tfor (var j = 0; j < list.length; j++) {\r\n\t\t\td.push({\r\n\t\t\t\ttitle: list[j].split('>')[1].split('<')[0],\r\n\t\t\t\turl:'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n   col_type: list.length >2?'text_3':'text_2'\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\nres.data = d;\r\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fp4.itc.cn%2Fimages01%2F20210703%2F9bfd1d504f58440a94db34c7a75955c4.jpeg&refer=http%3A%2F%2Fp4.itc.cn&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1636973259&t=8654411ff55a41640d9b33389d89eeb5"},{"last_chapter_rule":"","pageList":[],"title":"影视艺人库","author":"子丑寅卯","version":1,"url":"https://www.dianyinggou.com/csoMore/all-fyAll-/page_fypage.html","col_type":"movie_3","class_name":"美国&英国&韩国&日本&比利时&瑞典&伊朗","class_url":"meiguo&yingguo&hanguo&riben&bilishi&ruidian&yilang","area_name":"中国&中国香港&中国台湾&法国&德国","area_url":"zhongguo&zgxg&zhongguotaiwan&faguo&deguo","sort_name":"","year_name":"泰国&印度&意大利&加拿大&西班牙&澳大利亚&&&&","sort_url":"","year_url":"taiguo&yindu&yidali&jianada&xibanya&aodaliya","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\r\ntry{\r\nvar list = parseDomForArray(getResCode(), '.celebrity&&a');\r\nfor (var j in list) {  \r\nd.push({       \r\ntitle: parseDomForHtml(list[j], 'h4&&Text'),       \r\ndesc: parseDomForHtml(list[j], 'ul,-2&&Text'),       \r\npic_url: parseDom(list[j], 'img&&data-url'),       \r\nurl: parseDom(list[j],'a&&href') +'#immersiveTheme#'\r\n});\r\n}\r\n}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\r\nvar res = {};\r\nvar d = [];\r\ntry{\r\nvar list = parseDomForArray(getResCode(), '.movies&&.each');\r\nfor (var j in list) {  \r\nd.push({       \r\ntitle: parseDomForHtml(list[j], 'a&&title'),       \r\ndesc: parseDomForHtml(list[j], '.rightBox&&Text'),       \r\npic_url: parseDom(list[j], 'img&&data-url'),       \r\nurl: parseDom(list[j],'a&&href') +'#immersiveTheme#'\r\n});\r\n}\r\n}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","search_url":"https://www.dianyinggou.com/so/**/page_fypage.html","titleColor":"#ffff00ff","group":"②影视","detail_col_type":"text_3","detail_find_rule":"js:\r\nvar res = {};\r\nvar d = [];\r\nvar html = getResCode();\n\nvar jshtml=request(parseDom(html,'center&&a&&href'),{});\r\nvar conts = parseDomForArray(jshtml, 'body&&.movies&&.each');\r\nd.push({\r\n\ttitle: '星座'+parseDomForHtml(html, '.rightInfo&&Text').split('星座')[1].replace(/出生/g,'\\n出生').replace(/职业/g,'\\n职业'),\ndesc: '职业'+parseDomForHtml(html, '.rightInfo&&Text').split('职业')[1].split('简介')[0],\r\n\tpic_url: parseDom(html, '.celebrity_one&&.thumb&&img&&data-url'),\r\n\turl: getUrl(),\r\n\tcol_type: 'movie_1_vertical_pic_blur'\r\n});\nd.push({\r\n\ttitle: parseDomForHtml(html, '.brief&&Text'),\r\n\turl: getUrl(),\r\n\tcol_type: 'text_1'\r\n});\r\n\n\r\n\t\tfor (var j = 0; j < conts.length; j++) {\r\n\t\t\td.push({\r\n\t\t\ttitle:parseDomForHtml(conts[j],'a&&title'),\n      pic_url: parseDom(conts[j], 'img&&data-url'),\n   desc: parseDomForHtml(conts[j], '.info&&Text'),\r\n\t\t\turl: parseDom(conts[j],'a&&href'),\r\n       col_type: conts.length >2?'movie_3':'movie_2'\r\n\t\t\t});\r\n\t\t}\n\n\nd.push({\r\n\t\t\ttitle:'‘‘查看更多→’’'+parseDomForHtml(html,'center&&a&&Text'),\r\n\t\t\turl: parseDom(html,'center&&a&&href') ,\r\n       col_type: 'text_center_1'\r\n\t\t\t});\r\nres.data = d;\r\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":"","pages":"[]","icon":"https://dianyinggou.com/pic/celebrity/3/1054453.jpg"},{"last_chapter_rule":"","pageList":[],"title":"久久影视♔","author":"蓝莓果酱UX","version":2,"url":"https://www.40mdd.com/type/fyclass/fysort/fypage.html;get;utf-8;{User-Agent@.js:PC_UA}","col_type":"movie_3","class_name":"📺剧集&📽电影&🎞综艺&🎨动漫&🎧音乐","class_url":"2&1&3&4&6","area_name":"","area_url":"","sort_name":"🕒时间&💖人气&🔮评分","year_name":"","sort_url":"&hits&score","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar items = [];\r\nvar html = getResCode();\nvar list = parseDomForArray(html,'body&&.col-md-1-5');//列表\n\r\n    for (var i = 0; i < list.length; i++) {\r\n        var title = parseDomForHtml(list[i], 'a&&title');//标题\n        var img = parseDom(list[i], 'img&&src');//图片\r\n        var url = parseDom(list[i], 'a&&href')+ \"#immersiveTheme#\"; //链接\n        var desc = parseDomForHtml(list[i], '.hdtag&&Html');//描述\r\n        items.push({\r\n            title: title,\n            pic_url: img,\r\n            url: url,\n            desc: desc\r\n        });\r\n    }\n\r\nres.data = items;\r\nsetHomeResult(res);\n","searchFind":"js:\nvar res = {};\nvar d = [];\n\n//定位列表\nvar list = parseDomForArray(getResCode(), 'body&&.col-md-1-5');\nfor (var j in list) {\n    d.push({\n        //定位标题\n        title: parseDomForHtml(list[j], 'a&&title'),\n        //定位描述\n        desc: parseDomForHtml(list[j], '.hdtag&&Text'),\n        //定位筒介\n        content: parseDomForHtml(list[j], '.meta&&Text') + '\\n' + parseDomForHtml(list[j], '') + '\\n' + parseDomForHtml(list[j], ''),\n        //定位图片\n        img: parseDom(list[j], 'img&&src') + \"@Referer=\",\n        //定位链接\n        url: parseDom(list[j], 'a&&href') + \"#immersiveTheme#\"\n    });\n}\nres.data = d;\nsetSearchResult(res);","search_url":"https://www.40mdd.com/s/**/fypage.html;get;utf-8;{User-Agent@.js:PC_UA}","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n/*免嗅地址*/\n//通用匹配\nputVar(\"_x5\", $.toString(() => {\n    var urls = _getUrls()\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i])\n            return urls[i]\n        }\n    }\n}))\nvar lazy = \"@lazyRule=.js:showLoading('动态解析中，请稍候');'x5Rule://'+input+'@' + getVar('_x5')\";\n\n/*线路↓*/\nvar arts = parseDomForArray(html, 'body&&.panel-heading');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'body&&Text').split('-')[1].split('路')[0].replace(' ', ''))\n}\n/*线路*/\n\n/*↓选集*/\nvar conts = parseDomForArray(html, 'body&&.dslist-group');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n/*选集*/\n\n\n//以下头框\nd.push({\n    //定位标题\n    title: parseDomForHtml(html, 'h1&&Text').substring(0, 20) + '\\n' + parseDomForHtml(html, '.col-md-8&&Text').substring(0, 80) + '\\n' + parseDomForHtml(html, '').substring(41, 60),\n    //定位描述\n    desc: ' 更新于：' + parseDomForHtml(html, 'em&&Text').substring(0, 15),\n    //定位图片\n    pic_url: parseDom(html, '.img-thumbnail&&src') + '@Referer=',\n    url: MY_URL,\n    col_type: 'movie_1_vertical_pic_blur'\n});\n\nvar desc = parseDomForHtml(html, 'body&&.summary&&Text').replace('[收起部分]','').replace('　',''); \nd.push({\n        title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + desc.substr(0, 40) + '...</font><small><font color=\"red\">查看详情</font></small></small>',\n       url: 'hiker://empty#' + desc + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n       col_type: 'text_1'\n   });\n\n/*   😜  这里是线路和选集，可以不用修改！！！*/\nd.push({\n    title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #5599FF\">正在使用逆序</span></b>' : '““””<b><span style=\"color: #9955FF\">正在使用正序</span></b>',\n    url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n    col_type: 'scroll_button'\n})\n\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    d.push({\n        col_type: 'line_blank'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    if (getVar('shsort') == '1') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_3' : 'text_5'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_3' : 'text_5'\n            });\n        }\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n})\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/7.png"},{"last_chapter_rule":"js:\nvar html = getResCode();\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.scroll-box-y')[0];\n//选集列表的定位\nvar list=parseDomForArray(conts, 'body&&a');\nvar title=parseDomForHtml(list[list.length-1],'span&&Text');\nsetResult(\"更新至: \"+title);","pageList":[],"title":"蓝莓影视断♔","author":"蓝莓果酱UX","version":11,"url":"https://lanmeiguojiang.com/index.php/vod/show/by/fysort/fyarea/id/fyclass/page/fypage/fyyear.html","col_type":"movie_3","class_name":"电影&剧集&综艺&动漫&国创","class_url":"1&13&3&4&27","area_name":"全部&内地&香港&台湾&美国","area_url":"&/area/内地&/area/香港&/area/台湾&/area/美国","sort_name":"时间&人气&评分","year_name":"年代&2021&2020&2019&2018","sort_url":"time&hits&score","year_url":"&year/2021&year/2020&year/2019&year/2018","find_rule":"js:\nvar d = [];\n\ntry {\n    //定位列表\n    var list = parseDomForArray(getResCode(), '.module-items&&.module-item');\n    for (var j in list) {\n        d.push({\n            //定位标题\n            title: parseDomForHtml(list[j], 'a&&title'),\n            //定位描述\n            desc: parseDomForHtml(list[j], '.module-item-caption&&Text'),\n            //定位图片\n            pic_url: parseDom(list[j], '.lazyloaded&&data-src') + \"@Referer=\",\n            //定位链接\n            url: parseDom(list[j], 'a&&href') + \"#immersiveTheme#\"\n        });\n    }\n} catch (e) {}\nsetResult(d);\n","searchFind":"js:\nvar d = [];\nvar html = getResCode();\n\nvar list = parseDomForArray(html,'body&&.module-list&&.module-search-item');\n\n    for (var i = 0; i < list.length; i++) {\n        var L = list[i];\n        d.push({\n            title: parseDomForHtml(L, 'img&&alt'),\n            url: parseDom(L, 'a,1&&href')+\"#immersiveTheme#\",\n            desc:  parseDomForHtml(L, '.video-info&&a&&Text'),\n            content: parseDomForHtml(L, '.video-info-main&&.video-info-item,2&&Text'),\n            img: parseDom(L, 'img&&data-src'),\n        });\r\n    }\nsetResult(d)","search_url":"https://lanmeiguojiang.com/index.php/vod/search/page/fypage/wd/**.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html=getResCode();\n\nvar jsUrl = fetch('hiker://files/cache/MyParseSet.json');\n    if(jsUrl == '' || !fetch(JSON.parse(jsUrl).cj)){var jsFile = fetch('https://code.aliyun.com/AI957/Hiker/raw/master/v/CloudParse-V2_Dn.js');}else{var jsFile = fetch(JSON.parse(jsUrl).cj);}eval(jsFile);\n\n//默认播放地址(需修改)\nvar lazy =\n`@lazyRule=.player-wrapper&&script&&Html.js:eval(input.replace(/player_.*?={/,'player_aaaa={'));var url=decodeURIComponent(player_aaaa.url);if(url.match(/.html/)){var input=url;`+lazy+`}else{url}`;\n\n//地区年份分类主演导演图片\n\nd.push({\n\ttitle: '分类：'+parseDomForHtml(html, '.tag-link,1&&Text').replace(/\\//g,'')+'  '+parseDomForHtml(html, '.tag-link,2&&Text')+'  '+parseDomForHtml(html, '.tag-link,3&&Text').substring(0, 20)+ '\\n' + parseDomForHtml(html,'.video-info-items,1&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 25)+'\\n'+parseDomForHtml(html, '.video-info-items&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 25),\tdesc:  '简介:  '+parseDomForHtml(html,'.zkjj_a&&Text').replace('[收起部分]','').replace('　',''),\n\tpic_url: parseDom(html, '.lazyload&&data-src'),\nurl:setUrl,\n  \ncol_type: 'movie_1_vertical_pic_blur'\n});\n\n\n//线路名列表的定位\nvar arts = parseDomForArray(html,'.module-tab-content&&.module-tab-item');\n\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.sort-item');\n   \nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'div&&a'))      //' 列表名改'ul&&li'\n}\n\nvar tabs = [];\nfor (var i in conts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text').replace(' ',''))//有可能改Text\n\n}\n//折叠需要用到的\nfunction setTabs(tabs, vari) {\n\nd.push({\n        col_type: 'line'\n    });\nd.push({\n        col_type: 'big_blank_block'\n    });\nd.push({\n        col_type: 'big_blank_block'\n    });\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n\n\n\nd.push({\n    title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">~◆~正在使用逆序~◆~</span></b>' : '““””<b><span style=\"color: #1aad19\">~◆~正在使用正序~◆~</span></b>',\n    url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n    col_type: 'text_center_1'\n})\n\n    if (getVar('shsort') == '1') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_3' : 'text_5'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_3' : 'text_5'\n            });\n        }\n    }\n}\n\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h1&&Text').replace(/0.0/, \"\");\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '青豆',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://lanmeiguojiang.com/tubiao/q/10.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=',\n    pic_url: \"https://lanmeiguojiang.com/tubiao/q/7.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '影视',\n    url: 'hiker://search?s=' + title + '&rule=APP影视(P)',\n    pic_url: \"https://lanmeiguojiang.com/tubiao/q/4.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '断插',\n    url: 'hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#',\n    pic_url: \"https://lanmeiguojiang.com/tubiao/q/38.png\",\n    col_type: 'icon_small_4'\n})\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\n\nd.push({ title: '<br>', col_type: 'rich_text' });\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/1.png"},{"last_chapter_rule":"","pageList":[],"title":"5G影院♔","author":"蓝莓果酱UX","version":3,"url":"http://www.gggggyy.com/show/fyclass-fyarea----------fyyear.html","col_type":"movie_3","class_name":"电视剧&电影&综艺&动漫","class_url":"2&1&3&4","area_name":"大陆&韩国&香港&台湾&日本","area_url":"大陆&韩国&香港&台湾&日本","sort_name":"","year_name":"2021&2020&2019&2018","sort_url":"","year_url":"2021&2020&2019&2018","find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar list = parseDomForArray(html,'.stui-vodlist&&li');\nfor (var j in list) {\n  d.push({\n     title: parseDomForHtml(list[j], 'a&&title'),\n     desc:parseDomForHtml(list[j], 'span,1&&Text'),\n     pic_url: parseDom(list[j], 'a&&data-original')+'@Referer=',\n     url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\n  });\n}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar list = parseDomForArray(html,'body&&.thumb');\nfor (var j in list) {\n  d.push({\n     title: parseDomForHtml(list[j], 'a&&title'),\n     desc:parseDomForHtml(list[j], '.pic-text&&Text'),\n     pic_url: parseDom(list[j], 'a&&data-original'),\n     url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\n  });\n}\nres.data = d;\nsetHomeResult(res);","search_url":"http://www.gggggyy.com/search/-------------.html?wd=**","group":"②影视","detail_col_type":"text_2","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n/*免嗅地址*/\n//通用匹配\nputVar(\"_x5\", $.toString(() => {\n    var urls = _getUrls()\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\obj|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i])\n            return urls[i]+'#isVideo=true#'\n        }\n    }\n}))\nvar lazy = \"@lazyRule=.js:showLoading('动态解析中，请稍候');'x5Rule://'+input+'@' + getVar('_x5')\";\n\nvar tabs = [];\nvar conts = parseDomForArray(html, 'body&&.b');\nvar lists = [];\nfor (var i in conts) {\n    tabs.push(parseDomForHtml(conts[i], 'h3&&Text'))\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\ntry {\n    var fm = set_switch\n} catch (e) {\n    fm = MY_URL\n}\nd.push({\n    title: parseDomForHtml(html, '.stui-content__detail--h1&&Text').replace('地区', '\\n地区').replace('主演', '\\n主演'),\n    desc: parseDomForHtml(html, '.desc||.detail-content&&Text'),\n    pic_url: parseDom(html, '.lazyload&&data-original'),\n    url: fm,\n    col_type: 'movie_1_vertical_pic_blur'\n});\n\nfunction setTabs(tabs, vari) {\nd.push({\n    col_type: 'line'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\n        for (var i = 0; i < tabs.length; i++) {\n            var url = \"@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！'\";\n            d.push({\n                title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n                url: url,\n                col_type: 'scroll_button'\n            })\n\n        }\nd.push({\n    title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">~◆~正在使用逆序~◆~</span></b>' : '““””<b><span style=\"color: #1aad19\">~◆~正在使用正序~◆~</span></b>',\n    url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n    col_type: 'text_center_1'\n})\n}\nfunction setLists(lists, index) {\n    var list = lists[index];\n    if (getVar('shsort') == '1') {\n        var list = lists[index].reverse();\n    }\n    for (var j in list) {\n        d.push({\n            title: parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/,'$1').replace('第', '').replace('期', ''),\n            url: parseDom(list[j], 'a&&href') + lazy,\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\n        });\n    }\n}\n\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h1&&Text').replace(/0.0/, \"\");\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '青豆',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://lanmeiguojiang.com/tubiao/q/10.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '香情',\n    url: 'hiker://search?s=' + title + '&rule=资源网采集.xyq',\n    pic_url: \"https://lanmeiguojiang.com/tubiao/q/3.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=',\n    pic_url: \"https://lanmeiguojiang.com/tubiao/q/7.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '影视',\n    url: 'hiker://search?s=' + title + '&rule=APP影视(P)',\n    pic_url: \"https://lanmeiguojiang.com/tubiao/q/4.png\",\n    col_type: 'icon_small_4'\n})\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\n\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"text_2","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/127.png"},{"last_chapter_rule":"","pageList":[],"title":"雪人影视♔","author":"蓝莓果酱UX","version":2,"url":"http://xrys.cc/index.php/vod/show/by/fysort/id/fyclass.html","col_type":"movie_3","class_name":"电影&剧集&综艺&动漫","class_url":"1&13&3&4","area_name":"","area_url":"","sort_name":"时间&人气&评分","year_name":"","sort_url":"time&hits&score","year_url":"","find_rule":".module-items&&.module-item;a&&title;img&&data-src;.module-item-caption&&Text;a&&href.js:input +\"#immersiveTheme#\"","searchFind":"js:\nvar d = [];\nvar html = getResCode();\n\nvar list = parseDomForArray(html,'body&&.module-list&&.module-search-item');\n\n    for (var i = 0; i < list.length; i++) {\n        var L = list[i];\n        d.push({\n            title: parseDomForHtml(L, 'img&&alt'),\n            url: parseDom(L, 'a,1&&href')+\"#immersiveTheme#\",\n            desc:  parseDomForHtml(L, '.video-info&&a&&Text'),\n            content: parseDomForHtml(L, '.video-info-main&&.video-info-item,2&&Text'),\n            img: parseDom(L, 'img&&data-src'),\n        });\r\n    }\nsetResult(d)","search_url":"http://xrys.cc/index.php/vod/search/page/fypage/wd/**.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html=getResCode();\n\nvar jsUrl = fetch('hiker://files/cache/MyParseSet.json');\n    if(jsUrl == '' || !fetch(JSON.parse(jsUrl).cj)){var jsFile = fetch('https://code.aliyun.com/AI957/Hiker/raw/master/v/CloudParse-V2_Dn.js');}else{var jsFile = fetch(JSON.parse(jsUrl).cj);}eval(jsFile);\n\n//默认播放地址(需修改)\nvar lazy =\n`@lazyRule=.player-wrapper&&script&&Html.js:eval(input.replace(/player_.*?={/,'player_aaaa={'));var url=decodeURIComponent(player_aaaa.url);if(url.match(/.html/)){var input=url;`+lazy+`}else{url}`;\n\n//地区年份分类主演导演图片\n\nd.push({\n\ttitle: '分类：'+parseDomForHtml(html, '.tag-link,1&&Text').replace(/\\//g,'')+'  '+parseDomForHtml(html, '.tag-link,2&&Text')+'  '+parseDomForHtml(html, '.tag-link,3&&Text').substring(0, 20)+ '\\n' + parseDomForHtml(html,'.video-info-items,1&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 25)+'\\n'+parseDomForHtml(html, '.video-info-items&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 25),\tdesc:  '简介:  '+parseDomForHtml(html,'.zkjj_a&&Text').replace('[收起部分]','').replace('　',''),\n\tpic_url: parseDom(html, '.lazyload&&data-src'),\nurl: setUrl,\ncol_type: 'movie_1_vertical_pic_blur'\n});\n\n\n//线路名列表的定位\nvar arts = parseDomForArray(html,'.module-tab-content&&.module-tab-item');\n\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.sort-item');\n   \nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'div&&a'))      //' 列表名改'ul&&li'\n}\n\nvar tabs = [];\nfor (var i in conts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text').replace(' ',''))//有可能改Text\n\n}\n//折叠需要用到的\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'text_4'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    d.push({\n        col_type: 'line'\n    });\n    \nd.push({\n    title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">~◆~正在使用逆序~◆~</span></b>' : '““””<b><span style=\"color: #1aad19\">~◆~正在使用正序~◆~</span></b>',\n    url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n    col_type: 'text_center_1'\n})\n\n    if (getVar('shsort') == '1') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_3' : 'text_5'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_3' : 'text_5'\n            });\n        }\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\n\nd.push({ title: '<br>', col_type: 'rich_text' });\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/q/133.png"},{"last_chapter_rule":"","pageList":[],"title":"没名影视♔","author":"蓝莓果酱UX","version":3,"url":"http://www.lanmeiys.com/fyclass/list.html?country=fyarea&year=fyyear&page=fypage","col_type":"movie_3","class_name":"电影&连续剧&综艺&动漫","class_url":"m&t&var&a","area_name":"全部&中国&香港&台湾&美国&日本&韩国&印度&法国&泰国&英国&俄罗斯&加拿大&意大利","area_url":"&中国&香港&台湾&美国&日本&韩国&印度&法国&泰国&英国&俄罗斯&加拿大&意大利","sort_name":"","year_name":"2021&||&2020&|||&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000&90年代&80年代","sort_url":"","year_url":"2021&&2020&short&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000&90年代&80年代","find_rule":".projects-holder&&.project-item;h2&&Text;img&&src;span&&Text;a&&href","searchFind":"body&&.service-item;h4&&Text;a&&href;*;.service-content--h4&&Text;img&&src","search_url":"http://www.lanmeiys.com/movie/search?keyword=**;post;utf-8","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res ={};\nvar d=[];\nvar html=getResCode();\n/*针对播放线路*/\nvar lazy=`@lazyRule=.js:var get =fetch(input,{});var js = parseDomForHtml(get,\".container&&iframe&&src\");if(js.indexOf('url=')!=-1){var urll=decodeURIComponent(js.split('url=')[1]);if(urll.indexOf('html')!=-1){var jiek=\"https://1717.ntryjd.net/0526/?url=\"+urll;var fileUrl=\"https://cdn.jsdelivr.net/gh/lzk23559/Public_folder/parse.js\";eval(fetch(fileUrl,{}));var url=yqjx.toUrl(jiek);url!=\"\"?url:getUrl(jiek);}else{urll};}else{var urll=parseDomForHtml(fetch(js,{headers:{\"Referer\":\"http://www.lanmeiys.com/\"}}),'body&&iframe&&src');if(urll.indexOf(\"share\")!=-1){var link=urll.split(\"/share\")[0];var fc=fetch(urll,{}).replace(\"var purl\",\"var main\");if(fc.indexOf(\"main\")!=-1){var mat=fc.match(/var main.*?;/)[0];eval(mat);main.indexOf(\"http\")!=-1?main:link+main;}else{var main=fc.match(/url:.*?[\\'\\\"](.*?)[\\'\\\"]/)[1];main.indexOf(\"http\")!=-1?main:link+main};}else{urll}}`;\n/*针对下载线路*/\nvar dnlazy=`@rule=js:var res={};var d=[];var html=getResCode();var cont=parseDomForHtml(html,'.box-content&&Html');var link=parseDomForHtml(cont, \"textarea&&Text\");if(link.indexOf('aHR0')!=-1){var mac=link.match(/\\\\/(aHR0.*?)\\\\//)[1];link=decodeURIComponent(base64Decode(mac));}else{link=link}d.push({\ttitle:link,desc:parseDomForHtml(cont, \".panel-body&&Text\"),url:link,\tcol_type: 'text_1'\t});res.data=d;setHomeResult(res)`;\n/*直接解析*/\nvar zjlazy=`@lazyRule=.js:var urll=input;var jiek=\"https://1717.ntryjd.net/0526/?url=\"+urll;var fileUrl=\"https://cdn.jsdelivr.net/gh/lzk23559/Public_folder/parse.js\";eval(fetch(fileUrl,{}));var url=yqjx.toUrl(jiek);url!=\"\"?url:getUrl(jiek)`;\n\nvar tabs=parseDomForArray(html,'body&&.panel-heading');\nvar conts=parseDomForArray(html,'body&&.list-group');\n//setError(conts.length);\n\nvar thumb = parseDom(html, \".blog-image&&img&&src\");\nd.push({\n\t\t\ttitle: '线路预览:'+'  共'+conts.length+'条线路',\n    desc:parseDomForHtml(html, \".table-dateil&&tr,-1&&Text\"),\n    pic_url:thumb,\n    url:thumb,\n\t\tcol_type: 'text_center_1'\n});\n\nfor(var i = 0;i<conts.length;i++){\n  var list=parseDomForArray(conts[i],'body&&a');\n  if(list!=null){\n\t\td.push({\n\t\t\ttitle:parseDomForHtml(tabs[i], \"body&&Text\"),\n\t\t\tcol_type: 'text_center_1'\n\t\t});\n//setError(list[0]);\n\n   for(var j=list.length-1;j>=0;j--){\n   var url=parseDomForHtml(list[j], \"a&&href\");\nif(url.substring(0,4)=='http'){url=url+zjlazy;}else if(url.indexOf('play')!=-1){url='http://www.lanmeiys.com'+url+lazy;}else{url='http://www.lanmeiys.com'+url+dnlazy}\n\t\t\td.push({\n\t\t\t\ttitle:parseDomForHtml(list[j], \"a&&Text\"),\n      url:url,\n      col_type: 'text_5'\n\t\t\t});\n   }\n\n  }\n}\n\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nres.data=d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/100.png"},{"last_chapter_rule":"","pageList":[],"title":"速搜影院♔","author":"蓝莓果酱UX","version":3,"url":"https://www.susou.tv/vodshow-fyclass/fyarea/by/score/page/fypage/year/fyyear/","col_type":"movie_3","class_name":"电影&剧集&综艺&动漫&纪录片","class_url":"1&2&3&4&21","area_name":"全部&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&/area/大陆&/area/香港&/area/台湾&/area/美国&/area/法国&/area/英国&/area/日本&/area/韩国&/area/德国&/area/泰国&/area/印度&/area/意大利&/area/西班牙&/area/加拿大&/area/其他","sort_name":"时间&人气&评分","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","find_rule":"body&&.pack-ykpack;a&&title;.eclazy&&data-original.js:input+\"@Referer=\";.pack-prb&&Text;a&&href.js:input +\"#immersiveTheme#\"","searchFind":"body&&.ec-search&&li;a&&title;a&&href.js:input +\"#immersiveTheme#\";.pack-prb&&Text;.ecitem-desc&&Text;.eclazy&&data-original.js:input+\"@Referer=\"","search_url":"https://www.susou.tv/so/page/fypage/wd/**/","titleColor":"#ff228be6","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nvar lazy =\n`@lazyRule=#bofang_box&&script&&Html.js:eval(input.replace(/player_.*?={/,'player_aaaa={'));var url=unescape(player_aaaa.url);var from=player_aaaa.from;if(from=='zizhi'|from=='zizhi2'){/*'https://vip.susou.tv'+*/request('https://vip.susou.tv/player/?url='+url).match(/\"url\": \"(.*?)\"/)[1]+\"#isVideo=true#\"}else if(from=='renrenmi'){request('https://vip.susou.tv/player/?url='+url).match(/\"url\": \"(.*?)\"/)[1]}else if(from=='susoutv'|from=='susoudm'|from=='socosdm'){request('https://vip.susou.tv/player/?url='+url).match(/\"url\": \"(.*?)\"/)[1]+\"#isVideo=true#\"}else{'https://vip.susou.tv'+url}`\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, '.play_source_tab&&a');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text').replace('', ''))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&#playsx');\n\n//导演名称的定位\nvar daoyan = parseDomForHtml(html, 'body&&.s-top-right&&p,2&&Text').substring(0, 15);\n\n\n//演员名称的定位\nvar zhuyan = parseDomForHtml(html, '.s-top-right&&p,1&&Text').substring(0, 16);\n\n\n//影片分类的定位\nvar fenlei = parseDomForHtml(html, 'body&&.s-top-right&&p,7&&Text').replace('', '分类：').replace('类型：','').substring(0, 35);\n\nvar diqu = parseDomForHtml(html, 'body&&.s-top-right&&p,3&&a&&Text');\n\nvar nianfen = parseDomForHtml(html, 'body&&.s-top-right&&p,4&&a&&Text');\n\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\nvar title = parseDomForHtml(html, 'body&&Text');\n\nd.push({\n    title: daoyan + '\\n' + zhuyan + '\\n' + fenlei  + nianfen  + diqu,\n    desc: parseDomForHtml(html, '.s-top-right&&p&&Text').substring(0, 50) + '\\n' + parseDomForHtml(html, 'body&&.s-top-right&&p,5&&Text'),\n    pic_url: parseDom(html, '.s-cover&&img&&src'),\n    url:getUrl(),\n\n    col_type: 'movie_1_vertical_pic_blur'\n});\n\n\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'flex_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    d.push({\n        col_type: 'line'\n    });\n    \nd.push({\n    title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">~◆~正在使用逆序~◆~</span></b>' : '““””<b><span style=\"color: #1aad19\">~◆~正在使用正序~◆~</span></b>',\n    url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n    col_type: 'text_center_1'\n})\n\n    if (getVar('shsort') == '1') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_3' : 'text_5'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_3' : 'text_5'\n            });\n        }\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\n\nd.push({ title: '<br>', col_type: 'rich_text' });\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/6.png"},{"last_chapter_rule":"","pageList":[],"title":"轻松时刻♔","author":"蓝莓果酱UX","version":1,"url":"hiker://empty","col_type":"movie_3","class_name":"向上滑动即可播放","class_url":"资源加载可能比较慢","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\n/** 无需下载APP，点返回即可。*/\nsetResult([{\n    col_type: \"x5_webview_single\",\n    url: \"https://lanmeiguojiang.com/xiaojiejie/\",\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true\n    }\n}])","searchFind":"","search_url":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/08/72.png"},{"last_chapter_rule":"","pageList":[],"title":"大象影视♔","author":"蓝莓果酱UX","version":4,"url":"https://www.daxiangtv.net/index.php/vod/show/fyarea/by/fysort/id/fyclass/page/fypage/year/fyyear.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫&||&动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&犯罪片&冒险片&武侠片&奇幻片&||&国产剧&港台剧&日韩剧&欧美剧&海外局","class_url":"1&2&3&4&||&6&7&8&9&10&11&12&22&31&32&33&||&13&14&15&16&82","area_name":"全部&内地&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&/area/大陆&/area/香港&/area/台湾&/area/美国&/area/法国&/area/英国&/area/日本&/area/韩国&/area/德国&/area/泰国&/area/印度&/area/意大利&/area/西班牙&/area/加拿大&/area/其他","sort_name":"时间&人气&评分","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001","find_rule":"js:\nvar d = [];\ntry {\n    //定位列表\n    var list = parseDomForArray(getResCode(), '.myui-vodlist&&li');\n    for (var j in list) {\n        d.push({\n            //定位标题\n            title: parseDomForHtml(list[j], 'a&&title'),\n            //定位描述\n            desc: parseDomForHtml(list[j], '.pic-text&&Text'),\n            //定位图片\n            pic_url: parseDom(list[j], 'a&&data-original') + \"@Referer=\",\n            //定位链接\n            url: parseDom(list[j], 'a&&href') + \"#immersiveTheme#\"\n        });\n    }\n} catch (e) {}\nsetResult(d);","searchFind":"js:\nvar res = {};\nvar d = [];\n\n//定位列表\nvar list = parseDomForArray(getResCode(), '.myui-vodlist__media&&li');\nfor (var j in list) {\n    d.push({\n        //定位标题\n        title: parseDomForHtml(list[j], 'a&&title'),\n        //定位描述\n        desc: parseDomForHtml(list[j], '.pic-text&&Text'),\n        //定位筒介\n        content: parseDomForHtml(list[j], '.detail--h4&&Text') + '\\n' + parseDomForHtml(list[j], 'body&&Text') + '\\n' + parseDomForHtml(list[j], 'body&&Text'),\n        //定位图片\n        img: parseDom(list[j], 'a&&data-original') + \"@Referer=\",\n        //定位链接\n        url: parseDom(list[j], 'a&&href') + \"#immersiveTheme#\"\n    });\n}\nres.data = d;\nsetSearchResult(res);","search_url":"https://www.daxiangtv.net/index.php/vod/search/page/fypage/wd/**.html","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar lazy = `@lazyRule=.embed-responsive&&script&&Html.js:eval(input.replace(/player_.*?={/,'player_data={'));var url = player_data.url;var fr =player_data.from;if(url.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu|le/)){var input=url;eval(fetch('hiker://files/cache/Parse_Dn.js'));aytmParse(input)}else if(fr=='renrenmi'|fr=='miaoparty'){eval(fetch('hiker://files/cache/Parse_Dn.js'));ParseS.defaultParse(\"https://jx.lykzl.com/?url=\"+url)}else[url]`;\n\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, '.nav-tabs&&li');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.myui-content__list');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\nvar 分类 = parseDomForHtml(html, '.data&&Text').replace('分类：','').replace('地区：','').replace('年份：','');\n\nvar 更新 = parseDomForHtml(html, '.data,1&&Text');\n\nvar 主演 = parseDomForHtml(html, '.data,2&&Text');\n\nvar 导演 = parseDomForHtml(html, '.data,3&&Text');\n\nvar 图片 = parseDom(html, '.lazyload&&data-original');\n\nvar 简介 = parseDomForHtml(html, '.content&&span,1&&Text');\n\n\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 分类 + '\\n' + 更新,\n    desc: 主演 + '\\n' + 导演,\n    pic_url: 图片,\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",\n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\nfor (var i = 0; i < tabs.length; i++) {\n        var url = \"@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！'\";\nd.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'text_5'\n        })\n    }\nd.push({\n    col_type: 'line'\n})\nd.push({\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">~◆~正在使用逆序~◆~</span></b>' : '““””<b><span style=\"color: #1aad19\">~◆~正在使用正序~◆~</span></b>',\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n        col_type: 'text_center_1'\n    })\n}\nfunction setLists(lists, index) {\n    var list = lists[index];\n    if (getVar('shsort') == '1') {\n        var list = lists[index].reverse();\n    }\n    for (var j in list) {\n        d.push({\n            title: parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', ''),\n            url: parseDom(list[j], 'a&&href') + lazy,\n            col_type: list.length > 3 ? 'text_5' : 'text_5'\n        });\n    }\n}\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/9.png"},{"last_chapter_rule":"","pageList":[],"title":"无限影视♔","author":"蓝莓果酱UX","version":3,"url":"https://www.wxtv.net/vodshow/fyclass-fyarea--fysort-----fypage---fyyear.html.js:input.replace('-time', 'time-').replace('-hits', 'hits-').replace('-score', 'score-');get;utf-8;{User-Agent@Mobile}","col_type":"movie_3","class_name":"连续剧&电影&综艺&动漫&动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&国产剧&香港剧&韩国剧&欧美剧&日本剧&台湾剧","class_url":"2&1&3&4&6&7&8&9&10&11&12&13&14&15&16&20&21","area_name":"地区&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","sort_name":"时间&人气&评分&纪录&喜剧&古装&动作&爱情&科幻&动画&悬疑&惊悚&恐怖&灾难&历史&传记","year_name":"年代&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010","sort_url":"time&hits&score&纪录&喜剧&古装&动作&爱情&科幻&动画&悬疑&惊悚&恐怖&灾难&历史&传记","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010","find_rule":"js:\nvar d = [];\r\nvar list = parseDomForArray(getResCode(), '.myui-vodlist&&li');\r\n\r\nfor (var j in list) {\r\n    d.push({\r\n        title: parseDomForHtml(list[j], 'a&&title'),\r\n        desc: parseDomForHtml(list[j], '.pic-text&&Text'),\r\n        pic_url: parseDom(list[j], '.lazyload&&data-original') + '@Referer=',\r\n        url: parseDom(list[j], 'a&&href') + \"#immersiveTheme#\"\r\n    });\r\n}\r\nsetResult(d);","searchFind":"js:\nvar json = {};\neval('json=' + getResCode());\nvar res = {};\nvar d = [];\n\nfor (var i = 0; i < json.list.length; i++) {\n    var r = {};\n    var j = json.list[i];\n    r.title = j.name;\n    r.img = j.pic.indexOf('http') != -1 ? j.pic : 'https://www.wxtv.net' + j.pic;\n    r.url = 'https://www.wxtv.net/voddetail/' + j.id + '/' + \"#immersiveTheme#\";\n    r.content = j.name + '\\n' + j.en;\n    if (r.title !== null && r.title !== undefined && r.title !== '') d.push(r);\n}\nres.data = d;\nsetSearchResult(res);","search_url":"https://www.wxtv.net/index.php/ajax/suggest?mid=1&wd=**&limit=500;get;utf-8;{User-Agent@Mobile}","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar lazy = `@lazyRule=.js:eval(parseDomForHtml(request(input,{}),'.myui-player__box&&script&&Html'));var url=player_aaaa.url;if(url.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu|pptv|letv|le/)){eval(JSON.parse(fetch('hiker://page/globalParse?rule=道长仓库Pro', {})).rule);lazyParse(\"http://www.youhuifuligou.com/json/?id=1&url=\"+url,3000)}else{url}`;\n\nvar arts = parseDomForArray(html, '.nav&&a');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text'))\n}\n\nvar conts = parseDomForArray(html, 'body&&.myui-content__list');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\nd.push({\n    title: parseDomForHtml(html, '.data,2&&Text').substring(0, 20) + '\\n' + parseDomForHtml(html, '.data,3&&Text').substring(0, 20) + '\\n' + parseDomForHtml(html, '.data,1&&Text').substring(0, 20),\n    desc: ' 简 介：' + parseDomForHtml(html, '.data,5&&Text').replace('　　', '').substring(0, 18) + '\\n' + parseDomForHtml(html, '.data,5&&Text').substring(18, 40) + '…',\n    pic_url: parseDom(html, '.lazyload&&data-original'),\n    url: MY_URL,\n    col_type: 'movie_1_vertical_pic_blur'\n});\nvar title = parseDomForHtml(html, 'h1&&Text');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '香情',\n    url: 'hiker://search?s=' + title + '&rule=香情影视',\n    pic_url: \"https://lanmeiguojiang.com/tubiao/movie/10.svg\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=APP影视',\n    pic_url: \"https://lanmeiguojiang.com/tubiao/movie/58.svg\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=②精品',\n    pic_url: \"https://lanmeiguojiang.com/tubiao/movie/5.svg\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://lanmeiguojiang.com/tubiao/01/豆瓣.svg\",\n    col_type: 'icon_small_4'\n})\n\nd.push({\n    col_type: 'line'\n});\n\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'text_4'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    d.push({\n        col_type: 'line'\n    });\n    \nd.push({\n    title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">~◆~正在使用逆序~◆~</span></b>' : '““””<b><span style=\"color: #1aad19\">~◆~正在使用正序~◆~</span></b>',\n    url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n    col_type: 'text_center_1'\n})\n\n    if (getVar('shsort') == '1') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_3' : 'text_5'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_3' : 'text_5'\n            });\n        }\n    }\n}\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/4.png"},{"last_chapter_rule":"","pageList":[],"title":"奇艺影院♔","author":"蓝莓果酱UX","version":3,"url":"http://www.shudx.com/list/fyclass_fypage.html?order=fysort","col_type":"movie_3","class_name":"电视剧&电影&综艺&动漫","class_url":"2&1&4&3","area_name":"","area_url":"","sort_name":"按时间&按人气","year_name":"","sort_url":"time&hit","year_url":"","find_rule":".stui-vodlist&&li;a&&title;.lazyload&&data-original;.pic-text&&Text;a&&href","searchFind":".stui-vodlist__media&&li;.title&&Text;a&&href;.pic-text&&Text;.detail&&Text;.lazyload&&data-original","search_url":"http://www.shudx.com/search.php?searchword=**;post;utf-8","titleColor":"272727","group":"②影视","detail_col_type":"text_2","detail_find_rule":"js:\nvar res ={};\nvar d=[];\ntry{\nvar thumb = parseDom(getResCode(), \".stui-content__thumb&&img&&data-original\");\nd.push({\n\t\t\ttitle: '线路预览'+' 共'+getResCode().match(/\\\"stui-content__playlist/g).length+'条线路',\n    desc:parseDomForHtml(getResCode(), \".stui-content__detail&&p,-1&&Text\"),\n    pic_url:thumb,\n\t\tcol_type: 'pic_1'\n});\n\nvar tabs=parseDom(getResCode(),'body&&.nav-tabs&&Html').match(/<li[\\s\\S]*?<\\/li>/g);\nvar conts=parseDom(getResCode(),'body&&.tab-content&&Html').match(/<ul class=\\\"stui-content__playlist[\\s\\S]*?<\\/ul>/g);\n//setError(conts.length);\n\nfor(var i = 0;i<conts.length;i++){\n  var list=conts[i].match(/<a.*?<\\/a>/g);\n\t\td.push({\n\t\t\ttitle:parseDomForHtml(tabs[i], \"body&&Text\"),\n\t\t\tcol_type: 'text_center_1'\n\t\t});\n//setError(list[0]);\n\n\t\tfor(var j = 0; j<list.length; j++){\n    //setError(parseDom(list[j], \"a&&href\"));\n\t\t\td.push({\n\t\t\t\ttitle:parseDomForHtml(list[j], \"a&&Text\"),\n      url:parseDom(list[j], \"a&&href\")+`@lazyRule=.js:var get =fetch(input,{})；；var js = parseDomForHtml(get,\".stui-player__video＆＆＆＆iframe＆＆＆＆src\")；；var jx = fetch(js,{headers:{'Referer':'http://www.anluyg.net/'}})；；if(jx.indexOf('ldgplayer')!=-1){if(jx.split(\"ldgurl = \\'\")[1].split(\"\\'\")[0].indexOf('http')!=-1){jx.split(\"ldgurl = \\'\")[1].split(\"\\'\")[0]；；}else{'http:'+jx.split(\"ldgurl = \\'\")[1].split(\"\\'\")[0]；；}}else if(jx.indexOf('id=\\\"vod\\\"')!=-1){jx.match(/http.*?m3u8/g)[0]；；}else if(jx.indexOf('DPlayer')!=-1){jx.match(/http.*?m3u8/g)[0]；；}else{if(input.indexOf('http')!=-1){input}else{'http:'+input}}`,\n      col_type: 'text_5'\n\t\t\t});\n   }\n}\n} catch (e) { }\n\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\n\nres.data=d;\nsetHomeResult(res);","sdetail_col_type":"text_2","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/5.png"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"九州影视网♔","author":"蓝莓果酱UX","version":1,"url":"http://www.jiuzhou911.com/search.php?page=fypage&searchtype=5&tid=fyclass&area=fyarea&year=fyyear","col_type":"movie_3","class_name":"电影&连续剧&综艺&动漫","class_url":"1&2&3&4","area_name":"全部&大陆&韩国&香港&台湾&日本&美国&泰国&英国&新加坡&其他","area_url":"&大陆&韩国&香港&台湾&日本&美国&泰国&英国&新加坡&其他","sort_name":"","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010","sort_url":"","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.channel&&li');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),\r\n       desc: parseDomForHtml(list[j], '.other&&Text'),\r\n       pic_url: parseDom(list[j], '.lazy&&data-original'),\r\n       url: parseDom(list[j],'a&&href')\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":".sul&&li;a&&title;h4&&a&&href;p,0&&Text;p,-1&&Text;img&&data-original","search_url":"http://www.jiuzhou911.com/search.php?page=fypage&searchword=**","titleColor":"#ff228be6","group":"②影视","detail_col_type":"text_3","detail_find_rule":"js:\nvar res = {};\nvar d = [];\n//简介\nvar des_desc = parseDom(getResCode(), '.cdes1&&Text').replace(getUrl()+\"/\",\"\");\n//图片\nvar des_pic = parseDom(getResCode(), '.img&&img&&src');\n//线路\nvar tabs = parseDom(getResCode(), '.row-l&&Html').match(/h2[\\s\\S]*?<\\/h2/g);\n//选集\nvar conts = parseDom(getResCode(), 'body&&Html').match(/\"stab_list[\\s\\S]*?<\\/div>/g);\n\nd.push({\n\ttitle: '共有' + conts.length + '条线路',\n desc: des_desc,\n\tpic_url: des_pic,\n\turl: getUrl(),\n\tcol_type: 'text_center_1'\n});\n\nfor (var i = 0; i < conts.length; i++) {\n\tvar list = conts[i].match(/<a[\\s\\S]*?<\\/a>/g);\n\tif (list != null) {\n\t\td.push({\n\t\t\ttitle: tabs[i].split(\">\")[1].split(\"<\")[0],\n\t\t\tcol_type: 'text_center_1'\n\t\t});\n\t\tfor (var j = 0; j < list.length; j++) {\n\t\t\td.push({\n\t\t\t\ttitle: list[j].split('>')[1].split('<')[0],\n      col_type: 'text_5',\n\t\t\t\turl: 'http://www.jiuzhou911.com'+list[j].split('href=\"')[1].split('\"')[0]+`@lazyRule=.playerall&&script&&Html.js:eval(input);now`,\n\t\t\t});\n\t\t}\n\t}\n}\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"text_3","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/10.png"},{"last_chapter_rule":"","pageList":[],"title":"麦豆TV♔","author":"蓝莓果酱UX","version":3,"url":"https://mdoutv.cc/vodshow/fyclass-fyarea-fysort---------fyyear.html","col_type":"movie_3","class_name":"电影&剧集&综艺&动漫&|#|&动作片&喜剧片&爱情片&科幻片&恐怖片&战争片&犯罪片&记录片&悬疑片&惊悚片&冒险片&|#|&港台剧&日韩剧&欧美剧&国创&","class_url":"1&13&3&4&|#|&6&7&8&9&10&12&20&21&22&30&31&|#|&14&15&16&27&","area_name":"全部&内地&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&/area/内地&/area/香港&/area/台湾&/area/美国&/area/法国&/area/英国&/area/日本&/area/韩国&/area/德国&/area/泰国&/area/印度&/area/意大利&/area/西班牙&/area/加拿大&/area/其他","sort_name":"时间&热门&评分","year_name":"年代&2021&2020&2019&2018&2017&2016&2015&2014","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014","find_rule":"js:\nvar res = {};\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.myui-vodlist&&li');\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j], 'a&&title'),\n       desc: parseDomForHtml(list[j], '.pic-text&&Text'),\n       pic_url: parseDom(list[j], 'a&&data-original'),\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"\n  });\n}}catch(e){}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\r\nvar res = {};\r\nvar d = [];\n\nvar list = parseDomForArray(getResCode(), '.myui-vodlist__media&&li');\n    for (var j in list) {\n        d.push({\n            title: parseDomForHtml(list[j], 'a&&title'),\n            desc: parseDomForHtml(list[j], '.pic-text&&Text'),\n            content: parseDomForHtml(list[j], 'p,-2&&Text'),\n            img: parseDom(list[j], 'a&&data-original'),\n            url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\n        });\n    }\r\nres.data = d;\r\nsetSearchResult(res);","search_url":"https://mdoutv.cc/vodsearch/-------------.html?wd=**&submit=","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\nvar jsUrl = fetch('hiker://files/cache/MyParseSet.json');\n    if(jsUrl == '' || !fetch(JSON.parse(jsUrl).cj)){var jsFile = fetch('https://gitee.com/Duan-Nian/Dn/raw/master/hikerview/CloudParse-V2_Dn.js');}else{var jsFile = fetch(JSON.parse(jsUrl).cj);}eval(jsFile);\nvar lazy = `@lazyRule=.embed-responsive&&script&&Html.js:eval(input.replace(/player_.*?={/,'player_aaaa={'));var jsurl=player_aaaa.url;if(jsurl.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bilibili|sohu|pptv|letv|le|alizy/)){var input=jsurl;` + lazy + `}else{jsurl}`;\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, '.nav-tabs&&li');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.myui-content__list');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\nvar 分类 = parseDomForHtml(html, '.data&&Text').replace('分类：','').replace('地区：','').replace('年份：','');\n\nvar 主演 = parseDomForHtml(html, '.data,2&&Text');\n\nvar 导演 = parseDomForHtml(html, '.data,3&&Text');\n\nvar 更新 = parseDomForHtml(html, '.data,1&&Text');\n\nvar 图片 = parseDom(html, '.lazyload&&data-original');\n\nvar 简介 = parseDomForHtml(html, '.sketch&&Text').replace('简介：','');\n\nvar 图片链接 = setUrl;\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 分类 + '\\n' + 主演 ,\n    desc: 导演 + '\\n' + 更新,\n    pic_url: 图片,\n    url: 图片链接,\n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href')+lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') +lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/3.png"},{"last_chapter_rule":"","pageList":[],"title":"天堂电影♔","author":"蓝莓果酱UX","version":2,"url":"https://m.kkdsa.com/vodtype/fyAll-fypage.html","col_type":"movie_3","class_name":"电影&连续剧&综艺&动漫","class_url":"1&2&3&4","area_name":"动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&纪录片&犯罪电影","area_url":"6&7&8&9&10&11&12&20&21","sort_name":"","year_name":"国产剧&香港剧&台湾剧&日本剧&韩国剧&欧美剧&海外剧","sort_url":"","year_url":"13&14&15&16&22&23&24","find_rule":"body&&.card;img&&alt;.lazy&&data-original;.label&&Text;a&&href","searchFind":"body&&.card;img&&alt;a&&href;.label&&Text;.card-heading&&Text;.lazy&&data-original","search_url":"https://m.kkdsa.com/vodsearch/----------fypage---.html?wd=**","titleColor":"272727","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:var d = [];var html=getResCode();\n\n\n//默认播放地址(需修改)\nvar lazy=`@lazyRule=#bofang_box&&script&&Html.js:eval(input);var url=player_aaaa.url;var xx=player_aaaa.from;if(xx=='bjyun'){url.split('/share')[0]+fetch(url,{headers:{\"User-Agent\":\"Mozilla/5.0\",\"Referer\":\"https://m.kkdsa.com\"}}).match(/url: \\'(.*?)\\'/)[1]}else if(xx=='dbyun'){url.split(\"\\/share\")[0]+fetch(url,{}).split(\\'main = \"\\')[1].split(\\'\"\\')[0]}else{url}`\n\n\n//视频标题的定位\ntry{\nvar des_title = parseDomForHtml(html, 'h2&&Text');\n\n}catch(e){\nvar des_title ='没有正确获取到影片名称哟！';\n}\n\n//剧情简介的定位\ntry{\nvar des_desc = parseDomForHtml(html,'p,6&&Text');\n\n}catch(e){\nvar des_desc ='没有正确获取到剧情简介哟！';\n}\n\n//视频封面的定位\ntry{\nvar des_pic =parseDom(html,'img&&src');\n\n}catch(e){\nvar des_desc ='没有正确获取到简介图片路径哟！\\n'+des_desc;\n}\n\n//线路名列表的定位\nvar arts = parseDomForArray(html,'body&&.pull-left');\n\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.play-list');\n   \nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))      //' 列表名改'ul&&li'\n}\n\nvar tabs = [];\nfor (var i in conts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text').replace('[ ]',''))//有可能改Text\n\n}\n\n\n//下面除了获取选集名称例如1,2,3集，有的需要改下\n//有其他不需要修改\n\nd.push({\ntitle:des_title,\ndesc:des_desc,\npic_url:des_pic,\nurl:getUrl(),\ncol_type:'movie_1_vertical_pic'\n});\n\n//折叠需要用到的\nd.push({\n        col_type: 'line_blank'\n    })\nfunction setTabs(tabs, vari) {\n    for (var i = 0; i < tabs.length; i++) {\n\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\",\n            col_type: 'flex_button'\n        })\n    }\n    d.push({ col_type: 'blank_block' });\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘正逆序：’’',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf==' - 逆序'){putVar({key:'shsort', value:' - 正序'});}else{putVar({key:'shsort', value:' - 逆序'})};refreshPage(false);'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'flex_button'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == ' - 逆序') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            d.push({\n                title: parseDomForHtml(list[j], 'Text'),\n                url: parseDom(list[j], 'a&&href')+ lazy,\n                col_type: 'flex_button'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            d.push({\n                title: parseDomForHtml(list[j], 'a&&Text'),\n                url: parseDom(list[j], 'a&&href')+ lazy,\n                col_type: 'flex_button'\n            });\n        }\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\n\nd.push({ title: '<br>', col_type: 'rich_text' });\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/8.png"},{"last_chapter_rule":".info-box&&ul&&li&&Text","pageList":[],"title":"美剧天堂","author":"永远の明日","version":6,"url":"https://www.meijutt.tv/fypage_fyclass__.js:input+encodeStr('fyarea_fyyear___fysort.html','GB2312');GET;GB2312","col_type":"movie_3_marquee","class_name":"剧情:&魔幻/科幻&灵异/惊悚&都市/情感&犯罪/历史&选秀/综艺&动漫/卡通","class_url":"&1&2&3&4&5&6","area_name":"地区:&美国&英国&加拿大&澳大利亚&西班牙&法国&德国&巴西&意大利&墨西哥&俄罗斯&土耳其&其它","area_url":"&美国&英国&加拿大&澳大利亚&西班牙&法国&德国&巴西&意大利&墨西哥&俄罗斯&土耳其&其它","sort_name":"最新更新&评分排行&总排行&月排行&周排行&首字母&推荐等级&顶排行","year_name":"状态:&连载中&本季终&全剧完结&预告","sort_url":"time&score&hit&monthhit&weekhit&letter&commend&digg","year_url":"&连载中&本季终&全剧完结&预告","find_rule":".list3_cn_box&&.cn_box2;li,0&&Text;img&&src;li,1&&Text;a&&href.js:input+'#immersiveTheme#'","searchFind":"js:\r\nsetResult(parseDomForArray(getResCode(), '.list3_cn_box&&.cn_box2').map((v) => {\r\n  let info = parseDomForArray(v, 'ul&&li')\r\n  return {\r\n    title: parseDomForHtml(info[0], 'Text'),\r\n    desc: parseDomForHtml(info[6], 'Text').slice(4) + ' • ' + parseDomForHtml(v, 'em&&Text') + '分',\r\n    content: parseDomForHtml(info[1], 'Text') + '\\n' + parseDomForHtml(info[5], 'Text'),\r\n    url: parseDom(v, 'a&&href') + '#immersiveTheme#',\r\n    img: parseDom(v, 'img&&src'),\r\n  }\r\n}))","search_url":"https://www.meijutt.tv/search/index.asp?searchword=**;GET;GB2312","titleColor":"#13b66a","group":"②影视","detail_col_type":"text_3","detail_find_rule":"js:\nlet d = [{ desc: \"0\", col_type: \"x5_webview_single\" }],\n  html = getResCode(), tabMode = getVar('meijutt-tabMode', '0')\n\n//简介\nlet title = parseDomForArray(html, '.info-box&&ul&&li')\n  .map((v) => parseDomForHtml(v, 'li&&Text'))\n  .filter((v, i) => i == 0 || v.indexOf('首播') == 0).join('\\n'),\n  desc = parseDomForHtml(html, '.des_box&&Text'),\n  img = parseDom(html, '.info-box&&img&&src')\n//选集\nlet tabs = [[], [], []]\nArray.prototype.concat.apply([],\n  parseDomForArray(html, '.o_cn_r_box&&.from-tabs')\n  .map((v) => parseDomForArray(v, 'div&&label'))\n).forEach((v, i) => {\n  let tabClass = /class=\"(.*?)[ \"]/.exec(v)[1]\n  if (/downcili-ico|down-ico/.exec(tabClass)) tabs[0][i] = parseDomForHtml(v, 'Text')\n  else if (/playIco_yunbo/.exec(tabClass)) tabs[1][i] = parseDomForHtml(v, 'Text')\n  else if (/playIco_(dupan|xunlei)/.exec(tabClass)) tabs[2][i] = parseDomForHtml(v, 'Text')\n})\n//列表\nlet lists = parseDomForArray(html, '.o_cn_r_box&&div>ul')\nlog(lists)\n\nd.push({\n  title: title,\n  desc: desc,\n  url: MY_URL,\n  img: img,\n  col_type: 'movie_1_vertical_pic_blur'\n}, {\n  title: ['✅', '', ''][tabMode] + ' 磁链[' + Object.keys(tabs[0]).length + ']',\n  url: $('#noHistory#').lazyRule(() => (putVar('meijutt-tabMode', '0'), refreshPage(), 'toast://已切换')),\n}, {\n  title: ['', '✅', ''][tabMode] + ' 云播[' + Object.keys(tabs[1]).length + ']',\n  url: $('#noHistory#').lazyRule(() => (putVar('meijutt-tabMode', '1'), refreshPage(), 'toast://已切换')),\n}, {\n  title: ['', '', '✅'][tabMode] + ' 云盘[' + Object.keys(tabs[2]).length + ']',\n  url: $('#noHistory#').lazyRule(() => (putVar('meijutt-tabMode', '2'), refreshPage(), 'toast://已切换')),\n})\n\ntabs[tabMode].forEach((v, i, self) => {\n  let list = parseDomForArray(lists[i], 'ul&&li')\n  i = Object.keys(self).indexOf(i.toString())\n  if (list.length) {\n    d.push({ col_type: 'line_blank' }, {\n      title: '““””<b><span style=\"color:#13b66a\">' + v + '</span></b>',\n      url: 'hiker://empty',\n      col_type: 'text_center_1'\n    })\n    list.forEach((vv, ii) => {\n      let url = parseDom(vv, 'a&&href'),\n        title = parseDomForHtml(vv, 'a&&Text'),\n        item = [{\n          title: title,\n          url: url + '#ignoreVideo=true#',\n          col_type: 'text_' + [title.length > 5 ? 1 : 3, 4, 2][tabMode]\n        }]\n      if (tabMode == 1) {\n        item[0].url = $(url).lazyRule((i, ii) => {\n          eval(fetch(parseDom(fetch(input), '.ptitle&&script&&src')).split(',urlinfo=')[0])\n          return VideoListJson[i][1][ii][1].replace(/\\.[0-9](.*?)$/, '.$1')\n        }, i, ii)\n      } else if (tabMode == 2) {\n\t\tlog(vv)\n        let word = parseDomForHtml(vv, 'span&&Text').slice(3)\n        item[0].title = parseDomForHtml(vv, 'strong&&Text') + '  提取码: ' + word\n        item[0].url = $('').x5Rule((url, word) => {\n          let text = document.createElement('textarea')\n          document.body.appendChild(text)\n          text.value = word\n          text.select()\n          document.execCommand('Copy')\n          document.body.removeChild(text)\n          window.location.href = url\n          alert('提取码已复制，自行粘贴至输入框')\n        }, url, word)\n        item.push({\n          title: '复制盘口令',\n          url: 'copy://' + url + ' 提取码: ' + word,\n          col_type: 'text_3'\n        })\n      }\n      Array.prototype.push.apply(d, item)\n    })\n  }\n})\nsetResult(d)","sdetail_col_type":"text_1","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[]"},{"last_chapter_rule":"","pageList":[],"title":"畅视","author":"⁽⁽ଘ繁星点缀ଓ⁾⁾","version":0,"url":"http://app.reboju.net/api.php/app/video?pg=fypage&tid=fyclass&class=&area=fyarea&lang=&year=fyyear&token=","col_type":"movie_3","class_name":"新番动漫&国产动漫&欧美动漫&日本动漫&目录","class_url":"21&23&26&27&4","area_name":"全部&大陆&美国&香港&韩国&英国&台湾&日本&法国&意大利&德国&西班牙&泰国&其它","area_url":"&大陆&美国&香港&韩国&英国&台湾&日本&法国&意大利&德国&西班牙&泰国&其它","sort_name":"","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","sort_url":"","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","find_rule":"js:\nvar html=getResCode();\nvar json=JSON.parse(html);\nvar res={};\nvar d=[];\nfor(var i=0;i<json.list.length;i++){\nvar j = json.list[i];\nvar r = {};\nr.title = j.vod_name;\nr.pic_url=j.vod_pic+'@Referer=';\nr.desc=j.vod_remarks;\nr.url='http://app.reboju.net/api.php/app/video_detail?id='+j.vod_id+'&token='+\"#immersiveTheme#\";\nd.push(r);\n}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\nvar html=getResCode();\nvar json=JSON.parse(html);\nvar res={};\nvar d=[];\nfor(var i=0;i<json.list.length;i++){\nvar j = json.list[i];\nvar r = {};\nr.title = j.vod_name;\nr.pic_url=j.vod_pic;\nr.desc=j.vod_remarks;\nr.url='http://app.reboju.net/api.php/app/video_detail?id='+j.vod_id+'&token='+\"#immersiveTheme#\";\nd.push(r);\n}\nres.data = d;\nsetHomeResult(res);","search_url":"http://app.reboju.net/api.php/app/search?pg=fypage&text=**&token=","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = JSON.parse(getResCode());\n\nvar jsUrl = fetch('hiker://files/cache/MyParseSet.json',{});\nif(jsUrl == '' || !fetch(JSON.parse(jsUrl).cj)){var jsFile = fetch('https://code.aliyun.com/AI957/Hiker/raw/master/rules/CloudParse-V2_Dn.js');}else{var jsFile = fetch(JSON.parse(jsUrl).cj);}eval(jsFile);\n\n//标题图片简介\nd.push({\n            title:html.data.vod_name,\n            pic_url:html.data.vod_pic,\n            desc:html.data.vod_blurb,\n            content:html.vod_time_add,\n            url:setUrl,\n            col_type:'movie_1_vertical_pic_blur'\n        });\n\n//线路与选集代码开始\nvar tabs = html.data.vod_url_with_player;\nvar title = 'bd' + html.data.vod_name;\n\n//分割线\nd.push({\n    col_type: 'line_blank'\n})\n//处理线路显示\nfor (var i = 0; i < tabs.length; i++) {\n    d.push({\n        title: getVar(title, '0') == i ? '““'+tabs[i].name + '””' : tabs[i].name,\n        url: `hiker://empty@lazyRule=.js:putVar('` + title + \"', '\" + i + `');refreshPage();'toast://切换成功！'`,\n        col_type: 'scroll_button'\n    });\n}\n\n//开始处理选集显示\nvar list = tabs[getVar(title, '0')].url.split('#');\nfor (var j = 0; j < list.length; j++) {\n    d.push({\n        title: list[j].split('$')[0],\n        url: list[j].split('$')[1]+ `@lazyRule=.js:if(/.html|bilibili.com/.test(input)){`+lazy+`}else if(input.match(/share/)){input.split(\"\\/share\")[0]+fetch(input,{}).split(\\'main = \"\\')[1].split(\\'\"\\')[0]}else{input}`,\n            col_type: list.length > 2 ? 'text_3' : 'text_2'\n    });\n}\n\n//二级tab线路模板by香雅情\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"js:\nvar html = getResCode();\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.content_playlist')[0];\n//选集列表的定位\nvar list=parseDomForArray(conts, 'body&&li');\nvar title=parseDomForHtml(list[list.length-1],'a&&Text');\nsetResult(\"更新至：\"+title);","pageList":[],"title":"糖果影视 Ⓕ","author":"随风","version":6,"url":"https://www.tgys.tv/vodshow/fyclass-fyarea--fysort-----fypage---fyyear.html.js:input.replace('-time', 'time-').replace('-hits', 'hits-').replace('-score', 'score-').replace('-up', 'up-')","col_type":"movie_3","class_name":"电影&连续剧&动漫&综艺&动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&国产剧&港台剧&日韩剧&欧美剧","class_url":"1&2&4&3&6&7&8&9&10&11&12&13&14&15&16","area_name":"地区&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","sort_name":"排序&最新&最热&评分&更新&纪录&喜剧&古装&动作&爱情&科幻&动画&悬疑&惊悚&恐怖&灾难&历史&传记","year_name":"年代&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&更早","sort_url":"&time&hits&score&up&纪录&喜剧&古装&动作&爱情&科幻&动画&悬疑&惊悚&恐怖&灾难&历史&传记","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&更早","find_rule":"js:\nvar d = [];\nvar list = parseDomForArray(getResCode(), '.vodlist&&li');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),\r\n       desc: parseDomForHtml(list[j], '.pic_text&&Text'),\r\n       img: parseDom(list[j], '.lazyload&&data-original'),\r\n       url: parseDom(list[j], 'a&&href')\r+\"#immersiveTheme#\"\n  });\r\n}\r\nsetResult(d);","searchFind":"js:\r\nvar d = [];\nvar list = parseDomForArray(getResCode(), '.vodlist&&li');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),\r\n       desc: parseDomForHtml(list[j], '.pic_text&&Text'),\r\n       img: parseDom(list[j], '.lazyload&&data-original'),\r\n       content: parseDomForHtml(list[j], '.searchlist_titbox&&p,0&&Text'),\n       url: parseDom(list[j], 'a&&href')\r+\"#immersiveTheme#\"\n  });\r\n}\r\nsetResult(d);","search_url":"https://www.tgys.tv/vodsearch/**----------fypage---.html","titleColor":"#ff13b66a","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n//免嗅\nvar lazy = $(\"\").lazyRule(() => {\n    eval(parseDomForHtml(fetch(input, {\n        headers: {\n            'User-Agent': MOBILE_UA\n        }\n    }), '.player_video&&script&&Html'));\n    var url = decodeURIComponent(player_aaaa.url);\n if (player_aaaa.from.search(/renrenmi/)>-1){var video = request('https://rr.4kbuka.com/analysis.php?v='+url).match(/htt.*?m3u8/)[0];\n} else\n    if (player_aaaa.from.search(/HY4K1/)>-1) {\n       var video = url\n    } else \n    if (player_aaaa.from.search(/duoduozy/)>-1) {var ddz= 'https://player.duoduozy.com/ddplay/?url='+url;\neval(parseDomForHtml(request(ddz, {header: {\"Referer\": input}}), \"body&&Html\").match(/var urls.*?;/)[0]);\n         video = urls;} else {\neval(fetch('https://www.tgys.tv/static/js/playerconfig.js'));\n        var jx = MacPlayerConfig.player_list[player_aaaa.from].parse;\n        if (jx == '') {\n            jx = MacPlayerConfig.parse\n        };\n        var play = jx + url;\nshowLoading(\"\\u5df2\\u5f00\\u542f\\u5f3a\\u529b\\u55c5\\u63a2\\uff0c\\u8bf7\\u7a0d\\u5019\");\n         var video = 'x5Rule://' + play + '@' + $.toString(() => {\n            var urls = _getUrls()\n            for (var i in urls) { \n                if (urls[i].match(/\\_mp4|\\.mp4|\\.m3u8/)) {\n                    fy_bridge_app.log(urls[i])\n                    return urls[i]+';{User-Agent@Mozilla/5.0 (Windows NT 10.0)}';} else if (urls[i].match(/\\.flv/)) {\n                    fy_bridge_app.log(urls[i])\n                    return urls[i]+';{Referer@https://www.bilibili.com/&&User-Agent@Mozilla/5.0}';}\n            }\n        })\n    }\n    return video\n});\n\n//线路\nvar arts = parseDomForArray(html, 'body&&#bofy&&.content&&section');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'h2&&Text'))\n}\n\n//选集\nvar conts = parseDomForArray(html, 'body&&.content_playlist');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\nd.push({\n    //定位标题\n    title: '分类：'+parseDomForHtml(html, '.content_min&&li,0&&Text').substring(0, 15) + '\\n' + parseDomForHtml(html, '.content_min&&li,2&&Text').substring(0, 15) + '\\n' + parseDomForHtml(html, '.content_min&&li,3&&Text').replace('年代', '类型').substring(0, 20) + parseDomForHtml(html, '.content_min&&Text').substring(3, 20) + parseDomForHtml(html, '.content_min&&Text').substring(3, 20),\n    //定位描述\n    desc: parseDomForHtml(html, '.content_min&&li,4&&Text'),\n    //定位图片\n    pic_url: parseDom(html, '.content_thumb&&.lazyload&&data-original'),\n    url: parseDom(html, '.content_thumb&&.lazyload&&data-original'),\n    col_type: 'movie_1_vertical_pic_blur'\n});\n\n//分割线\nvar title = parseDomForHtml(html, 'h2&&Text');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '香情',\n    url: 'hiker://search?s=' + title + '&rule=香情影视',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dz',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=优1080P',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2019/09/16/7/110_9bcb18fc9a2cec98bd037bf37bb06164_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\n\nd.push({\n    col_type: 'line_blank'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\n\nfunction setTabs(tabs, vari) {\n        d.push({\n         title: '‘‘线路 :’’',\n            col_type: 'scroll_button',}) \n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]+'↓') : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\n\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#0aa344\">排序</font></small>'+'<small><font color=\"#0aa344\">↓</font></small>'+'<small><font color=\"#ff4c00\">↑</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\">排序</font></small>'+'<small><font color=\"#ff4c00\">↓</font></small>'+'<small><font color=\"#0aa344\">↑</font></small>';}\n\nfunction setLists(lists, index) {\n    d.push({\n        title:  '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url: parseDom(list[j], 'a&&href') + lazy,\n                    col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集页面！',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url: parseDom(list[j], 'a&&href') + lazy,\n                    col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集页面！',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据均来源于网络，如您喜欢，请支持正版！</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何团体或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://img1.baidu.com/it/u=3326687858,4018017284&fm=253&fmt=auto&app=120&f=JPEG?w=192&h=192"},{"last_chapter_rule":"","pageList":[],"title":"星月追剧 Ⓕ","author":"随风","version":4,"url":"http://xingyuezhuiju.com/index.php/vod/show/fyarea/fysort/id/fyclass/fyyear/page/fypage.html","col_type":"movie_3","class_name":"电影&连续剧&动漫&综艺&动画&bilibili&片库","class_url":"1&2&4&3&30&32&35","area_name":"地区&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&area/大陆&area/香港&area/台湾&area/美国&area/法国&area/英国&area/日本&area/韩国&area/德国&area/泰国&area/印度&area/意大利&area/西班牙&area/加拿大&area/其他","sort_name":"排序&最新&最热&评分","year_name":"字母&A&B&C&D&E&F&G&H&I&J&K&L&M&N&O&P&Q&R&S&T&U&V&W&X&Y&Z&0-9","sort_url":"&by/time&by/hits&by/score","year_url":"&letter/A&letter/B&letter/C&letter/D&letter/E&letter/F&letter/G&letter/H&letter/I&letter/J&letter/K&letter/L&letter/M&letter/N&letter/O&letter/P&letter/Q&letter/R&letter/S&letter/T&letter/U&letter/V&letter/W&letter/X&letter/Y&letter/Z&letter/0-9","find_rule":"js:\nvar d = [];\nvar list = parseDomForArray(getResCode(), 'body&&.module-item');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),\r\n       desc: parseDomForHtml(list[j], '.module-item-text&&Text'),\r\n       img: parseDom(list[j], '.lazy&&data-src')+\"@Referer=\",\n       url: parseDom(list[j], 'a&&href')\r+\"#immersiveTheme#\"\n  });\r\n}\r\nsetResult(d);","searchFind":"js:\r\nvar d = [];\nvar list = parseDomForArray(getResCode(), 'body&&.module-search-item');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], '.lazy&&alt'),\r\n       desc: parseDomForHtml(list[j], '.video-serial&&Text'),\r\n       img: parseDom(list[j], '.lazy&&data-src')+\"@Referer=\",\r\n       content: parseDomForHtml(list[j], '.video-info-main&&div,3&&Text').replace(/\\//g,'').replace('：',':'),\n       url: parseDom(list[j], 'a&&href').replace('play','detail').replace('/sid/1/nid/1.html','.html')\r\r+\"#immersiveTheme#\"\n  });\r\n}\r\nsetResult(d);","search_url":"http://xingyuezhuiju.com/index.php/vod/search/page/fypage/wd/**.html","titleColor":"#ff13b66a","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n//免嗅\nvar lazy = $(\"\").lazyRule(() => {\n    eval(parseDomForHtml(fetch(input, {\n        headers: {\n            'User-Agent': MOBILE_UA\n        }\n    }), '.player-wrapper&&script&&Html'));\n    var url = decodeURIComponent(base64Decode(player_data.url));\n    if (player_data.from.search(/rx/)>-1){var video = request('https://nnys9.com/?url=' + url).match(/url\":\"(http.*?)\"/)[1];\n} else\n if (url.search(/m3u8|mp4/)>-1){var video = url\n} else {\neval(fetch('http://xingyuezhuiju.com/static/js/playerconfig.js'));\n        var jx = MacPlayerConfig.player_list[player_data.from].parse;\n        if (jx == '') {\n            jx = MacPlayerConfig.parse\n        };\n        var play = jx + url\nshowLoading(\"\\u5df2\\u5f00\\u542f\\u5f3a\\u529b\\u55c5\\u63a2\\uff0c\\u8bf7\\u7a0d\\u5019\");\n        var video = 'x5Rule://' + play + '@' + $.toString(() => {\n         var urls = _getUrls()\n         for (var i in urls) { \n         if (urls[i].match(/mgtv/)) {\n                    fy_bridge_app.log(urls[i])\n                    return urls[i]+';{User-Agent@Mozilla/5.0 (Windows NT 10.0)}';} else \n         if (urls[i].match(/\\.flv/)) {\n                    fy_bridge_app.log(urls[i])\n                    return urls[i]+';{Referer@https://www.bilibili.com/&&User-Agent@Mozilla/5.0}';} else                          if (urls[i].match(/\\_mp4|\\.mp4|\\.m3u8/)) {\n                    fy_bridge_app.log(urls[i])\n                    return urls[i] }\n            }\n        })\n    }  \n    return video\n});\n\n//线路列表名称\nvar arts = parseDomForArray(html,'body&&.tab-item');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'span&&Text'))\n}\n\n//选集列表\nvar conts = parseDomForArray(html, 'body&&.scroll-content');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\n//地区年份分类主演导演图片\nd.push({\n\ttitle: parseDomForHtml(html, '.tag-link&&Text').replace(/\\//g,'')+ '\\n' + parseDomForHtml(html,'.video-info-actor,1&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15)+'\\n'+parseDomForHtml(html, '.video-info-actor,0&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15),\tdesc: parseDomForHtml(html,'.zkjj_a&&Text').replace('[收起部分]','').replace('　',''),\n\tpic_url: parseDom(html, '.lazyload&&data-src'),\n\turl: parseDom(html, '.lazyload&&data-src'),\n\ncol_type: 'movie_1_vertical_pic_blur',\n     extra: {\n        gradient: true\n    }\n});\n\n//线路切换\nfunction setTabs(tabs, vari) {\n     d.push({\n         title: '‘‘线路:’’',\n         url: 'toast://选择线路',\n            col_type: 'scroll_button',}) \n  for (var i = 0; i < tabs.length; i++) {\n    d.push({\n        title: getVar(vari, '0') == i ? '““' + tabs[i] + '↓' + '””' : tabs[i],\n        url: `hiker://empty@lazyRule=.js:putVar('` + vari + \"', '\" + i + `');refreshPage();'toast://切换线路';'#noHistory#hiker://empty'`,\n\t\t      col_type: 'scroll_button',\n        })\n    }\n    \n\n//正反序         \n    d.push({        col_type: 'line_blank'    })}\n\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';}\n    function setLists(lists, index) {\n        d.push({\n           // title: '‘‘选集’’',\n            title: '‘‘选集’’' +''+ sx,\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n\nif(lists.length != '')  {\n        var list = lists[index];\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: parseDom(list[j], 'a&&href') + lazy,extra: {id:parseDom(list[j],'a&&href'),blockRules: ['.m4a', '.mp3','.mp4','.m3u8','.flv','.avi','.3gp','.mpeg','.wmv','.mov','.rmvb','.gif','.jpg','.jpeg','.png','.ico','.svg']},\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: parseDom(list[j], 'a&&href') + lazy,extra: {id:parseDom(list[j],'a&&href'),blockRules: ['.m4a', '.mp3','.mp4','.m3u8','.flv','.avi','.3gp','.mpeg','.wmv','.mov','.rmvb','.gif','.jpg','.jpeg','.png','.ico','.svg']},\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        }\n        \n        }\n      d.push({title:'<br>',col_type:'rich_text' });      \n    }\n\n// 调用函数\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\n\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://img0.baidu.com/it/u=3809926162,2470520553&fm=26&fmt=auto"},{"last_chapter_rule":"","pageList":[],"title":"影视工厂 Ⓕ","author":"随风","version":0,"url":"https://www.ysgc.cc/vodshow/fyclass--fysort---fyyear---fypage---fyarea.html","col_type":"movie_3","class_name":"电影&动漫&综艺&国产剧&港台剧&日韩剧&欧美剧&番剧&国创&动作片&喜剧片&爱情片&科幻片&恐怖片&悬疑片&剧情片&战争片&纪录片&动画片&海外剧","class_url":"1&4&3&13&14&15&16&26&27&6&7&8&9&10&28&11&12&24&25&20","area_name":"年份&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010","area_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010","sort_name":"排序&时间&人气&评分","year_name":"字母&A&B&C&D&E&F&G&H&I&J&K&L&M&N&O&P&Q&R&S&T&U&V&W&X&Y&Z&0-9","sort_url":"&time&hits&score","year_url":"&A&B&C&D&E&F&G&H&I&J&K&L&M&N&O&P&Q&R&S&T&U&V&W&X&Y&Z&0-9","find_rule":"js:var res = {};var d = [];\nvar list = parseDomForArray(getResCode(), 'body&&.myui-vodlist&&li');\nfor(var i in list){\ntry{\nd.push({\ntitle:parseDomForHtml(list[i],'a&&title'),\ndesc:parseDomForHtml(list[i],'.pic-text&&Text'),\npic_url:parseDom(list[i],'.lazyload&&data-original')+\"@Referer=\",\nurl:parseDom(list[i],'a&&href')+\"#immersiveTheme#\",\ncol_type: 'movie_3'});\n  }catch(e){}\n}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:var d=[];\n\nvar list=JSON.parse(getResCode()).list;\n\nfor(var i in list){\nd.push({\ntitle:list[i].name,\ndesc:list[i].name,\npic_url:list[i].pic.indexOf('http') != -1 ? list[i].pic : 'https://www.ysgc.cc' + list[i].pic,\nurl:'https://www.ysgc.cc/voddetail/'+list[i].id+'/'+'#immersiveTheme#',\ncontent:list[i].name+'\\n'+list[i].en,                                                col_type:'movie_3'\n});\n}\n\nsetResult(d);","search_url":"https://www.ysgc.cc/index.php/ajax/suggest?mid=1&wd=**&limit=500;get;utf-8;{User-Agent@Mobile}","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n//免嗅\nvar lazy = $(\"\").lazyRule(() => {\n    eval(parseDomForHtml(fetch(input, {\n        headers: {\n            'User-Agent': MOBILE_UA\n        }\n    }), '.embed-responsive&&script&&Html'));\n    var url = decodeURIComponent(base64Decode(player_aaaa.url));    \n    if (player_aaaa.from.search(/duoduozy/)>-1) {var duo= 'https://player.duoduozy.com/ddplay/?url='+url;\neval(parseDomForHtml(request(duo, {header: {\"Referer\": input}}), \"body&&Html\").match(/var urls.*?;/)[0]);\n         video = urls} else\n    if (url.search(/mp4|obj|m3u8/)>-1) {\n        var video = url\n    } else {\neval(fetch('https://www.ysgc.cc/static/js/playerconfig.js'));\n        var jx = MacPlayerConfig.player_list[player_aaaa.from].parse;\n        if (jx == '') {\n            jx = MacPlayerConfig.parse\n        };\n        var play = jx + url\n        showLoading(\"\\u5df2\\u5f00\\u542f\\u5f3a\\u529b\\u55c5\\u63a2\\uff0c\\u8bf7\\u7a0d\\u5019\");\n        var video = 'x5Rule://' + play + '@' + $.toString(() => {\n            var urls = _getUrls()\n            for (var i in urls) { \n                if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n                    fy_bridge_app.log(urls[i])\n                    return urls[i]+';{User-Agent@Mozilla/5.0 (Windows NT 10.0)}';} else if (urls[i].match(/\\.flv/)) {\n                    fy_bridge_app.log(urls[i])\n                    return urls[i]+';{Referer@https://www.bilibili.com/&&User-Agent@Mozilla/5.0}';}\n            }\n        })\n    }\n    return video\n});\n\n//线路\nvar arts = parseDomForArray(html, '.nav-tabs&&li');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text').replace(' ', ''))\n}\n\n//选集\nvar conts = parseDomForArray(html, 'body&&.myui-content__list');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&li'))\n}\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    //定位标题\n    title: parseDomForHtml(html, '.myui-content__detail&&p,1&&Text').substring(0, 15) + '\\n' + parseDomForHtml(html, '.myui-content__detail&&p,3&&Text').substring(0, 15) + '\\n' + parseDomForHtml(html, '.myui-content__detail&&p,4&&Text').replace('年代', '类型').substring(0, 20) + parseDomForHtml(html, '.myui-content__detail&&p&&Text').substring(3, 20) + parseDomForHtml(html, '.myui-content__detail&&p&&Text').substring(3, 20),\n    //定位描述\n    desc: parseDomForHtml(html, '.myui-content__detail&&p,2&&Text'),\n    //定位图片\n    pic_url: parseDom(html, '.lazyload&&data-original'),\n    url: parseDom(html, '.lazyload&&data-original'),\n    col_type: 'movie_1_vertical_pic_blur',\n    extra: {\n        gradient: true\n    }\n});\n   var desc = parseDomForHtml(html, '.col-pd&&span,1&&Text').replace('……','。').replace('　','').replace('展开','').replace('收起','').replace('详情：','');\nd.push({\n        title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + desc.substr(0, 50) + '...</font><small><font color=\"red\">查看详情</font></small></small>',\n       url: 'hiker://empty#'+ '\\n'  + desc + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n          col_type: 'text_1'\n});\n    \nfor (let i = 0; i < line_model; i++){\n\n        d.push({\n            col_type: line_type_model\n        })\n  }\t \n\nfunction setTabs(tabs, vari) {\n        d.push({\n         title: '‘‘线路 :’’',\n         url:'选择线路',\n            col_type: 'scroll_button',}) \n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]+'↓') : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n}\n\n\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#0aa344\">排序</font></small>'+'<small><font color=\"#0aa344\">↓</font></small>'+'<small><font color=\"#ff4c00\">↑</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\">排序</font></small>'+'<small><font color=\"#ff4c00\">↓</font></small>'+'<small><font color=\"#0aa344\">↑</font></small>';}\n\nfunction setLists(lists, index) {\n    d.push({\n        title:  '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url: parseDom(list[j], 'a&&href') + lazy,\n                    col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集页面！',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url: parseDom(list[j], 'a&&href') + lazy,\n                    col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集页面！',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据均来源于网络，如您喜欢，请支持正版！</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何团体或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://app.ysgc.xyz/skin/static/image/logo.png?v=2020070302"},{"last_chapter_rule":"","pageList":[],"title":"高分电影 Ⓕ","author":"随风","version":0,"url":"https://www.gaofen1.com/s.php?key=fyclass_fyarea_fyyear_fysort&p=fypage","col_type":"movie_3","class_name":"电影&连续剧&动漫&综艺","class_url":"1&2&3&4","area_name":"分类&剧情&喜剧&爱情&动作&犯罪&惊悚&悬疑&动画&科幻&恐怖&家庭&奇幻&青春&冒险&搞笑&战争&古装&历史&真人秀","area_url":"&剧情&喜剧&爱情&动作&犯罪&惊悚&悬疑&动画&科幻&恐怖&家庭&奇幻&青春&冒险&搞笑&战争&古装&历史&真人秀","sort_name":"年代&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&00年&90年&80年&70年&其他","year_name":"地区&大陆&美国&日本&香港&韩国&英国&法国&台湾&泰国&加拿大&德国&印度&西班牙&俄罗斯&意大利&其他","sort_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&00年&90年&80年&70年&其他","year_url":"&大陆&美国&日本&香港&韩国&英国&法国&台湾&泰国&加拿大&德国&印度&西班牙&俄罗斯&意大利&其他","find_rule":"js:\nvar d = [];\nvar list = parseDomForArray(getResCode(), '#url&&li');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&Text'),\r\n       desc: parseDomForHtml(list[j], 'i&&Text'),\r\n       img: 'https:'+base64Decode(parseDomForHtml(list[j], 'li&&p')),\r\n       url: parseDom(list[j], 'a&&href')\r+\"#immersiveTheme#\"\n  });\r\n}\n\n\r\nsetResult(d);","searchFind":"js:\r\nvar d = [];\nvar list = parseDomForArray(getResCode(), '.myui-vodlist__media&&li');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),\r\n       desc: parseDomForHtml(list[j], '.pic-text&&Text'),\r\n       img: parseDom(list[j], 'a&&data-original'),\r\n       content: parseDomForHtml(list[j], '.detail&&p,3&&Text'),\n       url: parseDom(list[j], 'a&&href')\r+\"#immersiveTheme#\"\n  });\r\n}\r\nsetResult(d);","search_url":"https://www.laodiys.com/vodsearch/**----------fypage---.html","titleColor":"#ff13b66a","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n//嗅探\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i]\n        }\n    }\n});\n\n//线路列表名称\nvar arts = parseDomForArray(html,'.playlist&&li');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text'))\n}\n\n//选集列表\nvar conts = parseDomForArray(html, 'body&&.linkbox&&div');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\n//地区年份分类主演导演图片\nd.push({\n\ttitle: parseDomForHtml(html, '.infodetail&&p,2&&Text').replace(/\\//g,'')+ '\\n' + parseDomForHtml(html,'.infodetail&&p,1&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15)+'\\n'+parseDomForHtml(html, '.infodetail&&p&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15),\tdesc: parseDomForHtml(html,'.jianjie&&Text').replace('[收起部分]','').replace('　',''),\n\tpic_url: 'https:'+base64Decode(parseDomForHtml(html, '.t-img&&img&&p')),\n\turl: 'https:'+base64Decode(parseDomForHtml(html, '.t-img&&img&&p')),\n\ncol_type: 'movie_1_vertical_pic_blur'\n});\n\n//线路切换\nfunction setTabs(tabs, vari) {\n     d.push({\n         title: '‘‘线路:’’',\n            col_type: 'scroll_button',}) \n  for (var i = 0; i < tabs.length; i++) {\n    d.push({\n        title: getVar(vari, '0') == i ? '““' + tabs[i] + '↓' + '””' : tabs[i],\n        url: `hiker://empty@lazyRule=.js:putVar('` + vari + \"', '\" + i + `');refreshPage();'toast://切换线路';'#noHistory#hiker://empty'`,\n\t\t      col_type: 'scroll_button',\n        })\n    }\n    \n\n//正反序         \n    d.push({        col_type: 'line_blank'    })}\n\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';}\n    function setLists(lists, index) {\n        d.push({\n           // title: '‘‘选集’’',\n            title: '‘‘选集’’' +''+ sx,\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n\nif(lists.length != '')  {\n        var list = lists[index];\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        }\n        \n        }\n      d.push({title:'<br>',col_type:'rich_text' });      \n    }\n\n// 调用函数\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\n\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"京广航影视app","author":"随风","version":0,"url":"https://www.jingguanghang.com/api.php/app/video?tid=fyclass&class=fyarea&area=fyyear&lang=&year=fysort&pg=fypage","col_type":"movie_3","class_name":"动漫&电影&连续剧&综艺","class_url":"4&1&2&3","area_name":"全部&喜剧&爱情&恐怖&动作&科幻&冒险&奇幻&犯罪&动画&惊悚&悬疑&微电影&警匪&战争&武侠&经典&古装&枪战&历史","area_url":"&喜剧&爱情&恐怖&动作&科幻&冒险&奇幻&犯罪&动画&惊悚&悬疑&微电影&警匪&战争&武侠&经典&古装&枪战&历史","sort_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000","year_name":"全部&大陆&香港&台湾&美国&英国&法国&日本&韩国&德国&泰国&印度&西班牙&加拿大&其它","sort_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000","year_url":"&大陆&香港&台湾&美国&英国&法国&日本&韩国&德国&泰国&印度&西班牙&加拿大&其它","find_rule":"js:var d=[];\n\nvar list=JSON.parse(getResCode()).list;\n\nfor(var i in list){\nd.push({\ntitle:list[i].vod_name,\ndesc:list[i].vod_remarks,\npic_url:list[i].vod_pic+\"@Referer=\",\nurl:'https://www.jingguanghang.com/api.php/app/video_detail?id='+list[i].vod_id+'#immersiveTheme#',\ncol_type:'movie_3'\n});\n}\n\nsetResult(d);","searchFind":"js:var d=[];\n\nvar list=JSON.parse(getResCode()).list;//列表\n\nfor(var i in list){\nd.push({\ntitle:list[i].vod_name,//标题\ndesc:list[i].vod_remarks,//描述\npic_url:list[i].vod_pic+\"@Referer=\",//图片\nurl:'https://www.jingguanghang.com/api.php/app/video_detail?id='+list[i].vod_id+'#immersiveTheme#',//链接\ncontent:list[i].vod_time_add,                                                col_type:'movie_3'\n});\n}\n\nsetResult(d);","search_url":"https://www.jingguanghang.com/api.php/app/search?pg=1&text=**","titleColor":"#ff13b66a","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = JSON.parse(getResCode());\n\n\n//标题图片简介\n      d.push({\n            title:'地区：'+html.data.vod_area+'    年代：'+html.data.vod_year+'\\n主演：'+html.data.vod_actor.substring(0, 10)+'\\n导演：'+html.data.vod_director.substring(0,10),\n          pic_url:html.data.vod_pic,\n          desc:'简介：'+html.data.vod_blurb,\n     col_type:'movie_1_vertical_pic_blur'\n        });\n\n\n//线路与选集代码开始\nvar tabs = html.data.vod_url_with_player;\nvar title = 'www' + html.data.vod_name;\n\n\n//处理线路显示\n     d.push({\n         title: '‘‘线路:’’',\n            col_type: 'scroll_button',}) \n     for (var i = 0; i < tabs.length; i++) {\n    d.push({\n        title: getVar(title, '0') == i ? '““' + tabs[i].name + '↓' + '””' : tabs[i].name,\n        url: `hiker://empty@lazyRule=.js:putVar('` + title + \"', '\" + i + `');refreshPage();'toast://切换线路';'#noHistory#hiker://empty'`,\n          col_type: 'scroll_button'\n                })\n            }\n            \n\n//分割线\n     d.push({\n    col_type: 'line_blank'\n})\nvar parse = /蓝光|腾讯视频|languang|qq/.test(tabs[getVar(title,'0')].name) ? tabs[getVar(title,'0')].parse_api : '';\n\n\n//开始处理选集显示\n      if (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';}\n      d.push({ // title: '‘‘选集’’',\n         title: '‘‘选集’’' +''+ sx,\n      url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n\n        var list = tabs[getVar(title, '0')].url.split('#');\n      if (getVar('shsort') == '1'){\n      for (var j = list.length - 1; j >= 0; j--) {\n      \n      if(list[j].search(/\\$/)>=0){jm =list[j].split('$')[0].replace(/第|集|话|期/g,'');} else {jm =list[j].match(/(.*?)http/)[1].replace(/第|集|话|期/g,'');}\n\n      if(list[j].search(/\\$/)>=0){dz =list[j].split('$')[1];} else {dz =list[j].match(/http.*/);}\n\n      d.push({\n         title: jm,           \n         url: url=$(parse + dz + '#noLoading#').lazyRule(() => {\n            furl = input;\n            if(furl.indexOf('url=') === -1) {\n                turl = furl\n            } else {\n                tstr = fetch(furl, {}); \n\nif(furl.indexOf('bilibili')>-1){turl=tstr.match(/[\\'\\\"]url[\\'\\\"]:.*?[\\'\\\"](.*?)[\\'\\\"]/)[1].replace(/\\\\/g,'')+';{Referer@https://www.bilibili.com/&&User-Agent@Mozilla/5.0}';}else if(furl.indexOf('gaotian')>-1){\nturl=tstr.match(/[\\'\\\"]url[\\'\\\"]:.*?[\\'\\\"](.*?)[\\'\\\"]/)[1].replace(/\\\\/g,'')+';{Referer@https://www.jingguanghang.com/&&User-Agent@Mozilla/5.0}';}\n   else if(furl.indexOf('mgtv')>-1){\nturl=tstr.match(/[\\'\\\"]url[\\'\\\"]:.*?[\\'\\\"](.*?)[\\'\\\"]/)[1].replace(/\\\\/g,'')+';{Referer@https://www.mgtv.com/&&User-Agent@Mozilla/5.0}';}else{turl=tstr.match(/[\\'\\\"]url[\\'\\\"]:.*?[\\'\\\"](.*?)[\\'\\\"]/)[1].replace(/\\\\/g,'')}\n                \n            };\n            return turl\n        }),\n            col_type: jm.length > 4 ? 'text_2' : 'text_4'\n    });\n  }\n} else {\n    for (var j = 0; j < list.length; j++) {\n\n\n//去除集数字样        \n        if(list[j].search(/\\$/)>=0){jm =list[j].split('$')[0].replace(/第|集|话|期/g,'');} else {jm =list[j].match(/(.*?)http/)[1].replace(/第|集|话|期/g,'');}\n\n        if(list[j].search(/\\$/)>=0){dz =list[j].split('$')[1];} else {dz =list[j].match(/http.*/);}\n        \n        d.push({\n        title: jm,\n        url: $(parse + dz\n+'#noLoading#').lazyRule(() => {\n            furl = input;\n            if(furl.indexOf('url=') === -1) {\n                turl = furl\n            } else {\n                tstr = fetch(furl, {}); \n\nif(furl.indexOf('bilibili')>-1){turl=tstr.match(/[\\'\\\"]url[\\'\\\"]:.*?[\\'\\\"](.*?)[\\'\\\"]/)[1].replace(/\\\\/g,'')+';{Referer@https://www.bilibili.com/&&User-Agent@Mozilla/5.0}';}else if(furl.indexOf('gaotian')>-1){\nturl=tstr.match(/[\\'\\\"]url[\\'\\\"]:.*?[\\'\\\"](.*?)[\\'\\\"]/)[1].replace(/\\\\/g,'')+';{Referer@https://www.jingguanghang.com/&&User-Agent@Mozilla/5.0}';}\n   else if(furl.indexOf('mgtv')>-1){\nturl=tstr.match(/[\\'\\\"]url[\\'\\\"]:.*?[\\'\\\"](.*?)[\\'\\\"]/)[1].replace(/\\\\/g,'')+';{Referer@https://www.mgtv.com/&&User-Agent@Mozilla/5.0}';}else{turl=tstr.match(/[\\'\\\"]url[\\'\\\"]:.*?[\\'\\\"](.*?)[\\'\\\"]/)[1].replace(/\\\\/g,'')}\n                \n            };\n            return turl\n        }),\n            col_type: jm.length > 4 ? 'text_2' : 'text_4'\n    });\n  }\n}\n\n//二级tab线路模板by香雅情\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"播放呀app","author":"随风","version":2,"url":"https://www.bofangya.com/api.php/app/video?tid=fyclass&class=fyarea&area=fyyear&lang=&year=fysort&pg=fypage;get;utf-8;{User-Agent@okhttp/4.1.0}","col_type":"movie_3","class_name":"电影&连续剧&综艺&动漫","class_url":"1&2&3&4","area_name":"全部&喜剧&爱情&恐怖&动作&科幻&冒险&奇幻&犯罪&动画&惊悚&悬疑&微电影&警匪&战争&武侠&经典&古装&枪战&历史","area_url":"&喜剧&爱情&恐怖&动作&科幻&冒险&奇幻&犯罪&动画&惊悚&悬疑&微电影&警匪&战争&武侠&经典&古装&枪战&历史","sort_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000","year_name":"全部&大陆&香港&台湾&美国&英国&法国&日本&韩国&德国&泰国&印度&西班牙&加拿大&其它","sort_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000","year_url":"&大陆&香港&台湾&美国&英国&法国&日本&韩国&德国&泰国&印度&西班牙&加拿大&其它","find_rule":"js:var d=[];\n\nvar list=JSON.parse(getResCode()).list;\n\nfor(var i in list){\nd.push({\ntitle:list[i].vod_name,\ndesc:list[i].vod_remarks,\npic_url:list[i].vod_pic+\"@Referer=\",\nurl:'https://www.bofangya.com/api.php/app/video_detail?id='+list[i].vod_id+'#immersiveTheme#',\ncol_type:'movie_3'\n});\n}\n\nsetResult(d);","searchFind":"js:var d=[];\n\nvar list=JSON.parse(getResCode()).list;//列表\n\nfor(var i in list){\nd.push({\ntitle:list[i].vod_name,//标题\ndesc:list[i].vod_remarks,//描述\npic_url:list[i].vod_pic+\"@Referer=\",//图片\nurl:'https://www.bofangya.com/api.php/app/video_detail?id='+list[i].vod_id+'#immersiveTheme#',//链接\ncontent:list[i].vod_blurb,                                                col_type:'movie_3'\n});\n}\n\nsetResult(d);","search_url":"https://www.bofangya.com/api.php/app/search?text=**&pg=1;get;utf-8;{User-Agent@okhttp/4.1.0}","titleColor":"#ff13b66a","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = JSON.parse(getResCode());\n\nd.push({\n\t\t\ttitle: '',\n    desc:'320&&float',\n    url:'',\n    col_type: 'x5_webview_single'\n});\n\n//标题图片简介\n      d.push({\n            title:'地区：'+html.data.vod_area+'    年代：'+html.data.vod_year+'\\n主演：'+html.data.vod_actor.substring(0, 10)+'\\n导演：'+html.data.vod_director.substring(0,10),\n          pic_url:html.data.vod_pic,\n          desc:'简介：'+html.data.vod_blurb,\n          url:html.data.vod_pic,\n     col_type:'movie_1_vertical_pic_blur'\n        });\n\n\n//线路与选集代码开始\nvar tabs = html.data.vod_url_with_player;\nvar title = 'www' + html.data.vod_name;\n\n\n//处理线路显示\n     d.push({\n         title: '‘‘线路:’’',\n            col_type: 'scroll_button',}) \n     for (var i = 0; i < tabs.length; i++) {\n    d.push({\n        title: getVar(title, '0') == i ? '““' + tabs[i].name + '↓' + '””' : tabs[i].name,\n        url: `hiker://empty@lazyRule=.js:putVar('` + title + \"', '\" + i + `');refreshPage();'toast://切换线路';'#noHistory#hiker://empty'`,\n          col_type: 'scroll_button'\n                })\n            }\n            \n\n//分割线\nvar parsew = /letv|qq|qiyi|mgtv|souhu|bilibili|youku|pptv/.test(tabs[getVar(title,'0')].code) ? tabs[getVar(title,'0')].parse_api : '';\n\n\n//开始处理选集显示\n      if (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';}\n      d.push({ // title: '‘‘选集’’',\n         title: '‘‘选集’’' +''+ sx,\n      url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n\n        var list = tabs[getVar(title, '0')].url.split('#');\n      if (getVar('shsort') == '1'){\n      for (var j = list.length - 1; j >= 0; j--) {\n      \n      if(list[j].search(/\\$/)>=0){jm =list[j].split('$')[0].replace(/第|集|话|期/g,'');} else {jm =list[j].match(/(.*?)http/)[1].replace(/第|集|话|期/g,'');}\n\n      if(list[j].search(/\\$/)>=0){dz =list[j].split('$')[1];} else {dz =list[j].match(/http.*/);}\n\n      d.push({\n         title: jm,           \n         url: $(parsew + dz + '#noLoading#').lazyRule(() => {\n            furl = input;\n            if(furl.indexOf('m3u8') > -1) {\n                turl = furl\n           }else {\n                tstr = fetch(furl, {}); if(furl.indexOf('bilibili')>-1){turl=tstr.match(/[\\'\\\"]url[\\'\\\"]:.*?[\\'\\\"](.*?)[\\'\\\"]/)[1].replace(/\\\\/g,'')+';{Referer@https://www.bilibili.com/&&User-Agent@Mozilla/5.0}';}else if(furl.indexOf('mgtv')>-1){\nturl=tstr.match(/[\\'\\\"]url[\\'\\\"]:.*?[\\'\\\"](.*?)[\\'\\\"]/)[1].replace(/\\\\/g,'')+';{Referer@https://www.mgtv.com/&&User-Agent@Mozilla/5.0}';}else{turl=tstr.match(/[\\'\\\"]url[\\'\\\"]:.*?[\\'\\\"](.*?)[\\'\\\"]/)[1].replace(/\\\\/g,'')}\n            };\n            return turl     }),\n            col_type: jm.length > 4 ? 'text_2' : 'text_4'\n    });\n  }\n} else {\n    for (var j = 0; j < list.length; j++) {\n\n\n//去除集数字样        \n        if(list[j].search(/\\$/)>=0){jm =list[j].split('$')[0].replace(/第|集|话|期/g,'');} else {jm =list[j].match(/(.*?)http/)[1].replace(/第|集|话|期/g,'');}\n\n        if(list[j].search(/\\$/)>=0){dz =list[j].split('$')[1];} else {dz =list[j].match(/http.*/);}\n        \n        d.push({\n        title: jm,\n        url: $(parsew + dz\n+'#noLoading#').lazyRule(() => {\n            furl = input;\n            if(furl.indexOf('m3u8') > -1) {\n                turl = furl\n           }else {\n                tstr = fetch(furl, {}); if(furl.indexOf('bilibili')>-1){turl=tstr.match(/[\\'\\\"]url[\\'\\\"]:.*?[\\'\\\"](.*?)[\\'\\\"]/)[1].replace(/\\\\/g,'')+';{Referer@https://www.bilibili.com/&&User-Agent@Mozilla/5.0}';}else if(furl.indexOf('mgtv')>-1){\nturl=tstr.match(/[\\'\\\"]url[\\'\\\"]:.*?[\\'\\\"](.*?)[\\'\\\"]/)[1].replace(/\\\\/g,'')+';{Referer@https://www.mgtv.com/&&User-Agent@Mozilla/5.0}';}else{turl=tstr.match(/[\\'\\\"]url[\\'\\\"]:.*?[\\'\\\"](.*?)[\\'\\\"]/)[1].replace(/\\\\/g,'')}\n            };\n            return turl }),\n            col_type: jm.length > 4 ? 'text_2' : 'text_4'\n    });\n  }\n}\n\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"真不卡ᴺᵐ","author":"Namo","version":0,"url":"https://www.zhenbuka3.com/vodshow/fyclass--fysort------fypage---/","col_type":"movie_3","class_name":"电影&剧集&综艺&动漫&无搜索","class_url":"1&2&3&4&无搜索","area_name":"","area_url":"","sort_name":"最新更新&最近热播","year_name":"","sort_url":"time&hits","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), 'body&&.stui-vodlist&&li');//列表\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\n       desc: parseDomForHtml(list[j], '')+' '+parseDomForHtml(list[j], '.pic-text&&Text'),//双重描述\n       pic_url: parseDom(list[j], 'a&&data-original'),//图片\n       url: parseDom(list[j],'a&&href')//链接\n  });\n}}catch(e){}\nres.data = d;\nsetHomeResult(res);","searchFind":"","search_url":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/http.*url=/,'').replace(/https.*url=/,'')\n        }\n    }\n});\n// 子\nvar des_desc = parseDom(getResCode(), 'body&&.detail-sketch&&Text').replace(/https.*/,'');\n// 丑\nvar des_pic = parseDom(getResCode(), 'body&&.lazyload&&data-original');\n// 寅\nvar tabs = parseDom(getResCode(), 'body&&Html').match(/\"stui-pannel__head bottom-line[\\s\\S]*?<\\/h3/g);\n// 卯\nvar conts = parseDom(getResCode(), 'body&&Html').match(/\"stui-content__playlist[\\s\\S]*?<\\/ul>/g);\n\nd.push({\n\ttitle: '共有' + conts.length + '条线路',\n desc: des_desc,\n\tpic_url: des_pic,\n\turl: getUrl(),\n\tcol_type: 'movie_1_vertical_pic'\n});\n\nfor (var i = 0; i < conts.length; i++) {\n\tvar list = conts[i].match(/<a[\\s\\S]*?<\\/a>/g);\n\tif (list != null) {\n\t\td.push({\n\t\t\ttitle: '线路'+(i+1),\n\t\t\tcol_type: 'text_1'\n\t\t});\n\t\tfor (var j = 0; j < list.length; j++) {\n\t\t\td.push({\n\t\t\t\ttitle: list[j].split('>')[1].split('<')[0],\n\t\t\t\turl: 'x5Rule://' + parseDom(conts[i],'a&&href')+ '@' + _x5,\ncol_type: list.length>2?'text_3':'text_2'\n\n\t\t\t});\n\t\t}\n\t}\n}\nd.push({\n    title: '““””<small><font color=#871f78>以上数据均来源于网络，如您喜欢，请支持正版！</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何团体或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/10.svg"},{"last_chapter_rule":"","pageList":[],"title":"爱看电影ᴺᵐ","author":"Namo","version":0,"url":"http://akdy2019.com/akshow/fyclass/by/fysort/page/fypage.html","col_type":"movie_3","class_name":"电影&国产剧&日剧&韩剧&美剧&国漫&日漫&综艺","class_url":"1&2&5&3&4&26&25&22","area_name":"","area_url":"","sort_name":"按时间&按人气&按评分","year_name":"","sort_url":"time&hits&score","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), 'body&&.myui-vodlist&&li');//列表\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\n       desc: parseDomForHtml(list[j], '')+' '+parseDomForHtml(list[j], '.pic-text&&Text'),//双重描述\n       pic_url: parseDom(list[j], 'a&&data-original'),//图片\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"//链接\n  });\n}}catch(e){}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\n//以下是 列表解析规则（JS）\nvar d = [];\n\nvar list = parseDomForArray(getResCode(), 'body&&.myui-vodlist__media&&li');//【列表】\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j], 'a&&title'),//【标题】\n       desc: parseDomForHtml(list[j], '.pic-text&&Text'),//【描述】\n       content: parseDomForHtml(list[j], '.detail&&p,2&&Text'),//【详情】\n       pic_url: parseDom(list[j], '.lazyload&&data-original'),//【图片】\n       url: parseDom(list[j],'a&&href').replace('play','detail').replace('-1-1.html','.html')+\"#immersiveTheme#\"\n  });//【链接】\n}\nsetResult(d)","search_url":"http://akdy2019.com/aksearch/wd/**/page/fypage.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n//嗅探\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/http.*url=/,'').replace(/https.*url=/,'')\n        }\n    }\n});\n//线路名列表的定位\nvar arts = parseDomForArray(html, 'body&&.nav&&li');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.myui-content__list');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\nvar 导演 = parseDomForHtml(html, 'body&&p,2&&Text').replace(/\\//g,' ');\n\nvar 主演 = parseDomForHtml(html, 'body&&p,1&&Text').replace(/\\//g,' ');\n\nvar 更新 = parseDomForHtml(html, 'body&&p,3&&Text');\n\nvar 状态 = parseDomForHtml(html, 'body&&p,0&&Text');\n\nvar 图片 = parseDom(html, '.lazyload&&data-original');\n\nvar 简介 = parseDomForHtml(html, 'body&&.text-collapse&&.data&&Text');\n\n\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 导演 + '\\n' + 主演,\n    desc: 更新 + '\\n' + 状态,\n    pic_url: 图片,\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",   \n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\n\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h1&&Text');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dp',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=A•APP',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://gitee.com/Joker_tx/hiker/raw/master/img/青豆.png\",\n    col_type: 'icon_small_4'\n})\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/113.svg"},{"last_chapter_rule":"","pageList":[],"title":"芭比影视ᴺᵐ","author":"Namo","version":4,"url":"https://www.8byy.com/l-fyclass-fypage--fysort-0-fyarea--0.html","col_type":"movie_3","class_name":"电影&连续剧&综艺&动漫","class_url":"1&2&3&4","area_name":"全部&大陆&香港&台湾&欧美&韩国&日本","area_url":"&大陆&香港&台湾&欧美&韩国&日本","sort_name":"按时间&按人气&按评分","year_name":"","sort_url":"time&hits&score","year_url":"","find_rule":".stui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href","searchFind":".stui-vodlist&&li;a&&title;a&&href;.pic-text&&Text;;a&&data-original","search_url":"https://www.8byy.com/vod-search-pg-fypage-wd-**.html","titleColor":"00b0f8","group":"②影视","detail_col_type":"text_3","detail_find_rule":"js:var d = [];var html=getResCode();\n\n\n//默认播放地址(需修改)\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/https.*url=/,'').replace(/&from=.*/,'')\n        }\n    }\n});\n\n\n//视频标题的定位\ntry{\nvar des_title = parseDomForHtml(html, '.stui-content__detail&&h1&&Text');\n\n}catch(e){\nvar des_title ='没有正确获取到影片名称哟！';\n}\n\n//剧情简介的定位\ntry{\nvar des_desc = parseDomForHtml(html,'.detail-content&&Text');\n\n}catch(e){\nvar des_desc ='没有正确获取到剧情简介哟！';\n}\n\n//视频封面的定位\ntry{\nvar des_pic =parseDom(html,'.stui-content__thumb&&a&&data-original');\n\n}catch(e){\nvar des_desc ='没有正确获取到简介图片路径哟！\\n'+des_desc;\n}\n\n//线路名列表的定位\nvar arts = parseDomForArray(html,'body&&.dropdown-menu&&li');\n\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist');\n   \nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))      //' 列表名改'ul&&li'\n}\n\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text'))//有可能改Text\n\n}\n\n\n//下面除了获取选集名称例如1,2,3集，有的需要改下\n//有其他不需要修改\n\nd.push({\ntitle:des_title,\ndesc:des_desc,\npic_url:des_pic,\nurl:getUrl(),\ncol_type:'movie_1_vertical_pic'\n});\n\n//折叠需要用到的\nd.push({\n        col_type: 'line_blank'\n    })\nfunction setTabs(tabs, vari) {\n    for (var i = 0; i < tabs.length; i++) {\n\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\",\n            col_type: 'flex_button'\n        })\n    }\n    d.push({ col_type: 'blank_block' });\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘正逆序：’’',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf==' - 逆序'){putVar({key:'shsort', value:' - 正序'});}else{putVar({key:'shsort', value:' - 逆序'})};refreshPage(false);'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'flex_button'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == ' - 逆序') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            d.push({\n                title: parseDomForHtml(list[j], 'a&&Text'),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: 'flex_button'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            d.push({\n                title: parseDomForHtml(list[j], 'a&&Text'),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: 'flex_button'\n            });\n        }\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\n\nd.push({ title: '<br>', col_type: 'rich_text' });\nd.push({\n    title: '““””<small><font color=#871f78>以上数据均来源于网络，如您喜欢，请支持正版！</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何团体或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"剧好看ᴺᵐ","author":"","version":0,"url":"https://www.juhaokan.cc/vodshow/fyclass--fysort------fypage---.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"时间&人气&评分","year_name":"","sort_url":"time&hits&score","year_url":"","find_rule":"js:\nvar d = [];\ntry {\n    //定位列表\n    var list = parseDomForArray(getResCode(), '.myui-vodlist&&li');\n    for (var j in list) {\n        d.push({\n            //定位标题\n            title: parseDomForHtml(list[j], 'a&&title'),\n            //定位描述\n            desc: parseDomForHtml(list[j], '.pic-tag&&Text')+'-'+parseDomForHtml(list[j], '.pic-text&&Text'),\n            //定位图片\n            pic_url: parseDom(list[j], 'a&&data-original') + \"@Referer=\",\n            //定位链接\n            url: parseDom(list[j], 'a&&href') + \"#immersiveTheme#\"\n        });\n    }\n} catch (e) {}\nsetResult(d);","searchFind":"","search_url":"","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar lazy = `@lazyRule=.embed-responsive&&script&&Html.js:eval(input);var url = unescape(base64Decode(player_aaaa.url));{url}`;\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, '.nav-tabs&&li');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.myui-content__list');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\nvar 分类 = parseDomForHtml(html, '.data&&Text').replace('分类：','').replace('地区：','').replace('年份：','');\n\nvar 更新 = parseDomForHtml(html, '.data,1&&Text');\n\nvar 主演 = parseDomForHtml(html, '.data,2&&Text');\n\nvar 导演 = parseDomForHtml(html, '.data,3&&Text');\n\nvar 图片 = parseDom(html, '.lazyload&&data-original');\n\nvar 简介 = parseDomForHtml(html, '.content&&span,1&&Text');\n\n\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 分类 + '\\n' + 更新,\n    desc: 主演 + '\\n' + 导演,\n    pic_url: 图片,\n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\nfor (var i = 0; i < tabs.length; i++) {\n        var url = \"@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！'\";\nd.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'text_5'\n        })\n    }\nd.push({\n    col_type: 'line'\n})\nd.push({\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">~◆~正在使用逆序~◆~</span></b>' : '““””<b><span style=\"color: #1aad19\">~◆~正在使用正序~◆~</span></b>',\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n        col_type: 'text_center_1'\n    })\n}\nfunction setLists(lists, index) {\n    var list = lists[index];\n    if (getVar('shsort') == '1') {\n        var list = lists[index].reverse();\n    }\n    for (var j in list) {\n        d.push({\n            title: parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', ''),\n            url: parseDom(list[j], 'a&&href') + lazy,\n            col_type: list.length > 3 ? 'text_5' : 'text_5'\n        });\n    }\n}\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/9.png"},{"last_chapter_rule":"","pageList":[],"title":"米子影视ᴺᵐ","author":"Namo","version":1,"url":"https://www.mizi8.com/vodshow/fyclass--fysort------fypage---/","col_type":"movie_3","class_name":"电影&连续剧&综艺&动漫","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"时间&人气&评分","year_name":"","sort_url":"time&hits&score","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\nvar list = parseDomForArray(getResCode(), 'body&&.myui-vodlist&&li');\nfor(var i in list){\ntry{\nd.push({\ntitle:parseDomForHtml(list[i],'a&&title'),\ndesc:parseDomForHtml(list[i],'.pic-text||.pic-tag&&Text'),\npic_url:parseDom(list[i],'.lazyload&&data-original'),\nurl:parseDom(list[i],'a&&href'),\ncol_type: 'movie_3'});\n  }catch(e){}\n}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\nvar res = {};\nvar d = [];\n\nvar list = parseDomForArray(getResCode(), 'body&&.myui-vodlist__media&&li');\n\nfor(var i in list){\ntry{\nd.push({\ntitle:parseDomForHtml(list[i],'a&&title'),\ndesc:parseDomForHtml(list[i],'.pic-text&&Text'),\npic_url:parseDom(list[i],'.lazyload&&data-original'),\nurl:parseDom(list[i],'a&&href'),\ncontent:parseDomForHtml(list[i],'p,1&&Text')\n});\n  }catch(e){}\n}\n\nres.data = d;\nsetSearchResult(res);","search_url":"https://www.mizi8.com/vodsearch/**----------fypage---/","titleColor":"#00b0f8","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n// 模块的间距\nlet line_model = 8;\n// 模块间距类型\nlet line_type_model = 'blank_block';\n\nvar lazy = `@lazyRule=.embed-responsive&&script&&Html.js:eval(input);var jx = 'https://kb.nmba.vip/a/jiexi.php?url=';var url = unescape(base64Decode(player_aaaa.url));if(url.indexOf('m3u8')!=-1){url}else{request(jx+url,{headers:{\"Referer\":\"https://www.mizi8.com\"}}).match(/\t\"url\":\"(.*?)\"/)[1]}`;\n\nvar arts = parseDomForArray(html,'body&&.nav-tabs&&a');\n\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text').replace('',''))\n}\n\nvar conts = parseDomForArray(html, 'body&&.myui-content__list');\n\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\nvar title = parseDomForHtml(html, 'h1&&Text');\n\n\nd.push({\n\ttitle: parseDomForHtml(html,'.data,3&&Text').substring(0, 15)+'\\n'+parseDomForHtml(html, '.data,2&&Text').substring(0, 15),\n\n\tdesc:parseDomForHtml(html,'.data,1&&Text').substring(0, 24),\n\tpic_url: parseDom(html, '.myui-content__thumb&&.lazyload&&data-original'),\n\turl: getUrl(),\n\n\tcol_type: 'movie_1_vertical_pic'\n});\n\nvar desc = parseDomForHtml(html, 'body&&.sketch&&Text'); \nd.push({\n        title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + desc.substr(0, 40) + '...</font><small><font color=\"red\">查看详情</font></small></small>',\n       url: 'hiker://empty#' + desc + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n       col_type: 'text_1'\n   });\n\nfor (let i = 0; i < line_model; i++) {\n        d.push({\n            col_type: line_type_model\n        })\n  }\n\nfunction setTabs(tabs, vari) {\n        d.push({\n            title: '‘‘线路：’’',\n            col_type: 'scroll_button',\n            url:'toast://点击名称切换线路'\n        })\n        var title = '';\n        for (var i = 0; i < tabs.length; i++) {\n            var url = \"hiker://empty@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage();'toast://切换成功！'\";\n            d.push({\n                title: getVar(vari, '0') == i ? '““'+tabs[i] + '””' : tabs[i],\n                url: url,\n                col_type: 'scroll_button'\n            })\n        }\n        d.push({\n            col_type: 'line_blank'\n        })\n    }\nfunction setLists(lists, index) {\n    d.push({\n\ntitle: '‘‘’’<font color=\"#003472\">选集</font></small>'+'‘‘’’<font color=\"#0aa344\"></font></small>',\n        \n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf==' - 逆序'){putVar({key:'shsort', value:' - 正序'});}else{putVar({key:'shsort', value:' - 逆序'})};refreshPage(false);'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == ' - 逆序') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            d.push({\n                title: parseDomForHtml(list[j], 'Text'),\n                url: parseDom(list[j], 'a&&href')+ lazy,\n                col_type: 'flex_button'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            d.push({\n                title: parseDomForHtml(list[j], 'a&&Text'),\n                url: parseDom(list[j], 'a&&href')+ lazy,\n                col_type: 'flex_button'\n            });\n        }\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\n\nd.push({ title: '<br>', col_type: 'rich_text' });\nd.push({\n    title: '““””<small><font color=#871f78>以上数据均来源于网络，如您喜欢，请支持正版！</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何团体或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/32.svg"},{"last_chapter_rule":"","pageList":[],"title":"爱迪影视ᴺᵐ","author":"Namo","version":1,"url":"https://aidi.tv/show/fyclass--fysort------fypage---.html","col_type":"movie_3","class_name":"电影&连续剧&综艺&动漫","class_url":"dianying&lianxuju&zongyi&dongman","area_name":"","area_url":"","sort_name":"按最新&按最热&按评分","year_name":"","sort_url":"time&hits&score","year_url":"","find_rule":".vodlist&&li;a&&title;a&&data-original;.pic_text&&Text;a&&href","searchFind":".vodlist&&li;a&&title;a&&href;.pic_text&&Text;p&&text;a&&data-original","search_url":"https://aidi.tv/vsearch/**----------fypage---.html","titleColor":"00b0f8","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\n\nvar jsUrl = fetch('hiker://files/cache/MyParseSet.json');\n    if(jsUrl == '' || !fetch(JSON.parse(jsUrl).cj)){var jsFile = fetch('https://gitee.com/Duan-Nian/Dn/raw/master/hikerview/CloudParse-V2_Dn.js');}else{var jsFile = fetch(JSON.parse(jsUrl).cj);}eval(jsFile);\n\nif(getVar(\"解析列表\")==\"开\")\n{setParse();}\n\n//影片介绍\nvar l1 = parseDomForHtml(html, '.data&&a&&Text');\n\nvar l2 = parseDomForHtml(html, '.data&&a,1&&Text');\n\nvar l3 = parseDomForHtml(html, '.data&&a,2&&Text');\n\nvar l4 = parseDomForHtml(html, '.star_tips&&Text');//评分\n\nvar l5 = parseDomForHtml(html, '.data,1&&Text');//更新\n\nvar l6 = parseDomForHtml(html, '.data,2&&Text');//主\n\nvar l7 = parseDomForHtml(html, '.data,3&&Text');//导\n\nvar des_pic = parseDom(html, '.lazyload&&data-original');//图\n\nvar des_desc = parseDomForHtml(html, '.desc&&Text');//简\n\n\n//线路\nvar tabs = parseDomForArray(html, 'body&&#NumTab&&a');\n//剧集\nvar conts = parseDomForArray(html, '.play_source&&.playlist_full')\n\nd.push({ \n    title: l4+'\\n'+'分类：' + l1 + ' | ' + l2 +' | '+l3+'\\n'+l6,\n    desc: l7+l5,\n    pic_url: des_pic,\n    url: des_pic,\n    col_type: 'movie_1_vertical_pic'\n});\n\nd.push({\n    title: '共有' + conts.length + '条线路',   \n    desc: des_desc,\n    col_type: 'text_1'\n});\n\nfor (var i = 0; i < conts.length; i++) {\n\tvar list = parseDomForArray(conts[i],\"ul&&a\");\n\tif (list != null) {\n\t\td.push({\n\t\t\ttitle: parseDomForHtml(tabs[i],\"Text\"),\n    url: set_switch,\n\t\t\tcol_type: 'text_1'\n\t\t});\n\t\tfor (var j = 0; j < list.length; j++) {\n\t\t\td.push({\n\t\t\t\ttitle: parseDomForHtml(list[j],\"a&&Text\"),\n\t\t\t\turl: parseDom(list[j],'a&&href')+`@lazyRule=.player_video&&script&&Html.js:eval(input);var url = player_data.url;if(url.indexOf('html')>-1){var input=url;`+lazy+`}else{url}`,\n    col_type: list.length >3?'text_3':'text_2'\n\t\t\t});\n\t\t}\n\t}\n}\nd.push({\n    title: '““””<small><font color=#871f78>以上数据均来源于网络，如您喜欢，请支持正版！</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何团体或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://aidi.tv/template/movie/asset/img/ios_fav.png"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"多吉影音ᴺᵐ","author":"Namo","version":4,"url":"https://dogevod.com/genre/fyclass---fypage/by/fysort.html","col_type":"movie_3_marquee","class_name":"电影&连续剧&综艺&动漫","class_url":"movies&tvseries&tv_show&anime","area_name":"","area_url":"","sort_name":"周人气&月人气&按更新","year_name":"","sort_url":"hits_week&hits_month&time","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.myui-vodlist&&li');\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j], 'a&&title'),\n       desc: parseDomForHtml(list[j], '.pic-text&&Text'),\n       pic_url: parseDom(list[j], 'a&&data-original'),\n       url: parseDom(list[j],'a&&href').replace('ep','title')\n  });\n}}catch(e){}\nres.data = d;\nsetHomeResult(res);","searchFind":".myui-vodlist__media&&li;a&&title;a&&href;.pic-text&&Text;p,1&&Text;a&&data-original","search_url":"https://dogevod.com/search/**----------fypage---.html","titleColor":"#00b0f8","group":"②影视","detail_col_type":"text_3","detail_find_rule":"js:\nvar res = {};\nvar d = [];\n\n//警告：本规则仅供写源爱好者学习交流。若作他用，后果自负！\n//简介\nvar des_desc = parseDom(getResCode(), '.sketch&&Text').replace(getUrl()+\"/\",\"\");\n//图片\nvar des_pic = parseDom(getResCode(), '.lazyload&&data-original');\n//线路\nvar tabs = parseDom(getResCode(), '.nav-tabs&&Html').match(/data-toggle=[\\s\\S]*?<\\/a/g);\n//选集\nvar conts = parseDom(getResCode(), 'body&&Html').match(/\"myui-content__list[\\s\\S]*?<\\/ul>/g);\n\nd.push({\n\ttitle: '共有' + conts.length + '条线路',\n desc: des_desc,\n\tpic_url: des_pic,\n\turl: getUrl(),\n\tcol_type: 'pic_1'\n});\n\nfor (var i = 0; i < conts.length; i++) {\n\tvar list = conts[i].match(/<a[\\s\\S]*?<\\/a>/g);\n\tif (list != null) {\n\t\td.push({\n\t\t\ttitle: tabs[i].split(\">\")[1].split(\"<\")[0],\n\t\t\tcol_type: 'text_1'\n\t\t});\n\t\tfor (var j = 0; j < list.length; j++) {\n\t\t\td.push({\n\t\t\t\ttitle: list[j].split('>')[1].split('<')[0],\n\t\t\t\turl: 'https://dogevod.com'+list[j].split('href=\"')[1].split('\"')[0]+`@lazyRule=.js:var xx=JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]);var url=xx.url;var from=xx.from;if(from=='renrenmi'){request('https://xl.miaoletv.com/analysis.php?v='+url).match(/urls = \"(.*?)\"/)[1]}else{url}`,\n\t\t\t});\n\t\t}\n\t}\n}\nd.push({\n    title: '““””<small><font color=#871f78>以上数据均来源于网络，如您喜欢，请支持正版！</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何团体或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"text_3","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/movie/1.svg"},{"last_chapter_rule":"","pageList":[{"col_type":"text_1","name":"ClassTab","path":"ClassTab","rule":"function ClassTab(classArray, params) {\n    Object.assign(this, params)\n    this.arr = classArray.map(v => this.init(v))\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\n    this.color = this.color || '#12b668'\n    this.boundary = this.boundary || 'blank_block'\n}\nClassTab.prototype = {\n    constructor: ClassTab,\n    load(el) {\n        let folded = getVar('fold_' + this.sign, '')\n        if (this.fold) el.push({\n            title: '““””<span style=\"color:#049eff\">' + (folded ? '▶' : '▼'),\n            url: $('#noLoading#').lazyRule((sign, folded) => {\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\n                refreshPage(false)\n                return 'hiker://empty'\n            }, this.sign, folded),\n            col_type: 'scroll_button'\n        })\n        let arr = folded ? [this.arr[0]] : this.arr\n        arr.forEach((v) => {\n            let { id, class_name, class_url } = v,\n                selected = JSON.stringify(this.getClass(id))\n            class_name.forEach((name, i) => {\n                let url = class_url[i],\n                    now = JSON.stringify({ name: name, url: url })\n                el.push({\n                    title: (selected == now ? '““””<span style=\"color:' + this.color + '\"><b>' : '') + name,\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\n                        putVar(sign + id, now)\n                        putVar(sign, now)\n                        refreshPage(false)\n                        return 'hiker://empty'\n                    }, this.sign, id, now),\n                    col_type: 'scroll_button'\n                })\n            })\n            el.push({ col_type: this.boundary })\n        })\n    },\n    init(classObject) {\n        if (typeof classObject.class_name == 'string')\n            classObject.class_name = classObject.class_name.split('&')\n        if (typeof classObject.class_url == 'string')\n            classObject.class_url = classObject.class_url.split('&')\n        return classObject\n    },\n    push(classObject) {\n        this.arr.push(this.init(classObject))\n    },\n    getClass(id) {\n        let defaultClass = this.arr.find(item => item.id == id)\n        if (defaultClass) defaultClass = JSON.stringify({\n            name: defaultClass.class_name[0],\n            url: defaultClass.class_url[0]\n        })\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\n        return JSON.parse(getVar(this.sign + id, defaultClass))\n    },\n    getLastClick() {\n        return JSON.parse(getVar(this.sign, '{}'))\n    },\n    setUrl(url) {\n        return url.replace(/\\$\\{([^}]*)\\}/g, (_, id) => this.getClass(id).url)\n    }\n}\n$.exports = ClassTab\n"},{"col_type":"movie_3","name":"首页","path":"indexLoad","rule":"js:\nlet myCollection_el = [],\n    pageNum = parseInt(MY_URL.split('#')[1]),\n    RULE = MY_PARAMS.RULE,\n    fyAll = RULE.url.includes('fyAll'),\n    // 加载ClassTab组件\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\n    tabHeader = []\n\nif (RULE.class_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyclass',\n    class_name: RULE.class_name,\n    class_url: RULE.class_url\n})\nif (RULE.area_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyarea',\n    class_name: RULE.area_name,\n    class_url: RULE.area_url\n})\nif (RULE.year_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fyyear',\n    class_name: RULE.year_name,\n    class_url: RULE.year_url\n})\nif (RULE.sort_name) tabHeader.push({\n    id: fyAll ? 'fyAll' : 'fysort',\n    class_name: RULE.sort_name,\n    class_url: RULE.sort_url\n})\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\nif (pageNum == 1) {\n    addListener('onClose', 'clearVar(\"myCollection-searchMode\")')\n    putVar('myCollection-searchMode', RULE.title)\n    tabHeader.load(myCollection_el)\n    if (RULE.search_url) myCollection_el.push({\n        title: \"搜索\",\n        desc: \"搜你想要的...\",\n        url: '\"hiker://search?s=\"+input+\"&rule=' + getItem('myCollection') + '\"',\n        col_type: \"input\",\n    })\n}\n// 处理MY_URL和MY_RULE\nMY_RULE.version = RULE.version\nMY_RULE.group = RULE.group\nMY_RULE.title = RULE.title\nMY_RULE.ua = RULE.ua\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.find_rule\nMY_RULE.detail_find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, indexHtml } = urlParse(RULE.url, pageNum, (url) => {\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\n    url[0] = tabHeader.setUrl(url[0])\n})\nMY_RULE.url = MY_URL\n// 正文解析\nif (pageNum == 1) eval(MY_RULE.preRule)\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url) {\n                return v\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                RULE.detail_find_rule = rule\n                RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let path = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?.*)?$/)[1],\n                    subPage = MY_RULE.pageList.find((v) => v.path == path)\n                RULE.detail_find_rule = subPage.rule\n                RULE.detail_col_type = subPage.col_type\n                RULE.params = v.extra || {}\n            } else if (!MY_RULE.detail_find_rule) { return v }\n            v.extra = { url: v.url, RULE: RULE, pageTitle: v.title }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n\n    function setHomeResult(a, param1, param2, param3) {\n        setResult(a, param1, param2, param3)\n    }\n\n    function setSearchResult(a, param1, param2, param3) {\n        setResult(a, param1, param2, param3)\n    }\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) {}\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\n            } else if (MY_RULE.detail_find_rule) {\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title  }\n            }\n        }\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"详情","path":"detailLoad","rule":"js:\nvar myCollection_el = []\n\n// 处理MY_URL和MY_RULE\nlet RULE = MY_PARAMS.RULE\nMY_RULE.version = RULE.version\nMY_RULE.group = RULE.group\nMY_RULE.title = RULE.title\nMY_RULE.url = MY_URL\nMY_RULE.ua = RULE.ua\nMY_RULE.col_type = RULE.detail_col_type\nMY_RULE.find_rule = RULE.detail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = RULE.pageList\nMY_RULE.pages = RULE.pages\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = RULE.params\n// 解析正文\nif(MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\neval(MY_RULE.preRule)\nsetLastChapterRule(MY_RULE.last_chapter_rule)\nMY_PARAMS = MY_RULE.params\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let RULE = Object.assign({}, MY_RULE)\n            v.col_type = v.col_type || MY_RULE.col_type\n\n            if (!v.url) {\n                return v\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                RULE.detail_find_rule = rule\n                RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let path = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?.*)?$/)[1],\n                    subPage = MY_RULE.pageList.find((v) => v.path == path)\n                RULE.detail_find_rule = subPage.rule\n                RULE.detail_col_type = subPage.col_type\n                RULE.params = v.extra || {}\n            } else { return v }\n            v.extra = { url: v.url, RULE: RULE }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            return v\n        }))\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n\n    function setHomeResult(a, param1, param2, param3) {\n        setResult(a, param1, param2, param3)\n    }\n\n    function setSearchResult(a, param1, param2, param3) {\n        setResult(a, param1, param2, param3)\n    }\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    const { runCode } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(getResCode(), findRule.shift()).forEach((data) => {\n        let [title, img, desc, url] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 3) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 3) v = runCode(v)\n                    return v\n                } catch (e) {}\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                img: img,\n                col_type: MY_RULE.col_type\n            }\n        if (res.url && res.url.includes('@lazyRule='))\n            res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\n        myCollection_el.push(res)\n    })\n    setResult(myCollection_el)\n}\n"},{"col_type":"movie_3","name":"数据载入","path":"dataLoad","rule":"//真正获取数据的逻辑\nfunction load() {\n    let url = 'http://hiker.nokia.press/hikerule/dev/json_list?name=254001940',\n        d = []\n    try {\n        d = fetch(url)\n        if (url.startsWith('hiker://page/'))\n            d = JSON.parse(d).rule\n        d = JSON.parse(d)\n    } catch (e) {\n        d = []\n    }\n    return d.filter((v) => { return v.title != MY_RULE.title && v.author != '轻合集生成器' })\n}\n//检查间隔，默认一天\nlet min = 60 * 24 * 1\n\nlet data = []\nlet time = getItem('updatetime', '0')\ntime = parseInt(time)\nlet now = new Date().getTime()\nif (now - time > 1000 * 60 * min) {\n    log('更新了数据')\n    setItem('updatetime', '' + now)\n    data = load()\n    saveFile('data.json', JSON.stringify(data))\n} else {\n    log('没有更新数据')\n    data = JSON.parse(readFile('data.json'))\n}\n$.exports = data\n"},{"col_type":"movie_3","name":"工具集","path":"utility","rule":"$.exports = {\n    runCode: function(rule) {log(rule)\n        try {\n            let [input, code] = rule.split('.js:')\n            return code ? eval(code) : rule\n        } catch (e) { return rule }\n    },\n    urlParse: function(url, pageNum, func) {\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\n        if (func) func(url)\n        url[0] = url[0].replace(/fypage(?:@(-?\\d+)@)?(?:\\*(\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\n        url[0] = /^(.*?)(?:\\[firstPage=(.*?)\\])?$/.exec(url[0])\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\n        let options = { headers: { 'Content-Type': 'text/plain; charst=UTF-8' }, method: url[1] }\n        // post方法时转换参数\n        if (/^post$/i.test(options['method'])) {\n            let [oriUrl, body] = url[0].split('?')\n            url[0] = oriUrl.replace(/？？/g, '?')\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\n            options['body'] = body\n        }\n        if (url[2]) options.headers['Content-Type'] = options.headers['Content-Type'].slice(0, 19) + url[2]\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\n            let [key, value] = v.split('@')\n            options.headers[key] = runCode(value)\n        })\n        // 添加全局UA\n        if (!options.headers['User-Agent']) {\n            if (MY_RULE.ua == 'pc')\n                options.headers['User-Agent'] = PC_UA\n            else if (MY_RULE.ua == 'mobile')\n                options.headers['User-Agent'] = MOBILE_UA\n        }\n        return { MY_URL: url[0], indexHtml: fetch(url[0], options) }\n    }\n}\n"}],"title":"轻合集.Namo","author":"轻合集生成器","version":72,"url":"hiker://empty","col_type":"icon_2_round","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nlet el = [{\n    title: '清除缓存,立即更新 <small>(基于远程仓库,不要频繁点击)',\n    url: $().lazyRule(() => {\n        clearItem('updatetime')\n        refreshPage(true)\n        return 'toast://已更新'\n    }),\n    img: 'hiker://images/icon1',\n    col_type: 'avatar'\n}]\nel.push({\n    url: '\"hiker://search?s=\"+input+\"&rule=' + getItem('myCollection') + '\"',\n    desc: '搜你想要的...',\n    title: '搜索',\n    col_type: 'input'\n})\nconst data = $.require('hiker://page/dataLoad?rule=' + getItem('myCollection'))\nsetResult(el.concat(data.map((v) => {\n    let fypage = /^[^;]*?fypage.*?(;.*)?$/.test(v.url) ? 'fypage' : '1'\n    return {\n        title: v.title,\n        url: 'hiker://page/indexLoad?#' + fypage + '#noHistory#',\n        img: v.icon,\n        extra: { RULE: v }\n    }\n})))","searchFind":"js:\nlet myCollection_el = [],\n    searchMode = getVar('myCollection-searchMode', ''),\n    [_, pageNum, keyword] = MY_URL.split('##'),\n    RULE = $.require('hiker://page/dataLoad?rule=' + getItem('myCollection')).filter((v) => v.search_url)\npageNum = parseInt(pageNum)\nif (!searchMode && pageNum > RULE.length) setResult([])\n\nlet searchCount = { title: '⬆ 已搜索了' + pageNum + '个小程序 ⬆\\n⬇ 下面还有' + (RULE.length - pageNum) + '个小程序 ⬇' }\nRULE = searchMode ? RULE.find((v) => v.title == searchMode) : RULE[pageNum - 1]\n// 处理MY_URL和MY_RULE\nMY_RULE.version = RULE.version\nMY_RULE.group = RULE.group\nMY_RULE.title = RULE.title\nMY_RULE.ua = RULE.ua\nMY_RULE.col_type = RULE.col_type\nMY_RULE.detail_col_type = RULE.sdetail_col_type\nMY_RULE.find_rule = RULE.searchFind\nMY_RULE.detail_find_rule = ['', '*'].includes(RULE.sdetail_find_rule) ? RULE.detail_find_rule : RULE.sdetail_find_rule\nMY_RULE.preRule = RULE.preRule\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\nMY_RULE.params = {}\n\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\nvar { MY_URL, indexHtml } = urlParse(RULE.search_url, searchMode ? pageNum : 1, (url) => {\n    url[0] = url[0].replace(url[0].includes('%%') ? /%%/g : /\\*\\*/g, encodeStr(keyword, url[2]))\n})\nMY_RULE.url = MY_URL\n// 正文解析\nif (pageNum == 1) eval(MY_RULE.preRule)\nif (MY_RULE.find_rule.startsWith('js:')) {\n    function getUrl() {\n        return MY_URL\n    }\n\n    function getResCode() {\n        return indexHtml\n    }\n\n    function setResult(el, param1, param2, param3) {\n        param1 = CALLBACK_KEY\n        param2 = MY_RULE\n        param3 = MY_TYPE\n        if (Array.isArray(el.data)) el = el.data\n        log(el)\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\n            let RULE = Object.assign({}, MY_RULE)\n\n            if (!v.url) {\n                return v\n            } else if (v.url.includes('@lazyRule=')) {\n                v.url = v.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\n                return v\n            } else if (v.url.includes('@rule=')) {\n                let [_, url, rule] = v.url.match(/^([\\s\\S]*?)@rule=([\\s\\S]*)$/)\n                v.url = url\n                RULE.detail_find_rule = rule\n                RULE.detail_col_type = MY_RULE.col_type\n            } else if (v.url.startsWith('hiker://page/')) {\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\n                    return v\n                let path = v.url.split('#')[0].match(/^hiker:\\/\\/page\\/(.+?)(?:\\?.*)?$/)[1],\n                    subPage = MY_RULE.pageList.find(v => v.path == path)\n                RULE.detail_find_rule = subPage.rule\n                RULE.detail_col_type = subPage.col_type\n                RULE.params = v.extra || {}\n            } else if (!MY_RULE.detail_find_rule) { return v }\n            v.extra = { url: v.url, RULE: RULE, pageTitle: v.title  }\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n            return v\n        }))\n        if (!searchMode) myCollection_el.push(searchCount)\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\n    }\n\n    function setHomeResult(a, param1, param2, param3) {\n        setResult(a, param1, param2, param3)\n    }\n\n    function setSearchResult(a, param1, param2, param3) {\n        setResult(a, param1, param2, param3)\n    }\n\n    eval(MY_RULE.find_rule.slice(3))\n} else {\n    let findRule = MY_RULE.find_rule.split(';')\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\n        let [title, url, desc, content, img] = findRule.map((v, i) => {\n                try {\n                    if (v == '*') return ''\n                    else v = (i == 1 || i == 4) ?\n                        parseDom(data, v) :\n                        parseDomForHtml(data, v)\n                    if (i != 1) v = runCode(v)\n                    return v\n                } catch (e) {}\n            }),\n            res = {\n                title: title,\n                url: url,\n                desc: desc,\n                content: content,\n                img: img\n            }\n        if (res.url) {\n            if (res.url.includes('@lazyRule=')) {\n                res.url = res.url.replace('.js:', '.js:\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\n            } else if (MY_RULE.detail_find_rule) {\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title  }\n            }\n        }\n        myCollection_el.push(res)\n        if (!searchMode) myCollection_el.push(searchCount)\n    })\n    setResult(myCollection_el)\n}\n","search_url":"hiker://empty##fypage##**","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"setItem('myCollection', MY_RULE.title)","pages":"[{\"col_type\":\"text_1\",\"name\":\"ClassTab\",\"path\":\"ClassTab\",\"rule\":\"function ClassTab(classArray, params) {\\n    Object.assign(this, params)\\n    this.arr = classArray.map(v => this.init(v))\\n    this.sign = '$' + MY_RULE.title + '_' + (this.name || '') + '_'\\n    this.color = this.color || '#12b668'\\n    this.boundary = this.boundary || 'blank_block'\\n}\\nClassTab.prototype = {\\n    constructor: ClassTab,\\n    load(el) {\\n        let folded = getVar('fold_' + this.sign, '')\\n        if (this.fold) el.push({\\n            title: '““””<span style=\\\"color:#049eff\\\">' + (folded ? '▶' : '▼'),\\n            url: $('#noLoading#').lazyRule((sign, folded) => {\\n                putVar('fold_' + sign, { '': 'T', 'T': '' } [folded])\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, this.sign, folded),\\n            col_type: 'scroll_button'\\n        })\\n        let arr = folded ? [this.arr[0]] : this.arr\\n        arr.forEach((v) => {\\n            let { id, class_name, class_url } = v,\\n                selected = JSON.stringify(this.getClass(id))\\n            class_name.forEach((name, i) => {\\n                let url = class_url[i],\\n                    now = JSON.stringify({ name: name, url: url })\\n                el.push({\\n                    title: (selected == now ? '““””<span style=\\\"color:' + this.color + '\\\"><b>' : '') + name,\\n                    url: $('#noLoading#').lazyRule((sign, id, now) => {\\n                        putVar(sign + id, now)\\n                        putVar(sign, now)\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, this.sign, id, now),\\n                    col_type: 'scroll_button'\\n                })\\n            })\\n            el.push({ col_type: this.boundary })\\n        })\\n    },\\n    init(classObject) {\\n        if (typeof classObject.class_name == 'string')\\n            classObject.class_name = classObject.class_name.split('&')\\n        if (typeof classObject.class_url == 'string')\\n            classObject.class_url = classObject.class_url.split('&')\\n        return classObject\\n    },\\n    push(classObject) {\\n        this.arr.push(this.init(classObject))\\n    },\\n    getClass(id) {\\n        let defaultClass = this.arr.find(item => item.id == id)\\n        if (defaultClass) defaultClass = JSON.stringify({\\n            name: defaultClass.class_name[0],\\n            url: defaultClass.class_url[0]\\n        })\\n        else throw new Error('cannot find id: ' + id + ' in classTab: ' + this.sign)\\n        return JSON.parse(getVar(this.sign + id, defaultClass))\\n    },\\n    getLastClick() {\\n        return JSON.parse(getVar(this.sign, '{}'))\\n    },\\n    setUrl(url) {\\n        return url.replace(/\\\\$\\\\{([^}]*)\\\\}/g, (_, id) => this.getClass(id).url)\\n    }\\n}\\n$.exports = ClassTab\\n\"},{\"col_type\":\"movie_3\",\"name\":\"首页\",\"path\":\"indexLoad\",\"rule\":\"js:\\nlet myCollection_el = [],\\n    pageNum = parseInt(MY_URL.split('#')[1]),\\n    RULE = MY_PARAMS.RULE,\\n    fyAll = RULE.url.includes('fyAll'),\\n    // 加载ClassTab组件\\n    ClassTab = $.require('hiker://page/ClassTab?rule=' + getItem('myCollection')),\\n    tabHeader = []\\n\\nif (RULE.class_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyclass',\\n    class_name: RULE.class_name,\\n    class_url: RULE.class_url\\n})\\nif (RULE.area_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyarea',\\n    class_name: RULE.area_name,\\n    class_url: RULE.area_url\\n})\\nif (RULE.year_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fyyear',\\n    class_name: RULE.year_name,\\n    class_url: RULE.year_url\\n})\\nif (RULE.sort_name) tabHeader.push({\\n    id: fyAll ? 'fyAll' : 'fysort',\\n    class_name: RULE.sort_name,\\n    class_url: RULE.sort_url\\n})\\ntabHeader = new ClassTab(tabHeader, { name: RULE.title })\\nif (pageNum == 1) {\\n    addListener('onClose', 'clearVar(\\\"myCollection-searchMode\\\")')\\n    putVar('myCollection-searchMode', RULE.title)\\n    tabHeader.load(myCollection_el)\\n    if (RULE.search_url) myCollection_el.push({\\n        title: \\\"搜索\\\",\\n        desc: \\\"搜你想要的...\\\",\\n        url: '\\\"hiker://search?s=\\\"+input+\\\"&rule=' + getItem('myCollection') + '\\\"',\\n        col_type: \\\"input\\\",\\n    })\\n}\\n// 处理MY_URL和MY_RULE\\nMY_RULE.version = RULE.version\\nMY_RULE.group = RULE.group\\nMY_RULE.title = RULE.title\\nMY_RULE.ua = RULE.ua\\nMY_RULE.col_type = RULE.col_type\\nMY_RULE.detail_col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.find_rule\\nMY_RULE.detail_find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = JSON.parse(RULE.pages || '[]')\\nMY_RULE.pages = JSON.stringify(MY_RULE.pageList)\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = {}\\n\\nconst { runCode, urlParse } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\nvar { MY_URL, indexHtml } = urlParse(RULE.url, pageNum, (url) => {\\n    url[0] = fyAll ? url[0].replace(/fyAll/g, '$${fyAll}') : url[0].replace(/fy(class|area|year|sort)/g, '$${fy$1}')\\n    url[0] = tabHeader.setUrl(url[0])\\n})\\nMY_RULE.url = MY_URL\\n// 正文解析\\nif (pageNum == 1) eval(MY_RULE.preRule)\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function getUrl() {\\n        return MY_URL\\n    }\\n\\n    function getResCode() {\\n        return indexHtml\\n    }\\n\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url) {\\n                return v\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                RULE.detail_find_rule = rule\\n                RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let path = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?.*)?$/)[1],\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path)\\n                RULE.detail_find_rule = subPage.rule\\n                RULE.detail_col_type = subPage.col_type\\n                RULE.params = v.extra || {}\\n            } else if (!MY_RULE.detail_find_rule) { return v }\\n            v.extra = { url: v.url, RULE: RULE, pageTitle: v.title }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n\\n    function setHomeResult(a, param1, param2, param3) {\\n        setResult(a, param1, param2, param3)\\n    }\\n\\n    function setSearchResult(a, param1, param2, param3) {\\n        setResult(a, param1, param2, param3)\\n    }\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(indexHtml, findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) {}\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url) {\\n            if (res.url.includes('@lazyRule=')) {\\n                res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\\n            } else if (MY_RULE.detail_find_rule) {\\n                res.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n                res.extra = { url: url, RULE: MY_RULE, pageTitle: title  }\\n            }\\n        }\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"详情\",\"path\":\"detailLoad\",\"rule\":\"js:\\nvar myCollection_el = []\\n\\n// 处理MY_URL和MY_RULE\\nlet RULE = MY_PARAMS.RULE\\nMY_RULE.version = RULE.version\\nMY_RULE.group = RULE.group\\nMY_RULE.title = RULE.title\\nMY_RULE.url = MY_URL\\nMY_RULE.ua = RULE.ua\\nMY_RULE.col_type = RULE.detail_col_type\\nMY_RULE.find_rule = RULE.detail_find_rule\\nMY_RULE.preRule = RULE.preRule\\nMY_RULE.pageList = RULE.pageList\\nMY_RULE.pages = RULE.pages\\nMY_RULE.last_chapter_rule = RULE.last_chapter_rule\\nMY_RULE.params = RULE.params\\n// 解析正文\\nif(MY_PARAMS.pageTitle) setPageTitle(MY_PARAMS.pageTitle)\\neval(MY_RULE.preRule)\\nsetLastChapterRule(MY_RULE.last_chapter_rule)\\nMY_PARAMS = MY_RULE.params\\nif (MY_RULE.find_rule.startsWith('js:')) {\\n    function setResult(el, param1, param2, param3) {\\n        param1 = CALLBACK_KEY\\n        param2 = MY_RULE\\n        param3 = MY_TYPE\\n        if (Array.isArray(el.data)) el = el.data\\n\\n        Array.prototype.push.apply(myCollection_el, el.map((v) => {\\n            let RULE = Object.assign({}, MY_RULE)\\n            v.col_type = v.col_type || MY_RULE.col_type\\n\\n            if (!v.url) {\\n                return v\\n            } else if (v.url.includes('@lazyRule=')) {\\n                v.url = v.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\\n                return v\\n            } else if (v.url.includes('@rule=')) {\\n                let [_, url, rule] = v.url.match(/^([\\\\s\\\\S]*?)@rule=([\\\\s\\\\S]*)$/)\\n                v.url = url\\n                RULE.detail_find_rule = rule\\n                RULE.detail_col_type = MY_RULE.col_type\\n            } else if (v.url.startsWith('hiker://page/')) {\\n                if (v.url.includes('rule=') || (v.extra || {}).rule)\\n                    return v\\n                let path = v.url.split('#')[0].match(/^hiker:\\\\/\\\\/page\\\\/(.+?)(?:\\\\?.*)?$/)[1],\\n                    subPage = MY_RULE.pageList.find((v) => v.path == path)\\n                RULE.detail_find_rule = subPage.rule\\n                RULE.detail_col_type = subPage.col_type\\n                RULE.params = v.extra || {}\\n            } else { return v }\\n            v.extra = { url: v.url, RULE: RULE }\\n            v.url = 'hiker://page/detailLoad?rule=' + getItem('myCollection')\\n            return v\\n        }))\\n        method_setResult.invoke(javaContext, myCollection_el, param1, param2, param3)\\n    }\\n\\n    function setHomeResult(a, param1, param2, param3) {\\n        setResult(a, param1, param2, param3)\\n    }\\n\\n    function setSearchResult(a, param1, param2, param3) {\\n        setResult(a, param1, param2, param3)\\n    }\\n\\n    eval(MY_RULE.find_rule.slice(3))\\n} else {\\n    const { runCode } = $.require('hiker://page/utility?rule=' + getItem('myCollection'))\\n    let findRule = MY_RULE.find_rule.split(';')\\n    parseDomForArray(getResCode(), findRule.shift()).forEach((data) => {\\n        let [title, img, desc, url] = findRule.map((v, i) => {\\n                try {\\n                    if (v == '*') return ''\\n                    else v = (i == 1 || i == 3) ?\\n                        parseDom(data, v) :\\n                        parseDomForHtml(data, v)\\n                    if (i != 3) v = runCode(v)\\n                    return v\\n                } catch (e) {}\\n            }),\\n            res = {\\n                title: title,\\n                url: url,\\n                desc: desc,\\n                img: img,\\n                col_type: MY_RULE.col_type\\n            }\\n        if (res.url && res.url.includes('@lazyRule='))\\n            res.url = res.url.replace('.js:', '.js:\\\\nif(MY_RULE)Object.assign(MY_RULE,' + $.stringify({ title: MY_RULE.title, pages: MY_RULE.pages, pageList: MY_RULE.pageList, find_rule: '', params: '' }) + ');')\\n        myCollection_el.push(res)\\n    })\\n    setResult(myCollection_el)\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"数据载入\",\"path\":\"dataLoad\",\"rule\":\"//真正获取数据的逻辑\\nfunction load() {\\n    let url = 'http://hiker.nokia.press/hikerule/dev/json_list?name=254001940',\\n        d = []\\n    try {\\n        d = fetch(url)\\n        if (url.startsWith('hiker://page/'))\\n            d = JSON.parse(d).rule\\n        d = JSON.parse(d)\\n    } catch (e) {\\n        d = []\\n    }\\n    return d.filter((v) => { return v.title != MY_RULE.title && v.author != '轻合集生成器' })\\n}\\n//检查间隔，默认一天\\nlet min = 60 * 24 * 1\\n\\nlet data = []\\nlet time = getItem('updatetime', '0')\\ntime = parseInt(time)\\nlet now = new Date().getTime()\\nif (now - time > 1000 * 60 * min) {\\n    log('更新了数据')\\n    setItem('updatetime', '' + now)\\n    data = load()\\n    saveFile('data.json', JSON.stringify(data))\\n} else {\\n    log('没有更新数据')\\n    data = JSON.parse(readFile('data.json'))\\n}\\n$.exports = data\\n\"},{\"col_type\":\"movie_3\",\"name\":\"工具集\",\"path\":\"utility\",\"rule\":\"$.exports = {\\n    runCode: function(rule) {log(rule)\\n        try {\\n            let [input, code] = rule.split('.js:')\\n            return code ? eval(code) : rule\\n        } catch (e) { return rule }\\n    },\\n    urlParse: function(url, pageNum, func) {\\n        url = url.split(';').map((v) => v.replace(/；；/g, ';'))\\n        if (func) func(url)\\n        url[0] = url[0].replace(/fypage(?:@(-?\\\\d+)@)?(?:\\\\*(\\\\d+)@)?/, (_, start, space) => parseInt(start || 0) + 1 + (pageNum - 1) * parseInt(space || 1))\\n        url[0] = /^(.*?)(?:\\\\[firstPage=(.*?)\\\\])?$/.exec(url[0])\\n        url[0] = runCode(url[0][2] && pageNum == 1 ? url[0][2] : url[0][1])\\n        let options = { headers: { 'Content-Type': 'text/plain; charst=UTF-8' }, method: url[1] }\\n        // post方法时转换参数\\n        if (/^post$/i.test(options['method'])) {\\n            let [oriUrl, body] = url[0].split('?')\\n            url[0] = oriUrl.replace(/？？/g, '?')\\n            if (body.startsWith('JsonBody=')) body = body.slice(9)\\n            options['body'] = body\\n        }\\n        if (url[2]) options.headers['Content-Type'] = options.headers['Content-Type'].slice(0, 19) + url[2]\\n        if (url[3]) url[3].match(/{(.*)}/)[1].split('&&').forEach((v) => {\\n            let [key, value] = v.split('@')\\n            options.headers[key] = runCode(value)\\n        })\\n        // 添加全局UA\\n        if (!options.headers['User-Agent']) {\\n            if (MY_RULE.ua == 'pc')\\n                options.headers['User-Agent'] = PC_UA\\n            else if (MY_RULE.ua == 'mobile')\\n                options.headers['User-Agent'] = MOBILE_UA\\n        }\\n        return { MY_URL: url[0], indexHtml: fetch(url[0], options) }\\n    }\\n}\\n\"}]","icon":"https://z3.ax1x.com/2021/10/29/5Xer1U.png"},{"last_chapter_rule":"","pageList":[],"title":"苏鸦红","author":"ᝰꫛꫀꪝ藍凋","version":0,"url":"http://www.suyahong.top/index.php/vod/show/by/fysort/id/fyclass/page/fypage/year/fyyear.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"人气&时间&评分","year_name":"年代&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000","sort_url":"hits&time&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000","find_rule":"js:\r\nvar d = [];\nvar list = parseDomForArray(getResCode(), 'body&&li:has(.mo-situ-lazy)');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], '.mo-situ-name&&Text'),\r\n       desc: parseDomForHtml(list[j], '.mo-situ-rema&&Text'),\r\n       img: parseDom(list[j], 'a&&data-original'),\r\n       url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\r\n  });\r\n}\r\nsetResult(d);","searchFind":"js:\r\nvar d = [];\nvar list = parseDomForArray(getResCode(), 'body&&.mo-deta-info.mo-cols-rows');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'h1&&Text'),\r\n       desc: parseDomForHtml(list[j], 'span,2&&Text'),\r\n       img: parseDom(list[j], 'a&&data-original'),\r\n       url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\r\n  });\r\n}\r\nsetResult(d);","search_url":"http://www.suyahong.top/index.php/vod/search/page/fypage/wd/**.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\nvar lazy=`@lazyRule=.js:var js = request(input);var jsurl = base64Decode(parseDomForHtml(js, '.mo-play-load&&data-play').slice(3));if(jsurl.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu|pptv|le/)){eval(\"var config =\" + fetch(\"hiker://files/cache/MyParseSet.json\"));eval(fetch(config.cj));aytmParse(jsurl)}else{jsurl+\"#isVideo=true#\"}`\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, 'body&&.mo-movs-btns');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.mo-movs-item');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\nvar 主演 = parseDomForHtml(html, '.mo-cols-lays&&li&&Text');\n\nvar 导演 = parseDomForHtml(html, '.mo-cols-lays&&li,1&&Text');\n\nvar 地区 = parseDomForHtml(html, '.mo-cols-lays&&li,3&&Text');\n\nvar 年份 = parseDomForHtml(html, '.mo-cols-lays&&li,4&&Text');\n\nvar 图片 = parseDom(html, '.mo-situ-pics&&data-original');\n\nvar 简介 = parseDomForHtml(html, '.mo-lhxl-24px&&Text').replace('短评: ','');\n\n\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 主演 + '\\n' + 导演 ,\n    desc: 地区 + '\\n' + 年份,\n    pic_url: 图片,\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",\n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href')+lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:parseDom(list[j], 'a&&href') +lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://z3.ax1x.com/2021/10/26/5oD5RA.jpg"},{"last_chapter_rule":"","pageList":[],"title":"泰剧","author":"ᝰꫛꫀꪝ藍凋","version":0,"url":"https://www.taijuu.com/list/fyAll-fypage.html","col_type":"movie_3","class_name":"泰剧&电影&电视剧&综艺&动漫","class_url":"taiju&dianying&dianshiju&zongyi&dongman","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar list = parseDomForArray(html,'.stui-vodlist&&li');\nfor (var j in list) {\n  d.push({\n     title: parseDomForHtml(list[j], 'a&&title'),\n     desc:parseDomForHtml(list[j], 'span,1&&Text'),\n     pic_url: parseDom(list[j], 'a&&data-original')+'@Referer=',\n     url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\n  });\n}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar list = parseDomForArray(html,'.stui-vodlist__media&&li');\nfor (var j in list) {\n  d.push({\n     title: parseDomForHtml(list[j], 'a&&title'),\n     desc:parseDomForHtml(list[j], 'span,1&&Text'),\n     pic_url: parseDom(list[j], 'a&&data-original'),\n     url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\n  });\n}\nres.data = d;\nsetHomeResult(res);","search_url":"https://www.taijuu.com/vso/**----------fypage---.html","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:var d = [];var html=getResCode();\n\n\n//默认播放地址(需修改)\nvar _x5 = $.toString(() => {\n    fba.log(fba.getUrls())\n    var urls = _getUrls()\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i])\n            return urls[i].replace(/https.*url=/,'')\n        }\n    }\n});\n\n\n//视频标题的定位\ntry{\nvar des_title = parseDomForHtml(html, 'h1&&Text');\n\n}catch(e){\nvar des_title ='没有正确获取到影片名称哟！';\n}\n\n//剧情简介的定位\ntry{\nvar des_desc = parseDomForHtml(html,'p,5&&Text');\n\n}catch(e){\nvar des_desc ='没有正确获取到剧情简介哟！';\n}\n\n//视频封面的定位\ntry{\nvar des_pic =parseDom(html,'img&&data-original');\n\n}catch(e){\nvar des_desc ='没有正确获取到简介图片路径哟！\\n'+des_desc;\n}\n\n//线路名列表的定位\nvar arts = parseDomForArray(html,'body&&h3:not([src])');\n\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist');\n   \nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))      //' 列表名改'ul&&li'\n}\n\nvar tabs = [];\nfor (var i in conts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text'))//有可能改Text\n\n}\n\n\n//下面除了获取选集名称例如1,2,3集，有的需要改下\n//有其他不需要修改\n\nd.push({\ntitle:des_title,\ndesc:des_desc,\npic_url:des_pic,\nurl:getUrl(),\ncol_type:'movie_1_vertical_pic_blur'\n});\n\nd.push({\n    col_type: 'line_blank'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n    url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n    col_type: 'scroll_button'\n})\n\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    d.push({\n        col_type: 'line_blank'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    if (getVar('shsort') == '1') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: \"x5Rule://\"+parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: jm.length > 5 ? 'text_2' : 'text_5'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: \"x5Rule://\"+parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: jm.length > 5 ? 'text_2' : 'text_5'\n            });\n        }\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://www.taijuu.com/statics/img/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"村长-L","author":"ᝰꫛꫀꪝ藍凋","version":2,"url":"https://www.cunzhangba.com/list/fyclass/area/fyarea/by/fysort/page/fypage/year/fyyear.html.js:input.replace('area//','/').replace('letter//','/').replace('year/.','.')","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"dianying&dianshiju&zongyi&dongman","area_name":"地区&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","sort_name":"时间&人气&评分","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000&1999&1998&1997&1996&1995&1994&1993&1992&1991&1990","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000&1999&1998&1997&1996&1995&1994&1993&1992&1991&1990","find_rule":"js:\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","searchFind":"js:\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","search_url":"https://www.cunzhangba.com/vodsearch**/page/fypage.html","titleColor":"#ff673ab7","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar _x5 = $.toString(() => {\n    fba.log(fba.getUrls())\n    var urls = _getUrls()\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i])\n            return urls[i].replace('https://www.cunzhangba.com/addons/videojs/?url=','').replace(/\\.m3u8.*/,\".m3u8\")\n        }\n    }\n});\n\nvar tabs = [];\nvar conts = parseDomForArray(html, 'body&&.b');\nvar lists = [];\nfor (var i in conts) {\n    tabs.push(parseDomForHtml(conts[i], 'h3&&Text'))\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\ntry {\n    var fm = set_switch\n} catch (e) {\n    fm = MY_URL\n}\nd.push({\n    title: parseDomForHtml(html, '.stui-content__detail--h1&&Text').replace('地区', '\\n地区').replace('主演', '\\n主演'),\n    desc: parseDomForHtml(html, '.desc||.detail-content&&Text'),\n    pic_url: parseDom(html, '.lazyload&&data-original'),\n    url: fm,\n    col_type: 'movie_1_vertical_pic_blur'\n});\n\nfunction setTabs(tabs, vari) {\n    d.push({\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n        col_type: 'flex_button'\n    })\n        for (var i = 0; i < tabs.length; i++) {\n            var url = \"@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！'\";\n            d.push({\n                title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n                url: url,\n                col_type: 'flex_button'\n            })\n        }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    if (getVar('shsort') == '1') {\n        var list = lists[index].reverse();\n    }\n    for (var j in list) {\n        d.push({\n            title: parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/,'$1').replace('第', '').replace('期', ''),\n            url: \"x5Rule://\"+parseDom(list[j], 'a&&href')  + '@' + _x5,\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\n        });\n    }\n}\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://www.cunzhangba.com/statics/img/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"火鸟-L","author":"ᝰꫛꫀꪝ藍凋","version":0,"url":"http://huoniaoys.com/fyAll-fypage.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"vodtype_1&vodtype_2&vodtype_3&vodtype_4","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.myui-vodlist&&li');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),\r\n       desc: parseDomForHtml(list[j], '.pic-text&&Text'),\r\n       pic_url: parseDom(list[j], '.lazyload&&data-original'),\r\n       url: parseDom(list[j],'a&&href')\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\nvar res = {};\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.myui-vodlist__media&&li');\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j], 'a&&title'),\n       desc: parseDomForHtml(list[j], '.pic-text&&Text'),\n       content: parseDomForHtml(list[j], '.detail--h4&&Text'),\n       pic_url: parseDom(list[j], '.lazyload&&data-original'),\n       url: parseDom(list[j],'a&&href')\n  });\n}}catch(e){}\nres.data = d;\nsetHomeResult(res);","search_url":"http://huoniaoys.com/vodsearch_**----------fypage---.html","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\n\nvar conts = parseDomForArray(html,'.nav&&li'); //线路列表\n\nd.push({\n\ttitle: '共有' + conts.length + '条线路',\n desc: parseDomForHtml(html, '.myui-content__detail&&Text'),    //简介\n\tpic_url: parseDom(html, '.myui-vodlist__thumb&&img&&data-original'), //图片\n\turl: getUrl(),\n\tcol_type: 'movie_1_vertical_pic'\n});\n\nfor (var i in conts) {\n\tvar list = parseDomForArray(html,'body&&.myui-content__list&&li'); //选集列表\n\tif (list != null) {\n\t\td.push({\n\t\t\ttitle:  parseDomForHtml(conts[i], 'Text'), //线路名\n\t\t\tcol_type: 'long_text'\n\t\t});\n\t\tfor (var j in list) {\n\t\t\td.push({\n\t\t\t\ttitle: parseDomForHtml(list[j], 'a&&Text'), //选集名\n\t\t\t\turl: parseDom(list[j],'a&&href')+ `@lazyRule=.embed-responsive&&script&&Html.js:eval(input.replace(/player_.*?={/,'player_data={'));var jssp = player_data.url.split(\"\\/share\")[0];var json = fetch(player_data.url,{});player_data.url.indexOf(\"m3u8\")>-1?player_data.url:jssp+json.split(\\'main = \"\\')[1].split(\\'\"\\')[0]`,\n       col_type: list.length >3?'text_3':'text_2'\n\t\t\t});\n\t\t}\n\t}\n}\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"http://huoniaoys.com/template/mytheme/statics/img/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"720-L","author":"ᝰꫛꫀꪝ藍凋","version":1,"url":"https://www.720kp.cn/kanshow/fyclass-fyarea-fysort------fypage---fyyear.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫&哔哩","class_url":"dianying&lianxuju&zongyi&dongman&bilibili","area_name":"全部&内地&香港&台湾&日本&韩国&美国&泰国&英国&新加坡&其他","area_url":"&中国大陆&中国香港&中国台湾&日本&韩国&美国&泰国&英国&新加坡&其他","sort_name":"时间&人气&评分","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","find_rule":"body&&.list-a&&li;a&&title;.lazy&&data-original.js:input+'@Referer=';a&&span,-1&&Text!更新;a&&href","searchFind":"js:\nvar d = [];\nfunction D(L, Label){\n    try{\n        return parseDomForHtml(L, Label);\n    }catch(e){return '';}\n};\nvar list = parseDomForArray(getResCode(), '.searchlilst&&li');\n//try{\n    for (var i = 0; i < list.length; i++) {\n        var L = list[i];\n        d.push({\n            title: D(L, 'a&&title'),\n            url: parseDom(L, 'a&&href'),\n            desc: D(L, 'a&&span,-1&&Text'),\n            content: D(L, '.detail&&p&&Text') + '｜' + D(L, '.detail&&p,1&&Text') + '\\n' + D(L, '.detail&&p,3&&Text'),\n            img: parseDom(L, 'a&&data-original'),\n        });\r\n    }\n//}catch(e){ }\nsetSearchResult({data: d});","search_url":"https://www.720kp.cn/kansearch/**----------fypage---.html","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar config = fetch('hiker://files/cache/MyParseSet.json');\nvar jsUrl = 'https://code.aliyun.com/AI957/Hiker/raw/master/v/CloudParse-V2_Dn.js';\nif(config && fetch(JSON.parse(config).cj)){\n    jsUrl = JSON.parse(config).cj;\n} eval(fetch(jsUrl));\n\n//影片信息\ntry{\n   var details = parseDomForHtml(html, 'body&&dl&&Html');\n   var JJ = parseDomForHtml(html, 'body&&.js&&Text').replace(/介绍:/,'');\n   var img = parseDomForHtml(html,'.lazy&&data-original');\n   var _title = parseDomForHtml(details, '.s-top-info-detail&&p,6&&Text') + '\\n' + parseDomForHtml(details, 'dt,1&&Text');\n   var _desc = parseDomForHtml(details, 'span&&Text');\n   d.push({\n       title: _title,\n       desc: _desc,\n       img: img,\n       url: img + '#.jpg',\n       col_type: 'movie_1_vertical_pic'\n   });\n   d.push({\n       title: '‘‘’’<small><font color=\"#585858\">简介：' + JJ.substr(0, 70) + '...</font><small><font color=\"blue\">查看详情</font></small></small>',\n       url: $('hiker://empty#').rule((k)=>{\n            setHomeResult([{\n                title: k[0].replace(/dt>/g,'br>') + '<br>剧情介绍：<br>' + '　　' + k[1],\n                col_type: 'rich_text'\n            }])\n        }, [details, JJ]),\n       col_type: 'text_1'\n   });\n}catch(e){ }\n\n//线路和选集\ntry{\n    var conts = parseDomForArray(html, 'body&&.content_playlist');\n    for (var i = 0; i < conts.length; i++) {\n        var list = parseDomForArray(conts[i], 'ul&&li');\n        var line = parseDomForHtml(html, '.play_source&&#tag&&a,'+i+'&&Text');\n        if (list != null) {\n            d.push({col_type: 'line_blank'});\n            d.push({\n                title: '‘‘≣ '+line+'’’' + '\\t\\t' + (i + 1) + '／' + conts.length +'                       ',\n                url: setUrl,\n                col_type: 'text_1'\n            });\n            for (var j = 0; j  < list.length; j++) {\n                var jm = parseDomForHtml(list[j], 'a&&Text');\n                var jurl = parseDom(list[j], 'a&&href');\n                d.push({\n                    title: jm,\n                    url: playParse.player_xx(jurl, 'body&&#bofang_box&&script&&Html'),\n                    col_type: jm.length >5 ? 'text_2' : 'text_3'\n                });\n            }\n        }\n    }\n    d.push({title: '<br>', col_type: 'rich_text'});\n}catch(e){ }\n\nsetHomeResult({data: d});","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"https://www.720kp.cn/template/Ds-wap/img/load.gif"},{"last_chapter_rule":"","pageList":[],"title":"深空","author":"ᝰꫛꫀꪝ藍凋","version":1,"url":"https://shenkong.xyz/index.php/vodtype/fyAll-fypage.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.myui-vodlist&&li');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),\r\n       desc: parseDomForHtml(list[j], '.pic-text&&Text'),\r\n       pic_url: parseDom(list[j], '.lazyload&&data-original')+'@Referer=',\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\nvar res = {};\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.myui-vodlist__media&&li');\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j], 'a&&title'),\n       desc: parseDomForHtml(list[j], '.pic-text&&Text'),\n       content: parseDomForHtml(list[j], '.detail--h4&&Text'),\n       pic_url: parseDom(list[j], '.lazyload&&data-original')+'@Referer=',\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"\n  });\n}}catch(e){}\nres.data = d;\nsetHomeResult(res);","search_url":"https://shenkong.xyz/index.php/vodsearch/**----------fypage---.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:var d = [];var html=getResCode();\n\n\n//默认播放地址(需修改)\nvar lazy=`@lazyRule=.embed-responsive&&script&&Html.js:eval(input);player_aaaa.url`\n\n\n//视频标题的定位\ntry{\nvar des_title = parseDomForHtml(html, 'h1&&Text');\n\n}catch(e){\nvar des_title ='没有正确获取到影片名称哟！';\n}\n\n//剧情简介的定位\ntry{\nvar des_desc = parseDomForHtml(html,'.data,4&&Text');\n\n}catch(e){\nvar des_desc ='没有正确获取到剧情简介哟！';\n}\n\n//视频封面的定位\ntry{\nvar des_pic =parseDom(html,'.lazyload&&data-original');\n\n}catch(e){\nvar des_desc ='没有正确获取到简介图片路径哟！\\n'+des_desc;\n}\n\n//线路名列表的定位\nvar arts = parseDomForArray(html,'.nav-tabs&&li');\n\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.myui-content__list');\n   \nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))      //' 列表名改'ul&&li'\n}\n\nvar tabs = [];\nfor (var i in conts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text'))//有可能改Text\n\n}\n\n\n//下面除了获取选集名称例如1,2,3集，有的需要改下\n//有其他不需要修改\n\nd.push({\ntitle:des_title,\ndesc:des_desc,\npic_url:des_pic,\nurl:getUrl(),\ncol_type:'movie_1_vertical_pic_blur'\n});\n\nd.push({\n    col_type: 'line_blank'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n    url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n    col_type: 'scroll_button'\n})\n\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    d.push({\n        col_type: 'line_blank'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    if (getVar('shsort') == '1') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_2' : 'text_5'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_2' : 'text_5'\n            });\n        }\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://shenkong.xyz/template/mytheme/statics/img/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"槿TV","author":"ᝰꫛꫀꪝ藍凋","version":2,"url":"https://www.oao0.com/vodshow/fyclass-fyarea-fysort------fypage---fyyear.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"地区&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","sort_name":"时间&人气&评分","year_name":"年份&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.vodlist&&li');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),\r\n       desc: parseDomForHtml(list[j], 'a&&Text'),\r\n       pic_url: parseDom(list[j], '.lazyload&&data-original')+'@Referer=',\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\nvar items=[];\n\nvar list = parseDomForArray(getResCode(), '.vodlist&&li');//列表\nfor(var i in list){\ntry{\nitems.push({\ntitle:parseDomForHtml(list[i],'a&&title'),//标题\ndesc:parseDomForHtml(list[i],'.pic_text&&Text'),//描述\ncontent:parseDomForHtml(list[i],'p,-1&&Text'),//详情\npic_url:parseDom(list[i],'a&&data-original'),//图片\nurl:parseDom(list[i],'a&&href')+\"#immersiveTheme#\"//链接\n});\n  }catch(e){''}\n}\n//道佬•模板\nsetSearchResult({ data : items});","search_url":"https://www.oao0.com/vodsearch/**----------fypage---.html","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:var d = [];var html=getResCode();\n\n//默认播放地址(需修改)\nvar lazy = `@lazyRule=body&&.embed-responsive&&script&&Html.js:eval(input);player_aaaa.url`;\n\n\n//视频标题的定位\ntry{\nvar des_title = parseDomForHtml(html, 'h1&&Text');\n\n}catch(e){\nvar des_title ='没有正确获取到影片名称哟！';\n}\n\n//剧情简介的定位\ntry{\nvar des_desc = parseDomForHtml(html,'.content_desc&&Text');\n\n}catch(e){\nvar des_desc ='没有正确获取到剧情简介哟！';\n}\n\n//视频封面的定位\ntry{\nvar des_pic =parseDom(html,'.lazyload&&data-original');\n\n}catch(e){\nvar des_desc ='没有正确获取到简介图片路径哟！\\n'+des_desc;\n}\n\n//线路名列表的定位\nvar arts = parseDomForArray(html,'.play_source_tab&&a');\n\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&#playlistbox');\n   \nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))      //' 列表名改'ul&&li'\n}\n\nvar tabs = [];\nfor (var i in conts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text').replace(' ',''))//有可能改Text\n\n}\n\n\n//下面除了获取选集名称例如1,2,3集，有的需要改下\n//有其他不需要修改\n\nd.push({\ntitle:des_title,\ndesc:des_desc,\npic_url:des_pic,\nurl:getUrl(),\ncol_type:'movie_1_vertical_pic_blur'\n});\n\nd.push({\n    col_type: 'line_blank'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n    url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n    col_type: 'scroll_button'\n})\n\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    d.push({\n        col_type: 'line_blank'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    if (getVar('shsort') == '1') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_2' : 'text_5'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_2' : 'text_5'\n            });\n        }\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据均来源于网络，如您喜欢，请支持正版！</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何团体或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://www.oao0.com/template/conch/asset/img/loading.gif"},{"last_chapter_rule":"","pageList":[],"title":"最全电影","author":"ᝰꫛꫀꪝ藍凋","version":1,"url":"https://www.zuiquandy.com/vod/show/area/fyarea/by/fysort/id/fyclass/page/fypage/year/fyyear.html.js:input.replace('area//','/').replace('letter//','/').replace('year/.','.')","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"地区&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","sort_name":"时间&人气&评分","year_name":"年代&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.myui-vodlist&&li');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),\r\n       desc: parseDomForHtml(list[j], '.pic-text&&Text'),\r\n       pic_url: parseDom(list[j], '.lazyload&&data-original'),\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\nvar res = {};\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.myui-vodlist__media&&li');\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j], 'a&&title'),\n       desc: parseDomForHtml(list[j], '.pic-text&&Text'),\n       content: parseDomForHtml(list[j], '.detail--h4&&Text'),\n       pic_url: parseDom(list[j], '.lazyload&&data-original'),\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"\n  });\n}}catch(e){}\nres.data = d;\nsetHomeResult(res);","search_url":"https://www.zuiquandy.com/vod/search/page/fypage/wd/**.html","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:var d = [];var html=getResCode();\n\n\nvar lazy = `@lazyRule=body&&.embed-responsive&&script&&Html.js:eval(input);player_aaaa.url`;\n\n\n//视频标题的定位\ntry{\nvar des_title = parseDomForHtml(html, 'h1&&Text');\n\n}catch(e){\nvar des_title ='没有正确获取到影片名称哟！';\n}\n\n//剧情简介的定位\ntry{\nvar des_desc = parseDomForHtml(html,'.sketch&&Text');\n\n}catch(e){\nvar des_desc ='没有正确获取到剧情简介哟！';\n}\n\n//视频封面的定位\ntry{\nvar des_pic =parseDom(html,'.lazyload&&data-original');\n\n}catch(e){\nvar des_desc ='没有正确获取到简介图片路径哟！\\n'+des_desc;\n}\n\n//线路名列表的定位\nvar arts = parseDomForArray(html,'.nav-tabs&&li');\n\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.myui-content__list');\n   \nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))      //' 列表名改'ul&&li'\n}\n\nvar tabs = [];\nfor (var i in conts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text'))//有可能改Text\n\n}\n\n\n//下面除了获取选集名称例如1,2,3集，有的需要改下\n//有其他不需要修改\n\nd.push({\ntitle:des_title,\ndesc:des_desc,\npic_url:des_pic,\nurl:getUrl(),\ncol_type:'movie_1_vertical_pic_blur'\n});\n\nd.push({\n    col_type: 'line_blank'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n    url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n    col_type: 'scroll_button'\n})\n\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    d.push({\n        col_type: 'line_blank'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    if (getVar('shsort') == '1') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_2' : 'text_5'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_2' : 'text_5'\n            });\n        }\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://www.zuiquandy.com/template/mytheme/statics/img/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"60影视","author":"ᝰꫛꫀꪝ藍凋","version":1,"url":"https://www.60kan.com/vodshow/fyclass/area/fyarea/by/fysort/page/fypage/year/fyyear.html.js:input.replace('area//','/').replace('letter//','/').replace('year/.','.')","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"dianying&dianshi&zongyi&dongman","area_name":"地区&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","sort_name":"时间&人气&评分","year_name":"年份&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000","find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar list = parseDomForArray(html,'.fed-list-info&&li');\nfor (var j in list) {\n  d.push({\n     title: parseDomForHtml(list[j], 'a,1&&Text'),\n     desc:parseDomForHtml(list[j], '.fed-list-remarks&&Text'),\n     pic_url: parseDom(list[j], 'a&&data-original')+'@Referer=',\n     url: parseDom(list[j], 'a&&href')\n  });\n}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar list = parseDomForArray(html,'body&&.fed-deta-info');\nfor (var j in list) {\n  d.push({\n     title: parseDomForHtml(list[j], 'h1&&Text'),\n     desc:parseDomForHtml(list[j], '.fed-list-remarks&&Text'),\n     pic_url: parseDom(list[j], '.fed-lazy&&data-original'),\n     url: parseDom(list[j], 'a&&href')\n  });\n}\nres.data = d;\nsetHomeResult(res);","search_url":"https://www.60kan.com/vodsearch/wd/**/page/fypage.html","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js: \nvar res = {};\nvar d = [];\nvar html = getResCode();   \n\nvar Rule = MY_URL+`@rule=js:var res={};var d=[];var html=getResCode();for(var i = 0;;i++){try{var title=parseDomForHtml(html, 'body&&.fed-deta-content&&li,' +i+ '&&Text');d.push({title:title,col_type: 'text_1'});}catch(e){break;}}res.data=d;setHomeResult(res);`;\n\n//线路\nvar tabs = parseDomForArray(html, 'body&&.fed-drop-btns');\n\n//列表\nvar conts = parseDom(getResCode(), 'body&&.fed-drop-btms&&Html').match(/class=\\\"fed-part-rows\\\">[\\s\\S]*?<\\/ul>/g);\n\n//简介\nvar des_desc = parseDomForHtml(html, '.fed-part-esan&&Text');\nd.push({\ntitle:\nparseDomForHtml(html,'.fed-col-xs6.fed-col-md3&&Text')+'\\n'+\nparseDomForHtml(html,'.fed-col-xs6.fed-col-md3,1&&Text').replace('地区','地区')+'\\t'+parseDomForHtml(html, '.fed-col-xs12.fed-col-md6,1&&Text')+'\\n'+\n//\nparseDomForHtml(html, '.fed-col-xs12.fed-col-md6&&Text'),\n//\ndesc: parseDomForHtml(html,'.fed-col-xs6.fed-col-md3,2&&Text').replace('年份','年份')+'\\t'+\nparseDomForHtml(html, '.fed-col-xs6.fed-col-md3,3&&Text'),\n//\n\tpic_url: parseDom(html, '.fed-lazy&&data-original'),\n\turl: parseDom(html, '.fed-lazy&&data-original'),\n\tcol_type: 'movie_1_vertical_pic'\n});\n    \n\nd.push({\n       title: '共有' + conts.length + '条线路' ,\n       desc: '‘‘'+'点击显示详情'+'’’'+'\\n'+des_desc,\n       url: Rule,\n       col_type: 'text_1'\n});\n\nfor (var i in conts) {\n\tvar list = parseDomForArray(conts[i], 'body&&a');\n\tif (list != null) {\n\t\td.push({\n\t\t\ttitle:\n    parseDomForHtml(tabs[i], 'Text'),\n\t\t\tcol_type: 'text_1'\n\t\t});\n\n\t\tfor (var j in list) {\n\t\t\td.push({\n\t\t\t\ttitle: parseDomForHtml(list[j], 'a&&Text'),\n\t\t\t\turl: parseDom(list[j],'a&&href')+ `@lazyRule=iframe&&data-play.js:url = base64Decode(input.slice(3))`,\n\t\t\t\tcol_type: list.length > 3 ? 'text_3': 'text_2'\n\t\t\t});\n\t\t}\n\t}\n}\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://www.60kan.com/template/vfed/asset/img/favicon.png"},{"last_chapter_rule":"","pageList":[],"title":"国语视频","author":"ᝰꫛꫀꪝ藍凋","version":2,"url":"http://gygysp.com/list/fyclass-pg-fypage-order--by--class-0-year-fyyear-letter--area--lang-.html","col_type":"movie_3","class_name":"译制片&电视剧&电影&记录&动漫&类型&国产剧&香港剧&台湾剧&韩剧&日剧&欧美剧&泰剧&海外剧&动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片","class_url":"19&2&1&3&4&&12&13&16&14&17&15&20&18&5&6&7&8&9&10&11","area_name":"","area_url":"","sort_name":"","year_name":"年代&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000","sort_url":"","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000","find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar list = parseDomForArray(html,'.stui-vodlist&&li');\nfor (var j in list) {\n  d.push({\n     title: parseDomForHtml(list[j], 'a&&title'),\n     desc:parseDomForHtml(list[j], 'span,1&&Text'),\n     pic_url: parseDom(list[j], 'a&&data-original')+'@Referer=',\n     url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\n  });\n}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar list = parseDomForArray(html,'.stui-vodlist&&li');\nfor (var j in list) {\n  d.push({\n     title: parseDomForHtml(list[j], 'a&&title'),\n     desc:parseDomForHtml(list[j], 'span,1&&Text'),\n     pic_url: parseDom(list[j], 'a&&data-original')+'@Referer=',\n     url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\n  });\n}\nres.data = d;\nsetHomeResult(res);","search_url":"http://gygysp.com/index.php?m=vod-search","titleColor":"#ff673ab7","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:var d = [];var html=getResCode();\n\n\n//默认播放地址(需修改)\nvar lazy=`@lazyRule=head&&script,-1&&Html.js:eval(input);url`\n\n\n//视频标题的定位\ntry{\nvar des_title = parseDomForHtml(html, 'h1&&Text');\n\n}catch(e){\nvar des_title ='没有正确获取到影片名称哟！';\n}\n\n//剧情简介的定位\ntry{\nvar des_desc = parseDomForHtml(html,'.content&&Text');\n\n}catch(e){\nvar des_desc ='没有正确获取到剧情简介哟！';\n}\n\n//视频封面的定位\ntry{\nvar des_pic =parseDom(html,'.lazyload&&data-original');\n\n}catch(e){\nvar des_desc ='没有正确获取到简介图片路径哟！\\n'+des_desc;\n}\n\n//线路名列表的定位\nvar arts = parseDomForArray(html,'body&&h3:not([src])');\n\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist');\n   \nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))      //' 列表名改'ul&&li'\n}\n\nvar tabs = [];\nfor (var i in conts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text'))//有可能改Text\n\n}\n\n\n//下面除了获取选集名称例如1,2,3集，有的需要改下\n//有其他不需要修改\n\nd.push({\ntitle:des_title,\ndesc:des_desc,\npic_url:des_pic,\nurl:getUrl(),\ncol_type:'movie_1_vertical_pic_blur'\n});\n\nd.push({\n    col_type: 'line_blank'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n    url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n    col_type: 'scroll_button'\n})\n\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    d.push({\n        col_type: 'line_blank'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    if (getVar('shsort') == '1') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_2' : 'text_5'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_2' : 'text_5'\n            });\n        }\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"http://gygysp.com/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"北川","author":"ᝰꫛꫀꪝ藍凋&&sm`回忆","version":3,"url":"https://bcyingshi.ink/vodshow/1--------%%fypage%%---/","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nlet d = [];\n//自定义颜色\n  const Color=\"#40E0D0\";\n  \n  const a=MY_URL.replace(/%%/g, \"\");\n  let true_url = getVar(\"jh.url\", a)\n  const page=MY_URL.match(/%%(.*)%%/)[1];\n\n//setError(page);\n\n//翻页 需要根据实际替换\n  true_url = true_url.replace('---/', +page+'---/')  \n  const html = fetch(true_url)\n  const empty = \"hiker://empty\"\n//获取列表 \n  const categories = parseDomForArray(html, '#main&&.scroll-content:not(:contains(全部类型))')\n\n//setError(true_url);\n\n  let init_cate = []\n\n  for (let i = 0; i < 20; i ++) {\n    init_cate.push(\"0\")\n  }\n\n  // 取缓存\n  const fold = getVar(\"jh.fold\", \"0\")\n  const cate_temp_json = getVar(\"jh.category\", JSON.stringify(init_cate))\n  const cate_temp = JSON.parse(cate_temp_json)\n\n\n  if (parseInt(page) === 1) {\n    d.push({\n        title: fold === '1' ? '““””<b><span style=\"color: #FF0000\">∨</span></b>' : '““””<b><span style=\"color: #1aad19\">∧</span></b>',\n        url: $(empty).lazyRule((fold) => {\n            putVar(\"jh.fold\", fold === '1' ? '0' : '1');\n            refreshPage(false);\n            return \"hiker://empty\"\n        }, fold),\n        col_type: 'scroll_button',\n    })\n\n\n    categories.forEach((category, index) => {\n        let sub_categories = parseDomForArray(category, 'div&&a');\n        if (index === 0) {\n            sub_categories.forEach((item, key) => {\n                let title = parseDomForHtml(item, 'a&&Text').replace('片库','')\n                d.push({\n                    title: key.toString() === cate_temp[index] ? '““””<b><span style=\"color:' + Color + '\">' + title + '</span></b>' : title,\n                    url: $(parseDom(item, 'a&&href')).lazyRule((params) => {\n                        let new_cate = []\n                        params.cate_temp.forEach((cate, index) => {\n                            new_cate.push(index === 0 ? params.key.toString() : \"0\")\n                        })\n                        putVar(\"jh.category\", JSON.stringify(new_cate))\n                        putVar(\"jh.url\", input)\n                        refreshPage(true)\n                        return \"hiker://empty\"\n                    }, {\n                        cate_temp: cate_temp,\n                        key: key,\n                        page: page,\n                    }),\n                    col_type: 'scroll_button',\n                })\n            })\n            d.push({\n                col_type: \"blank_block\"\n            });\n        } else if (fold === '1') {\n            sub_categories.forEach((item, key) => {\n                let title = parseDomForHtml(item, 'a&&Text')\n                d.push({\n                    title: key.toString() === cate_temp[index] ? '““””<b><span style=\"color:' + Color + '\">' + title + '</span></b>' : title,\n                    url: $(parseDom(item, 'a&&href')).lazyRule((params) => {\n                        params.cate_temp[params.index] = params.key.toString()\n\n                        putVar(\"jh.category\", JSON.stringify(params.cate_temp))\n                        putVar(\"jh.url\", input)\n                        refreshPage(true)\n                        return \"hiker://empty\"\n                    }, {\n                        cate_temp: cate_temp,\n                        index: index,\n                        key: key,\n                        page: page,\n                    }),\n                    col_type: 'scroll_button',\n                })\n            })\n            d.push({\n                col_type: \"blank_block\"\n            });\n        }\n    })\n}\n//一级页面\nlist = parseDomForArray(html, 'body&&.module-item');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),\r\n       desc: parseDomForHtml(list[j], '.module-item-text&&Text'),\r\n       img: parseDom(list[j], 'img&&data-src')+'@Referer=',\r\n       url: parseDom(list[j],'a&&href') +\"#immersiveTheme#\"\n  });\r\n}\r\nsetResult(d);","searchFind":"js:\nvar d = [];\nvar html = getResCode();\n\nvar list = parseDomForArray(html,'body&&.module-list&&.module-search-item');\n\n    for (var i = 0; i < list.length; i++) {\n        var L = list[i];\n        d.push({\n            title: parseDomForHtml(L, 'img&&alt'),\n            url: parseDom(L, 'a,1&&href')+\"#immersiveTheme#\",\n            desc:  parseDomForHtml(L, '.video-info&&a&&Text'),\n            content: parseDomForHtml(L, '.video-info-main&&.video-info-item,2&&Text'),\n            img: parseDom(L, 'img&&data-src'),\n        });\r\n    }\nsetResult(d)","search_url":"https://bcyingshi.ink/vodsearch/**----------fypage---/","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\nvar _x5 = $.toString(() => {\n    fba.log(fba.getUrls())\n    var urls = _getUrls()\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i])\n            return urls[i].replace('https://bcyingshi.ink/jx/jiexi.php?url=','').replace(/&.*/,'')\n        }\n    }\n});\n\n//线路名列表的定位\nvar arts = parseDomForArray(html, 'body&&.module-tab-content&&.module-tab-item');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'span&&Text'))\n}\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.sort-item');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\nvar 主演 = parseDomForHtml(html, '.video-info-items,1&&Text');\n\nvar 导演 = parseDomForHtml(html, '.video-info-items,0&&Text');\n\nvar 地区 = parseDomForHtml(html, '.tag-link,3&&Text');\n\nvar 状态 = parseDomForHtml(html, '.video-info-items,3&&Text');\n\nvar 图片 = parseDom(html, '.lazyload&&data-src');\n\nvar 简介 = parseDomForHtml(html, '.video-info-items,4&&Text');\n\n\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nlet line_model = 8;\nlet line_type_model = 'blank_block';\nd.push({\n    title: 状态 + '\\n' + 主演,\n    desc: 导演 + '\\n' + 地区,\n    pic_url: 图片,\n    url:MY_URL,\n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 55) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' + '\\n' + 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:\"x5Rule://\"+parseDom(list[j], 'a&&href') + '@' + _x5,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url:\"x5Rule://\"+parseDom(list[j], 'a&&href')  + '@' + _x5,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://bcyingshi.ink/img/logo2.png"},{"last_chapter_rule":"","pageList":[],"title":"嘟嘟","author":"ᝰꫛꫀꪝ藍凋","version":0,"url":"https://www.dudu2020.com/index.php?m=vod-list-id-fyclass-pg-fypage-order--by-fysort-class-0-year-fyyear-letter--area-fyarea-lang-.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"地区&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","sort_name":"时间&人气&评分","year_name":"年代&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.index-area&&li');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),\r\n       desc: parseDomForHtml(list[j], '.other&&Text'),\r\n       pic_url: parseDom(list[j], 'img&&data-original')+'@Referer=',\r\n       url: parseDom(list[j],'a&&href')\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\nvar res = {};\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.index-area&&li');\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j], 'a&&title'),\n       desc: parseDomForHtml(list[j], '.other&&Text'),\n       content: parseDomForHtml(list[j], '.actor&&Text'),\n       pic_url: parseDom(list[j], 'img&&data-original'),\n       url: parseDom(list[j],'a&&href')\n  });\n}}catch(e){}\nres.data = d;\nsetHomeResult(res);","search_url":"https://www.dudu2020.com/index.php?m=vod-search-pg-fypage-wd-**.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html=getResCode();\n//默认播放地址(需修改)\nvar _x5 = $.toString(() => {\n    fba.log(fba.getUrls())\n    var urls = _getUrls()\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i])\n            return urls[i].replace('https://www.tutukiki.com/m3u8/?url=','').replace('https://jx.jxbdzyw.com/m3u8/?url=','')\n        }\n    }\n});\n\ntry{\nvar des_title = parseDomForHtml(html, '.lazy&&alt');//ok\n}catch(e){\nvar des_title ='没有正确获取到影片名称哟！';\n}\ntry{\nvar des_pic =parseDom(html,'.lazy&&data-original');//ok\n}catch(e){\nvar des_desc ='没有正确获取到简介图片路径哟！\\n'+des_desc;\n}\ntry{\nvar des_desc = parseDomForHtml(html,'.ee&&Text');\n}catch(e){\nvar des_desc ='没有正确获取到剧情简介哟！';\n}\nvar arts = parseDomForArray(html,'.playfrom&&li');//线路列表\nvar conts = parseDomForArray(html, 'body&&#vlink_1');//播放列表\n\nvar tabs = [];\nfor (var i in conts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text'))   //线路名\n}\n\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))    //' 列表名改'ul&&li'\n}\n\n\n//下面除了获取选集名称例如1,2,3集，有的需要改下！\n//不需要就不要修改\n\nd.push({\ntitle:des_title,\ndesc:des_desc,\npic_url:des_pic,\nurl:getUrl(),\ncol_type:'movie_1_vertical_pic'\n});\n//折叠需要用到的\n\nfunction setTabs(tabs, vari) {\n     d.push({\n        title: '‘‘🔎线路’’',\n        col_type: 'text_center_1'\n    })\n    var title = '';\n   if(tabs.length != '')  {\n    for (var i = 0; i < tabs.length; i++) {\n        var url = \"hiker://empty@lazyRule=.js:putVar('\"+vari+\"', '\"+i+\"');refreshPage();'toast://切换成功！'\";\n\n        d.push({\n           title: (getVar(vari, '0')==i?'🚩':'')+tabs[i] ,\n           url: url,\n           col_type: tabs.length>2?'text_3':'text_2'\n        })\n    }\n    \n }else{d.push({title:'当前线路暂无线路,请检查线路是否正确',url:'toast://当前线路暂无线路,请检查线路是否正确',col_type: 'text_1'});}     \n    \n    d.push({        col_type: 'line_blank'    })\n}\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#0aa344\">(逆序)</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\">  (正序)</font></small>';}\n    function setLists(lists, index) {\n        d.push({\n           // title: '‘‘选集’’',\n            title: '‘‘选集’’' +'〰️'+ sx,\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n\nif(lists.length != '')  {\n        var list = lists[index];\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text'),\n                url:\"x5Rule://\"+ parseDom(list[j], 'a&&href')  + '@' + _x5,\n                col_type: list.length > 3 ? 'text_3' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text'),\n                url: \"x5Rule://\"+parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 3 ? 'text_3' : 'text_2'\n                });\n            }\n        }\n        \n        }else{d.push({title:'当前线路暂无集数,请检查选集是否正确',url:'toast://当前线路暂无集数,请检查选集是否正确',col_type: 'text_1'});}    \n      d.push({title:'<br>',col_type:'rich_text' });      \n    }\n\n// 调用函数\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\n\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://gitee.com/xu-le-0420/lele/raw/master/xbtc2244d1dcdc350c774799bd31e8c2dbda.jpg"},{"last_chapter_rule":"","pageList":[],"title":"B12-L","author":"ᝰꫛꫀꪝ藍凋","version":2,"url":"https://www.b12s.cn/frim/fyAll-fypage.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫&电影解说","class_url":"index1&index2&index3&index4&index39","area_name":"类型&动作片&喜剧片&爱情片&科幻片&恐怖片&战争片&剧情&记录片","area_url":"&index5&index10&index6&index7&index8&index9&index12&index11","sort_name":"","year_name":"类型&国产剧&香港剧&台湾剧&韩剧&日剧&欧美剧&泰剧&海外剧","sort_url":"","year_url":"&index13&index36&index33&index31&index30&index32&index34&index40","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.myui-vodlist&&li');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),\r\n       desc: parseDomForHtml(list[j], '.pic-text&&Text'),\r\n       pic_url: parseDom(list[j], '.lazyload&&data-original'),\r\n       url: parseDom(list[j],'a&&href')\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\nvar res = {};\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.myui-vodlist__media&&li');\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j], 'a&&title'),\n       desc: parseDomForHtml(list[j], '.pic-text&&Text'),\n       content: parseDomForHtml(list[j], '.detail--h4&&Text'),\n       pic_url: parseDom(list[j], '.lazyload&&data-original'),\n       url: parseDom(list[j],'a&&href')\n  });\n}}catch(e){}\nres.data = d;\nsetHomeResult(res);","search_url":"https://www.b12s.cn/search.php?page=fypage&searchword=**&searchtype=","titleColor":"#ff228be6","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\njs:\nvar d = [];\nvar html = getResCode();\n\nvar arts = parseDomForArray(html,'.nav&&a');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text'))\n}\n\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\nd.push({\n\ttitle: parseDomForHtml(html, '.data&&Text').replace('分类|','').replace('地区：','').replace('年份：',' ').substring(0, 18)+ '\\n' + parseDomForHtml(html,'.data,2&&Text').substring(0, 15)+'\\n'+parseDomForHtml(html, '.data,1&&Text').substring(0, 15),\n\tdesc:parseDomForHtml(html,'.data,4&&Text').substring(0, 16),\n\tpic_url: parseDom(html, '.lazyload&&data-original'),\n\turl: MY_URL,\n\tcol_type: 'movie_1_vertical_pic'\n});\n\nvar des_desc = parseDomForHtml(html, '.data.hidden-xs&&Text');\n d.push({\n          title: des_desc.length > 46 ? des_desc.replace(des_desc, des_desc.substring(0, 46) +'...‘‘’’<font color=\"#0aa344\">详情</font></small>') : des_desc,\n         url: 'hiker://empty#' + parseDomForHtml(html,'body&&.myui-content__detail&&Html').split('/h1>')[1].replace(/;/g,'').replace(/<p/g,'<br><ul') + `@rule=js:var res = {}; var d = [];d.push({title: MY_URL.split('hiker://empty#')[1],col_type: 'rich_text'});res.data = d; setHomeResult(res);`,      \n          col_type: 'text_1'\n});\n\nvar lazy =\n`@lazyRule=.embed-responsive&&script&&Html.js:eval(input);var url = now.split(\"\\/share\")[0];var json = fetch(now,{});now.indexOf(\"m3u8\")>-1?now:url+json.split(\\'main = \"\\')[1].split(\\'\"\\')[0]`\n\nfunction setTabs(tabs, vari) {\n        d.push({\n            title: '‘‘线路’’',\n            url: `@lazyRule=.js:let conf = getVar('折叠');if(conf=='关'){putVar({key:'折叠', value:'开'});}else{putVar({key:'折叠', value:'关'})};refreshPage(false);'toast://切换成功'`,\n            col_type: 'text_center_1'\n        })\nif (getVar('折叠') == '开'||getVar('折叠') == '') {\n        var title = '';\n        for (var i = 0; i < tabs.length; i++) {\n            var url = \"@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！'\";\n            d.push({\n                title: (getVar(vari, '0') == i ? '▶️' : '') + tabs[i],\n                url: url,\n                col_type: 'text_2'\n            })\n        }\n        d.push({\n            col_type: 'line_blank'\n        })\n    }\n}\n    function setLists(lists, index) {\n        d.push({\n            title: '‘‘选集’’',\n            url: `@lazyRule=.js:let conf = getVar('shsort');if(conf==' - 逆序'){putVar({key:'shsort', value:' - 正序'});}else{putVar({key:'shsort', value:' - 逆序'})};refreshPage(false);'toast://切换排序成功'`,\n            col_type: 'text_center_1'\n        })\n        var list = lists[index];\n\nif (getVar('shsort') == ' - 逆序') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text'),\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: list.length > 3 ? 'text_3' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'a&&Text'),\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: list.length > 3 ? 'text_3' : 'text_2'\n                });\n            }\n        }\n    }\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\n\nd.push({title: '<br>', col_type: 'rich_text'});\n\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://gitee.com/xu-le-0420/lele/raw/master/xbtc2244d1dcdc350c774799bd31e8c2dbda.jpg"},{"last_chapter_rule":"","pageList":[],"title":"三九","author":"ᝰꫛꫀꪝ藍凋","version":0,"url":"https://www.sanjiuyy.com/vodshow/fyclass-fyarea-fysort------fypage---fyyear.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"dianying&dianshiju&zongyi&dongman","area_name":"全部&大陆&香港&台湾&日本&韩国&美国&英国&法国&泰国&德国&印度&意大利&西班牙&加拿大&其他","area_url":"&大陆&香港&台湾&日本&韩国&美国&英国&法国&泰国&德国&印度&意大利&西班牙&加拿大&其他","sort_name":"时间&人气&评分","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010","find_rule":"js:\r\nvar d = [];\nvar list = parseDomForArray(getResCode(), 'body&&li:has(.mo-situ-lazy)');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], '.mo-situ-name&&Text'),\r\n       desc: parseDomForHtml(list[j], '.mo-situ-rema&&Text'),\r\n       img: parseDom(list[j], 'a&&data-original'),\r\n       url: parseDom(list[j], 'a&&href')\r+\"#immersiveTheme#\"\n  });\r\n}\r\nsetResult(d);","searchFind":"js:\r\nvar d = [];\nvar list = parseDomForArray(getResCode(), 'body&&li:has(.mo-situ-lazy)');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], '.mo-situ-name&&Text'),\r\n       desc: parseDomForHtml(list[j], '.mo-situ-rema&&Text'),\r\n       img: parseDom(list[j], 'a&&data-original'),\r\n       url: parseDom(list[j], 'a&&href')\r+\"#immersiveTheme#\"\n  });\r\n}\r\nsetResult(d);","search_url":"https://www.sanjiuyy.com/vodsearch/**----------fypage---.html","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:var d = [];var html=getResCode();\nvar jsUrl = fetch('hiker://files/cache/MyParseSet.json');\n    if(jsUrl == '' || !fetch(JSON.parse(jsUrl).cj)){var jsFile = fetch('https://gitee.com/Duan-Nian/Dn/raw/master/hikerview/CloudParse-V2_Dn.js');}else{var jsFile = fetch(JSON.parse(jsUrl).cj);}eval(jsFile);\n\n//默认播放地址(需修改)\nvar lazy=`@lazyRule=.js:var js = request(input);var jsUrl = base64Decode(parseDomForHtml(js, '.mo-play-load&&data-play').slice(3));var jx = parseDomForHtml(js, '.mo-play-load&&data-parse');if(jsUrl.match(/html/)){var input=jsUrl;`+lazy+`}else{jsUrl}`\n\n\n//视频标题的定位\ntry{\nvar des_title = parseDomForHtml(html, 'h1&&Text');\n\n}catch(e){\nvar des_title ='没有正确获取到影片名称哟！';\n}\n\n//剧情简介的定位\ntry{\nvar des_desc = parseDomForHtml(html,'.mo-lhxl-24px&&Text');\n\n}catch(e){\nvar des_desc ='没有正确获取到剧情简介哟！';\n}\n\n//视频封面的定位\ntry{\nvar des_pic =parseDom(html,'.mo-situ-pics&&data-original');\n\n}catch(e){\nvar des_desc ='没有正确获取到简介图片路径哟！\\n'+des_desc;\n}\n\n//线路名列表的定位\nvar arts = parseDomForArray(html,'body&&.mo-movs-btns');\n\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.mo-movs-item');\n   \nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))      //' 列表名改'ul&&li'\n}\n\nvar tabs = [];\nfor (var i in conts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text'))//有可能改Text\n\n}\n\n\n//下面除了获取选集名称例如1,2,3集，有的需要改下\n//有其他不需要修改\n\nd.push({\ntitle:des_title,\ndesc:des_desc,\npic_url:des_pic,\nurl: setUrl,\ncol_type:'movie_1_vertical_pic_blur'\n});\n\nd.push({\n    col_type: 'line_blank'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n    url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n    col_type: 'scroll_button'\n})\n\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    d.push({\n        col_type: 'line_blank'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    if (getVar('shsort') == '1') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_2' : 'text_5'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_2' : 'text_5'\n            });\n        }\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://gitee.com/xu-le-0420/lele/raw/master/xbtc2244d1dcdc350c774799bd31e8c2dbda.jpg"},{"last_chapter_rule":"","pageList":[],"title":"清爽一夏","author":"ᝰꫛꫀꪝ藍凋","version":3,"url":"http://91kankanba.com/list/fyclass_fypage__fysort_0_0__fyarea_.html","col_type":"movie_3_marquee","class_name":"电影&电视剧&综艺&动漫&韩剧&美剧","class_url":"1&2&3&4&14&15","area_name":"地区&大陆&香港&台湾&日本&韩国&美国&英国&法国&泰国&德国&印度&意大利&西班牙&加拿大&其他","area_url":"&大陆&香港&台湾&日本&韩国&美国&英国&法国&泰国&德国&印度&意大利&西班牙&加拿大&其他","sort_name":"时间&人气&评分","year_name":"","sort_url":"time&hits&score","year_url":"","find_rule":".row&&li;a&&title;.item-lazy&&data-echo;.item-num&&Text;a&&href.js:input +\"#immersiveTheme#\"","searchFind":".row&&li;a&&title;a&&href.js:input +\"#immersiveTheme#\";*;.item-des&&Text;.item-lazy&&data-echo","search_url":"http://91kankanba.com/search-pg-fypage-wd-**.html","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:var d = [];var html=getResCode();\n\n\n//默认播放地址(需修改)\nvar lazy=$(\"\",\".video-area&&script&&Html\").lazyRule(()=>{\n    let path=input.match(/view_path.*?'(.*?)'/)[1];\n    let md5=request(\"http://91kankanba.com/hls2/index.php?url=\"+path).match(/id=\"hdMd5\"value=\"(.*?)\"/)[1];\n    let playUrl=request(\"http://91kankanba.com/hls2/url.php\",{body:\"id=\"+path+\"&md5=\"+md5,method:\"POST\"});\n    return JSON.parse(playUrl).media.url;\n});\n\n\n//视频标题的定位\ntry{\nvar des_title = parseDomForHtml(html, 'h1&&Text');\n\n}catch(e){\nvar des_title ='没有正确获取到影片名称哟！';\n}\n\n//剧情简介的定位\ntry{\nvar des_desc = parseDomForHtml(html,'.detail-intro-txt&&Text');\n\n}catch(e){\nvar des_desc ='没有正确获取到剧情简介哟！';\n}\n\n//视频封面的定位\ntry{\nvar des_pic =parseDom(html,'img&&src');\n\n}catch(e){\nvar des_desc ='没有正确获取到简介图片路径哟！\\n'+des_desc;\n}\n\n//线路名列表的定位\nvar arts = parseDomForArray(html,'.hd&&li');\n\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, '.numList');\n   \nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))      //' 列表名改'ul&&li'\n}\n\nvar tabs = [];\nfor (var i in conts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text'))//有可能改Text\n\n}\n\n\n//下面除了获取选集名称例如1,2,3集，有的需要改下\n//有其他不需要修改\n\nd.push({\ntitle:des_title,\ndesc:des_desc,\npic_url:des_pic,\nurl:getUrl(),\ncol_type:'movie_1_vertical_pic_blur'\n});\n\nd.push({\n    col_type: 'line_blank'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n    url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n    col_type: 'scroll_button'\n})\n\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    d.push({\n        col_type: 'line_blank'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    if (getVar('shsort') == '1') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_2' : 'text_5'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_2' : 'text_5'\n            });\n        }\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据均来源于网络，如您喜欢，请支持正版！</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何团体或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://gitee.com/xu-le-0420/lele/raw/master/xbtc2244d1dcdc350c774799bd31e8c2dbda.jpg"},{"last_chapter_rule":"","pageList":[],"title":"泰剧网","author":"ᝰꫛꫀꪝ藍凋","version":1,"url":"http://www.hjjk.cc/show/fyclass--fysort------fypage---fyyear.html","col_type":"movie_3","class_name":"泰剧&电影&电视剧&动漫&综艺","class_url":"1&2&3&4&16","area_name":"","area_url":"","sort_name":"月排行&周排行&日排行&热剧推荐","year_name":"年代&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000","sort_url":"hits_month&hits_week&hits_day&time","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004&2003&2002&2001&2000","find_rule":"js:\nvar res = {};\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.myui-vodlist&&li');\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j], 'a&&title'),\n       desc: parseDomForHtml(list[j], '.pic-text&&Text'),\n       pic_url: parseDom(list[j], 'a&&data-original'),\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"\n  });\n}}catch(e){}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.myui-vodlist__media&&li');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),\r\n       desc: parseDomForHtml(list[j], '.pic-text&&Text'),\r\n       pic_url: parseDom(list[j], 'a&&data-original'),\r\n       url: parseDom(list[j],'a&&href')\r+\"#immersiveTheme#\"\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","search_url":"http://www.hjjk.cc/search/**----------fypage---.html","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:var d = [];var html=getResCode();\n\n\n//默认播放地址(需修改)\nvar lazy=`@lazyRule=.embed-responsive&&script&&Html.js:eval(input);player_aaaa.url`\n\n\n//视频标题的定位\ntry{\nvar des_title = parseDomForHtml(html, 'h1&&Text');\n\n}catch(e){\nvar des_title ='没有正确获取到影片名称哟！';\n}\n\n//剧情简介的定位\ntry{\nvar des_desc = parseDomForHtml(html,'.myui-content__detail&&Text');\n\n}catch(e){\nvar des_desc ='没有正确获取到剧情简介哟！';\n}\n\n//视频封面的定位\ntry{\nvar des_pic =parseDom(html,'.lazyload&&data-original');\n\n}catch(e){\nvar des_desc ='没有正确获取到简介图片路径哟！\\n'+des_desc;\n}\n\n//线路名列表的定位\nvar arts = parseDomForArray(html,'body&&.myui-panel-box');\n\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.myui-content__list');\n   \nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))      //' 列表名改'ul&&li'\n}\n\nvar tabs = [];\nfor (var i in conts) {\n    tabs.push(parseDomForHtml(arts[i], 'h3&&Text'))//有可能改Text\n\n}\n\n\n//下面除了获取选集名称例如1,2,3集，有的需要改下\n//有其他不需要修改\n\nd.push({\ntitle:des_title,\ndesc:des_desc,\npic_url:des_pic,\nurl:getUrl(),\ncol_type:'movie_1_vertical_pic_blur'\n});\n\nd.push({\n    col_type: 'line_blank'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n    url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n    col_type: 'scroll_button'\n})\n\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    d.push({\n        col_type: 'line_blank'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    if (getVar('shsort') == '1') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_2' : 'text_5'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_2' : 'text_5'\n            });\n        }\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据均来源于网络，如您喜欢，请支持正版！</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何团体或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://gitee.com/xu-le-0420/lele/raw/master/xbtc394307032c2fd6cf759967a9023c7e34.jpg"},{"last_chapter_rule":"","pageList":[],"title":"测试私有存储功能","author":"Reborn","version":2,"url":"hiker://empty","col_type":"text_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = []\nd.push({\n    title: '当前值：'+getItem(\"test\") + '，点我测试更换',\n    col_type: \"text_1\",\n    url: $().lazyRule(()=>{\n        setItem(\"test\",\"666\")\n        refreshPage()\n        return \"toast://更换成功\"\n    })\n})\nd.push({\n    title: '点我重置',\n    col_type: \"text_1\",\n    url: $().lazyRule(()=>{\n        clearItem(\"test\")\n        refreshPage()\n        return \"toast://重置成功\"\n    })\n})\nsetResult(d)","searchFind":"","search_url":"","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]"},{"last_chapter_rule":"","pageList":[],"title":"阿里小站·⭐","author":"小🔥星","version":9,"url":"https://alixiaozhan.net/t/fyAll?page=fypage","col_type":"text_center_1","class_name":"影视&软件&游戏&音乐","class_url":"video&software&games&music","area_name":"动漫&书籍&学习&求助&其他&网盘转移&","area_url":"comic&books&learn&help&other&panmove&","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&#flarum-content&&ul&&li;a&&Text;;;a&&href==>js:var res={};var d=[];html=getResCode();text=parseDomForHtml(html,\"#flarum-content&&Html\");d.push({title:text,col_type:'rich_text'});res.data=d;setHomeResult(res);","searchFind":"body&&.container;a&&Text;a&&href;;;;","search_url":"https://alixiaozhan.net/?q=**page=fypage","titleColor":"#ff228be6","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:var res={};var d=[];html=getResCode();text=parseDomForHtml(html,\"#flarum-content&&Html\");d.push({title:text,col_type:'rich_text'});res.data=d;setHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","icon":"https://z3.ax1x.com/2021/10/28/5LoQQs.png"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"二级","path":"二级","rule":"\nfunction setTabs(tabs, vari) {\n        for (var i = 0; i < tabs.length; i++) {\n            var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n            d.push({\n                title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n                url: url,\n                col_type: 'flex_button'\n            })\n        }\nd.push({\n            col_type: 'line'\n        })        \n    }\n\nfunction setLists(lists, index) {\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#228be6\"> ▼正序</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\"> △逆序</font></small>';\n}\n\n        d.push({\n          title:  '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n            url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n            col_type: 'text_center_1',extra: {lineVisible: false}\n        })\n        var list = lists[index];\n\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'a&&Text'),\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: list.length > 3 ? 'text_3' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'a&&Text'),\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: list.length > 3 ? 'text_3' : 'text_2'\n                });\n            }\n        }\n    }\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\n\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\n\nd.push({title: '<br>', col_type: 'rich_text'});\n\nsetResult(d);"}],"title":"陆伍Ⓓ","author":"//2021/","version":2,"url":"https://www.x65k.com/index.php?s=home-vod-type-id-fyclass-area-fyarea-order-fysort-picm-1-p-fypage","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫&","class_url":"1&2&4&3&","area_name":"全部&大陆&香港&台湾&美国&韩国&日本&泰国&新加坡&马来西亚&印度&英国&法国&加拿大&西班牙&俄罗斯&其它","area_url":"&大陆&香港&台湾&美国&韩国&日本&泰国&新加坡&马来西亚&印度&英国&法国&加拿大&西班牙&俄罗斯&其它","sort_name":"时间&人气&评分","year_name":"","sort_url":"addtime&hits&gold","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\n\nd.push({\n    url:\"'hiker://search?rule=陆伍Ⓓ&s='+input\",\n    title:'搜索',\n    col_type:\"input\",\n})\n\ntry{\nvar list = parseDomForArray(getResCode(), '.img-list&&li');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),\r\n       desc: parseDomForHtml(list[j], '.vtitle&&Text'),\r\n       pic_url: parseDom(list[j], '.lazyload&&data-original'),\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.img-list&&li');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),\r\n       desc: parseDomForHtml(list[j], '.news-tips&&Text'),\r\n       pic_url: parseDom(list[j], '.lazyload&&data-original'),\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","search_url":"https://www.x65k.com/search/**.html","titleColor":"#ff871f78","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar lazy = `@lazyRule=.js:eval(parseDomForHtml(request(input,{}),'.embed-responsive&&script&&Html'));var jsurl=decodeURIComponent(zanpiancms_player.url);if(jsurl.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu|le/)){eval(\"var config =\" + fetch(\"hiker://files/cache/MyParseSet.json\"));eval(fetch(config.cj));aytmParse(jsurl)}else if(zanpiancms_player.from=='陆伍Ⓓ'){jsurl}else if(jsurl.match(/renrenmi/)){var urll=request(\"https://jiexi.moeamv.com/analysis.php?v=\"+jsurl).match(/urls = \"(.*?)\"/)[1];writeFile('hiker://files/cache/video.m3u8', fetch(urll, {}));'file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/cache/video.m3u8#'+urll}else{jsurl}`\n\nvar arts = parseDomForArray(html,'.details-play-more&&.player-more-list&&a');\n\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text'))\n}\n\nvar conts = parseDomForArray(html, 'body&&.play-list');\n\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\nd.push({\n    title: parseDomForHtml(html, '.col-xs-1,3&&Text').substring(0, 10)+ '\\n'+parseDomForHtml(html, '.col-xs-2,1&&Text').replace('上映时间：', ' ').substring(0, 12) +\nparseDomForHtml(html, '.col-xs-2,2&&Text').replace('国家/地区：', ' ').substring(0, 12)+ '\\n' + parseDomForHtml(html, '.col-md-1&&Text').substring(0, 18),\n    desc:parseDomForHtml(html, '.pb-xs-0&&Text'),\n    pic_url: parseDom(html, '.vod-detail-thumb&&img&&src'),\n   // url: fm,\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",\n    col_type: 'movie_1_vertical_pic_blur'\n});\n\n\neval(JSON.parse(fetch('hiker://page/二级', {})).rule);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"二级\",\"path\":\"二级\",\"rule\":\"\\nfunction setTabs(tabs, vari) {\\n        for (var i = 0; i < tabs.length; i++) {\\n            var url = \\\"#noLoading#@lazyRule=.js:putVar('\\\" + vari + \\\"', '\\\" + i + \\\"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\\\";\\n            d.push({\\n                title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\\n                url: url,\\n                col_type: 'flex_button'\\n            })\\n        }\\nd.push({\\n            col_type: 'line'\\n        })        \\n    }\\n\\nfunction setLists(lists, index) {\\n\\nvar Color = \\\"#f13b66a\\\";\\nvar Color1 = \\\"#098AC1\\\";\\n\\nif (getVar('shsort') == '1') {\\n    var sx = '‘‘’’<font color=\\\"#228be6\\\"> ▼正序</font></small>';\\n} else {\\n    var sx = '‘‘’’<font color=\\\"#0aa344\\\"> △逆序</font></small>';\\n}\\n\\n        d.push({\\n          title:  '‘‘’’<span style=\\\"color:' + Color1 + '\\\"><small>选集列表</small>' + '\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<span style=\\\"float:right\\\">' + '<small>' + sx + '</small>',\\n            url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\\n            col_type: 'text_center_1',extra: {lineVisible: false}\\n        })\\n        var list = lists[index];\\n\\nif (getVar('shsort') == '1') {\\n            for (var j = list.length - 1; j >= 0; j--) {\\n                d.push({\\n                title: parseDomForHtml(list[j], 'a&&Text'),\\n                url: parseDom(list[j], 'a&&href') + lazy,\\n                col_type: list.length > 3 ? 'text_3' : 'text_2'\\n                });\\n            }\\n        } else {\\n            for (var j = 0; j < list.length; j++) {\\n                d.push({\\n                title: parseDomForHtml(list[j], 'a&&Text'),\\n                url: parseDom(list[j], 'a&&href') + lazy,\\n                col_type: list.length > 3 ? 'text_3' : 'text_2'\\n                });\\n            }\\n        }\\n    }\\nsetTabs(tabs, MY_URL);\\nsetLists(lists, getVar(MY_URL, '0'));\\n\\nd.push({\\n    col_type: 'big_blank_block'\\n});\\nd.push({\\n    col_type: 'big_blank_block'\\n});\\nd.push({\\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\\n    url: MY_URL,\\n    col_type: 'text_center_1'\\n});\\n\\nd.push({title: '<br>', col_type: 'rich_text'});\\n\\nsetResult(d);\"}]","icon":"https://www.x65k.com/tpl/zanpiancms12/images/index.png"},{"last_chapter_rule":"js:\nvar html = getResCode();\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.myui-content__list')[0];\n//选集列表的定位\nvar list=parseDomForArray(conts, 'ul&&li');\nvar title=parseDomForHtml(list[list.length-1],'a&&Text');\nsetResult(\"更新至: \"+title);","pageList":[],"title":"无限影视·Ⓓ","author":"//2021/Ⓓ","version":1,"url":"https://www.wxtv.net/vodshow/fyAll--------fypage---.html","col_type":"movie_3","class_name":"电影&连续剧&综艺&动漫","class_url":"1&2&5&4","area_name":"动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片","area_url":"6&7&8&9&10&11&12","sort_name":"","year_name":"国产剧&港台剧&日韩剧&欧美剧","sort_url":"","year_url":"13&14&15&16","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.myui-vodlist&&li');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),\r\n       desc: parseDomForHtml(list[j], '.pic-text&&Text'),\r\n       pic_url: parseDom(list[j], '.lazyload&&data-original'),\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\nvar json = {};\neval('json=' + getResCode());\nvar res = {};\nvar d = [];\n\nfor (var i = 0; i < json.list.length; i++) {\n    var r = {};\n    var j = json.list[i];\n    r.title = j.name;\n    r.img = j.pic.indexOf('http') != -1 ? j.pic : 'https://www.wxtv.net' + j.pic;\n    r.url = 'https://www.wxtv.net/voddetail/' + j.id + '/'+\"#immersiveTheme#\";\n    r.content = j.name + '\\n' + j.en;\n    if (r.title !== null && r.title !== undefined && r.title !== '') d.push(r);\n}\nres.data = d;\nsetSearchResult(res);","search_url":"https://www.wxtv.net/index.php/ajax/suggest?mid=1&wd=**&limit=500;get;utf-8;{User-Agent@Mobile}","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar lazy = `@lazyRule=.js:eval(parseDomForHtml(request(input,{}),'.embed-responsive&&script&&Html'));var jsurl=decodeURIComponent(player_aaaa.url);if(jsurl.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu|le/)){eval(\"var config =\" + fetch(\"hiker://files/cache/MyParseSet.json\"));eval(fetch(config.cj));aytmParse(jsurl)}else if(player_aaaa.from=='无限影视·Ⓓ'){jsurl}else if(jsurl.match(/renrenmi/)){var urll=request(\"https://jiexi.moeamv.com/analysis.php?v=\"+jsurl).match(/urls = \"(.*?)\"/)[1];writeFile('hiker://files/cache/video.m3u8', fetch(urll, {}));'file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/cache/video.m3u8#'+urll}else{jsurl}`\n\n//二级模板by发粪涂墙\nvar arts = parseDomForArray(html,'.nav-tabs&&a');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text'))\n}\n\nvar conts = parseDomForArray(html, 'body&&.myui-content__list');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\nvar 图片 =parseDom(html, '.lazyload&&data-original')\n\nvar 状态 = parseDomForHtml(html, '.data,0&&Text').replace('地区：','  ').replace('年份：','  ')\n\nvar 主演 =parseDomForHtml(html, '.data,2&&Text').substring(0, 15)\n\nvar 导演 =parseDomForHtml(html, '.data,3&&Text').substring(0, 15)\n\nvar 更新 =parseDomForHtml(html, '.data,1&&Text')\n\nvar 简介 =parseDomForHtml(html, '#desc&&.data&&Text').substring(0, 35)\n\n\nd.push({\n    title: '‘‘’’<small><font color=\"#f12711\">'+状态+'\\n'+导演+'\\n'+主演+'</font></small>',\n    desc: '‘‘’’<small><font color=\"#b92b27\">'+更新+'</font></small>'+'\\n'+'‘‘’’<font color=\"#00b09b\">'+简介+'</font></small>'+'‘‘’’<font color=\"#0aa344\">…详情</font></small>',\n    pic_url: 图片,\n    url: \"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",\n    col_type: 'movie_1_vertical_pic_blur'\n});\n\n\neval(fetch(\"hiker://files/rules/dlgw/js/DL.js\"));","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"let localHtml = fetch('hiker://files/rules/dlgw/js/DL.js');\nlet gitHtml = fetch('http://hiker.nokia.press/hikerule/rulelist.json?id=2338');\nif (!localHtml || localHtml != gitHtml) {\n  writeFile(\"hiker://files/rules/dlgw/js/DL.js\", gitHtml); }","pages":"[]","icon":"https://www.meiju56.com/img/favicon.png"},{"last_chapter_rule":"js:\nvar html = getResCode();\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.myui-content__list')[0];\n//选集列表的定位\nvar list=parseDomForArray(conts, 'ul&&li');\nvar title=parseDomForHtml(list[list.length-1],'a&&Text');\nsetResult(\"更新至: \"+title);","pageList":[],"title":"段友Ⓓ","author":"//2021/","version":0,"url":"https://yunjuw.cn/vodtype/1-fypage.html","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nlet true_url = getVar(MY_URL+\"url\", MY_URL)\nconst page = MY_URL.match(/-(.*?)\\.html/)[1]\ntrue_url = true_url.replace('---.html', page + '---.html').replace(/(---\\d+.html)/,page+'$1')\nconst html = fetch(true_url, {\n    headers: {\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0)'\n    }\n})\nconst empty = \"hiker://empty\"\n\nconst categories = parseDomForArray(html, 'body&&.nav-list,0:4').concat(parseDomForArray(html, 'body&&.myui-screen__list:not(:contains(语言)):not(:contains(字母)):not(:contains(已选))'));\n\nlet init_cate = []\n\nfor (let i = 0; i < 20; i++) {\n    init_cate.push(\"0\")\n}\n\nconst fold = getVar(MY_URL+\"fold\", \"0\")\nconst cate_temp_json = getVar(MY_URL+\"category\", JSON.stringify(init_cate))\nconst cate_temp = JSON.parse(cate_temp_json)\n\n\nif (parseInt(page) === 1) {\n    d.push({\n        title: fold === '1' ? '““””<b><span style=\"color: #FF0000\">∨</span></b>' : '““””<b><span style=\"color: #1aad19\">∧</span></b>',\n        url: $(empty).lazyRule((fold) => {\n            putVar(MY_URL+\"fold\", fold === '1' ? '0' : '1');\n            refreshPage(false);\n            return \"hiker://empty\"\n        }, fold),\n        col_type: 'scroll_button',\n    })\n\n\n    categories.forEach((category, index) => {\n        let sub_categories = parseDomForArray(category, 'body--a&&a:not(:contains(资讯))');\n        if (index === 0) {\n            sub_categories.forEach((item, key) => {\n                let title = parseDomForHtml(item, 'a&&Text')\n                d.push({\n                    title: key.toString() === cate_temp[index] ? '““””<b><span style=\"color: #098AC1\">' + title + '</span></b>' : title,\n                    url: $(parseDom(item, 'a&&href')).lazyRule((params) => {\n                        let new_cate = []\n                        params.cate_temp.forEach((cate, index) => {\n                            new_cate.push(index === 0 ? params.key.toString() : \"0\")\n                        })\n                        putVar(MY_URL+\"category\", JSON.stringify(new_cate))\n                        putVar(MY_URL+\"url\", input)\n                        refreshPage(true)\n                        return \"hiker://empty\"\n                    }, {\n                        cate_temp: cate_temp,\n                        key: key,\n                        page: page,\n                    }),\n                    col_type: 'scroll_button',\n                })\n            })\n            d.push({\n                col_type: \"blank_block\"\n            });\n        } else if (fold === '1') {\n            sub_categories.forEach((item, key) => {\n                let title = parseDomForHtml(item, 'a&&Text')\n                d.push({\n                    title: key.toString() === cate_temp[index] ? '““””<b><span style=\"color: #098AC1\">' + title + '</span></b>' : title,\n                    url: $(parseDom(item, 'a&&href')).lazyRule((params) => {\n                        params.cate_temp[params.index] = params.key.toString()\n\n                        putVar(MY_URL+\"category\", JSON.stringify(params.cate_temp))\n                        putVar(MY_URL+\"url\", input)\n                        refreshPage(true)\n                        return \"hiker://empty\"\n                    }, {\n                        cate_temp: cate_temp,\n                        index: index,\n                        key: key,\n                        page: page,\n                    }),\n                    col_type: 'scroll_button',\n                })\n            })\n            d.push({\n                col_type: \"blank_block\"\n            });\n        }\n    })\nd.push({\n    url:\"'hiker://search?rule=段友Ⓓ&s='+input\",\n    title:\"搜剧\",\n    col_type:\"input\"\n})\n}\nconst list = parseDomForArray(html, '.myui-vodlist&&li')\nlist.forEach(video => {\n    d.push({\n        title: parseDomForHtml(video, 'a&&title'),\n        \n        pic_url: parseDom(video, 'a&&data-original') + \"@Referer=\",\n        url: parseDom(video, 'a&&href') + '#immersiveTheme#',\n        col_type: 'movie_3_marquee',\n    })\n})\nsetResult(d);","searchFind":"js:\nvar d = [];\r\n\r\nvar list = parseDomForArray(getResCode(), '.myui-vodlist__media&&li');\r\nfor (var j in list) {\r\n    d.push({\r\n        title: parseDomForHtml(list[j], 'a&&title'),\r\n        desc: parseDomForHtml(list[j], 'p,3&&Text'),\r\n        pic_url: parseDom(list[j], 'a&&data-original'),\r\n        content: parseDomForHtml(list[j], 'p,2&&Text'),\r\n        url: parseDom(list[j], 'a&&href')+'#immersiveTheme#'\r\n    })\r\n}\r\nsetResult(d)","search_url":"https://yunjuw.cn/vodsearch/**----------fypage---.html","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nd.push({\n    title: parseDomForHtml(html, '.data,0&&Text').replace('地区：', '  ').replace('年份：', '  ') + '\\n' + parseDomForHtml(html, '.data,1&&Text').substring(0, 15) + '\\n' + parseDomForHtml(html, '.data,2&&Text'),\n    desc: parseDomForHtml(html, '.sketch&&Text'),\n    pic_url: parseDom(html, '.lazyload&&data-original'),\n    url: MY_URL,\n    col_type: 'movie_1_vertical_pic_blur'\n});\n\nvar arts = parseDomForArray(html, '.nav-tabs&&a');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text'))\n}\n\nvar conts = parseDomForArray(html, 'body&&.myui-content__list');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n//var lazy= `@lazyRule=.js:var url = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]).url;if(url.indexOf('html')!=-1){JSON.parse(request('https://json.m3u8.tv:7788/json.php?url='+url)).url+'#isVideo=true#'}else{url+'#isVideo=true#'}`;\n\nvar lazy=\n`@lazyRule=.js:unescape(JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]).url)`\n\nfunction setTabs(tabs, vari) {\n    d.push({\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n        col_type: 'flex_button'\n    })\n    for (var i = 0; i < tabs.length; i++) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'flex_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    if (getVar('shsort') == '1') {\n        var list = lists[index].reverse();\n    }\n    for (var j = 0; j < list.length; j++) {\n        d.push({\n            title: parseDomForHtml(list[j], 'a&&Text'),\n            url: parseDom(list[j], 'a&&href')+lazy,\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\n        });\n    }\n}\ntry {\n    setTabs(tabs, MY_URL);\n    setLists(lists, getVar(MY_URL, '0'));\n} catch (e) {}\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","icon":"https://yunjuw.cn/template/mytheme/statics/img/logo_min.png"},{"last_chapter_rule":"js:\nvar html = getResCode();\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.video_list:has(a)')[0];\n//选集列表的定位\nvar list=parseDomForArray(conts, 'ul&&li');\nvar title=parseDomForHtml(list[list.length-1],'a&&Text');\nsetResult(\"更新至: \"+title);","pageList":[],"title":"贝贝影院Ⓓ","author":"//2021/Ⓓ","version":0,"url":"https://www.beibei133.com/index.php/vod/show/by/fysort/class/%E5%8A%A8%E4%BD%9C/id/fyclass/page/fypage.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫&","class_url":"dianying&lianxuju&zongyi&dongman&","area_name":"","area_url":"","sort_name":"时间&人气&评分","year_name":"","sort_url":"time&hits&score","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), 'body&&.img-list&&li');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], '')+' '+parseDomForHtml(list[j], 'i&&Text'),//双重描述\r\n       pic_url: parseDom(list[j], 'img&&src'),//图片\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\n//以下是 列表解析规则（JS）\n\nvar res = {};\nvar d = [];\ntry {\n    var list = parseDomForArray(getResCode(), 'body&&.show-list&&li');//       【列表】\n    for (var i in list) {\n        d.push({\n            title: parseDomForHtml(list[i], 'h2&&Text'),//【标题】\n            pic_url: parseDom(list[i], 'img&&src'),//【图片】\n            desc: parseDomForHtml(list[i], 'dd,4&&Text'),//【描述】\n            url: parseDom(list[i], 'a&&href')+\"#immersiveTheme#\"\n        })\n    }\n} catch(e) {}\nres.data = d;\nsetHomeResult(res);","search_url":"https://www.beibei133.com/index.php/vod/search/page/fypage/wd/**.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n//线路列表\nvar arts = parseDomForArray(html, 'body&&h2:not(:contains(超级福利))');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text').replace(/-永久免费.*/,'').replace(/.*贝贝影院-电影/,''))\n}\n//播放列表\nvar conts = parseDomForArray(html, 'body&&.video_list:has(a)');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n//封面\nd.push({\n    title: parseDomForHtml(html, 'dl,2&&Text').substring(0, 20) + '\\n' + parseDomForHtml(html, 'dl,1&&Text').substring(0, 20) + '\\n' + parseDomForHtml(html, '.nyzhuy&&Text').substring(0, 60),\n    desc: '简 介：' + parseDomForHtml(html, 'p&&Text'),\n    pic_url: parseDom(html, 'img&&src'),\n    url: parseDom(html, 'img&&src'),\n    col_type: 'movie_1_vertical_pic_blur'\n});\n\n\nvar title = parseDomForHtml(html, 'h1&&Text');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n//搜索，以下基本不需要修改。\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dz',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=C神话',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2019/09/16/7/110_9bcb18fc9a2cec98bd037bf37bb06164_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\n\nd.push({\n    col_type: 'line_blank'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\n\nvar lazy = `@lazyRule=.js:eval(parseDomForHtml(request(input,{}),'#bofang_box&&script&&Html'));var url=player_data.url;if(url.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu|pptv|letv|le/)){eval(JSON.parse(fetch('hiker://page/globalParse?rule=道长仓库Pro', {})).rule);lazyParse(\"http://tv.wandhi.com/go.html?url=\"+url,3000)}else{url}`;\n\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'text_5'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\n\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';\n}\n\nfunction setLists(lists, index) {\n    d.push({\n        // title: '‘‘选集’’',\n        title:  '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url: parseDom(list[j], 'a&&href') + lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url: parseDom(list[j], 'a&&href') + lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://www.beibei133.com/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"591追剧i","author":"ivnyoov","version":0,"url":"https://www.591zhuiju.com/index.php/vod/show/by/fyarea/id/fyclass/page/fypage.html","col_type":"movie_3","class_name":"电影&剧集&动漫&综艺","class_url":"SCCCCS&qCCCCS&ICCCCS&xCCCCS","area_name":"推荐&人气&时间","area_url":"score&hits&time","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".module-list&&.module-item;\na&&title;\n.lazyloaded&&data-src;\n.module-item-text&&Text;\na&&href","searchFind":".module-list&&.module-search-item;\na&&title;\na&&href;\n.video-serial&&Text;\n.video-info-items&&Text;\n.lazyload&&data-src","search_url":"https://www.591zhuiju.com/index.php/vod/search/page/fypage/wd/**.html","titleColor":"#ffff7000","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\njs:\nvar d = [];\nvar html = getResCode();\n\nvar lazy = `@lazyRule=.js:var get =fetch(input,{});var js = parseDomForHtml(get,\".player-wrapper&&script&&Html\");eval(js.replace(/player_.*?={/,'player_data={'));var jsurl=player_data.url;if(jsurl.indexOf(\"html\")!=-1){'https://okjx.cc/?url='+jsurl}else{jsurl}`;\n\n\ntry{\nvar des_pic =parseDom(html, '.module-item-pic&&img&&data-src');\n}catch(e){\nvar des_pic ='';\n}\n\ntry{\nvar des_desc = parseDomForHtml(html, '.video-info-items,-1&&Text');\n}catch(e){\nvar des_desc ='没有正确获取剧情简介！';\n}\n\nvar arts = parseDomForArray(html,'.module-tab&&.tab-item');\n\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'span&&Text'))\n}\n\nvar conts = parseDomForArray(html, 'body&&.scroll-box');\n\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i],'.scroll-content&&a'))\n}\n\nd.push({\ntitle:'共有'+arts.length+'条线路\\n如果无法正常显示，请点击此处访问原网页',\n desc: des_desc,\n\tpic_url: des_pic,\n\turl: MY_URL,\n col_type: 'movie_1_vertical_pic'\n});\n\n\nfunction setTabs(tabs, vari) {\n        d.push({\n            title: '‘‘线路：’’',\n            col_type: 'flex_button',\n            url:'toast://点击名称切换线路'\n        })\n        var title = '';\n        for (var i = 0; i < tabs.length; i++) {\n            var url = \"hiker://empty@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage();'toast://切换成功！'\";\n            d.push({\n                title: getVar(vari, '0') == i ? '““'+tabs[i] + '””' : tabs[i],\n                url: url,\n                col_type: 'flex_button'\n            })\n        }\n        d.push({\n            col_type: 'line_blank'\n        })\n    }\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘选集：’’',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf==' - 逆序'){putVar({key:'shsort', value:' - 正序'});}else{putVar({key:'shsort', value:' - 逆序'})};refreshPage(false);'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'flex_button'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == ' - 逆序') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            d.push({\n                title: parseDomForHtml(list[j], 'Text'),\n                url: parseDom(list[j], 'a&&href')+ lazy,\n                col_type: 'flex_button'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            d.push({\n                title: parseDomForHtml(list[j], 'a&&Text'),\n                url: parseDom(list[j], 'a&&href')+ lazy,\n                col_type: 'flex_button'\n            });\n        }\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\n\nd.push({ title: '<br>', col_type: 'rich_text' });\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"pageList":[],"title":"笨笨鸡影院i","author":"ivnyoov","version":0,"url":"http://m.benbenji.com/fyclass/index_____fyarea_fypage.html","col_type":"movie_3","class_name":"电影&剧集&动漫&综艺&微电影","class_url":"dy&dsj&dm&arts&wdy","area_name":"推荐&人气&时间","area_url":"gold&hits&addtime","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".box-video-list&&li;\nh5&&Text;\n.video-pic&&data-original;\n.note&&Text;\n.video-pic&&href","searchFind":"#content&&.details-info-min;\n.video-pic&&title;\n.video-pic&&href;\n.details-info&&.hidden-md&&Text;\n.details-content-default&&Text;\n.video-pic&&data-original","search_url":"http://m.benbenji.com/index.php?s=home-search-index-wd-**-p-fypage.html","titleColor":"#ffff7000","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html=getResCode();\n\n//简介\ntry{\nvar des_desc = parseDomForHtml(html, '.details-content-all&&Text');\n}catch(e){\nvar des_desc ='没有正确获取剧情简介！';\n}\n\n//图片\ntry{\nvar des_pic =parseDom(html, '.details-pic&&a&&style');\n}catch(e){\nvar des_pic ='';\n}\n\n//线路列表\nvar tabs = parseDomForArray(html, '.nav-tabs&&li');\n\nd.push({\ntitle:'共有'+tabs.length+'条线路\\n如果无法正常显示，请点击此处访问原网页',\ndesc:des_desc,\npic_url:des_pic,\nurl:getUrl(),\ncol_type:'movie_1_vertical_pic'\n});\n\nd.push({col_type:'line_blank'});\n\nfor(var i in tabs){\n\nd.push({\ntitle:parseDomForHtml(tabs[i],'a&&href').replace('#con_playlist','欧卡'),//线路名称\nurl:'',\ncol_type: 'long_text'});\n\n//选集列表\nvar conts = parseDomForArray(html, 'body&&.playlist&&ul');\n\n//选集列表定位\nvar list=parseDomForArray(conts[i], 'ul&&li');\n\nfor(var j in list){\nd.push({\ntitle:parseDomForHtml(list[j],'a&&Text'),//选集名称\nurl:parseDom(list[j],'a&&href')+ `@lazyRule=.embed-responsive&&script&&Html.js:eval(input);var jssp = zanpiancms_player.url.split(\"\\/share\")[0];var json = fetch(zanpiancms_player.url,{});zanpiancms_player.url.indexOf(\"m3u8\")>-1?zanpiancms_player.url:jssp+json.split(\\'main = \"\\')[1].split(\\'\"\\')[0]`,//选集链接\ncol_type: list.length >3?'text_3':'text_2'\n    });\n  }\n}\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":""},{"pageList":[],"title":"纪录片天地","author":"ivnyoov","version":0,"url":"http://www.jlpcn.net/vodtypehtml/fyclass-fypage.html[firstPage=http://www.jlpcn.net/vodtypehtml/fyclass.html]","col_type":"movie_3","class_name":"科学探索&社会生活&生态地理&文化历史","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"#videoData&&ul&&li;\nh2&&a&&title;\nh2&&img&&data-url;\n.r1&&Text;\nh2&&a&&href","searchFind":"body&&#results&&.result;\n.c-title&&Text;\n.c-title&&a&&href;\n.c-abstract&&Text;\n*;\n.c-image&&img&&src","search_url":"http://zhannei.baidu.com/cse/search?s=17160030153119369358&entry=1&q=**;get;UTF-8;","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html=getResCode();\n\nd.push({\ntitle:'如果无法正常显示，请点击此处访问原网页',\ndesc:parseDomForHtml(html, '.jjText&&.more&&Text'),\npic_url:parseDom(html, '.vodImg&&img&&data-url'),\nurl:getUrl(),\ncol_type:'movie_1_vertical_pic'\n});\n\nd.push({col_type:'line_blank'});\n\n\nd.push({\ntitle:parseDomForHtml(html, '.liketitle&&Text'),\ncol_type: 'long_text'});\n\n//选集列表定位\nvar list=parseDomForArray(html, 'body&&#down_list_1&&li');\n\nfor(var j in list){\nd.push({\ntitle:parseDomForHtml(list[j],'a&&Text'),//选集名称\nurl:parseDom(list[j],'a&&href'),//选集链接\ncol_type: 'text_2'\n    });\n  }\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":""},{"pageList":[],"title":"4480影院i","author":"ivnyoov","version":0,"url":"https://www.4480ys.co/Flist/PmfyAll_fypage.html[firstPage=https://www.4480ys.co/Flist/PmfyAll.html]","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".stui-pannel_bd&&li;\nh4&&Text;\nscript&&Html.js:input.split(\"nal=\\\\'\")[1].split(\"\\\\'\")[0];\n.pic-text&&Text;\na&&href","searchFind":".stui-pannel_bd&&li;\nh3&&Text;\na&&href.js:input.replace('Fplay/Pplay','Fvod/Pvod').replace('-0-0.html','.html');\n.pic-text&&Text;\n.margin-0&&Text;\na&&data-original","search_url":"https://www.4480ys.co/search.php?page=fypage&searchword=**&searchtype=","titleColor":"#ffff7000","group":"②影视","detail_col_type":"text_3","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html=getResCode();\n\n//简介\ntry{\nvar des_desc = parseDomForHtml(html, '.detail-content&&Text');\n}catch(e){\nvar des_desc ='没有正确获取剧情简介！';\n}\n\n//图片\ntry{\nvar des_pic =parseDom(html,'.lazyload&&data-original');\n}catch(e){\nvar des_pic ='';\n}\n\nd.push({\ntitle:'如果无法正常显示，请点击此处访问原网页',\ndesc:des_desc,\npic_url:des_pic,\nurl:getUrl(),\ncol_type:'movie_1_vertical_pic'\n});\n\nd.push({col_type:'line_blank'});\n\n//选集列表\nvar conts = parseDomForArray(html, '.stui-content__playlist&&li');\n\n\nfor(var i in conts){\nd.push({\ntitle:parseDomForHtml(conts[i],'a&&Text'),//选集名称\nurl:parseDom(conts[i],'a&&href')+'@lazyRule=html&&.embed-responsive&&script&&Html.js:eval(input)；；now',//选集链接\ncol_type: 'text_3'});\n  }\n\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"text_3","sdetail_find_rule":"*","ua":"pc","preRule":""},{"pageList":[],"title":"91影院i","author":"ivnyoov","version":0,"url":"https://www.91cinema.cn/vshow/fyAll--------fypage---.html","col_type":"movie_3","class_name":"电影&剧集&综艺&动漫","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".vodlist&&.pack-ykpack;\na&&title;\n.eclazy&&data-original;\n.pack-prb&&Text;\na&&href","searchFind":".ec-search&&li;\na&&title;\na&&href;\n.pack-prb&&Text;\n.ec-item&&Text;\n.eclazy&&data-original","search_url":"https://www.91cinema.com/vodsearch/**----------fypage---.html","titleColor":"#ffff7000","group":"②影视","detail_col_type":"text_3","detail_find_rule":"js:\njs:\nvar d = [];\nvar html = getResCode();\n\nvar lazy = `@lazyRule=html&&#bofang_box&&script&&Html.js:eval(input.replace(/player_.*?={/,'player_data={'));decodeURIComponent(base64Decode(player_data.url))`\n\ntry{\nvar des_pic =parseDom(html, '.vod-detail-bj&&src');\n}catch(e){\nvar des_pic ='';\n}\n\ntry{\nvar des_desc = parseDomForHtml(html, 'body&&.desc_txt&&Text');\n}catch(e){\nvar des_desc ='没有正确获取剧情简介！';\n}\n\nvar arts = parseDomForArray(html,'body&&.play_source_tab&&a');\n\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text').replace('','i'))\n}\n\nvar conts = parseDomForArray(html, 'body&&.playlist_notfull');\n\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\nd.push({\ntitle:'共有'+arts.length+'条线路\\n如果无法正常显示，请点击此处访问原网页',\n desc: des_desc,\n\tpic_url: des_pic,\n\turl: MY_URL,\n col_type: 'movie_1_vertical_pic'\n});\n\n\nfunction setTabs(tabs, vari) {\n        d.push({\n            title: '‘‘线路：’’',\n            col_type: 'flex_button',\n            url:'toast://点击名称切换线路'\n        })\n        var title = '';\n        for (var i = 0; i < tabs.length; i++) {\n            var url = \"hiker://empty@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage();'toast://切换成功！'\";\n            d.push({\n                title: getVar(vari, '0') == i ? '““'+tabs[i] + '””' : tabs[i],\n                url: url,\n                col_type: 'flex_button'\n            })\n        }\n        d.push({\n            col_type: 'line_blank'\n        })\n    }\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘选集：’’',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf==' - 逆序'){putVar({key:'shsort', value:' - 正序'});}else{putVar({key:'shsort', value:' - 逆序'})};refreshPage(false);'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'flex_button'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == ' - 逆序') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            d.push({\n                title: parseDomForHtml(list[j], 'Text'),\n                url: parseDom(list[j], 'a&&href')+ lazy,\n                col_type: 'flex_button'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            d.push({\n                title: parseDomForHtml(list[j], 'a&&Text'),\n                url: parseDom(list[j], 'a&&href')+ lazy,\n                col_type: 'flex_button'\n            });\n        }\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\n\nd.push({ title: '<br>', col_type: 'rich_text' });\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":""},{"pageList":[],"title":"阿然影视i","author":"ivnyoov","version":1,"url":"https://mv.91youquan.com/index.php/vod/show/by/fyarea/id/fyclass/page/fypage.html","col_type":"movie_3","class_name":"电影&剧集&动漫&综艺","class_url":"1&2&4&3","area_name":"推荐&人气&时间","area_url":"score&hits&time","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".myui-vodlist&&li;a&&title;a&&data-original;.pic-text&&Text;a&&href","searchFind":".myui-vodlist__media&&li;a&&title;a&&href;a&&.pic-text&&Text;.hidden-xs,-2&&Text;a&&data-original","search_url":"https://mv.91youquan.com/index.php/vod/search/page/fypage/wd/**.html","titleColor":"#ffff7000","group":"②影视","detail_col_type":"text_center_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html=getResCode();\n\n//简介\ntry{\nvar des_desc = parseDomForHtml(html, '.myui-content__detail&&p,-2&&a&&onclick').replace(\"MyTheme.Layer.Text('剧情简介','\",\"剧情简介：\");\n}catch(e){\nvar des_desc ='没有正确获取剧情简介！';\n}\n\n//图片\ntry{\nvar des_pic =parseDom(html, '.lazyload&&data-original');\n}catch(e){\nvar des_pic ='';\n}\n\n//线路列表\nvar tabs = parseDomForArray(html, '.nav-tabs&&li');\n\nd.push({\ntitle:'共有'+tabs.length+'条线路\\n如果无法正常显示，请点击此处访问原网页',\ndesc:des_desc,\npic_url:des_pic,\nurl:getUrl(),\ncol_type:'movie_1_vertical_pic'\n});\n\nd.push({col_type:'line_blank'});\n\nfor(var i in tabs){\n\nd.push({\ntitle:parseDomForHtml(tabs[i],'Text'),//线路名称\nurl:'',\ncol_type: 'long_text'});\n\n//选集列表\nvar conts = parseDomForArray(html, '.myui-panel_bd&&ul');\n\n//选集列表定位\nvar list=parseDomForArray(conts[i], 'ul&&li');\n\nfor(var j in list){\nd.push({\ntitle:parseDomForHtml(list[j],'a&&Text'),//选集名称\nurl:parseDom(list[j],'a&&href')+`@lazyRule=html&&.embed-responsive&&script&&Html.js:eval(input.replace(/player_.*?={/,'player_data={'));var jssp = player_data.url.split(\"\\/share\")[0];var json = fetch(player_data.url,{});player_data.url.indexOf(\"m3u8\")>-1?player_data.url:jssp+json.split(\\'main = \"\\')[1].split(\\'\"\\')[0]`,//选集链接\ncol_type: list.length >3?'text_3':'text_2'\n    });\n  }\n}\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"text_center_1","sdetail_find_rule":"*","ua":"mobile","preRule":""},{"firstHeader":"class","last_chapter_rule":"js:\nvar html = getResCode();\n// 获取更新时间，确保有更新时能正常提示\nvar time = parseDomForHtml(html, \".v_info&&.desc&&Text\").replace(\"备注：\", \"\");\nsetResult(time);","pageList":[{"col_type":"movie_3","name":"图标","path":"myCollection_favicon","rule":"http://www.xdg678.com/template/dm84/images/logo.png"}],"title":"小呆瓜","author":"鸠魁","version":0,"url":"http://www.xdg678.com/?m=vod-type-id-fyAll-pg-fypage.html","col_type":"movie_3","class_name":"电影&剧集&动漫&综艺","class_url":"1&2&37&3","area_name":"动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&灾难片&纪录片&悬疑片","area_url":"5&6&7&8&9&10&11&24&27&35","sort_name":"","year_name":"国产剧&港台剧&韩剧&欧美剧&日韩剧&日剧&泰剧","sort_url":"","year_url":"12&13&16&15&14&17&18","find_rule":"js:\nvar items=[];\nvar list = parseDomForArray(getResCode(), 'body&&.item');//列表\nfor(var i in list){\ntry{\nitems.push({\ntitle:parseDomForHtml(list[i],'a&&title'),//标题\ndesc:parseDomForHtml(list[i],''),//描述\npic_url:parseDom(list[i],'.lazy&&data-bg'),//图片\nurl:parseDom(list[i],'a&&href')+'#immersiveTheme#',//链接\ncol_type: 'movie_3'});\n  }catch(e){''}\n}\n//道佬•模板\nsetHomeResult({ data : items});","searchFind":"js:\nvar d = [];\nparseDomForArray(getResCode(), '.v_list&&.item').forEach(list => {\n  d.push({\n       title: parseDomForHtml(list, '.title&&Text'),\n       desc: parseDomForHtml(list, '.desc&&Text'),\n       content: parseDomForHtml(list, '.desc&p&Text').replace('','小棉袄就是帅,天下第一帅。'),\n       pic_url: parseDom(list, '.lazy&&data-bg'),\n       url: parseDom(list,'a&&href')+'#immersiveTheme#'\n  });\n})\nsetResult(d)","search_url":"http://www.xdg678.com/index.php?m=vod-search-pg-fypage-wd-**.html","titleColor":"#ff871f78","group":"②影视","detail_col_type":"text_3","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar Color=\"#f13b66a\";\nvar Color1=\"#098AC1\";\nfunction getHead(title){\n    return '‘‘’’<strong><font color=\"'+Color+'\">'+title+'</front></strong>';\n}\n\n// 模块的间距\nlet line_model = 8;\n// 模块间距类型\nlet line_type_model = 'blank_block';\n\nvar _x5 = $.toString(() => {\n    fba.log(fba.getUrls())\n    var urls = _getUrls()\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i])\n            return urls[i].replace('https://play.xdg333.com/dp.php?v=','')\n        }\n    }\n});\n\n//线路名列表的定位\nvar arts = parseDomForArray(html,'.play_from&&li');\n\n//线路名列表名称的定位\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'Text').replace('',''))\n}\n\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, '#play_list&&.play_list');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&li'))\n}\n\n\n//导演名称的定位\nvar daoyan = parseDomForHtml(html, '#intro&&p&&Text').substring(0, 15);\n\n\n//演员名称的定位\nvar zhuyan = parseDomForHtml(html, '#intro&&p,1&&Text').substring(0, 16);\n\n\n//影片分类的定位\nvar fenlei = parseDomForHtml(html, '.v_desc,0--span&&Text').replace('','分类：').replace('|','').substring(0, 25);\n\n\nvar title = parseDomForHtml(html, 'body&&Text');\n\nd.push({\n\ttitle:daoyan + '\\n' + zhuyan +'\\n'+ fenlei,\n\tdesc:parseDomForHtml(html,'.v_info&&.desc&&Text').substring(0, 50).replace('','状态：')+ '\\n' + parseDomForHtml(html, '.v_desc&&.desc&Text').replace('','提醒：此规则仅用于海阔群交流使用。'),\n\tpic_url:parseDom(html, 'img&&src'),\n\turl: MY_URL,\n\n\tcol_type: 'movie_1_vertical_pic_blur'\n});\n\nvar desc = parseDomForHtml(html, '#intro&&p,2&&Text').replace('……','。').replace('简介：','').replace('详情',''); \nd.push({\n        title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + desc.substr(0, 50) + '...</font><small><font color=\"red\">详情</font></small></small>',\n       url: 'hiker://empty#'+ '\\n'  + desc + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n          col_type: 'text_1'\n});\n\nfor (let i = 0; i < line_model; i++){\n\n        d.push({\n            col_type: line_type_model\n        })\n  }\t \n\nfunction setTabs(tabs, vari) {\n        for (var i in tabs) {\n                var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n                d.push({\n                    title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n                    url: url,\n                    col_type: 'scroll_button'\n                })\n            }\n\n            d.push({\n                col_type: 'line_blank'\n            })\n}\n\n    function setLists(lists, index) {\n        d.push({        col_type: 'line_blank'    })\n}\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#0aa344\">排序</font></small>'+'<small><font color=\"#0aa344\">↑</font></small>'+'<small><font color=\"#ff4c00\">↓</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\">排序</font></small>'+'<small><font color=\"#ff4c00\">↑</font></small>'+'<small><font color=\"#0aa344\">↓</font></small>';}\n    function setLists(lists, index) {\n        d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>'  + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n        var list = lists[index];\n\nif (getVar('shsort') == '1') {\n          try{  for (var j = list.length - 1; j >= 0; j--) {  \n    \nd.push({\n                title: parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/,'$1'),\n               url: \"x5Rule://\"+parseDom(list[j], 'a&&href')  + '@' + _x5,\n                col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n}}catch(e){\nd.push({\ntitle:'没有选集哟，不信点图片去看看👀',\ncol_type: 'text_center_1'\n\n});\n    }\n            \n        } else {\n         try{   for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/,'$1').replace('第',''),\n\n                url: \"x5Rule://\"+parseDom(list[j], 'a&&href')  + '@' + _x5,\n                col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n}}catch(e){\nd.push({\ntitle:'没有选集哟，不信点图片去看看👀',\ncol_type: 'text_center_1'\n});\n    }\n            \n        }\n    }\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\n\nd.push({title: '<br>', col_type: 'rich_text'});\nsetResult(d);","sdetail_col_type":"text_3","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"图标\",\"path\":\"myCollection_favicon\",\"rule\":\"http://www.xdg678.com/template/dm84/images/logo.png\"}]","icon":"https://z3.ax1x.com/2021/10/25/54kGxe.png"},{"last_chapter_rule":"js:\nvar html = getResCode();\n// 获取更新时间，确保有更新时能正常提示\nvar time = parseDomForHtml(html, \".video-info-items,3&&Text\").replace(\"备注：\", \"\");\nsetResult(time);","pageList":[],"title":"1080P影视㉿","author":"鸠魁","version":1,"url":"https://1080p.tv/vodshow/fyclass-fyarea-fysort------fypage---fyyear/;get;UTF-8;{User-Agent@Mozilla/5.0 (Windows NT 10.0)}","col_type":"movie_3","class_name":"电影&剧集&综艺&动漫","class_url":"1&2&3&4","area_name":"全部&大陆&美国&香港&韩国&英国&台湾&日本&法国&意大利&德国&泰国&其他","area_url":"&大陆&美国&香港&韩国&英国&台湾&日本&法国&意大利&德国&泰国&其他","sort_name":"按时间&按人气&按评分","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar list = parseDomForArray(html,'.module-list&&.module-item');\nfor (var j in list) {\n  d.push({\n     title: parseDomForHtml(list[j], 'a&&title'),\n     desc:parseDomForHtml(list[j], '.module-item-text&&Text'),\n     pic_url: parseDom(list[j], 'img&&data-src')+'@Referer=',\n     url: parseDom(list[j], 'a&&href')+\"#immersiveTheme#\"\n  });\n}\nres.data = d;\nsetHomeResult(res);\n","searchFind":"js:\nvar d = [];\nvar html = getResCode();\n\nvar list = parseDomForArray(html,'body&&.module-search-item');\n\n    for (var i = 0; i < list.length; i++) {\n        var L = list[i];\n        d.push({\n            title: parseDomForHtml(L, 'h3&&Text'),\n            url: parseDom(L, 'a,1&&href')+\"#immersiveTheme#\",\n            desc:  parseDomForHtml(L, '.video-info&&a&&Text'),\n            content: parseDomForHtml(L, '.video-info-main&&.video-info-item,2&&Text'),\n            img: parseDom(L, 'img&&data-src'),\n        });\r\n    }\nsetResult(d)","search_url":"https://1080p.tv/vodsearch/**----------fypage---/;get;utf-8;{User-Agent@Mozilla 5.0}","titleColor":"#224E95","group":"②影视","detail_col_type":"movie_3","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\nvar lazy1=$(\"\").lazyRule(() => {\nlet playUrl = input;\nvar url=fetch(input);\nvar code=parseDomForHtml(url,'body&&.player-wrapper&&script&&Html');eval(code);\nvar urll=player_data.url;\nif(urll.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bilibili|sohu|pptv|letv|le|pptv|migu|m1905/)){eval(\"var config =\" + fetch(\"hiker://files/cache/MyParseSet.json\"));eval(fetch(config.cj)); return aytmParse(urll)}else\nif (!/^http/.test(urll)) {\nshowLoading(\"已开启强力嗅探，请稍候\")\nlet result=$(playUrl).x5Lazy(() => {\n    var urls = _getUrls()\n    for (var i in urls) {\n         if (!urls[i].match(/url=/)&&urls[i].match(/mp4|m3u8|obj/)) {\n            fy_bridge_app.log(urls[i])\n            return urls[i]+'#isVideo=true#'\n        }\n     }\n   });\nreturn result\n}else{\r\nreturn  urll+'#isVideo=true#';}\n});\n\nvar lazy2=$(\"\").lazyRule(() => {\nshowLoading(\"已开启强力嗅探，请稍候\")\nlet playUrl = input\nlet result=$(playUrl).x5Lazy(() => {\n    var urls = _getUrls()\n    for (var i in urls) {\n         if (!urls[i].match(/url=/)&&urls[i].match(/mp4|m3u8|obj/)) {\n            fy_bridge_app.log(urls[i])\n            return urls[i]+'#isVideo=true#'\n        }\n     }\n   });\n   return result\n   });\n\n//线路名列表的定位\nvar arts = parseDomForArray(html,'body&&.module-tab-item');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'span&&Text'))\n}\n\nvar conts = parseDomForArray(html, 'body&&.sort-item');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\n//导演名称的定位\nvar daoyan = parseDomForHtml(html, '.video-info-items&&Text').replace('/','').replace('/','').substring(0, 15);\n\n\n//演员名称的定位\nvar zhuyan = parseDomForHtml(html, '.video-info-items,1&&Text').replace('/','').substring(0, 18);\n\nvar title = parseDomForHtml(html, 'h1&&Text');\n\n//影片分类的定位\nvar fenlei = parseDomForHtml(html, '.tag-link,1&&a&&Text').replace('','分类： ').substring(0, 35);\n\nvar diqu = parseDomForHtml(html,'.tag-link,3&&Text');\n\nvar nianfen = parseDomForHtml(html,'.tag-link,2&&Text').replace('年代：','');\n\nvar 简介= parseDomForHtml(html, '.video-info-items,6&&Text').replace('剧情：','');\n\n\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nvar aa='hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#';\nputVar('aa',aa);\nlet line_model = 8;\nlet line_type_model = 'blank_block';\n\nd.push({\n\ttitle:daoyan + '\\n' + zhuyan +'\\n'+ fenlei +'|'+ diqu +'|'+ nianfen,\n\tdesc:parseDomForHtml(html,'.video-info-items,2&&Text').substring(0, 50)+ '\\n' + parseDomForHtml(html, '.video-info-items,3&&Text').replace('备注：','状态: '),\n\npic_url: parseDom(html,'.lazyload&&data-src'),\n    url: getVar('aa'),\n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n   title: '‘‘’’<small><font color=\"#ff148e8e\">简介：' + 简介.substr(0, 50) + '...</font><small><font color=\"red\">详情</font></small></small>',\n    url: 'hiker://empty#' +'\\n\\t\\t\\t\\t\\t\\t\\t'+ 简介 + `@rule=js:var res = {}; var d = [];d.push({title:'影片简介：'+MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n    col_type: 'text_1'\n});\n\nd.push({\n    title: '香情',\n    url: 'hiker://search?s=' + title + '&rule=香情影视',\n    pic_url: \"https://z3.ax1x.com/2021/10/18/5UplTJ.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dz',\n    pic_url: \"https://z3.ax1x.com/2021/10/18/5UpQw4.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '聚搜君',\n    url: 'hiker://search?s=' + title + '&rule=聚搜君Lite',\n    pic_url: \"https://z3.ax1x.com/2021/10/18/5Up3k9.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '青豆',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://z3.ax1x.com/2021/10/18/5UC4Wn.png\",\n    col_type: 'icon_small_4'\n})\n\nd.push({\n    pic_url: \"https://z3.ax1x.com/2021/10/11/5ei2tA.gif\",\nurl: MY_URL,\n    col_type: 'pic_1_full'\n})\n\nfor (let i = 0; i < line_model; i++) {\n    d.push({\n        col_type: line_type_model\n    })\n}\n\nlet sel_title = ['默认','嗅探','网页'].map((it) => {\n    let test_mode = getItem('dn.test_mode','默认');\n    return it===test_mode?'👉'+it:it;\n});\nd.push({\n    title:'‘‘’’<strong><font color= \"#098AC1\">' + getItem('dn.test_mode','默认')+ '</front></strong>',\n    col_type:'scroll_button',\n    url:$(sel_title,3).select(()=>{\n        input = input.replace(/👉/g,'');\n        setItem('dn.test_mode',input);    \n       refreshPage(true);\n        return 'toast://已切换模式为:'+input\n    })\n});\nif(getItem('dn.test_mode','默认')==='默认'){\n    var lazy=lazy1\n}else if(getItem('dn.test_mode','默认')==='嗅探'){\n    var lazy=lazy2\n}else{\n    var lazy=\"\"\n};\n\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? getHead(tabs[i]) : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nfunction setLists(lists, index) {\n    d.push({\n        col_type: 'line_blank'\n    })\n}\nif (getVar('shsort') == '1') {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↑</font></small>' + '<small><font color=\"#0aa344\">↓</font></small>';\n} else {\n    var sx = '‘‘’’<font color=\"#0aa344\">排序</font></small>' + '<small><font color=\"#ff4c00\">↓</font></small>' + '<small><font color=\"#0aa344\">↑</font></small>';\n}\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘’’<span style=\"color:' + Color1 + '\"><small>选集列表</small>' + '\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\"float:right\">' + '<small>' + sx + '</small>',\n        url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        try {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url: parseDom(list[j], 'a&&href')  + lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n    } else {\n        try {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                    title: parseDomForHtml(list[j], 'a&&Text').replace(/第|集|话|期/g, ''),\n                    url: parseDom(list[j], 'a&&href')  + lazy,\n                    col_type: list.length > 4 ? 'text_5' : 'text_2'\n                });\n            }\n        } catch (e) {\n            d.push({\n                title: '没有选集哟，不信点图片去看看👀',\n                col_type: 'text_center_1'\n            });\n        }\n\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","icon":"https://z3.ax1x.com/2021/10/25/54kxJK.png"},{"last_chapter_rule":"","pageList":[],"title":"Chok吧S","author":"Senap","version":0,"url":"https://www.chok8.com/vodshow/fyclass-fyarea-------fypage---fyyear.html;get;UTF-8;{User-Agent@Mozilla/5.0 (Windows NT 10.0)}","col_type":"movie_3","class_name":"全部&追剧&电影&综艺&动漫&动作片&喜剧&爱情&科幻&恐怖&剧情&战争&记录&犯罪&国产&港台&日韩&欧美","class_url":"&lianxuju&dianying&zongyi&dongman&dongzuopian&xijupian&aiqingpian&kehuanpian&kongbupian&juqingpian&zhanzhengpian&jilupian&fanzuipian&guochanju&gangtaiju&rihanju&oumeiju","area_name":"全部&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","sort_name":"","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006","sort_url":"","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.stui-vodlist&&li');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),\r\n       desc: parseDomForHtml(list[j], '.pic-text&&Text'),\r\n       pic_url: parseDom(list[j], '.lazyload&&data-original')+'@Referer=',\r\n       url: parseDom(list[j],'a&&href')\r+\"#immersiveTheme#\"\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.stui-vodlist__media&&li');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),\r\n       desc: parseDomForHtml(list[j], '.pic-text&&Text'),\r\n       pic_url: parseDom(list[j], '.lazyload&&data-original'),\r\n       url: parseDom(list[j],'a&&href')\r+\"#immersiveTheme#\"\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","search_url":"https://www.chok8.com/vodsearch/**----------fypage---.html;get;UTF-8;{User-Agent@Mozilla/5.0 (Windows NT 10.0)}","titleColor":"#ff13b66a","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:var d = [];var html=getResCode();\nd.push({\n    desc: '100%&&float',\n    col_type: 'x5_webview_single'\n});\n\nvar lazy = $(\"\").lazyRule(() => {\n    const {\n        lazyParse\n    } = $.require('hiker://page/globalParse?rule=道长仓库Pro');\n    return lazyParse(input)\n});\n\n//视频标题的定位\ntry{\nvar des_title = parseDomForHtml(html, 'h1&&Text');\n\n}catch(e){\nvar des_title ='没有正确获取到影片名称哟！';\n}\n\n//剧情简介的定位\ntry{\nvar des_desc = parseDomForHtml(html,'.desc&&Text');\n\n}catch(e){\nvar des_desc ='没有正确获取到剧情简介哟！';\n}\n\n//视频封面的定位\ntry{\nvar des_pic =parseDom(html,'.lazyload&&data-original');\n\n}catch(e){\nvar des_desc ='没有正确获取到简介图片路径哟！\\n'+des_desc;\n}\n\n//线路名列表的定位\nvar arts = parseDomForArray(html,'body&&h3');\n\n\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist');\n   \nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))      //' 列表名改'ul&&li'\n}\n\nvar tabs = [];\nfor (var i in conts) {\n    tabs.push(parseDomForHtml(arts[i], 'h3&&Text'))//有可能改Text\n\n}\n\n\n//下面除了获取选集名称例如1,2,3集，有的需要改下\n//有其他不需要修改\n\nd.push({\ntitle:des_title,\ndesc:des_desc,\npic_url:des_pic,\nurl:MY_URL,\ncol_type:'movie_1_vertical_pic_blur'\n});\n\nd.push({\n    col_type: 'line_blank'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n    url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n    col_type: 'scroll_button'\n})\n\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    d.push({\n        col_type: 'line_blank'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    if (getVar('shsort') == '1') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_2' : 'text_5'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_2' : 'text_5'\n            });\n        }\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://img.guguzhu.com/d/file/android/ico/2021/07/20/rednjufmj4m.png"},{"last_chapter_rule":"js:\nvar html = getResCode();\n//播放列表的列表的定位\nvar conts = parseDomForArray(html, 'body&&a')[0];\n//选集列表的定位\nvar list=parseDomForArray(conts, 'body&&a');\nvar title=parseDomForHtml(list[list.length-1],'a&&Text');\nsetResult(\"更新至: \"+title);","pageList":[],"title":"电影盒子S","author":"Senap","version":1,"url":"http://www.cerrd.com/films/fyclass_fypage.html?order=fysort","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4&","area_name":"","area_url":"","sort_name":"时间&热门","year_name":"","sort_url":"time&hit","year_url":"","find_rule":"js:\nvar d = [];\ntry {\n    //定位列表\n    var list = parseDomForArray(getResCode(), '.stui-vodlist&&li');\n    for (var j in list) {\n        d.push({\n            //定位标题\n            title: parseDomForHtml(list[j], 'a&&title'),\n            //定位描述\n            desc: parseDomForHtml(list[j], 'span,1&&Text'),\n            //定位图片\n            pic_url: parseDom(list[j], '.lazyload&&data-original') + \"@Referer=\",\n            //定位链接\n            url: parseDom(list[j], 'a&&href') + \"#immersiveTheme#\"\n        });\n    }\n} catch (e) {}\nsetResult(d);\n","searchFind":"js:\nvar res = {};\nvar d = [];\n\n//定位列表\nvar list = parseDomForArray(getResCode(), '.stui-vodlist__media&&li');\nfor (var j in list) {\n    d.push({\n        //定位标题\n        title: parseDomForHtml(list[j], 'a&&title'),\n        //定位描述\n        desc: parseDomForHtml(list[j], '.pic-text text-right&&Text'),\n        //定位筒介\n        content: parseDomForHtml(list[j], 'body&&Text') + '\\n' + parseDomForHtml(list[j], '') + '\\n' + parseDomForHtml(list[j], ''),\n        //定位图片\n        img: parseDom(list[j], '.lazyload&&data-original')+ \"@Referer=\",\n        //定位链接\n        url: parseDom(list[j], 'a&&href') + \"#immersiveTheme#\"\n    });\n}\nres.data = d;\nsetSearchResult(res);","search_url":"http://www.cerrd.com/search.php?searchword=**;post","titleColor":"#ff13b66a","group":"②影视","detail_col_type":"text_3","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\nvar lazy=`@lazyRule=.js:var url = parseDom(request(input),'iframe&&src');request(url,{headers:{'Referer':input}}).match(/http.*?m3u8/g)[0]`\n/*线路↓*/\nvar arts = parseDomForArray(html, 'body&&.nav-tabs&&li');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text').replace(' ', ''))\n}\n/*线路*/\n\n/*↓选集*/\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n/*选集*/\n\n\n//以下头框\nd.push({\n    //定位标题\n    title: parseDomForHtml(html, 'h1&&Text').substring(0, 15) + '\\n' + parseDomForHtml(html, 'p&&Text').substring(0, 15) + '\\n' + parseDomForHtml(html, 'p,1&&Text').substring(0, 15),\n    //定位描述\n    desc: ' 更新于：' + parseDomForHtml(html, 'p,3&&Text').substring(0, 15),\n    //定位图片\n    pic_url: parseDom(html, '.lazyload&&data-original') + '@Referer=',\n    url: MY_URL,\n    col_type: 'movie_1_vertical_pic_blur'\n});\n\n\n//这里定位简介，\nvar des_desc = parseDomForHtml(html, '.desc&&Text').replace('地区：', '');\nif (des_desc.length > 50) {\n    des_desc = des_desc.replace(' 简 介：' + des_desc, des_desc.substring(0, 50) + \"......\");\n}\nd.push({\n    title: des_desc,\n    col_type: 'long_text'\n});\n\n\n\n/*   😜  这里是线路和选集，可以不用修改！！！*/\n\nd.push({\n    title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n    url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n    col_type: 'scroll_button'\n})\n\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    d.push({\n        col_type: 'line_blank'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    if (getVar('shsort') == '1') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_3' : 'text_5'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_3' : 'text_5'\n            });\n        }\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","icon":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fwww.scjspaper.com%2Fxsefyzmb%2Fimages%2F20121018015323788.jpg&refer=http%3A%2F%2Fwww.scjspaper.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1637767758&t=2b10db2e2657c718217ebd1df470d57b"},{"last_chapter_rule":"","pageList":[],"title":"大象影视 S","author":"Senap","version":0,"url":"https://www.daxiangtv.net/index.php/vod/show/fyarea/by/fysort/id/fyclass/page/fypage/fyyear.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫&||&动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&||&国产剧&港台剧&日韩剧&欧美剧","class_url":"1&2&3&4&||&6&7&8&9&10&11&12&||&13&14&15&16","area_name":"地区&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&/area/大陆&/area/香港&/area/台湾&/area/美国&/area/法国&/area/英国&/area/日本&/area/韩国&/area/德国&/area/泰国&/area/印度&/area/意大利&/area/西班牙&/area/加拿大&/area/其他","sort_name":"时间&热门&评分&推荐","year_name":"年代&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&更早","sort_url":"time&hits&score&commend","year_url":"&year/2021&year/2020&year/2019&year/2018&year/2017&year/2016&year/2015&year/2014&year/2013&year/2012&year/2011&year/2010&year/2009&year/2008&year/2007&year/2006&year/2005&year/2004","find_rule":"js:\nvar d = [];\ntry {\n    //定位列表\n    var list = parseDomForArray(getResCode(), '.myui-vodlist&&li');\n    for (var j in list) {\n        d.push({\n            //定位标题\n            title: parseDomForHtml(list[j], 'body&&a&&title'),\n            //定位描述\n            desc: parseDomForHtml(list[j], 'body&&.pic-text&&Text'),\n            //定位图片\n            pic_url: parseDom(list[j], '.lazyload&&data-original') + \"@Referer=\",\n            //定位链接\n            url: parseDom(list[j], 'a&&href') + \"#immersiveTheme#\"\n        });\n    }\n} catch (e) {}\nsetResult(d);","searchFind":"js:\nvar res = {};\nvar d = [];\n\n//定位列表\nvar list = parseDomForArray(getResCode(), '.myui-vodlist__media&&li');\nfor (var j in list) {\n    d.push({\n        //定位标题\n        title: parseDomForHtml(list[j], 'body&&a&&title'),\n        //定位描述\n        desc: parseDomForHtml(list[j], '.pic-text&&Text'),\n        //定位筒介\n        content: parseDomForHtml(list[j], 'p,1&&Text') + '\\n' + parseDomForHtml(list[j], 'p&&Text') + '\\n' + parseDomForHtml(list[j], 'p,2&&Text'),\n        //定位图片\n        img: parseDom(list[j], '.lazyload&&data-original') + \"@Referer=\",\n        //定位链接\n        url: parseDom(list[j], 'a&&href') + \"#immersiveTheme#\"\n    });\n}\nres.data = d;\nsetSearchResult(res);","search_url":"https://www.daxiangtv.net/index.php/vod/search/page/fypage/wd/**.html","titleColor":"#ff13b66a","group":"②影视","detail_col_type":"text_3","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n\n\nvar lazy = $(\"\").lazyRule(() => {\n    const {\n        lazyParse\n    } = $.require('hiker://page/globalParse?rule=道长仓库Pro');\n    return lazyParse(input)\n});\n\n\n/*线路↓*/\nvar arts = parseDomForArray(html, 'body&&.nav-tabs&&li');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'body&&Text').replace(' ', ''))\n}\n/*线路*/\n\n\n\n/*↓选集*/\nvar conts = parseDomForArray(html, 'body&&.myui-content__list');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n/*选集*/\n\n\n//以下头框\nd.push({\n    //定位标题\n    title: parseDomForHtml(html, '.data&&Text').substring(0, 30) + '\\n' + parseDomForHtml(html, '.data,2&&Text').substring(0, 30) + '\\n' + parseDomForHtml(html, '.data,3&&Text').substring(0, 15),\n    //定位描述\n    desc: ' 更新于：' + parseDomForHtml(html, '.data,1&&Text').substring(0, 30),\n    //定位图片\n    pic_url: parseDom(html, '.lazyload&&data-original') + '@Referer=',\n    url: MY_URL,\n    col_type: 'movie_1_vertical_pic_blur'\n});\n\n\n//这里定位简介，\nvar des_desc = parseDomForHtml(html, '.sketch&&Text').replace('地区：', '');\nif (des_desc.length > 50) {\n    des_desc = des_desc.replace(' 简 介：' + des_desc, des_desc.substring(0, 50) + \"......\");\n}\nd.push({\n    title: des_desc,\n    col_type: 'long_text'\n});\n\n\n\n/*   😜  这里是线路和选集，可以不用修改！！！*/\n\nd.push({\n    title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n    url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n    col_type: 'scroll_button'\n})\n\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    d.push({\n        col_type: 'line_blank'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    if (getVar('shsort') == '1') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_3' : 'text_5'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_3' : 'text_5'\n            });\n        }\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","icon":"https://gimg0.baidu.com/gimg/src=http%3A%2F%2Fgdown.baidu.com%2Fimg%2F0%2F512_512%2F0760a5b50c391fa81ed2da44fb44df35.png&app=2008&size=b219,219&n=0&g=0n&sec=1635171792&t=36001bba1f1bab471d23f3c4eb5864c3"},{"last_chapter_rule":"","pageList":[],"title":"蓝莓影视S","author":"Senap","version":1,"url":"https://lanmeiguojiang.com/index.php/vod/show/by/fysort/fyarea/id/fyclass/page/fypage/fyyear.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫&动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&国产剧&港台剧&日韩剧&欧美剧","class_url":"1&2&3&4&6&7&8&9&10&11&12&13&14&15&16","area_name":"地区&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&/area/大陆&/area/香港&/area/台湾&/area/美国&/area/法国&/area/英国&/area/日本&/area/韩国&/area/德国&/area/泰国&/area/印度&/area/意大利&/area/西班牙&/area/加拿大&/area/其他","sort_name":"时间&热门&评分&推荐","year_name":"年代&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&更早","sort_url":"time&hits&score&commend","year_url":"&year/2021&year/2020&year/2019&year/2018&year/2017&year/2016&year/2015&year/2014&year/2013&year/2012&year/2011&year/2010&year/2009&year/2008&year/2007&year/2006&year/2005&year/2004","find_rule":"js:\nvar d = [];\ntry {\n    //定位列表\n    var list = parseDomForArray(getResCode(), '.module-items&&.module-item');\n    for (var j in list) {\n        d.push({\n            //定位标题\n            title: parseDomForHtml(list[j], 'a&&title'),\n            //定位描述\n            desc: parseDomForHtml(list[j], '.module-item-caption&&Text'),\n            //定位图片\n            pic_url: parseDom(list[j], '.lazyloaded&&data-src') + \"@Referer=\",\n            //定位链接\n            url: parseDom(list[j], 'a&&href') + \"#immersiveTheme#\"\n        });\n    }\n} catch (e) {}\nsetResult(d);\n","searchFind":"js:\nvar res = {};\nvar d = [];\n\n//定位列表\nvar list = parseDomForArray(getResCode(), '.module-items&&.module-search-item');\nfor (var j in list) {\n    d.push({\n        //定位标题\n        title: parseDomForHtml(list[j], 'img&&alt'),\n        //定位描述\n        desc: parseDomForHtml(list[j], '.video-info-items&&Text'),\n        //定位筒介\n        content: parseDomForHtml(list[j], '.video-info-aux&&Text') + '\\n' + parseDomForHtml(list[j], '.video-serial&&Text') + '\\n' + parseDomForHtml(list[j], '.video-info-items,1&&Text'),\n        //定位图片\n        img: parseDom(list[j], '.lazy&&data-src') + \"@Referer=\",\n        //定位链接\n        url: parseDom(list[j], 'a,1&&href') + \"#immersiveTheme#\"\n    });\n}\nres.data = d;\nsetSearchResult(res);","search_url":"https://lanmeiguojiang.com/index.php/vod/search/page/fypage/wd/**.html","titleColor":"#ff13b66a","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n//断插调用\nvar config = fetch('hiker://files/cache/MyParseSet.json');\nif(config == '' || !fetch(JSON.parse(config).cj)){\n    var jsUrl = 'https://code.aliyun.com/AI957/Hiker/raw/master/v/CloudParse-V2_Dn.js';\n}else{\n    var jsUrl = JSON.parse(config).cj;\n} eval(fetch(jsUrl));\n//搭配断插免嗅\nvar lazy = `@lazyRule=.js:var jsurl = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]).url;if(jsurl.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu|pptv|letv|le/)){var input=jsurl;`+lazy+`}else{jsurl}`;\n\n/*线路↓*/\nvar arts = parseDomForArray(html, 'body&&.module-tab-content&&span');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'span&&Text').replace(' ', ''))\n}\n/*线路*/\n\n\n\n/*↓选集*/\nvar conts = parseDomForArray(html, 'body&&.module-blocklist');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n/*选集*/\n\n\n//以下头框\nd.push({\n    //定位标题\n    title: parseDomForHtml(html, 'body&&h1&&Text').substring(0, 15) + '\\n' + parseDomForHtml(html, '.video-info-aux&&Text').substring(0, 15) + '\\n' + parseDomForHtml(html, '.video-info-items,1&&Text\"').substring(0, 15),\n    //定位描述\n    desc: ' 更新于：' + parseDomForHtml(html, '.video-info-items,2&&Text').substring(0, 15),\n    //定位图片\n    pic_url: parseDom(html, '.lazyload&&data-src') + '@Referer=',\n    url: setUrl,\n    col_type: 'movie_1_vertical_pic_blur'\n});\n\n\n//这里定位简介，\nvar des_desc = parseDomForHtml(html, '.video-info-content&&p&&Text').replace('地区：', '');\nif (des_desc.length > 50) {\n    des_desc = des_desc.replace(' 简 介：' + des_desc, des_desc.substring(0, 50) + \"......\");\n}\nd.push({\n    title: des_desc,\n    col_type: 'long_text'\n});\n\n\n\n/*   😜  这里是线路和选集，可以不用修改！！！*/\n\nd.push({\n    title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n    url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n    col_type: 'scroll_button'\n})\n\nfunction setTabs(tabs, vari) {\n    for (var i in tabs) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'scroll_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    d.push({\n        col_type: 'line_blank'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    if (getVar('shsort') == '1') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_3' : 'text_5'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            var jm = parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', '');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: jm.length > 5 ? 'text_3' : 'text_5'\n            });\n        }\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fp5.zbjimg.com%2Ftask%2F2012-02%2F10%2F1421127%2Flarge4f34949d0d850.jpg&refer=http%3A%2F%2Fp5.zbjimg.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1637067673&t=df2c2612f9ceffc62a48b6461abcc246"},{"last_chapter_rule":"","pageList":[],"title":"没事影院修","author":"","version":0,"url":"https://m.9bbg.com/type/fyclass-fypage.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&4&3","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","searchFind":"js:\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","search_url":"https://m.9bbg.com/search/**----------fypage---.html;get;UTF-8;{User-Agent@Mozilla/5.0 (Linux；； Android 11；； Redmi K20 Pro Build/RKQ1.200826.002；； wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/87.0.4280.141 Mobile Safari/537.36&&Cookie@PHPSESSID=7lqu8qbi8iug49djo83jb33sa5}","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\n//通用匹配\nputVar(\"_x5\", $.toString(() => {\n    var urls = _getUrls()\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            //fy_bridge_app.log(urls[i])\n            return urls[i]\n        }\n    }\n}))\nvar lazy = \"@lazyRule=.js:decodeURIComponent(base64Decode(JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]).url))\";\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"盘古视界","author":"野蛮人","version":0,"url":"http://www.v256.com/index.php/vod/show/id/fyclass/page/fypage.html","col_type":"movie_3","class_name":"电影&电视&综艺&动漫","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","searchFind":"js:\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","search_url":"http://www.v256.com/index.php/vod/search/page/2/wd/**.html","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\n//通用匹配\nputVar(\"_x5\", $.toString(() => {\n    var urls = _getUrls()\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            //fy_bridge_app.log(urls[i])\n            return urls[i]\n        }\n    }\n}))\nvar lazy = `@lazyRule=.js:decodeURIComponent(base64Decode(JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]).url))`;\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]"},{"last_chapter_rule":"","pageList":[],"title":"不求人影视","author":"野蛮人","version":0,"url":"https://movie.bqrdh.com/vodshow/fyclass-fyarea--fyyear-----fypage---fysort.htm","col_type":"movie_3","class_name":"电影&连续剧&综艺&动漫&动画片&纪录片","class_url":"SCCCCS&qCCCCS&xCCCCS&ICCCCS&MCCCCS&aCCCCS","area_name":"全部&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&%E5%A4%A7%E9%99%86&%E9%A6%99%E6%B8%AF&%E5%8F%B0%E6%B9%BE&%E7%BE%8E%E5%9B%BD&%E6%B3%95%E5%9B%BD&%E8%8B%B1%E5%9B%BD&%E6%97%A5%E6%9C%AC&%E9%9F%A9%E5%9B%BD&%E5%BE%B7%E5%9B%BD&%E6%B3%B0%E5%9B%BD&%E5%8D%B0%E5%BA%A6&%E6%84%8F%E5%A4%A7%E5%88%A9&%E8%A5%BF%E7%8F%AD%E7%89%99&%E5%8A%A0%E6%8B%BF%E5%A4%A7&%E5%85%B6%E4%BB%96","sort_name":"全部&2018&2017&2016&2015&2014&2013&2012&2011&2010","year_name":"","sort_url":"&2018&2017&2016&2015&2014&2013&2012&2011&2010","year_url":"","find_rule":".vodlist&&li;.vodlist_title&&Text;a&&data-original;.lazyload&&Text;a&&href","searchFind":".vodlist&&li;.vodlist_title&&Text;a&&href;.lazyload&&Text;.searchlist_titbox&&Text;a&&data-original","search_url":"https://movie.bqrdh.com/vodsearch/-------------.html?wd=**&submit=","titleColor":"#ff228be6","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\nd.push({\n        desc: '240&&float',\n        col_type: 'x5_webview_single'\n    });\n\n    var config = fetch('hiker://files/cache/MyParseSet.json');\n    var jsUrl = 'https://code.aliyun.com/AI957/Hiker/raw/master/v/CloudParse-V2_Dn.js';\n    if (config && fetch(JSON.parse(config).cj)) {\n        jsUrl = JSON.parse(config).cj;\n    } eval(fetch(jsUrl));\n    var 解析口 = `hiker://empty#noHistory#@rule=js:var d = [];d.push({desc: '200',url: 'file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/jiexi/jiexi.html',col_type: 'x5_webview_single'});var titles = fetch(\"hiker://files/jiexi/jiexi.txt\", {}).split(/\\\\n/);for(var i = 0; i < titles.length; i++){var t = titles[i].split(\"&&\");d.push({title:fetch(\"hiker://files/jx_cache.txt\",{}) == t[1] ? t[0] + \"‘‘（当前）’’\" : t[0],desc:t[1],url:t[1] + '@lazyRule=.js:writeFile(\"hiker://files/jx_cache.txt\",input);refreshPage();\"toast://修改成功\"',col_type: 'text_1'});}setResult(d)`;\n    putVar('解析口', 解析口);\n\nvar arts = parseDomForArray(html,'.scroller&&a');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text').replace('',''))\n}\n\nvar conts = parseDomForArray(html, 'body&&#playlistbox');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\nvar des_desc = parseDomForHtml(html, '.play_content&&p,2&&Text').replace(/.*◎简　　介/,'');\nd.push({\n\ttitle: '类型:'+parseDomForHtml(html, '.nstem&&a,2&&Text').replace('地区：','   ').replace('年份：','   ') + '\\n' +'地区:'+ parseDomForHtml(html,'.nstem&&a,1&&Text').substring(0, 15)+'\\n'+'年代:'+parseDomForHtml(html,'.nstem&&a&&Text').substring(0, 15),\n desc: parseDomForHtml(html,'.play_content&&p,1&&Text').substring(0, 25) + \"\\t\\t\\t点击修改解析口\",\n\tpic_url: parseDom(html, '.lazyload&&data-original'),\n\turl: (getVar('bfq') == '1' ? setUrl : getVar('解析口')),\n        col_type: 'movie_1_vertical_pic'\n    });\n    d.push({ col_type: \"rich_text\", title: `当前模式为：<a href=\"hiker://empty@lazyRule=.js:putVar('bfq',getVar('bfq')=='1'?'0':'1');refreshPage();if(getVar('bfq')=='1'){refreshX5WebView('')}'toast://已切换模式';\">` + (getVar('bfq') == '1' ? \"断插模式\" : \"嗅探模式\") + \"</a>\" });\n    d.push({ col_type: 'blank_block' });\nvar lazy1 = `@lazyRule=.embed-responsive&&script&&Html.js:;eval(input);var jsUrl = decodeURIComponent(base64Decode(player_data.url));;var jx = fetch(\"hiker://files/jx_cache.txt\",{});if(jsUrl.match(/html/)){var input=jsUrl;`+lazy+`}else{jsUrl}`\nvar lazy2 = $(\"\").lazyRule(() => {\n    eval(parseDomForHtml(fetch(input), '.embed-responsive&&script&&Html'));\n    var url = decodeURIComponent(base64Decode(player_data.url));\n    if (url.indexOf('m3u8') != -1) {\n        var video = url\n    } else {\n        var jx =  fetch('hiker://files/jx_cache.txt');\n        var play = jx + url\n        showLoading(\"国庆节快乐，请稍候\")\n        var video = 'x5Rule://' + play + '@' + $.toString(() => {\n            var urls = _getUrls()\n            for (var i in urls) {\n                if (urls[i].match(/.mp3|.mp4|_mp4|.tc.qq|.m3u8/)!=null&&urls[i].match(/.js|.css|.ts|.html|.php|.gif|.jpg|.jpeg|.png|.ico|.svg|.txt/)==null) {\n                    fy_bridge_app.log(urls[i])\n                    return urls[i]\n                }\n            }\n        })\n    }\n    return video\n});\n\n if(getVar('bfq','1')=='1'){\nvar lazy=lazy1;\n}else{\nvar lazy=lazy2;\n}\n\nfunction setTabs(tabs, vari) {\n        d.push({\n            title: '‘‘线路’’',\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('折叠');if(conf=='关'){putVar({key:'折叠', value:'开'});}else{putVar({key:'折叠', value:'关'})};refreshPage(false);'toast://切换成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\nif (getVar('折叠') == '开'||getVar('折叠') == '') {\n        var title = '';\n        for (var i = 0; i < tabs.length; i++) {\n            var url = \"hiker://empty@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage();'toast://切换成功！'\";\n            d.push({\n                title: tabs[i] + (getVar(vari, '0') == i ? '✅' : ''),\n                url: url,\n                col_type: tabs.length > 2 ? 'text_2' : 'text_2'\n            })\n        }\n        d.push({\n            col_type: 'line_blank'\n        })\n    }\n}\n    function setLists(lists, index) {\n        d.push({\n            title: '‘‘选集’’',\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n        var list = lists[index];\n\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text'),\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: list.length > 3 ? 'text_3' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'a&&Text'),\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: list.length > 3 ? 'text_3' : 'text_2'\n                });\n            }\n        }\n    }\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\n\nd.push({title: '<br>', col_type: 'rich_text'});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"小小.","author":"sm`回忆&野蛮人修","version":0,"url":"https://www.6949.cc/vodshow/fyclass-fyarea-fysort------fypage---fyyear.html","col_type":"movie_3","class_name":"电影&电视剧&动漫&综艺&||&动作片&喜剧片&爱情片&科幻片&恐怖片&剧情片&战争片&惊悚片&纪录片&||&国产剧&港台剧&海外剧&日韩剧&欧美剧","class_url":"1&2&4&3&||&6&7&8&9&10&11&12&20&21&||&13&14&22&15&16","area_name":"全部&内地&韩国&香港&台湾&日本&美国&泰国&英国&新加坡&其他","area_url":"&内地&韩国&香港&台湾&日本&美国&泰国&英国&新加坡&其他","sort_name":"时间&人气&评分","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010","find_rule":"js:\nvar items=[];\n\nvar list = parseDomForArray(getResCode(), '.vodlist&&li');//列表\n\nfor(var i in list){\ntry{\nitems.push({\ntitle:parseDomForHtml(list[i],'a&&title'),//标题\ndesc:parseDomForHtml(list[i],'.pic_text&&Text'),//描述\npic_url:parseDom(list[i],'.lazyload&&data-original')+'@Referer=',//图片\nurl:parseDom(list[i],'a&&href')+\"#immersiveTheme#\",//链接\ncol_type: 'movie_3'});\n  }catch(e){''}\n}\n//道佬•模板\nsetHomeResult({ data : items});","searchFind":"js:\nvar items=[];\n\nvar list = parseDomForArray(getResCode(), '.vodlist&&li');//列表\nfor(var i in list){\ntry{\nitems.push({\ntitle:parseDomForHtml(list[i],'a&&title'),//标题\ndesc:parseDomForHtml(list[i],'.pic_text&&Text'),//描述\ncontent:parseDomForHtml(list[i],'p,-1&&Text'),//详情\npic_url:parseDom(list[i],'a&&data-original')+'@Referer=',//图片\nurl:parseDom(list[i],'a&&href')+\"#immersiveTheme#\"//链接\n});\n  }catch(e){''}\n}\n//道佬•模板\nsetSearchResult({ data : items});","search_url":"https://www.6949.cc/vodsearch/----------fypage---.html?wd=**","titleColor":"#f20c00","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nvar html = getResCode();\n\nvar jsUrl = fetch('hiker://files/cache/MyParseSet.json');\n    if(jsUrl == '' || !fetch(JSON.parse(jsUrl).cj)){var jsFile = fetch('https://gitee.com/Duan-Nian/Dn/raw/master/hikerview/CloudParse-V2_Dn.js');}else{var jsFile = fetch(JSON.parse(jsUrl).cj);}eval(jsFile);\n//免嗅\nvar lazy = `@lazyRule=.js:var jsurl =unescape(base64Decode( JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]).url));if(jsurl.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu|pptv|letv|le/)){var input=jsurl;`+lazy+`}else{jsurl}`;\n\nvar playList = [];\nvar arts = parseDomForArray(html, '#NumTab&&a');\n\n\nfor (var i in arts) {\n    playList.push({\n        name: parseDomForHtml(arts[i], 'Text'),\n        list: []\n    });\n}\nplayList[0].use = true;\nvar conts = parseDomForArray(html, 'body&&#playlistbox');\n\n/*一下为x5头部设置*/\n\ntry{\nvar daoyan=parseDomForHtml(html,'.detail_list&&li,8&&Text').substring(3, 26);  \nvar zhuyan=parseDomForHtml(html, '.detail_list&&li,7&&Text').substring(3, 45);\nvar time=parseDomForHtml(html,'.detail_list&&li,6&&Text').replace('状态：','');  \n}catch(e){\nvar daoyan=zhuyan=time;\n}\nvar data = {\n            name: parseDomForHtml(html, 'h2&&Text'),\n            pic:parseDom(html, '.lazyload&&data-original'),\n\t\t\tinfo: [\n\t\t\t\t{type: '导演：', inf: daoyan},\n\t\t\t\t{type: '演员：', inf: zhuyan},\n\t\t\t\t{type: '状态：',inf: time}\n\t\t\t],\n             class: parseDomForHtml(html,'.detail_list&&a,6&&Text'),\n\t\t           year: parseDomForHtml(html,'.detail_list&&a,4&&Text').replace('年代：','') ,\n\t\t           \tarea: parseDomForHtml(html, '.detail_list&&a,5&&Text'),\n\t\t\t           desc: parseDomForHtml(html, '.content_desc&&Text'),\n\t\t\tlazy:true,\n  plugin: $.toString(() => {\n        var config = fetch('hiker://files/cache/MyParseSet.json');\n        if (config == '' || !fetch(JSON.parse(config).cj)) {\n            var jsUrl = 'https://code.aliyun.com/AI957/Hiker/raw/master/v/CloudParse-V2_Dn.js';\n        } else {\n            var jsUrl = JSON.parse(config).cj;\n        }\n        eval(fetch(jsUrl));\n        var d = [];\n        setParse();\n        setResult(d);\n    })\n}\n/*一上为x5头部设置*/\n\n\n\nfor (let i = 0; i < conts.length; i++) {\n    playList[i].list = parseDomForArray(conts[i], \"ul&&li\").map(item => {\n        return {\n            title: parseDomForHtml(item, \"a&&Text\"),\n            url: parseDom(item, 'a&&href') + lazy,\n        }\n    });\n}\n//setError(playList)\ndata.playList = playList;\nputVar('movieDetail', data);\nsetResult([{\n    desc: '100%&&float',\n    url: 'file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/x5page/style_pro.html',\n    col_type: 'x5_webview_single'\n}]);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"var is_refresh=1;\n//＝1为每次打开都拉取云端文件，进二级后随意滑动，返回待再进二级，正常载入后请调回0\nis_refresh||!fileExist('hiker://files/rules/x5page/style_pro.html')?(writeFile('hiker://files/rules/x5page/style_pro.html',request('http://82.156.222.77/weisyr/style_pro.html'))):0;\nputVar('gengxin',is_refresh);","pages":"[]"},{"last_chapter_rule":"","pageList":[],"title":"极速TV","author":"老王","version":1,"url":"https://91suying.com/movie-list-id-fyclass-pg-fypage-order-desc-by-dayhits-class-0-year-2021-letter--area--lang-.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","searchFind":"js:\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","search_url":"","titleColor":"","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\n//通用匹配\nputVar(\"_x5\", $.toString(() => {\n    var urls = _getUrls()\n    for (var i in urls) {\n        if (urls[i].match(/.mp3|.mp4|.m3u8/)) {\n            fy_bridge_app.log(urls[i])\n            return urls[i]\n        }\n    }\n}))\nvar lazy = \"@lazyRule=.js:showLoading(动态解析中，请稍候');'x5Rule://'+input+'@' + getVar('_x5')\";\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"8K","author":"","version":0,"url":"http://vip.8kvod.com:888/t/1-fypage/","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nlet true_url = getVar(\"YingYuan.url\", MY_URL)\nconst page = MY_URL.match(/-(.*?)\\//)[1]\ntrue_url = true_url.replace('---/', +page+'---/')  \nconst html = fetch(true_url, {\n    headers: {\n        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0)'\n    }\n})\nconst empty = \"hiker://empty\"\n\nconst categories = parseDomForArray(html, '.nav-list,0&&ul').concat(parseDomForArray(html, '.myui-panel_bd&&.myui-screen__list:not(:contains(字母))'));\n\nlet init_cate = []\n\nfor (let i = 0; i < 20; i++) {\n    init_cate.push(\"0\")\n}\n\nconst fold = getVar(\"YingYuan.fold\", \"0\")\nconst cate_temp_json = getVar(\"YingYuan.category\", JSON.stringify(init_cate))\nconst cate_temp = JSON.parse(cate_temp_json)\n\n\nif (parseInt(page) === 1) {\n    d.push({\n        title: fold === '1' ? '““””<b><span style=\"color: #FF0000\">∨</span></b>' : '““””<b><span style=\"color: #1aad19\">∧</span></b>',\n        url: $(empty).lazyRule((fold) => {\n            putVar(\"YingYuan.fold\", fold === '1' ? '0' : '1');\n            refreshPage(false);\n            return \"hiker://empty\"\n        }, fold),\n        col_type: 'scroll_button',\n    })\n\n\n    categories.forEach((category, index) => {\n        let sub_categories = parseDomForArray(category, 'body--a&&a:not(:contains(专题)):not(:contains(资讯)):not(:contains(直播)):not(:contains(APP))');\n        if (index === 0) {\n            sub_categories.forEach((item, key) => {\n                let title = parseDomForHtml(item, 'a&&Text')\n                d.push({\n                    title: key.toString() === cate_temp[index] ? '““””<b><span style=\"color: #098AC1\">' + title + '</span></b>' : title,\n                    url: $(parseDom(item, 'a&&href')).lazyRule((params) => {\n                        let new_cate = []\n                        params.cate_temp.forEach((cate, index) => {\n                            new_cate.push(index === 0 ? params.key.toString() : \"0\")\n                        })\n                        putVar(\"YingYuan.category\", JSON.stringify(new_cate))\n                        putVar(\"YingYuan.url\", input)\n                        refreshPage(true)\n                        return \"hiker://empty\"\n                    }, {\n                        cate_temp: cate_temp,\n                        key: key,\n                        page: page,\n                    }),\n                    col_type: 'scroll_button',\n                })\n            })\n            d.push({\n                col_type: \"blank_block\"\n            });\n        } else if (fold === '1') {\n            sub_categories.forEach((item, key) => {\n                let title = parseDomForHtml(item, 'a&&Text')\n                d.push({\n                    title: key.toString() === cate_temp[index] ? '““””<b><span style=\"color: #098AC1\">' + title + '</span></b>' : title,\n                    url: $(parseDom(item, 'a&&href')).lazyRule((params) => {\n                        params.cate_temp[params.index] = params.key.toString()\n\n                        putVar(\"YingYuan.category\", JSON.stringify(params.cate_temp))\n                        putVar(\"YingYuan.url\", input)\n                        refreshPage(true)\n                        return \"hiker://empty\"\n                    }, {\n                        cate_temp: cate_temp,\n                        index: index,\n                        key: key,\n                        page: page,\n                    }),\n                    col_type: 'scroll_button',\n                })\n            })\n            d.push({\n                col_type: \"blank_block\"\n            });\n        }\n    })\n}\nconst list = parseDomForArray(html, '.myui-vodlist&&li')\nlist.forEach(video => {\n    d.push({\n        title: parseDomForHtml(video, 'a&&title'),\n        desc: parseDomForHtml(video, '.pic-text&&Text'),\n        pic_url: parseDom(video, 'a&&data-original') + \"@Referer=\",\n        url: parseDom(video, 'a&&href') + '#immersiveTheme#',\n        col_type: 'movie_3_marquee',\n    })\n})\nsetResult(d);","searchFind":"js:\n var html = getResCode();\n \n d = JSON.parse(html).list.map(\n     data => ({\n         title: data.name,\n         url: 'http://vip.8kvod.com:888/k/' + data.id + '.html#immersiveTheme#',\n         img: data.pic\n     })\n )\n setResult(d)","search_url":"http://vip.8kvod.com:888/index.php/ajax/suggest?mid=fypage&wd=**&limit=10","titleColor":"#ff228be6","group":"②影视","detail_col_type":"text_3","detail_find_rule":"js:\n    var d = [];\n    var html = getResCode();\n\nvar jsUrl = fetch('hiker://files/cache/MyParseSet.json');\n    if(jsUrl == '' || !fetch(JSON.parse(jsUrl).cj)){var jsFile = fetch('https://gitee.com/Duan-Nian/Dn/raw/master/hikerview/CloudParse-V2_Dn.js');}else{var jsFile = fetch(JSON.parse(jsUrl).cj);}eval(jsFile);\n\n\n    var arts = parseDomForArray(html, 'body&&.nav-tabs&&li');\n  \n  var tabs = [];\n    for (var i in arts) {\n        tabs.push(parseDomForHtml(arts[i], 'li&&Text'))\n    }\n   \n var conts = parseDomForArray(html, 'body&&.myui-content__list');\n \n   var lists = [];\n    for (var i in conts) {\n        lists.push(parseDomForArray(conts[i], 'ul&&li'))\n    }\n\n    d.push({\n\ttitle: '分类：' +parseDomForHtml(html, '.data,0&&Text').replace('分类：','').replace('地区：','').replace('年份：',' ').substring(0, 16)+ '\\n' + parseDomForHtml(html,'.data,1&&Text').substring(0, 15)+'\\n'+parseDomForHtml(html, '.data,2&&Text').substring(0, 15),\n\n\tdesc:parseDomForHtml(html,'.data,4&&Text').substring(0, 16),\n        pic_url: parseDom(html, '.lazyload&&data-original'),\n        url: setUrl,\n        col_type: 'movie_1_vertical_pic_blur'\n});\n var desc = parseDomForHtml(html, '.data.hidden-xs&&Text').replace('[收起部分]','').replace('　',''); \nd.push({\n        title: '‘‘’’<small><font color=\"#ff148e8e\">' + desc.substr(0, 30) + '...</font><small><font color=\"red\">查看详情</font></small></small>',\n       url: 'hiker://empty#' + desc + `@rule=js:var res = {}; var d = [];d.push({title:''+ MY_URL.split('hiker://empty#')[1],col_type: 'long_text'});res.data = d; setHomeResult(res);`,\n       col_type: 'text_1'\n   });\n\n\nvar lazy= `@lazyRule=iframe&&src.js:var jsurl=input.replace('http://m3u8.vod.fit:668/?url=','');if(jsurl.match(/youku|mgtv|ixigua|qq.com|qiyi|migu|bili|sohu|pptv|letv|le/)){var input=jsurl;`+lazy+`}else{jsurl}`;\n\n    function setTabs(tabs, vari) {\n    for (var i = 0; i < tabs.length; i++) {\n\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\",\n            col_type:'text_2'\n        })\n    }\n    d.push({ col_type: 'blank_block' });\n}\n\n   function setLists(lists, index) {\n        d.push({\n            title: '‘‘选集’’',\n            url: `@lazyRule=.js:let conf = getVar('shsort');if(conf==' - 逆序'){putVar({key:'shsort', value:' - 正序'});}else{putVar({key:'shsort', value:' - 逆序'})};refreshPage(false);'toast://切换排序成功'`,\n            col_type: 'text_center_1'\n        })\n        var list = lists[index];\n\nif (getVar('shsort') == ' - 逆序') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text'),\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'a&&Text'),\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        }\n    }\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\n\nd.push({title: '<br>', col_type: 'rich_text'});\n\nsetResult(d);","sdetail_col_type":"text_3","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"18600电影大全🐯","author":"入戏太深&逐风者","version":2021101405,"url":"https://www.18600.org/list/index.php?fyAll-fypage.html","col_type":"movie_3","class_name":"电影&电视剧&综艺&动漫","class_url":"1&2&3&4","area_name":"动作&爱情&科幻&恐怖&战争&喜剧&微电影&剧情","area_url":"dongzuo&aiqing&kehuan&kongbu&zhanzheng&xiju&weidianying&juqing","sort_name":"原网站搜索关闭","year_name":"大陆剧&香港剧&台湾剧&日本剧&韩国剧&欧美剧&海外剧","sort_url":"","year_url":"dalu&xianggang&taiwan&riben&hanguo&oumei&haiwai","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.contBox&&li');//列表\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&title'),//标题\r\n       desc: parseDomForHtml(list[j], '')+' '+parseDomForHtml(list[j], '.meta_tr&&Text'),//双重描述\r\n       pic_url: parseDom(list[j], 'img&&src'),//图片\r\n       url: parseDom(list[j],'a&&href')+\"#immersiveTheme#\"//链接\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":".contBox&&li;title&&Text;a&&href;;;img&&src","search_url":"https://www.18600.org/search.php?page=fypage&searchword=**&searchtype=","titleColor":"#ff871f78","group":"②影视","detail_col_type":"text_3","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\n//嗅探\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i].replace(/http.*url=/,'').replace(/https.*url=/,'')\n        }\n    }\n});\n\n\n//①类型地区等②主演③导演④简介\nd.push({\n\ttitle: parseDomForHtml(html, 'body&&p,0&&Text').replace(/\\//g,'')+ '\\n' + parseDomForHtml(html,'body&&p,1&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15)+'\\n'+parseDomForHtml(html, 'body&&p,2&&Text').replace(/\\//g,' ').replace('  ','').substring(0, 15),\tdesc: parseDomForHtml(html,'.debox&&Text').replace('[收起部分]','').replace('　',''),\n//图片\n\tpic_url: parseDom(html, 'img&&src'),\n\turl: parseDom(html, 'img&&src'),\n\ncol_type: 'movie_1_vertical_pic_blur'\n});\n\n//搜索，以下基本不需要修改。\nvar title = parseDomForHtml(html, 'h1&&Text');\nvar Color = \"#f13b66a\";\nvar Color1 = \"#098AC1\";\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\nd.push({\n    title: '老黑',\n    url: 'hiker://search?s=' + title + '&rule=黑黑影视🌚',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/18/11/110_c6a1f70c163d781483c9b2651cf92db9_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: 'APP',\n    url: 'hiker://search?s=' + title + '&rule=app影视.dz',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/03/23/8/110_0b65fb0f0a90060a0996c4e7414937f2_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '搜索',\n    url: 'hiker://search?s=' + title + '&group=①免嗅',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2021/09/23/6/110_c6bf3e6cd4fa4ee1cddec2b2ac2fed1c_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\nd.push({\n    title: '豆瓣',\n    url: 'hiker://search?s=' + title + '&rule=青豆',\n    pic_url: \"https://android-artworks.25pp.com/fs08/2019/09/16/7/110_9bcb18fc9a2cec98bd037bf37bb06164_con_130x130.png\",\n    col_type: 'icon_small_4'\n})\n\n\n//线路列表名称\nvar arts = parseDomForArray(html,'body&&.tabC');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'li&&Text'))\n}\n\n//选集列表\nvar conts = parseDomForArray(html, 'body&&.playlist');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\n\n\n//线路切换\nfunction setTabs(tabs, vari) {\n     d.push({\n         title: '‘‘线路:’’',\n            col_type: 'scroll_button',}) \n  for (var i = 0; i < tabs.length; i++) {\n    d.push({\n        title: getVar(vari, '0') == i ? '““' + tabs[i] + '↓' + '””' : tabs[i],\n        url: `hiker://empty@lazyRule=.js:putVar('` + vari + \"', '\" + i + `');refreshPage();'toast://切换线路';'#noHistory#hiker://empty'`,\n\t\t      col_type: 'scroll_button',\n        })\n    }\n    \n\n//正反序         \n    d.push({        col_type: 'line_blank'    })}\n\nif (getVar('shsort') == '1') {var sx='‘‘’’<font color=\"#228be6\"> (逆序)</font></small>';}else {var sx='‘‘’’<font color=\"#0aa344\"> (正序)</font></small>';}\n    function setLists(lists, index) {\n        d.push({\n           // title: '‘‘选集’’',\n            title: '‘‘选集’’' +''+ sx,\n            url: `#noLoading#@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功';'#noHistory#hiker://empty'`,\n            col_type: 'text_center_1'\n        })\n\nif(lists.length != '')  {\n        var list = lists[index];\nif (getVar('shsort') == '1') {\n            for (var j = list.length - 1; j >= 0; j--) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        } else {\n            for (var j = 0; j < list.length; j++) {\n                d.push({\n                title: parseDomForHtml(list[j], 'Text').replace(/第|集|话|期/g,''),\n                url: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n                col_type: list.length > 4 ? 'text_4' : 'text_2'\n                });\n            }\n        }\n        \n        }\n      d.push({title:'<br>',col_type:'rich_text' });      \n    }\n\n// 调用函数\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    col_type: 'big_blank_block'\n});\nd.push({\n    title: '““””<small><font color=#871f78>以上数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","icon":"https://www.18600.org/favicon.ico"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"美剧虫·Q","author":"发粪涂墙","version":0,"url":"https://www.meijuchong.com/vodshow/fyclass--fysort------fypage---fyyear.html","col_type":"movie_3","class_name":"欧美剧&海外剧&日韩剧&电影","class_url":"1&2&3&4","area_name":"","area_url":"","sort_name":"热度&时间&人气&评分","year_name":"全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010","sort_url":"up&time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010","find_rule":"js:eval(JSON.parse(request('hiker://page/myui-vodlist?rule=模板·Q')).rule)","searchFind":"js:\r\neval(JSON.parse(request('hiker://page/myui-vodlist__media?rule=模板·Q')).rule)","search_url":"https://www.meijuchong.com/vodsearch/**----------fypage---.html","titleColor":"#fff20c00","group":"②影视","detail_col_type":"text_2","detail_find_rule":"js:\nvar lazy = `@lazyRule=.js:var url = JSON.parse(request(input).match(/r player_.*?=(.*?)</)[1]).url;!/mp4/.test(url)?url+';{Referer@https://www.meijuchong.com}#isVideo=true#':url`\neval(JSON.parse(request('hiker://page/nav-tabs?rule=模板·Q')).rule)","sdetail_col_type":"text_3","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"js:\nrequire(config.模板);\n准最新('ul.nav-tabs&&li;a&&href;.tab-content&&#id&&li');","pageList":[],"title":"阿房影视.dr","author":"道长","version":5,"url":"hiker://empty##https://bwl87.com/type/1-fypage/","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split(\"##\")[1];\nrequire(config.模板);\nlet parStr=\".myui-vodlist&&li;.lazyload&&title;.lazyload&&data-original;.lazyload&&Text;.lazyload&&href\";\nvar page = MY_URL.match(/-(.*?)\\//)[1];\n//true_url=获取正确链接();\nvar true_url = getMyVar('header.url', MY_URL);\ntrue_url = true_url.replace(/(.*)---\\//,'$1'+page+'---');\nlet cates=打造动态分类([{\n  一级分类: 'body&&ul.myui-header__menu',\n        子分类: 'body&&li.hidden-sm:gt(0):lt(5)',\n},{\n        一级分类: 'body&&.myui-screen__list',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n    }]);\n设置(cates,true);\n//log('源码及动态分类前奏耗时:'+(new Date().getTime()-t1)+'毫秒');\n一级(parStr,true,cates,false,html);","searchFind":"js:\n var json = JSON.parse(getResCode());\n var res = {};\n var d = [];\n\n for (var i = 0; i < json.list.length; i++) {\n     var j = json.list[i];\n     d.push({\n         title: j.name,\n         img: j.pic.indexOf('http') != -1 ? j.pic : 'https://www.bwl87.com' + j.pic,\n         url: 'https://bwl87.com/detail/' + j.id + '/' + '#immersiveTheme#'\n     });\n }\n\n res.data = d;\n setSearchResult(res);","search_url":"https://www.bwl87.com/index.php/ajax/suggest?mid=1&wd=**&limit=100&timestamp=.js:new Date().getTime()+''","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\n//引入晓插\nrc('https://gitee.com/xiao-zero/xiao/raw/master/js/xiao.js');\n//免嗅\n\nvar lazy = `@lazyRule=.js:eval(parseDomForHtml(request(input,{}),'.embed-responsive&&script&&Html'));var url=player_aaaa.url;var fr=player_aaaa.from;var input = url ;if(fr === 'xfyun'){` + TG + `}else{url}`;\n//道插覆盖\nrequire(config.模板);\nlet parse={\n title:'h1.title&&Text;.data,1&&Text;#rating&&.branch&&Text',\n img:'.myui-content__thumb&&a&&img&&data-original',\n url:'.myui-content__thumb&&a&&href',\n desc:'.data,2&&Text;.data,3&&Text',\n content:'#desc&&span.data&&Text',\n tabs:'ul.nav-tabs&&li',\n lists:'.tab-content&&#id&&li',\n tab_id:'a&&href'\n};\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"const {getApi} = $.require(\"hiker://page/utiliy?rule=道长仓库Pro\");\nvar 模板 = getApi('importUrl')+\"2505\";\nrequire(模板);\n预处理()","pages":"[]","icon":"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/饭团影院.png"},{"last_chapter_rule":"js:\nrequire(config.模板);\n准最新('ul.nav-tabs&&li;a&&href;.tab-content&&#id&&li');","pageList":[],"title":"饭团影视.dr","author":"道长&墙佬","version":12,"url":"hiker://empty##https://ty.fantuan.tv/vodtype/1-fypage.html","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nMY_URL=MY_URL.split(\"##\")[1];\nrequire(config.模板);\nlet parStr=\".myui-vodlist&&li;a&&title;a&&data-original;a&&Text;a&&href.js:input+'#immersiveTheme#'\";\nvar page = MY_URL.match(/(.*)-(.*?).html/)[2];\ntrue_url=获取正确链接();\nlet cates=打造动态分类([{\n  一级分类: 'body&&ul.myui-header__menu',\n        子分类: 'body&&li.hidden-sm:gt(0):lt(5)',\n},{\n        一级分类: 'body&&.myui-screen__list',\n        子分类: 'ul&&li:has(a[href]):not(:matches(^$))',\n    }]);\n设置(cates);\n一级(parStr,true,cates,false,html);","searchFind":"js:\nrequire(config.模板);\nlet parStr=\"#searchList&&li;.thumb&&a&&title;.thumb&&a&&data-original;.detail&&p,1&&Text;.searchkey&&href.js:input+'#immersiveTheme#';p.hidden-xs&&Text\";\n一级(parStr,true);","search_url":"https://ty.fantuan.tv/vodsearch/page/fypage/wd/**.html","group":"②影视","detail_col_type":"movie_1","detail_find_rule":"js:\nrequire(config.模板);\nlet parse={\n title:'h1.title&&Text;.data,1&&Text;#rating&&.branch&&Text',\n img:'.myui-content__thumb&&a&&img&&data-original',\n url:'.myui-content__thumb&&a&&href',\n desc:'.data,2&&Text;.data,3&&Text',\n content:'#desc&&span.data&&Text',\n tabs:'ul.nav-tabs&&li',\n lists:'.tab-content&&#id&&li',\n tab_id:'a&&href'\n};\nvar lazy = $(\"\").lazyRule(() => {\n    eval(pdfh(request(input), '.embed-responsive&&script&&Html'));\n    eval(getCryptoJS());\n    var url = decodeURIComponent(base64Decode(player_aaaa.url));\n    var html = request('https://ptwo.wkfile.com/m3u8.php?url=' + url, {\n        headers: {\n            'Referer': 'https://fantuan.tv/'\n        }\n    });\n    var bt_token = html.match(/bt_token = \"(.*?)\"/)[1]\n    var play = CryptoJS.AES.decrypt(html.match(/getVideoInfo\\(\"(.*?)\"/)[1], CryptoJS.enc.Utf8.parse('C04AD764B8CD4CE9'), {\n        'iv': CryptoJS.enc.Utf8.parse(bt_token)\n    }).toString(CryptoJS.enc.Utf8);\n    if (/mgtv/.test(play)) {\n        play += ';{User-Agent@Mozilla/5.0 (Windows NT 10.0)}';\n    } else {\n        play += ';{Referer@https://fantuan.tv}'\n    }\n    return play\n});\n二级(parse,lazy);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"const {getApi} = $.require(\"hiker://page/utiliy?rule=道长仓库Pro\");\nvar 模板 = getApi('importUrl')+\"2505\";\nrequire(模板);\n预处理()","pages":"[]","icon":"https://inmemory.coding.net/p/InMemory/d/MBrowser/git/raw/master/AppFile/AppIcon/饭团影院.png"},{"last_chapter_rule":"","pageList":[],"title":"omofun动漫","author":"香雅情","version":0,"url":"https://omofun.com/index.php/vod/show/fyAll/page/fypage.html","col_type":"movie_3","class_name":"动漫&剧场版","class_url":"id/20&id/39","area_name":"热血&穿越&奇幻&战斗&搞笑&日常&科幻&萌系&治愈&校园&恋爱&魔法&冒险&机战&催泪&音乐","area_url":"class/%E7%83%AD%E8%A1%80/id/20&class/%E7%A9%BF%E8%B6%8A/id/20&class/%E5%A5%87%E5%B9%BB/id/20&class/%E6%88%98%E6%96%97/id/20&class/%E6%90%9E%E7%AC%91/id/20&class/%E6%97%A5%E5%B8%B8/id/20&class/%E7%A7%91%E5%B9%BB/id/20&class/%E8%90%8C%E7%B3%BB/id/20&class/%E6%B2%BB%E6%84%88/id/20&class/%E6%A0%A1%E5%9B%AD/id/20&class/%E6%81%8B%E7%88%B1/id/20&class/%E9%AD%94%E6%B3%95/id/20&class/%E5%86%92%E9%99%A9/id/20&class/%E6%9C%BA%E6%88%98/id/20&class/%E5%82%AC%E6%B3%AA/id/20&class/%E9%9F%B3%E4%B9%90/id/20","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".stui-vodlist&&li;h4&&Text;a&&data-original;.pic-text&&Text;a&&href","searchFind":".stui-vodlist__media&&li;h3&&Text;a&&href;.pic-text&&Text;.detail&&Text;.lazyload&&data-original","search_url":"https://omofun.com/index.php/vod/search/page/fypage/wd/**.html","titleColor":"","group":"③动漫","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar lazy = $('').lazyRule(() => {\n    var html = fetch(input, {});\n    var js = parseDomForHtml(html, \".stui-player__video&&script&&Html\").replace(/player_.*?={/, 'player_data={');\n    eval(js);\n    //var urll = unescape(base64Decode(player_data.url));\n    var urll = player_data.url;\n    if (player_data.encrypt == '1') {\n        urll = unescape(player_data.url);\n    } else if (player_data.encrypt == '2') {\n        urll = unescape(base64decode(player_data.url));\n    }\n    if (/\\.m3u8|\\.mp4|obj\\/tos/.test(urll) && /http/.test(urll)) {\n        return urll + '#isVideo=true#';\n    }else{\n        return input      \n    }\n});\nvar html = getResCode();\nvar tabs = parseDomForArray(html, 'body&&.playlist');\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist');\n//setError(conts.length);\n\nvar thumb = parseDom(html, \".stui-content__thumb&&img&&data-original\");\nd.push({\n    title: '剧情简介：' + '    共' + conts.length + '条线路',\n    desc: parseDomForHtml(html, \".detail-content&&Text\"),\n    pic_url: thumb,\n    url: thumb,\n    col_type: 'pic_1'\n});\n\nfor (var i in conts) {\n    var list = parseDomForArray(conts[i], 'body&&a');\n    if (list != null) {\n        d.push({\n            title: parseDomForHtml(tabs[i], \"h3&&Text\"),\n            col_type: 'text_1'\n        });\n        //setError(list[0]);\n\n        for (var j in list) {\n            d.push({\n                title: parseDomForHtml(list[j], \"a&&Text\"),\n                url: parseDom(list[j], \"a&&href\") + lazy,\n                col_type: 'text_3'\n            });\n        }\n\n    }\n}\n\n//二级模板by香雅情\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[]"},{"last_chapter_rule":".name&&span&&Text","pageList":[],"title":"哈哩哈哩","author":"永远の明日","version":4,"url":"http://halihali.icu/#fyclass#fyyear#fysort#fyarea#fypage","col_type":"movie_3","class_name":"动漫 ->番表:&周一&周二&周三&周四&周五&周六&周日&‖ 电影&电视剧&综艺","class_url":"acg&1&2&3&4&5&6&7&mov&tv&zongyi","area_name":"地区:&大陆&日本&美国&英国&韩国&香港&台湾&泰国","area_url":"all&china&japan&american&england&korea&hk&tw&thailand","sort_name":"剧情:&搞笑&经典&热血&催泪&治愈&猎奇&励志&战斗&后宫&机战&恋爱&百合&科幻&奇幻&推理&校园&运动&魔法&历史&伪娘&美少女&萝莉&亲子&青春&冒险&竞技&本分类只适用于动漫","year_name":"年代:&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&更早","sort_url":"0&71&72&73&74&75&76&78&80&81&82&84&85&86&88&89&90&91&94&95&101&102&103&105&107&108&109&0","year_url":"0&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2000","find_rule":"js:\n// halihali.li\nlet [, action, year, plot, area, page] = /^http:\\/\\/halihali.icu\\/#(.*?)#(.*?)#(.*?)#(.*?)#(.*?)$/.exec(MY_URL)\nlet data = []\nif (/^[1-7]$/.exec(action)) {\n  let list = parseDomForArray(fetch('http://halihali.icu/zhougen/', {}), '#con_dm_' + action + '&&span').slice(1)\n  data.push({ col_type: 'line' })\n  list.forEach((v) => data.push({\n    title: parseDomForHtml(v, 'a&&Text'),\n    url: parseDom(v, 'a&&href') + '#immersiveTheme#',\n    col_type: 'text_1'\n  }))\n} else {\n  if (action != 'acg') plot = 0\n  let url = /http:\\/\\/(?:\\d{1,4}\\.){3}\\d{1,4}:\\d{1,5}\\/getsortdata_all_z\\.php/.exec(fetch(MY_URL.replace(/#/g, '/') + '.html', {}))[0]\n  log(fetch(url + '?action=' + action + '&page=' + page + '&year=' + year + '&area=' + area + '&class=' + plot, {}))\n  let list = parseDomForArray(fetch(url + '?action=' + action + '&page=' + page + '&year=' + year + '&area=' + area + '&class=' + plot, {}), 'body&&li')\n  list.forEach((v) => data.push({\n    title: parseDomForHtml(v, 'a&&title'),\n    desc: parseDomForHtml(v, '.img&&Text'),\n    pic_url: parseDom(v, 'img&&src'),\n    url: parseDom(v, 'a&&href') + '#immersiveTheme#'\n  }))\n}\nsetResult(data)","searchFind":"js:\nlet [, url] = /var my_search='(http.*php)'/.exec(getResCode())\nlet list = JSON.parse(fetch(url + '?q=' + MY_URL.split('?searchword=')[1], {}))\nvar data = []\nlist.forEach((v) => data.push({\n  title: v.title,\n  url: 'http://halihali.icu/' + v.url + '#immersiveTheme#',\n  content: '连载集数: ' + v.lianzaijs + '\\n演员: ' + v.star,\n  desc: v.time + ' • ' + v.area,\n  img: v.thumb\n}))\nsetResult(data);","search_url":"http://halihali.icu/search.php?searchword=**","titleColor":"#ff00ff","group":"③动漫","detail_col_type":"text_3","detail_find_rule":"js:\nlet html = getResCode()\nsetPageTitle(parseDomForHtml(html, '.lazy&&alt'))\nlet playUrl = fetch(MY_URL.slice(0, -16) + '1.html', {}).match(/<script[^<>]*?src=\"(.*?)\"><\\/script>[^<>]*?<body>/)[1],\n  tabs = fetch(playUrl, {}).match(/var lianzaijs.*?ed=1/g).map((v) => v.match(/\".*?\"/g).map((v) => v.slice(1, -1))),\n  data = []\n\ndata.push({\n  title: parseDomForHtml(html, '.name&&span&&Text') + '\\n共有' + tabs.length + '条线路',\n  desc: parseDomForHtml(html, '.des2--b&&Text'),\n  pic_url: parseDom(html, '.lazy&&data-original'),\n  url: MY_URL,\n  col_type: 'movie_1_vertical_pic_blur'\n});\ntabs.forEach((v, i) => {\n  data.push({\n    title: '线路' + (i + 1) + '    集数:' + v.length,\n    col_type: 'text_center_1'\n  });\n  v.forEach((v) => {\n    let [url,, title] = v.split(',')\n    data.push({\n      title: unescape(title),\n      url: $(url).lazyRule(() => {\n        try {\n          let jx = JSON.parse(fetch('https://1717.ntryjd.net/0526/api.php', { body: 'url=' + input, method: 'POST' })).url\n          return (jx.indexOf('https:') == -1 ? 'https:' + jx : jx) + '#isVideo=true#'\n        } catch (e) { return input }\n      })\n    })\n  })\n})\n\nsetResult(data);","sdetail_col_type":"text_3","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[]"},{"last_chapter_rule":"js:\nsetResult(\n  (parseDomForHtml(getResCode(), 'h1.video-title&&Text')\n    .match(/【.*?】/g)||['【剧场版全集】']).join(' ')\n)","pageList":[],"title":"D站","author":"永远の明日","version":2,"url":"https://www.5dm.app/video/fyclass/page/fypage?orderby=fysort;GET;UTF-8;{Referer@www.5dm.app&&User-Agent@.js:PC_UA}","col_type":"movie_3","class_name":"连载新番&完结番组&剧场 • OVA&未知时空","class_url":"bangumi&end&ova&beater","area_name":"","area_url":"","sort_name":"排序: 日期&收藏&标题&评论","year_name":"","sort_url":"date&title&view&commment","year_url":"","find_rule":"js:\r\nsetResult(parseDomForArray(getResCode(), 'body&&.video-item').map((v) => {\r\n  let [, title, desc] = parseDomForHtml(v, 'h3&&Text').match(/^(.*?)(【.*】)?$/),\r\n    item = {\r\n      title: title,\r\n      desc: desc || '',\r\n      content: parseDomForHtml(v, '.item-thumbnail&&Text') || 'D站珍藏',\r\n      img: parseDom(v, 'img&&data-original'),\r\n      url: parseDom(v, 'a&&href')\r\n    }\r\n  item.url += '?params=' + base64Encode(JSON.stringify({ desc: item.desc, content: item.content, img: item.img })) + '&#immersiveTheme#'\r\n  return item\r\n}))","searchFind":"js:\r\nsetResult(parseDomForArray(getResCode(), 'body&&.video-item').map((v) => {\r\n  let [, title, desc] = parseDomForHtml(v, 'h3&&Text').match(/^(.*?)(【.*】)?$/),\r\n    item = {\r\n      title: title,\r\n      desc: desc || '',\r\n      content: parseDomForHtml(v, '.item-thumbnail&&Text') || 'D站珍藏',\r\n      img: parseDom(v, 'img&&data-original'),\r\n      url: parseDom(v, 'a&&href')\r\n    }\r\n  item.url += '?params=' + base64Encode(JSON.stringify({ desc: item.desc, content: item.content, img: item.img })) + '&#immersiveTheme#'\r\n  return item\r\n}))","search_url":"https://www.5dm.app/page/fypage?s=**&cat=-1%2C4%2C3%2C11;GET;UTF-8;{Referer@www.5dm.app&&User-Agent@.js:PC_UA}","titleColor":"#ff00ff","group":"③动漫","detail_col_type":"text_3","detail_find_rule":"js:\r\nlet el = [], html = getResCode(), params = JSON.parse(base64Decode(getParam('params')))\r\n\r\n//简介\r\nlet desc = parseDomForHtml(html, '#content&&.item-content&&Text')\r\n//标签\r\nlet date = parseDomForHtml(html, '.item-date&&Text')\r\n//选集\r\nlet tabs = parseDomForArray(html, '#tm-share&&tbody&&tr')\r\nif (!tabs.length) tabs = ['<td> 5DM </td><a href=\"' + MY_URL + '\"> 第1话 </a>']\r\n\r\nel.push({\r\n  title: date + params.desc + '\\n' + params.content,\r\n  desc: desc,\r\n  url: MY_URL,\r\n  img: params.img,\r\n  col_type: 'movie_1_vertical_pic_blur'\r\n})\r\ntabs.forEach((v) => {\r\n  let list = v.match(/<a.*?<\\/a>/g)\r\n  if (list.length) {\r\n    el.push({\r\n      title: parseDomForHtml(v.match(/<td.*?<\\/td>/)[0], 'Text'),\r\n      col_type: 'text_center_1'\r\n    })\r\n    list.forEach((v) => {\r\n      el.push({\r\n        title: parseDomForHtml(v, 'Text'),\r\n        url: $(parseDom(v, 'a&&href')).lazyRule(() => {\r\n          let [_, mode, url] = /<div id=\"player-embed\">\\s?<(.*?) [^<>]*?src=\"(.*?)\".*?><\\/\\1>\\s?<\\/div>/.exec(fetch(input, { headers: { 'Referer': 'www.5dm.app', 'User-Agent': PC_UA } })) || []\r\n          if (!mode) return input\r\n          if (mode == 'iframe') return /\"url\": \"(.*?)\"/.exec(fetch('https://www.5dm.app/' + url, { headers: { 'Referer': input, 'User-Agent': PC_UA } }))[1]\r\n          else return url\r\n        })\r\n      })\r\n    })\r\n  }\r\n})\r\nsetResult(el)","sdetail_col_type":"text_3","sdetail_find_rule":"*","ua":"pc","preRule":"try{\n  let host = 'https://www.5dm.app/', html = fetch(host)\n  if(parseDomForHtml(html,'title&&Text').indexOf('...')>=0){\n    let form = /<form.*?>/.exec(html)[0]\n    fetch(host + /action=\"(.*?)\"/.exec(form)[1], {method: 'POST', headers: {'User-Agent': PC_UA}})\n}\n}catch(e){ }","pages":"[]"},{"last_chapter_rule":"","pageList":[],"title":"追番猫","author":"⁽⁽ଘ繁星点缀ଓ⁾⁾","version":1,"url":"http://dm.496dy.cn:88/api.php/v1.vod?type=fyclass&class=&lang=&area=fyarea&year=fyyear&by=fysort&page=fypage&limit=9","col_type":"movie_3","class_name":"日本动漫&国产动漫&动漫&欧美动漫&其他类型","class_url":"1&2&3&4&31","area_name":"地区\n&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","area_url":"&大陆&香港&台湾&美国&法国&英国&日本&韩国&德国&泰国&印度&意大利&西班牙&加拿大&其他","sort_name":"时间&热门&评分","year_name":"年代&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&更早","sort_url":"time&hits&score","year_url":"&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&更早","find_rule":"js:\r\nvar res = {};\r\nvar items = [];\r\nvar html = JSON.parse(getResCode());\nvar list = html.data.list;\n\r\n    for (var i = 0; i < list.length; i++) {\r\n        var title = list[i].vod_name;\n        var img = list[i].vod_pic;\r\n        var url = list[i].vod_id;\n        var desc = list[i].vod_remarks;\n        items.push({\r\n            title: title,\n            pic_url: img+'@Referer=',\r\n            url: 'http://dm.496dy.cn:88/api.php/v1.vod/detail?vod_id='+url+'&token=\"#immersiveTheme#',\n            desc: desc\r\n        });\r\n    }\n\r\nres.data = items;\r\nsetHomeResult(res);\n","searchFind":"js:\r\nvar res = {};\r\nvar items = [];\r\nvar html = JSON.parse(getResCode());\nvar list = html.data.list;\n\r\n    for (var i = 0; i < list.length; i++) {\r\n        var title = list[i].vod_name;\n        var img = list[i].vod_pic;\r\n        var url = list[i].vod_id;\n        var content = list[i].vod_content;\n        var desc = list[i].vod_remarks;\r\n        items.push({\r\n            title: title,\n            pic_url: img+'@Referer=',\r\n            url: 'http://dm.496dy.cn:88/api.php/v1.vod/detail?vod_id='+url+'&token=+\"#immersiveTheme#\"',\n            content:content,\n            desc: desc\r\n        });\r\n    }\n\r\nres.data = items;\r\nsetSearchResult(res);\n","search_url":"http://dm.496dy.cn:88/api.php/v1.vod?page=fypage&limit=10&wd=**","titleColor":"#ff228be6","group":"③动漫","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res ={};\nvar d=[];\n\nvar html=JSON.parse(getResCode());\n\nvar tabs=html.data.vod_play_list;\n\n//标题图片简介\nd.push({\n            title:'地区：'+html.data.vod_area+'    年代：'+html.data.vod_year+'\\n主演：'+html.data.vod_actor.substring(0, 10)+'\\n导演：'+html.data.vod_director,\n            desc:html.data.vod_blurb.substring(0, 30),\n            pic_url:html.data.vod_pic+\"@Referer=\",\n            col_type:'movie_1_vertical_pic_blur'\n        });\n\n//线路与选集代码开始\nvar tabs = html.data.vod_play_list;\nvar title = 'www'+html.data.vod_play_list;\n\n//分割线\nd.push({\n    col_type: 'line_blank'\n})\n\nfor(var i = 0;i<tabs.length;i++){\n  var list =tabs[i].urls;\n\t\td.push({\n\t\t\ttitle:tabs[i].player_info.show,\n\t\t\tcol_type: 'text_1'\n\t\t});\n\n\t\tfor(var j = 0; j<list.length; j++){\n\t\t\td.push({\n\t\t\t\ttitle:list[j].name,\n      url:$(list[j].url).lazyRule(()=>{\nvar urll=input;\nlog(urll);\ntry{\nif(/\\.m3u8|\\.mp4/.test(urll)){\n return /url=/.test(urll)?urll.split('url=')[1]+'#isVideo=true#':urll+'#isVideo=true#';\n}else{\nfunction parseyi(urll){\nvar playurl=JSON.parse(fetch('https://json.m3u8.tv:7788/json.php?url='+urll,{}));\nlog(playurl);\n\nif(playurl.code=='200'){var vplay= playurl.url.substring(0,2)=='\\/\\/'?'https:'+playurl.url:playurl.url;if(/titan\\.mgtv\\.com/.test(vplay)){return vplay+';{Referer@https://www.mgtv.com/&&User-Agent@Mozilla/5.0}';}else if(/8old.cn|PGplay/.test(vplay)){return 'x5Play://'+vplay}else{return vplay}}else{return parsewu(urll)}\n}\n\nfunction parseer(urll){\nvar playturl=JSON.parse(fetch('https://json.m3u8.tv:7788/json.php?url='+urll,{}));\nlog(playturl);\nif(playturl.code=='200'){var vplay= playturl.url.substring(0,2)=='\\/\\/'?'https:'+playturl.url:playturl.url;if(/titan\\.mgtv\\.com/.test(vplay)){return vplay+';{Referer@https://www.mgtv.com/&&User-Agent@Mozilla/5.0}';}else if(/8old.cn|PGplay/.test(vplay)){return 'x5Play://'+vplay}else{return vplay};}else{return parseyi(urll)}\n}\n\nfunction parsewu(urll){\nreturn 'https://www.hzlff.cn/player/?url='+urll\n}\nfunction parsesan(urll){\nreturn 'https://www.8090.la/8090/?url='+urll\n}\nfunction parssi(urll){\nreturn 'http://123.1dior.cn/?url='+urll\n}\n\nreturn parseer(urll);\n}\n}catch(e){return urll}\n\n}),\n      col_type: 'flex_button'\n\t\t\t});\n   }\n}\n\n//二级模板\nres.data=d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"动漫时空","author":"&斜风细雨不须归","version":3,"url":"hiker://bookmark","col_type":"text_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar titles = [\n'哔咪动漫@@http://m.dodoge.me/vod/search/?wd= @@  http://api.btstu.cn/sjbz/?lx=dongman?glideCache=skip',\n\n'AGE动漫@@https://www.agefans.cc/@@https://z3.ax1x.com/2021/04/02/cemkqS.gif',\n\n'动漫岛@@http://www.dmd8.com/@@  http://api.btstu.cn/sjbz/?lx=m_dongman?glideCache=skip',\n\n\n\n\n'布米米动漫@@http://www.bumimi.top',\n'樱花动漫@@http://m.imomoe.jp/',\n'奇米奇米@@http://www.qimiqimi.co/',\n'妮可动漫1@@http://www.nicotv.me/',\n'妮可动漫2@@http://www.nicotv.club/',\n'欧派动漫@@https://www.opacg.com/',\n'讯播动漫@@https://dm.xbdm.net/',\n'怡萱动漫@@http://www.yxdm.tv/',\n'奇奇动漫@@http://www.qiqidongman.com/',\n'ACGn动漫@@http://www.acgn.wang/',\n'zero动漫@@https://m.zerolh.com/',\n'XXDm动漫@@http://m.xxdm5.com/',\n'密枯计划@@https://mikanani.me/',\n'动漫壁纸@@http://www.animetox.com/',\n\n'百年漫画@@https://m.bnmanhua.com/',\n'178漫画@@http://178mh.com',\n'漫画@@http://m.manhuatt.com/',\n'98漫画@@http://www.98mh.com',\n'517漫画@@http://www.517mh.net',\n'36漫画@@https://www.36mh.com',\n'叭嗒漫画@@http://acn.m.iqiyi.com/comic/home',\n'漫画人@@http://m.dm5.com',\n'522漫画@@http://www.love127.com',\n'星辰漫画@@http://m.xcmh.cc',\n'奇妙漫画@@https://www.qimiaomh.com',\n'4399漫画@@http://m.4399dmw.com/',\n'咚漫@@https://m.dongmanmanhua.cn/',\n'大魔兔漫画@@http://www.damotu.com/',\n'M漫画@@http://mangabz.com/',\n\n];\n\nvar t = titles;\nvar res = {};\nvar d = [];\nvar hitokoto = {};\neval('hitokoto=' + getResCode());\n\nfor (var i = 0; i < t.length && i < 3; i++) {\n  var k = t[i].split(/\\s*@@\\s*/);\n  var r = {};\n  r.desc = k[0];\n  r.url = k[1];\n  r.pic_url = k[2];\n  r.col_type = 'movie_3';\n  d.push(r);\n}\n\nfor (var i = 3; i < t.length; i++) {\n  var k = t[i].split(/\\s*@@\\s*/);\n  if (k.length < 2) continue;\n  var r = {};\n  r.title = k[0];\n  r.url = k[1];\n  r.col_type = 'text_3';\n  d.push(r);\n}\n\nres.data = d;\nsetHomeResult(res);","searchFind":"","search_url":"","titleColor":"#fff20c00","group":"③动漫","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":"","pages":"[]","icon":"http://q1.qlogo.cn/g?b=qq&nk=707994924&s=640"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"维奇动漫","author":"道长&&Killer","version":1,"url":"https://www.uiviki.com/vod-fyarea-id-fyclass-fyyear-page-fypage.html","col_type":"movie_3","class_name":"分类:连载&日漫&国漫&预告","class_url":"1&2&3&4","area_name":"类型:全部&轻改&游改&漫改&原创&后宫&乙女&耽美&百合&萌系&搞笑&热血&催泪&机战&恋爱&伪娘&科幻&奇幻&推理&音乐&校园&偶像&异界&运动&少女&斗智&战斗&日常&魔法&装逼&治愈&战争&历史&猎奇&致郁&修仙&美食&卖肉&励志&职场&神魔&萝莉&御姐&武侠&穿越&冒险","area_url":"type&show-class-轻改&show-class-游改&show-class-漫改&show-class-原创&show-class-后宫&show-class-乙女&show-class-耽美&show-class-百合&show-class-萌系&show-class-搞笑&show-class-热血&show-class-催泪&show-class-机战&show-class-恋爱&show-class-伪娘&show-class-科幻&show-class-奇幻&show-class-推理&show-class-音乐&show-class-校园&show-class-偶像&show-class-异界&show-class-运动&show-class-少女&show-class-斗智&show-class-战斗&show-class-日常&show-class-魔法&show-class-装逼&show-class-治愈&show-class-战争&show-class-历史&show-class-猎奇&show-class-致郁&show-class-修仙&show-class-美食&show-class-卖肉&show-class-励志&show-class-职场&show-class-神魔&show-class-萝莉&show-class-御姐&show-class-武侠&show-class-穿越&show-class-冒险","sort_name":"","year_name":"年代:全部&2021&2020&2019&2018&2017&2016&2015&2014&2013&2012&2011&2010&2009&2008&2007&2006&2005&2004","sort_url":"","year_url":"&year-2021&year-2020&year-2019&year-2018&year-2017&year-2016&year-2015&year-2014&year-2013&year-2012&year-2011&year-2010&year-2009&year-2008&year-2007&year-2006&year-2005&year-2004","find_rule":".vodlist&&.imgtxt;h2&&Text;img&&data-echo;span&&Text;a&&href","searchFind":".vodlist&&.imgtxt;h2&&Text;a&&href;span&&Text;span,1&&Text;img&&data-echo","search_url":"https://www.uiviki.com/vod-search-wd-**.html","titleColor":"#ff871f78","group":"③动漫","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res ={};\nvar d=[];\nvar html=getResCode();\nvar update=parseDomForHtml(html,'.infolist&&.info,2&&Text');\nvar score=parseDomForHtml(html,'#ratewords&&Text');\nvar list=parseDomForArray(html,'#playurl&&li');\n//setError(conts.length);\n\nd.push({\n\t  title: update+'\\n评分：'+score,\n    desc:parseDomForHtml(html,\".animeplot&&Text\"),\n    pic_url:parseDom(html, \"#imglazy&&data-echo\"),\n    url:MY_URL,\n\t col_type: 'movie_1_vertical_pic'\n});\n\nd.push({\n\t\t  title:parseDomForHtml(html,'.data&&.datainfo&&Text'),\n\t\t\tcol_type: 'text_1'\n});\n\nfor(var j = 0; j<list.length; j++){\n\t\td.push({\n\t\t title:parseDomForHtml(list[j], \"h5&&a&&Text\"),\n      url:parseDom(list[j], \"a&&href\") + `@lazyRule=.play-start&&script&&Html.js:eval(input);var url = decodeURIComponent(base64Decode(player_aaaa.url));url.startsWith('//')?'https:'+url:url.endsWith('html')?'https://www.uiviki.com/player/?url='+url:url`,\n       col_type: 'text_2'\n\t\t\t});\n }\n\nres.data=d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"router","path":"router.html","rule":"js:\nconst domin_ = getVar('xjj_domin')\nconst page_path_ = domin_ + '/file/page/'\n\nvar page = MY_PARAMS.route\nvar page_cache = 'xjj_' + page + '_page'\nvar page_res = getVar(page_cache)\nif (page_res == '') {\n    page_res = request(page_path_ + page)\n    putVar(page_cache, page_res)\n}\neval(page_res)\n"}],"title":"没名","author":"小姐姐","version":3,"url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\neval(getVar('xjj_index'))","searchFind":"js:\neval(getVar('xjj_search_module'))","search_url":"hiker://empty##**##fypage","titleColor":"","group":"③动漫","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"//putVar('xjj_domin', 'http://192.168.2.248:8080')\nputVar('xjj_domin', 'http://f11st.gitee.io/hiker/p')\nif(getVar('xjj_index')=='') putVar('xjj_index', request(getVar('xjj_domin')+'/file/index.js'))\nif(getVar('xjj_search_module')=='') putVar('xjj_search_module', request(getVar('xjj_domin')+'/file/module/search.js'))","pages":"[{\"col_type\":\"movie_3\",\"name\":\"router\",\"path\":\"router.html\",\"rule\":\"js:\\nconst domin_ = getVar('xjj_domin')\\nconst page_path_ = domin_ + '/file/page/'\\n\\nvar page = MY_PARAMS.route\\nvar page_cache = 'xjj_' + page + '_page'\\nvar page_res = getVar(page_cache)\\nif (page_res == '') {\\n    page_res = request(page_path_ + page)\\n    putVar(page_cache, page_res)\\n}\\neval(page_res)\\n\"}]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"Q站","author":"香雅情","version":0,"url":"https://qkan8.com/index.php/vod/type/id/fyclass/page/fypage.html","col_type":"movie_3","class_name":"高清原碟&日漫&女频&劇場&漫画&国漫&美漫","class_url":"33&21&50&24&55&51&22","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".fed-list-info&&li;.fed-list-title&&Text;a&&data-original;.fed-text-center&&Text;a&&href","searchFind":"body&&.fed-deta-info;h1&&Text;a&&href;.fed-list-remarks&&Text;.fed-part-esan--span&&Text;a&&data-original","search_url":"https://qkan8.com/index.php/vod/search/page/fypage/wd/**.html","titleColor":"","group":"③动漫","detail_col_type":"text_3","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar tabs = parseDomForArray(html, '.fed-tabs-item&&ul&&li');\nvar conts = parseDomForArray(html, 'body&&.fed-play-item');\n\nd.push({\n title: '共有' + conts.length + '条线路',\n desc: parseDomForHtml(html, '.fed-deta-content&&li,-1&&Text'),\n pic_url: parseDom(html, '.fed-list-pics&&data-original'),\n url: getUrl(),\n col_type: 'pic_1'\n});\n\nfor (var i in conts) {\n\tvar list = parseDomForArray(conts[i], 'body&&.fed-btns-info');\n\tif (list != null) {\n\t\td.push({\n\t\t\ttitle:parseDomForHtml(tabs[i],'a&&Text'),\n\t\t\tcol_type: 'text_1'\n\t\t});\n\t\tfor (var j in list) {\n\t\t\td.push({\n\t\t\t\ttitle:parseDomForHtml(list[j],'a&&Text'),\n\t\t\t\turl: parseDom(list[j],'a&&href')+ `@lazyRule=.js:var get=fetch(input,{});var dplay=base64Decode(parseDomForHtml(get,'.fed-play-player&&iframe&&data-play').slice(3));var pars=parseDom(get,'.fed-play-player&&iframe&&data-pars');if(dplay.indexOf('http')!=-1){if(dplay.indexOf('html')!=-1){var html=fetch('https://www.cuan.la/m3u8.php?url='+dplay,{headers:{\"User-Agent\":MOBILE_UA,\"Referer\":\"https://qkan8.com/\"}});eval(fetch('hiker://files/rules/xyq/token.js',{}));tkurl.indexOf('url=') > -1 ? tkurl.split('url=')[1] : tkurl;}else{dplay+'#isVideo=true#'};}else{var html=fetch(pars+dplay,{headers:{\"User-Agent\":MOBILE_UA,\"Referer\":\"https://qkan8.com/\"}});if(html.indexOf('purl')!=-1){var kjjx=parseDomForHtml(html,'body&&Html').match(/var purl = \\'(.*?)\\'/)[1];var html=fetch('https://qkan8.com'+kjjx,{headers:{\"User-Agent\":MOBILE_UA,\"Referer\":\"https://qkan8.com/\"}})};var vurl=html.indexOf('var vid')!=-1?html.match(/var vid=\\\"(.*?)\\\"/)[1]:html.match(/var url = \\'(.*?)\\'/)[1];vurl}`,\n\t\t\t\tcol_type: list.length >2?'text_3':'text_2'\n\t\t\t});\n\t\t}\n\t}\n}\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"js:\nvar html = getResCode();\nvar list = parseDomForArray(html, '.chapter-warp&&ul&&li');\nif (parseDomForHtml(list[list.length-1], 'a&&Text').includes(\"下拉式阅读\")) {\nvar title = parseDomForHtml(list[list.length-2],'a&&Text');}else{\nvar title = parseDomForHtml(list[list.length-1],'a&&Text');}\nsetResult('最新：'+title.replace(/，|\\,/g,\", \"));","pageList":[],"title":"前未漫画𝔥","author":"Hood&@LoyDgIk","version":4,"url":"https://m1.qianwee.com/list/fyclassfyareafysort/fyyear/?page=fypage","col_type":"movie_3_marquee","class_name":"全部&恋爱&古风&生活&搞笑&玄幻&修真&穿越&热血&冒险&宠物&游戏&动作&神魔&都市&新作&漫改&精品&霸总&真人&推理&悬疑&科幻&恐怖&武侠&后宫&社会&日更&历史&御姐&运动&战争&竞技&萝莉&机战&忍者&吸血&杂志&校园&侦探&音乐舞蹈&魔法&轻小说&职场&爱情&东方&舰娘&欢乐向&四格&百合&奇幻&蔷薇&少女爱情&治愈&正剧&架空&日常&青春&轻松&家庭&彩虹&魔幻&仙侠&唯美&战斗&爆笑&侦探推理&美食&励志&格斗&神鬼&神话&感动&温馨&段子&未来&烧脑&爽流&异能&少年&惊悚&纯爱&萌系&节操&体育&同人&惊奇&伪娘&爆笑喜剧&有妖气&性.转换&浪漫&末世&虐心&异世界&宅系&豪门&宫廷&其它&机甲&少女&娱乐圈&惊险&竞技体育&明星&剧情&其他&西方魔幻&装逼&高清单行&手工&逆袭&乡村&故事漫画&搞笑喜剧&耽美&脑洞&商战&漫画&绘本&科技&召唤兽&史诗&恐怖灵异&宫斗&伦.理&热血冒险&内涵&主仆&科幻魔幻&纠结&青年&复仇&致郁&其他漫画&黑道&颜艺&修真恋爱架空&漫画岛&故事&灵异&婚姻&僵尸&热血动作&恋爱生活&恋爱耽美&震撼&麦萌&性转&恶搞&高智商&悬疑推理&机智&四格多格&mhuaquan&漫漫&动画&历史漫画&耽美BL&秀吉&正能量&总裁&完结&畅销&韩漫&幻想&日漫&大女主&古言&儿童&动作格斗&AA&改编&橘味&乙.女&猎奇&小说改编&智斗&防疫&恐怖悬疑&暗黑&音乐&末日&重生&系统&修仙&神仙&怪物&权谋&宅斗&神豪&妖怪&逆转&叛逆&少男&漫客栈&偶像&异族&奇闻&女尊&情感&古装&独家&生化&宠爱&怪谈&美型&高甜&暧昧&怀旧&绅士&美少女&言情&探案&虐恋&霸总.都市&日本&电竞&ゆり&兄弟情&暖萌&豪快&幽默&鬼怪&亲情&橘系&小僵尸&女生&连载&男生&丧尸&扶.她&限制级&少儿&生活漫画&养成&欢喜&北欧&腹黑&西幻&古代&基腐&浪漫爱情&BL&奇幻冒险&幽默搞笑&古风穿越&综合其它&TS","class_url":"&lianai-&gufeng-&shenghuo-&gaoxiao-&xuanhuan-&xiuzhen-&chuanyue-&rexue-&maoxian-&chongwu-&youxi-&dongzuo-&shenmo-&dushi-&xinzuo-&mangai-&jingpin-&bazong-&zhenren-&tuili-&xuanyi-&kehuan-&kongbu-&wuxia-&hougong-&shehui-&rigeng-&lishi-&yujie-&yundong-&zhanzheng-&jingji-&luoli-&jizhan-&renzhe-&xixie-&zazhi-&xiaoyuan-&zhentan-&yinyuewudao-&mofa-&qingxiaoshuo-&zhichang-&aiqing-&dongfang-&jianniang-&huanlexiang-&sige-&baihe-&qihuan-&qiangwei-&shaonvaiqing-&zhiyu-&zhengju-&jiakong-&richang-&qingchun-&qingsong-&jiating-&caihong-&mohuan-&xianxia-&weimei-&zhandou-&baoxiao-&zhentantuili-&meishi-&lizhi-&gedou-&shengui-&shenhua-&gandong-&wenxin-&duanzi-&weilai-&shaonao-&shuangliu-&yineng-&shaonian-&jingsong-&chunai-&mengxi-&jiecao-&tiyu-&tongren-&jingqi-&weiniang-&baoxiaoxiju-&youyaoqi-&xingzhuanhuan-&langman-&moshi-&nuexin-&yishijie-&zhaixi-&haomen-&gongting-&qita-&jijia-&shaonv-&yulequan-&jingxian-&jingjitiyu-&mingxing-&juqing-&qita2-&xifangmohuan-&zhuangbi-&gaoqingdanxing-&shougong-&nixi-&xiangcun-&gushimanhua-&gaoxiaoxiju-&danmei-&naodong-&shangzhan-&manhua-&huiben-&keji-&zhaohuanshou-&shishi-&kongbulingyi-&gongdou-&lunli-&rexuemaoxian-&neihan-&zhupu-&kehuanmohuan-&jiujie-&qingnian-&fuchou-&zhiyu2-&qitamanhua-&heidao-&yanyi-&xiuzhenlianaijiakong-&manhuadao-&gushi-&lingyi-&hunyin-&jiangshi-&rexuedongzuo-&lianaishenghuo-&lianaidanmei-&zhenhan-&maimeng-&xingzhuan-&egao-&gaozhishang-&xuanyituili-&jizhi-&sigeduoge-&mhuaquan-&manman-&donghua-&lishimanhua-&danmeiBL-&xiuji-&zhengnengliang-&zongcai-&wanjie-&changxiao-&hanman-&huanxiang-&riman-&danvzhu-&guyan-&ertong-&dongzuogedou-&AA-&gaibian-&juwei-&yinv-&lieqi-&xiaoshuogaibian-&zhidou-&fangyi-&kongbuxuanyi-&anhei-&yinyue-&mori-&zhongsheng-&xitong-&xiuxian-&shenxian-&guaiwu-&quanmou-&zhaidou-&shenhao-&yaoguai-&nizhuan-&panni-&shaonan-&mankezhan-&ouxiang-&yizu-&qiwen-&nvzun-&qinggan-&guzhuang-&dujia-&shenghua-&chongai-&guaitan-&meixing-&gaotian-&aimei-&huaijiu-&shenshi-&meishaonv-&yanqing-&tanan-&nuelian-&bazongdushi-&riben-&dianjing-&unknown-&xiongdiqing-&nuanmeng-&haokuai-&youmo-&guiguai-&qinqing-&juxi-&xiaojiangshi-&nvsheng-&lianzai-&nansheng-&sangshi-&futa-&xianzhiji-&shaoer-&shenghuomanhua-&yangcheng-&huanxi-&beiou-&fuhei-&xihuan-&gudai-&jifu-&langmanaiqing-&BL-&qihuanmaoxian-&youmogaoxiao-&gufengchuanyue-&zongheqita-&TS-","area_name":"全部&儿童&少年&少女&青年","area_url":"&ertong&shaonian&shaonv&qingnian","sort_name":"连载&完结","year_name":"点击&发布&更新","sort_url":"-lianzai&-wanjie","year_url":"click&post&update","find_rule":"#comic-items&&li;\n.txtA&&Text;\nimg&&src;\nspan&&Text;\na&&href","searchFind":".UpdateList&&.itemBox;\n.title&&Text;\na&&href;\n.coll&&Text.js:input.replace(/，|\\,/g,\", \");\n.itemTxt--a&&Text;\nimg&&src","search_url":"https://m1.qianwee.com/search/?keywords=**&page=fypage","titleColor":"#fff20c00","group":"③漫画","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\n\n//线路列表\nvar tabs = parseDomForArray(html, '#list_block&&.comic-chapters');\n\n//全部选集列表\nvar conts = parseDomForArray(html, 'body&&.chapter-warp');\n\n//获取简介\nvar des_desc = parseDomForHtml(html, '#full-des||#simple-des&&Text').replace(/.*[简介：]|[介绍:]/g,\"\").replace(/[\\s]/g,\"\");\n\ntry {\n    d.push({\n\n        //作者、类型等\n        title: parseDomForHtml(html, '.sub_r&&p&&Text') + '\\n' + parseDomForHtml(html, '.sub_r&&p,1&&Text') + '\\n' + parseDomForHtml(html, '.sub_r&&p,2&&Text'),\n\n        //描述\n        desc: parseDomForHtml(html, '.sub_r&&p,3&&Text'),\n\n        //图片地址\n        pic_url: parseDom(html, '#Cover&&img&&src'),\n        url: getUrl(),\n        col_type: 'movie_1_vertical_pic'\n    });\n\n    //限制简介长度\n    if (des_desc.length > 110) {\n        des_desc = des_desc.replace(des_desc, des_desc.substring(0, 110) + \"……\");\n    }\n\n    //输出简介\n    d.push({\n        title: \"简介：\" + des_desc,\n        col_type: 'long_text'\n    });\n\n    d.push({\n        col_type: 'line'\n    });\n\n    for (var i in tabs) {\n\n        //选集列表\n        var list = parseDomForArray(conts[i], 'ul&&li');\n\n        //线路名称\n        d.push({\n            title: parseDomForHtml(tabs[i], '.Title&&Text'),\n            url: 'toast://点什么点 (｡•ˇ‸ˇ•｡)',\n            col_type: 'text_center_1'\n        });\n\n        var listx = list[0];\n        if(list.length>1){listx = list[1]}\n\n        //选集名称\n        for (var j in list) {\n            if (parseDomForHtml(list[j], 'a&&Text').includes(\"下拉式阅读\")) {\n                continue\n            };\n            d.push({\n                title: parseDomForHtml(list[j], 'a&&Text').replace(/，|\\,/g,\", \"),\n\n                col_type: parseDomForHtml(listx,'a&&Text').length>5?'flex_button':'text_3',\n\n                url: $(parseDom(list[j], 'a&&href')).lazyRule(() => {\n                    let html = request(input);\n                    let num = parseDomForHtml(html, \".image-content&&p,1&&Html\").split(\"/\")[1];\n                    let htmlArr=[];\n                    for (let i = 1; i <= num; i++) {\n                        htmlArr.push({url:input.replace(\".html\", \"-\" + i + \".html\")});\n                    }\n                    htmlArr=batchFetch(htmlArr);\n                    let pics=htmlArr.map(_=>parseDomForHtml(_, \"#manga-image&&src\"));\n                    return \"pics://\" + pics.join(\"&&\");\n                })\n            });\n        }\n    }\n} catch (e) {}\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"动漫之家","author":"子丑寅卯","version":7,"url":"https://www.dmzj.com/category/0-fysort-fyarea-fyclass-0-0-fypage.html","col_type":"movie_3","class_name":"全部&冒险&搞笑&格斗&科幻&爱情&侦探&竞技&魔法&校园&百合&耽美&历史&战争&宅系&治愈&仙侠&武侠&职场&神鬼&奇幻&生活&其他","class_url":"0&1&2&3&4&5&6&7&8&9&11&13&14&15&16&17&18&19&20&21&22&23&24","area_name":"全部&少年&少女&青年","area_url":"0&3262&3263&3264","sort_name":"全部&连载&完结","year_name":"","sort_url":"0&1&2","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\r\nvar html = getResCode();\r\nvar list = parseDom(html, '.list_con_li&&Html').match(/<li[\\s\\S]*?<\\/li/g);\r\nfor (var j = 0; j < list.length; j++) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'h3&&Text'),\r\n       desc: parseDomForHtml(list[j], 'span&&p,3&&Text'),\r\n       pic_url: parseDom(list[j], 'img&&data-original'),\r\n       url: parseDom(list[j],'a&&href')+'#immersiveTheme#',\r\n  });\r\n}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar list = parseDom(html, '.update_con&&Html').match(/<li[\\s\\S]*?<\\/li/g);\nfor (var j = 0; j < list.length; j++) {\n  d.push({\n       title: parseDomForHtml(list[j], 'a&&title'),\n       desc: parseDomForHtml(list[j], '.newPage&&Text'),\n       pic_url: parseDom(list[j], 'img&&src'),\n       url: parseDom(list[j],'a&&href').indexOf('html')>-1?parseDom(list[j],'a&&href').replace('http://manhua.dmzj.com','https://www.dmzj.com/info')+'#immersiveTheme#':parseDom(list[j],'a&&href').replace('http://manhua.dmzj.com','https://www.dmzj.com/info')+'.html#immersiveTheme#'\n  });\n}\nres.data = d;\nsetSearchResult(res);","search_url":"https://www.dmzj.com/dynamic/o_search/index/**/fypage","titleColor":"#ffff00ff","group":"③漫画","detail_col_type":"text_3","detail_find_rule":"js:\r\nvar res = {};\r\nvar d = [];\r\nvar html=getResCode();\ntry{\r\n//子\r\nvar des_pic = parseDomForHtml(html, 'body&&.comic_i_img&&img&&src');\r\n// 丑\r\nvar des_author = parseDomForHtml(html,'body&&.comic_deCon_liO&&li&&Text');\r\n// 寅\r\nvar des_class = parseDomForHtml(html,'body&&.comic_deCon_liO&&li,1&&Text');\r\n// 卯\r\nvar des_desc = parseDomForHtml(html, 'body&&.comic_deCon_d&&Text');\r\n\r\nvar conts=parseDomForHtml(html, 'body&&.list_con_li&&Html').match(/<li[\\s\\S]*?<\\/li>/g);\r\n\r\n\r\nd.push({\r\n\ttitle: des_author+'\\n'+des_class,\r\n desc: des_desc,\r\n pic_url: des_pic,\r\n\turl: getUrl(),\r\n\tcol_type: 'movie_1_vertical_pic_blur'\r\n});\r\nfor (var i = conts.length-1; i >=0 ; i--) {\r\nd.push({\r\n\t\t\t\ttitle: parseDomForHtml(conts[i],'a&&Text'),\r\n\t\t\t\turl: parseDom(conts[i],'a&&href').replace('www','m')+ `@lazyRule=.js:var url = parseDom(fetch(input,{}),'body&&script,5&&Html').replace(/\\\\\\\\\\\\\\//g,'/');var urls=unescape(url.replace(/\\\\\\\\u/g,'%u'));'pics://'+urls.match(/http(?!(jpg|png|gif)).+?(jpg|png|gif)/g).join('&&')`\n});\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://scpic.chinaz.net/Files/pic/logo9/201907/d/wulogo21874.jpg"},{"last_chapter_rule":"","pageList":[],"title":"码头漫画网","author":"仰望星空","version":1,"url":"https://m.hcs68.com/list/fyclass/fyarea/fypage/","col_type":"movie_3","class_name":"已完结&连载中&儿童&少年&少女&青年","class_url":"wanjie&lianzai&ertong&shaonian&shaonv&qingnian","area_name":"按发布&按更新&按点击","area_url":"post&update&click","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&#w0&&.list-comic;mip-img&&alt;mip-img&&src;span&&Text;a&&href","searchFind":"body&&.itemBox;a,1&&Text;a&&href;.coll&&Text;.itemTxt&&Text;mip-img&&src","search_url":"https://m.hcs68.com/search/?keywords=**&page=fypage&per-page=50","titleColor":"#ffff00ff","group":"③漫画","detail_col_type":"text_2","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html=getResCode();\n//获取图片\nvar des_pic = parseDom(html, 'body&&.img&&mip-img&&src');\n// 获取更新\nvar des_update = parseDomForHtml(html, 'body&&dl&&Text').replace('新','');\n// 获取作者\nvar des_author = parseDomForHtml(html, 'body&&dl,1&&Text');\n// 获取更新时间\nvar des_time = parseDomForHtml(html, 'body&&dl,3&&Text').replace('新','');\n// 获取简介\nvar des_desc = parseDomForHtml(html, 'body&&.txtDesc&&Text').replace('简介：','');\n//获取列表\nvar conts=parseDomForHtml(html, 'body&&.Drama&&Html').match(/<li[\\s\\S]*?<\\/li>/g);\n\nif(conts == undefined){\nd.push({\n\ttitle: des_update+'\\n'+des_author+'\\n'+des_time,\n desc: parseDomForHtml(html, 'body&&.Drama&&p&&Text'),\n pic_url: des_pic,\n\turl: getUrl(),\n\tcol_type: 'movie_1_vertical_pic'\n});\nd.push({\n\ttitle: '网站因版权问题已删除，仅显示章节数',\n\turl: getUrl(),\n\tcol_type: 'text_center_1'\n});\nvar contss=parseDomForHtml(html, 'body&&#chapter-list-1&&Html').match(/<li[\\s\\S]*?<\\/li>/g);\nfor (var i = 0; i < contss.length ; i++) {\nd.push({\n\t\t\t\ttitle: parseDomForHtml(contss[i],'li&&Text'),\n\t\t\t\turl: getUrl()\n});\n}\n}else{\nd.push({\n\ttitle: des_update+'\\n'+des_author+'\\n'+des_time,\n desc: des_desc,\n pic_url: des_pic,\n\turl: getUrl(),\n\tcol_type: 'movie_1_vertical_pic'\n});\nfor (var i = conts.length-1; i >0  ; i--) {\nd.push({\n\t\t\t\ttitle: parseDomForHtml(conts[i],'a&&Text'),\n\t\t\t\turl: parseDom(conts[i],'a&&href')+'@lazyRule=.js:var res1 = {};var d1 = [];var jsHtml = request(input);var pics=[];for(var k=1;  ;k++){try{var jsHtml = request(input.split(\".html\")[0] + \"-\"+k + \".html\");var jsUrl = parseDomForHtml(jsHtml,\"body&&mip-img&&src\");if (jsUrl.indexOf(\"webp\")>-1){pics.push(jsUrl);}else{break}}catch(e){break}};\"pics://\"+pics.join(\"&&\")'\n});\n}\n}\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"text_2","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"来漫画","author":"仰望星空","version":0,"url":"https://m.laimanhua.net/getact3.asp?act=list&page=fypage&catid=fyAll&ajax=1&order=0;get;GBK","col_type":"movie_3","class_name":"少年热血&武侠格斗&科幻魔幻&竞技体育","class_url":"1&2&3&4","area_name":"爆笑喜剧&侦探推理&恐怖灵异&耽美人生","area_url":"5&6&7&8","sort_name":"故事漫画&百合女性&伪娘漫画&其他漫画","year_name":"少女爱情&恋爱生活&生活漫画&战争漫画","sort_url":"13&15&16&14","year_url":"9&10&11&12","find_rule":"js:\nvar d = [];\nvar list = parseDomForArray(getResCode(), 'body&&li');\nfor (var i in list) {\n  d.push({\n       title: parseDomForHtml(list[i], 'h3&&Text'),\n       desc: parseDomForHtml(list[i], 'dd,2&&Text'),\n       img: parseDom(list[i], 'img&&data-src'),\n       url: parseDom(list[i], 'a&&href')+';get;gbk'\n  });\n}\nsetResult(d);","searchFind":"js:\r\nvar d = [];\nvar list = parseDomForArray(getResCode(), '#dmList&&li');\r\nfor (var i in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[i], 'dt&&Text'),\r\n       desc: '更新：'+parseDomForHtml(list[i], 'a,1&&Text'),\n       content: parseDomForHtml(list[i], 'dd&&Text'),\r\n       img: parseDom(list[i], 'img&&src'),\r\n       url: parseDom(list[i],'a&&href').replace('www','m') \r\n  });\r\n}\r\nsetResult(d);","search_url":"https://www.laimanhua.net/cse/search/?page=fypage@0@*1@&tag=0&key=**#ysearchs;get;gbk","group":"③漫画","detail_col_type":"text_2","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar des_update = parseDomForHtml(html, 'body&&dl&&Text').replace('新','');\nvar des_author = parseDomForHtml(html, 'body&&dl,2&&Text');\nvar des_class = parseDomForHtml(html, 'body&&dl,3&&Text');\nvar des_desc = parseDomForHtml(html, 'body&&.book-intro&&p&&Text');\nvar des_pic = parseDom(html, 'body&&.thumb&&img&&src');\n\nd.push({\n\ttitle: des_update+'\\n'+des_author+'\\n'+des_class,\n desc: des_desc,\n pic_url: des_pic,\n\turl: getUrl(),\n\tcol_type: 'movie_1_vertical_pic'\n});\n\nvar list = parseDomForArray(html, 'body&&.chapter-list&&li');\nfor (var i = list.length-1 ; i >= 0; i--) {\n  d.push({\n       title: parseDomForHtml(list[i], 'a&&Text'),\n       url: parseDom(list[i], 'a&&href')+'@lazyRule=.js:var htmls=fetch(input,{headers:{\"content-type\":\"charst=GBK\",\"User-Agent\":\"Mobile\"},method:\"GET\"});var ty=parseDomForHtml(htmls,\"body&&script,4&&Html\");eval(ty);var pics=[];for (var k in mhInfo.images){pics.push(\"https://mhpic5.kingwar.cn\"+mhInfo.path+mhInfo.images[k])};\"pics://\"+pics.join(\"&&\")'\n  });\n}\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","icon":""},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"土豪漫画","author":"仰望星空","version":4,"url":"https://tuhao456.com/sort/fyAll/fypage.html","col_type":"movie_1_vertical_pic","class_name":"热血&机战&运动&推理&冒险&耽美&百合&搞笑&战争&神魔&忍者&竞技&悬疑&社会&恋爱&宠物&吸血&萝莉&后宫&御姐&霸总&玄幻&古风&历史&漫改&游戏&穿越&恐怖&真人&科幻&都市&武侠&修真&生活&动作","class_url":"t1&t2&t3&t4&t5&t6&t7&t8&t9&t10&t11&t12&t13&t14&t15&t16&t17&t18&t19&t20&t21&t22&t23&t24&t25&t26&t27&t28&t29&t30&t31&t32&t33&t34&t35","area_name":"连载&完结&少男&少女&青年","area_url":"s0&s1&g2&g1&g3","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nvar list = parseDomForArray(getResCode(), 'body&&.cy_list_mh&&ul');\nfor (var i in list) {\n  d.push({\n       title: parseDomForHtml(list[i], '.title&&Text')+'\\n'+parseDomForHtml(list[i], '.updata&&Text')+'\\n'+parseDomForHtml(list[i], '.biaoqian&&Text').replace(' ',''),\n       desc: parseDomForHtml(list[i], '.info&&Text'),\n       img: parseDom(list[i], 'img&&src'),\n       url: parseDom(list[i], 'a&&href')\n  });\n}\nsetResult(d);","searchFind":"js:\r\nvar d = [];\nvar list = parseDomForArray(getResCode(), '.cy_list_mh&&ul');\r\nfor (var i in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[i], '.title&&Text'),\r\n       desc: parseDomForHtml(list[i], '.updata&&Text'),\n       content: parseDomForHtml(list[i], '.info&&Text'),\r\n       img: parseDom(list[i], 'img&&src'),\r\n       url: parseDom(list[i],'a&&href')\r\n  });\r\n}\r\nsetResult(d);","search_url":"https://tuhao456.com/sort/?key=**&page=fypage","group":"③漫画","detail_col_type":"text_2","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar des_update = parseDomForHtml(html, 'body&&.cy_zhangjie_top&&p&&Text').replace('话','');\nvar des_author = parseDomForHtml(html, 'body&&.cy_xinxi&&span&&Text');\nvar des_class = parseDomForHtml(html, 'body&&.cy_xinxi,1&&span,1&&Text').replace(' ','');\nvar des_desc = parseDomForHtml(html, 'body&&.cy_xinxi,2&&p&&Text');\nvar des_pic = parseDom(html, 'body&&.cy_info_cover&&img&&src');\n\nd.push({\n\ttitle: des_update+'\\n'+des_author+'\\n'+des_class,\n desc: des_desc,\n pic_url: des_pic,\n\turl: MY_URL,\n\tcol_type: 'movie_1_vertical_pic'\n});\n\nvar list = parseDomForArray(html, 'body&&.cy_plist&&li');\nfor (var i = list.length-1 ; i >=0 ; i--) {\n  d.push({\n       title: parseDomForHtml(list[i], 'a&&Text'),\n       url: parseDom(list[i], 'a&&href')+'@lazyRule=.js:var htmls = request(input);var list = parseDomForHtml(htmls,\"head&&script&&Html\").match(/http?(.*?)(jpg-smh.low|jpg)/g);\"pics://\"+list.join(\"&&\")'\n  });\n}\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"思思漫画","author":"仰望星空","version":1,"url":"https://m.sisimanhua.com/list/fyAll/fypage/","col_type":"movie_3","class_name":"连载中&已完结","class_url":"lianzai&wanjie","area_name":"儿童&少年&少女&青年","area_url":"ertong&shaonian&shaonv&qingnian","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&.list-comic;.txtA&&Text;mip-img&&src;span&&Text;a&&href","searchFind":"body&&.itemBox;mip-img&&alt;a&&href;p&&Text;.itemTxt&&Text;mip-img&&src","search_url":"https://m.sisimanhua.com/search/?keywords=**&page=fypage","titleColor":"#ffff00ff","group":"③漫画","detail_col_type":"text_2","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html=getResCode();\n//获取图片\nvar des_pic = parseDom(html, 'body&&.img&&mip-img&&src');\n// 获取标题\nvar des_title = parseDomForHtml(html,'body&&.pic_zi&&dl&&Text');\n// 获取简介\nvar des_desc = parseDomForHtml(html, 'body&&.txtDesc&&p&&Text');\n//获取列表\nvar conts=parseDomForHtml(html, 'body&&.Drama&&Html').match(/<li[\\s\\S]*?<\\/li>/g);\n\nd.push({\n\ttitle: des_title+'\\n'+parseDomForHtml(html,'body&&.pic_zi,1&&dl&&Text')+'\\n'+parseDomForHtml(html,'body&&.pic_zi,3&&dl&&Text'),\n desc: des_desc,\n pic_url: des_pic,\n\turl: getUrl(),\n\tcol_type: 'movie_1_vertical_pic'\n});\nfor (var i =  conts.length-1 ; i >0 ; i--) {\nd.push({\n\t\t\t\ttitle: parseDomForHtml(conts[i],'span&&Text'),\n\t\t\t\turl: parseDom(conts[i],'a&&href')+'@lazyRule=.js:var num1 = input.split(\".html\")[0].split(\"/\")[5];var htmls = request(input);var num2 = parseDomForHtml(htmls,\"body&&.p10&&span,-2&&Text\");var pics=[];for (var k = 0;  k < num2 ;k++) {pics.push(\"https://res6.sisimanhua.com/image/view/\"+num1+\"/\"+k+\".webp\")};\"pics://\"+pics.join(\"&&\")'\n})\n}\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"text_2","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"百漫谷","author":"仰望星空","version":0,"url":"http://106.52.105.28/bsg_fyAll_fypage/","col_type":"pic_1","class_name":"玄幻奇幻&武侠仙侠&都市言情&历史军事","class_url":"1&2&3&4","area_name":"科幻灵异&网游竞技&女生频道&同人小说&其他小说","area_url":"5&6&7&66&59","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nvar list = parseDomForArray(getResCode(), 'ul,1&&li');\nfor (var i in list) {\n  d.push({\n       title: parseDomForHtml(list[i], 'a&&Text'),\n       desc: '更至：'+parseDomForHtml(list[i], 'span,2&&Text')+'\\n作者：'+parseDomForHtml(list[i], 'span,3&&Text')+'\\n时间：'+parseDomForHtml(list[i], 'span,6&&Text'),\n       //img: parseDom(list[i], 'img&&src'),\n       url: parseDom(list[i], 'a&&href')\n  });\n}\nsetResult(d);","searchFind":"js:\r\nvar d = [];\nvar list = parseDomForArray(getResCode(), 'ul,1&&li');\r\nfor (var i in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[i], 'a&&Text'),\r\n       desc: '更新：'+parseDomForHtml(list[i], 'a,1&&Text'),\n       content: parseDomForHtml(list[i], 'li&&Text'),\r\n       //img: parseDom(list[i], 'img&&src'),\r\n       url: parseDom(list[i],'a&&href') \r\n  });\r\n}\r\nsetResult(d);","search_url":"http://106.52.105.28/SearchBook.aspx?keyword=**&t=1","group":"③漫画","detail_col_type":"text_2","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\nvar des_title = parseDomForHtml(html, '.bookname&&a&&title');\nvar des_update = parseDomForHtml(html, '.qidian&&a,2&&Text');\nvar des_author = parseDomForHtml(html, '.bookname&&span&&Text');\nd.push({\n\ttitle: des_title,\n desc: '更新：'+des_update+'\\n'+des_author,\n //pic_url: des_pic,\n\turl: getUrl(),\n\tcol_type: 'text_center_1'\n});\n\nvar list = parseDomForArray(html, 'ul&&li');\nfor (var i in list) {\n  d.push({\n       title: parseDomForHtml(list[i], 'a&&Text'),\n       url: parseDom(list[i], 'a&&href')+'@lazyRule=.js:var htmls=request(input);var ty=JSON.parse(parseDomForHtml(htmls,\"head&&script,-1&&Html\").match(/\\\\[(.*?)\\\\]/g)[0]);var pics=[];for (var k = 0; k < ty.length;k++) {pics.push(\"http://106.52.105.28\"+ty[k])}\"pics://\"+pics.join(\"&&\")'\n  });\n}\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"漫画DB","author":"仰望星空","version":0,"url":"https://www.manhuadb.com/manhua/list-fyAll-page-fypage.html","col_type":"movie_3","class_name":"少年&青年&少女&男性&女性&通用&儿童&女青","class_url":"a-3&a-4&a-5&a-6&a-7&a-9&a-10&a-11","area_name":"日本&香港&韩国&台湾&内地&欧美","area_url":"r-4&r-5&r-6&r-7&r-8&r-9","sort_name":"","year_name":"连载中&已完结","sort_url":"","year_url":"s-1&s-2","find_rule":"body&&.comic-book-unit;h2&&Text;img&&src;span,1&&Text;a&&href","searchFind":"body&&.comicbook-index;h2&&Text;a&&href;div,1&&Text;;img&&src","search_url":"https://www.manhuadb.com/search?q=**&p=fypage","titleColor":"","group":"③漫画","detail_col_type":"text_2","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html=getResCode();\n//获取图片\nvar des_pic = parseDomForHtml(html, 'body&&.comic-cover&&img&&src');\n// 获取作者\nvar des_author = parseDomForHtml(html,'body&&.creators&&ul&&Text');\n// 获取更新状态\nvar des_class = parseDomForHtml(html,'body&&.tags&&ul&&Text');\n// 获取简介\nvar des_desc = parseDomForHtml(html, 'body&&.comic_story&&p&&Text');\n//获取列表\nvar conts=parseDomForHtml(html, 'body&&.links-of-books&&Html').match(/<li[\\s\\S]*?<\\/li>/g);\n// 获取名称\nvar des_title = parseDomForHtml(html,'body&&.comic-title&&h1&&Text');\n\nd.push({\n\ttitle: des_title+'\\n'+'状态：'+des_class+'\\n'+'作者：'+des_author,\n desc: des_desc,\n pic_url: des_pic,\n\turl: getUrl(),\n\tcol_type: 'movie_1_vertical_pic'\n});\n\nfor (var i = 0; i < conts.length  ; i++) {\nd.push({\n\t\t\t\ttitle: parseDomForHtml(conts[i],'a&&Text'),\n\t\t\t\turl: parseDom(conts[i],'a&&href')+'@lazyRule=.js:var htmls=fetch(input,{});var ty=parseDomForHtml(htmls,\"body&&script,2&&Html\");var des_url1=parseDomForHtml(htmls,\"body&&.d-none,-1&&data-img_pre\");var des_url=parseDomForHtml(htmls,\"body&&.d-none,-1&&data-host\");eval(ty);var picConts = JSON.parse(base64Decode(img_data));var pics=[];for (var k = 0; k < picConts.length;k++) {pics.push(des_url+des_url1+picConts[k].img)};\"pics://\"+pics.join(\"&&\")'\n});\n}\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"冰氪漫画","author":"仰望星空","version":0,"url":"https://www.icekr.com/fyAll/fypage/","col_type":"movie_3","class_name":"更新&完结&连载&国产","class_url":"update&list/wanjie&list/lianzai&list/dalu","area_name":"儿童&少年&少女&青年","area_url":"list/ertong&list/shaonian&list/shaonv&list/qingnian","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&.book-list&&li;a&&title;img&&src;.tt&&Text;a&&href","searchFind":"body&&.item-lg;a&&title;a&&href;.tt&&Text;li&&Text;img&&src","search_url":"https://www.icekr.com/search/?keywords=**&page=fypage","titleColor":"#ffff00ff","group":"③漫画","detail_col_type":"text_2","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html=getResCode();\n//获取图片\nvar des_pic = parseDom(html, 'body&&.pic&&img&&src');\n// 获取作者\nvar des_author = parseDomForHtml(html,'body&&.detail-list&&li,1&&span,1&&Text');\n// 获取更新时间\nvar des_class = parseDomForHtml(html,'body&&.detail-list&&li,2&&span&&Text');\n// 获取简介\nvar des_desc = parseDomForHtml(html, 'body&&#intro-all&&p&&Text');\n//获取列表\nvar conts=parseDomForHtml(html, 'body&&.chapter-body&&Html').match(/<li[\\s\\S]*?<\\/li>/g);\n// 获取更新\nvar des_update = parseDomForHtml(html,'body&&.text&&span&&Text');\n\nd.push({\n\ttitle: des_update+'\\n'+des_author+'\\n'+des_class,\n desc: des_desc,\n pic_url: des_pic,\n\turl: getUrl(),\n\tcol_type: 'movie_1_vertical_pic'\n});\n\nfor (var i = 0; i <  conts.length ; i++) {\nd.push({\n\t\t\t\ttitle: parseDomForHtml(conts[i],'a&&Text'),\n\t\t\t\turl: parseDom(conts[i],'a&&href')+'@lazyRule=.js:var htmls=fetch(input,{headers:{\"content-type\":\"UTF-8\",\"User-Agent\":\"Mozilla/5.0 (Windows NT 10.0；； WOW64)\"},method:\"GET\"});var ty=parseDom(htmls,\"body&&script&&Html\");eval(ty);var pics=[];for (var k in chapterImages) {pics.push(chapterImages[k]);};\"pics://\"+pics.join(\"&&\")'\n});\n}\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"text_2","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"13漫画","author":"仰望星空","version":0,"url":"https://m.w13k.com/list/fyAll/fypage/","col_type":"movie_3","class_name":"已完结&连载中","class_url":"wanjie&lianzai","area_name":"儿童&少年&少女&青年","area_url":"ertong&shaonian&shaonv&qingnian","sort_name":"","year_name":"大陆&日本&欧美&韩国&其他","sort_url":"","year_url":"dalu&riben&oumei&hanguo&qita","find_rule":"body&&#w0&&li;a,1&&Text;mip-img&&src;span&&Text;a&&href","searchFind":"body&&.itemBox;a,1&&Text;a&&href;.coll&&Text;.itemTxt&&Text;mip-img&&src","search_url":"https://m.w13k.com/search/?keywords=**&page=fypage","titleColor":"","group":"③漫画","detail_col_type":"text_2","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html=getResCode();\n//获取图片\nvar des_pic = parseDom(html, 'body&&.img&&mip-img&&src');\n// 获取更新\nvar des_update = parseDomForHtml(html, 'body&&dl&&Text').replace('新','');\n// 获取作者\nvar des_author = parseDomForHtml(html,'body&&dl,1&&Text');\n// 获取更新时间\nvar des_class = parseDomForHtml(html,'body&&dl,3&&Text').replace('新','');\n// 获取简介\nvar des_desc = parseDomForHtml(html, 'body&&.txtDesc&&Text');\n//获取列表\nvar conts=parseDomForHtml(html, 'body&&.Drama&&Html').match(/<li[\\s\\S]*?<\\/li>/g);\n\nd.push({\n\ttitle: des_update+'\\n'+des_class+'\\n'+des_author,\n desc: des_desc,\n pic_url: des_pic,\n\turl: getUrl(),\n\tcol_type: 'movie_1_vertical_pic'\n});\nfor (var i = conts.length-1; i > 0   ; i--) {\nd.push({\n\t\t\t\ttitle: parseDomForHtml(conts[i],'a&&Text'),\n\t\t\t\turl: parseDom(conts[i],'a&&href')+'@lazyRule=.js:var htmls=fetch(input,{headers:{\"content-type\":\"UTF-8\",\"User-Agent\":\"Mobiles\"},method:\"GET\"});;var picConts = parseDom(htmls,\"body&&.erPag&&Html\").match(/http?.*?webp/g);var pics = [];for (var k in picConts) {pics.push(picConts[k])};\"pics://\"+pics.join(\"&&\")'\n});\n}\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"pageList":[],"title":"爱米推漫画","author":"仰望星空&Zruiry","version":0,"url":"https://m.imitui.com/list/fyclass-fyarea-fyyear-fysort/?page=fypage","col_type":"movie_3","class_name":"全部&热血&玄幻&修真&古风&恋爱&穿越&都市&霸总&悬疑&搞笑&奇幻&总裁&日常&冒险&科幻&纯爱&魔幻&战争&蔷薇&武侠&生活&动作&后宫&游戏&恐怖&漫改&真人&校园&剧情&灵异&少年&推理&怀旧&情感&偶像&少女&独家&虐心&爆笑&励志&美食&复仇&彩虹&唯美&治愈&明星&脑洞&魔法&修仙&重生&仙侠&末世&异能&女尊&其它&言情&耽美&运动&宫斗&古装&美少女&神魔&历史&惊险&竞技&萌系&体育&格斗&机甲&虐恋&爽&福利&其他&小僵尸&僵尸&浪漫&金手指&御姐&战斗&恶搞&社会&权谋&青春&萝莉&同人&震撼&日漫&军阀&民国&特工&美女&间谍&暗黑&节操&经典&幽默&甜宠&神话&日本&翼纪元&条漫&LOL&种田&短篇&惊悚&四格&国漫&有趣岛&萌宠&人性&宠婚&新妻&吸血鬼&神界漫画&雪月花&梦骑士&兽耳&少儿&百合&吃鸡&枪战&特种兵&兄弟&异世&兄妹&三次元&美型&豪门&婚宠&开挂&血腥&轻松&养成&替身&男神&青青树&异世界&男穿女&魂穿&阴暗&毒鸡汤&片玉&漫画会&龙刃&喜欢&召唤&异界&狠西游&西游记&江湖&断头岛&韩漫&病娇&长篇&陈岚&爱情&女强&燃向&天上空&渡之鸟&血族&魔王&可爱&宫廷&婚恋&萌&阿衰&三角恋&前世&轮回&惊奇&侦探&欢乐向&职场&感动&架空&轻小说&颜艺&性转换&东方&耽美BL&轻松搞笑&同人漫画&校园搞笑生活&少女爱情&正剧&烧脑&装逼&神鬼&伪娘&高清单行&故事漫画&恋爱生活玄幻&西方魔幻&舰娘&宅系&商战&爽流&热血冒险&科技&温馨&家庭&婚姻&段子&内涵&机战&娱乐圈&未来&宠物&霸总恋爱玄幻&故事&音乐舞蹈&逆袭&召唤兽&科幻魔幻&纠结&伦.理&恋爱生活&新作&历史漫画&儿童&侦探推理&修真恋爱架空&手工&青年&其他漫画&致郁&史诗&秀吉&乡村&性转&婚爱&死亡&死神&少男&悬疑、惊悚&爆笑喜剧&动作格斗&改编&AA&恋爱耽美&黑道&鬼怪&丧尸&主仆&知音漫客&麦萌&逆转&大女主&暧昧&生化&奇闻&宅斗&栏目&怪谈&宠爱&幻想&异族&探案&叛逆&橘味&乙女&猎奇&日更&漫漫&智斗&正能量&漫画一番&女王点坑&漫客栈&飒漫画&小说改编&绅士&恐怖悬疑&绘本&音乐&狐仙&死后世界&墨瞳&漫画&末日&系统&神仙&有妖气&怪物&妖怪&神豪&霸总.都市&高甜","class_url":"&rexue&xuanhuan&xiuzhen&gufeng&lianai&chuanyue&dushi&bazong&xuanyi&gaoxiao&qihuan&zongcai&richang&maoxian&kehuan&chunai&mohuan&zhanzheng&qiangwei&wuxia&shenghuo&dongzuo&hougong&youxi&kongbu&mangai&zhenren&xiaoyuan&juqing&lingyi&shaonian&tuili&huaijiu&qinggan&ouxiang&shaonv&dujia&nuexin&baoxiao&lizhi&meishi&fuchou&caihong&weimei&zhiyu&mingxing&naodong&mofa&xiuxian&zhongsheng&xianxia&moshi&yineng&nvzun&qita&yanqing&danmei&yundong&gongdou&guzhuang&meishaonv&shenmo&lishi&jingxian&jingji&mengxi&tiyu&gedou&jijia&nuelian&shuang&fuli&qita2&xiaojiangshi&jiangshi&langman&jinshouzhi&yujie&zhandou&egao&shehui&quanmou&qingchun&luoli&tongren&zhenhan&riman&junfa&minguo&tegong&meinv&jiandie&anhei&jiecao&jingdian&youmo&tianchong&shenhua&riben&yijiyuan&tiaoman&LOL&zhongtian&duanpian&jingsong&sige&guoman&youqudao&mengchong&renxing&chonghun&xinqi&xixiegui&shenjiemanhua&xueyuehua&mengqishi&shouer&shaoer&baihe&chiji&qiangzhan&tezhongbing&xiongdi&yishi&xiongmei&sanciyuan&meixing&haomen&hunchong&kaigua&xuexing&qingsong&yangcheng&tishen&nanshen&qingqingshu&yishijie&nanchuannv&hunchuan&yinan&dujitang&pianyu&manhuahui&longren&xihuan&zhaohuan&yijie&henxiyou&xiyouji&jianghu&duantoudao&hanman&bingjiao&changpian&chenlan&aiqing&nvqiang&ranxiang&tianshangkong&duzhiniao&xuezu&mowang&keai&gongting&hunlian&meng&ashuai&sanjiaolian&qianshi&lunhui&jingqi&zhentan&huanlexiang&zhichang&gandong&jiakong&qingxiaoshuo&yanyi&xingzhuanhuan&dongfang&danmeiBL&qingsonggaoxiao&tongrenmanhua&xiaoyuangaoxiaoshenghuo&shaonvaiqing&zhengju&shaonao&zhuangbi&shengui&weiniang&gaoqingdanxing&gushimanhua&lianaishenghuoxuanhuan&xifangmohuan&jianniang&zhaixi&shangzhan&shuangliu&rexuemaoxian&keji&wenxin&jiating&hunyin&duanzi&neihan&jizhan&yulequan&weilai&chongwu&bazonglianaixuanhuan&gushi&yinyuewudao&nixi&zhaohuanshou&kehuanmohuan&jiujie&lunli&lianaishenghuo&xinzuo&lishimanhua&ertong&zhentantuili&xiuzhenlianaijiakong&shougong&qingnian&qitamanhua&zhiyu2&shishi&xiuji&xiangcun&xingzhuan&hunai&siwang&sishen&shaonan&xuanyijingsong&baoxiaoxiju&dongzuogedou&gaibian&AA&lianaidanmei&heidao&guiguai&sangshi&zhupu&zhiyinmanke&maimeng&nizhuan&danvzhu&aimei&shenghua&qiwen&zhaidou&lanmu&guaitan&chongai&huanxiang&yizu&tanan&panni&juwei&yinv&lieqi&rigeng&manman&zhidou&zhengnengliang&manhuayifan&nvwangdiankeng&mankezhan&samanhua&xiaoshuogaibian&shenshi&kongbuxuanyi&huiben&yinyue&huxian&sihoushijie&motong&manhua&mori&xitong&shenxian&youyaoqi&guaiwu&yaoguai&shenhao&bazongdushi&gaotian","area_name":"全部&儿童漫画&少年漫画&少女漫画&青年漫画","area_url":"&ertong&shaonian&shaonv&qingnian","sort_name":"全部&日本&大陆&香港&台湾&欧美&韩国&其他","year_name":"全部&已完结&连载中","sort_url":"&riben&dalu&hongkong&taiwan&oumei&hanguo&qita","year_url":"&wanjie&lianzai","find_rule":".col_3_1&&li;a,1&&Text;img&&src;.info&&Text;a&&href","searchFind":".UpdateList&&.itemBox;.itemTxt&&a&&Text;a&&href;a,-1&&Text;.itemTxt--a&&Text;img&&src","search_url":"https://m.imitui.com/search/?keywords=**&page=fypage","titleColor":"#ff871f78","group":"③漫画","detail_col_type":"text_2","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html=getResCode();\n//获取图片\nvar des_pic = parseDomForHtml(html, 'body&&.pic&&img&&src');\n// 获取作者\nvar des_author = parseDomForHtml(html,'body&&.sub_r&&p&&Text');\n// 获取更新状态\nvar des_update = parseDomForHtml(html,'body&&.Drama&&li&&span&&Text');\n// 获取简介\nvar des_desc = parseDomForHtml(html, 'body&&.txtDesc&&p&&Text').split(':')[1];\n//获取列表\nvar conts=parseDomForHtml(html, 'body&&.Drama&&Html').match(/<li[\\s\\S]*?<\\/li>/g);\n// 获取类别\nvar des_class = parseDomForHtml(html,'body&&.sub_r&&p,2&&Text');\n\nd.push({\n\ttitle: '更新：'+des_update+'\\n'+'作者：'+des_author+'\\n'+'类别：'+des_class,\n desc: des_desc,\n pic_url: des_pic,\n\turl: getUrl(),\n\tcol_type: 'movie_1_vertical_pic'\n});\n\nif (conts !=null){\nfor (var i = 0; i < conts.length-1 ; i++) {\nd.push({\n\t\t\t\ttitle: parseDomForHtml(conts[i],'a&&Text'),\n\t\t\t\turl: parseDom(conts[i],'a&&href')+'@lazyRule=.js:var htmls=fetch(input.replace(\"m\",\"www\"),{});var ty=parseDomForHtml(htmls,\"body&&script&&Html\");eval(ty);var pics=[];for (var k = 0; k < chapterImages.length;k++) {pics.push(chapterImages[k])};\"pics://\"+pics.join(\"&&\")'\n});\n}\n} else {d.push({title: '暂无漫画源',url:getUrl()});}\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"text_2","sdetail_find_rule":"*","ua":"mobile","preRule":""},{"pageList":[],"title":"最漫画","author":"仰望星空&Zruiry","version":1,"url":"https://m.zuimh.com/list/fyclass-fyarea-fyyear-fysort/?page=fypage","col_type":"movie_3","class_name":"全部&热血&玄幻&修真&古风&恋爱&穿越&都市&霸总&悬疑&搞笑&奇幻&总裁&日常&冒险&科幻&纯爱&魔幻&战争&蔷薇&武侠&生活&动作&后宫&游戏&恐怖&漫改&真人&校园&剧情&灵异&少年&推理&怀旧&情感&偶像&少女&独家&虐心&爆笑&励志&美食&复仇&彩虹&唯美&治愈&明星&脑洞&魔法&修仙&重生&仙侠&末世&异能&女尊&其它&言情&耽美&运动&宫斗&古装&美少女&神魔&历史&惊险&竞技&萌系&体育&格斗&机甲&虐恋&爽&福利&其他&小僵尸&僵尸&浪漫&金手指&御姐&战斗&恶搞&社会&权谋&青春&萝莉&同人&震撼&日漫&军阀&民国&特工&美女&间谍&暗黑&节操&经典&幽默&甜宠&神话&日本&翼纪元&条漫&LOL&种田&短篇&惊悚&四格&国漫&有趣岛&萌宠&人性&宠婚&新妻&吸血鬼&神界漫画&雪月花&梦骑士&兽耳&少儿&百合&吃鸡&枪战&特种兵&兄弟&异世&兄妹&三次元&美型&豪门&婚宠&开挂&血腥&轻松&养成&替身&男神&青青树&异世界&男穿女&魂穿&阴暗&毒鸡汤&片玉&漫画会&龙刃&喜欢&召唤&异界&狠西游&西游记&江湖&断头岛&韩漫&病娇&长篇&陈岚&爱情&女强&燃向&天上空&渡之鸟&血族&魔王&可爱&宫廷&婚恋&萌&阿衰&三角恋&前世&轮回&惊奇&侦探&欢乐向&职场&感动&架空&轻小说&颜艺&性转换&东方&耽美BL&轻松搞笑&同人漫画&校园搞笑生活&少女爱情&正剧&烧脑&装逼&神鬼&伪娘&高清单行&故事漫画&恋爱生活玄幻&西方魔幻&舰娘&宅系&商战&爽流&热血冒险&科技&温馨&家庭&婚姻&段子&内涵&机战&娱乐圈&未来&宠物&霸总恋爱玄幻&故事&音乐舞蹈&逆袭&召唤兽&科幻魔幻&纠结&伦.理&恋爱生活&新作&历史漫画&儿童&侦探推理&修真恋爱架空&手工&青年&其他漫画&致郁&史诗&秀吉&乡村&性转&婚爱&死亡&死神&少男&悬疑、惊悚&爆笑喜剧&动作格斗&改编&AA&恋爱耽美&黑道&鬼怪&丧尸&主仆&知音漫客&麦萌&逆转&大女主&暧昧&生化&奇闻&宅斗&栏目&怪谈&宠爱&幻想&异族&探案&叛逆&橘味&乙女&猎奇&日更&漫漫&智斗&正能量&漫画一番&女王点坑&漫客栈&飒漫画&小说改编&绅士&恐怖悬疑&绘本&音乐&狐仙&死后世界&墨瞳&漫画&末日&系统&神仙&有妖气&怪物&妖怪&神豪&霸总.都市&高甜","class_url":"&rexue&xuanhuan&xiuzhen&gufeng&lianai&chuanyue&dushi&bazong&xuanyi&gaoxiao&qihuan&zongcai&richang&maoxian&kehuan&chunai&mohuan&zhanzheng&qiangwei&wuxia&shenghuo&dongzuo&hougong&youxi&kongbu&mangai&zhenren&xiaoyuan&juqing&lingyi&shaonian&tuili&huaijiu&qinggan&ouxiang&shaonv&dujia&nuexin&baoxiao&lizhi&meishi&fuchou&caihong&weimei&zhiyu&mingxing&naodong&mofa&xiuxian&zhongsheng&xianxia&moshi&yineng&nvzun&qita&yanqing&danmei&yundong&gongdou&guzhuang&meishaonv&shenmo&lishi&jingxian&jingji&mengxi&tiyu&gedou&jijia&nuelian&shuang&fuli&qita2&xiaojiangshi&jiangshi&langman&jinshouzhi&yujie&zhandou&egao&shehui&quanmou&qingchun&luoli&tongren&zhenhan&riman&junfa&minguo&tegong&meinv&jiandie&anhei&jiecao&jingdian&youmo&tianchong&shenhua&riben&yijiyuan&tiaoman&LOL&zhongtian&duanpian&jingsong&sige&guoman&youqudao&mengchong&renxing&chonghun&xinqi&xixiegui&shenjiemanhua&xueyuehua&mengqishi&shouer&shaoer&baihe&chiji&qiangzhan&tezhongbing&xiongdi&yishi&xiongmei&sanciyuan&meixing&haomen&hunchong&kaigua&xuexing&qingsong&yangcheng&tishen&nanshen&qingqingshu&yishijie&nanchuannv&hunchuan&yinan&dujitang&pianyu&manhuahui&longren&xihuan&zhaohuan&yijie&henxiyou&xiyouji&jianghu&duantoudao&hanman&bingjiao&changpian&chenlan&aiqing&nvqiang&ranxiang&tianshangkong&duzhiniao&xuezu&mowang&keai&gongting&hunlian&meng&ashuai&sanjiaolian&qianshi&lunhui&jingqi&zhentan&huanlexiang&zhichang&gandong&jiakong&qingxiaoshuo&yanyi&xingzhuanhuan&dongfang&danmeiBL&qingsonggaoxiao&tongrenmanhua&xiaoyuangaoxiaoshenghuo&shaonvaiqing&zhengju&shaonao&zhuangbi&shengui&weiniang&gaoqingdanxing&gushimanhua&lianaishenghuoxuanhuan&xifangmohuan&jianniang&zhaixi&shangzhan&shuangliu&rexuemaoxian&keji&wenxin&jiating&hunyin&duanzi&neihan&jizhan&yulequan&weilai&chongwu&bazonglianaixuanhuan&gushi&yinyuewudao&nixi&zhaohuanshou&kehuanmohuan&jiujie&lunli&lianaishenghuo&xinzuo&lishimanhua&ertong&zhentantuili&xiuzhenlianaijiakong&shougong&qingnian&qitamanhua&zhiyu2&shishi&xiuji&xiangcun&xingzhuan&hunai&siwang&sishen&shaonan&xuanyijingsong&baoxiaoxiju&dongzuogedou&gaibian&AA&lianaidanmei&heidao&guiguai&sangshi&zhupu&zhiyinmanke&maimeng&nizhuan&danvzhu&aimei&shenghua&qiwen&zhaidou&lanmu&guaitan&chongai&huanxiang&yizu&tanan&panni&juwei&yinv&lieqi&rigeng&manman&zhidou&zhengnengliang&manhuayifan&nvwangdiankeng&mankezhan&samanhua&xiaoshuogaibian&shenshi&kongbuxuanyi&huiben&yinyue&huxian&sihoushijie&motong&manhua&mori&xitong&shenxian&youyaoqi&guaiwu&yaoguai&shenhao&bazongdushi&gaotian","area_name":"全部&儿童漫画&少年漫画&少女漫画&青年漫画","area_url":"&ertong&shaonian&shaonv&qingnian","sort_name":"全部&日本&大陆&香港&台湾&欧美&韩国&其他","year_name":"全部&已完结&连载中","sort_url":"&riben&dalu&hongkong&taiwan&oumei&hanguo&qita","year_url":"&wanjie&lianzai","find_rule":"body&&#comic-items&&li;a,1&&Text;img&&src;span&&Text;a&&href","searchFind":"body&&.itemBox;.itemTxt&&a&&Text;a&&href;a,2&&Text;.itemTxt&&Text;img&&src","search_url":"https://m.zuimh.com/search/?keywords=**&page=fypage","titleColor":"","group":"③漫画","detail_col_type":"text_2","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html=getResCode();\n//获取图片\nvar des_pic = parseDomForHtml(html, 'body&&.pic&&img&&src');\n// 获取作者\nvar des_author = parseDomForHtml(html,'body&&.sub_r&&p&&Text');\n// 获取更新状态\nvar des_update = parseDomForHtml(html,'body&&.Drama&&li&&span&&Text');\n// 获取简介\nvar des_desc = parseDomForHtml(html, 'body&&.txtDesc&&p&&Text').split(':')[1];\n//获取列表\nvar conts=parseDomForHtml(html, 'body&&.Drama&&Html').match(/<li[\\s\\S]*?<\\/li>/g);\n// 获取类别\nvar des_class = parseDomForHtml(html,'body&&.sub_r&&p,2&&Text');\n\nd.push({\n\ttitle: '更新：'+des_update+'\\n'+'作者：'+des_author+'\\n'+'类别：'+des_class,\n desc: des_desc,\n pic_url: des_pic,\n\turl: getUrl(),\n\tcol_type: 'movie_1_vertical_pic'\n});\n\nif (conts !=null){\nfor (var i = 0; i < conts.length-1 ; i++) {\nd.push({\n\t\t\t\ttitle: parseDomForHtml(conts[i],'a&&Text'),\n\t\t\t\turl: parseDom(conts[i],'a&&href')+'@lazyRule=.js:var htmls=fetch(input.replace(\"m\",\"www\"),{});var ty=parseDomForHtml(htmls,\"body&&script&&Html\");eval(ty);var pics=[];for (var k = 0; k < chapterImages.length;k++) {pics.push(chapterImages[k])};\"pics://\"+pics.join(\"&&\")'\n});\n}\n} else {d.push({title: '暂无漫画源',url:getUrl()});}\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":""},{"last_chapter_rule":"","pageList":[],"title":"独漫画","author":"仰望星空","version":0,"url":"https://m.dumanhhua.com/fyAll/fypage/","col_type":"movie_3","class_name":"更新&已完结&连载中&国产","class_url":"update&list/wanjie&list/lianzai&list/dalu","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&.list-comic||.itemBox;mip-img&&alt;mip-img&&src;.info||.coll&&Text;a&&href","searchFind":"body&&.itemBox;mip-img&&alt;a&&href;.coll&&Text;.itemTxt&&Text;mip-img&&src","search_url":"https://m.dumanhhua.com/search/?keywords=**&page=fypage","titleColor":"#ffff00ff","group":"③漫画","detail_col_type":"text_2","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html=getResCode();\n//获取图片\nvar des_pic = parseDom(html, 'body&&.img&&mip-img&&src');\n// 获取更新\nvar des_update = parseDomForHtml(html, 'body&&dl&&Text').replace('新','');\n// 获取作者\nvar des_author = parseDomForHtml(html,'body&&dl,1&&Text');\n// 获取更新时间\nvar des_class = parseDomForHtml(html,'body&&dl,3&&Text').replace('新','');\n// 获取简介\nvar des_desc = parseDomForHtml(html, 'body&&.txtDesc&&Text');\n//获取列表\nvar conts=parseDomForHtml(html, 'body&&.Drama&&Html').match(/<li[\\s\\S]*?<\\/li>/g);\n\nd.push({\n\ttitle: des_update+'\\n'+des_class+'\\n'+des_author,\n desc: des_desc,\n pic_url: des_pic,\n\turl: getUrl(),\n\tcol_type: 'movie_1_vertical_pic'\n});\nfor (var i = conts.length-1; i >0  ; i--) {\nd.push({\n\t\t\t\ttitle: parseDomForHtml(conts[i],'a&&Text'),\n\t\t\t\turl: parseDom(conts[i],'a&&href')+'@lazyRule=.js:var res1 = {};var d1 = [];var jsHtml = fetch(input,{headers:{\"content-type\":\"UTF-8\",\"User-Agent\":\"Mobile\"},method:\"GET\"});var pics=[];for(var k=1;  ;k++){try{var jsHtml = fetch(input.split(\".html\")[0] + \"-\"+k + \".html\",{headers:{\"content-type\":\"UTF-8\",\"User-Agent\":\"Mobile\"},method:\"GET\"});var jsUrl = parseDomForHtml(jsHtml,\"body&&.erPag&&img,1&&src\");if(jsUrl.indexOf(\"webp\")>-1){pics.push(jsUrl);}else{break}}catch(e){break}};\"pics://\"+pics.join(\"&&\")'\n});\n}\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"text_2","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"土豆漫画网","author":"仰望星空","version":0,"url":"https://m.xm124.com/list/fyAll/fypage/","col_type":"movie_3","class_name":"已完结&连载中","class_url":"wanjie&lianzai","area_name":"儿童&少年&少女&青年","area_url":"ertong&shaonian&shaonv&qingnian","sort_name":"都市&玄幻&热血&耽美&蔷薇&古风&恋爱&冒险&校园&恐怖&搞笑","year_name":"日本&大陆&欧美&韩国","sort_url":"dushi&xuanhuan&rexue&danmei&qiangwei&gufeng&lianai&maoxian&xiaoyuan&kongbu&gaoxiao","year_url":"riben&dalu&oumei&hanguo","find_rule":"body&&.list-comic;.txtA&&Text;mip-img&&src;.info&&Text;a&&href","searchFind":"body&&.UpdateList&&.itemBox;.itemTxt&&a&&Text;a&&href;.coll&&a&&Text;.itemTxt&&Text;mip-img&&src","search_url":"https://m.xm124.com/search/?keywords=**&page=fypage;get;utf-8","titleColor":"#ffff00ff","group":"③漫画","detail_col_type":"text_2","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html=getResCode();\n//获取图片\nvar des_pic = parseDom(html, 'body&&.img&&mip-img&&src');\n// 获取更新\nvar des_update = parseDomForHtml(html, 'body&&dl&&Text').replace('新','');\n// 获取作者\nvar des_author = parseDomForHtml(html,'body&&dl,1&&Text');\n// 获取更新时间\nvar des_class = parseDomForHtml(html,'body&&dl,3&&Text').replace('新','');\n// 获取简介\nvar des_desc = parseDomForHtml(html, 'body&&.txtDesc&&Text');\n//获取列表\nvar conts=parseDomForHtml(html, 'body&&.Drama&&Html').match(/<li[\\s\\S]*?<\\/li>/g);\n\nd.push({\n\ttitle: des_update+'\\n'+des_class+'\\n'+des_author,\n desc: des_desc,\n pic_url: des_pic,\n\turl: getUrl(),\n\tcol_type: 'movie_1_vertical_pic'\n});\nfor (var i = conts.length-1; i >0  ; i--) {\nd.push({\n\t\t\t\ttitle: parseDomForHtml(conts[i],'a&&Text'),\n\t\t\t\turl: parseDom(conts[i],'a&&href')+'@lazyRule=.js:var res1 = {};var d1 = [];var jsHtml = fetch(input,{headers:{\"content-type\":\"UTF-8\",\"User-Agent\":\"Mobile\"},method:\"GET\"});var pics=[];for(var k=1;  ;k++){try{var jsHtml = fetch(input.split(\".html\")[0] + \"-\"+k + \".html\",{headers:{\"content-type\":\"UTF-8\",\"User-Agent\":\"Mobile\"},method:\"GET\"});var jsUrl = parseDomForHtml(jsHtml,\"body&&.erPag&&img,1&&src\");if (jsUrl.indexOf(\"jpg\")>-1){pics.push(jsUrl);}else{break}}catch(e){break}};\"pics://\"+pics.join(\"&&\")'\n});\n}\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"武侠漫画","author":"Zruiry&仰望星空","version":0,"url":"https://m.wuxiamh.com/list/fyAll/fypage/[firstPage=https://m.wuxiamh.com/list/fyAll/];get;UTF-8;{User-Agent@Mobile}","col_type":"movie_3","class_name":"热血&搞笑&动作&科幻&生活&冒险&架空&竞技&都市&恋爱&霸总&剧情&悬疑&古风&穿越&玄幻&神魔&校园&百合&励志&战争&爆笑&真人&恐怖&格斗&同人&魔幻&修真&惊险&社会&治愈&游戏&奇幻&脑洞&暗黑&恶搞&唯美&浪漫&纯爱&后宫&灵异&防疫&吸血&耽美&蔷薇&小说改编&历史&武侠&萝莉&漫改&运动","class_url":"rexue&gaoxiao&dongzuo&kehuan&shenghuo&maoxian&jiakong&jingji&dushi&lianai&bazong&juqing&xuanyi&gufeng&chuanyue&xuanhuan&shenmo&xiaoyuan&baihe&lizhi&zhanzheng&baoxiao&zhenren&kongbu&gedou&tongren&mohuan&xiuzhen&jingxian&shehui&zhiyu&youxi&qihuan&naodong&anhei&egao&weimei&langman&chunai&hougong&lingyi&fangyi&xixie&danmei&qiangwei&xiaoshuogaibian&lishi&wuxia&luoli&mangai&yundong","area_name":"日更&青春&萌系&御姐&复仇&新作&虐心&精品&推理&震撼&僵尸&轻松&宠物&职场&未来&异世界&惊奇&宫廷&爽流&逆袭&仙侠&机甲&美食&明星&宫斗&日常&感动&史诗&家庭&正剧&段子&温馨&乡村&高智商&悬疑推理&机智&召唤兽&装逼&战斗&豪门&异能&神话&重口味&血腥&逗比&丧尸&娱乐圈&科技&烧脑&侦探推理&其它&末世&体育&权谋&商战&内涵&欢乐向&爱情&轻小说&音乐舞蹈&性转换","area_url":"rigeng&qingchun&mengxi&yujie&fuchou&xinzuo&nuexin&jingpin&tuili&zhenhan&jiangshi&qingsong&chongwu&zhichang&weilai&yishijie&jingqi&gongting&shuangliu&nixi&xianxia&jijia&meishi&mingxing&gongdou&richang&gandong&shishi&jiating&zhengju&duanzi&wenxin&xiangcun&gaozhishang&xuanyituili&jizhi&zhaohuanshou&zhuangbi&zhandou&haomen&yineng&shenhua&zhongkouwei&xuexing&doubi&sangshi&yulequan&keji&shaonao&zhentantuili&qita&moshi&tiyu&quanmou&shangzhan&neihan&huanlexiang&aiqing&qingxiaoshuo&yinyuewudao&xingzhuanhuan","sort_name":"漫画岛&正能量&性转&耽美人生&故事漫画&快看漫画&韩国漫画&黑道&绘本&伦.理&青年&逆转&重生&古装&宅斗&偶像&暧昧&幻想&奇闻&异族&独家&女强&美型&言情&种田&魔王&福利&血族&狐仙&悬疑、惊悚&兽耳&鬼怪&少儿&小僵尸&狠西游&西游记&青青树&病娇&甜宠&男神&大女主&叛逆&怪谈&生化&宠爱&探案&怀旧&情感&绅士&美少女&乙女&墨瞳&猎奇&日漫&末日&系统&修仙&神仙&怪物&神豪&虐恋&霸总.都市&妖怪&主仆&高甜","year_name":"四格&东方&神鬼&修真恋爱架空&轻松搞笑&同人漫画&少女爱情&武侠格斗&彩虹&侦探&魔法&纠结&婚姻&搞笑喜剧&恐怖灵异&伪娘&其他&宅系&恋爱生活&爆笑喜剧&生活漫画&战争漫画&其他漫画&科幻魔幻&竞技体育&百合女性&西方魔幻&少女&AA&舰娘&节操&橘味&惊悚&手工&音乐&机战&颜艺&智斗&有妖气&秀吉&改编&少年&总裁&热血冒险&致郁&恐怖悬疑&恋爱耽美&高清单行","sort_url":"manhuadao&zhengnengliang&xingzhuan&danmeirensheng&gushimanhua&kuaikanmanhua&hanguomanhua&heidao&huiben&lunli&qingnian&nizhuan&zhongsheng&guzhuang&zhaidou&ouxiang&aimei&huanxiang&qiwen&yizu&dujia&nvqiang&meixing&yanqing&zhongtian&mowang&fuli&xuezu&huxian&xuanyijingsong&shouer&guiguai&shaoer&xiaojiangshi&henxiyou&xiyouji&qingqingshu&bingjiao&tianchong&nanshen&danvzhu&panni&guaitan&shenghua&chongai&tanan&huaijiu&qinggan&shenshi&meishaonv&yinv&motong&lieqi&riman&mori&xitong&xiuxian&shenxian&guaiwu&shenhao&nuelian&bazongdushi&yaoguai&zhupu&gaotian","year_url":"sige&dongfang&shengui&xiuzhenlianaijiakong&qingsonggaoxiao&tongrenmanhua&shaonvaiqing&wuxiagedou&caihong&zhentan&mofa&jiujie&hunyin&gaoxiaoxiju&kongbulingyi&weiniang&qita2&zhaixi&lianaishenghuo&baoxiaoxiju&shenghuomanhua&zhanzhengmanhua&qitamanhua&kehuanmohuan&jingjitiyu&baihenvxing&xifangmohuan&shaonv&AA&jianniang&jiecao&juwei&jingsong&shougong&yinyue&jizhan&yanyi&zhidou&youyaoqi&xiuji&gaibian&shaonian&zongcai&rexuemaoxian&zhiyu2&kongbuxuanyi&lianaidanmei&gaoqingdanxing","find_rule":".col_3_1&&li;mip-img&&alt;mip-img&&src;a,-1&&Text;a&&href","searchFind":".UpdateList&&.itemBox;mip-img&&alt;a&&href;a,-1&&Text;.itemTxt--a&&Text;mip-img&&src","search_url":"https://m.wuxiamh.com/search/?keywords=**&page=fypage;get;UTF-8;{User-Agent@Mobile}","titleColor":"#ff871f78","group":"③漫画","detail_col_type":"text_2","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html=getResCode();\n//获取图片\nvar des_pic = parseDomForHtml(html, 'body&&.img&&mip-img&&src');\n// 获取更新时间\nvar des_time = parseDomForHtml(html,'body&&dl,-1&&Text').replace('新','');\n// 获取更新状态\nvar des_update = parseDomForHtml(html,'body&&dl&&Text').replace('新','');\n// 获取简介\nvar des_desc = parseDomForHtml(html, 'body&&.txtDesc&&p&&Text');\n//获取列表\nvar conts=parseDomForHtml(html, 'body&&.Drama&&Html').match(/<li[\\s\\S]*?<\\/li>/g);\n// 获取分类\nvar des_class = parseDomForHtml(html,'body&&dl,1&&Text');\n\nd.push({\n\ttitle: des_update+'\\n'+des_time+'\\n'+des_class,\n desc: des_desc,\n pic_url: des_pic,\n\turl: getUrl(),\n\tcol_type: 'movie_1_vertical_pic'\n});\n\nfor (var i = conts.length-1; i >0   ; i--) {\nd.push({\n\t\t\t\ttitle: parseDomForHtml(conts[i],'a&&Text'),\n\t\t\t\turl: parseDom(conts[i],'a&&href')+'@lazyRule=.js:var num1 = input.split(\".html\")[0].split(\"/\")[5];var htmls = fetch(input,{headers:{\"content-type\":\"UTF-8\",\"User-Agent\":\"Mobile\"},method:\"GET\"});var num2 = parseDomForHtml(htmls,\"body&&.p10&&span,-2&&Text\");var pics=[];for (var k = 0;  k < num2 ;k++) {pics.push(\"https://res7.wuxiamh.com/image/view/\"+num1+\"/\"+k+\".webp\")};\"pics://\"+pics.join(\"&&\")'\n});\n}\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"text_2","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"扑飞漫画","author":"ivnyoov&仰望星空","version":0,"url":"https://pufeimanhua.com/sort/fyAll/fypage.html","col_type":"movie_3","class_name":" 热血&机战&运动&推理&冒险&耽美&百合&搞笑&战争&神魔&忍者&竞技&悬疑&社会&恋爱&宠物&吸血&萝莉&后宫&御姐&霸总&玄幻&古风&历史&漫改&游戏&穿越&恐怖&真人&科幻&都市&武侠&修真&生活&动作","class_url":"t1&t2&t3&t4&t5&t6&t7&t8&t9&t10&t11&t12&t13&t14&t15&t16&t17&t18&t19&t20&t21&t22&t23&t24&t25&t26&t27&t28&t29&t30&t31&t32&t33&t34&t35","area_name":"知音漫客&神漫&飒漫画&飒漫乐画&风炫漫画&爱漫画&漫画周刊&漫客栈&漫画派对&漫画世界&漫画会&中国卡通&漫画show&漫友&乐漫&怪兽漫画&淘漫画&极漫&漫王&壹周漫画&星漫&看漫画","area_url":"c1&c2&c3&c4&c5&c6&c7&c8&c9&c10&c11&c12&c13&c14&c15&c16&c17&c18&c19&c20&c21&c22","sort_name":"","year_name":"A&B&C&D&E&F&G&H&I&J&K&L&M&N&O&P&Q&R&S&T&U&V&W&X&Y&Z","sort_url":"","year_url":"lA&lB&lC&lD&lE&lF&lG&lH&lI&lJ&lK&lL&lM&lN&lO&lP&lQ&lR&lS&lT&lU&lV&lW&lX&lY&lZ","find_rule":".comic-list&&li;h3&&Text;img&&data-src;.chapter&&Text;a&&href","searchFind":".comic-list&&li;h3&&Text;a&&href;p&&Text;.chapter&&Text;img&&data-src","search_url":"https://pufeimanhua.com/sort/?key=**","titleColor":"","group":"③漫画","detail_col_type":"text_2","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html=getResCode();\n//获取图片\nvar des_pic = parseDomForHtml(html, 'body&&.comic-cover&&img&&data-src');\n// 获取更新时间\nvar des_time = parseDomForHtml(html,'body&&.update&&p&&Text');\n// 获取更新状态\nvar des_update = parseDomForHtml(html,'body&&.chapter-list&&li&&Text');\n// 获取简介\nvar des_desc = parseDomForHtml(html, 'body&&.desc-con&&Text');\n//获取列表\nvar conts=parseDomForHtml(html, 'body&&.chapter-list&&Html').match(/<li[\\s\\S]*?<\\/li>/g);\n// 获取分类\nvar des_class = parseDomForHtml(html,'body&&.attr&&Text');\n\nd.push({\n\ttitle: '更新至：'+des_update+'\\n'+des_time+'\\n'+'类别：'+des_class,\n desc: des_desc,\n pic_url: des_pic,\n\turl: getUrl(),\n\tcol_type: 'movie_1_vertical_pic'\n});\n\nif (conts !=null){\nfor (var i = conts.length-1; i >=0   ; i--) {\nd.push({\n\t\t\t\ttitle: parseDomForHtml(conts[i],'a&&Text'),\n\t\t\t\turl: parseDom(conts[i],'a&&href')+'@lazyRule=.js:var htmls=fetch(input,{});var list=parseDomForHtml(htmls,\"body&&.comiclist&&script&&Html\").match(/http?(.*?)(jpg-smh.low|jpg)/g);var pics=[];for (var k = 0; k < list.length;k++) {pics.push(list[k])};\"pics://\"+pics.join(\"&&\")'\n});\n}\n} else {d.push({title: '暂无漫画源'});}\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"text_2","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","icon":""},{"pageList":[],"title":"漫画芯","author":"仰望星空","version":0,"url":"https://www.mhxin.com/fyAll/fypage/","col_type":"movie_3","class_name":"连载&完结&更新","class_url":"list/lianzai&list/wanjie&update","area_name":"少年&少女&青年","area_url":"list/shaonian&list/shaonv&list/qingniian","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&.list_con_li&&li;h3&&a&&Text;img&&src;p,3&&a&&Text;a&&href","searchFind":"body&&.list-comic;a&&title;a&&href;.newPage&&Text;li&&Text;img&&src","search_url":"https://www.mhxin.com/search/?keywords=**&page=fypage","titleColor":"#ffff00ff","group":"③漫画","detail_col_type":"text_2","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html=getResCode();\n//获取图片\nvar des_pic = parseDom(html, 'body&&.comic_i_img&&img&&src');\n// 获取作者\nvar des_author = parseDomForHtml(html,'body&&.comic_deCon_liO&&li&&Text');\n// 获取更新时间\nvar des_class = parseDomForHtml(html,'body&&.comic_deCon_liO&&li,2&&Text');\n// 获取简介\nvar des_desc = parseDomForHtml(html, 'body&&.comic_deCon_d&&p&&Text');\n//获取列表\nvar conts=parseDomForHtml(html, 'body&&#chapter-list-1||.list_con_li&&Html').match(/<li[\\s\\S]*?<\\/li>/g);\n// 获取更新\nvar des_update = parseDomForHtml(conts[conts.length-1],'a&&Text');\n\nd.push({\n\ttitle: '最新：'+des_update+'\\n'+des_author+'\\n'+des_class,\n desc: des_desc,\n pic_url: des_pic,\n\turl: getUrl(),\n\tcol_type: 'movie_1_vertical_pic'\n});\nfor (var i = 0; i <  conts.length ; i++) {\nd.push({\n\t\t\t\ttitle: parseDomForHtml(conts[i],'a&&Text'),\n\t\t\t\turl: parseDom(conts[i],'a&&href') + '@lazyRule=.js:var htmls=fetch(input,{});var ty=parseDom(htmls,\"body&&script&&Html\");eval(ty);var pics=[];for (var k in chapterImages) {pics.push(chapterImages[k]);};\"pics://\"+pics.join(\"&&\")'\n});\n}\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":""},{"last_chapter_rule":"","pageList":[],"title":"倾城漫画网","author":"仰望星空","version":0,"url":"https://m.mhba123.com/fyAll-fypage.html","col_type":"movie_3","class_name":"排行榜&最近更新&最新上架&已完结","class_url":"f-1-0-0-0-0-1&f-1-0-0-0-0-0&f-1-0-0-0-0-2&f-1-0-0-2-0-0","area_name":"热血&恋爱&校园&百合&耽美&冒险&后宫&仙侠&武侠&悬疑","area_url":"f-1-1-0-0-0-0&f-1-2-0-0-0-0&f-1-3-0-0-0-0&f-1-4-0-0-0-0&f-1-5-0-0-0-0&f-1-6-0-0-0-0&f-1-7-0-0-0-0&f-1-8-0-0-0-0&f-1-9-0-0-0-0&f-1-10-0-0-0-0","sort_name":"","year_name":"推理&搞笑&奇幻&恐怖&玄幻&古风&萌系&日常&治愈&烧脑","sort_url":"","year_url":"f-1-11-0-0-0-0&f-1-12-0-0-0-0&f-1-13-0-0-0-0&f-1-14-0-0-0-0&f-1-15-0-0-0-0&f-1-16-0-0-0-0&f-1-17-0-0-0-0&f-1-18-0-0-0-0&f-1-19-0-0-0-0&f-1-20-0-0-0-0","find_rule":"body&&#classList_1&&li;a&&title;img&&src;span&&Text;a&&href","searchFind":"body&&.am-avg-sm-3&&li;a&&title;a&&href;a&&Text;;img&&src","search_url":"https://m.mhba123.com/index/index/search.html?keyboard=**&page=fypage","titleColor":"#ffff00ff","group":"③漫画","detail_col_type":"text_2","detail_find_rule":"js:\r\nvar res = {};\r\nvar d = [];\r\nvar html=getResCode();\r\n//获取图片\r\nvar des_pic = parseDomForHtml(html, 'body&&.coverForm&&img&&src');\r\n// 获取作者\r\nvar des_author = parseDomForHtml(html,'body&&.info&&p,1&&Text');\r\n// 获取更新时间\r\nvar des_class = parseDomForHtml(html,'body&&.info&&p,3&&Text');\r\n// 获取简介\r\nvar des_desc = parseDomForHtml(html, 'body&&.detailContent&&Text');\r\n//获取列表\r\nvar conts=parseDomForHtml(html, 'body&&.chapters&&Html').match(/<li[\\s\\S]*?<\\/li>/g);\r\n// 获取更新\r\nvar des_update = parseDomForHtml(html,'body&&.info&&p,4&&Text');\r\n\r\nd.push({\r\n\ttitle: '更新：'+des_update+'\\n'+des_author+'\\n'+des_class,\r\n desc: des_desc,\r\n pic_url: des_pic,\r\n\turl: getUrl(),\r\n\tcol_type: 'movie_1_vertical_pic'\r\n});\r\nfor (var i = conts.length-1; i >=0 ; i--) {\r\nd.push({\r\n\t\t\t\ttitle: parseDomForHtml(conts[i],'a&&Text'),\r\n\t\t\t\turl: parseDom(conts[i],'a&&href')+'@lazyRule=.js:var htmls=fetch(input,{});var ty=parseDom(htmls,\"head&&script&&Html\");eval(ty);var tz=parseDom(htmls,\"body&&script,1&&Html\");eval(tz);var pics=[];for (var k in picdata) {pics.push(imgDomain+picdata[k]);};\"pics://\"+pics.join(\"&&\")'\n});\r\n}\r\nres.data = d;\r\nsetHomeResult(res);","sdetail_col_type":"text_2","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]"},{"last_chapter_rule":"","pageList":[],"title":"多多漫画","author":"仰望星空","version":1,"url":"https://apifans.dushimh.com/app2/comic/index?sort=fyAll&page=fypage","col_type":"movie_3","class_name":"上架&最新&热门&完结&连载","class_url":"&update&click&post＆＆filter=wanjie&list＆＆filter=lianzai","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js: var json = JSON.parse(getResCode());\nvar res = {};\nvar list = json.items;\nvar items = list.map(data => ({\n    title: data.name,\n    url: 'https://api.duoduomh.com/app2/comic/view?id=' + data.id,\n    desc: data.last_chapter_name,\n    pic_url: data.coverUrl,\n}));\nres.data = items;\nsetHomeResult(res);","searchFind":"js: var json = JSON.parse(getResCode());\nvar res = {};\nvar list = json.items;\nvar items = list.map(data => ({\n    title: data.name,\n    url: 'https://api.duoduomh.com/app2/comic/view?id=' + data.id,\n    desc: '更新至'+data.last_chapter_name,\n    content: data.description,\n    img: data.coverUrl\n}));\nres.data = items;\nsetSearchResult(res);","search_url":"https://apifans.dushimh.com/app2/comic/search?sort=click&page=fypage&keywords=**","titleColor":"#ffff00ff","group":"③漫画","detail_col_type":"text_2","detail_find_rule":"js: var json = JSON.parse(getResCode());\nvar res = {};\nvar d = [];\nvar j = json.data;\nd.push ({\n    title: '更至：'+j.last_chapter_name+'\\n'+'作者：'+j.author+'\\n'+'类别：'+j.category_data.name,\n    url: j.url,\n    desc: j.description,\n    pic_url: j.coverUrl,\n    col_type: 'movie_1_vertical_pic'\n});\nvar list = j.chapterGroup[0].chapters;\nfor (var i = 0;i < list.length ; i++) {\nd.push ({\n    title: list[i].name,\n    url: 'https://api.duoduomh.com/app2/chapter/view?id='+list[i].id+'@lazyRule=.js:var jsons = JSON.parse(fetch(input,{}));var pics = [];for (var k = 0; k < jsons.data.count; k++) {pics.push(jsons.data.imageArray[k])};\"pics://\"+pics.join(\"&&\")'\n})};\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"乐语漫画","author":"仰望星空","version":1,"url":"https://m.leyuman.com/fyAll/fypage.html","col_type":"movie_3","class_name":"已完结&连载中&最近更新&排行榜","class_url":"page/wanjie&page/lianzai&page/new&page/hot","area_name":"少年&少女&青年&女性&真人","area_url":"list/shaonian&list/shaonv&list/qingnian&list/nvxing&list/zhenren","sort_name":"","year_name":"大陆&日本&韩国&欧美&香港&台湾&其他","sort_url":"","year_url":"list/dalu&list/riben&list/hanguo&list/oumei&list/xianggang&list/taiwan&list/qita","find_rule":"body&&.tbox_m&&li;a&&title;mip-img&&src;span&&Text;a&&href","searchFind":"body&&.tbox_m&&li;a&&title;a&&href;span&&Text.js:'更新至'+input;*;mip-img&&src","search_url":"https://m.leyuman.com/search/**/fypage.html","group":"③漫画","detail_col_type":"text_2","detail_find_rule":"js:var res = {};\nvar d = [];\nvar html=getResCode()\n\n//获取图片\nvar des_pic = parseDom(html, 'body&&.dbox&&mip-img&&src');\n// 获取标题\nvar des_title = parseDomForHtml(html, 'body&&.act&&p&&Text');\n// 获取简介\nvar des_desc = parseDomForHtml(html, 'body&&.data&&Text').split('开')[0];\n//获取列表\nvar conts = parseDom(html, 'body&&.list_block&&Html').match(/li[\\s\\S]*?<\\/li>/g);\n\nd.push({\n\ttitle: des_title,\n desc: des_desc,\n pic_url: des_pic,\n\turl: getUrl(),\n\tcol_type: 'movie_1_vertical_pic'\n});\nif (conts !=null){\nfor (var i = conts.length-1 ; i >=0;i--) {\nd.push({\n\t\t\t\ttitle: parseDomForHtml(conts[i],'a&&Text'),\n\t\t\t\turl: parseDom(conts[i],'a&&href') + '@lazyRule=.js:var htmls=fetch(input,{});var ty=parseDom(htmls,\"body&&script,3&&Html\");eval(ty);var picss=JSON.parse(z_img);var pics=[];for (var k in picss) {if (picss[k].indexOf(\"http\")>-1){pics.push(picss[k]);}else{pics.push(\"https://img.shishi-life.com/\"+picss[k]);};};\"pics://\"+pics.join(\"&&\")'})}\n} else {d.push({title: '暂无漫画源'});}\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"text_2","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"蒂亚漫画","author":"仰望星空","version":1,"url":"https://m.diya1.com/list/fyAll/?page=fypage","col_type":"movie_3","class_name":"已完结&连载中","class_url":"wanjie&lianzai","area_name":"少年漫画&少女漫画&青年漫画","area_url":"shaonian&shaonv&qingnian","sort_name":"","year_name":"日本&大陆&香港&台湾&欧美&韩国&其他","sort_url":"","year_url":"riben&dalu&hongkong&taiwan&oumei&hanguo&qita","find_rule":"body&&.col_3_1&&li;.txtA&&Text;img&&src;.info&&Text.js:input.split(':')[1];a&&href","searchFind":"body&&#update_list&&.itemBox;a,1&&Text;a&&href;.coll&&Text;.itemTxt&&Text;img&&src","search_url":"https://m.diya1.com/search/?keywords=**&page=fypage","group":"③漫画","detail_col_type":"text_2","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html=getResCode();\n//获取图片\nvar des_pic = parseDomForHtml(html, 'body&&.pic&&img&&src');\n// 获取作者\nvar des_author = parseDomForHtml(html,'body&&.sub_r&&p&&Text');\n// 获取更新状态\nvar des_update = parseDomForHtml(html,'body&&.Drama&&li,-2&&a&&Text');\n// 获取简介\nvar des_desc = parseDomForHtml(html, 'body&&.txtDesc&&p&&Text').split('：')[1];\n//获取列表\nvar conts=parseDomForHtml(html, 'body&&.Drama&&Html').match(/<li[\\s\\S]*?<\\/li>/g);\n// 获取类别\nvar des_class = parseDomForHtml(html,'body&&.sub_r&&p,1&&Text');\n\nd.push({\n\ttitle: '更新：'+des_update+'\\n'+'来源：'+des_author+'\\n'+'类别：'+des_class,\n desc: des_desc,\n pic_url: des_pic,\n\turl: getUrl(),\n\tcol_type: 'movie_1_vertical_pic'\n});\n\nif (conts !=null){\nfor (var i = 0; i <  conts.length-1 ; i++) {\nd.push({\n\t\t\t\ttitle: parseDomForHtml(conts[i],'a&&Text'),\n\t\t\t\turl: parseDom(conts[i],'a&&href')+'@lazyRule=.js:var htmls=fetch(input.replace(\"m\",\"www\"),{});var ty=parseDomForHtml(htmls,\"body&&script&&Html\");eval(ty);var pics=[];for (var k = 0; k < chapterImages.length;k++) {pics.push(chapterImages[k])};\"pics://\"+pics.join(\"&&\")'\n});\n}\n} else {d.push({title: '暂无漫画源',url:getUrl()});}\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"js:\nvar json = JSON.parse(getResCode());\nlog(json);\r\nvar list = json.data;\nvar title = list.chapter_title;\nsetResult(title);","pageList":[],"title":"漫客栈","author":"Moonquakes","version":0,"url":"https://comic.mkzcdn.com/search/filter/?audience=0&order=fysort&page_num=fypage&page_size=18&theme_id=fyclass;get;utf-8;{User-Agent@okhttp/3.11.0}","col_type":"movie_3","class_name":"全部&修真&霸总&恋爱&校园&冒险&搞笑&生活&热血&架空&后宫&玄幻&悬疑&恐怖&灵异&动作&科幻&战争&古风&穿越&竞技&励志&同人&真人","class_url":"0&2&1&3&4&5&6&7&8&9&10&12&13&14&15&16&17&18&19&20&21&23&24&26","area_name":"","area_url":"","sort_name":"推荐&最热&最新","year_name":"","sort_url":"3&1&2","year_url":"","find_rule":"js:\nvar d = [];\n\nvar html = JSON.parse(getResCode()).data.list;\nfor (var i in html) {\n    d.push({\n        title: html[i].title,\n        img: html[i].cover+'!cover-400-x',\n        desc:html[i].chapter_title.split(' ')[0],\n        url: 'https://comic.mkzcdn.com/comic/info/?comic_id=' + html[i].comic_id +\"#immersiveTheme#\",\n        col_type: 'movie_3'\n    })\n}\nsetResult(d);","searchFind":"js:\nvar d = [];\n\nvar html = JSON.parse(getResCode()).data.list;\nfor (var i in html) {\n    d.push({\n        title: html[i].title,\n        img: html[i].cover+'!cover-400-x',\n        desc:html[i].chapter_title,\n        url: 'https://comic.mkzcdn.com/comic/info/?comic_id=' + html[i].comic_id +\"#immersiveTheme#\",\n        col_type: 'movie_3'\n    })\n}\nsetResult(d);","search_url":"https://comic.mkzcdn.com/search/keyword/?keyword=**&page_num=fypage&page_size=20","group":"③漫画","detail_col_type":"text_2","detail_find_rule":"js:\nvar d = [];\n\nvar html = JSON.parse(getResCode()).data;\n    d.push({\n        title: html.chapter_title,\n        desc: html.content,\n        url: html.cover+'!cover-400-x',\n        pic: html.cover+'!cover-400-x',\n        col_type: 'movie_1_vertical_pic_blur'\n    })\nvar list = 'https://comic.mkzcdn.com/chapter/v1/?comic_id='+html.comic_id;\nvar listp = JSON.parse(request(list,{}));\nvar list = listp.data;\nfor (let x of list) {\nd.push ({\n    title: x.title,\n    url: 'https://comic.mkzcdn.com/chapter/content/v1/?chapter_id='+x.chapter_id+'&comic_id='+html.comic_id+'&format=1&quality=1&sign=7654646ad52298f233aef4080cd6d6e6&type=1&uid=47975599'+`@lazyRule=.js:var jsons = JSON.parse(fetch(input,{}));var list=jsons.data.page;var pics=[];for(var i in list){pics.push(list[i].image);}\"pics://\"+pics.join(\"&&\")`\n})};\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://z3.ax1x.com/2021/11/02/IFT1fg.png"},{"last_chapter_rule":"js:\nvar html = getResCode();\nvar list = parseDomForArray(html, '.list&&ul&&a');\nvar title = parseDomForHtml(list[list.length-1],'a&&Text');\nsetResult('最新：'+title);","pageList":[],"title":"听中国𝔥","author":"Hood&Zruiry","version":4,"url":"https://www.tingchina.com/fyAll_fypage.htm;get;gbk","col_type":"movie_3_marquee","class_name":"玄幻奇幻&鬼故事小说&网络热门&都市言情&历史军事&经典纪实&官场商战&通俗文学&刑侦推理&科幻有声&武侠小说&人物传记","class_url":"yousheng/lei_135&yousheng/lei_129&yousheng/lei_146&yousheng/lei_125&yousheng/lei_130&yousheng/lei_127&yousheng/lei_126&yousheng/lei_132&yousheng/lei_134&yousheng/lei_128&yousheng/lei_133&yousheng/lei_131","area_name":"单田芳评书&田连元评书&袁阔成评书&连丽如评书&张少佐评书&孙一评书&田战义评书&粤语评书&其他评书","area_url":"pingshu/lei_136&pingshu/lei_141&pingshu/lei_143&pingshu/lei_137&pingshu/lei_145&pingshu/lei_140&pingshu/lei_142&pingshu/lei_144&pingshu/lei_139","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\r\nvar html = getResCode();\n\n//列表\nvar list = parseDomForArray(html,'.zimulist&&dl');\n\nfor(var i=0;i<list.length;i++){\n\nd.push({\n\ntitle: parseDomForHtml(list[i],'a,1&&Text').replace(/《|》/g,''),\npic_url: parseDom(list[i],'img&&src'),\ndesc: parseDomForHtml(list[i],'dd--a&&Text').replace('[','共').replace(']',''),\nurl: parseDom(list[i],'a&&href').replace(/lei.*htm\\//,'') + \";get;gbk\"\n  });\n}\n\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\r\nvar res = {};\r\nvar d = [];\r\nvar html = getResCode();\n\n//列表\nvar list = parseDomForArray(html,'.main02&&ul&&li');\n\nfor(var i=0;i<list.length;i++){\n\nd.push({\n\ntitle: parseDomForHtml(list[i],'a&&Text'),\npic_url: parseDom(list[i],'img&&src'),\nurl: parseDom(list[i],'a&&href') + \";get;gbk\"\n\n  });\n}\n\r\nres.data = d;\r\nsetHomeResult(res);","search_url":"https://www.tingchina.com/search1.asp?mainlei=0&lei=0&keyword=**;get;gbk","titleColor":"#ff228be6","group":"④耳音","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\n\n//获取简介\nif(MY_URL.indexOf('yousheng')!=-1){\nvar des_desc = parseDomForHtml(html,'.book02--strong&&Text');\n}else{\nvar des_desc = parseDomForHtml(html,'.book02&&Text');\n}\n\nd.push({\r\n\n//作者、类型等\ntitle: parseDomForHtml(html,'.book01&&li,4&&Text')+'\\n'+parseDomForHtml(html,'.book01&&li,5&&Text')+'\\n'+parseDomForHtml(html,'.book01&&li,6&&Text'),\n\n//描述\r\ndesc: parseDomForHtml(html, '.book01&&li,7&&Text'),\n\n//图片地址\npic_url: parseDom(html, '.book01&&img&&src'),\r\nurl: getUrl(),\r\ncol_type: 'movie_1_vertical_pic'});\n\n//限制简介长度\nif (des_desc.length > 110) {\ndes_desc = des_desc.replace(des_desc, des_desc.substring(0, 110) + \"……\");\n}\n\n//输出简介\nd.push({\ntitle: des_desc.replace(/ /g,''),\ncol_type: 'long_text'});\n\nd.push({col_type:'line'});\n\n//选集列表\nvar list=parseDomForArray(html, 'body&&.list&&ul&&a');\n\n//线路名称\nd.push({\ntitle:'播放列表(共' + list.length+ '集)',\nurl:'toast://点什么点 (｡•ˇ‸ˇ•｡)',\ncol_type: 'text_center_1'});\n\nvar lazy = `@lazyRule=.js: var html = fetch(input, {headers:{'content-type':'charst=gb2312'}});var js = fetch('https://img.tingchina.com/play/h5_jsonp.asp', {headers:{'referer':'` + MY_URL + `'}});'https://t3344t.tingchina.com' + html.match(/fileUrl= \\\"(.*?)\\\"/)[1] + '?' + js.match(/(key=.*?)\\\"/)[1]`;\n\nvar listx = list[0];\nif(list.length>1){listx = list[1]}\n\n//选集名称\nfor(var i in list){\nd.push({\ntitle: parseDomForHtml(list[i],'a&&Text'),\nurl: parseDom(list[i],'a&&href').replace(/disp.*htm\\//,'') + lazy,\ncol_type: parseDomForHtml(listx,'a&&Text').length>5?'flex_button':'text_3'});\n}\n\nfor(var b=0;b<5;b++){\nd.push({col_type: 'big_blank_block'});}\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"js:\nvar html = getResCode();\nvar list = parseDomForArray(html, '#playlist&&ul&&li');\nvar title = parseDomForHtml(list[list.length-1],'a&&Text');\nsetResult('最新：'+title);","pageList":[],"title":"海盗听书𝔥","author":"Hood","version":5,"url":"https://www.tingxiaoshuo.cc/category/fyclass/fyarea.html?page=fypage","col_type":"movie_1_vertical_pic","class_name":"玄幻奇幻&都市言情&宫斗女频&官场商战&武侠仙侠&刑侦推理&探险科幻&重生穿越&恐怖惊悚&文学历史","class_url":"6&7&8&9&10&11&12&13&14&15","area_name":"新书&更新&人气&连载&完结","area_url":"1&2&3&4&5","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\r\nvar html = getResCode();\n\n//列表\nvar list = parseDomForArray(html,'.list-works&&li');\n\nfor(var i=0;i<list.length;i++){\n\nd.push({\n\ntitle: parseDomForHtml(list[i],'a&&title').replace(\"有声小说\",\"\") + \"\\n(\" + parseDomForHtml(list[i],'.ztlz&&Text') +\")\",\npic_url: parseDom(list[i],'img&&data-original'),\ndesc: \"简介：\" + parseDomForHtml(list[i],'.list-book-des&&Text').replace(/.*?介绍:/,\"\"),\nurl: parseDom(list[i],'a&&href')\n\n  });\n}\n\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":".list-works&&li;\na&&title!有声小说;\na&&href;\n.list-book-cs&&Text.js:input.replace(/：/g,' ');\n.list-book-des&&Text.js:'简介：'+input.replace(/.*?小说：/,'').replace(/.*?介绍:/,'');\nimg&&data-original","search_url":"https://www.tingxiaoshuo.cc/pc/index/search.html?keyword=**&page=fypage","titleColor":"#ff228be6","group":"④耳音","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\n\n//获取简介\nvar des_desc = '简介：'+parseDomForHtml(html, '.book-des&&.div-b&&Text').replace(/.*?小说：/,'').replace(/.*?介绍:/,'');\n\nd.push({\r\n\n//作者、类型等\ntitle: parseDomForHtml(html,'.book-info&&dd,2&&Text')+'\\n'+parseDomForHtml(html,'.book-info&&dd,3&&Text').replace(/ /g,'')+'\\n'+parseDomForHtml(html,'.book-info&&dd,4&&Text'),\n\n//描述\r\ndesc: parseDomForHtml(html, '.book-info&&dd,5&&Text'),\n\n//图片地址\npic_url: parseDom(html, '.book-img&&img&&src'),\r\nurl: getUrl(),\r\ncol_type: 'movie_1_vertical_pic'});\n\n//限制简介长度\nif (des_desc.length > 110) {\ndes_desc = des_desc.replace(des_desc, des_desc.substring(0, 110) + \"……\");\n}\n\n//输出简介\nd.push({\ntitle: des_desc,\ncol_type: 'long_text'});\n\nd.push({col_type: 'line'});\n\n//选集列表\nvar list = parseDomForArray(html, '#playlist&&ul&&li');\n\nvar img_alt = parseDomForHtml(html, '.book-img&&img&&alt').replace(/\\|[\\s\\S]*/,'');\n\n//线路名称\nd.push({\ntitle:'播放列表(共' + list.length+ '集)',\nurl:'toast://点什么点 (｡•ˇ‸ˇ•｡)',\ncol_type: 'text_center_1'});\n\n//选集名称\nfor(var i in list){\n\nvar title = parseDomForHtml(list[i],'a&&Text').replace(img_alt,'').replace(/《|》|_|【|】/g,'');\n\nif (title.length > 16) {\ntitle = title.substring(0,16);\n}\n\nd.push({\ntitle: title,\nurl: parseDom(list[i],'a&&href') +`@lazyRule=#playurl&&value.js:var json = JSON.parse(fetch(\"https://www.tingxiaoshuo.cc\"+input,{})); json.src.split(\"*\").map(item => String.fromCharCode(item)).join(\"\") + \"#isMusic=true#\"`,\ncol_type: parseDomForHtml(list[0],'a&&Text').length>3?'text_2':'text_3'});\n}\n\nfor(var b=0; b<5; b++){\nd.push({col_type: 'big_blank_block'});}\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[]"},{"last_chapter_rule":"js:\nvar html = getResCode();\nvar list = parseDomForArray(html, '#playlist&&li');\nvar title = parseDomForHtml(list[list.length-1],'a&&Text');\nsetResult('最新：'+title);","pageList":[],"title":"听书宝𝔥","author":"Hood","version":8,"url":"https://m.tingshubao.com/list/fyAll_fypage.html[firstPage=https://m.tingshubao.com/list/fyAll.html];get;gbk","col_type":"movie_3_marquee","class_name":"有声小说&玄幻武侠&都市小说&言情小说&惊悚悬疑&历史军事&网游科幻","class_url":"1&27&28&29&31&32&33","area_name":"   评 书   &粤语评书","area_url":"2&41","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".book-ol&&li;\n.book-title&&Text;\nimg&&data-original.js:\"http://m.tingshubao.com\"+input;\n.book-meta&&Text;\na&&href","searchFind":".book-ol&&li;\n.book-title&&Text;\na&&href;\n.book-meta&&Text;\n.book-desc&&Text;\nimg&&data-original.js:\"http://m.tingshubao.com\"+input","search_url":"https://m.tingshubao.com/search.asp?page=fypage&searchword=**&searchtype=-1;get;gbk","titleColor":"#ff228be6","group":"④耳音","detail_col_type":"movie_1_vertical_pic","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\n\nvar _x5 = $.toString(() => {\n    var urls = _getUrls()\n    for (var k in urls) {\n        if (urls[k].match(/\\.mp3\\?key/)) {\n            fy_bridge_app.log(urls[k])\n            return urls[k]\n        }\n    }\n});\n\n//获取简介\nvar des_desc = parseDomForHtml(html, '.book-des&&Text');\n\nd.push({\r\n\n//作者、类型等\ntitle: parseDomForHtml(html,'.book-cell&&div,1&&Text')+'\\n'+parseDomForHtml(html,'.book-cell&&div,2&&Text')+'\\n'+parseDomForHtml(html,'.book-cell&&div,3&&Text'),\n\n//描述\r\n//desc: parseDomForHtml(html,'.binfo&&p,4&&Text'),\n\n//图片地址\npic_url: parseDom(html,'img&&src').replace(\"https\",\"http\"),\r\nurl: getUrl(),\r\ncol_type: 'movie_1_vertical_pic'});\n\n//限制简介长度\nif (des_desc.length > 110) {\ndes_desc = des_desc.replace(des_desc, des_desc.substring(0, 110) + \"……\");\n}\n\n//输出简介\nd.push({\ntitle: des_desc,\ncol_type: 'long_text'});\n\nd.push({col_type: 'line'});\n\n//选集列表\nvar list = parseDomForArray(html, '#playlist&&li');\n\n//线路名称\nd.push({\ntitle:'播放列表(共' + list.length+ '集)',\nurl: 'toast://点什么点 (｡•ˇ‸ˇ•｡)',\ncol_type: 'text_center_1'});\n\nvar listx = list[0];\nif(list.length>1){listx = list[1]}\n\n//选集名称\nfor(var i in list){\nd.push({\ntitle: parseDomForHtml(list[i],'a&&Text'),\nurl: \"x5Rule://\" + parseDom(list[i], 'a&&href') + \"@\" + _x5,\ncol_type: parseDomForHtml(listx,'a&&Text').length>5?'flex_button':'text_3'});\n}\n\nfor(var b=0; b<5; b++){\nd.push({col_type: 'big_blank_block'});}\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1_vertical_pic","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]"},{"last_chapter_rule":"js:\nvar html = getResCode();\nvar list = parseDomForArray(html, '.video_list&&a');\nvar title = parseDomForHtml(list[list.length-1],'a&&Text');\nsetResult('最新：'+title);","pageList":[],"title":"爱听网𝔥","author":"Hood&流氓","version":7,"url":"http://m.lovetingwang.com/category/fyAll/fypage.html","col_type":"movie_3_marquee","class_name":"玄幻奇幻&刑侦推理&武侠修真&经典纪实&都市言情&历史军事&通俗文学&游戏竞技&官场商场&科幻有声&灵异惊悚&人物传记&其他类型","class_url":"xhqh&xztl&wxxz&jdjs&dsyq&lsjs&tswx&yxjj&gcsz&kehuan&lyjs&rwcj&qita","area_name":"单田芳&田连元&袁阔成&连丽如&张少佐&孙一&田战义&刘兰芳&王玥波&孙岩&粤语&其他","area_url":"shantianfang&tianlianyuan&yuankuocheng&lianliru&zhangshaozuo&sunyi&tianzhanyi&liulanfang&wangyuebo&sunyan&yueyu&other","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".comiis_mh_twlist&&li;\n.twlist_ecspan&&Text;\nimg&&src;\na,2&&Text;\na&&href","searchFind":".comiis_mh_twlist&&li;\n.twlist_ecspan&&Text;\na&&href;\na,2&&Text.js:'播音：'+input;\n.twlist_info&&Text;\nimg&&src","search_url":"http://m.lovetingwang.com/search/result.html?searchkey=**&page=fypage","titleColor":"#ff228be6","group":"④耳音","detail_col_type":"movie_1","detail_find_rule":"js:\r\nvar res = {};\r\nvar d = [];\r\nvar html = getResCode();\r\n\r\nvar list = parseDom(html, '.video_list&&Html').match(/<a[\\s\\S]*?<\\/a>/g);\n\nvar des_desc = parseDomForHtml(html, 'head&&meta,6&&content'); //获取简介\n\r\nd.push({\r\n title: '主播：'+parseDomForHtml(html,'head&&meta,9&&content')+'\\n'+'类型：'+parseDomForHtml(html,'head&&meta,8&&content'),\r\n desc: '更新到:'+parseDomForHtml(html, 'head&&meta,15&&content'),\r\n pic_url: parseDom(html, 'head&&meta,7&&content'),\r\n url: getUrl(),\r\n col_type: 'movie_1_vertical_pic'\r\n});\n    if (des_desc.length > 110) {\n            des_desc = des_desc.replace(des_desc, des_desc.substring(0, 110) + \"......\");\n      } //限制简介长度\n\nd.push({\n          title: '简介：'+des_desc,\n          col_type: 'long_text'\n}); //输出简介\n\r\nd.push({col_type:'line'});\n\nd.push({\n          title:'播放列表(共' + list.length+ '集)',\n          url:'toast://点什么点 (｡•ˇ‸ˇ•｡)',\n          col_type: 'text_center_1'\n});\n\nfor (var j = 0; j < list.length; j++) {\nd.push({\r\n    title: parseDomForHtml(list[j],'a&&Text'),\r\n    url: parseDom(list[j],'a&&href') + `@lazyRule=#bofang_box&&script&&Html.js:eval(input);player_data.url+'#isVideo=true#'`,\n    col_type: 'flex_button'});\r\n}\n\r\nfor(var b=0;b<5;b++){\nd.push({col_type: 'big_blank_block'});}\n\r\nres.data = d;\r\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]"},{"last_chapter_rule":"js:\nvar html = getResCode();\nvar list = parseDomForArray(html, '.playlist&&a');\nvar title = parseDomForHtml(list[list.length-1],'a&&Text');\nsetResult('最新：第'+title+'集');","pageList":[],"title":"爱书音𝔥","author":"Hood","version":3,"url":"https://mip.ishuyin.com/list-fyAll-fypage-add_time-DESC-text.html","col_type":"movie_1_vertical_pic","class_name":"玄幻&都市&文学&武侠&言情&穿越&推理&恐怖&职场&悬疑&军事&历史","class_url":"2&8&38&7&1&36&39&5&41&33&40&16","area_name":"单田芳&刘兰芳&田连元&袁阔成&连丽如&张少佐&田战义&孙一&袁田&王玥波&其它评书","area_url":"42&43&44&45&46&47&48&49&53&55&50","sort_name":"娱乐&两性&百家讲坛&儿童","year_name":"耽美剧&爱情剧&BL剧&古风剧&校园剧&现代剧","sort_url":"35&34&31&37","year_url":"10&12&14&51&52&54","find_rule":".book_slist&&.bookbox;\n.bookinfo&&Text.js:input.replace(' 作者：','——').replace(/(简介.*)|\\|/g,'').replace('状态：','｜');\nimg&&src;\n.intro_line&&Text!简介： ;\ndiv&&bookid.js:'https://mip.ishuyin.com/player.php?mov_id='+input+'&look_id=1&player=mp'","searchFind":".book_slist&&.bookbox;\nh4&&Text;\ndiv&&bookid.js:'https://mip.ishuyin.com/player.php?mov_id='+input+'&look_id=1&player=mp';\n.author&&Text;\n.intro_line&&Text;\nimg&&src","search_url":"https://mip.ishuyin.com/search.php?page=fypage&keywords=**;get","titleColor":"#ff228be6","group":"④耳音","detail_col_type":"text_3","detail_find_rule":".playlist&&a;\na&&Text.js:'第'+input+'集';\n*;\n*;\na&&href.js:'https://mip.ishuyin.com/'+input","sdetail_col_type":"text_3","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]"},{"last_chapter_rule":"js:\nvar html = getResCode();\nvar list = parseDomForArray(html, '#playlist&&li');\nvar title = parseDomForHtml(list[list.length-1],'a&&Text');\nsetResult('最新：'+title);","pageList":[],"title":"天天评书网𝔥","author":"Hood","version":3,"url":"https://m.pingshu365.com/sm/fyAll_fypage.html;get;gbk","col_type":"text_center_1","class_name":"恐怖悬疑&盗墓探险&官场刑侦&历史军事&科学教育&经典文学&儿童读物&仙侠玄幻&都市言情&传统武侠&职场商战&人物传记&纪实文学&其他类别","class_url":"304&305&307&309&315&314&312&306&308&310&311&313&316&300","area_name":"单田芳&袁阔成&田连元&刘兰芳&王玥波&连丽如&张少佐&其他评书","area_url":"293&294&295&297&296&298&299&302","sort_name":"","year_name":"相声小品&百家讲坛&戏曲","sort_url":"","year_url":"303&317&318","find_rule":".top_list&&a;\na--span&&Text;\n*;\nspan&&Text;\na&&href","searchFind":".top_list&&a;\na--span&&Text;\na&&href.js:input.replace('..','https://m.pingshu365.com');\nspan&&Text;\n*;\n*","search_url":"https://m.pingshu365.com/search/1.asp?page=fypage&keyword=**&stype=;get;gbk","titleColor":"#ff228be6","group":"④耳音","detail_col_type":"text_2","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\n\n//获取简介\nvar des_desc = parseDomForHtml(html, '.book_intro&&Text');\n\nd.push({\r\n\n//作者、类型等\ntitle: '作者：'+parseDomForHtml(html,'.info&&span,1&&Text')+'\\n'+'播音：'+parseDomForHtml(html,'.info&&span,0&&Text')+'\\n'+'标签：'+parseDomForHtml(html,'.info&&span,4&&Text'),\n\n//描述\r\ndesc: '更新：'+parseDomForHtml(html, '.info&&span,3&&Text'),\n\n//图片地址\npic_url: parseDom(html, '.bookimg&&img&&src'),\r\nurl: getUrl(),\r\ncol_type: 'movie_1_vertical_pic'});\n\n//限制简介长度\nif (des_desc.length > 110) {\ndes_desc = des_desc.replace(des_desc, des_desc.substring(0, 110) + \"……\");\n}\n\n//输出简介\nd.push({\ntitle: '简介：'+des_desc,\ncol_type: 'long_text'});\n\nd.push({col_type:'line'});\n\n//选集列表\nvar list=parseDomForArray(html, 'body&&#playlist&&li');\n\n//线路名称\nd.push({\ntitle:'播放列表(共' + list.length+ '集)',\nurl:'toast://点什么点 (｡•ˇ‸ˇ•｡)',\ncol_type: 'text_center_1'});\n\n//选集名称\nfor(var i in list){\nd.push({\ntitle:parseDomForHtml(list[i],'a&&Text'),\nurl:parseDom(list[i],'a&&href'),\ncol_type: parseDomForHtml(list[0],'a&&Text').length>6?'flex_button':'text_3'});\n}\n\r\nfor(var b=0;b<5;b++){\nd.push({col_type: 'big_blank_block'});}\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"text_2","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]"},{"last_chapter_rule":"js:\nvar html = getResCode();\nvar list = parseDomForArray(html, '#playlist&&li');\nvar title = parseDomForHtml(list[list.length-1],'a&&Text');\nsetResult('最新：'+title);","pageList":[],"title":"中华听书网𝔥","author":"Hood","version":4,"url":"https://m.tingshucn.com/list/fyAll-fypage.html","col_type":"movie_3_marquee","class_name":"玄幻·网游&都市·言情&仙侠·武侠&恐怖·悬疑&穿越·同人&历史·军事&刑侦·推理&社会·情感&人文·社科&官场·商战&其他·类别","class_url":"1&2&3&4&5&6&7&8&9&10&11","area_name":"儿童·读物&幽默·笑话&健康·养生&文学·名著&相声·戏剧&名家·评书&职业·技能&外语·学习&财经·时评&广播剧","area_url":"12&13&14&15&16&17&18&19&20&21","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"#cateList_wap&&.bookbox;\nh4&&Text;\nimg&&orgsrc;\n.update--span&&Text;\n.bookbox&&bookid.js:'https://m.tingshucn.com/book/'+input+'.html'","searchFind":"#cateList_wap&&.bookbox;\nh4&&Text;\n.bookbox&&bookid.js:'https://m.tingshucn.com/book/'+input+'.html';\n.update&&Text!{else};\n.intro_line&&Text;\nimg&&orgsrc","search_url":"https://m.tingshucn.com/search.php?page=fypage&searchword=**&searchtype=","titleColor":"#ff228be6","group":"④耳音","detail_col_type":"text_2","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\n\n//获取简介\nvar des_desc = parseDomForHtml(html, '.book_intro&&Text').replace(/ /g,'');\n\nd.push({\r\n\n//作者、类型等\ntitle: '作者：'+parseDomForHtml(html,'.info&&span,1&&Text')+'\\n'+'播音：'+parseDomForHtml(html,'.info&&span,0&&Text')+'\\n'+'更新：'+parseDomForHtml(html,'.info&&span,3&&Text'),\n\n//描述\r\ndesc: '状态：'+parseDomForHtml(html, '.info&&span,2&&Text'),\n\n//图片地址\npic_url: parseDom(html, '.bookimg&&img&&src'),\r\nurl: getUrl(),\r\ncol_type: 'movie_1_vertical_pic'});\n\n//限制简介长度\nif (des_desc.length > 110) {\ndes_desc = des_desc.replace(des_desc, des_desc.substring(0, 110) + \"……\");\n}\n\n//输出简介\nd.push({\ntitle: '简介：'+des_desc,\ncol_type: 'long_text'});\n\nd.push({col_type:'line'});\n\n//选集列表\nvar list=parseDomForArray(html, 'body&&#playlist&&li');\n\n//线路名称\nd.push({\ntitle:'播放列表(共' + list.length+ '集)',\nurl:'toast://点什么点 (｡•ˇ‸ˇ•｡)',\ncol_type: 'text_center_1'});\n\n//选集名称\nfor(var i in list){\nd.push({\ntitle:parseDomForHtml(list[i],'a&&Text'),\nurl:parseDom(list[i],'a&&href')+`@lazyRule=.booksite&&script&&Html.js:decodeURIComponent(input.match(/http.*?\\.mp3/)[0])`,\ncol_type: parseDomForHtml(list[0],'a&&Text').length>6?'flex_button':'text_3'});\n}\n\r\nfor(var b=0;b<5;b++){\nd.push({col_type: 'big_blank_block'});}\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"text_2","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]"},{"pageList":[],"title":"听书合集𝔥","author":"Hood","version":5,"url":"hiker://fyAll","col_type":"text_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js: \nvar titles=\n[\n'喜马拉雅@@https://m.ximalaya.com/',\n'懒人听书@@http://www.lrts.me/',\n'蜻蜓FM@@https://m.qingting.fm/',\n'荔枝FM@@https://m.lizhi.fm/',\n'猫耳FM@@https://m.missevan.com/',\n'听书宝@@https://m.tingshubao.com/',\n'听神马@@https://m.tingsm.com/',\n'听中国@@https://www.tingchina.com/',\n'爱书音@@https://mip.ishuyin.com/',\n'有声书@@http://guotu.audio.3eol.com.cn/Mobile/Index',\n'幻听网@@http://m.ting89.com/',\n'爱听网@@http://m.lovetingwang.com/',\n'恋听网@@https://m.ting55.com/',\n'聚听网@@https://www.yousxs.com/',\n'听书网@@https://m.ting22.com/',\n'评书网@@http://m.zgpingshu.com/',\n'天天评书@@https://m.pingshu365.com/',\n'我听评书@@https://m.5tps.com/',\n'56听书@@http://m.ting56.com/',\n'56听书2@@https://m.ting56.cc/',\n'74听书@@http://m.ting74.com/',\n'88听书@@https://m.88tingshu.com/',\n'爱听书@@http://m.2uxs.com/',\n'520听书@@http://wap.fushu520.com/',\n'456听书@@http://www.ting456.com/',\n'天天听书@@https://tingbook.cc/',\n'麻辣听书@@https://m.malatingshu.com/',\n'海洋听书@@http://m.ychy.com/',\n'六月听书@@http://m.6yueting.com/',\n'有声听书@@https://m.ysts8.vip/',\n'中华听书@@https://m.tingshucn.com/',\n'乾坤听书@@https://m.xinqiankun.com/',\n'千千静听@@http://www.qqjt5.com/',\n'海盗听书@@http://www.tings8.com',\n'畅悦听书@@http://www.tac.cc/',\n'有声小说吧@@http://m.ysxs8.com/'\n];\n\nvar t=titles;\nvar res={};\nvar d=[];\n\nd.push({\n    title:\"““””<b>\"+'<span style=\"color: #6699FF\">'+'听书资源：'+'</span></b>',\n    url: 'toast://点什么点 (｡•ˇ‸ˇ•｡)',\n    col_type: 'text_1'\n});\n\nfor(var i=0;i<t.length;i++)\n{\n   var k=t[i].split(/\\s*@@\\s*/);\n   if(k.length<2)continue;\n   var r={};\n   r.title=k[0];\n   r.url=k[1];\n   r.col_type='text_3';\n   d.push(r);\n}\n\nfor(var b=0;b<3;b++)\n{\n   d.push({\n    col_type: 'big_blank_block'});\n}\n\nres.data = d;\nsetHomeResult(res);","searchFind":"","search_url":"","titleColor":"#fff20c00","group":"④耳音","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":""},{"last_chapter_rule":"js:\nvar html = getResCode();\nvar list = parseDomForArray(html, '.playlist&&.plist&&a');\nvar title = parseDomForHtml(list[list.length-1],'a&&Text');\nsetResult('最新：第'+title+'集');","pageList":[],"title":"恋听网𝔥","author":"Hood&发粪涂墙&帅√`人才","version":6,"url":"https://m.ting55.com/fyAll/page/fypage[firstPage=https://m.ting55.com/fyAll];get;utf-8;{User-Agent@Mozilla 5.0}","col_type":"movie_3","class_name":"推荐&玄幻&武侠&都市&言情","class_url":"tuijian&category/1&category/2&category/3&category/4","area_name":"科幻&穿越&推理&恐怖&惊悚","area_url":"category/6&category/5&category/7&category/8&category/9","sort_name":"","year_name":"历史&相声&评书&讲坛&经典","sort_url":"","year_url":"category/10&category/12&category/14&category/13&category/11","find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\n\n//列表\nvar list = parseDomForArray(html,'.clist&&a');\n\nfor(var i=0;i<list.length;i++){\n\nd.push({\n\ntitle: parseDomForHtml(list[i],'h3&&Text'),\npic_url: parseDom(list[i],'img&&src'),\ndesc: parseDomForHtml(list[i],'p,0&&Text').replace('作者：',''),\nurl: parseDom(list[i],'a&&href')\n\n  });\n}\n\nres.data = d;\nsetHomeResult(res);","searchFind":".slist&&a;\nh3&&Text;\na&&href;\np,2&&Text;\ndd--h3--p,2&&Text;\nimg&&src","search_url":"https://m.ting55.com/search/**/page/fypage;get;utf-8;{User-Agent@Mozilla 5.0}","titleColor":"#ff228be6","group":"④耳音","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\n\nvar lazy = `@lazyRule=.js:var html = request(input);var bookid=parseDomForHtml(html,'meta[name=\"_b\"]&&content');var ispay=parseDomForHtml(html,'meta[name=\"_p\"]&&content');var page=parseDomForHtml(html,'meta[name=\"_cp\"]&&content');var xt=parseDomForHtml(html,'meta[name=\"_c\"]&&content');var json=JSON.parse(request('https://m.ting55.com/glink', {headers: {'Referer': input,'User-Agent': MOBILE_UA,'xt':xt}, method: 'POST', body: 'bookId='+bookid+'&isPay='+ispay+'&page='+page }));if(json.url!=\"\"){json.url}else if(json.ourl!=\"\"){json.ourl}else{'toast://操作过快了，被限制访问，等一小会儿再试吧'}`\n\n//线路列表\nvar tabs = parseDomForArray(html, 'body&&.playlist');\n\n//全部选集列表\nvar conts = parseDomForArray(html, 'body&&.playlist');\n\n//获取简介\nvar des_desc = parseDomForHtml(html, '.intro&&Text');\n\nd.push({\n\n//作者、类型等\ntitle: parseDomForHtml(html,'.binfo&&p,1&&Text')+'\\n'+parseDomForHtml(html,'.binfo&&p,2&&Text')+'\\n'+parseDomForHtml(html,'.binfo&&p,0&&Text'),\n\n//描述\ndesc: parseDomForHtml(html, '.binfo&&p,4&&Text'),\n\n//图片地址\npic_url: parseDom(html, '.bookinfo&&img&&src'),\nurl: getUrl(),\ncol_type: 'movie_1_vertical_pic'});\n\n//限制简介长度\nif (des_desc.length > 110) {\ndes_desc = des_desc.replace(des_desc, des_desc.substring(0, 110) + \"……\");\n}\n\n//输出简介\nd.push({\ntitle: '简介：'+des_desc,\ncol_type: 'long_text'});\n\nd.push({col_type:'line'});\n\nfor(var i in tabs){\n\n//选集列表\nvar list=parseDomForArray(conts[i], '.plist&&a');\n\n//线路名称\nd.push({\ntitle:parseDomForHtml(tabs[i],'h2&&Text'),\nurl:'toast://点什么点 (｡•ˇ‸ˇ•｡)',\ncol_type: 'text_center_1'});\n\n//选集名称\nfor(var j in list){\nd.push({\ntitle: '第'+parseDomForHtml(list[j],'a&&Text')+'集',\nurl: parseDom(list[j],'a&&href')+lazy,\ncol_type: parseDomForHtml(list[0],'a&&Text').length>6?'flex_button':'text_3'\n});\n\n}\n}\nfor(var b=0;b<5;b++){\nd.push({col_type: 'big_blank_block'});}\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"专属电台","author":"","version":14,"url":"https://fm.%71%71.com/album/fyyear","col_type":"text_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"企鹅点歌台&蕊希电台&晨曦微露&一路向北&许嵩电台","sort_url":"","year_url":"rd002NEekz2YrFWg&rd002U9A344Gk4j3&rd003wM8Gv1Agm2f&rd003CCC8Z2gnaa2&rd000tlcc12PDr6k","find_rule":"js:\nvar d = [];\n\nfunction lazy(url) {\n    return 'x5Rule://' + url + '@' + $.toString(() => {\n        var urls = _getUrls()\n        for (let i in urls) {\n            if (urls[i].match(/\\.mp3|\\.m4a/i)) {\n                return urls[i] + '&memoryPosition=full#isMusic=true#'\n            }\n        }\n        try {\n            document.querySelector(\".btn--play\").click()\n        } catch (e) {}\n\n    })\n}\n\nfunction dateFormat(date, text) {\n    let simpleDateFormat = new java.text.SimpleDateFormat(text);\n    return String(simpleDateFormat.format(date));\n}\nlet window = {}\nlet rd = pdfh(getResCode(), \"body&&script&&Html\")\neval(rd)\nlet arr = window.__INITIAL_STATE__.syncData.albumPageData.showList.showList\n\nfor (let it of arr) {\n    let img;\n    try {\n        img = it.cover.urls[\"0\"].url\n    } catch (e) {\n\n    }\n    d.push({\n        title: it.name.trim(),\n        url: lazy(\"https://fm.qq.com/show/\" + it.showID),\n        //url: it.audioURL.urls[\"0\"].url + \";{Referer@\" + getUrl() + \"&&User-Agent@Android&&Host@fm.%71%71.com}\",\n        col_type: img != null ? \"movie_1_vertical_pic\" : \"text_1\",\n        desc: dateFormat(it.createTime * 1000, \"yyyy-MM-dd HH:mm\"),\n        pic_url: img,\n        extra: {\n            //newWindow: true,\n            blockRules: [\".mp3\", \".m4a\"]\n        }\n    });\n}\n\n/*\nlet pic = pd(getResCode(),\"img&&src\")\nlet arr = pdfa(getResCode(), \".list&&li\");\nfor (let it of arr) {\n    d.push({\n        title: pdfh(it, \"h2&&Text\"),\n        url: lazy(pd(it, \"a&&href\")),\n        col_type: \"text_1\",\n        desc: pdfh(it, \".info&&Text\"),\n        pic_url: pic,\n        extra: {\n            //newWindow: true,\n            blockRules: [\".mp3\", \".m4a\"]\n        }\n    });\n}*/\nsetResult(d)","searchFind":"","search_url":"","titleColor":"","group":"④耳音","detail_col_type":"text_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fbrup.365shengri.cn%2Ffe%2Fgoods%2F2015%2F12%2F02180332_4ce8fedb6856dd35b4cfecc5448f9e53.jpg&refer=http%3A%2F%2Fbrup.365shengri.cn&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1640688438&t=870982cbe884c59b2b4340877005ad19"},{"last_chapter_rule":"","pageList":[],"title":"QQ音乐·Q","author":"发粪涂墙","version":0,"url":"https://c.y.%71%71.com/node/pc/wk_v15/top.html","col_type":"card_pic_2","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar tabs = [];\n\nvar conts = parseDomForArray(html, 'body&&.mod_toplist');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&.toplist__item'))\n    tabs.push(parseDomForHtml(conts[i], 'h2&&Text'))\n}\n\nfunction setTabs(tabs, vari) {\n    for (var i = 0; i < tabs.length; i++) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'flex_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    for (var j in list) {\n        d.push({\n        //    title: parseDomForHtml(list[j], 'span&&Text'),\n            img: parseDom(list[j], 'img&&src'),\n            desc: '0',\n            url: 'https://u.y.qq.com/cgi-bin/musicu.fcg?format=json&inCharset=utf8&outCharset=utf-8&platform=yqq.json&needNewCode=0&data=%7B%22comm%22%3A%7B%22cv%22%3A1602%2C%22ct%22%3A20%7D%2C%22toplist%22%3A%7B%22module%22%3A%22musicToplist.ToplistInfoServer%22%2C%22method%22%3A%22GetDetail%22%2C%22param%22%3A%7B%22topid%22%3A'+parseDomForHtml(list[j], 'a&&data-tid').split('/')[1]+'%2C%22num%22%3A300%2C%22period%22%3A%22%22%7D%7D%7D&_='+new Date().getTime(),\n            //   col_type: list.length > 3 ? 'text_4' : 'text_2'\n        });\n    }\n}\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nsetResult(d);","searchFind":"js:\nsetResult(JSON.parse(getResCode()).data.song.list.map(data => ({\n    title: data.title,\n    // img: data.cover,\n     desc: data.singer[0].title,\n    url: 'https://i.y.qq.com/v8/playsong.html?ADTAG=ryqq.songDetail&songmid=' + data.mid + '&songid=0&songtype=0' + `@lazyRule=.js:parseDom(request(input),'audio&&src')||JSON.parse(fetch('https://api.vvhan.com/api/music?id='+input.match(/songmid=(.*)&songid/)[1]+'&type=song&media=tencent')).mp3url||'toast://收费音乐，有空解决'`,\n})));","search_url":"https://c.y.%71%71.com/soso/fcgi-bin/client_search_cp?ct=24&qqmusic_ver=1298&new_json=1&remoteplace=txt.yqq.top&aggr=1&cr=1&catZhida=1&lossless=0&flag_qc=0&p=fypage&n=30&w=**&cv=4747474&ct=24&format=json&inCharset=utf-8&outCharset=utf-8&notice=0&platform=yqq.json&needNewCode=0&uin=0&hostUin=0&loginUin=0&_=.js:input+new Date().getTime()","titleColor":"#fff20c00","group":"④耳音","detail_col_type":"text_1","detail_find_rule":"js:\nsetResult(JSON.parse(getResCode()).toplist.data.songInfoList.map(data => ({\n    title: data.title,\n    desc: data.singer[0].title,\n    url: $('https://api.vvhan.com/api/music?id=' + data.mid + '&type=song&media=tencent').lazyRule(() => {\n        return JSON.parse(fetch(input)).mp3url+'#'+new Date().getTime()\n  // url: 'https://i.y.qq.com/v8/playsong.html?ADTAG=ryqq.songDetail&songmid=' + data.mid + '&songid=0&songtype=0' + `@lazyRule=.js:parseDom(request(input),'audio&&src')||JSON.parse(fetch('https://api.vvhan.com/api/music?id='+input.match(/songmid=(.*)&songid/)[1]+'&type=song&media=tencent')).mp3url||'toast://收费音乐，有空解决'`,\n    })\n})));","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[]","icon":"https://y.qq.com/mediastyle/mod/mobile/img/logo.svg"},{"last_chapter_rule":"","pageList":[],"title":"清风DJ·Q","author":"发粪涂墙","version":0,"url":"https://m.vvvdj.com/sort/cfyAll/0-0-0-0-fypage.html","col_type":"text_1","class_name":"的高串烧&慢摇串烧&中文DISCO&外文DISCO","class_url":"1&2&3&4","area_name":"中文CLUB&外文CLUB&电音HOUSE","area_url":"5&6&7","sort_name":"","year_name":"酒吧潮歌&交谊舞曲","sort_url":"","year_url":"8&9","find_rule":"js:\r\nvar d = [];\nvar list = parseDomForArray(getResCode(), '.list_con_new&&li');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'p&&Text'),\r\n       desc: parseDomForHtml(list[j], '.corhui&&Text'),\r\n       url: parseDom(list[j], 'a&&href') + `@lazyRule=script,-3&&Html.js:eval(input.split('$')[0]);playurl`\r\n  });\r\n}\r\nsetResult(d);","searchFind":"js:\r\nvar d = [];\nvar list = parseDomForArray(getResCode(), '.list_con_new&&li');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'p&&Text'),\r\n       desc: parseDomForHtml(list[j], '.corhui&&Text'),\r\n       url: parseDom(list[j], 'a&&href') + `@lazyRule=script,-3&&Html.js:eval(input.split('$')[0]);playurl`\r\n  });\r\n}\r\nsetResult(d);","search_url":"https://m.vvvdj.com/search/so?key=**&cid=0&list=2&page=fypage","titleColor":"#ff228be6","group":"④耳音","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":"","pages":"[]","icon":"https://m.vvvdj.com/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"苹果DJ·Q","author":"发粪涂墙","version":0,"url":"http://m.pingguodj.com/fyAll.html;get;UTF-8;{User-Agent@Mozilla/5.0 (Linux；； Android 10)}","col_type":"movie_3","class_name":"          🎦视频          &          🎶音乐          ","class_url":"video&music","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\nvar list = parseDomForArray(getResCode(), '.topic&&li');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'img&&alt'),\r\n       pic_url: parseDom(list[j], 'img&&src'),\r\n       url: parseDom(list[j],'a&&href').split('1.html')[0]+'fypage.html'\r\n  });\r\n}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.glist||.video&&li||a');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'img&&alt'),\r\n       pic_url: parseDom(list[j], 'img&&src'),\r\n       url: parseDom(list[j],'a&&href') + '@lazyRule=source||audio&&src.js:\"http://st.chaoyindj.com/\"+input.split(\"com/\")[1]'\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetSearchResult(res);","search_url":"http://m.pingguodj.com/dance/so/key?key=**&p=fypage;get;UTF-8;{User-Agent@Mozilla/5.0 (Linux；； Android 10)}","titleColor":"","group":"④耳音","detail_col_type":"movie_2","detail_find_rule":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.glist||.video&&li||a');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'img&&alt'),\r\n       pic_url: 'http://m.pingguodj.com'+parseDomForHtml(list[j], 'img&&onerror').split(\"'\")[1],\r\n       url: parseDom(list[j],'a&&href') + '@lazyRule=source||audio&&src.js:\"http://st.chaoyindj.com/\"+input.split(\"com/\")[1]'\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","sdetail_col_type":"movie_2","sdetail_find_rule":"","ua":"auto","preRule":""},{"last_chapter_rule":"","pageList":[],"title":"嗨瑶音乐网·Q","author":"发粪涂墙","version":0,"url":"http://www.92kk.com/dance/lists-id-fyAll-fypage.html;get;UTF-8;{User-Agent@Mozilla/5.0 (Windows NT 10.0)}","col_type":"movie_1_vertical_pic","class_name":"试音车载&酒吧串烧&劲爆舞曲&串烧车载","class_url":"26&23&22&5","area_name":"CLUB&HOUSE&酒吧潮曲&Disco","area_url":"33&34&35&36","sort_name":"伤感串烧&电音车载&车载连版&喊麦现场","year_name":"夜店视频&热舞视频&舞曲视频&车载故事","sort_url":"25&27&21&25","year_url":"55&56&16&6","find_rule":"js:\nvar d = [];\nvar list = parseDomForArray(getResCode(), '.share_list&&li:not(.title)');\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j], 'a&&Text'),\n       desc: parseDomForHtml(list[j], 'li--a&&Text'),\n       img: parseDom(list[j], 'img,-1&&src'),\n       url: parseDom(list[j], 'a&&href') + `@lazyRule=video||audio&&src`\n  });\n}\nsetResult(d);","searchFind":"js:\r\nvar d = [];\nvar list = parseDomForArray(getResCode(), '.share_list&&li:not(.title)');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'a&&Text'),\r\n       desc: parseDomForHtml(list[j], 'li--a&&Text'),\r\n       img: parseDom(list[j], 'img,-1&&src'),\r\n       url: parseDom(list[j], 'a&&href') + `@lazyRule=video||audio&&src`\r\n  });\r\n}\r\nsetResult(d);","search_url":"http://www.92kk.com/index.php/dance/so/key?key=**&cid=0&p=fypage;get;UTF-8;{User-Agent@Mozilla/5.0 (Windows NT 10.0)}","titleColor":"#fff20c00","group":"④耳音","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"text_center_1","sdetail_find_rule":"","ua":"pc","preRule":"","pages":"[]","icon":"http://m.92kk.com/favicon.ico"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"车影库·Q","author":"发粪涂墙","version":0,"url":"http://www.cheyingku.com/video/fyAll/fypage.html","col_type":"movie_2","class_name":"华语舞曲&欧美舞曲&抖音热门","class_url":"3&4&5","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar d = [];\nvar list = parseDomForArray(getResCode(), '.mv_list&&li');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'img&&alt'),\r\n       desc: parseDomForHtml(list[j], '.mv_xx&&Text'),\r\n       img: parseDom(list[j], 'img&&src'),\r\n       url: parseDomForHtml(list[j],'a&&href') + `@lazyRule=.js:'http:'+JSON.parse(fetch('http://www.cheyingku.com/skin/cheyingku/play.php?id='+input.match(/\\\\d+/),{headers:{'Referer':'http://www.cheyingku.com'}})).url`\r\n  });\r\n}\r\nsetResult(d);","searchFind":"js:\r\nvar d = [];\nvar list = parseDomForArray(getResCode(), '.mv_list&&li');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'img&&alt'),\r\n       desc: parseDomForHtml(list[j], '.mv_xx&&Text'),\r\n       img: parseDom(list[j], 'img&&src'),\r\n       url: parseDomForHtml(list[j],'a&&href') + `@lazyRule=.js:'http:'+JSON.parse(fetch('http://www.cheyingku.com/skin/cheyingku/play.php?id='+input.match(/\\\\d+/),{headers:{'Referer':'http://www.cheyingku.com'}})).url`\r\n  });\r\n}\r\nsetResult(d);","search_url":"http://www.cheyingku.com/search.php?key=**&pages=fypage","titleColor":"#003472","group":"④耳音","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":"","pages":"[]"},{"last_chapter_rule":"","pageList":[],"title":"DJ音乐盒·Q","author":"发粪涂墙","version":0,"url":"http://appxml.jyw8.com/fyclass_fyarea_fypage.xml","col_type":"movie_1_vertical_pic","class_name":"串烧&中文&慢摇&英文&交谊舞","class_url":"XCQS&ZWWQ&MHWQ&YWWQ&jiaoYi","area_name":"最新&原创&推荐&人气&热门&下载&精品&独家","area_url":"newUP&YC&TJ&PH&down&ding&JP&DuJia","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\r\nvar list = pdfa(getResCode(), 'plants&&PLANT');\r\nfor (var j in list) {\r\n    d.push({\r\n        title: pdfh(list[j], 'NAME&&Text'),\r\n        desc: '🕒' + pdfh(list[j], 'TIME&&Text') + '\\t\\t🎧' + pdfh(list[j], 'tingCount&&Text') + '\\t\\t' + pdfh(list[j], 'FILESIZE&&Text'),\r\n        pic_url: 'http://img.djyule.com/Pic120/' + pdfh(list[j], 'HYhomeID&&Text') + '.jpg',\r\n        url: pdfh(list[j], 'PLAYURL&&Text') + `@lazyRule=.js:'http://pc64-20.jyw8.com/'+input`\r\n    });\r\n}\r\nsetResult(d);","searchFind":"js:\nvar d = [];\r\nvar list = pdfa(getResCode(), 'plants&&PLANT');\r\nfor (var j in list) {\r\n    d.push({\r\n        title: pdh(list[j], 'NAME&&Text'),\r\n        desc: '🕒' + pdfh(list[j], 'TIME&&Text') + '\\t\\t🎧' + pdfh(list[j], 'tingCount&&Text') + '\\t\\t' + pdfh(list[j], 'FILESIZE&&Text'),\r\n        img: 'http://img.djyule.com/Pic120/' + pdfh(list[j], 'HYhomeID&&Text') + '.jpg',\r\n        url: pdfh(list[j], 'PLAYURL&&Text') + `@lazyRule=.js:'http://pc64-20.jyw8.com/'+input`\r\n    });\r\n}\r\nsetResult(d);","search_url":"http://appso.djyule.com/search.asp?keyName=**&upHY=&page=fypage","titleColor":"#fff20c00","group":"④耳音","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"if(!getVar('bfq')){putVar('bfq','1');}","pages":"[]","icon":"http://sj.djyule.com/img/logo.png"},{"last_chapter_rule":"","pageList":[],"title":"听音","author":"子丑寅卯","version":6,"url":"https://api.cntv.cn/newVideoset/getVideoAlbumListByPageIdTvty?serviceId=tvty&id=fyAll&p=fypage@&n=10&cb=cblist3","col_type":"movie_1_vertical_pic","class_name":"评书&悬疑&健康&警事","class_url":"PAGEfi6eQ0LXRP0F2MruYmat200828&PAGEdfca6fcG7STLxSjeBCmU201125&PAGEnUBwfxDuaWyigDcVbjvr200828&PAGEamuxeyNI770HqgG67FJc201125","area_name":"历史&文化&电视剧","area_url":"PAGEZEFdcHJXJL3hm8LIMyIT200828&PAGE75jPoBBgP47n5MSGzQsg201125&PAGEucQhBjWzSNBxC93UoCAt201126","sort_name":"","year_name":"解案&青少&戏曲","sort_url":"","year_url":"PAGESsDhkmHn8iz07VCAqiFS200828&PAGE9vqXqD5Hp4SvD4R9otsp210111&PAGEdDkUJqtxc6TS2KEhOiGN201125","find_rule":"js:\r\n\r\nvar d=[];\ntry{\nlet json=JSON.parse(getResCode().match(/\\((.*?)\\)/)[1]).data.list;\n\n\nfor(i in json){\n    d.push({\n       pic_url:json[i].image2,\n        title:json[i].title,\n       desc:'‘‘'+json[i].brief+'’’',\nurl:'https://api.cntv.cn/NewVideo/getVideoListByAlbumIdNew?id='+json[i].id+'&serviceId=tvty&pub=2&mode=2&p=fypage&n=100&sort=asc&cb=Callback1&cb=Callback1'\n    });\n}\n}catch(e){}\nsetResult(d);","searchFind":"","search_url":"","group":"④耳音","detail_col_type":"avatar","detail_find_rule":"js:\r\nvar d=[];\n\nvar _x5 = $.toString(() => {\n    //fba.log(fba.getUrls())\n    var urls = _getUrls()\n    for (var i in urls) {\n        if (urls[i].indexOf(\"gokey\")==-1&&urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)){\n            fy_bridge_app.log(urls[i])\n            return urls[i]+'#isMusic=true#'\n        }\n    }\n});\n\n\nlet json=JSON.parse(getResCode().match(/Callback.*\\((.*?)\\)/)[1]).data.list;\n\nfor(i in json){\n    d.push({\n       pic_url:json[i].image,\n        title:json[i].title,\n       url: 'x5Rule://' + json[i].url + '@' + _x5,\n\n    });\n}\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":"","pages":"[]","icon":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fpic.51yuansu.com%2Fpic2%2Fcover%2F00%2F34%2F22%2F5811543e32414_610.jpg&refer=http%3A%2F%2Fpic.51yuansu.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1638591623&t=18fa239c7aa8ed336e2dca27d76cfaa4"},{"last_chapter_rule":"","pageList":[],"title":"九酷音乐pc","author":"子丑寅卯","version":2,"url":"https://www.9ku.com/fyAll.htm","col_type":"avatar","class_name":"抖音&热歌&新歌&&&&","class_url":"douyin/bang&music/t_m_hits&music/t_new&&&&","area_name":"老歌&80&70&90&粤语&闽南语&&&","area_url":"laoge/500shou&laoge/80&laoge/70&laoge/90&laoge/yueyu&laoge/minnanyu&&&","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\r\ntry{\r\nvar list = parseDomForArray(getResCode(), '.mdBoxBd&&li');\nvar _x5 = $.toString(() => {\n    //fba.log(fba.getUrls())\n    var urls = _getUrls()\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)){\n            fy_bridge_app.log(urls[i])\n            return urls[i]+'#isMusic=true#'\n        }\n    }\n});\n\r\nfor (var j in list) {  \r\nd.push({       \r\ntitle: parseDomForHtml(list[j], 'a&&Text'),            \r\n//pic_url:pdfh(request(parseDom(list[j],'a&&href')),'.t-i&&img&&src'),   \npic_url:'https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fgss0.baidu.com%2F-vo3dSag_xI4khGko9WTAnF6hhy%2Fzhidao%2Fpic%2Fitem%2Feac4b74543a982263a321aea8c82b9014b90eb08.jpg&refer=http%3A%2F%2Fgss0.baidu.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1638696961&t=ae5fb9bd8b4f42ebc659e12582ee3e5c',    \r\nurl: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5\r\n});\r\n}\r\n}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\r\nvar res = {};\r\nvar d = [];\r\ntry{\r\nvar list = parseDomForArray(getResCode(), '.songList&&li');\n\r\nfor (var j in list) {  \r\nd.push({       \r\ntitle: parseDomForHtml(list[j], 'a&&Text'),            \r\n//pic_url:pdfh(request(parseDom(list[j],'a&&href')),'.t-i&&img&&src'),   \npic_url:'https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fgss0.baidu.com%2F-vo3dSag_xI4khGko9WTAnF6hhy%2Fzhidao%2Fpic%2Fitem%2Feac4b74543a982263a321aea8c82b9014b90eb08.jpg&refer=http%3A%2F%2Fgss0.baidu.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1638696961&t=ae5fb9bd8b4f42ebc659e12582ee3e5c',    \r\nurl: parseDom(list[j], 'a&&href') \r\n});\r\n}\r\n}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","search_url":"https://baidu.9ku.com/song/?key=**","group":"④耳音","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"js:\nvar  res  =   {};\nvar  d  =   [];\nvar _x5 = $.toString(() => {\n    //fba.log(fba.getUrls())\n    var urls = _getUrls()\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)){\n            fy_bridge_app.log(urls[i])\n            return urls[i]+'#isMusic=true#'\n        }\n    }\n});\n    d.push({       \n             title:'立即播放',\n               url: 'x5Rule://' + MY_URL+ '@' + _x5,\n          col_type:'text_center_1'\n    });\n\nres.data  =  d;\nsetHomeResult(res);","ua":"auto","preRule":"","pages":"[]","icon":"https://m.9ku.com/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"拾音人","author":"子丑寅卯","version":1,"url":"http://www.shiyinren.com/singer/page/fypage","col_type":"icon_round_4","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\r\ntry{\r\nvar list = parseDomForArray(getResCode(), '.nag&&.item');\r\nfor (var j in list) {  \r\nd.push({       \r\ntitle: parseDomForHtml(list[j], 'img&&alt'),           \r\npic_url: parseDom(list[j], 'img&&data-original'),       \r\nurl: parseDom(list[j],'a&&href') +'#immersiveTheme#'\r\n});\r\n}\r\n}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"","search_url":"http://www.shiyinren.com/so?q=**&nsid=4&page=fypage","group":"④耳音","detail_col_type":"movie_1_vertical_pic","detail_find_rule":"js:\r\nvar res = {};\r\nvar d = [];\r\ntry{\r\nvar list = parseDomForArray(getResCode(), '.nag&&.item');\n\nd.push({       \r\ntitle: parseDomForHtml(getResCode().replace(/\\/\\/imgcdn/g,'http://imgcdn'), '.author-info&&Html'),    \n//desc:pdfh(getResCode(),'.singer-thumb&&p&&Text'),       \r\n//pic_url: pd(getResCode(), '.singer-thumb&&img&&src'),       \ncol_type: 'rich_text',\nextra: {\n        textSize: 8,\n        click: true\n    }\n});\n\n\r\nfor (var j in list) {  \r\nd.push({       \r\ntitle: parseDomForHtml(list[j], 'h4&&Text'),           \r\npic_url: parseDom(getResCode(), '.singer-thumb&&img&&src'),       \r\nurl: parseDom(list[j],'a&&href')  +`@lazyRule=.js:request(input).match(/http.*?\\\\.mp3/)[0]`,\ncol_type: 'avatar'\r\n});\r\n}\r\n}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"http://static.170mv.com/wp-content/themes/beetube/images/logo.png"},{"last_chapter_rule":"","pageList":[],"title":"博看听书","author":"子丑寅卯","version":2,"url":"https://api.bookan.com.cn/voice/book/list?instance_id=25304&page=fypage&category_id=fyAll&num=24","col_type":"movie_3","class_name":"少年读物&儿童文学&国学经典&文艺少年&育儿心经&心理哲学","class_url":"1305&1304&1320&1306&1309&1310","area_name":"青春励志&历史小说&故事会","area_url":"1307&1312&1303","sort_name":"","year_name":"音乐戏剧&相声评书","sort_url":"","year_url":"1317&1319","find_rule":"js:\r\n\r\nvar d=[];\r\n\nlet json=JSON.parse(getResCode()).data.list;\nfor(let i of json){\n    d.push({\n        pic_url:i.cover,\n        title:i.name,\n        url:'https://api.bookan.com.cn/voice/album/units?album_id='+i.id+'&page=fypage&num=20&order=1'\n    });\n}\nsetResult(d);","searchFind":"js:\r\n\r\nvar d=[];\r\n\nlet json=JSON.parse(getResCode()).data.list;\nfor(let i of json){\n    d.push({\n        pic_url:i.cover,\n        title:i.name,\n        url:'https://api.bookan.com.cn/voice/album/units?album_id='+i.id+'&page=fypage&num=20&order=1'\n    });\n}\nsetResult(d);","search_url":"https://es.bookan.com.cn/api/v3/voice/book?instanceId=25304&keyword=**&pageNum=fypage&limitNum=20","titleColor":"#ffff00ff","group":"④耳音","detail_col_type":"text_1","detail_find_rule":"js:\r\n\r\nvar d=[];\r\n\nlet json=JSON.parse(getResCode()).data.list;\nfor(let i of json){\n    d.push({\n        title:i.title,\n        desc:'创建于'+i.created_at+'\\n'+'更新于'+i.updated_at+'▶️',\n        url:i.file\n    });\n}\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fpic1.cxtuku.com%2F00%2F04%2F72%2Fb4189ce2315a.jpg&refer=http%3A%2F%2Fpic1.cxtuku.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1637387526&t=e14be9211e6257f56fb7a972ef9444dc"},{"last_chapter_rule":"","pageList":[],"title":"天天评书网","author":"子丑寅卯","version":1,"url":"https://m.pingshu365.com/sm/fyAll_fypage.html;get;GBK","col_type":"text_1","class_name":"恐怖悬疑&盗墓探险&官场刑侦&历史军事&科学教育&经典文学&儿童读物&仙侠玄幻&都市言情&传统武侠&职场商战&人物传记&纪实文学&其他类别","class_url":"304&305&307&309&315&314&312&306&308&310&311&313&316&300","area_name":"单田芳&袁阔成&田连元&刘兰芳&王玥波&连丽如&张少佐&其他评书","area_url":"293&294&295&297&296&298&299&302","sort_name":"","year_name":"相声小品&百家讲坛&戏曲","sort_url":"","year_url":"303&317&318","find_rule":"body&&.top_list&&a;a&&Text;;;a&&href.js:input+'#immersiveTheme#'","searchFind":"body&&.top_list&&a;a&&Text;a&&href.js:input+'#immersiveTheme#'","search_url":"https://m.pingshu365.com/search/1.asp?page=fypage&keyword=**&stype=;get;GBK","titleColor":"#ffff00ff","group":"④耳音","detail_col_type":"movie_1_vertical_pic_blur","detail_find_rule":"js:\r\nvar res = {};\r\nvar d = [];\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/\\.mp3|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i]\n        }\n    }\n});\nvar html=getResCode();\nd.push({       \r\ntitle: parseDomForHtml(html, '.bookname&&Text'),       \r\ndesc: parseDomForHtml(html, '.info&&Text').split('标签')[0].replace('音质','\\n音质').replace('更新','\\n更新').replace('标签','\\n标签'),         \r\npic_url: parseDom(html,'.bookimg&&img&&src'),\r\n});\n\r\ntry{\r\nvar list = parseDomForArray(getResCode(), '#playlist&&li');\r\nfor (var j in list) {  \r\nd.push({       \r\ntitle: parseDomForHtml(list[j], 'a&&Text'),       \r\nurl: 'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5 ,\ncol_type: 'text_4'\n\r\n});\r\n}\r\n}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","icon":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimagev2.xmcdn.com%2Fgroup82%2FM01%2F45%2F4B%2FwKg5Il7gcnezwUdiAADefvOcinQ440.jpg%21strip%3D1%26quality%3D7%26magick%3Djpg%26op_type%3D5%26upload_type%3Dalbum%26name%3Dmobile_large%26device_type%3Dios&refer=http%3A%2F%2Fimagev2.xmcdn.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1637387277&t=3e7aa312e0babee1f9b1a5890ce19abe"},{"last_chapter_rule":"","pageList":[],"title":"田园音乐网","author":"子丑寅卯","version":0,"url":"http://www.tyqyyw.com/fyAll/page/fypage/","col_type":"movie_1_left_pic","class_name":"最新音乐&轻音乐&有声音乐&有声电台&音乐心情&专辑曲目&轻音乐MV&留言板&随机听音乐&FM电台","class_url":"&qingyinyue&yuansheng&diantai&shenghuo&wusun&mtv&about&random&fm","area_name":"3D音乐&伤感音乐&佛乐&八音盒&古风音乐&史上最优美的纯音乐&周杰伦&大自然音乐&小清新&庄重大气&异域风情&怀旧声音&悠扬的音乐&放松减压&新世纪&欢快愉悦&民谣&治愈系音乐&激情轻音&班得瑞&睡眠音乐&网络电台节目&胎教音乐&节奏&轻音乐MV&阳光音乐&静心音乐&魅惑电音","area_url":"tag/3d&tag/shanggan&tag/%e4%bd%9b%e4%b9%90&tag/bayinhe&tag/gufeng&tag/youmei&tag/%e5%91%a8%e6%9d%b0%e4%bc%a6&tag/daziran&tag/qingxin&tag/daqi&tag/yiyufengqing&tag/huaijiu&tag/youyang&tag/fangsong&tag/newage&tag/huankuai&tag/minyao&tag/zhiyu&tag/jiqing&tag/%e7%8f%ad%e5%be%97%e7%91%9e&tag/shuimian&tag/diantai&tag/taijiao&tag/%e8%8a%82%e5%a5%8f&tag/%e8%bd%bb%e9%9f%b3%e4%b9%90mv&tag/yangguang&tag/jingxin&tag/dianyin/","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\r\nvar list = parseDomForArray(getResCode(), '#post_container&&li');\r\nfor (var j in list) {  \r\nd.push({       \r\ntitle: parseDomForHtml(list[j], 'a&&title'),       \r\ndesc: parseDomForHtml(list[j], '.entry_post&&Text'),       \r\npic_url: parseDom(list[j], 'img&&src'),       \r\nurl: parseDom(list[j],'a&&href') +`@lazyRule=.js:pdfh(request(input),'source&&src')`\r\n});\r\n}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\r\nvar res = {};\r\nvar d = [];\r\nvar list = parseDomForArray(getResCode(), '#post_container&&li');\r\nfor (var j in list) {  \r\nd.push({       \r\ntitle: parseDomForHtml(list[j], 'a&&title'),       \r\ndesc: parseDomForHtml(list[j], '.entry_post&&Text'),       \r\npic_url: parseDom(list[j], 'img&&src'),       \r\nurl: parseDom(list[j],'a&&href') +`@lazyRule=.js:pdfh(request(input),'source&&src')`\r\n});\r\n}\r\nres.data = d;\r\nsetHomeResult(res);","search_url":"http://www.tyqyyw.com/page/fypage/?s=**","group":"④耳音","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"http://www.tyqyyw.com/wp-content/uploads/2021/10/qq.jpg"},{"last_chapter_rule":"","pageList":[],"title":"音乐由你榜","author":"LZX","version":0,"url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\n/** 无需下载APP，点返回即可。*/\nsetResult([{\n    col_type: \"x5_webview_single\",\n    url: \"https://yobang.tencentmusic.com/#/rankList\",\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true\n    }\n}])","searchFind":"","search_url":"","group":"④耳音","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"http://q1.qlogo.cn/g?b=qq&nk=707994924&s=640"},{"last_chapter_rule":"","pageList":[],"title":"听小说ᴺᵐ","author":"Namo","version":16,"url":"https://www.tingchina.com/yousheng/lei_fyAll_fypage.htm;GET;gb2312","col_type":"movie_3_marquee","class_name":"玄幻奇幻&恐怖惊悚&网络热门&都市言情&历史军事&经典纪实","class_url":"135&129&146&125&130&127","area_name":"官场商战&通俗文学&刑侦推理&科幻有声&武侠小说&人物传记","area_url":"126&132&134&128&133&131","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\n\n//列表\nvar list = parseDomForArray(html, '.zimulist&&dl');\n\nfor (var i = 0; i < list.length; i++) {\n\n    d.push({\n\n        title: parseDomForHtml(list[i], 'dd&&Text'),\n        pic_url: parseDom(list[i], 'img&&src'),\n        url: parseDom(list[i], 'a&&href')\n\n    });\n}\n\nres.data = d;\nsetHomeResult(res);","searchFind":".singerlist1&&li;a&&Text;a&&href;","search_url":"https://www.tingchina.com/search1.asp?mainlei=0&lei=0&keyword=**;GET;gb2312","titleColor":"#ff228be6","group":"④耳音","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\n\n//获取简介\nvar des_desc = '简介：' + parseDomForHtml(html, '.book02&&Text').replace(/.*?介绍:/, '');\n\nd.push({\n\n    //作者、类型等\n    title: parseDomForHtml(html, '.book01&&li,5&&Text') + '\\n' + parseDomForHtml(html, '.book01&&li,4&&Text').replace(/ /g, '') + '\\n' + parseDomForHtml(html, '.book01&&li,-1&&Text'),\n\n    //描述\n    desc: parseDomForHtml(html, '.book02&&Text'),\n\n    //图片地址\n    pic_url: parseDom(html, '.book01&&img&&src'),\n    url: getUrl(),\n    col_type: 'movie_1_vertical_pic'\n});\n\n//限制简介长度\nif (des_desc.length > 110) {\n    des_desc = des_desc.replace(des_desc, des_desc.substring(0, 110) + \"……\");\n}\n\n//输出简介\nd.push({\n    title: des_desc,\n    col_type: 'long_text'\n});\n\nd.push({\n    col_type: 'line'\n});\n\n//选集列表\nvar list = parseDomForArray(html, '.list&&ul&&li:has(a)');\n\n//线路名称\nd.push({\n    title: '播放列表(共' + list.length + '集)',\n    url: 'toast://点什么点 (｡•ˇ‸ˇ•｡)',\n    col_type: 'text_center_1'\n});\n\n//选集名称\nfor (var i in list) {\n\n    var title = parseDomForHtml(list[i], 'a&&Text');\n\n    if (title.length > 16) {\n        title = title.substring(0, 16);\n    }\n\n    d.push({\n        title: title,\n        url: 'x5Rule://' + parseDom(list[i], 'a&&href') + '@' + $.toString(() => {\n            let div = document.querySelector(\"#playdiv audio\");\n            if (div != null) {\n                return div.getAttribute(\"src\")\n            }\n        }),\n        col_type: parseDomForHtml(list[0], 'a&&Text').length > 3 ? 'text_2' : 'text_3'\n    });\n}\n\nfor (var b = 0; b < 5; b++) {\n    d.push({\n        col_type: 'big_blank_block'\n    });\n}\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"田园音乐","author":"子丑寅卯&顺","version":4,"url":"hiker://empty#http://www.tyqyyw.com/分类/page/fypage/","col_type":"movie_1_vertical_pic","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\naddListener(\"onClose\", $.toString(() => {\n\tclearVar('fyclass_sel');\n\tclearVar('fyclass_se');\n\tclearVar('搜索');\n}))\nvar d = [];\n//------分类及替换-------//\nconst fyclass_cont = '最新音乐&轻音乐&有声音乐&有声电台&音乐心情&专辑曲目&MTV&3D音乐&伤感音乐&佛乐&八音盒&古风音乐&优美纯音乐&周杰伦&大自然音乐&小清新&庄重大气&异域风情&怀旧声音&悠扬的音乐&放松减压&新世纪&欢快愉悦&民谣&治愈系音乐&激情轻音&班得瑞&睡眠音乐&网络电台节目&胎教音乐&节奏&轻音乐MV&阳光音乐&静心音乐&魅惑电音';\nconst fyclass_list = '&qingyinyue&yuansheng&diantai&shenghuo&wusun&mtv&tag/3d&tag/shanggan&tag/%e4%bd%9b%e4%b9%90&tag/bayinhe&tag/gufeng&tag/youmei&tag/%e5%91%a8%e6%9d%b0%e4%bc%a6&tag/daziran&tag/qingxin&tag/daqi&tag/yiyufengqing&tag/huaijiu&tag/youyang&tag/fangsong&tag/newage&tag/huankuai&tag/minyao&tag/zhiyu&tag/jiqing&tag/%e7%8f%ad%e5%be%97%e7%91%9e&tag/shuimian&tag/diantai&tag/taijiao&tag/%e8%8a%82%e5%a5%8f&tag/%e8%bd%bb%e9%9f%b3%e4%b9%90mv&tag/yangguang&tag/jingxin&tag/dianyin/';\n//------传递所选中的选项-------//\nconst fyclass_sel = getVar(\"fyclass_sel\", fyclass_cont.split('&')[0]);\nconst fyclass_se = getVar(\"fyclass_se\", fyclass_list.split('&')[0]);\nconst fyclass_conts = fyclass_cont.split('&');\nconst fyclass_lists = fyclass_list.split('&');\nlet fyclass_data = [];\nfor (let i in fyclass_conts) {\n\tfyclass_data.push(fyclass_conts[i]);\n}\nvar fyclass_jsda = [];\nfor (let i in fyclass_lists) {\n\tfyclass_jsda.push(fyclass_lists[i]);\n}\n//链接替换分类\nvar urll = MY_URL.split('#')[1].replace('分类', fyclass_se);\nvar page = MY_URL.match(/page\\/(.*?)\\//)[1];\n//------分类刷新------//\nif (page ==1) {\n\tfor(let i=0;i<10;i++){d.push({col_type: \"blank_block\"})}\n\tfor (let i = 0; i < fyclass_data.length; i++) {\n\t\tlet title = fyclass_data[i] == fyclass_sel ? '““””<b><font color=#1AB16B>' + fyclass_data[i] + '</font></b>' : fyclass_data[i];\n\t\td.push({\n\t\t\ttitle: title,\n\t\t\turl: $(\"#noLoading#\").lazyRule((fyclass_data, fyclass_jsda) => {\n\t\t\t\tclearVar('搜索');\n\t\t\t\tputVar(\"fyclass_sel\", fyclass_data);\n\t\t\t\tputVar(\"fyclass_se\", fyclass_jsda);\n\t\t\t\trefreshPage(false);\n\t\t\t\treturn \"hiker://empty\"\n\t\t\t}, fyclass_data[i], fyclass_jsda[i]),\n\t\t\tcol_type: 'scroll_button'\n\t\t});\n\t}\n\td.push({\n\t\ttitle: 'FM',\n\t\turl: 'http://www.tyqyyw.com/fm/',\n\t\tcol_type: \"text_2\"\n\t});\n\td.push({\n\t\ttitle: 'About',\n\t\turl: 'http://www.tyqyyw.com/about/',\n\t\tcol_type: \"text_2\"\n\t});\n\td.push({\n\t\turl: \"putVar('搜索',input);refreshPage(false)\",\n\t\tcol_type: \"input\"\n\t})\n\tvar random = request('http://www.tyqyyw.com/random/').match(/\\d+/g);\n\tvar sj = 'http://www.tyqyyw.com/' + random + '/';\n\tvar tt=pdfh(request(sj), '.article_container&&h1&&Text');\n\td.push({\n\t\ttitle: '““””<font color=#48D1CC>' + \"♪\"+tt + '</font>',\n\t\tcol_type: \"flex_button\",\n\t\turl: $(sj).rule((sj) => {\n\t\t\tvar d = [];\n\t\t\td.push({\n\t\t\t\ttitle: '♪播放',\n\t\t\t\turl: pdfh(request(sj), '.context&&source&&src'),\n\t\t\t\tcol_type: \"text_center_1\"\n\t\t\t});\n\t\t\td.push({\n\t\t\t\ttitle: pdfh(request(sj), '.context--script&&Html'),\n\t\t\t\tcol_type: \"rich_text\",\n\t\t\t});\n\t\t\tsetResult(d)\n\t\t}, sj),\n\t});\n}\n//-----一级页面-------//\nvar sh = getVar(\"搜索\");\ntry {\n\tif (sh) {\n\t\turll =\"http://www.tyqyyw.com/page/\" + page + \"/?s=\" + sh;\n\t\tvar col = \"movie_1_vertical_pic_blur\"\n\t} else {\n\t\tvar col = \"movie_1_vertical_pic\"\n\t}\n\tvar html = request(urll);\n\tvar list = pdfa(html, '#post_container&&li');\n\tif(list.length !=\"\") {\n    \tfor (let i in list) {\n    \t\td.push({\n    \t\t\ttitle: parseDomForHtml(list[i], 'a&&title'),\n    \t\t\tdesc: parseDomForHtml(list[i], '.entry_post&&Text'),\n    \t\t\tpic_url: parseDom(list[i], 'img&&src'),\n    \t\t\turl: pd(list[i], 'a&&href') + `@rule=js: let d = [];d.push({title:'♪播放',url:pdfh(getResCode(),'.context&&source&&src'),col_type:\"text_center_1\"});d.push({title:pdfh(getResCode(),'.context--script&&Html'),col_type:\"rich_text\"});setResult(d);`,\n    \t\t\tcol_type: col\n    \t\t});\n    \t}\n\t}else{\n    \tvar tips=\"暂无更多\";\n    \tif (sh) var tips=\"以上为搜到的全部内容\";\n    \td.push({\n\t\t\ttitle: '““””<small><font color=gray>' + tips+ '</font></small>',\n\t\t\turl: \"hiker://empty\",\n\t\t\tcol_type: \"text_center_1\",\n\t\t\textra: {lineVisible: false}\n\t\t});\n\t}\n} catch (e) {}\nsetResult(d);","searchFind":"js:\r\nvar d = [];\r\nvar list = parseDomForArray(getResCode(), '#post_container&&li');\r\nfor (var i in list) {  \r\nd.push({       \r\ntitle: parseDomForHtml(list[i], 'a&&title'),       \r\ndesc: parseDomForHtml(list[i], '.entry_post&&Text'),       \r\npic_url: parseDom(list[i], 'img&&src'),       \r\nurl: pd(list[i], 'a&&href') + `@rule=js:var d = [];d.push({title:'♪播放',url:pdfh(getResCode(),'.context&&source&&src'),col_type:\"text_center_1\"});d.push({title:pdfh(getResCode(),'.context--script&&Html'),col_type:\"rich_text\",extra:{textSize:16}});setResult(d);`,\r\n});\r\n}\r\nsetResult(d);","search_url":"http://www.tyqyyw.com/page/fypage/?s=**","group":"④耳音","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"https://files.catbox.moe/cy36ba.jpg"},{"last_chapter_rule":"","pageList":[],"title":"蜻蜓FM","author":"xxs","version":1,"url":"https://www.qingting.fm/channels/fyclass/fypage[firstPage=https://www.qingting.fm/channels/fyclass]","col_type":"movie_1_vertical_pic","class_name":"观棋有语","class_url":"387255","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\nvar _x5 = $.toString(() => {\n    fba.log(fba.getUrls())\n    var urls = _getUrls()\n    for (var i in urls) {\n        if (urls[i].match(/\\.m4a|\\.mp4|\\.m3u8/)) {\n            fy_bridge_app.log(urls[i])\n            return urls[i].replace('?skipl=1', '')\n        }\n    }\n});\n\nvar list = parseDomForArray(getResCode(), 'body&&.program-row-root');\n\nvar pic = parseDomForHtml(getResCode(), 'body&&.bgImg&&style');\nif (pic.indexOf('jpg') != -1) {\n    pic = 'https:' + pic.substring(pic.indexOf('image:url(') + 10, pic.indexOf('jpg') + 3);\n} else {\n    pic = 'https:' + pic.substring(pic.indexOf('image:url(') + 10, pic.indexOf('png') + 3);\n}\nfor (var j in list) {\n    d.push({\n        title: parseDomForHtml(list[j], 'p&&title'),\n        extra: {\n            newWindow: true\n        },\n        desc: \"时长\" + parseDomForHtml(list[j], '.col2&&Text') + \"\\n播放量\" + parseDomForHtml(list[j], '.col3&&Text') + \"\\n更新时间\" + parseDomForHtml(list[j], '.col4&&Text'),\n        pic_url: pic,\n        url: \"x5Rule://\" + parseDom(list[j], '.pTitle&&href') + '@' + _x5,\n        //parseDom(list[j], '.pTitle&&href'),\n        extra: {\n            blockRules: ['qtfm.*.m4a']\n        }\n    })\n}\n\nres.data = d;\nsetHomeResult(res);","chapter_find":"","movie_find":"","searchFind":"","search_url":"","group":"④耳音","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":"","pages":"[]","icon":"https://pic.qtfm.cn/qt-msite/logo.png"},{"last_chapter_rule":"js:\nvar html = getResCode();\nvar list = parseDomForArray(html, '#playlist&&li');\nvar title = parseDomForHtml(list[list.length-1],'a&&Text');\nsetResult('最新：'+title);","pageList":[],"title":"中文听书𝔥","author":"Hood","version":0,"url":"https://m.tingzh.com/list/fyAll-fypage.html","col_type":"movie_3_marquee","class_name":"玄幻&武侠&都市&言情&科幻&历史&军事&推理&恐怖&惊悚&广播","class_url":"1&2&3&4&5&9&10&6&7&8&29","area_name":"儿童&财经&评书&相声&网游&诗歌&戏曲&笑话&粤语&通俗&百家讲坛","area_url":"27&12&13&14&11&30&34&31&33&32&28","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"#cateList_wap&&.bookbox;\nh4&&Text;\nimg&&orgsrc;\n.update--span&&Text;\n.bookbox&&bookid.js:\"https://m.tingzh.com/book/\"+input+\".html\"","searchFind":"#cateList_wap&&.bookbox;\nh4&&Text;\n.bookbox&&bookid.js:\"https://m.tingzh.com/book/\"+input+\".html\";\n.update--span&&Text!{else};\n.intro_line&&Text;\nimg&&orgsrc","search_url":"https://m.tingzh.com/search.php?page=fypage&searchword=**&searchtype=","titleColor":"#ff228be6","group":"④耳音","detail_col_type":"movie_1","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\n\n//获取简介\nvar des_desc = \"简介：\"+parseDomForHtml(html, '.book_intro&&Text').replace(/[\\s]/g,\"\");\n\nd.push({\r\n\n//作者、类型等\ntitle: \"作者：\"+parseDomForHtml(html,'.info&&span,0&&Text')+'\\n播音：'+parseDomForHtml(html,'.info&&span,1&&Text')+'\\n状态：'+parseDomForHtml(html,'.info&&span,2&&Text'),\n\n//描述\r\ndesc: \"更新：\"+parseDomForHtml(html,'.info&&span,3&&Text'),\n\n//图片地址\npic_url: parseDom(html, '.bookimg&&img&&src'),\r\nurl: getUrl(),\r\ncol_type: 'movie_1_vertical_pic'});\n\n//限制简介长度\nif (des_desc.length > 110) {\ndes_desc = des_desc.replace(des_desc, des_desc.substring(0, 110) + \"……\");\n}\n\n//输出简介\nd.push({\ntitle: des_desc,\ncol_type: 'long_text'});\n\nd.push({col_type: 'line'});\n\n//选集列表\nvar list = parseDomForArray(html, '#playlist&&li');\n\n//线路名称\nd.push({\ntitle: '播放列表(共' + list.length+ '集)',\nurl: 'toast://点什么点 (｡•ˇ‸ˇ•｡)',\ncol_type: 'text_center_1'});\n\nvar listx = list[0];\nif(list.length>1){listx = list[1]}\n\n//选集名称\nfor(var i in list){\nd.push({\ntitle: parseDomForHtml(list[i],'a&&Text'),\nurl: parseDom(list[i], 'a&&href') + `@lazyRule=.booksite&&script&&Html.js:var url=input.match(/now=unescape\\\\(\"(.*?)\"/)[1]; unescape(url)`,\ncol_type: parseDomForHtml(listx,'a&&Text').length>5?'flex_button':'text_3'});\n}\n\nfor(var b=0; b<5; b++){\nd.push({col_type: 'big_blank_block'});}\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"js:\nvar html = getResCode();\nvar list = parseDomForArray(html, '#playlist&&li');\nvar title = parseDomForHtml(list[list.length-1],'a&&Text');\nsetResult('最新：'+title);","pageList":[],"title":"56听书网𝔥","author":"Hood","version":4,"url":"http://m.ting56.com/book/fyAll_fypage.html[firstPage=http://m.ting56.com/book/fyAll.html];get;gb2312","col_type":"movie_3_marquee","class_name":"玄幻武侠&都市言情&恐怖悬疑&网游竞技&军事历史&刑侦推理&职场商战","class_url":"1&2&3&4&6&41&7","area_name":"经典评书&百家讲坛& 广播剧 &综艺娱乐&幽默笑话&儿童读物","area_url":"9&10&40&45&44&11","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".xsdz&&.list-ov-tw;\n.bt&&Text;\nimg&&original;\n.zz,1&&Text;\na&&href","searchFind":".xsdz&&.list-ov-tw;\n.bt&&Text;\na&&href;\n.zz,1&&Text;\n.nr&&Text;\nimg&&original","search_url":"http://m.ting56.com/search.asp?page=fypage&searchword=**&searchtype=-1;get;gb2312","titleColor":"#ff228be6","group":"④耳音","detail_col_type":"text_2","detail_find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\n\n//获取简介\nvar des_desc = parseDomForHtml(html, '.book_intro--b&&Text').replace(/　/g,'');\n\nd.push({\r\n\n//作者、类型等\ntitle: parseDomForHtml(html,'.list-ov-w&&span,2&&Text')+'\\n'+parseDomForHtml(html,'.list-ov-w&&span,3&&Text')+'\\n'+parseDomForHtml(html,'.list-ov-w&&span,1&&Text'),\n\n//描述\r\ndesc: parseDomForHtml(html, '.list-ov-w&&span,4&&Text'),\n\n//图片地址\npic_url: parseDom(html,'img&&src'),\r\nurl: getUrl(),\r\ncol_type: 'movie_1_vertical_pic'});\n\n//限制简介长度\nif (des_desc.length > 110) {\ndes_desc = des_desc.replace(des_desc, des_desc.substring(0, 110) + \"……\");\n}\n\n//输出简介\nd.push({\ntitle: '简介：'+des_desc,\ncol_type: 'long_text'});\n\nd.push({col_type:'line'});\n\n//选集列表\nvar list=parseDomForArray(html, 'body&&#playlist&&li');\n\n//线路名称\nd.push({\ntitle:'播放列表(共' + list.length+ '集)',\nurl:'toast://点什么点 (｡•ˇ‸ˇ•｡)',\ncol_type: 'text_center_1'});\n\n//选集名称\nfor(var i in list){\nd.push({\ntitle:parseDomForHtml(list[i],'a&&Text'),\nurl:parseDom(list[i],'a&&href'),\ncol_type: parseDomForHtml(list[0],'a&&Text').length>6?'flex_button':'text_3'});\n}\n\r\nfor(var b=0;b<5;b++){\nd.push({col_type: 'big_blank_block'});}\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"text_2","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"好多电子课本网𝔥","author":"Hood","version":1,"url":"http://m.haoduoyun.cc/book/fyclass/fyarea;get;UTF-8;{User-Agent@Mozilla/5.0 (Windows NT 10.0)}","col_type":"movie_3_marquee","class_name":"人教版&北师大版&译林版&外研版&北京版&冀教版&鲁教版&教科版&鄂教版&沪教版&仁爱版&陕西旅游版&粤人版&湘少版&清华版&辽师大版&湘鲁教版","class_url":"rjb&bsb&ylb&wyb&bjb&jjb&ljb&jkb&ejb&hjb&rab&slb&yrb&xsb&qhb&lsb&xljb","area_name":"全部&数学&语文&英语","area_url":"&shuxue&yuwen&yingyu","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".main&&li;\na&&Text;\nimg&&data-original;\n*;\na&&href","searchFind":"","search_url":"http://m.haoduoyun.cc/book/search/?q=**","titleColor":"#ff13b66a","group":"④阅读","detail_col_type":"text_1","detail_find_rule":".bookmulu&&a;\na&&Text.js:input.replace(/　/g,'');\n*;\n*;\na&&href.js:'x5://http://m.haoduoyun.cc'+input","sdetail_col_type":"text_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"电子课本网𝔥","author":"Hood","version":1,"url":"http://m.dzkbw.com/books/fyclassfyarea/","col_type":"movie_3_marquee","class_name":"人教版&苏教版&北师大版&沪教版&鲁教版&冀教版&浙教版&部编版&沪科版&译林版&青岛版&仁爱版&外研版&教科版&语文版&中图版&科粤版&人民版&西师大版&北京版&鲁科版&鲁人版&浙科版&湘教版&粤教版&岳麓版&华师大版&鄂教版&苏科版&川教版&河大版&商务版&重大版&粤人版&湘少版&沪科教版&接力版&闽教版&科普版&辽师大版&陕旅版&冀少版&清华版&济南版&晋教版&沪外教版","class_url":"rjb&sjb&bsd&hjb&ljb&jjb&zjb&bbb&hkb&yilin&qdb&renai&waiyan&jkb&ywcbs&ztb&kyb&renming&xsd&beijing&lkb&lrb&zkb&xjb&yjb&ylb&hsd&ejb&skb&cjb&hdb&swb&cdb&gdb&xsb&hkjb&jieli&mjb&kpb&lsdb&slb&jsb&qhb&jinan&sxb&hwjb","area_name":"全部&数学&语文&英语&物理&化学&生物&政治&历史&地理&日语&俄语&音乐&美术&体育&科学&历史与社会&一年级&二年级&三年级&四年级&五年级&六年级&七年级&八年级&九年级&高一&高二&高三","area_url":"&/shuxue&/yuwen&/yingyu&/wuli&/huaxue&/shengwu&/zhengzhi&/lishi&/dili&/riyu&/eyu&/yinyue&/meishu&/tiyu&/kexue&/shehui&/yinianji-all&/ernianji-all&/sannianji-all&/sinianji-all&/wunianji-all&/liunianji-all&/qinianji-all&/banianji-all&/jiunianji-all&/gaoyi-all&/gaoer-all&/gaosan-all","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".index&&li;\nli&&Text;\nimg&&data-original;\n*;\na&&href","searchFind":"","search_url":"http://m.dzkbw.com/search/?q=**","titleColor":"#ff13b66a","group":"④阅读","detail_col_type":"text_1","detail_find_rule":".padding5&&a;\na&&Text;\n*;\n*;\na&&href","sdetail_col_type":"text_1","sdetail_find_rule":"","ua":"pc","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"巴巴鱼","author":"ᝰꫛꫀꪝ藍凋","version":2,"url":"https://m.babayu.com/all/id/fyAll.html?page=fypage","col_type":"movie_3","class_name":"全部&玄幻奇幻&武侠修真&都市异能&历史军事&游戏竞技&科幻灭世&悬疑灵异&轻小说&女生频道","class_url":"&42&43&44&45&46&47&49&52&48","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".clearfix&&li;img&&alt;img&&src;.finish&&Text;a&&href","searchFind":".clearfix&&li;img&&alt;a&&href;.finish&&Text;.intro&&Text;img&&src","search_url":"https://m.babayu.com/search.html?wd=**","titleColor":"#ff148e8e","group":"④阅读","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar conts = parseDomForArray(html, 'body&&.bookshelf-list');\n\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\nd.push({\n    title: parseDomForHtml(html, '.info&&Text'),\n    desc: parseDomForHtml(html, '.intro&&Text'),\n    pic_url: parseDom(html, '.base&&img&&src'),\n    url: MY_URL,\n    col_type: 'movie_1_vertical_pic'\n});\n\n\nfunction setLists(lists, index) {\n    d.push({\n    title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">目录逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">目录正序</span></b>',\n    url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n    col_type: 'text_center_1'\n})\n    var list = lists[index];\n\n    var txt = $('').rule(() => {\n        var pg = parseDomForHtml(getResCode(), '.chapter-porn&&Text');\n        if (pg[2] > pg[1]) {\n            setResult([{\n                col_type: 'line'\n            }, {\n                title:  parseDomForHtml(getResCode(), '#pageRead&&h3&&Text'),\n                col_type: 'text_center_1'\n            }, {\n                title: parseDomForHtml(getResCode(), '.h5-page-read&&Html'),\n                col_type: 'rich_text',\n                extra: {\n                    textSize: 18,\n                    click: true\n                }\n            }, {\n                col_type: 'line'\n            }, {\n                title: '““点击下一页””',\n                url: $(MY_URL.replace('.html#autoPage#', '_2.html')).rule(() => {\n                    setResult([{\n                        col_type: 'line'\n                    }, {\n                        title:\"““””<big>\" + parseDomForHtml(getResCode(), '#pageRead&&h3&&Text')+ \"</big>\",\n                        col_type: 'text_center_1'\n                    }, {\n                        title: parseDomForHtml(getResCode(), '.h5-page-read&&Html'),\n                        col_type: 'rich_text',\n                        extra: {\n                            textSize: 18,\n                            click: true\n                        }\n                    }])\n\n                }),\n                col_type: 'text_center_1'\n            }])\n        } else {\n            setResult([{\n                col_type: 'line'\n            }, {\n                title:\"““””<big>\" +  parseDomForHtml(getResCode(), '#pageRead&&h3&&Text')+ \"</big>\",\n                col_type: 'text_center_1'\n            }, {\n                title: parseDomForHtml(getResCode(), '.h5-page-read&&Html'),\n                col_type: 'rich_text',\n                extra: {\n                    textSize: 18,\n                    click: true\n                }\n            }])\n        }\n    });\n\n    if (getVar('shsort') == '1') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            d.push({\n                title: parseDomForHtml(list[j], 'Text'),\n                url: parseDom(list[j], 'a&&href') + '#autoPage#' + txt,\n                col_type: 'text_1'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            d.push({\n                title: parseDomForHtml(list[j], 'a&&Text'),\n                url: parseDom(list[j], 'a&&href') + '#autoPage#' + txt,\n                col_type: 'text_1'\n            });\n        }\n    }\n}\nsetLists(lists, getVar(MY_URL, '0'));\n\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/38.png"},{"last_chapter_rule":"","pageList":[],"title":"斋书苑","author":"ᝰꫛꫀꪝ藍凋","version":4,"url":"https://m.zhaishuyuan.org/category/fyAll_fypage.html","col_type":"movie_3","class_name":"玄幻小说&仙侠小说&都市小说&网游竞技","class_url":"xuanhuan&wuxia&dushi&wangyou","area_name":"穿越小说&科幻小说&悬疑推理&其他小说","area_url":"chuanyue&kehuan&xuanyi&qita","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&.bookbox;h4&&Text;img&&src;.update&&Text;a&&href","searchFind":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.book_slist&&.bookbox');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'h4&&Text'),\r\n       desc: parseDomForHtml(list[j], '.author&&Text'),\r\n       pic_url: parseDom(list[j], 'img&&src'),\r\n       url: parseDom(list[j],'a&&href')\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","search_url":"https://m.zhaishuyuan.org/search?searchkey=**&submit=","titleColor":"#ff148e8e","group":"④阅读","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar conts = parseDomForArray(html, 'body&&#chapterList');//章节列表\n\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\nd.push({\n    title: parseDomForHtml(html, '.info&&Text'),//介绍\n    desc: parseDomForHtml(html, '.book-intro&&p&&Text'),//简介\n    pic_url: parseDom(html, '.bookimg&&img&&src'),//图片\n    url: MY_URL,\n    col_type: 'movie_1_vertical_pic'\n});\n\n\nfunction setLists(lists, index) {\n    d.push({\n    title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">目录逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">目录正序</span></b>',\n    url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n    col_type: 'text_center_1'\n})\n    var list = lists[index];\n\n    var txt = $('').rule(() => {\n        var pg = parseDomForHtml(getResCode(), '.chapter-name&&Text');\n        if (pg[2] > pg[1]) {\n            setResult([{\n                col_type: 'line'\n            }, {\n                title:  parseDomForHtml(getResCode(), '.chapter-name&&Text'),\n                col_type: 'text_center_1'\n            }, {\n                title: parseDomForHtml(getResCode(), '#CongWenCha&&Html'),\n                col_type: 'rich_text',\n                extra: {\n                    textSize: 18,\n                    click: true\n                }\n            }, {\n                col_type: 'line'\n            }, {\n                title: '““点击下一页””',\n                url: $(MY_URL.replace('.html#autoPage#', '_2.html')).rule(() => {\n                    setResult([{\n                        col_type: 'line'\n                    }, {\n                        title:\"““””<big>\" + parseDomForHtml(getResCode(), 'body&&.chapter-name&&Text')+ \"</big>\",\n                        col_type: 'text_center_1'\n                    }, {\n                        title: parseDomForHtml(getResCode(), '#CongWenCha&&Html'),\n                        col_type: 'rich_text',\n                        extra: {\n                            textSize: 18,\n                            click: true\n                        }\n                    }])\n\n                }),\n                col_type: 'text_center_1'\n            }])\n        } else {\n            setResult([{\n                col_type: 'line'\n            }, {\n                title:\"““””<big>\" +  parseDomForHtml(getResCode(), 'body&&.chapter-name&&Text')+ \"</big>\",\n                col_type: 'text_center_1'\n            }, {\n                title: parseDomForHtml(getResCode(), '#CongWenCha&&Html'),\n                col_type: 'rich_text',\n                extra: {\n                    textSize: 18,\n                    click: true\n                }\n            }])\n        }\n    });\n\n    if (getVar('shsort') == '1') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            d.push({\n                title: parseDomForHtml(list[j], 'Text'),\n                url: parseDom(list[j], 'a&&href') + '#autoPage#' + txt,\n                col_type: 'text_1'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            d.push({\n                title: parseDomForHtml(list[j], 'a&&Text'),\n                url: parseDom(list[j], 'a&&href') + '#autoPage#' + txt,\n                col_type: 'text_1'\n            });\n        }\n    }\n}\nsetLists(lists, getVar(MY_URL, '0'));\n\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/38.png"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"正文","path":"content","rule":"var d = [];\nd.push({\n    col_type: \"text_center_1\",\n    title: \"““””<big>\" + parseDomForHtml(getResCode(), \"#nr_title&&Text\") + \"</big>\",\n});\nd.push({\n    title: parseDomForHtml(getResCode(), \"#nr&&Html\"),\n    col_type: 'rich_text',\n    extra: {\n        textSize: 18\n    }\n});\nsetResult(d);"}],"title":"九桃小说","author":"ᝰꫛꫀꪝ藍凋","version":1,"url":"https://www.9txs.org/library/fyarea_fyclass_fysort_fypage.html","col_type":"movie_3","class_name":"玄幻奇幻&武侠修真&都市生活&历史军事&游戏竞技&科幻未来&悬疑灵异&二次元&经典短篇&古代言情&现代言情&幻想奇缘&浪漫青春&网络情缘&科幻空间&恐怖灵异&N次元&言情美文&其他类型","class_url":"1&2&3&4&5&6&7&8&9&10&11&12&13&14&15&16&17&18&19","area_name":"总点击&月点击&周点击&日点击&总推荐&月推荐&周推荐&日推荐&总收藏&字数&入库","area_url":"allvisit&monthvisit&weekvisit&dayvisit&allvote&monthvote&weekvote&dayvote&goodnum&size&postdate","sort_name":"全部&连载&完本","year_name":"","sort_url":"0&1&2","year_url":"","find_rule":"js:\nvar d = [];\nlet arr = pdfa(getResCode(), \".library&&li\");\n\nfor (let i = 0; i < arr.length; i++) {\n    let title = pdfh(arr[i], \"img&&alt\");\n    let pic_url = parseDom(arr[i], \"img&&src\");\n    let url = parseDom(arr[i], \"a&&href\");\n    let desc = pdfh(arr[i], \"span&&Text\");\n    d.push({\n        title: title,\n        url: url,\n        desc: desc,\n        pic_url: pic_url\n    });\n}\n\nsetResult(d);","searchFind":"js:var res = {};var d = [];\n\nvar list = parseDomForArray(getResCode(), '.library&&li');\n\nfor(var i in list){\ntry{\nd.push({\ntitle:parseDomForHtml(list[i],'img&&alt'),\ndesc:parseDomForHtml(list[i],'.layui-badge&&Text+.author&&Text'),\ncontent:parseDomForHtml(list[i],'.intro&&Text'),\npic_url:parseDom(list[i],'img&&src'),\nurl:parseDom(list[i],'a&&href')});\n}catch(e){}\n}\n\nres.data = d;\nsetSearchResult(res);","search_url":"https://so.9txs.org/www/？？searchkey=**&page=fypage;post","titleColor":"#ff148e8e","group":"④阅读","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar conts = parseDomForArray(fetch(pd(html, '.more&&href')), 'body&&.read');\n\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], '.read&&dl:not(:contains(最新章节)) a'))\n}\n\nd.push({\n    title: parseDomForHtml(html, '.detail&&Text'),\n    desc: parseDomForHtml(html, '.intro&&Text'),\n    pic_url: parseDom(html, '.detail&&img&&src'),\n    url: MY_URL,\n    col_type: 'movie_1_vertical_pic'\n});\n\nd.push({\n    title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">目录逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">目录正序</span></b>',\n    url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n    col_type: 'text_center_1'\n})\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    d.push({\n        col_type: 'big_blank_block'\n    });\n    if (getVar('shsort') == '1') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            var jm = parseDomForHtml(list[j], 'Text');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + \"#autoPage#\" + `@rule=js:` + $.toString(() => {\n                    let d = [];\n                    var des_title = parseDomForHtml(getResCode(), 'h1&&Text');\n                    d.push({\n                        title: '<b>‘‘' + des_title + '’’</b>',\n                        col_type: 'text_center_1'\n                    });\n                    let cont = parseDomForArray(getResCode(), '#content&&p,1:-1');\n                    let html = cont.map(it => '　　' + parseDomForHtml(it, 'p&&Html')).join(\"<br><br>\");\n                    d.push({\n                        title: html,\n                        col_type: \"rich_text\",\n                        extra: {\n                            textSize: 18,\n                            click: true\n                        }\n                    });\n                    setResult(d);\n                }),\n                col_type: jm.length > 5 ? 'text_1' : 'text_1',\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            var jm = parseDomForHtml(list[j], 'Text');\n            d.push({\n                title: jm,\n                url: parseDom(list[j], 'a&&href') + \"#autoPage#\" + `@rule=js:` + $.toString(() => {\n                    let d = [];\n                    var des_title = parseDomForHtml(getResCode(), 'h1&&Text');\n                    d.push({\n                        title: '<b>‘‘' + des_title + '’’</b>',\n                        col_type: 'text_center_1'\n                    });\n                    let cont = parseDomForArray(getResCode(), '#content&&p,1:-1');\n                    let html = cont.map(it => '　　' + parseDomForHtml(it, 'p&&Html')).join(\"<br><br>\");\n                    d.push({\n                        title: html,\n                        col_type: \"rich_text\",\n                        extra: {\n                            textSize: 18,\n                            click: true\n                        }\n                    });\n                    setResult(d);\n                }),\n                col_type: jm.length > 5 ? 'text_1' : 'text_1',\n            });\n        }\n    }\n}\nsetLists(lists, getVar(MY_URL, '0'));\n\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"正文\",\"path\":\"content\",\"rule\":\"var d = [];\\nd.push({\\n    col_type: \\\"text_center_1\\\",\\n    title: \\\"““””<big>\\\" + parseDomForHtml(getResCode(), \\\"#nr_title&&Text\\\") + \\\"</big>\\\",\\n});\\nd.push({\\n    title: parseDomForHtml(getResCode(), \\\"#nr&&Html\\\"),\\n    col_type: 'rich_text',\\n    extra: {\\n        textSize: 18\\n    }\\n});\\nsetResult(d);\"}]","icon":"https://m.9txs.org/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"御书网","author":"ᝰꫛꫀꪝ藍凋","version":1,"url":"https://m.yushubo.com/all/id/fyclass/size/fyarea.html?page=fypage","col_type":"movie_3","class_name":"全部&玄幻奇幻&武侠修真&都市异能&历史军事&游戏竞技&科幻灭世&悬疑灵异&轻小说","class_url":"52&55&57&59&61&63&65&66&60","area_name":"全部&30万字&30-50万字&50-100万字&100-200万字&200万字","area_url":"&0&1&2&3&4","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".clearfix&&li;img&&alt;img&&src;.finish&&Text;a&&href","searchFind":".clearfix&&li;img&&alt;a&&href;.finish&&Text;.intro&&Text;img&&src","search_url":"https://m.yushubo.com/search.html?sh=**","titleColor":"#ff148e8e","group":"④阅读","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar conts = parseDomForArray(html, 'body&&.bookshelf-list');\n\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\nd.push({\n    title: parseDomForHtml(html, '.info&&Text'),\n    desc: parseDomForHtml(html, '.intro&&Text'),\n    pic_url: parseDom(html, '.base&&img&&src'),\n    url: MY_URL,\n    col_type: 'movie_1_vertical_pic'\n});\n\n\nfunction setLists(lists, index) {\n    d.push({\n    title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">目录逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">目录正序</span></b>',\n    url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n    col_type: 'text_center_1'\n})\n    var list = lists[index];\n\n    var txt = $('').rule(() => {\n        var pg = parseDomForHtml(getResCode(), '.chapter-porn&&Text');\n        if (pg[2] > pg[1]) {\n            setResult([{\n                col_type: 'line'\n            }, {\n                title:  parseDomForHtml(getResCode(), '#pageRead&&h3&&Text'),\n                col_type: 'text_center_1'\n            }, {\n                title: parseDomForHtml(getResCode(), '.h5-page-read&&Html'),\n                col_type: 'rich_text',\n                extra: {\n                    textSize: 18,\n                    click: true\n                }\n            }, {\n                col_type: 'line'\n            }, {\n                title: '““点击下一页””',\n                url: $(MY_URL.replace('.html#autoPage#', '_2.html')).rule(() => {\n                    setResult([{\n                        col_type: 'line'\n                    }, {\n                        title:\"““””<big>\" + parseDomForHtml(getResCode(), '#pageRead&&h3&&Text')+ \"</big>\",\n                        col_type: 'text_center_1'\n                    }, {\n                        title: parseDomForHtml(getResCode(), '.h5-page-read&&Html'),\n                        col_type: 'rich_text',\n                        extra: {\n                            textSize: 18,\n                            click: true\n                        }\n                    }])\n\n                }),\n                col_type: 'text_center_1'\n            }])\n        } else {\n            setResult([{\n                col_type: 'line'\n            }, {\n                title:\"““””<big>\" +  parseDomForHtml(getResCode(), '#pageRead&&h3&&Text')+ \"</big>\",\n                col_type: 'text_center_1'\n            }, {\n                title: parseDomForHtml(getResCode(), '.h5-page-read&&Html'),\n                col_type: 'rich_text',\n                extra: {\n                    textSize: 18,\n                    click: true\n                }\n            }])\n        }\n    });\n\n    if (getVar('shsort') == '1') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            d.push({\n                title: parseDomForHtml(list[j], 'Text'),\n                url: parseDom(list[j], 'a&&href') + '#autoPage#' + txt,\n                col_type: 'text_1'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            d.push({\n                title: parseDomForHtml(list[j], 'a&&Text'),\n                url: parseDom(list[j], 'a&&href') + '#autoPage#' + txt,\n                col_type: 'text_1'\n            });\n        }\n    }\n}\nsetLists(lists, getVar(MY_URL, '0'));\n\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://m.yushubo.com/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"采墨阁","author":"ᝰꫛꫀꪝ藍凋","version":3,"url":"https://m.caimoge.com/shuku/fyAll/fypage.html","col_type":"movie_1_vertical_pic","class_name":"玄幻修真&奇幻魔法&异术超能&王朝争霸&江湖武侠&穿越架空&乡土布衣","class_url":"xuanhuanxiuzhen&qihuanmofa&yishuchaoneng&wangchaozhengba&jianghuwuxia&chuanyuajiekong&xiangtubuyi","area_name":"未来幻想&灵异鬼怪&探险揭秘&历史传记&特种军旅&王室贵族&官职商战&唯美言情","area_url":"weilaihuanxiang&lingyiguiguai&tanxianjiemi&lishizhuanji&tezhongjunlv&wangshiguizu&guanzhishangzhan&weimeiyanqing","sort_name":"","year_name":"网游竞技&魔幻女强&都市婚姻&百合之恋&同人美文&魔法校园&间谍暗战&其他小说","sort_url":"","year_url":"wangyoujingji&mohuannvqiang&dushihunyan&baihezhilian&tongrenmeiwen&mofaxiaoyuan&jiandieanzhan&qitaxiaoshuo","find_rule":"js:\nvar res = {};\nvar d = [];\nvar list = parseDomForArray(getResCode(), 'body&&.bookbox');\nfor (var i in list) {\n    d.push({\n        title: parseDomForHtml(list[i], 'h4&&Text')+'\\n'+ parseDomForHtml(list[i], '.author&&Text'),\n        desc: parseDomForHtml(list[i], '.intro_line&&Text'),\n        pic_url: parseDom(list[i], 'img&&src'),\n        url: parseDom(list[i], 'a&&href').replace(\".html\",\"\").replace(\"txt/\",\"indexlist/\"),\n    })\n}\nres.data = d;\nsetHomeResult(res);","searchFind":"js:\r\nvar res = {};\r\nvar d = [];\ntry{\nvar list = parseDomForArray(getResCode(), '.book_slist&&.bookbox');\r\nfor (var j in list) {\r\n  d.push({\r\n       title: parseDomForHtml(list[j], 'h4&&Text'),\r\n       desc: parseDomForHtml(list[j], '.author&&Text'),\r\n       pic_url: parseDom(list[j], 'img&&src'),\r\n       url: parseDom(list[j],'a&&href').replace(\".html\",\"\").replace(\"txt/\",\"indexlist/\")\r\n  });\r\n}}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","search_url":"https://m.caimoge.com/search/?searchkey=**&submit=","group":"④阅读","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar html = getResCode();\n\nvar conts = parseDomForArray(html, 'body&&#chapterList');//章节列表\n\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\nd.push({\n    title: parseDomForHtml(html, '.info&&Text'),//介绍\n    desc: parseDomForHtml(html, '.book-intro&&p&&Text'),//简介\n    pic_url: parseDom(html, '.bookimg&&img&&src'),//图片\n    url: MY_URL,\n    col_type: 'movie_1_vertical_pic'\n});\n\n\nfunction setLists(lists, index) {\n    d.push({\n    title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">目录逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">目录正序</span></b>',\n    url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n    col_type: 'text_center_1'\n})\n    var list = lists[index];\n\n    var txt = $('').rule(() => {\n        var pg = parseDomForHtml(getResCode(), '.chapter-name&&Text');\n        if (pg[2] > pg[1]) {\n            setResult([{\n                col_type: 'line'\n            }, {\n                title:  parseDomForHtml(getResCode(), '.chapter-name&&Text'),\n                col_type: 'text_center_1'\n            }, {\n                title: parseDomForHtml(getResCode(), '#CongWenCha&&Html'),\n                col_type: 'rich_text',\n                extra: {\n                    textSize: 18,\n                    click: true\n                }\n            }, {\n                col_type: 'line'\n            }, {\n                title: '““点击下一页””',\n                url: $(MY_URL.replace('.html#autoPage#', '_2.html')).rule(() => {\n                    setResult([{\n                        col_type: 'line'\n                    }, {\n                        title:\"““””<big>\" + parseDomForHtml(getResCode(), 'body&&.chapter-name&&Text')+ \"</big>\",\n                        col_type: 'text_center_1'\n                    }, {\n                        title: parseDomForHtml(getResCode(), '#CongWenCha&&Html'),\n                        col_type: 'rich_text',\n                        extra: {\n                            textSize: 18,\n                            click: true\n                        }\n                    }])\n\n                }),\n                col_type: 'text_center_1'\n            }])\n        } else {\n            setResult([{\n                col_type: 'line'\n            }, {\n                title:\"““””<big>\" +  parseDomForHtml(getResCode(), 'body&&.chapter-name&&Text')+ \"</big>\",\n                col_type: 'text_center_1'\n            }, {\n                title: parseDomForHtml(getResCode(), '#CongWenCha&&Html'),\n                col_type: 'rich_text',\n                extra: {\n                    textSize: 18,\n                    click: true\n                }\n            }])\n        }\n    });\n\n    if (getVar('shsort') == '1') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            d.push({\n                title: parseDomForHtml(list[j], 'Text'),\n                url: parseDom(list[j], 'a&&href') + '#autoPage#' + txt,\n                col_type: 'text_1'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            d.push({\n                title: parseDomForHtml(list[j], 'a&&Text'),\n                url: parseDom(list[j], 'a&&href') + '#autoPage#' + txt,\n                col_type: 'text_1'\n            });\n        }\n    }\n}\nsetLists(lists, getVar(MY_URL, '0'));\n\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/38.png"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"章节列表","path":"chapterList","rule":"js:\nvar d = [];\n\nvar html = request('https://m.quge7.com' + MY_PARAMS.content.url_list, {});\n\nd.push({\n    title: MY_PARAMS.content.articlename + '\\n作者:' + MY_PARAMS.content.author,\n    desc: parseDomForHtml(html, 'body&&.book_about&&Text').replace('内容简介', '').replace(/\\s/g, ''),\n    pic_url: MY_PARAMS.content.url_img,\n    url: 'https://m.quge7.com' + MY_PARAMS.content.url_list,\n    col_type: 'movie_1_vertical_pic_blur'\n});\n\nsetLastChapterRule('js:' + $.toString(param => {\n    setResult('更新至｜' + param)\n}, parseDomForHtml(html, 'body&&.book_last&&a&&Text')));\n\nd.push({\n    col_type: 'line_blank'\n});\n\nvar html = request('https://m.quge7.com' + MY_PARAMS.content.url_list + 'list.html', {});\n\nvar list = parseDomForArray(html, 'body&&.book_last&&a:not([style])');\n\nd.push({\n    title: '‘‘章节列表’’',\n    url: 'hiker://empty',\n    col_type: 'text_center_1'\n});\n\nfor (var i in list) {\n    d.push({\n        title: parseDomForHtml(list[i], 'a&&Text'),\n        url: 'hiker://page/chapter#autoPage#',\n        extra: {\n            link: 'https://m.quge7.com' + parseDomForHtml(list[i], 'a&&href'),\n            title: parseDomForHtml(list[i], 'a&&Text')\n        },\n        col_type: 'text_1'\n    })\n}\n\nsetResult(d);"},{"col_type":"movie_3","name":"章节详情","path":"chapter","rule":"js:\nsetPageTitle(MY_PARAMS.title);\nvar d = [];\nd.push({\n    title: '‘‘<strong><big>' + MY_PARAMS.title + '</bog></strong>’’',\n    url: 'hiker://empty',\n    col_type: 'text_center_1'\n});\nvar chapterContent = new Array();\nvar i = 1;\ndo {\n    var get = request(MY_PARAMS.link.replace('.html', '_' + i + '.html'), {\n        headers: {\n            \"User-Agent\": PC_UA\n        }\n    });\n    i++;\n    if (parseDomForArray(get, 'body&&#chaptercontent&&br').length > 2) {\n        var isStop = 1;\n        chapterContent.push(parseDomForArray(get, 'body&&#chaptercontent')[0].replace(/<p[\\s\\S]*?p>/g, '').replace('>', '><p>').replace(/<br>/g, '</p><p>').replace('</div>', '</p></div>'));\n    } else {\n        var isStop = 0\n    }\n} while (isStop);\nvar newChapter = new Array();\nfor (var j in chapterContent) {\n    var list = parseDomForArray(chapterContent[j], 'div&&p');\n    for (var x in list) {\n        if (newChapter.indexOf(list[x]) == -1) {\n            newChapter.push(list[x]);\n        }\n    }\n}\nfor (var j in newChapter) {\n    if (parseDomForHtml(newChapter[j], 'p&&Text') !== '') {\n        d.push({\n            title: parseDomForHtml(newChapter[j], 'p&&Text'),\n            col_type: 'long_text',\n            extra: {\n                textSize: 16,\n                click: true\n            }\n        });\n    }\n}\nd.push({\n    col_type: 'line_blank'\n});\nsetResult(d);"}],"title":"笔趣阁","author":"道阻且右","version":0,"url":"https://m.quge7.com/json?sortid=fyclass&page=fypage","col_type":"movie_3","class_name":"仙侠&武侠&都市&历史&网游&科幻&女生","class_url":"1&2&3&4&5&6&7","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nvar list = JSON.parse(getResCode());\nfor (var i in list) {\n    d.push({\n        title: list[i].articlename + '\\n作者:' + list[i].author,\n        desc: list[i].intro.replace(/\\s/g, ''),\n        pic_url: list[i].url_img,\n        url: 'hiker://page/chapterList#immersiveTheme#',\n        col_type: 'movie_1_vertical_pic',\n        extra: {\n            content: list[i]\n        }\n    });\n}\nsetResult(d);","searchFind":"js:\nvar d = [];\nvar list = parseDomForArray(getResCode(), 'body&&.so_list&&.bookbox')\nfor (var i in list) {\n    d.push({\n        title: parseDomForHtml(list[i], '.bookname&&Text'),\n        desc: parseDomForHtml(list[i], '.author&&Text'),\n        content: parseDomForHtml(list[i], '.update&&Text'),\n        pic_url: parseDomForHtml(list[i], 'img&&src'),\n        url: 'hiker://page/chapterList#immersiveTheme#',\n        extra: {\n            content: {\n                articlename: parseDomForHtml(list[i], '.bookname&&Text'),\n                author: parseDomForHtml(list[i], '.author&&Text').replace('作者：', ''),\n                url_img: parseDomForHtml(list[i], 'img&&src'),\n                url_list: parseDomForHtml(list[i], 'a&&href')\n            }\n        }\n    });\n}\nsetResult(d);","search_url":"https://m.quge7.com/s?q=**","titleColor":"","group":"④阅读","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"章节列表\",\"path\":\"chapterList\",\"rule\":\"js:\\nvar d = [];\\n\\nvar html = request('https://m.quge7.com' + MY_PARAMS.content.url_list, {});\\n\\nd.push({\\n    title: MY_PARAMS.content.articlename + '\\\\n作者:' + MY_PARAMS.content.author,\\n    desc: parseDomForHtml(html, 'body&&.book_about&&Text').replace('内容简介', '').replace(/\\\\s/g, ''),\\n    pic_url: MY_PARAMS.content.url_img,\\n    url: 'https://m.quge7.com' + MY_PARAMS.content.url_list,\\n    col_type: 'movie_1_vertical_pic_blur'\\n});\\n\\nsetLastChapterRule('js:' + $.toString(param => {\\n    setResult('更新至｜' + param)\\n}, parseDomForHtml(html, 'body&&.book_last&&a&&Text')));\\n\\nd.push({\\n    col_type: 'line_blank'\\n});\\n\\nvar html = request('https://m.quge7.com' + MY_PARAMS.content.url_list + 'list.html', {});\\n\\nvar list = parseDomForArray(html, 'body&&.book_last&&a:not([style])');\\n\\nd.push({\\n    title: '‘‘章节列表’’',\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1'\\n});\\n\\nfor (var i in list) {\\n    d.push({\\n        title: parseDomForHtml(list[i], 'a&&Text'),\\n        url: 'hiker://page/chapter#autoPage#',\\n        extra: {\\n            link: 'https://m.quge7.com' + parseDomForHtml(list[i], 'a&&href'),\\n            title: parseDomForHtml(list[i], 'a&&Text')\\n        },\\n        col_type: 'text_1'\\n    })\\n}\\n\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"章节详情\",\"path\":\"chapter\",\"rule\":\"js:\\nsetPageTitle(MY_PARAMS.title);\\nvar d = [];\\nd.push({\\n    title: '‘‘<strong><big>' + MY_PARAMS.title + '</bog></strong>’’',\\n    url: 'hiker://empty',\\n    col_type: 'text_center_1'\\n});\\nvar chapterContent = new Array();\\nvar i = 1;\\ndo {\\n    var get = request(MY_PARAMS.link.replace('.html', '_' + i + '.html'), {\\n        headers: {\\n            \\\"User-Agent\\\": PC_UA\\n        }\\n    });\\n    i++;\\n    if (parseDomForArray(get, 'body&&#chaptercontent&&br').length > 2) {\\n        var isStop = 1;\\n        chapterContent.push(parseDomForArray(get, 'body&&#chaptercontent')[0].replace(/<p[\\\\s\\\\S]*?p>/g, '').replace('>', '><p>').replace(/<br>/g, '</p><p>').replace('</div>', '</p></div>'));\\n    } else {\\n        var isStop = 0\\n    }\\n} while (isStop);\\nvar newChapter = new Array();\\nfor (var j in chapterContent) {\\n    var list = parseDomForArray(chapterContent[j], 'div&&p');\\n    for (var x in list) {\\n        if (newChapter.indexOf(list[x]) == -1) {\\n            newChapter.push(list[x]);\\n        }\\n    }\\n}\\nfor (var j in newChapter) {\\n    if (parseDomForHtml(newChapter[j], 'p&&Text') !== '') {\\n        d.push({\\n            title: parseDomForHtml(newChapter[j], 'p&&Text'),\\n            col_type: 'long_text',\\n            extra: {\\n                textSize: 16,\\n                click: true\\n            }\\n        });\\n    }\\n}\\nd.push({\\n    col_type: 'line_blank'\\n});\\nsetResult(d);\"}]","icon":""},{"firstHeader":"class","last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"正文","path":"content","rule":"var d = [];\nd.push({\n    col_type: \"text_center_1\",\n    title: \"““””<big>\" + parseDomForHtml(getResCode(), \"#header&&.zhong&&Text\") + \"</big>\",\n});\nd.push({\n    title: parseDomForHtml(getResCode(), \"#nr&&Html\"),\n    col_type: 'rich_text',\n    extra: {\n        textSize: 18,\n        click: true\n    }\n});\nsetResult(d);"},{"col_type":"movie_3","name":"目录解析","path":"chapter","rule":"let cfg = {\n    分页列表: \"body&&.showpage&&a:not(:contains(没有更多分页))\",\n    分页链接: \"a&&href\",\n    分页请求头: {\n        \"User-Agent\": MOBILE_UA,\n        \"Content-Type\": \"text/html; charset=GBK\"\n    },\n    一页章节数: 40,\n    章节列表: \"body&&.lb&&li:not(:contains(本页章节列表结束！))\",\n    章节标题: \"a&&Text\",\n    章节链接: \"a&&href\",\n    缓存个数: 15\n}\n\n\nvar code = getResCode()\nvar caches;\n\nfunction getCache() {\n    let c = readFile(\"chapter.json\") || \"[]\";\n    caches = JSON.parse(c)\n    let url = getUrl()\n    log(url)\n    for (let it of caches) {\n        if (it.url == url) {\n            return it;\n        }\n    }\n    return {\n        url: url,\n        page: 0,\n        chapters: []\n    }\n}\n\nfunction saveCache(che) {\n    let c = caches\n    if (c.length > cfg.缓存个数) {\n        c.shift()\n    }\n    let exist = false\n    for (let i = 0; i < c.length; i++) {\n        if (c[i].url == che.url) {\n            c[i] = che;\n            exist = true;\n            break\n        }\n    }\n    if (!exist) {\n        c.push(che)\n    }\n    saveFile(\"chapter.json\", JSON.stringify(c))\n}\n\nlet cache = getCache();\n\nlet mp = pdfa(code, cfg.分页列表)\nlet page = mp.length;\nlog(\"实际页数：\" + page)\nlog(\"缓存页数：\" + cache.page)\nif (page == cache.page) {\n    //已完结，目录全部缓存了\n    setResult(cache.chapters)\n    return\n}\n//解析本地没有的缓存\nlet urls = []\nlet htmls = []\n//log(mp)\nfor (let i = cache.page; i < mp.length; i++) {\n    if (i == 0) {\n        htmls.push(code)\n        continue\n    }\n    let it = mp[i];\n    urls.push({\n        url: pd(it, cfg.分页链接),\n        options: {\n            headers: cfg.分页请求头 || {}\n        }\n    })\n}\n//log(urls)\nlet d = [].concat(cache.chapters)\nhtmls = htmls.concat(batchFetch(urls))\n//log(htmls)\nfor (let it of htmls) {\n    if (it == \"\") {\n        break\n    }\n    let list = pdfa(it, cfg.章节列表)\n    let temp = []\n    for (let ii of list) {\n        temp.push({\n            title: pdfh(ii, cfg.章节标题).split(\" （\")[0].split(\"（\")[0],\n            url: pd(ii, cfg.章节链接) + \"#autoPage##fullTheme#@rule=js:$.require('hiker://page/content')\"\n        })\n    }\n    log(list.length)\n    if (list.length == cfg.一页章节数) {\n        //章节齐全的才放本地缓存\n        cache.page = cache.page + 1\n        cache.chapters = cache.chapters.concat(temp)\n    }\n    d = d.concat(temp)\n}\n\nsaveCache(cache)\nsetResult(d)"},{"col_type":"text_1","name":"目录分页","path":"cp","rule":"js:\n$.require(\"hiker://page/chapter\")"}],"title":"顶点小说🅛","author":"警告：本小程序仅供海阔视界用户学习交流使用。如有导入，请务必在24小时之内删除！若作它用，后果自负！","version":54,"url":"https://m.top.la/list/fyAll_fypage.html;get;gbk","col_type":"movie_3","class_name":"玄幻小说&仙侠小说&都市小说&历史军事","class_url":"1&2&3&4","area_name":"网游小说&科幻小说&言情小说","area_url":"5&6&7","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".list&&.xbk:has(li);span&&Text;img&&src;*;a&&href.js:input+\"mulu/1/\"","searchFind":"js:\nvar res = {};\r\nvar d = [];\r\ntry {\r\n    var list = parseDomForArray(getResCode(), '.slist&&li');\r\n    for (var j in list) {\r\n        d.push({\r\n            title: parseDomForHtml(list[j], 'a,1&&Text'),\r\n            desc: parseDomForHtml(list[j], 'a,-1&&Text'),\r\n            //pic_url: parseDom(list[j], 'img&&data-original'),       \r\n            url: parseDom(list[j], 'a,1&&href') + \"/mulu/1/\"\r\n        });\r\n    }\r\n} catch (e) {}\r\nres.data = d;\r\nsetHomeResult(res);","search_url":"https://m.top.la/s.php?submit=&type=articlename&s=**;post;gbk","titleColor":"#0040ff","group":"④阅读","detail_col_type":"text_1","detail_find_rule":"js:\n$.require(\"hiker://page/chapter\")","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"正文\",\"path\":\"content\",\"rule\":\"var d = [];\\nd.push({\\n    col_type: \\\"text_center_1\\\",\\n    title: \\\"““””<big>\\\" + parseDomForHtml(getResCode(), \\\"#header&&.zhong&&Text\\\") + \\\"</big>\\\",\\n});\\nd.push({\\n    title: parseDomForHtml(getResCode(), \\\"#nr&&Html\\\"),\\n    col_type: 'rich_text',\\n    extra: {\\n        textSize: 18,\\n        click: true\\n    }\\n});\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"目录解析\",\"path\":\"chapter\",\"rule\":\"let cfg = {\\n    分页列表: \\\"body&&.showpage&&a:not(:contains(没有更多分页))\\\",\\n    分页链接: \\\"a&&href\\\",\\n    分页请求头: {\\n        \\\"User-Agent\\\": MOBILE_UA,\\n        \\\"Content-Type\\\": \\\"text/html; charset=GBK\\\"\\n    },\\n    一页章节数: 40,\\n    章节列表: \\\"body&&.lb&&li:not(:contains(本页章节列表结束！))\\\",\\n    章节标题: \\\"a&&Text\\\",\\n    章节链接: \\\"a&&href\\\",\\n    缓存个数: 15\\n}\\n\\n\\nvar code = getResCode()\\nvar caches;\\n\\nfunction getCache() {\\n    let c = readFile(\\\"chapter.json\\\") || \\\"[]\\\";\\n    caches = JSON.parse(c)\\n    let url = getUrl()\\n    log(url)\\n    for (let it of caches) {\\n        if (it.url == url) {\\n            return it;\\n        }\\n    }\\n    return {\\n        url: url,\\n        page: 0,\\n        chapters: []\\n    }\\n}\\n\\nfunction saveCache(che) {\\n    let c = caches\\n    if (c.length > cfg.缓存个数) {\\n        c.shift()\\n    }\\n    let exist = false\\n    for (let i = 0; i < c.length; i++) {\\n        if (c[i].url == che.url) {\\n            c[i] = che;\\n            exist = true;\\n            break\\n        }\\n    }\\n    if (!exist) {\\n        c.push(che)\\n    }\\n    saveFile(\\\"chapter.json\\\", JSON.stringify(c))\\n}\\n\\nlet cache = getCache();\\n\\nlet mp = pdfa(code, cfg.分页列表)\\nlet page = mp.length;\\nlog(\\\"实际页数：\\\" + page)\\nlog(\\\"缓存页数：\\\" + cache.page)\\nif (page == cache.page) {\\n    //已完结，目录全部缓存了\\n    setResult(cache.chapters)\\n    return\\n}\\n//解析本地没有的缓存\\nlet urls = []\\nlet htmls = []\\n//log(mp)\\nfor (let i = cache.page; i < mp.length; i++) {\\n    if (i == 0) {\\n        htmls.push(code)\\n        continue\\n    }\\n    let it = mp[i];\\n    urls.push({\\n        url: pd(it, cfg.分页链接),\\n        options: {\\n            headers: cfg.分页请求头 || {}\\n        }\\n    })\\n}\\n//log(urls)\\nlet d = [].concat(cache.chapters)\\nhtmls = htmls.concat(batchFetch(urls))\\n//log(htmls)\\nfor (let it of htmls) {\\n    if (it == \\\"\\\") {\\n        break\\n    }\\n    let list = pdfa(it, cfg.章节列表)\\n    let temp = []\\n    for (let ii of list) {\\n        temp.push({\\n            title: pdfh(ii, cfg.章节标题).split(\\\" （\\\")[0].split(\\\"（\\\")[0],\\n            url: pd(ii, cfg.章节链接) + \\\"#autoPage##fullTheme#@rule=js:$.require('hiker://page/content')\\\"\\n        })\\n    }\\n    log(list.length)\\n    if (list.length == cfg.一页章节数) {\\n        //章节齐全的才放本地缓存\\n        cache.page = cache.page + 1\\n        cache.chapters = cache.chapters.concat(temp)\\n    }\\n    d = d.concat(temp)\\n}\\n\\nsaveCache(cache)\\nsetResult(d)\"},{\"col_type\":\"text_1\",\"name\":\"目录分页\",\"path\":\"cp\",\"rule\":\"js:\\n$.require(\\\"hiker://page/chapter\\\")\"}]","icon":""},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"正文","path":"c","rule":"js:\nvar d = [];\nvar data = JSON.parse(getResCode());\nvar c = data.data.novel_data;\nd.push({\n    title: \"““””<big>\" + c.chapter_title + \"</big>\",\n    url: \"\",\n    col_type: \"text_center_1\",\n    desc: \"\",\n    pic_url: \"\"\n});\n\nd.push({\n    title: pdfh(data.data.content, \"article&&Html\"),\n    col_type: \"rich_text\",\n    extra: {\n        textSize: 18,\n        click: true\n    }\n});\n\nsetResult(d);"}],"title":"番茄小说","author":"麻花疼","version":17,"url":"https://writer.muyewx.com/api/author/library/book_list/v0/?page_count=18&page_index=fypage@-1@&gender=0&category_id=fyclass&creation_status=-1&word_count=-1&sort=0","col_type":"movie_3","class_name":"全部&重生&穿越&悬疑&系统&盗墓&历史","class_url":"-1&36&37&10&19&81&12","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nvar data = JSON.parse(getResCode());\nfor (let it of data.data.book_list) {\n    d.push({\n        title: decodeURIComponent(it.book_name),\n        url: config.api + \"/novel/book/directory/list/v1?book_id=\" + it.book_id + \"#immersiveTheme#\",\n        col_type: \"movie_3\",\n        desc: it.author,\n        pic_url: config.封面域名 + it.thumb_uri\n    });\n}\n\nsetResult(d);","searchFind":"js:\nvar d = [];\nvar data = JSON.parse(getResCode());\nvar list = data.data.ret_data;\nfor (let it of list) {\n    d.push({\n        title: it.title.replace(/<em>/g, \"\").replace(/<\\/em>/g, \"\"),\n        url: config.api + \"/novel/book/directory/list/v1?book_id=\" + it.book_id + \"#immersiveTheme#\",\n        col_type: \"\",\n        desc: it.author,\n        pic_url: it.thumb_url\n    });\n}\nsetResult(d);","search_url":"https://novel.snssdk.com/api/novel/channel/homepage/search/search/v1/?aid=13&q=**","group":"④阅读","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar data = JSON.parse(getResCode());\nvar book_info = data.data.book_info;\nd.push({\n    title: book_info.book_name,\n    url: getUrl(),\n    col_type: \"movie_1_vertical_pic_blur\",\n    desc: \"作者：\" + book_info.author + \"\\n最新章节：\" + book_info.last_chapter_title + \"\\n分类标签：\" + book_info.complete_category,\n    pic_url: book_info.thumb_url\n});\nd.push({\n    title: '““””<small><font color=#871f78>数据来源于网络，如您喜欢，请支持官方</font></small>',\n    desc: '““””<small><font color=#f20c00>此规则仅限学习交流使用，请于导入后24小时内删除，任何组织或个人不得以任何方式方法传播此规则的整体或部分！</font></small>',\n    url: MY_URL,\n    col_type: 'text_center_1'\n});\nvar list = data.data.item_list;\nvar urls = []\nfor (let i = 0; i < list.length; i++) {\n    let index = Math.floor(i / 100)\n    if (urls.length <= index) {\n        urls.push([])\n    }\n    urls[index].push(list[i])\n}\n\nvar ul = []\nfor (let it of urls) {\n    ul.push({\n        url: config.api + \"/novel/book/directory/detail/v1/?item_ids=\" + it.join(\",\"),\n        options: {\n            header: {\n                \"User-Agent\": MOBILE_UA\n            }\n        }\n    })\n}\n\nfunction getCache() {\n    let cache = getMyVar(book_info.book_name, \"\")\n    if (cache == \"\") {\n        cache = JSON.stringify(batchFetch(ul))\n        putMyVar(book_info.book_name, cache)\n    }\n    addListener(\"onRefresh\", $.toString((key) => {\n        clearMyVar(key)\n    }, book_info.book_name))\n    return JSON.parse(cache)\n}\n\nlet chapters = getCache()\nfor (let it of chapters) {\n    let cps = JSON.parse(it).data;\n    for (let c of cps) {\n        d.push({\n            title: c.title,\n            col_type: \"text_2\",\n            desc: \"\",\n            pic_url: \"\",\n            url: $(config.api + \"/novel/book/reader/full/v1/?item_id=\" + c.item_id + \"#autoPage##fullTheme#\").rule(() => {\n                $.require(\"hiker://page/c\")\n            })\n        });\n    }\n}\n\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"initConfig({\n    api: \"https://novel.snssdk.com/api\",\n    封面域名: \"http://p6-novel.byteimg.com/large/\"\n});\n","pages":"[{\"col_type\":\"movie_3\",\"name\":\"正文\",\"path\":\"c\",\"rule\":\"js:\\nvar d = [];\\nvar data = JSON.parse(getResCode());\\nvar c = data.data.novel_data;\\nd.push({\\n    title: \\\"““””<big>\\\" + c.chapter_title + \\\"</big>\\\",\\n    url: \\\"\\\",\\n    col_type: \\\"text_center_1\\\",\\n    desc: \\\"\\\",\\n    pic_url: \\\"\\\"\\n});\\n\\nd.push({\\n    title: pdfh(data.data.content, \\\"article&&Html\\\"),\\n    col_type: \\\"rich_text\\\",\\n    extra: {\\n        textSize: 18,\\n        click: true\\n    }\\n});\\n\\nsetResult(d);\"}]","icon":"https://img0.baidu.com/it/u=3261019260,110575185&fm=117&fmt=auto&gp=0.jpg"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"目录","path":"chapter","rule":"let cfg = {\n    分页列表: \".pagelist&&option\",\n    分页链接: \"option&&value\",\n    分页请求头: {\n        \"User-Agent\": MOBILE_UA,\n    },\n    一页章节数: 100,\n    章节列表: \"ul.read&&li\",\n    章节标题: \"a&&Text\",\n    章节链接: \"a&&href\",\n    缓存个数: 15\n}\n\n\nvar code = getResCode()\nvar caches;\n\nfunction getCache() {\n    let c = readFile(\"chapter.json\") || \"[]\";\n    caches = JSON.parse(c)\n    let url = getUrl()\n    log(url)\n    for (let it of caches) {\n        if (it.url == url) {\n            return it;\n        }\n    }\n    return {\n        url: url,\n        page: 0,\n        chapters: []\n    }\n}\n\nfunction saveCache(che) {\n    log(che.length)\n    let c = caches\n    if (c.length > cfg.缓存个数) {\n        c.shift()\n    }\n    let exist = false\n    for (let i = 0; i < c.length; i++) {\n        if (c[i].url == che.url) {\n            c[i] = che;\n            exist = true;\n            break\n        }\n    }\n    if (!exist) {\n        c.push(che)\n    }\n    saveFile(\"chapter.json\", JSON.stringify(c))\n}\n\nlet cache = getCache();\n\nlet mp = pdfa(code, cfg.分页列表)\nlet page = mp.length;\nlog(\"实际页数：\" + page)\nlog(\"缓存页数：\" + cache.page)\nif (page == cache.page) {\n    //已完结，目录全部缓存了\n    setResult(cache.chapters)\n    return\n}\n//解析本地没有的缓存\nlet urls = []\nlet htmls = []\n//log(mp)\nfor (let i = cache.page; i < mp.length; i++) {\n    if (i == 0) {\n        htmls.push(code)\n        continue\n    }\n    let it = mp[i];\n    urls.push({\n        url: pd(it, cfg.分页链接),\n        options: {\n            headers: cfg.分页请求头 || {}\n        }\n    })\n}\n//log(urls)\nlet d = [].concat(cache.chapters)\nhtmls = htmls.concat(batchFetch(urls))\n//log(htmls)\nfor (let it of htmls) {\n    if (it == \"\") {\n        break\n    }\n    let list = pdfa(it, cfg.章节列表)\n    let temp = []\n    for (let ii of list) {\n        temp.push({\n            title: pdfh(ii, cfg.章节标题).split(\" （\")[0].split(\"（\")[0],\n            url: pd(ii, cfg.章节链接) + \"#autoPage##fullTheme#@rule=js:$.require('hiker://page/content')\"\n        })\n    }\n    //log(list.length)\n    if (list.length == cfg.一页章节数) {\n        //章节齐全的才放本地缓存\n        cache.page = cache.page + 1\n        cache.chapters = cache.chapters.concat(temp)\n    }\n    d = d.concat(temp)\n}\n\nsaveCache(cache)\nsetResult(d)"},{"col_type":"movie_3","name":"正文","path":"content","rule":"var d = [];\nd.push({\n    col_type: \"text_center_1\",\n    title: \"““””<big>\" + pdfh(getResCode(), \".headline&&Text\") + \"</big>\",\n});\nd.push({\n    title: pdfh(getResCode(), \".content&&Html\"),\n    col_type: 'rich_text',\n    extra: {\n        textSize: 18,\n        click: true\n    }\n});\nsetResult(d);"}],"title":"七界小说","author":"小棉袄🌞","version":26,"url":"https://m.7jie.com/top/fyclass/fypage.html","col_type":"movie_1_vertical_pic","class_name":"总排行榜&月点击榜&周点击榜&总推荐榜&月推荐榜&周推荐榜&总收藏榜&总字数榜&最近更新","class_url":"allvisit&monthvisit&weekvisit&allvote&monthvote&weekvote&goodnum&size&lastupdate","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"ul.list&&li;a,1&&Text;img&&src;a,2&&Text+'\\n'+.intro&&Text;a&&href.js:input.replace(\"xs/\",\"shu/\").replace(\".html\",\"\")","searchFind":"ul.list&&li;a,1&&Text;a&&href.js:input.replace(\"xs/\",\"shu/\").replace(\".html\",\"\");*;a,2&&Text+'\\n'+.intro&&Text;img&&src","search_url":"https://m.7jie.com/search.html?searchkey=**;post;utf-8","group":"④阅读","detail_col_type":"text_1","detail_find_rule":"js:\n$.require(\"hiker://page/chapter\")","sdetail_col_type":"text_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"目录\",\"path\":\"chapter\",\"rule\":\"let cfg = {\\n    分页列表: \\\".pagelist&&option\\\",\\n    分页链接: \\\"option&&value\\\",\\n    分页请求头: {\\n        \\\"User-Agent\\\": MOBILE_UA,\\n    },\\n    一页章节数: 100,\\n    章节列表: \\\"ul.read&&li\\\",\\n    章节标题: \\\"a&&Text\\\",\\n    章节链接: \\\"a&&href\\\",\\n    缓存个数: 15\\n}\\n\\n\\nvar code = getResCode()\\nvar caches;\\n\\nfunction getCache() {\\n    let c = readFile(\\\"chapter.json\\\") || \\\"[]\\\";\\n    caches = JSON.parse(c)\\n    let url = getUrl()\\n    log(url)\\n    for (let it of caches) {\\n        if (it.url == url) {\\n            return it;\\n        }\\n    }\\n    return {\\n        url: url,\\n        page: 0,\\n        chapters: []\\n    }\\n}\\n\\nfunction saveCache(che) {\\n    log(che.length)\\n    let c = caches\\n    if (c.length > cfg.缓存个数) {\\n        c.shift()\\n    }\\n    let exist = false\\n    for (let i = 0; i < c.length; i++) {\\n        if (c[i].url == che.url) {\\n            c[i] = che;\\n            exist = true;\\n            break\\n        }\\n    }\\n    if (!exist) {\\n        c.push(che)\\n    }\\n    saveFile(\\\"chapter.json\\\", JSON.stringify(c))\\n}\\n\\nlet cache = getCache();\\n\\nlet mp = pdfa(code, cfg.分页列表)\\nlet page = mp.length;\\nlog(\\\"实际页数：\\\" + page)\\nlog(\\\"缓存页数：\\\" + cache.page)\\nif (page == cache.page) {\\n    //已完结，目录全部缓存了\\n    setResult(cache.chapters)\\n    return\\n}\\n//解析本地没有的缓存\\nlet urls = []\\nlet htmls = []\\n//log(mp)\\nfor (let i = cache.page; i < mp.length; i++) {\\n    if (i == 0) {\\n        htmls.push(code)\\n        continue\\n    }\\n    let it = mp[i];\\n    urls.push({\\n        url: pd(it, cfg.分页链接),\\n        options: {\\n            headers: cfg.分页请求头 || {}\\n        }\\n    })\\n}\\n//log(urls)\\nlet d = [].concat(cache.chapters)\\nhtmls = htmls.concat(batchFetch(urls))\\n//log(htmls)\\nfor (let it of htmls) {\\n    if (it == \\\"\\\") {\\n        break\\n    }\\n    let list = pdfa(it, cfg.章节列表)\\n    let temp = []\\n    for (let ii of list) {\\n        temp.push({\\n            title: pdfh(ii, cfg.章节标题).split(\\\" （\\\")[0].split(\\\"（\\\")[0],\\n            url: pd(ii, cfg.章节链接) + \\\"#autoPage##fullTheme#@rule=js:$.require('hiker://page/content')\\\"\\n        })\\n    }\\n    //log(list.length)\\n    if (list.length == cfg.一页章节数) {\\n        //章节齐全的才放本地缓存\\n        cache.page = cache.page + 1\\n        cache.chapters = cache.chapters.concat(temp)\\n    }\\n    d = d.concat(temp)\\n}\\n\\nsaveCache(cache)\\nsetResult(d)\"},{\"col_type\":\"movie_3\",\"name\":\"正文\",\"path\":\"content\",\"rule\":\"var d = [];\\nd.push({\\n    col_type: \\\"text_center_1\\\",\\n    title: \\\"““””<big>\\\" + pdfh(getResCode(), \\\".headline&&Text\\\") + \\\"</big>\\\",\\n});\\nd.push({\\n    title: pdfh(getResCode(), \\\".content&&Html\\\"),\\n    col_type: 'rich_text',\\n    extra: {\\n        textSize: 18,\\n        click: true\\n    }\\n});\\nsetResult(d);\"}]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"壁纸大全","author":"小棉袄🌞","version":5,"url":"http://service.picasso.adesk.com/v1/lightwp/category","col_type":"card_pic_2","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nvar data = JSON.parse(getResCode());\ndata = data.res.category\nfor (let it of data) {\n    d.push({\n        title: it.rname,\n        url: \"http://service.picasso.adesk.com/v1/lightwp/category/\" + it.id + \"/vertical?limit=20&skip=fypage@-1@*20@&order=new\",\n        col_type: \"card_pic_2\",\n        desc: \"0\",\n        pic_url: it.cover\n    });\n}\n\nsetResult(d);","searchFind":"","search_url":"","group":"⑤图片","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\ntry {\n    var data = JSON.parse(getResCode());\n    data = data.res.vertical\n    for (let it of data) {\n        d.push({\n            title: it.id,\n            url: it.img + \"#.jpg\",\n            col_type: \"pic_3\",\n            desc: \"\",\n            pic_url: it.img\n        });\n    }\n} catch (e) {\n    log(e)\n}\n\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"图片","path":"Picture","rule":"var firstPage = request(input);\n\nvar i = parseDomForHtml(firstPage, \".pagination&&li,-3&&Text\");\nvar b = parseDomForHtml(firstPage, \".pagination&&li,-1&&Text\");\n\nfor(var j = 1; ; j++){\n\n\tif(b.match(/\\d+/g) !=null){\n\tvar i=b;\n    break;\n}else{\n\n\tvar page=request(input.replace('.html','_'+i+'.html'));\n\tvar b = parseDomForHtml(page, \".pagination&&li,-1&&Text\");\n\tvar i = parseDomForHtml(page, \".pagination&&li,-3&&Text\");\n\n}\t\n}\n\nvar map = (html, arr) => {\n    parseDomForArray(html, \".picbox&&img\").map(item => {\n        arr.push(parseDomForHtml(item, \"img&&src\"));\n    });\n}\nvar htmlUrl = [];\nfor (let p = 2; p <= i; p++) {\n    htmlUrl.push({\n        url: input.replace(\".html\", \"_\" + p + \".html\"), \n    });\n}\nvar htmlArr = batchFetch(htmlUrl);\n\nvar picArr = [];\nmap(firstPage, picArr);\nhtmlArr.map(item =>map(item, picArr));\n$.exports=\"pics://\" + picArr.join(\"&&\");"}],"title":"MM29","author":"路遥&子丑寅卯","version":2,"url":"https://www.mm29.com/fyAll/list_fypage.html[firstPage=https://www.mm29.com/fyAll]","col_type":"movie_3","class_name":"壁纸&写真&明星","class_url":"bizhi&xiezhen&mingxing","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&.figure;img&&alt;img&&data-original;*;a&&href.js:$(input).lazyRule(()=>eval(JSON.parse(fetch(\"hiker://page/Picture?rule=\"+getVar('name'))).rule))","searchFind":"","search_url":"","group":"⑤图片","detail_col_type":"pic_1_full","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"putVar('name',MY_RULE.title)","pages":"[{\"col_type\":\"movie_3\",\"name\":\"图片\",\"path\":\"Picture\",\"rule\":\"var firstPage = request(input);\\n\\nvar i = parseDomForHtml(firstPage, \\\".pagination&&li,-3&&Text\\\");\\nvar b = parseDomForHtml(firstPage, \\\".pagination&&li,-1&&Text\\\");\\n\\nfor(var j = 1; ; j++){\\n\\n\\tif(b.match(/\\\\d+/g) !=null){\\n\\tvar i=b;\\n    break;\\n}else{\\n\\n\\tvar page=request(input.replace('.html','_'+i+'.html'));\\n\\tvar b = parseDomForHtml(page, \\\".pagination&&li,-1&&Text\\\");\\n\\tvar i = parseDomForHtml(page, \\\".pagination&&li,-3&&Text\\\");\\n\\n}\\t\\n}\\n\\nvar map = (html, arr) => {\\n    parseDomForArray(html, \\\".picbox&&img\\\").map(item => {\\n        arr.push(parseDomForHtml(item, \\\"img&&src\\\"));\\n    });\\n}\\nvar htmlUrl = [];\\nfor (let p = 2; p <= i; p++) {\\n    htmlUrl.push({\\n        url: input.replace(\\\".html\\\", \\\"_\\\" + p + \\\".html\\\"), \\n    });\\n}\\nvar htmlArr = batchFetch(htmlUrl);\\n\\nvar picArr = [];\\nmap(firstPage, picArr);\\nhtmlArr.map(item =>map(item, picArr));\\n$.exports=\\\"pics://\\\" + picArr.join(\\\"&&\\\");\"}]","icon":"https://scpic3.chinaz.net/Files/pic/logo9/202102/d/wulogo24387.jpg"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"图片","path":"Picture","rule":"var firstPage = request(input);\ntry{\nvar i = parseDomForHtml(firstPage, \".pages&&li&&Text\").split('/')[1];\n}catch(e){var i=2}\nvar map = (html, arr) => {\n    parseDomForArray(html, \"body&&#ArticleBox\").map(item => {\n        arr.push(parseDomForHtml(item, \"img&&src\"));\n    });\n}\nvar htmlUrl = [];\nfor (let p = 2; p <= i; p++) {\n    htmlUrl.push({\n        url: input.replace(\".htm\", \"_\" + p + \".htm\"), \n    });\n}\nvar htmlArr = batchFetch(htmlUrl);\n\nvar picArr = [];\nmap(firstPage, picArr);\nhtmlArr.map(item =>map(item, picArr));\ntry{\n$.exports=\"pics://\" + picArr.join(\"&&\");\n}catch(e){$.exports=\"pics://\" + picArr}"}],"title":"优美","author":"子丑寅卯","version":2,"url":"https://m.umei.ccfyAllindex_fypage.htm[firstPage=https://m.umei.ccfyAll]","col_type":"movie_3","class_name":"国内&日韩&港台&欧美&秀人模特","class_url":"/p/gaoqing/cn/&/p/gaoqing/rihan/&/p/gaoqing/gangtai/&/p/gaoqing/oumei/&/p/gaoqing/xiuren_VIP/","area_name":"电脑壁纸&手机壁纸&动态壁纸&护眼壁纸&美女壁纸&小清新壁纸&唯美壁纸&风景壁纸&可爱壁纸&爆笑图片&恶搞图片&搞笑动态图片&QQ头像&男生头像&女生头像&欧美头像&卡通头像&闺蜜头像&可爱头像&小清新头像&情侣头像&非主流头像&性感美女&丝袜美女&美女写真&外国美女&内衣美女&街拍美女&美女自拍&人体艺术&美女模特&欧美图片&非主流图片&可爱图片&文字图片&爱情图片&意境图片&小清新图片&婚纱图片&女生发型&男生发型&明星发型&长发发型&短发发型&韩式发型&新娘发型&发型设计&动漫图片&卡通图片&卡通人物&动漫壁纸&动漫大全&风景图片&植物图片&动物图片&美食图片&帅哥图片&纹身图片&","area_url":"/bizhitupian/diannaobizhi/&/bizhitupian/shoujibizhi/&/bizhitupian/dongtaibizhi/&/bizhitupian/huyanbizhi/&/bizhitupian/meinvbizhi/&/bizhitupian/xiaoqingxinbizhi/&/bizhitupian/weimeibizhi/&/bizhitupian/fengjingbizhi/&/bizhitupian/keaibizhi/&/gaoxiaotupian/baoxiaotupian/&/gaoxiaotupian/nahantupian/&/gaoxiaotupian/gaoxiaodongtaitupian/&/touxiangtupian/QQtouxiang/&/touxiangtupian/nanshengtouxiang/&/touxiangtupian/nvshengtouxiang/&/touxiangtupian/oumeitouxiang/&/touxiangtupian/katongtouxiang/&/touxiangtupian/guimitouxiang/&/touxiangtupian/keaitouxiang/&/touxiangtupian/xiaoqingxintouxiang/&/touxiangtupian/qinglvtouxiang/&/touxiangtupian/feizhuliutouxiang/&/meinvtupian/xingganmeinv/&/meinvtupian/siwameinv/&/meinvtupian/meinvxiezhen/&/meinvtupian/waiguomeinv/&/meinvtupian/nayimeinv/&/meinvtupian/jiepaimeinv/&/meinvtupian/meinvzipai/&/meinvtupian/rentiyishu/&/meinvtupian/meinvmote/&/weimeitupian/oumeitupian/&/weimeitupian/feizhuliutupian/&/weimeitupian/keaitupian/&/weimeitupian/wenzitupian/&/weimeitupian/aiqingtupian/&/weimeitupian/yijingtupian/&/weimeitupian/xiaoqingxintupian/&/weimeitupian/hunshatupian/&/faxingtupian/nvshengfaxing/&/faxingtupian/nanshengfaxing/&/faxingtupian/mingxingfaxing/&/faxingtupian/changfafaxing/&/faxingtupian/duanfafaxing/&/faxingtupian/hanshifaxing/&/faxingtupian/xinniangfaxing/&/faxingtupian/faxingsheji/&/katongdongman/dongmantupian/&/katongdongman/katongtupian/&/katongdongman/katongrenwu/&/katongdongman/dongmanbizhi/&/katongdongman/dongmandaquan/&/tupiandaquan/fengjingtupian/&/tupiandaquan/zhiwutupian/&/tupiandaquan/dongwutupian/&/tupiandaquan/meishitupian/&/tupiandaquan/shuaigetupian/&/tupiandaquan/wenshentupian/&","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\r\n\r\nvar list = parseDomForArray(getResCode(), '.pic-list&&li');\ntry{\r\nfor (var j in list) {  \r\nd.push({       \r\ntitle: parseDomForHtml(list[j], 'img&&alt'),           \r\npic_url: parseDomForHtml(list[j], 'img&&data-original'),       \r\nurl: $(parseDom(list[j],'a&&href')).lazyRule(()=>eval(JSON.parse(fetch(\"hiker://page/Picture?rule=\"+getVar('name'))).rule))\n});\n}\n}catch(e){\n}\n\r\n\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"","search_url":"","titleColor":"#ffff00ff","group":"⑤图片","detail_col_type":"pic_1_full","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"putVar('name',MY_RULE.title)","pages":"[{\"col_type\":\"movie_3\",\"name\":\"图片\",\"path\":\"Picture\",\"rule\":\"var firstPage = request(input);\\ntry{\\nvar i = parseDomForHtml(firstPage, \\\".pages&&li&&Text\\\").split('/')[1];\\n}catch(e){var i=2}\\nvar map = (html, arr) => {\\n    parseDomForArray(html, \\\"body&&#ArticleBox\\\").map(item => {\\n        arr.push(parseDomForHtml(item, \\\"img&&src\\\"));\\n    });\\n}\\nvar htmlUrl = [];\\nfor (let p = 2; p <= i; p++) {\\n    htmlUrl.push({\\n        url: input.replace(\\\".htm\\\", \\\"_\\\" + p + \\\".htm\\\"), \\n    });\\n}\\nvar htmlArr = batchFetch(htmlUrl);\\n\\nvar picArr = [];\\nmap(firstPage, picArr);\\nhtmlArr.map(item =>map(item, picArr));\\ntry{\\n$.exports=\\\"pics://\\\" + picArr.join(\\\"&&\\\");\\n}catch(e){$.exports=\\\"pics://\\\" + picArr}\"}]","icon":"http://kr.shanghai-jiuxin.com/file/mm/20210503/jp1dmzj4cvy.jpg"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"deng","path":"deng","rule":"function canUse() {\n    //如果更新了规则也要限流，可以修改key\n    let key = \"lock1\"\n    //等待分钟数\n    let waitMin = 5\n    \n    let min = Math.round(Math.random() * 1000 * 60 * waitMin)\n    let unlock = new Date().getTime() + min;\n    let time = getItem(key, \"\");\n    if (time == \"\") {\n        setItem(key, \"\" + unlock)\n        let st = new Date(unlock).toLocaleString().replace(/:\\d{1,2}$/, ' ');\n\n        let msg = \"\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\使用需知<br><br>这是您第一次使用/更新该版本规则，下面为使用介绍，请仔细阅读。本规则将在\" + st + \"解锁使用。<br><br>ⓐ本小程序图标分为影视图标、音乐图标以及Q版图标<br>ⓑ影视图标共146个、音乐图标共152个、Q版图标共138个欢迎大家前来挑选自己喜爱的那一个<br>ⓒ使用方法：你喜欢哪个图标点下对应图标就会自动复制图标链接，然后粘贴到你想添加的位置即可<br>ⓓ本小程序的图标数量和类型会不定期增加届时请及时到仓库导入新版<br>ⓔ如遇到重复图标/不显示图标/少号图标请及时到仓库或者论坛反馈<br>ⓕ请仔细阅读以上内容并且到时间后重新访问本规则或者等待时间到了刷新本页面即可。<br><br>Tips:好规则不怕晚，请耐心等待！该提示仅在第一次导入（更新）时出现，后续使用过程中不会出现！\"\n        setResult([{\n            title: msg,\n            col_type: \"rich_text\"\n        }])\n        return false\n    } else if (parseInt(time) < new Date().getTime()) {\n        return true\n    } else {\n        let st = new Date(parseInt(time)).toLocaleString().replace(/:\\d{1,2}$/, ' ');\n\n        let msg = \"\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\使用需知<br><br>这是您第一次使用/更新该小程序规则，下面为使用介绍，请仔细阅读。本规则将在\" + st + \"解锁使用。<br><br>ⓐ本小程序图标分为影视图标、音乐图标以及Q版图标<br>ⓑ影视图标共146个、音乐图标共152个、Q版图标共138个欢迎大家前来挑选自己喜爱的那一个<br>ⓒ使用方法：你喜欢哪个图标点下对应图标就会自动复制图标链接，然后粘贴到你想添加的位置即可<br>ⓓ本小程序的图标数量和类型会不定期增加届时请及时到仓库导入新版<br>ⓔ如遇到重复图标/不显示图标/少号图标请及时到仓库或者论坛反馈<br>ⓕ请仔细阅读以上内容并且到时间后重新访问本规则或者等待时间到了刷新本页面即可。<br><br>Tips:好规则不怕晚，请耐心等待！该提示仅在第一次导入（更新）时出现，后续使用过程中不会出现！\"\n        setResult([{\n            title: msg,\n            col_type: \"rich_text\"\n        }])\n        return false\n    }\n}\n$.exports = canUse();"}],"title":"蓝莓图标.dz","author":"道长&蓝莓果酱UX","version":10,"url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nconst canUse = $.require(\"hiker://page/deng\");\nif (canUse) {\n    \nconst {color, small} = $.require(\"hiker://page/utiliy?rule=道长仓库Pro\");\nlet host = 'https://lanmeiguojiang.com/tubiao/';\nlet names = '影视&音乐&Q版&可爱&其它'.split('&');\nlet keys = 'movie&music&q&ke&messy'.split('&');\nlet d=[];\nfor(let i in names){\n    d.push({\n        title:names[i]===getVar('lm.icon','影视')?color(names[i],'#00bbf0'):names[i],\n        url:$().lazyRule((name,key)=>{\n            putVar('lm.icon',name);\n            putVar('lm.iconKey',key);\n            refreshPage(true);\n            return 'hiker://empty'\n        },names[i],keys[i]),\n        col_type:'scroll_button'\n    });\n}\nlet max = 1;\nlet ext = '.svg';\nswitch (getVar('lm.icon','影视')){\n    case '影视':\n        max = 146;\n        break;\n    case '音乐':\n        max = 152;\n        break;\n    case 'Q版':\n        max = 138;\n        ext = '.png';\n        break;\n    case '可爱':\n        max = 172;\n        ext = '.png';\n        break;\n    case '其它':\n        max = 50;\n        ext = '.svg';\n        break;\n    default:\n        max = 1;\n}\nfor(let j=1;j<=max;j++){\n    let pic = host+getVar('lm.iconKey','movie')+'/'+j+ext;\n    d.push({\n        // col_type: 'icon_small_4',\n        col_type: 'icon_round_4',\n        title:j+ext,\n        pic_url:pic,\n        url:$('#noLoading#').lazyRule((pic)=>{\n            copy(pic);\n            return 'hiker://empty'\n        },pic)\n    });\n}\nsetResult(d);\n\n}","searchFind":"","search_url":"","group":"⑤图片","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"deng\",\"path\":\"deng\",\"rule\":\"function canUse() {\\n    //如果更新了规则也要限流，可以修改key\\n    let key = \\\"lock1\\\"\\n    //等待分钟数\\n    let waitMin = 5\\n    \\n    let min = Math.round(Math.random() * 1000 * 60 * waitMin)\\n    let unlock = new Date().getTime() + min;\\n    let time = getItem(key, \\\"\\\");\\n    if (time == \\\"\\\") {\\n        setItem(key, \\\"\\\" + unlock)\\n        let st = new Date(unlock).toLocaleString().replace(/:\\\\d{1,2}$/, ' ');\\n\\n        let msg = \\\"\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\使用需知<br><br>这是您第一次使用/更新该版本规则，下面为使用介绍，请仔细阅读。本规则将在\\\" + st + \\\"解锁使用。<br><br>ⓐ本小程序图标分为影视图标、音乐图标以及Q版图标<br>ⓑ影视图标共146个、音乐图标共152个、Q版图标共138个欢迎大家前来挑选自己喜爱的那一个<br>ⓒ使用方法：你喜欢哪个图标点下对应图标就会自动复制图标链接，然后粘贴到你想添加的位置即可<br>ⓓ本小程序的图标数量和类型会不定期增加届时请及时到仓库导入新版<br>ⓔ如遇到重复图标/不显示图标/少号图标请及时到仓库或者论坛反馈<br>ⓕ请仔细阅读以上内容并且到时间后重新访问本规则或者等待时间到了刷新本页面即可。<br><br>Tips:好规则不怕晚，请耐心等待！该提示仅在第一次导入（更新）时出现，后续使用过程中不会出现！\\\"\\n        setResult([{\\n            title: msg,\\n            col_type: \\\"rich_text\\\"\\n        }])\\n        return false\\n    } else if (parseInt(time) < new Date().getTime()) {\\n        return true\\n    } else {\\n        let st = new Date(parseInt(time)).toLocaleString().replace(/:\\\\d{1,2}$/, ' ');\\n\\n        let msg = \\\"\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\使用需知<br><br>这是您第一次使用/更新该小程序规则，下面为使用介绍，请仔细阅读。本规则将在\\\" + st + \\\"解锁使用。<br><br>ⓐ本小程序图标分为影视图标、音乐图标以及Q版图标<br>ⓑ影视图标共146个、音乐图标共152个、Q版图标共138个欢迎大家前来挑选自己喜爱的那一个<br>ⓒ使用方法：你喜欢哪个图标点下对应图标就会自动复制图标链接，然后粘贴到你想添加的位置即可<br>ⓓ本小程序的图标数量和类型会不定期增加届时请及时到仓库导入新版<br>ⓔ如遇到重复图标/不显示图标/少号图标请及时到仓库或者论坛反馈<br>ⓕ请仔细阅读以上内容并且到时间后重新访问本规则或者等待时间到了刷新本页面即可。<br><br>Tips:好规则不怕晚，请耐心等待！该提示仅在第一次导入（更新）时出现，后续使用过程中不会出现！\\\"\\n        setResult([{\\n            title: msg,\\n            col_type: \\\"rich_text\\\"\\n        }])\\n        return false\\n    }\\n}\\n$.exports = canUse();\"}]","icon":"https://lanmeiguojiang.com/tubiao/q/2.png"},{"last_chapter_rule":"","pageList":[],"title":"3G壁纸i","author":"ivnyoov","version":0,"url":"https://www.3gbizhi.com/fyclass/index_fypage.html[firstPage=https://www.3gbizhi.com/fyclass/]","col_type":"movie_3_marquee","class_name":"美女&明星&影视&动漫&卡通&汽车&爱情&游戏&体育&车模&风景&品牌&可爱&节日&建筑&植物&动物&创意&精美","class_url":"wallMV&wallMX&wallYS&wallDM&wallKT&wallQC&wallAQ&wallYX&wallTY&wallCM&wallQFJ&wallPP&wallKA&wallJR&wallJZ&wallZW&wallDW&wallCY&wallQT","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".contlistw&&.cl&&li;\nimg&&alt;\nimg&&lazysrc;\n.tips&&Text;\na,2&&href.js:input+'@lazyRule=#showimg＆＆＆＆a,2＆＆＆＆href'","searchFind":"","search_url":"","titleColor":"#ffff7000","group":"⑤图片","detail_col_type":"pic_1_full","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"头像大全解析版","author":"巫婆花卷","version":2,"url":"http://m.crcz.com/touxiang/fyAll/list_fypage.html[firstPage=http://m.crcz.com/touxiang/fyAll]","col_type":"movie_3","class_name":"男&帅哥&帅气&霸气超拽&高冷&成熟&部位&高清&快手&抖音&丧&小清新&伤感&颓废&背影&潮流&冷酷&黑白&萌男&可爱&阳光","class_url":"nan&nan/shuaige&nan/shuaiqi&nan/baqi&nan/gaoleng&nan/chengshu&nan/buwei&nan/gaoqing&nan/ks&nan/douyin&nan/sang&nan/xiaoqingxin&nan/shanggan&nan/tuifei&nan/beiying&nan/chaoliu&nan/lengku&nan/heibai&nan/mengnan&nan/keai&nan/yangguang","area_name":"女&闺蜜&霸气&可爱&背影&高冷&小清新&高清&唯美&气质&伤感&仙女&黑白&森系&超拽&颓废&古风&欧美&小女孩&部位&快手","area_url":"nv&nv/guimi&nv/baqi&nv/keai&nv/beiying&nv/gaoleng&nv/xiaoqingxin&nv/gaoqing&nv/weimei&nv/qizhi&nv/shanggan&nv/xiannv&nv/heibai&nv/senxi&nv/chaozhuai&nv/tuifei&nv/gufeng&nv/oumei&nv/xiaonvhai&nv/buwei&nv/kuaishou","sort_name":"动漫&情侣&一左一右&女生&美女&姐妹&男生&帅气&可爱&呆萌&冷酷&手绘&简笔画&黑白&二次元&素描&漫画&古风&唯美&快手&卡哇伊","year_name":"情侣&快手&抖音&黑白&可爱&欧美&霸气&高清&背影&唯美&小清新&浪漫&接吻&搞怪&创意&污&小孩子&一人一半&一男一女&双人&一左一右","sort_url":"dongman&dongman/qinglv&dongman/yizuoyiyou&dongman/nvsheng&dongman/meinv&dongman/jiemei&dongman/nansheng&dongman/shuaige&dongman/keai&dongman/daimeng&dongman/ku&dongman/shouhui&dongman/jianbihua&dongman/heibai&dongman/erciyuan&dongman/sumiao&dongman/manhua&dongman/gufeng&dongman/weimei&dongman/kuaishou&dongman/kawayi","year_url":"qinglv&qinglv/kuaishou&qinglv/douyin&qinglv/heibai&qinglv/keai&qinglv/oumei&qinglv/baqi&qinglv/gaoqing&qinglv/beiying&qinglv/weimei&qinglv/xiaoqingxin&qinglv/langman&qinglv/jiewen&qinglv/gaoguai&qinglv/chuangyi&qinglv/wu&qinglv/xiaohaizi&qinglv/yirenyiban&qinglv/yinanyinv&qinglv/shuangren&qinglv/yizuoyiyou","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\r\ntry{\r\n//定位\nvar list = parseDomForArray(getResCode(), '.list&&li');\r\nfor (var j in list) {  \r\nd.push({       \r\n//标题\ntitle: parseDomForHtml(list[j], 'a&&title'),       \r\n//描述\ndesc: parseDomForHtml(list[j], 'p&&Text'),       \r\n//图片地址\npic_url: parseDom(list[j], 'img&&src'),       \r\n//链接\n//阅后即焚+\"#noRecordHistory#\"\n//针对图片需要翻页.replace('.html','_fypage.html')\nurl: parseDom(list[j],'a&&href')+`@lazyRule=.js:var url =parseDom(fetch(input,{}),'.content&&Html').match(/http?.*jpg/g);'pics://'+url.join('&&')`\n});\r\n}\r\n}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"","search_url":"","group":"⑤图片","detail_col_type":"pic_1_full","detail_find_rule":".content&&img;;img&&src;;img&&src","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":"","pages":"[]","icon":"http://m.crcz.com/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"头像大全","author":"巫婆花卷","version":2,"url":"http://m.crcz.com/touxiang/fyAll/list_fypage.html[firstPage=http://m.crcz.com/touxiang/fyAll]","col_type":"movie_3","class_name":"男&帅哥&帅气&霸气超拽&高冷&成熟&部位&高清&快手&抖音&丧&小清新&伤感&颓废&背影&潮流&冷酷&黑白&萌男&可爱&阳光","class_url":"nan&nan/shuaige&nan/shuaiqi&nan/baqi&nan/gaoleng&nan/chengshu&nan/buwei&nan/gaoqing&nan/ks&nan/douyin&nan/sang&nan/xiaoqingxin&nan/shanggan&nan/tuifei&nan/beiying&nan/chaoliu&nan/lengku&nan/heibai&nan/mengnan&nan/keai&nan/yangguang","area_name":"女&闺蜜&霸气&可爱&背影&高冷&小清新&高清&唯美&气质&伤感&仙女&黑白&森系&超拽&颓废&古风&欧美&小女孩&部位&快手","area_url":"nv&nv/guimi&nv/baqi&nv/keai&nv/beiying&nv/gaoleng&nv/xiaoqingxin&nv/gaoqing&nv/weimei&nv/qizhi&nv/shanggan&nv/xiannv&nv/heibai&nv/senxi&nv/chaozhuai&nv/tuifei&nv/gufeng&nv/oumei&nv/xiaonvhai&nv/buwei&nv/kuaishou","sort_name":"动漫&情侣&一左一右&女生&美女&姐妹&男生&帅气&可爱&呆萌&冷酷&手绘&简笔画&黑白&二次元&素描&漫画&古风&唯美&快手&卡哇伊","year_name":"情侣&快手&抖音&黑白&可爱&欧美&霸气&高清&背影&唯美&小清新&浪漫&接吻&搞怪&创意&污&小孩子&一人一半&一男一女&双人&一左一右","sort_url":"dongman&dongman/qinglv&dongman/yizuoyiyou&dongman/nvsheng&dongman/meinv&dongman/jiemei&dongman/nansheng&dongman/shuaige&dongman/keai&dongman/daimeng&dongman/ku&dongman/shouhui&dongman/jianbihua&dongman/heibai&dongman/erciyuan&dongman/sumiao&dongman/manhua&dongman/gufeng&dongman/weimei&dongman/kuaishou&dongman/kawayi","year_url":"qinglv&qinglv/kuaishou&qinglv/douyin&qinglv/heibai&qinglv/keai&qinglv/oumei&qinglv/baqi&qinglv/gaoqing&qinglv/beiying&qinglv/weimei&qinglv/xiaoqingxin&qinglv/langman&qinglv/jiewen&qinglv/gaoguai&qinglv/chuangyi&qinglv/wu&qinglv/xiaohaizi&qinglv/yirenyiban&qinglv/yinanyinv&qinglv/shuangren&qinglv/yizuoyiyou","find_rule":".list&&li;a&&title;img&&src;p&&Text;a&&href","searchFind":"","search_url":"","titleColor":"#ffff00ff","group":"⑤图片","detail_col_type":"pic_1_full","detail_find_rule":".content&&img;;img&&src;;img&&src","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":"","pages":"[]","icon":"http://m.crcz.com/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"小姐姐合集","author":"Hood","version":10,"url":"hiker://fyAll","col_type":"text_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js: \nvar titles=\n[\n'小姐姐1@@https://tvv.tw/xjj/get/',\n'小姐姐2@@https://mm.diskgirl.com/pc.html',\n'小姐姐3@@https://v.nrzj.vip/',\n'小姐姐4@@https://xjj.349457.xyz/',\n\n\n'小姐姐6@@http://dou.plus/index.html',\n'小姐姐7@@http://xjj.nbtd.vip/index.html',\n'小姐姐8@@https://www.xlzyw.com/xjj/ks/',\n\n'小姐姐9@@https://tvv.tw/xjj/kuaishou/',\n'小姐姐10@@https://xjiejie.vip',\n'小姐姐11@@http://shishuiliunian.top/sjj/',\n'小姐姐12@@http://shishuiliunian.top/xjj/',\n'小姐姐13@@https://tvv.tw/xjj/',\n'小姐姐14@@https://tvv.tw/xjj/index.html',\n'小姐姐15@@https://xjjmv.com/',\n];\n\nvar t=titles;\nvar res={};\nvar d=[];\n\nd.push({\n    title:\"““””<b>\"+'<span style=\"color: #6699FF\">'+'小姐姐随机资源：'+'</span></b>',\n    url: 'toast://点什么点 (｡•ˇ‸ˇ•｡)',\n    col_type: 'text_1'\n});\n\nfor(var i=0;i<t.length;i++)\n{\n   var k=t[i].split(/\\s*@@\\s*/);\n   if(k.length<2)continue;\n   var r={};\n   r.title=k[0];\n   r.url=k[1];\n   r.col_type='text_3';\n   d.push(r);\n}\n\nfor(var b=0;b<3;b++)\n{\n   d.push({\n    col_type: 'big_blank_block'});\n}\n\nres.data = d;\nsetHomeResult(res);","searchFind":"","search_url":"","titleColor":"#fff20c00","group":"⑤短视频","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"随机小姐姐","author":"SuperTian","version":1,"url":"hiker://empty#fyAll","col_type":"movie_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js: \nvar res={};\nvar d=[];\n\nd.push({\n    title:\"““””<b>\"+'<span style=\"color: #6699FF\">'+'小姐姐虽好，可不要贪杯哦！'+'</span></b>',\n    col_type: 'text_center_1'\n});\nd.push({\n    url: 'hiker://search',\n    desc: '搜你想要的...',\n    title: '请输入关键词搜索',\n    col_type: 'icon_1_search'\n});\nd.push({\n    title: \"随机小姐姐1\",\n    url: \"https://v.nrzj.vip/\",\ndesc: '0',\n  col_type: 'card_pic_1',\npic_url: \"https://si1.go2yd.com/get-image/0tW7hoD8VgK\"\n});\nd.push({\n    title: \"随机小姐姐2\",\n    url: \"http://shishuiliunian.top/xjj/\",\n  col_type: 'card_pic_2_2_left',\npic_url: \"http://t14.baidu.com/it/u=2771484152,1736643494&fm=224&app=112&f=JPEG?w=500&h=500\"\n});\nd.push({\n  title: \"随机小姐姐3\",\n  desc: '', url: 'https://xjiejie.vip/', \n      col_type: \"card_pic_2_2\", \n       pic_url: \"https://img0.baidu.com/it/u=1718821081,3862550060&fm=26&fmt=auto\"\n});\nd.push({\n  title: \"随机小姐姐4\",\n  desc: '', url: 'https://tvv.tw/xjj/kuaishou/',                        col_type: \"card_pic_2_2\", \n    pic_url: \"https://img2.baidu.com/it/u=2522372638,4180609482&fm=26&fmt=auto\"\n});\nd.push({\n    title: \"随机小姐姐5\",\n    url: \"https://www.xlzyw.com/xjj/ks/\",\ndesc: '0',\n  col_type: 'card_pic_2_2_left',\npic_url: \"https://img0.baidu.com/it/u=473473086,670514120&fm=15&fmt=auto\"\n});\nd.push({\n    title: \"随机小姐姐6\",\n    url: \"https://www.nihaowua.com/v/\",\ndesc: '0',\n  col_type: 'card_pic_2_2_left',\npic_url: \"https://img1.baidu.com/it/u=299272059,2640616913&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=500\"\n});\nd.push({\n    title: \"随机小姐姐7\",\n    url: \"http://www.kuaidoushe.com/\",\ndesc: '0',\n  col_type: 'card_pic_2',\npic_url: \"https://img2.baidu.com/it/u=202105348,1603865392&fm=224&fmt=auto&gp=0.jpg\"\n});\n\nres.data = d;\nsetHomeResult(res);","searchFind":"","search_url":"","titleColor":"#fff20c00","group":"⑤短视频","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"播视网","author":"香雅情","version":0,"url":"https://search.boosj.com/search_fyAll___fypage_.html","col_type":"movie_1_vertical_pic","class_name":"全部&娱乐&时尚&生活&汽车世界&旅游&公益&酷玩&儿童频道&童星体验站&健康&格子星动画&综艺","class_url":"res_&res_14&res_19&res_23&res_402&res_462&res_1222&res_2922&res_3362&res_4302&res_4711&res_4983&cinema__","area_name":"广场舞&广场舞公开课&广场舞队视频大全&健身舞&瑜伽","area_url":"res_1362&res_3642&res_3424&res_3408&res_3410","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar items = [];\nvar html = getResCode();\n\nvar list = parseDomForArray(html, 'body&&.bj-col4:has(.imgtext)');\n\nfor (var i = 0; i < list.length; i++) {\n    var title = parseDomForHtml(list[i], 'a&&title');\n    var img = parseDom(list[i], 'img&&data-original');\n    var url = parseDom(list[i], 'a&&href');\n    var desc = parseDomForHtml(list[i], '.imgtext--h3&&Text');\n    items.push({\n        title: title,\n        pic_url: img,\n        url: $(url).lazyRule(() => {\n            var vid = request(input).match(/vid:\\\"(.*?)\\\"/)[1];\n            var rip = request('https://gslb.boosj.com/ipv2.json', {});\n            //log(rip);\n            let url = buildUrl('https://gslb.boosj.com/gslb?_id=' + vid, JSON.parse(rip))\n            //log(url)\n            var json = JSON.parse(fetch(url, {\n                headers: {\n                    \"User-Agent\": MOBILE_UA,\n                    \"Referer\": \"https://www.boosj.com/\"\n                }\n            }));\n            //log(json);\n            return json.url + '?' + json.t + ';{Referer@https://www.boosj.com/}'\n        }),\n        desc: desc\n    });\n}\n\nsetHomeResult({\n    data: items\n});","searchFind":"js:\nvar res = {};\r\nvar items = [];\r\nvar html = JSON.parse(getResCode());\r\n\r\nvar list = html.body.result;\r\n\r\nfor (var i = 0; i < list.length; i++) {\r\n    var title = list[i].resourceName;\r\n    var img = list[i].imageUrl;\r\n    var cont = list[i].intro;\r\n    var url = list[i].resourceId;\r\n    var score = list[i].score;\r\n\r\n    items.push({\r\n        title: title,\r\n        pic_url: img + '@Referer=',\r\n        url: $(url).lazyRule(() => {\r\n            var vid = input;\r\n            var rip = request('https://gslb.boosj.com/ipv2.json', {});\r\n            //log(rip);\r\n            let url = buildUrl('https://gslb.boosj.com/gslb?_id=' + vid, JSON.parse(rip))\r\n            //log(url)\r\n            var json = JSON.parse(fetch(url, {\r\n                headers: {\r\n                    \"User-Agent\": MOBILE_UA,\r\n                    \"Referer\": \"https://www.boosj.com/\"\r\n                }\r\n            }));\r\n            //log(json);\r\n            return json.url + '?' + json.t + ';{Referer@https://www.boosj.com/}'\r\n        }),\r\n        content: cont,\r\n        desc: '评分:' + score\r\n    });\r\n}\r\n\r\nres.data = items;\r\nsetSearchResult(res);","search_url":"https://search.boosj.com/m_ajax?q=**&p=fypage","titleColor":"","group":"⑤短视频","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"热舞.dm","author":"道长","version":4,"url":"hiker://empty","col_type":"movie_3","class_name":"向上滑动即可播放","class_url":"资源加载可能比较慢","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\n/** 无需下载APP，点返回即可。*/\nrequire(config.模板);\nsetResult([{\n    col_type: \"x5_webview_single\",\n    url: \"https://tvv.tw/xjj/index.html\",\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true,\n        js:注入()\n    }\n}])","searchFind":"","search_url":"","group":"⑤短视频","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"//initConfig({分类颜色:'#D96715FF'});\ninitConfig({分类颜色:'#1aad19',模板:'http://hiker.nokia.press/hikerule/rulelist.json?id=2505'});","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/08/72.png"},{"firstHeader":"class","pageList":[],"title":"iptv𝔥","author":"Hood","version":5,"url":"https://api.notelive.cn/render/myiptv","col_type":"text_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\r\nvar d = [];\nvar html = getResCode();\nvar txts = html.indexOf('移动')!=-1?html.split('\\n'):base64Decode(html).split('\\n');\n\nfor (var i = 1 ; i <txts.length-1 ; i++) {\r\n   if(txts[i].includes(\"成人\")||txts[i].includes(\"失效\")||txts[i].includes(\"README\")||txts[i]==''){continue}\nd.push({\n      title: '  ““'+txts[i].replace('.txt','')+' >>>””',\n      url: 'https://SPX372928.github.io/MyIPTV/'+txts[i]\n  });\n}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"","search_url":"","titleColor":"#000000","group":"⑥直播","detail_col_type":"text_2","detail_find_rule":"js:\nvar res = {};\r\nvar d = [];\nvar html = getResCode();\nvar txts = html.split('\\n');\n\nfor (var i = 1; i < txts.length-1; i++) {\r\n   if(!txts[i]||!txts[i].split(',')[1]){continue}\nd.push({\n      title: txts[i].split(',')[0],\n      url: txts[i].split(',')[1] +`@lazyRule=.js:input+'#isVideo=true#'`\n  });\n}\n\nfor(var b=0;b<5;b++){\nd.push({col_type: 'big_blank_block'});}\n\r\nres.data = d;\r\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":""},{"last_chapter_rule":"","pageList":[],"title":"Git直播源","author":"永远の明日","version":9,"url":"fyAll","col_type":"flex_button","class_name":"Tvlist-awesome&17712&iptv-org","class_url":"https://raw.sevencdn.com/imDazui/Tvlist-awesome-m3u-m3u8/master/m3u/国内地方台202005.m3u\n&https://cdn.jsdelivr.net/gh/1771245847/1771245847.github.io@master/ks.m3u\n&https://raw.sevencdn.com/iptv-org/iptv/master/channels/cn.m3u","area_name":"Fai&lifeizq&Daydreamer&edu0102005&HB一锅端","area_url":"https://gitee.com/be_fine/iptv/raw/master/iptv.txt\n&https://gitee.com/lifeizq/zbtv/raw/master/zbylf.txt\n&https://gitee.com/tyy85550424/IPTV/raw/master/IPTV.txt\n&https://gitee.com/edu0102005/tv/raw/master/tv1.txt\n&https://gitee.com/haobo123123123/live/raw/master/一锅端/蓝光影视直播源一锅端.txt","sort_name":"本地配置->&视界TV&2020直播&暴风源&央卫高清","year_name":"","sort_url":"hiker://empty#Local&hiker://files/rules/live/大视界TV.txt&hiker://files/rules/live/2020直播源.txt&hiker://files/rules/live/暴风源.txt&hiker://files/rules/live/央卫高清.txt","year_url":"","find_rule":"js:\nlet data = [{ col_type: 'line' }], X5 = getVar('gitLive-X5')\nif (MY_URL == 'hiker://empty#Local') {\n  data.push({\n    title: (X5 == 'X5' ? '✅' : '') + ' X5播放器',\n    url: $().lazyRule(() =>(putVar('gitLive-X5', 'X5'), refreshPage(), 'toast://已切换为X5')),\n    col_type:'text_2'\n  },\n    {\n      title: (X5 == 'Default' ? '✅' : '') + ' 默认播放器', \n      url: $().lazyRule(() => (putVar('gitLive-X5', 'Default'), refreshPage(), 'toast://已切换为默认')),\n      col_type:'text_2'\n    },\n    {\n      title: `<ul><li>以上都是从git上找的直播源，不过也可以播放本地存储的直播源，内容须是m3u格式，爱折腾的人可以自行添加哦</li></ul>\\\n    <li>下面是一些直播源git仓库</li>\\\n    <li><a href=\"https://github.com.cnpmjs.org/imDazui/Tvlist-awesome-m3u-m3u8#ignoreVideo=true#\">Tvlist-awesome-m3u-m3u8</a></li>\\\n    <li><a href=\"https://github.com.cnpmjs.org/iptv-org/iptv\">iptv-org</a></li>\\\n    <li><a href=\"https://github.com.cnpmjs.org/biancangming/wtv\">biancangming/wtv</a></li>\\\n    <li><a href=\"https://gitee.com/be_fine/iptv\">be_fine</a></li>\\\n    <li></li>`,\n      col_type: 'rich_text'\n    })\n} else if (getVar('gitLive-url') != MY_URL) {\n  const m3u = getResCode(), mode = m3u.indexOf('#EXTM3U') == 0,\n    re = mode ? /(.*),(.*)\\s*?((?:http|rtmp)[^#\\s]*)/g : /()(.*),(#genre#|(?:http|rtmp)[^#\\s]*)/g\n  let items = {}, group = ''\n  for (let i = re.exec(m3u); i != null; i = re.exec(m3u)) {\n    if (mode) group = (/group-title=\"(.*?)\"/.exec(i[1]) || [null, ''])[1]\n    else if (i[3] == '#genre#') { group = i[2]; continue }\n    let item = { title: i[2], url: i[3].trim() }\n    if (items[group]) items[group].push(item)\n    else items[group] = [item]\n  }\n  putVar('gitLive-datas', JSON.stringify(items))\n  putVar('gitLive-url', MY_URL)\n  refreshPage()\n} else {\n  data.push({ desc: '320&&float', col_type: 'x5_webview_single' })\n  const groupShow = JSON.parse(getVar('gitLive-groupShow', '[]'))\n  let items = JSON.parse(getVar('gitLive-datas', '{}')), groups = Object.keys(items)\n  groups.push(groups.splice(groups.indexOf(0), 1)[0])\n  groups.forEach((v, i) => {\n    if (v) data.push({\n      title: (groupShow[i] ? '▼  ' : '▶  ') + v,\n      url: $('#noLoading#').lazyRule(([group, index, groupShow]) => {\n        groupShow[index] = !groupShow[index]\n        putVar('gitLive-groupShow', JSON.stringify(groupShow))\n        refreshPage(false)\n        return 'toast://' + group + (groupShow[index] ? ', 已展开' : ', 已折叠')\n      }, [v, i, groupShow]),\n      col_type: 'text_center_1',\n    })\n    items[v].forEach((vv) => {\n      vv.title = '““””<big>&nbsp &nbsp </big>' + vv.title + '<big> &nbsp &nbsp</big>'\n      if (X5 == 'X5') vv.url = $(vv.url).lazyRule((title) => (refreshX5WebView(input), 'toast://已切换，' + title), vv.title)\n    })\n    if (groupShow[i] || !v) Array.prototype.push.apply(data, items[v])\n    data.push({ col_type: 'line_blank' })\n  })\n  data.pop()\n}\nsetResult(data)","searchFind":"js:\r\nconst key = MY_URL.slice(15), items = JSON.parse(getVar('gitLive-datas', '{}'))\r\nlet data = []\r\nfor (i in items)\r\n  items[i].forEach((v) => {\r\n    if (v.title.indexOf(key) >= 0)\r\n      data.push({\r\n        title: v.title,\r\n        url: v.url + (getVar('gitLive-X5')=='X5' ? '' : '@lazyRule=.js:input'),\r\n        desc: i || '无分组'\r\n      })\r\n  })\r\nsetResult(data)","search_url":"hiker://empty##**","titleColor":"#228be6","group":"⑥直播","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":"if(!getVar('gitLive-X5'))putVar('gitLive-X5', 'X5')\nif(!getVar('gitLive-groupShow'))putVar('gitLive-groupShow', '[true]')","pages":"[]","icon":""},{"pageList":[],"title":"哔哩直播_总","author":"沧海","version":0,"url":"https://api.live.bilibili.com/room/v3/area/getRoomList?platform=web&parent_area_id=fyclass&area_id=0&sort_type=online&page=fypage&page_size=30","col_type":"movie_2","class_name":"全部&娱乐&网游&手游&单机&电台&虚拟&生活&学习","class_url":"0&1&2&3&6&5&9&10&11","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:      \nvar res={};var d=[];\nvar json = JSON.parse(getResCode());\n\nfor (var i = 0; i < json.data.list.length; i ++) {\nvar j=json.data.list[i];\n\nd.push({\ntitle:j.title,\npic_url:j.system_cover,   \nurl:'https://api.live.bilibili.com/xlive/web-room/v1/playUrl/playUrl?cid='+j.roomid+'&platform=h5&otype=json&quality=0'+`@lazyRule=Text.js:JSON.parse(input).data.durl[0].url`\n\n}); }\nres.data=d;setHomeResult(res);","searchFind":"","search_url":"","titleColor":"#fff20c00","group":"⑥直播","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":""},{"pageList":[],"title":"哔哩直播_娱乐","author":"沧海","version":0,"url":"https://api.live.bilibili.com/room/v3/area/getRoomList?platform=web&parent_area_id=1&area_id=fyarea&sort_type=online&page=fypage&page_size=30","col_type":"movie_2","class_name":"","class_url":"","area_name":"全部&唱见&聊天&舞见&户外&日常&影音馆","area_url":"0&145&207&&123&399&465","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:      \nvar res={};var d=[];\nvar json = JSON.parse(getResCode());\n\nfor (var i = 0; i < json.data.list.length; i ++) {\nvar j=json.data.list[i];\n\nd.push({\ntitle:j.title,\npic_url:j.system_cover,   \nurl:'https://api.live.bilibili.com/xlive/web-room/v1/playUrl/playUrl?cid='+j.roomid+'&platform=h5&otype=json&quality=0'+`@lazyRule=Text.js:JSON.parse(input).data.durl[0].url`\n\n}); }\nres.data=d;setHomeResult(res);","searchFind":"","search_url":"","titleColor":"#fff20c00","group":"⑥直播","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":""},{"pageList":[],"title":"哔哩直播_手游","author":"沧海","version":0,"url":"https://api.live.bilibili.com/room/v3/area/getRoomList?platform=web&parent_area_id=3&area_id=fyarea&page=fypage&page_size=30","col_type":"movie_2","class_name":"","class_url":"","area_name":"全部&王者荣耀&和平精英&原神&第五人格&LOL手游&公主连结&火影忍者&明日方舟&四叶草剧场&Fate/Go&机动战姬&阴阳师&坎公骑冠剑&天地劫&决战平安京&战双帕弥什&游戏王&天谕&天涯明月刀&崩坏3&使命召唤&狼人杀&幻书启世录&百闻牌&王者模拟战&CF手游&QQ飞车&碧蓝航线&三国杀&猫和老鼠&综合棋牌&自走棋&影之诗&剑网3&DNF手游&双生视界&梦幻西游&我的勇者&重装战姬&明日之后&皇室战争&少女前线&解密游戏&忍者必须死&梦幻模拟战&BanG Dream&非人学院&辐射:避难所&雀姬&跑跑卡丁车&黑潮之上&新游测评&其他游戏","area_url":"0&35&256&321&163&395&330&292&255&418&37&449&36&442&448&140&293&407&408&389&40&386&41&411&286&280&333&154&113&352&269&354&250&156&206&343&290&342&305&262&189&50&39&42&203&178&258&212&263&214&265&340&274&98","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:      \nvar res={};var d=[];\nvar json = JSON.parse(getResCode());\n\nfor (var i = 0; i < json.data.list.length; i ++) {\nvar j=json.data.list[i];\n\nd.push({\ntitle:j.title,\npic_url:j.system_cover,   \nurl:'https://api.live.bilibili.com/xlive/web-room/v1/playUrl/playUrl?cid='+j.roomid+'&platform=h5&otype=json&quality=0'+`@lazyRule=Text.js:JSON.parse(input).data.durl[0].url`\n\n}); }\nres.data=d;setHomeResult(res);","searchFind":"","search_url":"","titleColor":"#fff20c00","group":"⑥直播","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":""},{"pageList":[],"title":"哔哩直播_网游","author":"沧海","version":0,"url":"https://api.live.bilibili.com/room/v3/area/getRoomList?platform=web&parent_area_id=2&area_id=fyarea&page=fypage&page_size=30","col_type":"movie_2","class_name":"","class_url":"","area_name":"全部&绝地求生&英雄联盟&穿越火线&CS:GO&守望先锋&逃离塔科夫&最终幻想14&VALORANT&300英雄&炉石传说&DOTA2&魔兽争霸3&DNF&FIFA&剑网3&魔兽世界&APEX英雄&使命召唤:战区&星际战甲&坦克世界&战舰世界&战争雷霆&战意&无线法则&风暴英雄&星际争霸2&DOTA自走棋&堡垒之夜&枪神纪&三国杀&龙之谷&古剑奇谭OL&幻想全明星&封印者&怀旧网游&新游前瞻&星战前夜:晨曦&梦幻西游端游&其他游戏","area_url":"0&80&86&88&89&87&252&102&329&84&91&92&181&78&388&82&83&240&318&249&115&248&316&383&196&114&93&239&164&251&81&112&173&176&300&288&298&331&350&107","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:      \nvar res={};var d=[];\nvar json = JSON.parse(getResCode());\n\nfor (var i = 0; i < json.data.list.length; i ++) {\nvar j=json.data.list[i];\n\nd.push({\ntitle:j.title,\npic_url:j.system_cover,   \nurl:'https://api.live.bilibili.com/xlive/web-room/v1/playUrl/playUrl?cid='+j.roomid+'&platform=h5&otype=json&quality=0'+`@lazyRule=Text.js:JSON.parse(input).data.durl[0].url`\n\n}); }\nres.data=d;setHomeResult(res);","searchFind":"","search_url":"","titleColor":"#fff20c00","group":"⑥直播","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":""},{"pageList":[],"title":"哔哩直播_电台","author":"沧海","version":0,"url":"https://api.live.bilibili.com/room/v3/area/getRoomList?platform=web&parent_area_id=5&area_id=fyarea&page=fypage&page_size=30","col_type":"movie_2","class_name":"","class_url":"","area_name":"全部&放松电台&唱见电台&聊天电台&配音","area_url":"0&339&190&192&193","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:      \nvar res={};var d=[];\nvar json = JSON.parse(getResCode());\n\nfor (var i = 0; i < json.data.list.length; i ++) {\nvar j=json.data.list[i];\n\nd.push({\ntitle:j.title,\npic_url:j.system_cover,   \nurl:'https://api.live.bilibili.com/xlive/web-room/v1/playUrl/playUrl?cid='+j.roomid+'&platform=h5&otype=json&quality=0'+`@lazyRule=Text.js:JSON.parse(input).data.durl[0].url`\n\n}); }\nres.data=d;setHomeResult(res);","searchFind":"","search_url":"","titleColor":"#fff20c00","group":"⑥直播","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":""},{"pageList":[],"title":"哔哩直播_单机","author":"沧海","version":0,"url":"https://api.live.bilibili.com/room/v3/area/getRoomList?platform=web&parent_area_id=6&area_id=fyarea&page=fypage&page_size=30","col_type":"movie_2","class_name":"","class_url":"","area_name":"全部&主机游戏&我的世界&独立游戏&怪物猎人:崛起&尼尔:人工生命&恐怖游戏&怀旧游戏&鬼谷八荒&糖豆人&饥荒&怪物猎人:世界&Loop Hero&仁王2&命运2&战地5&只狼&使命召唤&霓虹深渊&重生细胞&永劫无间&小小梦魇&炼金工坊&斩妖Raksasi&异界之上&火焰审判&雨中冒险2&英灵神殿&荒野大镖客2&戴森球计划&末世觉醒&节奏医生&精灵宝可梦&植物大战僵尸&刺客信条&恐鬼症&人类一败涂地&方舟&Among Us&格斗游戏&NBA2K&鬼泣5&塞尔达&全境封锁2&搜灵笔记&赛博朋克&以撒&烟火&全面战争&骑马与砍杀&枪火重生&FORZA 极限竞速&女生异闻录5&任天堂明星大乱斗&盗贼之海&无主之地3&马里奥制造2&东方大战争&辐射76&封灵档案Everhood&归家异途&橙光&恐惧之闻&泡沫冬景&双人成行&生化入侵&&先驱者&甜蜜之家&其他单机&全面战争:竞技场","area_url":"0&236&216&283&412&455&276&237&424&357&218&217&438&313&277&221&245&282&447&426&443&431&456&453&452&451&441&432&226&422&457&435&228&309&227&387&270&295&396&433&362&244&308&243&247&402&219&427&257&326&364&302&311&230&341&273&261&319&220&410&437&421&382&439&436&446&440&450&454&235&379","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:      \nvar res={};var d=[];\nvar json = JSON.parse(getResCode());\n\nfor (var i = 0; i < json.data.list.length; i ++) {\nvar j=json.data.list[i];\n\nd.push({\ntitle:j.title,\npic_url:j.system_cover,   \nurl:'https://api.live.bilibili.com/xlive/web-room/v1/playUrl/playUrl?cid='+j.roomid+'&platform=h5&otype=json&quality=0'+`@lazyRule=Text.js:JSON.parse(input).data.durl[0].url`\n\n}); }\nres.data=d;setHomeResult(res);","searchFind":"","search_url":"","titleColor":"#fff20c00","group":"⑥直播","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":""},{"pageList":[],"title":"哔哩直播_虚拟主播","author":"沧海","version":0,"url":"https://api.live.bilibili.com/room/v3/area/getRoomList?platform=web&parent_area_id=9&area_id=fyarea&page=fypage&page_size=30","col_type":"movie_2","class_name":"","class_url":"","area_name":"全部&虚拟主播&赛博朋克","area_url":"0&371&404","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:      \nvar res={};var d=[];\nvar json = JSON.parse(getResCode());\n\nfor (var i = 0; i < json.data.list.length; i ++) {\nvar j=json.data.list[i];\n\nd.push({\ntitle:j.title,\npic_url:j.system_cover,   \nurl:'https://api.live.bilibili.com/xlive/web-room/v1/playUrl/playUrl?cid='+j.roomid+'&platform=h5&otype=json&quality=0'+`@lazyRule=Text.js:JSON.parse(input).data.durl[0].url`\n\n}); }\nres.data=d;setHomeResult(res);","searchFind":"","search_url":"","titleColor":"#fff20c00","group":"⑥直播","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":""},{"pageList":[],"title":"哔哩直播_生活","author":"沧海","version":0,"url":"https://api.live.bilibili.com/room/v3/area/getRoomList?platform=web&parent_area_id=10&area_id=fyarea&page=fypage&page_size=30","col_type":"movie_2","class_name":"","class_url":"","area_name":"全部&美食&萌宠&时尚&影音馆","area_url":"0&367&369&378&33","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:      \nvar res={};var d=[];\nvar json = JSON.parse(getResCode());\n\nfor (var i = 0; i < json.data.list.length; i ++) {\nvar j=json.data.list[i];\n\nd.push({\ntitle:j.title,\npic_url:j.system_cover,   \nurl:'https://api.live.bilibili.com/xlive/web-room/v1/playUrl/playUrl?cid='+j.roomid+'&platform=h5&otype=json&quality=0'+`@lazyRule=Text.js:JSON.parse(input).data.durl[0].url`\n\n}); }\nres.data=d;setHomeResult(res);","searchFind":"","search_url":"","titleColor":"#fff20c00","group":"⑥直播","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":""},{"pageList":[],"title":"哔哩直播_学习","author":"沧海","version":0,"url":"https://api.live.bilibili.com/room/v3/area/getRoomList?platform=web&parent_area_id=11&area_id=fyarea&page=fypage&page_size=30","col_type":"movie_2","class_name":"","class_url":"","area_name":"全部&人文社科&科技科普&职业技能&陪伴学习&绘画","area_url":"0&376&375&377&372&373","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:      \nvar res={};var d=[];\nvar json = JSON.parse(getResCode());\n\nfor (var i = 0; i < json.data.list.length; i ++) {\nvar j=json.data.list[i];\n\nd.push({\ntitle:j.title,\npic_url:j.system_cover,   \nurl:'https://api.live.bilibili.com/xlive/web-room/v1/playUrl/playUrl?cid='+j.roomid+'&platform=h5&otype=json&quality=0'+`@lazyRule=Text.js:JSON.parse(input).data.durl[0].url`\n\n}); }\nres.data=d;setHomeResult(res);","searchFind":"","search_url":"","titleColor":"#fff20c00","group":"⑥直播","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":""},{"last_chapter_rule":"","pageList":[],"title":"bilibili直播","author":"Rx","version":0,"url":"https://api.live.bilibili.com/room/v3/area/getRoomList?platform=web&parent_area_id=fyclass&cate_id=0&area_id=fyarea&page=fypage&page_size=30&tag_version=1","col_type":"pic_1","class_name":"全部&网游&手游&单机&娱乐&电台&虚拟主播&生活&学习","class_url":"all&2&3&6&1&5&9&10&11","area_name":"默认小分类&影音馆（生活）","area_url":"0&33","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js: var json = {};\neval('json=' + getResCode());\nvar res = {};\nvar d = [];\nfor (var i = 0; i < json.data.list.length; i++)\n{\n var r = {};\n var j = json.data.list[i];\n r.pic_url =j.system_cover;\n r.url = 'https://api.live.bilibili.com/xlive/web-room/v1/playUrl/playUrl?cid='+j.roomid+'&platform=h5&otype=json&quality=0'+`@lazyRule=Text.js:JSON.parse(input).data.durl[0].url`;\n r.title = j.title;\n r.desc = 'UP🐷：' +j.uname;\n d.push(r);\n}\nres.data = d;\nsetHomeResult(res)","searchFind":"js:\nvar res = {};\nvar d = [];\nvar live = parseDom(getResCode(), 'body&&.headline-live&&a&&href');\nd.push({\n\t\t\ttitle: '主播',\n    url: live+'&page=fypage'+`;get;UTF-8;{User-Agent@Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.87 Safari/537.36&&Cookie@_uuid=82467373-C6A1-57BA-AE02-A9A6D177C88797248infoc; buvid3=17C9A2CB-850B-4C73-B9DE-64DB0E6DBABB143105infoc; sid=cy961fq7; rpdid=|(u|JJ)|k~l|0J'uY|Y|ukum); LIVE_BUVID=AUTO8816061022193420; bsource=search_baidu; PVID=23; finger=1984989501; arrange=matrix}`,\n    desc:'共有'+parseDomForHtml(getResCode(), 'body&&.flow-loader&&.headline-live&&.num-txt&&span&&Text').replace(\"\\(\",\"\").replace(\"\\)\",\"\")+'主播',\n\t\t\tcol_type: 'movie_1'\n\t\t});\ntry\n{d.push({\n\t\t\ttitle: '直播中',\n    url: live.replace(\"&search_type=live_user\",\"\")+'&page=fypage'+`;get;UTF-8;{User-Agent@Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.87 Safari/537.36&&Cookie@_uuid=82467373-C6A1-57BA-AE02-A9A6D177C88797248infoc; buvid3=17C9A2CB-850B-4C73-B9DE-64DB0E6DBABB143105infoc; sid=cy961fq7; rpdid=|(u|JJ)|k~l|0J'uY|Y|ukum); LIVE_BUVID=AUTO8816061022193420; bsource=search_baidu; PVID=23; finger=1984989501; arrange=matrix}`,\n    desc:'共有'+parseDomForHtml(getResCode(), 'body&&.headline-room&&.num-txt&&span&&Text').replace(\"\\(\",\"\").replace(\"\\)\",\"\")+'直播间',\n\t\t\tcol_type: 'movie_1'\n\t\t});}catch(e){}\nres.data = d;\nsetSearchResult(res);","search_url":"https://search.bilibili.com/live?keyword=**;get;UTF-8;{User-Agent@Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.87 Safari/537.36&&Cookie@_uuid=82467373-C6A1-57BA-AE02-A9A6D177C88797248infoc; buvid3=17C9A2CB-850B-4C73-B9DE-64DB0E6DBABB143105infoc; sid=cy961fq7; rpdid=|(u|JJ)|k~l|0J'uY|Y|ukum); LIVE_BUVID=AUTO8816061022193420; bsource=search_baidu; PVID=23; finger=1984989501; arrange=matrix}","titleColor":"#ffff7000","group":"⑥直播","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"js:\nvar res = {};\nvar d = [];\nif(MY_URL.indexOf(\"search_type=live_user\")!=-1){\nvar live = parseDomForArray(getResCode(), 'body&&.live-user-wrap&&li');\nfor (var i in live) {\n\t\td.push({\n\t\t\ttitle: parseDomForHtml(live[i], '.item-right&&P&&Text'),\n    url:'https://api.live.bilibili.com/xlive/web-room/v1/playUrl/playUrl?cid='+parseDom(live[i],'a&&href').split(\"live.bilibili.com/\")[1].split(\"?from\")[0]+'&platform=h5&otype=json&quality=0'+`@lazyRule=Text.js:JSON.parse(input).data.durl[0].url`,\n    /*img:\nparseDom(live[i],'.lazy-img&&img&&src'),\n    */\n    desc:parseDomForHtml(live[i], '.item-right&&.status&&Text'),\n\t\t\tcol_type: 'pic_1'\n\t\t});\n }\n}\nelse{\nvar live = parseDomForArray(getResCode(), 'body&&.live-room-wrap&&li');\nfor (var i in live) {\n\t\td.push({\n\t\t\ttitle: parseDomForHtml(live[i], 'p&&Text'),\n    url: 'https://api.live.bilibili.com/xlive/web-room/v1/playUrl/playUrl?cid='+parseDom(live[i],'a&&href').split(\"live.bilibili.com/\")[1].split(\"?from\")[0]+'&platform=h5&otype=json&quality=0'+`@lazyRule=Text.js:JSON.parse(input).data.durl[0].url`,\n    /*img:\nparseDom(live[i],'.lazy-img&&img&&src'),\n    */\n    desc:'UP🐷：'+parseDomForHtml(live[i], '.uname&&span&&Text')+'·人气'+parseDomForHtml(live[i], '.live-num&&span&&Text'),\n\t\t\tcol_type: 'pic_1'\n\t\t});\n }\n}\nres.data = d;\nsetHomeResult(res);","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"加载数据","path":"config","rule":"function getConfig() {\n    let config = fetch(\"hiker://files/rules/live/config.json\");\n    if (config == \"\") {\n        return {\n            data: [],\n            version: 0\n        }\n    } else {\n        return JSON.parse(config)\n    }\n}"},{"col_type":"movie_3","name":"批量导入","path":"batchIm","rule":"function batchImport(input, rule) {\n    input = input.trim();\n    if (input.length < 3 || input[0] != \"{\") {\n        return \"toast://请输入正确的格式\"\n    }\n    let im = JSON.parse(input);\n    if (im.data == null || im.data.length < 1) {\n        return \"toast://请输入正确的格式\"\n    }\n    eval(JSON.parse(request(\"hiker://page/config?rule=\" + rule)).rule);\n    let config = getConfig();\n    let count = 0;\n    let all = config.data.map(it => it.url + \"&&&\").join();\n    for (let i of im.data) {\n        if (all.indexOf(i.url + \"&&&\") >= 0) {\n            //重复的不要\n            continue;\n        }\n        count++;\n        config.data.push(i)\n    }\n    writeFile(\"hiker://files/rules/live/config.json\", JSON.stringify(config));\n    refreshPage();\n    return \"toast://已导入\" + count + \"条订阅源\";\n}"}],"title":"Love直播","author":"小棉袄🌞","version":28,"url":"hiker://empty#fyAll","col_type":"text_3","class_name":"收藏&设置","class_url":"&setting","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nlet data = [{\n    col_type: 'line'\n}]\nlet configPath = \"hiker://files/rules/live/config.json\";\nif (!fileExist(configPath)) {\n    writeFile(configPath, \"\");\n}\nlet config = fetch(configPath);\n\neval(JSON.parse(request(\"hiker://page/config\")).rule);\n\nfunction renderSetting() {\n    const d = [{\n        title: \"导入\",\n        col_type: \"input\",\n        desc: \"请输入直播源订阅地址\",\n        url: $.toString((rule) => {\n            if (input == \"\") {\n                return \"toast://不能为空\"\n            } else if (input.indexOf(\"http\") != 0 && input.indexOf(\"file\") != 0 && input.indexOf(\"hiker\") != 0) {\n                return \"toast://链接格式有误\"\n            } else {\n                return \"input://////请输入订阅标题.js:\" + $.toString((url, rule) => {\n                    eval(JSON.parse(request(\"hiker://page/config?rule=\" + rule)).rule);\n                    let config = getConfig();\n                    config.data.push({\n                        name: input,\n                        url: url\n                    });\n                    writeFile(\"hiker://files/rules/live/config.json\", JSON.stringify(config));\n                    refreshPage();\n                    return \"toast://已保存\";\n                }, input, rule)\n            }\n        }, MY_RULE.title)\n    }];\n\n    config = getConfig();\n    d.push({\n        title: \"““””<span style='color:#1aad19'>批量导入</span>\",\n        col_type: \"text_4\",\n        url: \"input://.js:\" + $.toString((rule) => {\n            eval(JSON.parse(request(\"hiker://page/batchIm?rule=\" + rule)).rule);\n            return batchImport(input, rule);\n        }, MY_RULE.title)\n    });\n    d.push({\n        title: \"““””<span style='color:#1aad19'>导出全部</span>\",\n        col_type: \"text_4\",\n        url: \"copy://\" + JSON.stringify(config)\n    });\n    d.push({\n        title: \"““””<span style='color:#1aad19'>编辑全部</span>\",\n        col_type: \"text_4\",\n        url: \"editFile://hiker://files/rules/live/config.json\"\n    });\n    d.push({\n        title: \"““””<span style='color:#1aad19'>使用说明</span>\",\n        col_type: \"text_4\",\n        url: \"confirm://顶部输入框输入订阅源的地址，然后点击导入按钮在弹窗里面输入订阅源标题保存即可增加一条订阅源。批量导入的格式形如点击“导出全部”按钮生成的数据格式，已存在的链接不会重复导入。.js:''\"\n    });\n    d.push({\n        col_type: \"blank_block\"\n    })\n\n    for (source of config.data) {\n        d.push({\n            title: source.name,\n            col_type: \"text_4\",\n            url: \"confirm://确认删除此订阅？.js:\" + $.toString((name) => {\n                let config = fetch(\"hiker://files/rules/live/config.json\");\n                if (config == \"\") {\n                    config = {\n                        data: [],\n                        version: 0\n                    }\n                } else {\n                    config = JSON.parse(config)\n                }\n                config.data = config.data.filter(i => i.name != name);\n\n                writeFile(\"hiker://files/rules/live/config.json\", JSON.stringify(config));\n                refreshPage();\n                return \"toast:已删除\";\n            }, source.name)\n        })\n    }\n    return d\n}\n\nfunction getReferer(url) {\n    if (url.indexOf(\"gitee\") > 0) {\n        return \"https://\" + url.split(\"://\")[1].split(\"/\")[0];\n    } else {\n        return null\n    }\n}\n\nfunction renderLiveData(url) {\n    try {\n        var txts = request(url, {\n                headers: {\n                    Referer: getReferer(url)\n                }\n            }).replace(/#EXTINF:-1 ,/g, '')\n            .replace(/#EXTINF:-1,/g, '')\n            .replace(/\\n#genre#/g, ',#genre#')\n            .replace(/#EXTINF:-1/g, '')\n            .replace(/group-title=\"/g, '')\n            .replace(/\\nhttp/g, ',http')\n            .replace(/=/g, '')\n            .replace(/，#/g, ',#')\n            .replace(/\",/g, '/')\n            .replace(/ /g, '')\n            .split('\\n');\n        const d1 = []\n        for (var i = 0; i < txts.length; i++) {\n            var r = {};\n            var j = txts[i].split(',');\n            if (txts[i].indexOf(\"#EXTINF\") == 0 &&\n                j.length == 3 && j[2].indexOf(\"http\") == 0) {\n                r.title = j[1].split('/')[j[0].split('/').length - 1];\n                r.url = j[2].replace(`\\n`, '').replace('\\r', '');\n                if (r.url.indexOf(\"http\") == 0) {\n                    r.url = r.url + \"#isVideo=true#\";\n                }\n                d1.push(r);\n                continue;\n            }\n\n            if (j.length < 2) {\n                continue;\n            }\n            r.title = j[0].split('/')[j[0].split('/').length - 1];\n            r.url = j[1].replace(`\\n`, '').replace('\\r', '');\n            if (r.url.indexOf(\"http\") == 0) {\n                r.url = r.url + \"#isVideo=true#\";\n            }\n            d1.push(r);\n        }\n        //多线路\n        const d2 = {}\n        for (let it of d1) {\n            if (d2[it.title] == null) {\n                d2[it.title] = []\n            }\n            d2[it.title].push(it.url)\n        }\n\n        for (let it of Object.keys(d2)) {\n            data.push({\n                title: it,\n                url: JSON.stringify({\n                    urls: d2[it]\n                })\n            })\n        }\n    } catch (e) {\n        data.push({\n            title: \"数据加载失败\",\n            desc: JSON.stringify(e),\n            col_type: \"text_1\"\n        })\n    }\n}\n\nif (config == \"\" || MY_URL.indexOf('setting') > 0) {\n    data = renderSetting();\n} else {\n    config = getConfig();\n    if (config.data.length <= 0) {\n        data = renderSetting();\n    } else {\n        let select = getVar(\"live-select\", config.data[0].name);\n        log(select)\n        let has = config.data.map(i => i.name).includes(select);\n        log(has)\n        if (!has) {\n            select = config.data[0].name;\n        }\n        data.push({\n            col_type: \"big_blank_block\"\n        })\n        for (source of config.data) {\n            data.push({\n                title: source.name == select ? \"““””<span style='color: #1aad19'>\" + select + \"</span>\" : source.name,\n                col_type: \"scroll_button\",\n                url: $().lazyRule((a) => {\n                    putVar(\"live-select\", a);\n                    refreshPage();\n                    return \"hiker://empty\"\n                }, source.name)\n            })\n        }\n\n        for (source of config.data) {\n            if (source.name == select) {\n                renderLiveData(source.url);\n                break\n            }\n        }\n    }\n}\nsetResult(data);","searchFind":"","search_url":"","group":"⑥直播","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"加载数据\",\"path\":\"config\",\"rule\":\"function getConfig() {\\n    let config = fetch(\\\"hiker://files/rules/live/config.json\\\");\\n    if (config == \\\"\\\") {\\n        return {\\n            data: [],\\n            version: 0\\n        }\\n    } else {\\n        return JSON.parse(config)\\n    }\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"批量导入\",\"path\":\"batchIm\",\"rule\":\"function batchImport(input, rule) {\\n    input = input.trim();\\n    if (input.length < 3 || input[0] != \\\"{\\\") {\\n        return \\\"toast://请输入正确的格式\\\"\\n    }\\n    let im = JSON.parse(input);\\n    if (im.data == null || im.data.length < 1) {\\n        return \\\"toast://请输入正确的格式\\\"\\n    }\\n    eval(JSON.parse(request(\\\"hiker://page/config?rule=\\\" + rule)).rule);\\n    let config = getConfig();\\n    let count = 0;\\n    let all = config.data.map(it => it.url + \\\"&&&\\\").join();\\n    for (let i of im.data) {\\n        if (all.indexOf(i.url + \\\"&&&\\\") >= 0) {\\n            //重复的不要\\n            continue;\\n        }\\n        count++;\\n        config.data.push(i)\\n    }\\n    writeFile(\\\"hiker://files/rules/live/config.json\\\", JSON.stringify(config));\\n    refreshPage();\\n    return \\\"toast://已导入\\\" + count + \\\"条订阅源\\\";\\n}\"}]","icon":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fis4.mzstatic.com%2Fimage%2Fthumb%2FPurple3%2Fv4%2Fdf%2Ff6%2Fda%2Fdff6da83-47d7-9cb6-2398-1919c13837b4%2Fmzl.kgmnwodo.png%2F0x0ss-85.jpg&refer=http%3A%2F%2Fis4.mzstatic.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1638629349&t=2f6d967185fe2b9c54e8b230eb83e66c"},{"last_chapter_rule":"","pageList":[],"title":"随机装备.dz","author":"道长","version":2,"url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\n/** 无需下载APP，点返回即可。*/\nsetResult([{\n    col_type: \"x5_webview_single\",\n    url: \"http://couy.xyz/\",\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true\n    }\n}])","searchFind":"","search_url":"","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/ke/145.png"},{"pageList":[],"title":"Jsons.c𝔥","author":"Hood","version":1,"url":"http://www.jsons.cn/","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\n\n//线路列表\nvar tabs = parseDomForArray(html, '.footermap&&ul');\n\n//全部选集列表\nvar conts = parseDomForArray(html, '.footermap&&ul');\n\nfor(var i = 0; i < tabs.length; i++){\n\n//选集列表\nvar list=parseDomForArray(conts[i], 'ul&&a');\n\n//线路名称\nd.push({\ntitle:\"““””<b>\"+'<span style=\"color: #33CC99\">'+parseDomForHtml(tabs[i],'b&&Text')+'</span></b>',\nurl:'toast://点什么点 (｡•ˇ‸ˇ•｡)',\ncol_type: 'text_1'});\n\n//选集名称\nfor(var j in list){\nd.push({\ntitle: parseDomForHtml(list[j],'a&&Text'),\nurl: parseDom(list[j],'a&&href'),\ncol_type: 'text_2'});\n  }\n}\n\nres.data = d;\nsetHomeResult(res);","searchFind":"","search_url":"","titleColor":"#ff13b66a","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":""},{"pageList":[],"title":"吾爱破解𝔥","author":"Hood","version":3,"url":"https://www.52pojie.cn/forum.php?mod=guide&view=fyclass&page=fypage","col_type":"text_1","class_name":"最新热门&最新精华&最新回复&最新发表","class_url":"hot&digest&new&newthread","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\n\n//列表\nvar list = parseDomForArray(html,'body&&tbody[id]');\n\nfor(var i=1;i<list.length+1;i++){\nd.push({\ntitle: (i)+ '. ' +parseDomForHtml(list[i-1],'.xst&&Text'),\nurl:'x5://https://www.52pojie.cn/'+parseDomForHtml(list[i-1],'a&&href'),\ncol_type: 'text_1'});\n}\n\r\nres.data = d;\nsetHomeResult(res);","searchFind":"body&&.result;\nh3&&Text;\na&&href;\n*;\n.c-abstract&&Text;\n*","search_url":"http://zhannei.baidu.com/cse/site?q=**&p=fypage&cc=52pojie.cn","titleColor":"#fff20c00","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":""},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"x5","path":"x5","rule":"js:\nvar d = [];\nd.push({\n    title: \"\",\n    url: \"http://www.hisprice.cn/his.php?hisurl=\" + getVar(\"_x52\"),\n    col_type: \"x5_webview_single\",\n    desc: \"100%&&float\",\n    pic_url: \"\",\n    extra: {\n        js: $.toString(() => {\n            document.querySelector(\"#recommDivId\").style.display = \"none\";\n            document.querySelector(\"#otherTopInfoId\").style.display = \"none\";\n            document.querySelector(\"body .box .head-search .pop1\").style.display = \"none\";\n            setTimeout(() => {\n                document.querySelector(\"#recommDivId\").style.display = \"none\";\n                document.querySelector(\"#otherTopInfoId\").style.display = \"none\";\n                document.querySelector(\"body .box .head-search .pop1\").style.display = \"none\";\n            }, 1000)\n        })\n    }\n});\n\nsetResult(d);"}],"title":"比价.拒绝套路","author":"小棉袄🌞","version":9,"url":"hiker://empty","col_type":"text_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\naddListener(\"onClose\", $.toString(() => {\n    clearVar(\"_x52\")\n}))\nd.push({\n    title: \"查看曲线\",\n    url: $.toString(() => {\n        putVar(\"_x52\", input)\n        return \"hiker://page/x5\"\n    }),\n    col_type: \"input\",\n    desc: \"请输入京东、淘宝商品链接\",\n    pic_url: \"\",\n});\nd.push({\n    col_type: \"line_blank\"\n});\nd.push({\n    col_type: \"big_blank_block\"\n});\n\nd.push({\n    title: \"<big>使用说明</big>\",\n    url: \"\",\n    col_type: \"rich_text\",\n    desc: \"\",\n    pic_url: \"\"\n});\n\nd.push({\n    title: \"<p>在上方的输入框里输入商品的网址或商品口令查询历史价格。拒绝节日降价套路！</p>\",\n    url: \"\",\n    col_type: \"rich_text\",\n    desc: \"\",\n    pic_url: \"\"\n});\n\nsetResult(d);","searchFind":"","search_url":"","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"x5\",\"path\":\"x5\",\"rule\":\"js:\\nvar d = [];\\nd.push({\\n    title: \\\"\\\",\\n    url: \\\"http://www.hisprice.cn/his.php?hisurl=\\\" + getVar(\\\"_x52\\\"),\\n    col_type: \\\"x5_webview_single\\\",\\n    desc: \\\"100%&&float\\\",\\n    pic_url: \\\"\\\",\\n    extra: {\\n        js: $.toString(() => {\\n            document.querySelector(\\\"#recommDivId\\\").style.display = \\\"none\\\";\\n            document.querySelector(\\\"#otherTopInfoId\\\").style.display = \\\"none\\\";\\n            document.querySelector(\\\"body .box .head-search .pop1\\\").style.display = \\\"none\\\";\\n            setTimeout(() => {\\n                document.querySelector(\\\"#recommDivId\\\").style.display = \\\"none\\\";\\n                document.querySelector(\\\"#otherTopInfoId\\\").style.display = \\\"none\\\";\\n                document.querySelector(\\\"body .box .head-search .pop1\\\").style.display = \\\"none\\\";\\n            }, 1000)\\n        })\\n    }\\n});\\n\\nsetResult(d);\"}]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"思否","author":"小棉袄🌞","version":3,"url":"https://segmentfault.com/channel/fyAll","col_type":"text_1","class_name":"后端&前端&安卓&iOS","class_url":"backend&frontend&android&ios","area_name":"人工智能&小程序&区块链&安全","area_url":"ai&miniprogram&bc&netsec","sort_name":"","year_name":"行业&工具&程序员&SF官方","sort_url":"","year_url":"industry&toolkit&programmer&segmentfault","find_rule":".content-list-wrap&&.item-wrap;h5&&Text;*;.name&&Text;a&&href","searchFind":"","search_url":"","titleColor":"#ff148e8e","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":"","pages":"[]","icon":"https://cdn.segmentfault.com/r-ce71be5c/favicon.ico"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"一级stui-vodlist","path":"stui-vodlist","rule":"var d = [];\nvar html = getResCode();\nvar list = parseDomForArray(html, '.stui-vodlist&&li');\nfor (var j in list) {\n    d.push({\n        title: parseDomForHtml(list[j], 'a&&title'),\n        desc: parseDomForHtml(list[j], '.pic-text&&Text'),\n        img: parseDom(list[j], '.lazyload||a&&data-original')+'@Referer=',\n        url: parseDom(list[j], 'a&&href') + '#immersiveTheme#'\n    });\n}\nsetResult(d);"},{"col_type":"movie_3","name":"二级.b","path":".b","rule":"var d = [];\nvar html = getResCode();\n\nd.push({\n    desc: '330&&float',\n    col_type: 'x5_webview_single'\n});\n\nvar tabs = [];\nvar conts = parseDomForArray(html, 'body&&.b');\nvar lists = [];\nfor (var i in conts) {\n    tabs.push(parseDomForHtml(conts[i], 'h3&&Text'))\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\ntry {\n    var fm = set_switch\n} catch (e) {\n    fm = MY_URL\n}\nd.push({\n    title: parseDomForHtml(html, '.stui-content__detail--h1&&Text').replace('地区', '\\n地区').replace('主演', '\\n主演'),\n    desc: parseDomForHtml(html, '.desc||.detail-content&&Text'),\n    pic_url: parseDom(html, '.lazyload&&data-original'),\n    url: fm,\n    col_type: 'movie_1_vertical_pic_blur'\n});\n\nfunction setTabs(tabs, vari) {\n    d.push({\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n        col_type: 'flex_button'\n    })\n        for (var i = 0; i < tabs.length; i++) {\n            var url = \"@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！'\";\n            d.push({\n                title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n                url: url,\n                col_type: 'flex_button'\n            })\n        }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    if (getVar('shsort') == '1') {\n        var list = lists[index].reverse();\n    }\n    for (var j in list) {\n        d.push({\n            title: parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/,'$1').replace('第', '').replace('期', ''),\n            url: parseDom(list[j], 'a&&href') + lazy,\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\n        });\n    }\n}\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nsetResult(d);"},{"col_type":"movie_3","name":"搜索stui-vodlist__media","path":"stui-vodlist__media","rule":"var d = [];\nvar list = parseDomForArray(getResCode(), '.stui-vodlist__media&&li');\nlog('搜索结果')\nlog(list)\nif (list.length == 0) throw \"搜索为空，可能匹配错误\"\nfor (var j in list) {\n    d.push({\n        title: parseDomForHtml(list[j], 'a&&title'),\n        desc: parseDomForHtml(list[j], '.pic-text&&Text'),\n        img: parseDom(list[j], 'a&&data-original'),\n        content: parseDomForHtml(list[j], '.detail--h3&&Text'),\n        url: parseDom(list[j], 'a&&href')+'#immersiveTheme#'\n    });\n}\nsetResult(d);"},{"col_type":"movie_3","name":"一级myui-vodlist","path":"myui-vodlist","rule":"var d = [];\n\nparseDomForArray(getResCode(), '.myui-vodlist&&li').forEach(list => {\n  d.push({\n       title: parseDomForHtml(list, 'h4&&Text'),\n       desc: parseDomForHtml(list, '.pic-tag||.pic-text&&Text'),\n       pic_url: parseDom(list, '.lazyload&&data-original')+'@Referer=',\n       url: parseDom(list,'a&&href')+'#immersiveTheme#'\n  });\n})\nsetResult(d);"},{"col_type":"movie_3","name":"二级nav-tabs","path":"nav-tabs","rule":"\nvar d = [];\nvar html = getResCode();\n\nd.push({\n    desc: '330&&float',\n    col_type: 'x5_webview_single'\n});\n\ntry {\n    var fm = set_switch\n} catch (e) {\n    fm = MY_URL\n}\nd.push({\n    title: parseDomForHtml(html, '.data,0&&Text').replace('地区：', '  ').replace('年份：', '  ') + '\\n' + parseDomForHtml(html, '.data,1&&Text').substring(0, 15) + '\\n' + parseDomForHtml(html, '.data,2&&Text'),\n    desc: parseDomForHtml(html, '.data,3&&Text'),\n    pic_url: parseDom(html, '.lazyload&&data-original'),\n    url: fm,\n    col_type: 'movie_1_vertical_pic_blur'\n});\n\nvar tabs = [];\nvar lists = [];\nif (!arts || !conts) {\n    var arts = parseDomForArray(html, '.nav-tabs&&a');\n    //log(arts);\n\n    for (var i in arts) {\n        tabs.push(parseDomForHtml(arts[i], 'Text'))\n    }\n    var conts = parseDomForArray(html, 'body&&.myui-content__list||.b');\n   // log(conts);\n   \n    for(let item of conts) {\n        lists.push(parseDomForArray(item, 'ul&&li'));\n    }\n}\n\nfunction setTabs(tabs, vari) {\n    d.push({\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n        col_type: 'flex_button'\n    })\n    for (var i = 0; i < tabs.length; i++) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'flex_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    if (getVar('shsort') == '1') {\n        var list = lists[index].reverse();\n    }\n    for (var j in list) {\n        d.push({\n            title: parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/,'$1').replace('第', '').replace('期', ''),\n            url: parseDom(list[j], 'a&&href')+lazy,\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\n        });\n    }\n}\n    setTabs(tabs, MY_URL);\n    setLists(lists, getVar(MY_URL, '0'));\n    \nsetResult(d);"},{"col_type":"movie_3","name":"搜索myui-vodlist__media","path":"myui-vodlist__media","rule":"var d = [];\r\nvar list = parseDomForArray(getResCode(), '#searchList&&li');\nlog('搜索结果')\nlog(list)\nif (list.length == 0) throw \"搜索为空，可能匹配错误\"\r\nfor (var j in list) {\r\n    d.push({\r\n        title: parseDomForHtml(list[j], 'a&&title'),\r\n        desc: parseDomForHtml(list[j], '.pic-text&&Text'),\r\n        pic_url: parseDom(list[j], 'a&&data-original'),\r\n        content: parseDomForHtml(list[j], '.detail--h4&&Text'),\r\n        url: parseDom(list[j], 'a&&href')+'#immersiveTheme#'\r\n    })\r\n}\r\nsetResult(d)"},{"col_type":"movie_3","name":"一级vodlist","path":"vodlist","rule":"var d = [];\nvar list = parseDomForArray(getResCode(), '.vodlist&&li');\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j], 'a&&title'),\n       desc: parseDomForHtml(list[j], 'a&&Text'),\n       pic_url: parseDom(list[j], '.lazyload&&data-original')+'@Referer=',\n       url: parseDom(list[j],'a&&href')\n  });\n}\nsetResult(d);"},{"col_type":"movie_3","name":"二级mo-play-load","path":"mo-play-load","rule":"var d = [];\nvar html = getResCode();\n\nd.push({\n    desc: '330&&float',\n    col_type: 'x5_webview_single'\n});\n\nvar arts = parseDomForArray(html, 'body&&.module-tab-content&&.module-tab-item');\n\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'span&&Text').replace('[推荐]', ''))\n}\n\nvar conts = parseDomForArray(html, 'body&&.sort-item');\n\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\nvar title = parseDomForHtml(html, 'body&&Text');\n\ntry {\n    var fm = set_switch\n} catch (e) {\n    fm = MY_URL\n}\nd.push({\n    title: parseDomForHtml(html, '.video-info-items,2&&Text').replace('分类|', '').replace('地区：', '').replace('年份：', ' ').substring(0, 18) + '\\n' + '\\n' + parseDomForHtml(html, '.video-info-items,1&&Text').substring(0, 18),\n    pic_url: parseDom(html, '.lazyload&&data-src'),\n    url: fm,\n    col_type: 'movie_1_vertical_pic_blur'\n});\n\n\nfunction setTabs(tabs, vari) {\n    d.push({\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n        col_type: 'flex_button'\n    })\n    for (var i = 0; i < tabs.length; i++) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'flex_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    if (getVar('shsort') == '1') {\n        var list = lists[index].reverse();\n    }\n    for (var j in list) {\n        d.push({\n            title: parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', ''),\n            url: parseDom(list[j], 'a&&href') + lazy,\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\n        });\n    }\n}\n\n    setTabs(tabs, MY_URL);\n    setLists(lists, getVar(MY_URL, '0'));\nsetResult(d);"},{"col_type":"movie_3","name":"二级nav-tabs1","path":"nav-tabs1","rule":"var d = [];\nvar html = getResCode();\n\nd.push({\n    desc: '330&&float',\n    col_type: 'x5_webview_single'\n});\n\nvar arts = parseDomForArray(html,'.nav-tabs&&a');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text'))\n}\n\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist||.b');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\ntry {\n    var fm = set_switch\n} catch (e) {\n    fm = MY_URL\n}\nd.push({\n title: parseDomForHtml(getResCode(), 'p,1&&Text').replace('类型：','').replace('地区：',' ').replace('年份：','').replace('语言：','')+ '\\n\\n'+parseDomForHtml(getResCode(), 'p,4&&Text').substring(0, 30),\n    desc:parseDomForHtml(getResCode(), 'p,2&&Text'),\n pic_url: parseDom(html, '.lazyload&&data-original'),\n url: fm,\n col_type: 'movie_1_vertical_pic_blur'\n});\n\nfunction setTabs(tabs, vari) {\n    d.push({\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n        col_type: 'flex_button'\n    })\n        for (var i = 0; i < tabs.length; i++) {\n            var url = \"@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！'\";\n            d.push({\n                title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n                url: url,\n                col_type: 'flex_button'\n            })\n        }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    if (getVar('shsort') == '1') {\n        var list = lists[index].reverse();\n    }\n    for (var j in list) {\n        d.push({\n            title: parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/,'$1').replace('第', '').replace('期', ''),\n            url: parseDom(list[j], 'a&&href') + lazy,\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\n        });\n    }\n}\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nsetResult(d);"},{"col_type":"movie_3","name":"定位二级","path":"erji","rule":"var tabs = [];\nvar lists = [];\n\nvar arts = parseDomForArray(html, 线路);\nvar conts = parseDomForArray(html, 选集);\n\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 线路名))\n}\n\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 选集列表))\n}\nfunction setTabs(tabs, vari) {\n    d.push({\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n        col_type: 'flex_button'\n    })\n    for (var i = 0; i < tabs.length; i++) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'flex_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    if (getVar('shsort') == '1') {\n        var list = lists[index].reverse();\n    }\n    for (var j in list) {\n        d.push({\n            title: parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', ''),\n            url: parseDom(list[j], 'a&&href') + lazy,\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\n        });\n    }\n}\ntry {\n    setTabs(tabs, MY_URL);\n    setLists(lists, getVar(MY_URL, '0'));\n} catch (e) {}"},{"col_type":"movie_3","name":"二级play_source_tab","path":"play_source_tab","rule":"var d = [];\nvar html = getResCode();\nd.push({\n    desc: '330&&float',\n    col_type: 'x5_webview_single'\n});\ntry {\n    var fm = set_switch\n} catch (e) {\n    fm = MY_URL\n}\ntry {\nd.push({\n    title: parseDomForHtml(html, '.remarks&&Text') + '\\n' + parseDomForHtml(html, '.s-top-info-detail&&a&&Text')+ parseDomForHtml(html, '.s-top-info-detail&&a,1&&Text')+ parseDomForHtml(html, '.s-top-info-detail&&a,2&&Text') + '\\n““简介：不能用就删掉吧””',\n    desc: parseDomForHtml(html, '.desc_txt&&Text').substring(0, 20),\n    img: parseDom(html, '.img-cover||.vod-detail-bj&&src'),\n    url: fm,\n    col_type: 'movie_1_vertical_pic_blur'\n});\n} catch (e) {}\n\nvar arts = parseDomForArray(html, '.play_source_tab&&a');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text'))\n}\nvar conts = parseDomForArray(html, 'body&&#playsx');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\nfunction setTabs(tabs, vari) {\n    d.push({\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n        col_type: 'flex_button'\n    })\n        for (var i = 0; i < tabs.length; i++) {\n            var url = \"@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！'\";\n            d.push({\n                title: (getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i]).replace('',''),\n                url: url,\n                col_type: 'flex_button'\n            })\n        }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    if (getVar('shsort') == '1') {\n        var list = lists[index].reverse();\n    }\n    for (var j in list) {\n        d.push({\n            title: parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/,'$1').replace('第', '').replace('期', ''),\n            url: parseDom(list[j], 'a&&href') + lazy,\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\n        });\n    }\n}\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nsetResult(d);"},{"col_type":"movie_3","name":"二级fed-play-item","path":"fed-play-item","rule":"var d = [];\nvar html = getResCode();\nd.push({\n    desc: '330&&float',\n    col_type: 'x5_webview_single'\n});\ntry {\n    var fm = set_switch\n} catch (e) {\n    fm = MY_URL\n}\nvar arts = parseDomForArray(html, 'body&&.fed-drop-btns');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text'))\n}\nvar conts = parseDomForArray(html, 'body&&.fed-play-item');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&.fed-btns-info'))\n}\nd.push({\n    title: parseDomForHtml(html, 'dd&&li,3&&Text') + '\\n' + parseDomForHtml(html, 'dd&&li,4&&Text').substring(0, 15) + '\\n' + parseDomForHtml(html, 'dd&&li,5&&Text').substring(0, 15),\n    desc: parseDomForHtml(html, 'dd&&li,6&&Text').substring(0, 25),\n    pic_url: parseDom(html, '.fed-lazy&&data-original'),\n    url: fm,\n    col_type: 'movie_1_vertical_pic'\n});\n\nfunction setTabs(tabs, vari) {\n    d.push({\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n        col_type: 'flex_button'\n    })\n    for (var i = 0; i < tabs.length; i++) {\n        var url = \"@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'flex_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    if (getVar('shsort') == '1') {\n        var list = lists[index].reverse();\n    }\n    for (var j in list) {\n        d.push({\n            title: parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', ''),\n            url: parseDom(list[j], 'a&&href') + lazy,\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\n        });\n    }\n}\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nsetResult(d);"},{"col_type":"movie_3","name":"搜索dl","path":"dl","rule":"var d = [];\nvar list = parseDomForArray(getResCode(), 'body&&dl');\nlog('搜索结果')\nlog(list)\nif (list.length == 0) throw \"搜索为空，可能匹配错误\"\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j], 'h1&&Text'),\n       desc: parseDomForHtml(list[j], '.fed-list-remarks&&Textt'),\n\t    content: parseDomForHtml(list[j], '.fed-part-esan--span&&Text'),\n       img: parseDom(list[j], 'a&&data-original'),\n       url: parseDom(list[j], 'a&&href')\n  });\n}\nsetResult(d)"},{"col_type":"movie_3","name":"#Mapping","path":"Mapping","rule":"js:\n$.exports = {\n    \"home\": [\n        //\n        {\n            keys: [\" b \"],\n            url: \".b\",\n            //     allKey: true,\n        },\n        {\n            keys: [\"nav-tabs\"],\n            url: \"nav-tabs\",\n        },\n        {\n            keys: [\"myui-content__list\"],\n            url: \"myui-content__list\",\n        },\n        {\n            keys: [\"nav-tabs\",\"stui-content__playlist\"],\n            url: \"nav-tabs1\",\n            allKey: true,\n        },\n        {\n            keys: [\"h3\",\"stui-content__playlist\"],\n            url: \"h3\",\n            allKey: true,\n        },\n        {\n            keys: [\"myui-vodlist \"],\n            url: \"myui-vodlist\",\n        },\n        {\n            keys: [\"module-tab-item\"],\n            url: \"module-tab-item\",\n            //     allKey: true,\n        },\n        {\n            keys: [\"stui-vodlist \"],\n            url: \"stui-vodlist\",\n            //     allKey: true,\n        },\n        {\n            keys: [\"play_source_tab\"],\n            url: \"play_source_tab\",\n        },\n        {\n            keys: [\"fed-play-item\"],\n            url: \"fed-play-item\",\n        },\n        {\n            keys: [\"module-items\"],\n            url: \"module-items\",\n        },\n        {\n            keys: [\"vodlist \",\"lazyload\"],\n            url: \"vodlist\",\n            allKey: true,\n        },\n        {\n            keys: [\"mo-play-load\"],\n            url: \"mo-play-load\",\n        },\n        {\n            keys: [\"fed-list-title\"],\n            url: \"fed-list-title\",\n            //allKey: true,\n        },\n        {\n            keys: [\"pack-ykpack\\\"\"],\n            url: \"pack-ykpack\",\n        },\n        {\n            keys: [\"item\"],\n            url: \"item\",\n        },\n        {\n            keys: [\"data_list\"],\n            url: \"data_list\",\n        },\n    ],\n    \"search\": [\n        // search 里写搜索的子页面映射\n        {\n            keys: [\"stui-vodlist__media\"],\n            url: \"stui-vodlist__media\",\n        },\n        {\n            keys: [\"myui-vodlist__media\"],\n            url: \"myui-vodlist__media\",\n        },\n        {\n            keys: [\"module-search-item\"],\n            url: \"module-search-item\",\n        },\n        {\n            keys: [\"dl \"],\n            url: \"dl\",\n            allKey: true,\n        },\n    ]\n}"},{"col_type":"movie_3","name":"#auto","path":"auto","rule":"js:\n// 获取该关键字的子页面代码\nfunction getPageSource(key) {\n    let src = request(\"hiker://page/\" + key + \"?rule=模板·Q\");\n    // log(src)\n    src = JSON.parse(src).rule;\n    return src;\n}\nconst sourceMap = $.require(\"hiker://page/Mapping?rule=模板·Q\");\n\nfunction autoPage(htmlsrc, type) {\n    let pageRules = [],\n        htmlSource = htmlsrc,\n        pageType,\n        mMapping;\n    if (type !== undefined) {\n        pageType = type;\n    } else {\n        pageType = MY_TYPE;\n    }\n    mMapping = sourceMap[pageType];\n    if (mMapping === undefined || !Array.isArray(mMapping)) {\n        throw new Error(\"不存在\" + pageType + \"类型的模板\");\n    }\n    for (let item of mMapping) {\n        if (item.allKey) {\n            if (item.keys.every(key => htmlSource.includes(key))) {\n                pageRules.push(item);\n            }\n        } else {\n            if (item.keys.some(key => htmlSource.includes(key))) {\n                pageRules.push(item);\n            }\n        }\n    }\n    if(pageRules.length == 0) {\n        log(\"暂无合适的模板\");\n    }\n    for (let pageRule of pageRules) {\n        log(\"正在匹配：\" + pageRule.url);\n        try {\n            eval.call(null, \";(function(){\" + getPageSource(pageRule.url) + \"})()\");\n            log(\"匹配模板成功，正在结束匹配进程\");\n            break;\n        } catch (e) {\n            log(\"匹配模板错误\");\n            log(e.toString())\n            log(\"正在匹配下一个模板......\")\n            if (pageRule.url == pageRules[pageRules.length - 1].url) {\n                log(\"已匹配到最后一个模板，暂无合适的模板\");\n                setResult([]);\n            }\n        }\n    }\n\n}\n$.exports.autoPage = autoPage;"},{"col_type":"movie_3","name":"一级pack-ykpack","path":"pack-ykpack","rule":"var d =[];\nvar list = parseDomForArray(getResCode(), 'body&&.pack-ykpack');\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j], 'a&&title'),\n       desc: parseDomForHtml(list[j], 'span,-1&&Text'),\n       img: parseDom(list[j], '.eclazy&&data-original')+'@Referer=',\n       url: parseDom(list[j],'a&&href')+ '#immersiveTheme#'\n  });\n}\nsetResult(d);"},{"col_type":"movie_3","name":"一级module-items","path":"module-items","rule":"var d = [];\nvar html = getResCode();\nvar list = parseDomForArray(html, '.module-items&&.module-item');\nfor (var j in list) {\n    d.push({\n        title: parseDomForHtml(list[j], 'a&&title'),\n        desc: parseDomForHtml(list[j], '.module-item-text&&Text'),\n        pic_url: parseDom(list[j], 'img||.lazy&&data-src')+'@Referer=',\n        url: parseDom(list[j], 'a&&href') + \"#immersiveTheme#\"\n    });\n}\nsetResult(d);"},{"col_type":"movie_3","name":"二级module-tab-item","path":"module-tab-item","rule":"var d = [];\nvar html = getResCode();\nd.push({\n    desc: '330&&float',\n    col_type: 'x5_webview_single'\n});\ntry {\n    var fm = set_switch\n} catch (e) {\n    fm = MY_URL\n}\ntry {\nvar title = parseDomForArray(html, 'body--a&&.tag-link');\n} catch (e) {\n  var title = '';\n}\nvar T = [];\nfor (var i in title) {\n    T.push(parseDomForHtml(title[i], 'a&&Text'))\n}\nd.push({\n    title: T.join('  ') + '\\n' + parseDomForHtml(html, '.video-info-items,1&&Text').split('/').join('  ').substring(0, 20) + '\\n' + parseDomForHtml(html, '.video-info-items&&Text').split('/').join('  ').substring(0, 20),\n    desc: parseDomForHtml(html, '.video-info-items,2&&Text'),\n    img: parseDom(html, '.lazyload&&data-src'),\n    url: fm,\n    col_type: 'movie_1_vertical_pic_blur'\n});\n\nvar des_desc = parseDomForHtml(html, '.vod_content--a&&Text');\nif (des_desc.length > 50) {\n    des_desc = des_desc.replace(des_desc, des_desc.substring(0, 50) + \"......\");\n}\nd.push({\n    title: des_desc,\n    col_type: 'long_text'\n});\n\nvar arts = parseDomForArray(html, 'body&&.module-tab-item');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'span&&Text'))\n}\nvar conts = parseDomForArray(html, 'body&&.scroll-box-y');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\n}\n\nfunction setTabs(tabs, vari) {\n    for (var i = 0; i < tabs.length; i++) {\n        var url = \"@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'flex_button'\n        })\n    }\n    d.push({\n        col_type: 'line_blank'\n    })\n}\n\nfunction setLists(lists, index) {\n    d.push({\n        title: '‘‘选集’’',\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n        col_type: 'text_center_1'\n    })\n    var list = lists[index];\n\n    if (getVar('shsort') == '1') {\n        for (var j = list.length - 1; j >= 0; j--) {\n            d.push({\n                title: parseDomForHtml(list[j], 'a&&Text'),\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: list.length > 3 ? 'text_3' : 'text_2'\n            });\n        }\n    } else {\n        for (var j = 0; j < list.length; j++) {\n            d.push({\n                title: parseDomForHtml(list[j], 'a&&Text'),\n                url: parseDom(list[j], 'a&&href') + lazy,\n                col_type: list.length > 3 ? 'text_3' : 'text_2'\n            });\n        }\n    }\n}\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\n\nd.push({\n    title: '<br>',\n    col_type: 'rich_text'\n});\nsetResult(d);"},{"col_type":"movie_3","name":"搜索module-search-item","path":"module-search-item","rule":"var d = [];\nvar list = parseDomForArray(getResCode(), 'body&&.module-search-item');\nlog('搜索结果')\nlog(list)\nif (list.length == 0) throw \"搜索为空，可能匹配错误\"\nfor (var j in list) {\n    d.push({\n        title: parseDomForHtml(list[j], 'h3&&Text'),\n        desc: parseDomForHtml(list[j], '.video-serial&&Text'),\n        content: parseDomForHtml(list[j], '.video-info-aux&&Text'),\n        img: parseDom(list[j], 'img&&data-src'),\n        url: parseDom(list[j], '.video-serial&&href') + '#immersiveTheme#'\n    });\n}\nsetResult(d)"},{"col_type":"movie_3","name":"一级item","path":"item","rule":"var d = [];\nvar list = parseDomForArray(getResCode(), 'body&&.item');\nfor (let i in list) {\n    d.push({\n        title: parseDomForHtml(list[i], 'img&&alt'),\n        desc: parseDomForHtml(list[i], 'p&&Text'),\n        pic_url: parseDom(list[i], 'img&&src'),\n        url: parseDom(list[i], 'a&&href'),\n        col_type: 'movie_3'\n    })\n}\nsetResult(d)"},{"name":"一级data_list","path":"data_list","rule":"var d = [];\nvar list = parseDomForArray(getResCode(), '#data_list&&li');\nfor (let i in list) {\n    d.push({\n        title: parseDomForHtml(list[i], 'a&&title'),\n        desc: parseDomForHtml(list[i], 'em&&Text'),\n        pic_url: parseDom(list[i], 'img&&data-src'),\n        url: parseDom(list[i], 'a&&href'),\n        col_type: 'movie_3'\n    })\n}\nsetResult(d)"},{"name":"二级h3","path":"h3","rule":"var d = [];\nvar html = getResCode();\n\nd.push({\n    desc:'330&&float',\n\t\tcol_type: 'x5_webview_single'\n});\n\nvar arts = parseDomForArray(html,'body&&.stui-pannel:has(.stui-content__playlist)');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'h3&&Text'))\n}\n\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist');\nvar lists =[];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\ntry {\n    var fm = set_switch\n} catch (e) {\n    fm = MY_URL\n}\nd.push({\n\ttitle: parseDomForHtml(html, '.data,2&&Text').replace('类型：','').replace('地区：','').replace('年份：',' ').substring(0, 18)+ '\\n' + parseDomForHtml(html,'.data,1&&Text').substring(0, 15)+'\\n'+parseDomForHtml(html, '.data&&Text').substring(0, 15),\n\tdesc:parseDomForHtml(html,'.detail-sketch||.data,3||#desc&&Text'),\n\tpic_url: parseDom(html, '.lazyload&&data-original'),\n\turl: fm,\n\tcol_type: 'movie_1_vertical_pic_blur'\n});\n\nfunction setTabs(tabs, vari) {\n    d.push({\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n        col_type: 'flex_button'\n    })\n    for (var i = 0; i < tabs.length; i++) {\n        var url = \"@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'flex_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    if (getVar('shsort') == '1') {\n        var list = lists[index].reverse();\n    }\n    for (var j in list) {\n        d.push({\n            title: parseDomForHtml(list[j], 'a&&Text').replace(/第(\\d+)集/, '$1').replace('第', '').replace('期', ''),\n            url: parseDom(list[j], 'a&&href') + lazy,\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\n        });\n    }\n}\n\nsetTabs(tabs, MY_URL);\nsetLists(lists, getVar(MY_URL, '0'));\nsetResult(d);"},{"col_type":"movie_3","name":"一级fed-list-title","path":"fed-list-title","rule":"var d = [];\nvar list = parseDomForArray(getResCode(), '.fed-list-info&&li');\nfor (var j in list) {\n  d.push({\n       title: parseDomForHtml(list[j], '.fed-list-title&&Text'),\n       desc: parseDomForHtml(list[j], '.fed-text-center&&Text'),\n       img: parseDom(list[j], 'a&&data-original')+'@Referer=',\n       url: parseDom(list[j], 'a&&href')\n  });\n}\nsetResult(d)"},{"name":"二级myui-content__list","path":"myui-content__list","rule":"var d = [];\nvar html = getResCode();\nd.push({\n    desc:'330&&float',\n\t\tcol_type: 'x5_webview_single'\n});\ntry {\n    var fm = set_switch\n} catch (e) {\n    fm = MY_URL\n}\nd.push({\n    title: parseDomForHtml(html, '.data,0&&Text').replace('地区：', '  ').replace('年份：', '  ') + '\\n' + parseDomForHtml(html, '.data,1&&Text').substring(0, 15) + '\\n' + parseDomForHtml(html, '.data,2&&Text'),\n    desc: parseDomForHtml(html, '.data,3&&Text'),\n    pic_url: parseDom(html, '.lazyload&&data-original'),\n    url: fm,\n    col_type: 'movie_1_vertical_pic_blur'\n});\n\nvar arts = parseDomForArray(html, 'body&&.myui-panel-box:has(.myui-content__list)');\nvar tabs = [];\nfor (var i in arts) {\n    tabs.push(parseDomForHtml(arts[i], 'h3&&Text'))\n}\n\nvar conts = parseDomForArray(html, 'body&&.myui-content__list');\nvar lists = [];\nfor (var i in conts) {\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\n}\n\n\nfunction setTabs(tabs, vari) {\n    d.push({\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\"color: #FF0000\">逆序</span></b>' : '““””<b><span style=\"color: #1aad19\">正序</span></b>',\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\n        col_type: 'flex_button'\n    })\n    for (var i = 0; i < tabs.length; i++) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'flex_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    if (getVar('shsort') == '1') {\n        var list = lists[index].reverse();\n    }\n    for (var j in list) {\n        d.push({\n            title: parseDomForHtml(list[j], 'a&&Text'),\n            url: parseDom(list[j], 'a&&href')+lazy,\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\n        });\n    }\n}\ntry {\n    setTabs(tabs, MY_URL);\n    setLists(lists, getVar(MY_URL, '0'));\n} catch (e) {}\nsetResult(d);"},{"col_type":"movie_3","name":"字符串处理工具","path":"stringtool","rule":"js:\nconst matchList  = {\n  // \"<\":\"&lt;\",\n  // \">\": \"&gt;\",\n  // \"&\": \"&amp;\",\n  // '\"': \"&quot;\",\n  // \"'\": \"acute;\",\n  \" \": \"&nbsp;\",\n  \"\\n\":\"<br>\"\n}\n// 字符过滤器\nfunction htmlEscape(text){\n  let regStr = '(' + Object.keys(matchList).toString() + ')'\n  regStr = regStr.replace(/,/g, ')|(')  \n  const regExp = new RegExp(regStr, 'g')\n  return text.replace(regExp, match => matchList[match])\n}\n$.exports.htmlEscape = htmlEscape"},{"col_type":"movie_3","name":"动态分类","path":"dtfl","rule":"const empty = \"hiker://empty\"\n\ntry{\n    var categories = pdfa(html, 大类定位).concat(pdfa(html, 拼接分类))\n} catch(e) {\n    var categories = pdfa(html, 大类定位)\n}\n\nlet init_cate = []\n\nfor (let i = 0; i < 20; i++) {\n    init_cate.push(\"0\")\n}\n\nconst fold = getVar(MY_RULE.group, \"0\")\nconst cate_temp_json = getVar(MY_RULE.title, JSON.stringify(init_cate))\nconst cate_temp = JSON.parse(cate_temp_json)\n\nif (parseInt(page) === 1) {\n    d.push({\n        title: fold === '1' ? '““””<b><span style=\"color: #FF0000\">∨</span></b>' : '““””<b><span style=\"color: #1aad19\">∧</span></b>',\n        url: $().lazyRule((fold) => {\n            putVar(MY_RULE.group, fold === '1' ? '0' : '1');\n            refreshPage(false);\n            return \"hiker://empty\"\n        }, fold),\n        col_type: 'scroll_button',\n    })\n\n\n    categories.forEach((category, index) => {\n        let sub_categories = pdfa(category, 小类定位);\n        if (index === 0) {\n            sub_categories.forEach((item, key) => {\n                let title = pdfh(item, 分类标题)\n                d.push({\n                    title: key.toString() === cate_temp[index] ? '““””<b><span style=\"color: ' + 分类颜色 + '\">' + title + '</span></b>' : title,\n                    url: $(parseDom(item, 分类链接)).lazyRule((params) => {\n                        let new_cate = []\n                        params.cate_temp.forEach((cate, index) => {\n                            new_cate.push(index === 0 ? params.key.toString() : \"0\")\n                        })\n                        putVar(MY_RULE.title, JSON.stringify(new_cate))\n                        putVar(MY_RULE.url, input)\n                        refreshPage(true)\n                        return \"hiker://empty\"\n                    }, {\n                        cate_temp: cate_temp,\n                        key: key,\n                        page: page,\n                    }),\n                    col_type: 'scroll_button',\n                })\n            })\n            d.push({\n                col_type: \"blank_block\"\n            });\n        } else if (fold === '1') {\n            sub_categories.forEach((item, key) => {\n                let title = pdfh(item, 分类标题)\n                d.push({\n                    title: key.toString() === cate_temp[index] ? '““””<b><span style=\"color: ' + 分类颜色 + '\">' + title + '</span></b>' : title,\n                    url: $(parseDom(item, 分类链接)).lazyRule((params) => {\n                        params.cate_temp[params.index] = params.key.toString()\n\n                        putVar(MY_RULE.title, JSON.stringify(params.cate_temp))\n                        putVar(MY_RULE.url, input)\n                        refreshPage(true)\n                        return \"hiker://empty\"\n                    }, {\n                        cate_temp: cate_temp,\n                        index: index,\n                        key: key,\n                        page: page,\n                    }),\n                    col_type: 'scroll_button',\n                })\n            })\n            d.push({\n                col_type: \"blank_block\"\n            });\n        }\n    })\n}"}],"title":"模板·Q","author":"发粪涂墙","version":11,"url":"hiker://empty","col_type":"text_center_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nif (getItem(\"start\", \"\") == \"\") {\n    setItem(\"start\", \"1\")\n    confirm({\n        title: '温馨提示',\n        content: '请勿删除或改名此模板，以免依赖此模板的小程序无法使用！！\\n并特别感谢 Reborn LoyDgIk大佬的技术支持!!!',\n        confirm: '',\n        cancel: 'refreshPage()'\n    })\n}\n\naddListener(\"onClose\", $.toString(() => {\n    clearVar(\"template-url\")\n    clearVar(\"template-search-url\")\n    clearVar(\"template-pages-unfold\")\n}))\n\nlet d2 = [{\n    desc: \"输入分类或详情页链接测试匹配\",\n    col_type: \"input\",\n    url: \"input\",\n    title: \"测试\",\n    extra: {\n        onChange: \"putVar('template-url',input)\"\n    }\n},{\n    desc: \"输入搜索链接，**为关键字占位符\",\n    col_type: \"input\",\n    url: \"input\",\n    title: \"测试搜索\",\n    extra: {\n        titleVisible: false,\n        defaultValue: getVar(\"template-search-url\"),\n        onChange: \"putVar('template-search-url',input)\"\n    }\n}, {\n    desc: \"输入搜索关键词测试匹配\",\n    col_type: \"input\",\n    url: $.toString((ruleTitle)=>{\n            return \"hiker://search?s=\" + input +  \"&rule=\"+ ruleTitle;\n    }, MY_RULE.title),\n    title: \"测试搜索\",\n}, {\n    title: \"生成规则\",\n    col_type: \"text_center_1\",\n    url: \"input://////请输入规则名.js:\" + $.toString(() => {\n        var url = getVar('template-url', \"\");\n        if (url.length <= 0 || input.length <= 0) {\n            return \"toast://请先输入链接和规则名\"\n        }\n        var rule = {\n            \"last_chapter_rule\": \"\",\n            \"title\": input,\n            \"author\": \"\",\n            \"url\": url,\n            \"version\": 0,\n            \"col_type\": \"movie_3\",\n            \"class_name\": \"\",\n            \"class_url\": \"\",\n            \"area_name\": \"\",\n            \"area_url\": \"\",\n            \"sort_name\": \"\",\n            \"year_name\": \"\",\n            \"sort_url\": \"\",\n            \"year_url\": \"\",\n            \"find_rule\": \"js:\\nconst {\\n    autoPage\\n} = $.require(\\\"hiker://page/auto?rule=模板·Q\\\");\\nautoPage(getResCode())\",\n            \"search_url\": getVar(\"template-search-url\"),\n            \"titleColor\": \"\",\n            \"group\": \"测试\",\n            \"searchFind\": \"js:\\nconst {\\n    autoPage\\n} = $.require(\\\"hiker://page/auto?rule=模板·Q\\\");\\nautoPage(getResCode())\",\n            \"detail_col_type\": \"movie_1\",\n            \"detail_find_rule\": \"js:\\n//通用匹配\\nputVar(\\\"_x5\\\", $.toString(() => {\\n    var urls = _getUrls()\\n    for (var i in urls) {\\n        if (urls[i].match(/\\\\.mp3|\\\\.mp4|\\\\.m3u8/)) {\\n            //fy_bridge_app.log(urls[i])\\n            return urls[i]\\n        }\\n    }\\n}))\\nvar lazy = \\\"@lazyRule=.js:showLoading('动态解析中，请稍候');'x5Rule://'+input+'@' + getVar('_x5')\\\";\\nconst {\\n    autoPage\\n} = $.require(\\\"hiker://page/auto?rule=模板·Q\\\");\\nautoPage(getResCode())\",\n            \"sdetail_col_type\": \"movie_1\",\n            \"sdetail_find_rule\": \"*\",\n            \"ua\": \"mobile\",\n            \"preRule\": \"\",\n            \"pages\": \"[]\"\n        };\n        return \"海阔视界规则分享，当前分享的是：小程序￥home_rule￥\" + JSON.stringify(rule)\n    })\n},{\ntitle: '文字教程',\ncol_type: 'text_2',\nurl: 'hiker://page/detail?rule=视界论坛R',\nextra: {\n    url: 'https://haikuoshijie.cn/topic/8440#fypage#noHistory#',\n},\n// url: 'web://https://haikuoshijie.cn/topic/8440'\n},{\ntitle: '视频教程',\ncol_type: 'text_2',\nurl: $(\"https://www.bilibili.com/video/BV1dM4y1g7re?share_source=copy_web\").lazyRule(() => {\n        showLoading(\"强力嗅探中，请稍候……\")\n        let inputValue = input\n        return $(inputValue).x5Lazy(() => {\n            var urls = _getUrls()\n            /**\n             * exceptKeys 是排除的关键字列表\n             */\n            var exceptKeys = [\"m3u8djksiej\", \"playm3u8\", \"m3u8.tv\", \"min.css\"]\n            /**\n             * searchKeys 是匹配的关键字列表\n             */\n            var searchKeys = [\".mp3\", \".mp4\", \".m3u8\", \".flv\", \".avi\", \".3gp\", \"mpeg\", \".wmv\", \".mov\", \"rmvb\", \".dat\", \"qqBFdownload\", \"mime=video%2F\"]\n            fy_bridge_app.log(JSON.stringify(urls))\n            for (var i in urls) {\n                if (exceptKeys.every((key)=> !urls[i].includes(key)) \n                    && searchKeys.some((key)=> urls[i].includes(key))\n                    ) {\n                    fy_bridge_app.log(urls[i])\n                    return urls[i]\n                }\n            }\n        })\n    })\n// url: 'web://https://www.bilibili.com/video/BV1dM4y1g7re?share_source=copy_web'\n},{\ntitle: getVar('template-pages-unfold', 'false') === 'true'? '点我收缩模板列表': '点我展开模板列表',\ncol_type: 'text_center_1',\nurl: $(\"#noLoading#\").lazyRule((pageUnfold) => {\n     putVar('template-pages-unfold', pageUnfold === 'true' ? 'false' : 'true')\nrefreshPage(false)\nreturn 'toast://' + (getVar('template-pages-unfold', 'false') === 'true'? '展开成功': '收缩成功')\n}, getVar('template-pages-unfold', 'false'))\n},{\ntitle: '如果上面的测试通过能显示图片，那么就说明是可以生成规则的，依次填入分类链接与搜索链接，第三个框留空点击生成规则，填好名字即可，详细添加分类词之类的请点击上面的两个教程链接参考！！',\ncol_type: 'rich_text'\n}]\nif(getVar('template-pages-unfold', 'false') === 'true') {\nlet d = []\nd.push({\n    title: '点击模板可查看代码：',\n    col_type: 'rich_text'\n})\nlet pageList = MY_RULE.pageList.filter(page => page.name != '字符串处理工具'\n&& page.name != '#Mapping'\n&& page.name != '#auto')\nfor (let page of pageList) {\n    d.push({\n        title: page.name,\n        col_type: 'text_2',\n        url: $().rule((page) => {\n            const {\n                htmlEscape\n            } = $.require(\"hiker://page/stringtool\");\n            let d = []\n            d.push({\n                title: htmlEscape(page.rule),\n                col_type: 'rich_text'\n            })\n            setResult(d)\n        }, page)\n    })\n}\nd2.push.apply(d2, d)\n}\nsetResult(d2)","searchFind":"js:\n/*let surl =  getVar(\"template-search-url\")\nlog(\"surl=\"+surl)\nlet insplits=MY_URL.split(\"#\")\nlog(insplits)\nlet url = surl.replace(\"**\", insplits[1]).replace(\"fypage\", insplits[2])\nlog(\"url=\"+url)\nlet html=request(url,{})\nlog(html);\nlog(MY_URL)*/\nvar lazy = '';\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","search_url":"hiker://empty#**#fypage.js: let surl =  getVar(\"template-search-url\")；；let insplits=input.split(\"#\")；；let url = surl.replace(base64Decode(\"Kio=\"), insplits[1]).replace(base64Decode(\"ZnlwYWdl\"), insplits[2])；；url；；","titleColor":"","group":"⑦其他","detail_col_type":"movie_3","detail_find_rule":"js:\nvar lazy = '';\nconst {\n    autoPage\n} = $.require(\"hiker://page/auto?rule=模板·Q\");\nautoPage(getResCode())","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"一级stui-vodlist\",\"path\":\"stui-vodlist\",\"rule\":\"var d = [];\\nvar html = getResCode();\\nvar list = parseDomForArray(html, '.stui-vodlist&&li');\\nfor (var j in list) {\\n    d.push({\\n        title: parseDomForHtml(list[j], 'a&&title'),\\n        desc: parseDomForHtml(list[j], '.pic-text&&Text'),\\n        img: parseDom(list[j], '.lazyload||a&&data-original')+'@Referer=',\\n        url: parseDom(list[j], 'a&&href') + '#immersiveTheme#'\\n    });\\n}\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"二级.b\",\"path\":\".b\",\"rule\":\"var d = [];\\nvar html = getResCode();\\n\\nd.push({\\n    desc: '330&&float',\\n    col_type: 'x5_webview_single'\\n});\\n\\nvar tabs = [];\\nvar conts = parseDomForArray(html, 'body&&.b');\\nvar lists = [];\\nfor (var i in conts) {\\n    tabs.push(parseDomForHtml(conts[i], 'h3&&Text'))\\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\\n}\\ntry {\\n    var fm = set_switch\\n} catch (e) {\\n    fm = MY_URL\\n}\\nd.push({\\n    title: parseDomForHtml(html, '.stui-content__detail--h1&&Text').replace('地区', '\\\\n地区').replace('主演', '\\\\n主演'),\\n    desc: parseDomForHtml(html, '.desc||.detail-content&&Text'),\\n    pic_url: parseDom(html, '.lazyload&&data-original'),\\n    url: fm,\\n    col_type: 'movie_1_vertical_pic_blur'\\n});\\n\\nfunction setTabs(tabs, vari) {\\n    d.push({\\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\\\"color: #FF0000\\\">逆序</span></b>' : '““””<b><span style=\\\"color: #1aad19\\\">正序</span></b>',\\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\\n        col_type: 'flex_button'\\n    })\\n        for (var i = 0; i < tabs.length; i++) {\\n            var url = \\\"@lazyRule=.js:putVar('\\\" + vari + \\\"', '\\\" + i + \\\"');refreshPage(false);'toast://切换成功！'\\\";\\n            d.push({\\n                title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\\n                url: url,\\n                col_type: 'flex_button'\\n            })\\n        }\\n}\\n\\nfunction setLists(lists, index) {\\n    var list = lists[index];\\n    if (getVar('shsort') == '1') {\\n        var list = lists[index].reverse();\\n    }\\n    for (var j in list) {\\n        d.push({\\n            title: parseDomForHtml(list[j], 'a&&Text').replace(/第(\\\\d+)集/,'$1').replace('第', '').replace('期', ''),\\n            url: parseDom(list[j], 'a&&href') + lazy,\\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\\n        });\\n    }\\n}\\n\\nsetTabs(tabs, MY_URL);\\nsetLists(lists, getVar(MY_URL, '0'));\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"搜索stui-vodlist__media\",\"path\":\"stui-vodlist__media\",\"rule\":\"var d = [];\\nvar list = parseDomForArray(getResCode(), '.stui-vodlist__media&&li');\\nlog('搜索结果')\\nlog(list)\\nif (list.length == 0) throw \\\"搜索为空，可能匹配错误\\\"\\nfor (var j in list) {\\n    d.push({\\n        title: parseDomForHtml(list[j], 'a&&title'),\\n        desc: parseDomForHtml(list[j], '.pic-text&&Text'),\\n        img: parseDom(list[j], 'a&&data-original'),\\n        content: parseDomForHtml(list[j], '.detail--h3&&Text'),\\n        url: parseDom(list[j], 'a&&href')+'#immersiveTheme#'\\n    });\\n}\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"一级myui-vodlist\",\"path\":\"myui-vodlist\",\"rule\":\"var d = [];\\n\\nparseDomForArray(getResCode(), '.myui-vodlist&&li').forEach(list => {\\n  d.push({\\n       title: parseDomForHtml(list, 'h4&&Text'),\\n       desc: parseDomForHtml(list, '.pic-tag||.pic-text&&Text'),\\n       pic_url: parseDom(list, '.lazyload&&data-original')+'@Referer=',\\n       url: parseDom(list,'a&&href')+'#immersiveTheme#'\\n  });\\n})\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"二级nav-tabs\",\"path\":\"nav-tabs\",\"rule\":\"\\nvar d = [];\\nvar html = getResCode();\\n\\nd.push({\\n    desc: '330&&float',\\n    col_type: 'x5_webview_single'\\n});\\n\\ntry {\\n    var fm = set_switch\\n} catch (e) {\\n    fm = MY_URL\\n}\\nd.push({\\n    title: parseDomForHtml(html, '.data,0&&Text').replace('地区：', '  ').replace('年份：', '  ') + '\\\\n' + parseDomForHtml(html, '.data,1&&Text').substring(0, 15) + '\\\\n' + parseDomForHtml(html, '.data,2&&Text'),\\n    desc: parseDomForHtml(html, '.data,3&&Text'),\\n    pic_url: parseDom(html, '.lazyload&&data-original'),\\n    url: fm,\\n    col_type: 'movie_1_vertical_pic_blur'\\n});\\n\\nvar tabs = [];\\nvar lists = [];\\nif (!arts || !conts) {\\n    var arts = parseDomForArray(html, '.nav-tabs&&a');\\n    //log(arts);\\n\\n    for (var i in arts) {\\n        tabs.push(parseDomForHtml(arts[i], 'Text'))\\n    }\\n    var conts = parseDomForArray(html, 'body&&.myui-content__list||.b');\\n   // log(conts);\\n   \\n    for(let item of conts) {\\n        lists.push(parseDomForArray(item, 'ul&&li'));\\n    }\\n}\\n\\nfunction setTabs(tabs, vari) {\\n    d.push({\\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\\\"color: #FF0000\\\">逆序</span></b>' : '““””<b><span style=\\\"color: #1aad19\\\">正序</span></b>',\\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\\n        col_type: 'flex_button'\\n    })\\n    for (var i = 0; i < tabs.length; i++) {\\n        var url = \\\"#noLoading#@lazyRule=.js:putVar('\\\" + vari + \\\"', '\\\" + i + \\\"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\\\";\\n        d.push({\\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\\n            url: url,\\n            col_type: 'flex_button'\\n        })\\n    }\\n}\\n\\nfunction setLists(lists, index) {\\n    var list = lists[index];\\n    if (getVar('shsort') == '1') {\\n        var list = lists[index].reverse();\\n    }\\n    for (var j in list) {\\n        d.push({\\n            title: parseDomForHtml(list[j], 'a&&Text').replace(/第(\\\\d+)集/,'$1').replace('第', '').replace('期', ''),\\n            url: parseDom(list[j], 'a&&href')+lazy,\\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\\n        });\\n    }\\n}\\n    setTabs(tabs, MY_URL);\\n    setLists(lists, getVar(MY_URL, '0'));\\n    \\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"搜索myui-vodlist__media\",\"path\":\"myui-vodlist__media\",\"rule\":\"var d = [];\\r\\nvar list = parseDomForArray(getResCode(), '#searchList&&li');\\nlog('搜索结果')\\nlog(list)\\nif (list.length == 0) throw \\\"搜索为空，可能匹配错误\\\"\\r\\nfor (var j in list) {\\r\\n    d.push({\\r\\n        title: parseDomForHtml(list[j], 'a&&title'),\\r\\n        desc: parseDomForHtml(list[j], '.pic-text&&Text'),\\r\\n        pic_url: parseDom(list[j], 'a&&data-original'),\\r\\n        content: parseDomForHtml(list[j], '.detail--h4&&Text'),\\r\\n        url: parseDom(list[j], 'a&&href')+'#immersiveTheme#'\\r\\n    })\\r\\n}\\r\\nsetResult(d)\"},{\"col_type\":\"movie_3\",\"name\":\"一级vodlist\",\"path\":\"vodlist\",\"rule\":\"var d = [];\\nvar list = parseDomForArray(getResCode(), '.vodlist&&li');\\nfor (var j in list) {\\n  d.push({\\n       title: parseDomForHtml(list[j], 'a&&title'),\\n       desc: parseDomForHtml(list[j], 'a&&Text'),\\n       pic_url: parseDom(list[j], '.lazyload&&data-original')+'@Referer=',\\n       url: parseDom(list[j],'a&&href')\\n  });\\n}\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"二级mo-play-load\",\"path\":\"mo-play-load\",\"rule\":\"var d = [];\\nvar html = getResCode();\\n\\nd.push({\\n    desc: '330&&float',\\n    col_type: 'x5_webview_single'\\n});\\n\\nvar arts = parseDomForArray(html, 'body&&.module-tab-content&&.module-tab-item');\\n\\nvar tabs = [];\\nfor (var i in arts) {\\n    tabs.push(parseDomForHtml(arts[i], 'span&&Text').replace('[推荐]', ''))\\n}\\n\\nvar conts = parseDomForArray(html, 'body&&.sort-item');\\n\\nvar lists = [];\\nfor (var i in conts) {\\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\\n}\\nvar title = parseDomForHtml(html, 'body&&Text');\\n\\ntry {\\n    var fm = set_switch\\n} catch (e) {\\n    fm = MY_URL\\n}\\nd.push({\\n    title: parseDomForHtml(html, '.video-info-items,2&&Text').replace('分类|', '').replace('地区：', '').replace('年份：', ' ').substring(0, 18) + '\\\\n' + '\\\\n' + parseDomForHtml(html, '.video-info-items,1&&Text').substring(0, 18),\\n    pic_url: parseDom(html, '.lazyload&&data-src'),\\n    url: fm,\\n    col_type: 'movie_1_vertical_pic_blur'\\n});\\n\\n\\nfunction setTabs(tabs, vari) {\\n    d.push({\\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\\\"color: #FF0000\\\">逆序</span></b>' : '““””<b><span style=\\\"color: #1aad19\\\">正序</span></b>',\\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\\n        col_type: 'flex_button'\\n    })\\n    for (var i = 0; i < tabs.length; i++) {\\n        var url = \\\"#noLoading#@lazyRule=.js:putVar('\\\" + vari + \\\"', '\\\" + i + \\\"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\\\";\\n        d.push({\\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\\n            url: url,\\n            col_type: 'flex_button'\\n        })\\n    }\\n}\\n\\nfunction setLists(lists, index) {\\n    var list = lists[index];\\n    if (getVar('shsort') == '1') {\\n        var list = lists[index].reverse();\\n    }\\n    for (var j in list) {\\n        d.push({\\n            title: parseDomForHtml(list[j], 'a&&Text').replace(/第(\\\\d+)集/, '$1').replace('第', '').replace('期', ''),\\n            url: parseDom(list[j], 'a&&href') + lazy,\\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\\n        });\\n    }\\n}\\n\\n    setTabs(tabs, MY_URL);\\n    setLists(lists, getVar(MY_URL, '0'));\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"二级nav-tabs1\",\"path\":\"nav-tabs1\",\"rule\":\"var d = [];\\nvar html = getResCode();\\n\\nd.push({\\n    desc: '330&&float',\\n    col_type: 'x5_webview_single'\\n});\\n\\nvar arts = parseDomForArray(html,'.nav-tabs&&a');\\nvar tabs = [];\\nfor (var i in arts) {\\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text'))\\n}\\n\\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist||.b');\\nvar lists =[];\\nfor (var i in conts) {\\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\\n}\\ntry {\\n    var fm = set_switch\\n} catch (e) {\\n    fm = MY_URL\\n}\\nd.push({\\n title: parseDomForHtml(getResCode(), 'p,1&&Text').replace('类型：','').replace('地区：',' ').replace('年份：','').replace('语言：','')+ '\\\\n\\\\n'+parseDomForHtml(getResCode(), 'p,4&&Text').substring(0, 30),\\n    desc:parseDomForHtml(getResCode(), 'p,2&&Text'),\\n pic_url: parseDom(html, '.lazyload&&data-original'),\\n url: fm,\\n col_type: 'movie_1_vertical_pic_blur'\\n});\\n\\nfunction setTabs(tabs, vari) {\\n    d.push({\\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\\\"color: #FF0000\\\">逆序</span></b>' : '““””<b><span style=\\\"color: #1aad19\\\">正序</span></b>',\\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\\n        col_type: 'flex_button'\\n    })\\n        for (var i = 0; i < tabs.length; i++) {\\n            var url = \\\"@lazyRule=.js:putVar('\\\" + vari + \\\"', '\\\" + i + \\\"');refreshPage(false);'toast://切换成功！'\\\";\\n            d.push({\\n                title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\\n                url: url,\\n                col_type: 'flex_button'\\n            })\\n        }\\n}\\n\\nfunction setLists(lists, index) {\\n    var list = lists[index];\\n    if (getVar('shsort') == '1') {\\n        var list = lists[index].reverse();\\n    }\\n    for (var j in list) {\\n        d.push({\\n            title: parseDomForHtml(list[j], 'a&&Text').replace(/第(\\\\d+)集/,'$1').replace('第', '').replace('期', ''),\\n            url: parseDom(list[j], 'a&&href') + lazy,\\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\\n        });\\n    }\\n}\\n\\nsetTabs(tabs, MY_URL);\\nsetLists(lists, getVar(MY_URL, '0'));\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"定位二级\",\"path\":\"erji\",\"rule\":\"var tabs = [];\\nvar lists = [];\\n\\nvar arts = parseDomForArray(html, 线路);\\nvar conts = parseDomForArray(html, 选集);\\n\\nfor (var i in arts) {\\n    tabs.push(parseDomForHtml(arts[i], 线路名))\\n}\\n\\nfor (var i in conts) {\\n    lists.push(parseDomForArray(conts[i], 选集列表))\\n}\\nfunction setTabs(tabs, vari) {\\n    d.push({\\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\\\"color: #FF0000\\\">逆序</span></b>' : '““””<b><span style=\\\"color: #1aad19\\\">正序</span></b>',\\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\\n        col_type: 'flex_button'\\n    })\\n    for (var i = 0; i < tabs.length; i++) {\\n        var url = \\\"#noLoading#@lazyRule=.js:putVar('\\\" + vari + \\\"', '\\\" + i + \\\"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\\\";\\n        d.push({\\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\\n            url: url,\\n            col_type: 'flex_button'\\n        })\\n    }\\n}\\n\\nfunction setLists(lists, index) {\\n    var list = lists[index];\\n    if (getVar('shsort') == '1') {\\n        var list = lists[index].reverse();\\n    }\\n    for (var j in list) {\\n        d.push({\\n            title: parseDomForHtml(list[j], 'a&&Text').replace(/第(\\\\d+)集/, '$1').replace('第', '').replace('期', ''),\\n            url: parseDom(list[j], 'a&&href') + lazy,\\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\\n        });\\n    }\\n}\\ntry {\\n    setTabs(tabs, MY_URL);\\n    setLists(lists, getVar(MY_URL, '0'));\\n} catch (e) {}\"},{\"col_type\":\"movie_3\",\"name\":\"二级play_source_tab\",\"path\":\"play_source_tab\",\"rule\":\"var d = [];\\nvar html = getResCode();\\nd.push({\\n    desc: '330&&float',\\n    col_type: 'x5_webview_single'\\n});\\ntry {\\n    var fm = set_switch\\n} catch (e) {\\n    fm = MY_URL\\n}\\ntry {\\nd.push({\\n    title: parseDomForHtml(html, '.remarks&&Text') + '\\\\n' + parseDomForHtml(html, '.s-top-info-detail&&a&&Text')+ parseDomForHtml(html, '.s-top-info-detail&&a,1&&Text')+ parseDomForHtml(html, '.s-top-info-detail&&a,2&&Text') + '\\\\n““简介：不能用就删掉吧””',\\n    desc: parseDomForHtml(html, '.desc_txt&&Text').substring(0, 20),\\n    img: parseDom(html, '.img-cover||.vod-detail-bj&&src'),\\n    url: fm,\\n    col_type: 'movie_1_vertical_pic_blur'\\n});\\n} catch (e) {}\\n\\nvar arts = parseDomForArray(html, '.play_source_tab&&a');\\nvar tabs = [];\\nfor (var i in arts) {\\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text'))\\n}\\nvar conts = parseDomForArray(html, 'body&&#playsx');\\nvar lists = [];\\nfor (var i in conts) {\\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\\n}\\n\\nfunction setTabs(tabs, vari) {\\n    d.push({\\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\\\"color: #FF0000\\\">逆序</span></b>' : '““””<b><span style=\\\"color: #1aad19\\\">正序</span></b>',\\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\\n        col_type: 'flex_button'\\n    })\\n        for (var i = 0; i < tabs.length; i++) {\\n            var url = \\\"@lazyRule=.js:putVar('\\\" + vari + \\\"', '\\\" + i + \\\"');refreshPage(false);'toast://切换成功！'\\\";\\n            d.push({\\n                title: (getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i]).replace('',''),\\n                url: url,\\n                col_type: 'flex_button'\\n            })\\n        }\\n}\\n\\nfunction setLists(lists, index) {\\n    var list = lists[index];\\n    if (getVar('shsort') == '1') {\\n        var list = lists[index].reverse();\\n    }\\n    for (var j in list) {\\n        d.push({\\n            title: parseDomForHtml(list[j], 'a&&Text').replace(/第(\\\\d+)集/,'$1').replace('第', '').replace('期', ''),\\n            url: parseDom(list[j], 'a&&href') + lazy,\\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\\n        });\\n    }\\n}\\n\\nsetTabs(tabs, MY_URL);\\nsetLists(lists, getVar(MY_URL, '0'));\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"二级fed-play-item\",\"path\":\"fed-play-item\",\"rule\":\"var d = [];\\nvar html = getResCode();\\nd.push({\\n    desc: '330&&float',\\n    col_type: 'x5_webview_single'\\n});\\ntry {\\n    var fm = set_switch\\n} catch (e) {\\n    fm = MY_URL\\n}\\nvar arts = parseDomForArray(html, 'body&&.fed-drop-btns');\\nvar tabs = [];\\nfor (var i in arts) {\\n    tabs.push(parseDomForHtml(arts[i], 'a&&Text'))\\n}\\nvar conts = parseDomForArray(html, 'body&&.fed-play-item');\\nvar lists = [];\\nfor (var i in conts) {\\n    lists.push(parseDomForArray(conts[i], 'body&&.fed-btns-info'))\\n}\\nd.push({\\n    title: parseDomForHtml(html, 'dd&&li,3&&Text') + '\\\\n' + parseDomForHtml(html, 'dd&&li,4&&Text').substring(0, 15) + '\\\\n' + parseDomForHtml(html, 'dd&&li,5&&Text').substring(0, 15),\\n    desc: parseDomForHtml(html, 'dd&&li,6&&Text').substring(0, 25),\\n    pic_url: parseDom(html, '.fed-lazy&&data-original'),\\n    url: fm,\\n    col_type: 'movie_1_vertical_pic'\\n});\\n\\nfunction setTabs(tabs, vari) {\\n    d.push({\\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\\\"color: #FF0000\\\">逆序</span></b>' : '““””<b><span style=\\\"color: #1aad19\\\">正序</span></b>',\\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\\n        col_type: 'flex_button'\\n    })\\n    for (var i = 0; i < tabs.length; i++) {\\n        var url = \\\"@lazyRule=.js:putVar('\\\" + vari + \\\"', '\\\" + i + \\\"');refreshPage(false);'toast://切换成功！'\\\";\\n        d.push({\\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\\n            url: url,\\n            col_type: 'flex_button'\\n        })\\n    }\\n}\\n\\nfunction setLists(lists, index) {\\n    var list = lists[index];\\n    if (getVar('shsort') == '1') {\\n        var list = lists[index].reverse();\\n    }\\n    for (var j in list) {\\n        d.push({\\n            title: parseDomForHtml(list[j], 'a&&Text').replace(/第(\\\\d+)集/, '$1').replace('第', '').replace('期', ''),\\n            url: parseDom(list[j], 'a&&href') + lazy,\\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\\n        });\\n    }\\n}\\n\\nsetTabs(tabs, MY_URL);\\nsetLists(lists, getVar(MY_URL, '0'));\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"搜索dl\",\"path\":\"dl\",\"rule\":\"var d = [];\\nvar list = parseDomForArray(getResCode(), 'body&&dl');\\nlog('搜索结果')\\nlog(list)\\nif (list.length == 0) throw \\\"搜索为空，可能匹配错误\\\"\\nfor (var j in list) {\\n  d.push({\\n       title: parseDomForHtml(list[j], 'h1&&Text'),\\n       desc: parseDomForHtml(list[j], '.fed-list-remarks&&Textt'),\\n\\t    content: parseDomForHtml(list[j], '.fed-part-esan--span&&Text'),\\n       img: parseDom(list[j], 'a&&data-original'),\\n       url: parseDom(list[j], 'a&&href')\\n  });\\n}\\nsetResult(d)\"},{\"col_type\":\"movie_3\",\"name\":\"#Mapping\",\"path\":\"Mapping\",\"rule\":\"js:\\n$.exports = {\\n    \\\"home\\\": [\\n        //\\n        {\\n            keys: [\\\" b \\\"],\\n            url: \\\".b\\\",\\n            //     allKey: true,\\n        },\\n        {\\n            keys: [\\\"nav-tabs\\\"],\\n            url: \\\"nav-tabs\\\",\\n        },\\n        {\\n            keys: [\\\"myui-content__list\\\"],\\n            url: \\\"myui-content__list\\\",\\n        },\\n        {\\n            keys: [\\\"nav-tabs\\\",\\\"stui-content__playlist\\\"],\\n            url: \\\"nav-tabs1\\\",\\n            allKey: true,\\n        },\\n        {\\n            keys: [\\\"h3\\\",\\\"stui-content__playlist\\\"],\\n            url: \\\"h3\\\",\\n            allKey: true,\\n        },\\n        {\\n            keys: [\\\"myui-vodlist \\\"],\\n            url: \\\"myui-vodlist\\\",\\n        },\\n        {\\n            keys: [\\\"module-tab-item\\\"],\\n            url: \\\"module-tab-item\\\",\\n            //     allKey: true,\\n        },\\n        {\\n            keys: [\\\"stui-vodlist \\\"],\\n            url: \\\"stui-vodlist\\\",\\n            //     allKey: true,\\n        },\\n        {\\n            keys: [\\\"play_source_tab\\\"],\\n            url: \\\"play_source_tab\\\",\\n        },\\n        {\\n            keys: [\\\"fed-play-item\\\"],\\n            url: \\\"fed-play-item\\\",\\n        },\\n        {\\n            keys: [\\\"module-items\\\"],\\n            url: \\\"module-items\\\",\\n        },\\n        {\\n            keys: [\\\"vodlist \\\",\\\"lazyload\\\"],\\n            url: \\\"vodlist\\\",\\n            allKey: true,\\n        },\\n        {\\n            keys: [\\\"mo-play-load\\\"],\\n            url: \\\"mo-play-load\\\",\\n        },\\n        {\\n            keys: [\\\"fed-list-title\\\"],\\n            url: \\\"fed-list-title\\\",\\n            //allKey: true,\\n        },\\n        {\\n            keys: [\\\"pack-ykpack\\\\\\\"\\\"],\\n            url: \\\"pack-ykpack\\\",\\n        },\\n        {\\n            keys: [\\\"item\\\"],\\n            url: \\\"item\\\",\\n        },\\n        {\\n            keys: [\\\"data_list\\\"],\\n            url: \\\"data_list\\\",\\n        },\\n    ],\\n    \\\"search\\\": [\\n        // search 里写搜索的子页面映射\\n        {\\n            keys: [\\\"stui-vodlist__media\\\"],\\n            url: \\\"stui-vodlist__media\\\",\\n        },\\n        {\\n            keys: [\\\"myui-vodlist__media\\\"],\\n            url: \\\"myui-vodlist__media\\\",\\n        },\\n        {\\n            keys: [\\\"module-search-item\\\"],\\n            url: \\\"module-search-item\\\",\\n        },\\n        {\\n            keys: [\\\"dl \\\"],\\n            url: \\\"dl\\\",\\n            allKey: true,\\n        },\\n    ]\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"#auto\",\"path\":\"auto\",\"rule\":\"js:\\n// 获取该关键字的子页面代码\\nfunction getPageSource(key) {\\n    let src = request(\\\"hiker://page/\\\" + key + \\\"?rule=模板·Q\\\");\\n    // log(src)\\n    src = JSON.parse(src).rule;\\n    return src;\\n}\\nconst sourceMap = $.require(\\\"hiker://page/Mapping?rule=模板·Q\\\");\\n\\nfunction autoPage(htmlsrc, type) {\\n    let pageRules = [],\\n        htmlSource = htmlsrc,\\n        pageType,\\n        mMapping;\\n    if (type !== undefined) {\\n        pageType = type;\\n    } else {\\n        pageType = MY_TYPE;\\n    }\\n    mMapping = sourceMap[pageType];\\n    if (mMapping === undefined || !Array.isArray(mMapping)) {\\n        throw new Error(\\\"不存在\\\" + pageType + \\\"类型的模板\\\");\\n    }\\n    for (let item of mMapping) {\\n        if (item.allKey) {\\n            if (item.keys.every(key => htmlSource.includes(key))) {\\n                pageRules.push(item);\\n            }\\n        } else {\\n            if (item.keys.some(key => htmlSource.includes(key))) {\\n                pageRules.push(item);\\n            }\\n        }\\n    }\\n    if(pageRules.length == 0) {\\n        log(\\\"暂无合适的模板\\\");\\n    }\\n    for (let pageRule of pageRules) {\\n        log(\\\"正在匹配：\\\" + pageRule.url);\\n        try {\\n            eval.call(null, \\\";(function(){\\\" + getPageSource(pageRule.url) + \\\"})()\\\");\\n            log(\\\"匹配模板成功，正在结束匹配进程\\\");\\n            break;\\n        } catch (e) {\\n            log(\\\"匹配模板错误\\\");\\n            log(e.toString())\\n            log(\\\"正在匹配下一个模板......\\\")\\n            if (pageRule.url == pageRules[pageRules.length - 1].url) {\\n                log(\\\"已匹配到最后一个模板，暂无合适的模板\\\");\\n                setResult([]);\\n            }\\n        }\\n    }\\n\\n}\\n$.exports.autoPage = autoPage;\"},{\"col_type\":\"movie_3\",\"name\":\"一级pack-ykpack\",\"path\":\"pack-ykpack\",\"rule\":\"var d =[];\\nvar list = parseDomForArray(getResCode(), 'body&&.pack-ykpack');\\nfor (var j in list) {\\n  d.push({\\n       title: parseDomForHtml(list[j], 'a&&title'),\\n       desc: parseDomForHtml(list[j], 'span,-1&&Text'),\\n       img: parseDom(list[j], '.eclazy&&data-original')+'@Referer=',\\n       url: parseDom(list[j],'a&&href')+ '#immersiveTheme#'\\n  });\\n}\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"一级module-items\",\"path\":\"module-items\",\"rule\":\"var d = [];\\nvar html = getResCode();\\nvar list = parseDomForArray(html, '.module-items&&.module-item');\\nfor (var j in list) {\\n    d.push({\\n        title: parseDomForHtml(list[j], 'a&&title'),\\n        desc: parseDomForHtml(list[j], '.module-item-text&&Text'),\\n        pic_url: parseDom(list[j], 'img||.lazy&&data-src')+'@Referer=',\\n        url: parseDom(list[j], 'a&&href') + \\\"#immersiveTheme#\\\"\\n    });\\n}\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"二级module-tab-item\",\"path\":\"module-tab-item\",\"rule\":\"var d = [];\\nvar html = getResCode();\\nd.push({\\n    desc: '330&&float',\\n    col_type: 'x5_webview_single'\\n});\\ntry {\\n    var fm = set_switch\\n} catch (e) {\\n    fm = MY_URL\\n}\\ntry {\\nvar title = parseDomForArray(html, 'body--a&&.tag-link');\\n} catch (e) {\\n  var title = '';\\n}\\nvar T = [];\\nfor (var i in title) {\\n    T.push(parseDomForHtml(title[i], 'a&&Text'))\\n}\\nd.push({\\n    title: T.join('  ') + '\\\\n' + parseDomForHtml(html, '.video-info-items,1&&Text').split('/').join('  ').substring(0, 20) + '\\\\n' + parseDomForHtml(html, '.video-info-items&&Text').split('/').join('  ').substring(0, 20),\\n    desc: parseDomForHtml(html, '.video-info-items,2&&Text'),\\n    img: parseDom(html, '.lazyload&&data-src'),\\n    url: fm,\\n    col_type: 'movie_1_vertical_pic_blur'\\n});\\n\\nvar des_desc = parseDomForHtml(html, '.vod_content--a&&Text');\\nif (des_desc.length > 50) {\\n    des_desc = des_desc.replace(des_desc, des_desc.substring(0, 50) + \\\"......\\\");\\n}\\nd.push({\\n    title: des_desc,\\n    col_type: 'long_text'\\n});\\n\\nvar arts = parseDomForArray(html, 'body&&.module-tab-item');\\nvar tabs = [];\\nfor (var i in arts) {\\n    tabs.push(parseDomForHtml(arts[i], 'span&&Text'))\\n}\\nvar conts = parseDomForArray(html, 'body&&.scroll-box-y');\\nvar lists = [];\\nfor (var i in conts) {\\n    lists.push(parseDomForArray(conts[i], 'body&&a'))\\n}\\n\\nfunction setTabs(tabs, vari) {\\n    for (var i = 0; i < tabs.length; i++) {\\n        var url = \\\"@lazyRule=.js:putVar('\\\" + vari + \\\"', '\\\" + i + \\\"');refreshPage(false);'toast://切换成功！'\\\";\\n        d.push({\\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\\n            url: url,\\n            col_type: 'flex_button'\\n        })\\n    }\\n    d.push({\\n        col_type: 'line_blank'\\n    })\\n}\\n\\nfunction setLists(lists, index) {\\n    d.push({\\n        title: '‘‘选集’’',\\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\\n        col_type: 'text_center_1'\\n    })\\n    var list = lists[index];\\n\\n    if (getVar('shsort') == '1') {\\n        for (var j = list.length - 1; j >= 0; j--) {\\n            d.push({\\n                title: parseDomForHtml(list[j], 'a&&Text'),\\n                url: parseDom(list[j], 'a&&href') + lazy,\\n                col_type: list.length > 3 ? 'text_3' : 'text_2'\\n            });\\n        }\\n    } else {\\n        for (var j = 0; j < list.length; j++) {\\n            d.push({\\n                title: parseDomForHtml(list[j], 'a&&Text'),\\n                url: parseDom(list[j], 'a&&href') + lazy,\\n                col_type: list.length > 3 ? 'text_3' : 'text_2'\\n            });\\n        }\\n    }\\n}\\nsetTabs(tabs, MY_URL);\\nsetLists(lists, getVar(MY_URL, '0'));\\n\\nd.push({\\n    title: '<br>',\\n    col_type: 'rich_text'\\n});\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"搜索module-search-item\",\"path\":\"module-search-item\",\"rule\":\"var d = [];\\nvar list = parseDomForArray(getResCode(), 'body&&.module-search-item');\\nlog('搜索结果')\\nlog(list)\\nif (list.length == 0) throw \\\"搜索为空，可能匹配错误\\\"\\nfor (var j in list) {\\n    d.push({\\n        title: parseDomForHtml(list[j], 'h3&&Text'),\\n        desc: parseDomForHtml(list[j], '.video-serial&&Text'),\\n        content: parseDomForHtml(list[j], '.video-info-aux&&Text'),\\n        img: parseDom(list[j], 'img&&data-src'),\\n        url: parseDom(list[j], '.video-serial&&href') + '#immersiveTheme#'\\n    });\\n}\\nsetResult(d)\"},{\"col_type\":\"movie_3\",\"name\":\"一级item\",\"path\":\"item\",\"rule\":\"var d = [];\\nvar list = parseDomForArray(getResCode(), 'body&&.item');\\nfor (let i in list) {\\n    d.push({\\n        title: parseDomForHtml(list[i], 'img&&alt'),\\n        desc: parseDomForHtml(list[i], 'p&&Text'),\\n        pic_url: parseDom(list[i], 'img&&src'),\\n        url: parseDom(list[i], 'a&&href'),\\n        col_type: 'movie_3'\\n    })\\n}\\nsetResult(d)\"},{\"name\":\"一级data_list\",\"path\":\"data_list\",\"rule\":\"var d = [];\\nvar list = parseDomForArray(getResCode(), '#data_list&&li');\\nfor (let i in list) {\\n    d.push({\\n        title: parseDomForHtml(list[i], 'a&&title'),\\n        desc: parseDomForHtml(list[i], 'em&&Text'),\\n        pic_url: parseDom(list[i], 'img&&data-src'),\\n        url: parseDom(list[i], 'a&&href'),\\n        col_type: 'movie_3'\\n    })\\n}\\nsetResult(d)\"},{\"name\":\"二级h3\",\"path\":\"h3\",\"rule\":\"var d = [];\\nvar html = getResCode();\\n\\nd.push({\\n    desc:'330&&float',\\n\\t\\tcol_type: 'x5_webview_single'\\n});\\n\\nvar arts = parseDomForArray(html,'body&&.stui-pannel:has(.stui-content__playlist)');\\nvar tabs = [];\\nfor (var i in arts) {\\n    tabs.push(parseDomForHtml(arts[i], 'h3&&Text'))\\n}\\n\\nvar conts = parseDomForArray(html, 'body&&.stui-content__playlist');\\nvar lists =[];\\nfor (var i in conts) {\\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\\n}\\ntry {\\n    var fm = set_switch\\n} catch (e) {\\n    fm = MY_URL\\n}\\nd.push({\\n\\ttitle: parseDomForHtml(html, '.data,2&&Text').replace('类型：','').replace('地区：','').replace('年份：',' ').substring(0, 18)+ '\\\\n' + parseDomForHtml(html,'.data,1&&Text').substring(0, 15)+'\\\\n'+parseDomForHtml(html, '.data&&Text').substring(0, 15),\\n\\tdesc:parseDomForHtml(html,'.detail-sketch||.data,3||#desc&&Text'),\\n\\tpic_url: parseDom(html, '.lazyload&&data-original'),\\n\\turl: fm,\\n\\tcol_type: 'movie_1_vertical_pic_blur'\\n});\\n\\nfunction setTabs(tabs, vari) {\\n    d.push({\\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\\\"color: #FF0000\\\">逆序</span></b>' : '““””<b><span style=\\\"color: #1aad19\\\">正序</span></b>',\\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\\n        col_type: 'flex_button'\\n    })\\n    for (var i = 0; i < tabs.length; i++) {\\n        var url = \\\"@lazyRule=.js:putVar('\\\" + vari + \\\"', '\\\" + i + \\\"');refreshPage(false);'toast://切换成功！'\\\";\\n        d.push({\\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\\n            url: url,\\n            col_type: 'flex_button'\\n        })\\n    }\\n}\\n\\nfunction setLists(lists, index) {\\n    var list = lists[index];\\n    if (getVar('shsort') == '1') {\\n        var list = lists[index].reverse();\\n    }\\n    for (var j in list) {\\n        d.push({\\n            title: parseDomForHtml(list[j], 'a&&Text').replace(/第(\\\\d+)集/, '$1').replace('第', '').replace('期', ''),\\n            url: parseDom(list[j], 'a&&href') + lazy,\\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\\n        });\\n    }\\n}\\n\\nsetTabs(tabs, MY_URL);\\nsetLists(lists, getVar(MY_URL, '0'));\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"一级fed-list-title\",\"path\":\"fed-list-title\",\"rule\":\"var d = [];\\nvar list = parseDomForArray(getResCode(), '.fed-list-info&&li');\\nfor (var j in list) {\\n  d.push({\\n       title: parseDomForHtml(list[j], '.fed-list-title&&Text'),\\n       desc: parseDomForHtml(list[j], '.fed-text-center&&Text'),\\n       img: parseDom(list[j], 'a&&data-original')+'@Referer=',\\n       url: parseDom(list[j], 'a&&href')\\n  });\\n}\\nsetResult(d)\"},{\"name\":\"二级myui-content__list\",\"path\":\"myui-content__list\",\"rule\":\"var d = [];\\nvar html = getResCode();\\nd.push({\\n    desc:'330&&float',\\n\\t\\tcol_type: 'x5_webview_single'\\n});\\ntry {\\n    var fm = set_switch\\n} catch (e) {\\n    fm = MY_URL\\n}\\nd.push({\\n    title: parseDomForHtml(html, '.data,0&&Text').replace('地区：', '  ').replace('年份：', '  ') + '\\\\n' + parseDomForHtml(html, '.data,1&&Text').substring(0, 15) + '\\\\n' + parseDomForHtml(html, '.data,2&&Text'),\\n    desc: parseDomForHtml(html, '.data,3&&Text'),\\n    pic_url: parseDom(html, '.lazyload&&data-original'),\\n    url: fm,\\n    col_type: 'movie_1_vertical_pic_blur'\\n});\\n\\nvar arts = parseDomForArray(html, 'body&&.myui-panel-box:has(.myui-content__list)');\\nvar tabs = [];\\nfor (var i in arts) {\\n    tabs.push(parseDomForHtml(arts[i], 'h3&&Text'))\\n}\\n\\nvar conts = parseDomForArray(html, 'body&&.myui-content__list');\\nvar lists = [];\\nfor (var i in conts) {\\n    lists.push(parseDomForArray(conts[i], 'ul&&li'))\\n}\\n\\n\\nfunction setTabs(tabs, vari) {\\n    d.push({\\n        title: (getVar('shsort') == '1') ? '““””<b><span style=\\\"color: #FF0000\\\">逆序</span></b>' : '““””<b><span style=\\\"color: #1aad19\\\">正序</span></b>',\\n        url: `@lazyRule=.js:let conf = getVar('shsort');if(conf=='1'){putVar({key:'shsort', value:'0'});}else{putVar({key:'shsort', value:'1'})};refreshPage();'toast://切换排序成功'`,\\n        col_type: 'flex_button'\\n    })\\n    for (var i = 0; i < tabs.length; i++) {\\n        var url = \\\"#noLoading#@lazyRule=.js:putVar('\\\" + vari + \\\"', '\\\" + i + \\\"');refreshPage(false);'toast://切换成功！';'#noHistory#hiker://empty'\\\";\\n        d.push({\\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\\n            url: url,\\n            col_type: 'flex_button'\\n        })\\n    }\\n}\\n\\nfunction setLists(lists, index) {\\n    var list = lists[index];\\n    if (getVar('shsort') == '1') {\\n        var list = lists[index].reverse();\\n    }\\n    for (var j in list) {\\n        d.push({\\n            title: parseDomForHtml(list[j], 'a&&Text'),\\n            url: parseDom(list[j], 'a&&href')+lazy,\\n            col_type: list.length > 3 ? 'text_4' : 'text_2'\\n        });\\n    }\\n}\\ntry {\\n    setTabs(tabs, MY_URL);\\n    setLists(lists, getVar(MY_URL, '0'));\\n} catch (e) {}\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"字符串处理工具\",\"path\":\"stringtool\",\"rule\":\"js:\\nconst matchList  = {\\n  // \\\"<\\\":\\\"&lt;\\\",\\n  // \\\">\\\": \\\"&gt;\\\",\\n  // \\\"&\\\": \\\"&amp;\\\",\\n  // '\\\"': \\\"&quot;\\\",\\n  // \\\"'\\\": \\\"acute;\\\",\\n  \\\" \\\": \\\"&nbsp;\\\",\\n  \\\"\\\\n\\\":\\\"<br>\\\"\\n}\\n// 字符过滤器\\nfunction htmlEscape(text){\\n  let regStr = '(' + Object.keys(matchList).toString() + ')'\\n  regStr = regStr.replace(/,/g, ')|(')  \\n  const regExp = new RegExp(regStr, 'g')\\n  return text.replace(regExp, match => matchList[match])\\n}\\n$.exports.htmlEscape = htmlEscape\"},{\"col_type\":\"movie_3\",\"name\":\"动态分类\",\"path\":\"dtfl\",\"rule\":\"const empty = \\\"hiker://empty\\\"\\n\\ntry{\\n    var categories = pdfa(html, 大类定位).concat(pdfa(html, 拼接分类))\\n} catch(e) {\\n    var categories = pdfa(html, 大类定位)\\n}\\n\\nlet init_cate = []\\n\\nfor (let i = 0; i < 20; i++) {\\n    init_cate.push(\\\"0\\\")\\n}\\n\\nconst fold = getVar(MY_RULE.group, \\\"0\\\")\\nconst cate_temp_json = getVar(MY_RULE.title, JSON.stringify(init_cate))\\nconst cate_temp = JSON.parse(cate_temp_json)\\n\\nif (parseInt(page) === 1) {\\n    d.push({\\n        title: fold === '1' ? '““””<b><span style=\\\"color: #FF0000\\\">∨</span></b>' : '““””<b><span style=\\\"color: #1aad19\\\">∧</span></b>',\\n        url: $().lazyRule((fold) => {\\n            putVar(MY_RULE.group, fold === '1' ? '0' : '1');\\n            refreshPage(false);\\n            return \\\"hiker://empty\\\"\\n        }, fold),\\n        col_type: 'scroll_button',\\n    })\\n\\n\\n    categories.forEach((category, index) => {\\n        let sub_categories = pdfa(category, 小类定位);\\n        if (index === 0) {\\n            sub_categories.forEach((item, key) => {\\n                let title = pdfh(item, 分类标题)\\n                d.push({\\n                    title: key.toString() === cate_temp[index] ? '““””<b><span style=\\\"color: ' + 分类颜色 + '\\\">' + title + '</span></b>' : title,\\n                    url: $(parseDom(item, 分类链接)).lazyRule((params) => {\\n                        let new_cate = []\\n                        params.cate_temp.forEach((cate, index) => {\\n                            new_cate.push(index === 0 ? params.key.toString() : \\\"0\\\")\\n                        })\\n                        putVar(MY_RULE.title, JSON.stringify(new_cate))\\n                        putVar(MY_RULE.url, input)\\n                        refreshPage(true)\\n                        return \\\"hiker://empty\\\"\\n                    }, {\\n                        cate_temp: cate_temp,\\n                        key: key,\\n                        page: page,\\n                    }),\\n                    col_type: 'scroll_button',\\n                })\\n            })\\n            d.push({\\n                col_type: \\\"blank_block\\\"\\n            });\\n        } else if (fold === '1') {\\n            sub_categories.forEach((item, key) => {\\n                let title = pdfh(item, 分类标题)\\n                d.push({\\n                    title: key.toString() === cate_temp[index] ? '““””<b><span style=\\\"color: ' + 分类颜色 + '\\\">' + title + '</span></b>' : title,\\n                    url: $(parseDom(item, 分类链接)).lazyRule((params) => {\\n                        params.cate_temp[params.index] = params.key.toString()\\n\\n                        putVar(MY_RULE.title, JSON.stringify(params.cate_temp))\\n                        putVar(MY_RULE.url, input)\\n                        refreshPage(true)\\n                        return \\\"hiker://empty\\\"\\n                    }, {\\n                        cate_temp: cate_temp,\\n                        index: index,\\n                        key: key,\\n                        page: page,\\n                    }),\\n                    col_type: 'scroll_button',\\n                })\\n            })\\n            d.push({\\n                col_type: \\\"blank_block\\\"\\n            });\\n        }\\n    })\\n}\"}]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"423Down","author":"香雅情","version":1,"url":"https://www.423down.com/fyAllpage/fypage;get;utf-8;{User-Agent@Mozilla/5.0 (Linux；； Android 10) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/80.0.3987.132 Mobile Safari/537.36}","col_type":"movie_1","class_name":"首页&安卓软件","class_url":"&apk/","area_name":"原创软件&媒体播放&网页浏览&图形图像&聊天软件&办公软件&上传下载&实用软件&系统辅助&系统必备&安全软件&补丁相关&硬件相关&游戏软件","area_url":"zd423/&multimedia/&browser/&image/&im/&work/&down/&safewore/&systemsoft/&systemplus/&security/&patch/&hardware/&game/","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar items = [];var html=getResCode();\n//log(html);\nvar list = parseDomForArray(html,'.archive-list&&li:not(:contains(优惠推荐))');\n\r\n    for (var i = 0; i < list.length; i++) {\r\n        var title = parseDomForHtml(list[i], 'h2&&Text');\n        var img = parseDom(list[i], 'img&&src');\r\n        var url = parseDom(list[i], 'a&&href');\n        var desc = parseDomForHtml(list[i], '.item-meta&&Text');\r\n        items.push({\r\n            title: title,\n            pic_url: img,\r\n            url: url,\n            desc: desc\r\n        });\r\n    }\n\nsetHomeResult({data:items});","searchFind":".archive-list&&li;h2&&Text;a&&href;.item-category&&Text;.item-meta&&Text;img&&src","search_url":"https://www.423down.com/page/fypage?s=**;get;utf-8;{User-Agent@Mozilla/5.0 (Linux；； Android 10) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/80.0.3987.132 Mobile Safari/537.36}","titleColor":"","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d=[];\nvar html=getResCode();\nvar tabs=parseDomForHtml(html,'body&&.entry&&Html');\n\nd.push({\n\t\t\ttitle: tabs,\n    desc:'',\n    pic_url:'',\n    url:'',\n\t\tcol_type: 'rich_text'\n});\n\nsetHomeResult({data:d});","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"auto","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"冰封娱乐网","author":"香雅情","version":3,"url":"https://www.vxat.com/fyclass_fypage.html","col_type":"movie_1_left_pic","class_name":"安卓应用&电视软件&技术教程&电脑软件","class_url":"Android&TV&JiShuJiaoCheng&Windows","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&article;h2&&Text;img&&src;footer&&Text;a&&href","searchFind":".article&&article;h2&&Text;a&&href;footer&&Text;.post-text&&Text;img&&src","search_url":"https://www.vxat.com/search.php?q=**&page=fypage","titleColor":"","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d=[];\nvar html=getResCode();\nvar tabs=parseDomForHtml(html,'body&&.article-content&&Html');\n\nd.push({\n\t\t\ttitle: tabs,\n    desc:'',\n    pic_url:'',\n    url:'',\n\t\tcol_type: 'rich_text'\n});\n\nsetHomeResult({data:d});","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"异星软件","author":"香雅情","version":1,"url":"http://www.yxssp.com/fyclass/page/fypage","col_type":"movie_1","class_name":"Android&Windows","class_url":"os/android&os/windows","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":".td-ss-main-content&&.td_module_wrap;h3&&Text;img&&src;.td-module-meta-info&&Text;a&&href","searchFind":".td-ss-main-content&&.td_module_wrap;h3&&Text;a&&href;;.td-module-meta-info&&Text;img&&src","search_url":"http://www.yxssp.com/page/fypage?s=**","titleColor":"","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d=[];\nvar html=getResCode();\nvar tabs=parseDomForHtml(html,'body&&.td-post-content&&Html').replace(/\\<script[\\S\\s]*?<\\/script\\>/g,'');\n\nd.push({\n\t\t\ttitle: tabs,\n    desc:'',\n    pic_url:'',\n    url:'',\n\t\tcol_type: 'rich_text'\n});\n\nsetHomeResult({data:d});","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[]","icon":""},{"pageList":[],"title":"53报刊","author":"香雅情","version":0,"url":"http://www.53bk.com/baokan/left.aspx?bk=fyclass&cn=fyarea","col_type":"text_3","class_name":"报纸&杂志","class_url":"1&6","area_name":"国内&国外","area_url":"1&0","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"#TreeView1&&td:not(:has(img)):has(a):not(:contains(大全));a&&Text;*;*;a&&href","searchFind":"","search_url":"","titleColor":"","group":"⑦其他","detail_col_type":"text_3","detail_find_rule":"js:\nvar res ={};\nvar d=[];\n\nvar conts=parseDom(getResCode(),'body&&Html').match(/<ul[\\s\\S]*?<\\/ul>/g);\n//setError(conts.length);\n\nfor(var i = 0;i<conts.length;i++){\n  var list=conts[i].match(/<a.*?<\\/a>/g);\n\t\tfor(var j = 0; j<list.length; j++){\n\t\t\td.push({\n\t\t\t\ttitle:parseDomForHtml(list[j], \"a&&Text\"),\n      url:parseDom(list[j], \"a&&href\"),\n      col_type: list.length <= 20 ? 'text_2' : 'text_3'\n\t\t\t});\n   }\n  }\n\n//二级模板\nres.data=d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile"},{"last_chapter_rule":"","pageList":[],"title":"小爱同学♢","author":"Joker","version":0,"url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nif (getItem('start', '') == '') {\n    confirm({\n        title: '温馨提示',\n        content: '记得打开声音呦',\n        confirm: 'setItem(\"start\",\"1\")',\n        cancel: 'setItem(\"start\",\"1\")'\n    })\n}\nsetResult([{\n    col_type: 'x5_webview_single',\n    desc: '0&&list'\n}, {\n    title: '小爱同学',\n    col_type: 'input',\n    url: $.toString(() => {\n        let json = JSON.parse(fetch('http://jiuli.xiaoapi.cn/i/xiaoai_tts.php?msg=' + input));\n        return 'x5WebView://' + json.mp3;\n    })\n}])","searchFind":"","search_url":"","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"小游戏♢","author":"Joker","version":0,"url":"http://www.wan1234.com/","col_type":"movie_1_vertical_pic","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nlet d = [];\nlet html = getResCode();\nlet list = parseDomForArray(html, 'body&&.game');\nfor (let item of list) {\n    d.push({\n        title: parseDomForHtml(item, '.game_title&&Text'),\n        desc: parseDomForHtml(item, '.game_summer&&Text'),\n        img: parseDomForHtml(item, 'img&&src'),\n        url: $(parseDom(item, 'a&&href') + '/play/').rule(() => {\n            setResult([{\n                url: MY_URL,\n                col_type: 'x5_webview_single',\n                desc: '100%&&float'\n            }])\n        })\n    })\n}\nsetResult(d);","searchFind":"","search_url":"","titleColor":"","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"http://www.wan1234.com/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"故事会♢","author":"Joker","version":6,"url":"http://new-qk.lifves.com/list.php?url=M0QzJWV1c3NpNjIlMTIwMkQzJXJhZXk2MiUyODVlNjY5YmEyMzktOWQ3Yi04NWY0LWUyNjItNzFjM2NkODBEMyVkaUYzJWxpYXRlZEYyJWFnYW1GMiVjcEYyJW1vYy5uYWtpcS5zcGQuZ3N0eGRuakYyJUYyJUEzJXB0dGg=","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\naddListener('onClose','clearVar(\"year\")');\neval(parseDomForHtml(getResCode(), \"body&&script,2&&Html\"));\nlet d = [];\nlet items = {};\nlet now = getVar('year', String(data_list.data_list[0].year));\nfor (let list of data_list.data_list) {\n    if (now == list.year) items = list.list;\n    d.push({\n        title: '““””' + (list.year == now ? '<font color=red>' + list.year + '</font>' : list.year),\n        col_type: 'scroll_button',\n        url: $().lazyRule((year) => {\n            putVar('year', String(year));\n            refreshPage();\n            return 'hiker://empty'\n        }, list.year)\n    });\n}\nfor (let item of items) {\n    d.push({\n        title: item.span,\n        url: \"http://new-qk.lifves.com/\" + item.href,\n        img: item.img\n    });\n}\n\nsetResult(d);","searchFind":"","search_url":"","titleColor":"#ff871f78","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"js:\naddListener('onClose', $.toString(() => {\n    clearVar('item');\n}))\nlet d = [];\neval(parseDomForHtml(getResCode(), \"body&&script,2&&Html\").match(/let\\s*data_list.*JSON\\.parse\\(.*\\)/)[0]);\nfor (let item in data_list.data_list.ml) {\n    let i = getVar('item');\n    d.push({\n        title: '““””<strong>' + item + '</strong>' + (i == item ? '▽' : '△'),\n        col_type: 'text_1',\n        url: $().lazyRule((item) => {\n            if (getVar('item') == item) {\n                clearVar('item');\n                refreshPage(false);\n                return 'toast://已收起 ' + item;\n            } else {\n                putVar('item', item);\n                refreshPage(false);\n                return 'toast://已展开 ' + item;\n            }\n        }, item)\n    })\n\n    if (i && i == item) {\n        data_list.data_list.ml[i].forEach(e => {\n            d.push({\n                title: '““””<small>' + e.title + '</small>',\n                desc: '““””<small>' + e.intro + '</small>',\n                col_type: 'text_1',\n                url: $('hiker://empty#noHistory#').rule((title, href) => {\n                    let html = request(href, {});\n                    let text = parseDom(html, '.text&&Html');\n                    let author = parseDomForHtml(html, '.author&&Text');\n                    setResult([{\n                        title: '““””<h2>' + title + '</h2>' + '<small><font color=grey>' + author + '</font> </small>',\n                        col_type: 'text_center_1',\n                        url: href,\n                        extra: {\n                            lineVisible: false\n                        }\n                    }, {\n                        title: '<small>(<a href=\"hiker://empty@lazyRule=.js:setItem(`fontsize`,String(parseInt(getItem(`fontsize`)) + 1))；；refreshPage(false)；；`hiker://empty`\">字号+</a>)</small><small>(<a href=\"hiker://empty@lazyRule=.js:setItem(`fontsize`,String(parseInt(getItem(`fontsize`)) - 1))；；refreshPage(false)；；`hiker://empty`\">字号-</a>)</small>',\n                        col_type: 'rich_text'\n                    }, {\n                        title: text.replace(/\\>[a-zA-Z0-9+=\\/]*\\</g, '><').replace(/\\<p\\>/g, '<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'),\n                        col_type: 'rich_text',\n                        extra: {\n                            textSize: parseInt(getItem('fontsize'))\n                        }\n                    }])\n                }, e.title, \"http://new-qk.lifves.com/\" + e.href)\n            })\n        })\n    }\n}\n\nsetResult(d);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"if (!getItem('fontsize','')) {\n    setItem('fontsize', String(15))\n}","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"PS教程自学网","author":"子丑寅卯","version":4,"url":"http://m.16xx8.com/photoshop/fyAll/fypage","col_type":"pic_1_card","class_name":"基础教程&滤镜教程&文字特效&美化教程&调色教程&照片处理&抠图教程&合成教程&修复教程&制作实例&网页设计&绘画教程","class_url":"xinshoujiaocheng&lvjingtexiao&wenzitexiao&meihuajiaocheng&diaosejiaocheng&xiaoguojiaocheng&koutujiaocheng&hechengjiaocheng&xiufujiaocheng&zhizuoshili&wangyesheji&shuhuijiaocheng","area_name":"新手教程&技巧教程&工具教程&通道教程&其它教程&理论教程&人物调色&风景调色&影楼调色","area_url":"xinshoujiaocheng/rumen&xinshoujiaocheng/jiqiao&xinshoujiaocheng/gongju&xinshoujiaocheng/tongdao&xinshoujiaocheng/qita&xinshoujiaocheng/lilun&diaosejiaocheng/renwu/&diaosejiaocheng/jingwu/&yinglou","sort_name":"磨皮教程&人像精修&美白教程&上色教程&美容瘦身","year_name":"滤镜做图&滤镜使用&边框教程&动画教程&闪图闪字&立体字&普通字&火焰字&冰雪字&金属字&可爱字","sort_url":"meihuajiaocheng/mopi&diaosejiaocheng/pifu&meihuajiaocheng/meibai&meihuajiaocheng/shangse&meihuajiaocheng/huazhuang","year_url":"lvjingtexiao/lvjingtu&lvjingtexiao/shiyong&biankuangjiaocheng&ir/donghua&ir/shanzi&wenzitexiao/3d&wenzitexiao/putong&huoyanzi&bingxuezi&jinshuzi&keaizi","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\r\ntry{\r\nvar list = parseDomForArray(getResCode(), 'body&&.entry-header-inner');\r\nfor (var j in list) {  \r\nd.push({       \r\ntitle: parseDomForHtml(list[j], 'h2&&Text'),       \r\ndesc: parseDomForHtml(list[j], 'span,3&&Text'),       \r\npic_url: parseDomForHtml(list[j], 'img&&src'),       \r\nurl: parseDom(list[j],'a&&href')  \r\n});\r\n}\r\n}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\r\nvar res = {};\r\nvar d = [];\r\ntry{\r\nvar list = parseDomForArray(getResCode(), 'body&&.entry-header-inner');\r\nfor (var j in list) {  \r\nd.push({       \r\ntitle: parseDomForHtml(list[j], 'h2&&Text'),       \r\ndesc: parseDomForHtml(list[j], 'span,3&&Text'),       \r\npic_url: parseDomForHtml(list[j], 'img&&src'),       \r\nurl: parseDom(list[j],'a&&href')  \r\n});\r\n}\r\n}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","search_url":"http://m.16xx8.com/page/fypage?s=**","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"js:\r\nvar res = {};\r\nvar d = [];\r\ntry{ \r\nd.push({       \r\ntitle: parseDomForHtml(getResCode().replace(/src=\"/g,'src=\"https:'), 'body&&.entry-content&&Html'),       \n    col_type: \"rich_text\",\n    extra: {\n        textSize: 18,\n        click: true\n    }\n\n\r\n});\r\n\r\n}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fp5.itc.cn%2Fq_70%2Fimages03%2F20200622%2F2d84b5c094d14971be26324d952c3361.gif&refer=http%3A%2F%2Fp5.itc.cn&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1638681468&t=3e98ad2605d0f9c0e860555f1f07c923"},{"last_chapter_rule":"","pageList":[],"title":"糗事百科","author":"子丑寅卯","version":15,"url":"https://www.qiushibaike.com/fyAll/page/fypage@*1@40@/[firstPage=https://www.qiushibaike.com/fyAll]","col_type":"movie_1_vertical_pic","class_name":"搞笑视频&糗百段子","class_url":"video&text","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\r\ntry{\r\nvar list = parseDomForArray(getResCode(), '.main&&.article');\r\nfor (var j in list) {  \nif(MY_URL.indexOf('video')>-1){\r\nd.push({       \r\ntitle: parseDomForHtml(list[j], '.content&&Text'),       \r\ndesc:'““💩 '+ parseDomForHtml(list[j], '.stats-vote&&Text').replace('好笑','')+'””',       \r\npic_url: parseDom(list[j], 'source&&src'),       \r\nurl: parseDom(list[j],'source&&src')+`@lazyRule=.js:input`  \r\n});\n}else{\nd.push({       \r\ntitle: parseDomForHtml(list[j], '.content&&Text'),       \r\ndesc:'‘‘💩  '+parseDomForHtml(list[j], '.stats-vote&&Text').replace(\"好笑\",\"\")+' ===>    查看全文'+'’’',           \r\nurl: parseDom(list[j],'.stats-comments&&a&&href')+';get;UTF-8;{User-Agent@Windows}',\ncol_type:'text_1' \r\n});\nd.push({\n    col_type: \"line_blank\"\n});\n}\n\r\n}\r\n}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);\r\n","searchFind":"","search_url":"","titleColor":"#ffff00ff","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"js:\r\nvar d = [];\r\nvar res = {};\r\nvar h = getResCode();\r\nd.push({\n    title:parseDomForHtml(h, 'body&&.content&&Html'),\r\n    col_type:\"rich_text\"\n})\nd.push({\n    col_type: \"line_blank\"\n});\n\n\nd.push({\n    title:parseDomForHtml(h, 'body&&.comments-list&&Html'),\r\n    col_type:\"rich_text\",\nextra: {\n        textSize: 18,\n        click: true\n    }\n})\n\n  res.data = d;\r\n  setHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":"","pages":"[]","icon":"https://www.qiushibaike.com/favicon.ico"},{"last_chapter_rule":"","pageList":[],"title":"新小品网gk","author":"子丑寅卯","version":7,"url":"https://www.newxiaopin.com/fyAll;get;gbk","col_type":"movie_3","class_name":" 最 新 &张小斐&沈腾&贾冰&黄宏&蔡明&郭冬临&潘长江&宋丹丹&赵丽蓉&陈佩斯&潘斌龙&贾玲&高秀敏&开心麻花","class_url":"new&xp/zhangxiaofei/&xp/shenteng/&xp/jiabing/&xp/huanghong/&xp/caiming/&xp/guodonglin/&xp/panchangjiang/&xp/songdandan/&xp/zhaolirong/&xp/chenpeisi/&xp/panbinlong/&xp/jialing/&xp/gaoxiumin/&xp/kaixinmahua/","area_name":"赵家班&赵本山&小沈阳&宋小宝&王小利&刘小光&小沈龙&宋晓峰&周云鹏&程野&文松&田娃&丫蛋&杨树林","area_url":"zjb/&zjb/zhaobenshan/&zjb/xiaoshenyang/&zjb/songxiaobao/&zjb/wangxiaoli/&zjb/liuxiaoguang/&zjb/xiaoshenlong/&zjb/sxf/&zjb/zyp/&zjb/chengye/&zjb/wensong/&zjb/tianwa/&zjb/yadan/&zjb/yangshulin/","sort_name":" 相 声 &马三立&冯巩&苗阜&姜昆&刘宝瑞&曹云金&何云伟&王自健&高晓攀&李伟健&巩汉林&方清平&李金斗&其他栏目&宫崎骏&孙涛&马丽&马季&二人转&青春期&四平青年&辽宁春晚小品&民间小调&八段锦&床戏&吻戏","year_name":"德云社&郭德纲&高峰&孙越&候震&岳云鹏&郭麒麟&朱云峰&张鹤伦&张文顺&张云雷&孔云龙&栾云平&闫云达","sort_url":"xs/&xs/masanli/&xs/fenggong/&xs/miaofu/&xs/jiangkun/&xs/liubaorui/&xs/caoyunjin/&xs/heyunwei/&xs/wangzijian/&xs/gaoxiaopan/&xs/liweijian/&xs/gonghanlin/&xs/fangqingping/&xs/lijindou/&qita/&movie/gongqijun/&xp/suntao/&xp/mali/&xs/maji/&erz/&weidianying/qcq/&weidianying/spqn/&chunwan/ln/&quyi/mjxd/&quyi/baduanjin/&qita/cx/&qita/wx/","year_url":"dys/&dys/guodegang/&dys/gaofeng/&dys/sunyue/&dys/houzhen/&dys/yueyunpeng/&dys/guoqilin/&dys/zhuyunfeng/&dys/zhanghelun/&dys/zhangwenshun/&dys/zhangyunlei/&dys/kongyunlong/&dys/luanyunping/&dys/yanyunda/","find_rule":"js:\r\nvar res = {};\r\nvar d = [];\n\nvar config = fetch('hiker://files/cache/MyParseSet.json');\nif(config == '' || !fetch(JSON.parse(config).cj)){\n    var jsUrl = 'https://code.aliyun.com/AI957/Hiker/raw/master/v/CloudParse-V2_Dn.js';\n}else{\n    var jsUrl = JSON.parse(config).cj;\n} eval(fetch(jsUrl));\n\nd.push({       \r\ntitle:\"插件设置\",   \npic_url: 'http://tva1.sinaimg.cn/large/e0e0b157gy1gfa7er4dsmg20go09fb2h.gif',\nurl:\"hiker://page/Route?rule=MyFieldᴰⁿ&type=设置#noHistory#\",    \r\n});\r\ntry{\r\nvar list = parseDomForArray(getResCode(), '.catecon&&li');\r\nfor (var j in list) {  \r\nd.push({       \r\ntitle: parseDomForHtml(list[j], '.catename&&Text').replace(/《|》/g,''),       \r\ndesc: parseDomForHtml(list[j], 'a&&title').replace(/.*播放_/,'').replace(/<.*>/,''),       \r\npic_url: parseDom(list[j], '.lazy&&data-original'),       \r\nurl: $(parseDom(list[j],'a&&href')).lazyRule(() => {\nvar jsurl=pd(request(input),'.player&&Html').split('embed/')[1].split(\"'\")[0];var url='http://v.youku.com/v_show/id_'+jsurl+'.html';let file = \"hiker://files/rules/DuanNian/MyParse.json\";\nif (fileExist(file)) {\neval('json='+fetch(file));\nlet jsUrl = json.settings.cj;\neval(fetch(jsUrl));\nreturn aytmParse(url);\n} \n})\r\n});\r\n}\r\n}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","searchFind":"js:\r\nvar res = {};\r\nvar d = [];\nvar config = fetch('hiker://files/cache/MyParseSet.json');\nif(config == '' || !fetch(JSON.parse(config).cj)){\n    var jsUrl = 'https://code.aliyun.com/AI957/Hiker/raw/master/v/CloudParse-V2_Dn.js';\n}else{\n    var jsUrl = JSON.parse(config).cj;\n} eval(fetch(jsUrl));\n\n\r\ntry{\r\nvar list = parseDomForArray(getResCode(), '.main&&li');\r\nfor (var j in list) {  \r\nd.push({       \r\ntitle: parseDomForHtml(list[j], '.catename&&Text'),       \r\ndesc: parseDomForHtml(list[j], 'a&&title'),       \r\npic_url: parseDom(list[j], '.lazy&&data-original'),       \r\nurl: $(parseDom(list[j],'a&&href')).lazyRule(() => {\nvar jsurl=pd(request(input),'.player&&Html').split('embed/')[1].split(\"'\")[0];var url='http://v.youku.com/v_show/id_'+jsurl+'.html';let file = \"hiker://files/rules/DuanNian/MyParse.json\";\nif (fileExist(file)) {\neval('json='+fetch(file));\nlet jsUrl = json.settings.cj;\neval(fetch(jsUrl));\nreturn aytmParse(url);\n} \n})\r\n});\r\n}\r\n}catch(e){}\r\nres.data = d;\r\nsetHomeResult(res);","search_url":"https://www.newxiaopin.com/plus/search.php?keyword=**&searchtype=titlekeyword&channeltype=0&orderby=&kwtype=0&pagesize=10&typeid=0&TotalResult=174&PageNo=fypage;get;gbk;{Referer@https://www.newxiaopin.com}","group":"⑦其他","detail_col_type":"text_3","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":"","pages":"[]","icon":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fbpic.588ku.com%2Fart_water_pic%2F19%2F03%2F18%2Fb5d4fd57255736d0ded611088875131c.jpg&refer=http%3A%2F%2Fbpic.588ku.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1636971896&t=2253a7f0f5e716f7191062ff5b4ce2a2"},{"last_chapter_rule":"","pageList":[],"title":"车网","author":"子丑寅卯","version":9,"url":"https://www.xincheping.com/video/type/fyAll/pfypage.html","col_type":"movie_1_left_pic","class_name":"新车抢鲜评&最强对比&新车评let's购","class_url":"998&1024&1011","area_name":"新车大真探&购车我帮你&社论&原来是这样","area_url":"1027&1022&1033&1015","sort_name":"","year_name":"特别策划&新电报&趣拍TIME&自驾游记&往期视频","sort_url":"","year_url":"999&1034&1032&1025&1013","find_rule":"js:\nvar  res  =   {};\nvar  d  =   [];\nvar  html  =  getResCode();\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/.mp3|.mp4|.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i]\n        }\n    }\n});\nvar  list  = parseDomForArray(html,  '.v_llbox&&li');\nfor  (var  j  =  0;  j  <  list.length;  j++)  {  \n    d.push({       \n        title:  parseDomForHtml(list[j],  'img&&alt'),\n               desc:'发布时间: '+'‘‘'+  parseDomForHtml(list[j],  'span,-1&&Text')+'’’',\n               pic_url:  parseDom(list[j],  'img&&src'),\n               url:   'x5Rule://' + parseDom(list[j], 'a&&href') + '@' + _x5,\n          \n    });\n}\nres.data  =  d;\nsetHomeResult(res);","searchFind":"js:\r\n\r\nvar d=[];\r\n\nlet json=JSON.parse(getResCode()).data.pageList;\nfor(let i of json){\n    d.push({\n        pic_url:i.coverUrl,\n        title:i.title,\n       desc:i.pubTime, url:'https://m.xincheping.com'+i.uri\n    });\n}\nsetResult(d);","search_url":"https://m.xincheping.com/search-v2/search-video.do?JsonBody={\"query\":\"**\",\"pageNo\":fypage,\"pageSize\":20,\"orderBy\":\"2\",\"pubTimeRange\":\"\",\"channelPath\":\"\"};POST","titleColor":"#ff13b66a","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"text_center_1","sdetail_find_rule":"js:\nvar  res  =   {};\nvar  d  =   [];\nvar  html  =  getResCode();\nvar _x5 = $.toString(() => {\n    var urls = _getUrls();\n    for (var i in urls) {\n        if (urls[i].match(/.mp3|.mp4|.m3u8/)) {\n            fy_bridge_app.log(urls[i]);\n            return urls[i]\n        }\n    }\n});\n    d.push({       \n             title:'立即播放',\n               url:   'x5Rule://' + MY_URL+ '@' + _x5,\n          \n    });\n\nres.data  =  d;\nsetHomeResult(res);","ua":"mobile","preRule":"","pages":"[]","icon":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fhbimg.b0.upaiyun.com%2Fb00c47d54e3f863bff220a8f46c694b7cec59ad2254d8-8MPKmy_fw658&refer=http%3A%2F%2Fhbimg.b0.upaiyun.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1636970668&t=825198e6068c5e67a11983333e858674"},{"last_chapter_rule":"","pageList":[],"title":"大侠号爆笑动图","author":"子丑寅卯","version":1,"url":"https://www.ali213.net/news/zl/bxgif/index_fypage.html[firstPage=https://www.ali213.net/news/zl/bxgif/]","col_type":"movie_1_left_pic","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar d = [];\nvar html = getResCode();\nvar list = parseDom(html, '.index-left&&Html').match(/\"subscribe-li[\\s\\S]*?<\\/p/g);\nfor (var j = 0; j < list.length; j++) {\n\nd.push({\n       title: parseDomForHtml(list[j], 'img&&alt'),\n       desc: parseDomForHtml(list[j], 'p&&Text'),\n       pic_url: parseDom(list[j], 'img&&src'),\n       url: parseDom(list[j],'a&&href').split(\".html\")[0]+\"_fypage.html[firstPage=\"+parseDom(list[j],'a&&href')\n  });\n}\n\nres.data = d;\nsetHomeResult(res);","searchFind":"","search_url":"\n","titleColor":"#ffff00ff","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = [];\nvar res = {};\nvar h = getResCode();\nvar list = parseDomForArray(h,'#Content&&img');\nfor(let i =0; i<list.length;i++){\n  d.push({\npic_url:parseDom(list[i],'img&&src'),\n  url:parseDom(list[i],'img&&src'),\ncol_type:\"pic_1_full\"\n})\n}\n\n  res.data = d;\n  setHomeResult(res)","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":"","pages":"[]","icon":"https://3g.ali213.net/images/head_icon.png"},{"last_chapter_rule":"","pageList":[],"title":"一个都不能死♔","author":"蓝莓果酱UX","version":1,"url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\n/** 无需下载APP，点返回即可。*/\nsetResult([{\n    col_type: \"x5_webview_single\",\n    url: \"https://lanmeiguojiang.com/web1/youxi.html\",\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true\n    }\n}])","searchFind":"","search_url":"","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"https://lanmeiguojiang.com/tubiao/q/132.png"},{"last_chapter_rule":"","pageList":[],"title":"故事会α","author":"LZX","version":6,"url":"http://new-qk.lifves.com/list.php?url=M0QzJWV1c3NpNjIlMTIwMkQzJXJhZXk2MiUyODVlNjY5YmEyMzktOWQ3Yi04NWY0LWUyNjItNzFjM2NkODBEMyVkaUYzJWxpYXRlZEYyJWFnYW1GMiVjcEYyJW1vYy5uYWtpcS5zcGQuZ3N0eGRuakYyJUYyJUEzJXB0dGg=","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\naddListener('onClose','clearVar(\"year\")');\neval(parseDomForHtml(getResCode(), \"body&&script,2&&Html\"));\nlet d = [];\nlet items = {};\nlet now = getVar('year', String(data_list.data_list[0].year));\nfor (let list of data_list.data_list) {\n    if (now == list.year) items = list.list;\n    d.push({\n        title: '““””' + (list.year == now ? '<font color=red>' + list.year + '</font>' : list.year),\n        col_type: 'scroll_button',\n        url: $().lazyRule((year) => {\n            putVar('year', String(year));\n            refreshPage();\n            return 'hiker://empty'\n        }, list.year)\n    });\n}\nfor (let item of items) {\n    d.push({\n        title: item.span,\n        url: \"http://new-qk.lifves.com/\" + item.href,\n        img: item.img\n    });\n}\n\nsetResult(d);","searchFind":"","search_url":"","group":"⑦其他","detail_col_type":"movie_3","detail_find_rule":"js:\neval(parseDomForHtml(getResCode(),\"body&&script,2&&Html\").split(\"localStorage\")[0]);\nlet data=[];\nfor(let i=0;i<page_list.length;i++){\n    let item=page_list[i];\n    data.push({\n       title:item.title,\n       url:\"x5://http://new-qk.lifves.com/\"+item.href,\n    });\n}\nsetResult(data);","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"if (!getItem('fontsize','')) {\n    setItem('fontsize', String(15))\n}","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"首页","path":"home","rule":"js:\nsetPageTitle('加密JS')\n\nevalPrivateJS(getPrivateJS('let d = []'))\n\n//evalPrivateJS(getVar(\"test-text\", \"\"))\naddListener('onClose', $.toString(() => {\n    clearVar(\"test-text\")\n    clearVar(\"test-result\")\n}))\n\ntry {\n    if (newWindow) {\n        /*for (let i = 0; i < 1; i++) {\n            d.push({\n                col_type: 'big_blank_block'\n            });\n        }*/\n        d.push({\n            title: '““””<b>选项</b>',\n            col_type: 'scroll_button',\n            url: 'hiker://empty',\n        })\n        d.push({\n            title: '点我化为新窗口',\n            col_type: 'scroll_button',\n            url: 'hiker://page/home',\n            extra: {\n                newWindow: true,\n                // lineVisible: false\n            }\n        })\n    }\n} catch (e) {\n    log(e.message)\n}\n\nd.push({\n    title: \"清空\",\n    desc: \"请输入源代码\",\n    col_type: \"input\",\n    extra: {\n        titleVisible: true,\n        defaultValue: getVar(\"test-text\", \"\"),\n        type: \"textarea\",\n        onChange: 'putVar(\"test-text\", input)'\n    },\n    url: $.toString(() => {\n        putVar(\"test-text\", '')\n        refreshPage(false)\n        return 'toast://清空成功'\n    })\n})\nd.push({\n    title: \"点我加密JS\",\n    col_type: \"text_center_1\",\n    url: $().lazyRule(() => {\n        let src = getVar(\"test-text\", \"\")\n        if (!src) {\n            putVar(\"test-result\", \"请输入源代码\")\n            refreshPage(false)\n            return \"hiker://empty\"\n        }\n        let privateJS = getPrivateJS(src)\n        // privateJS = \"[HikerPrivateJS]:\" + privateJS\n        putVar(\"test-result\", privateJS)\n        refreshPage(false)\n        return \"toast://加密成功，请查看下方执行结果~\"\n    })\n})\nd.push({\n    title: \"复制\",\n    desc: \"加密结果\",\n    col_type: \"input\",\n    extra: {\n        titleVisible: true,\n        defaultValue: getVar(\"test-result\", \"\"),\n        type: \"textarea\",\n        onChange: 'putVar(\"test-result\", input)'\n    },\n    url: $.toString(() => {\n        return 'copy://' + input\n    })\n})\n/*if (getVar(\"test-text\", \"\").includes(\"PrivateJS\")) {\n    d.push({\n        title: \"““点我查看执行结果””\",\n        col_type: \"text_center_1\",\n        url: $(\"hiker://empty#noHistory#\").rule(() => {\n            evalPrivateJS(getPrivateJS('let d = []'))\n            let js = getVar(\"test-text\", \"\").replace(\"[HikerPrivateJS]:\", \"\")\n            log(js)\n            evalPrivateJS(js)\n            setResult(d)\n        })\n    })\n}*/\nsetResult(d);"}],"title":"PrivateJS工具","author":"Reborn","version":2,"url":"hiker://empty","col_type":"text_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nlet newWindow = true\nlet homePage = JSON.parse(request('hiker://page/home?rule=' + MY_RULE.title)).rule\neval(homePage)","searchFind":"","search_url":"","titleColor":"","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"首页\",\"path\":\"home\",\"rule\":\"js:\\nsetPageTitle('加密JS')\\n\\nevalPrivateJS(getPrivateJS('let d = []'))\\n\\n//evalPrivateJS(getVar(\\\"test-text\\\", \\\"\\\"))\\naddListener('onClose', $.toString(() => {\\n    clearVar(\\\"test-text\\\")\\n    clearVar(\\\"test-result\\\")\\n}))\\n\\ntry {\\n    if (newWindow) {\\n        /*for (let i = 0; i < 1; i++) {\\n            d.push({\\n                col_type: 'big_blank_block'\\n            });\\n        }*/\\n        d.push({\\n            title: '““””<b>选项</b>',\\n            col_type: 'scroll_button',\\n            url: 'hiker://empty',\\n        })\\n        d.push({\\n            title: '点我化为新窗口',\\n            col_type: 'scroll_button',\\n            url: 'hiker://page/home',\\n            extra: {\\n                newWindow: true,\\n                // lineVisible: false\\n            }\\n        })\\n    }\\n} catch (e) {\\n    log(e.message)\\n}\\n\\nd.push({\\n    title: \\\"清空\\\",\\n    desc: \\\"请输入源代码\\\",\\n    col_type: \\\"input\\\",\\n    extra: {\\n        titleVisible: true,\\n        defaultValue: getVar(\\\"test-text\\\", \\\"\\\"),\\n        type: \\\"textarea\\\",\\n        onChange: 'putVar(\\\"test-text\\\", input)'\\n    },\\n    url: $.toString(() => {\\n        putVar(\\\"test-text\\\", '')\\n        refreshPage(false)\\n        return 'toast://清空成功'\\n    })\\n})\\nd.push({\\n    title: \\\"点我加密JS\\\",\\n    col_type: \\\"text_center_1\\\",\\n    url: $().lazyRule(() => {\\n        let src = getVar(\\\"test-text\\\", \\\"\\\")\\n        if (!src) {\\n            putVar(\\\"test-result\\\", \\\"请输入源代码\\\")\\n            refreshPage(false)\\n            return \\\"hiker://empty\\\"\\n        }\\n        let privateJS = getPrivateJS(src)\\n        // privateJS = \\\"[HikerPrivateJS]:\\\" + privateJS\\n        putVar(\\\"test-result\\\", privateJS)\\n        refreshPage(false)\\n        return \\\"toast://加密成功，请查看下方执行结果~\\\"\\n    })\\n})\\nd.push({\\n    title: \\\"复制\\\",\\n    desc: \\\"加密结果\\\",\\n    col_type: \\\"input\\\",\\n    extra: {\\n        titleVisible: true,\\n        defaultValue: getVar(\\\"test-result\\\", \\\"\\\"),\\n        type: \\\"textarea\\\",\\n        onChange: 'putVar(\\\"test-result\\\", input)'\\n    },\\n    url: $.toString(() => {\\n        return 'copy://' + input\\n    })\\n})\\n/*if (getVar(\\\"test-text\\\", \\\"\\\").includes(\\\"PrivateJS\\\")) {\\n    d.push({\\n        title: \\\"““点我查看执行结果””\\\",\\n        col_type: \\\"text_center_1\\\",\\n        url: $(\\\"hiker://empty#noHistory#\\\").rule(() => {\\n            evalPrivateJS(getPrivateJS('let d = []'))\\n            let js = getVar(\\\"test-text\\\", \\\"\\\").replace(\\\"[HikerPrivateJS]:\\\", \\\"\\\")\\n            log(js)\\n            evalPrivateJS(js)\\n            setResult(d)\\n        })\\n    })\\n}*/\\nsetResult(d);\"}]","icon":""},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"佛曰","path":"buddha","rule":"js:\nlet buddha = {};\nbuddha.encode = function(obj) {\n    // log(\"[buddha]obj.decText: \" + obj.decText)\n    let encode = request('http://hi.pcmoe.net/bear.php', {\n        headers: {\n            'X-Token': '07B97AA644E8',\n            'Origin': 'http://hi.pcmoe.net',\n            'X-Requested-With': 'XMLHttpRequest',\n            'User-Agent': 'Mozilla/5.0 (Linux; Android 10; Note9 Build/QKQ1.191222.002; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/77.0.3865.120 MQQBrowser/6.2 TBS/045614 Mobile Safari/537.36',\n            'Content-type': 'application/x-www-form-urlencoded',\n            'Referer': 'http://hi.pcmoe.net/buddha.html'\n        },\n        body: 'mode=Buddha&code=Encode&txt=' + obj.decText,\n        method: 'POST'\n    });\n    // log(\"[buddha]encode: \" + encode)\n    return encode;\n}\nbuddha.decode = function(obj) {\n    let decode = request('http://hi.pcmoe.net/bear.php', {\n        headers: {\n            'X-Token': '07B97AA644E8',\n            'Origin': 'http://hi.pcmoe.net',\n            'X-Requested-With': 'XMLHttpRequest',\n            'User-Agent': 'Mozilla/5.0 (Linux; Android 10; Note9 Build/QKQ1.191222.002; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/77.0.3865.120 MQQBrowser/6.2 TBS/045614 Mobile Safari/537.36',\n            'Content-type': 'application/x-www-form-urlencoded',\n            'Referer': 'http://hi.pcmoe.net/buddha.html'\n        },\n        body: 'mode=Buddha&code=Decode&txt=' + obj.encText,\n        method: 'POST'\n    });\n    return decode;\n}\n$.exports.buddha = buddha"},{"col_type":"text_1","name":"Unicode","path":"unicode","rule":"js:\nlet unicode = {};\nunicode.encode = function(obj) {\n    let encode = escape(obj.decText.replace(/%u/g, \"\\\\u\"));\n    return encode;\n}\nunicode.decode = function(obj) {\n    let decode = unescape(obj.encText.replace(/\\\\u/g, \"%u\"));\n    return decode;\n}\n$.exports.unicode = unicode"},{"col_type":"text_1","name":"Base64","path":"base64","rule":"js:\nlet base64 = {};\nbase64.encode = function(obj) {\n    // let encode = encodeURIComponent(base64Encode(obj.decText));\n    let encode = base64Encode(obj.decText);\n    return encode;\n}\nbase64.decode = function(obj) {\n    let decode = decodeURIComponent(base64Decode(obj.encText));\n    return decode;\n}\n$.exports.base64 = base64"},{"col_type":"text_1","name":"ASCII","path":"ascii","rule":"js:\nlet ascii = {};\nascii.unicode1 = function(str) {\n    var value = '';\n    for (var i = 0; i < str.length; i++) {\n        value = value + '&#' + str.charCodeAt(i) + ';';\n    }\n    return value;\n}\nascii.reconvert = function(str) {\n    str = str.replace(/(\\\\u)(\\w{1,4})/gi, function($0) {\n        return (String.fromCharCode(parseInt((escape($0).replace(/(%5Cu)(\\w{1,4})/g, \"$2\")), 16)));\n    });\n    str = str.replace(/(&#x)(\\w{1,4});/gi, function($0) {\n        return String.fromCharCode(parseInt(escape($0).replace(/(%26%23x)(\\w{1,4})(%3B)/g, \"$2\"), 16));\n    });\n    str = str.replace(/(&#)(\\d{1,6});/gi, function($0) {\n        return String.fromCharCode(parseInt(escape($0).replace(/(%26%23)(\\d{1,6})(%3B)/g, \"$2\")));\n    });\n\n    return str;\n}\n// $.exports.unicode1 = unicode1;\n// $.exports.reconvert = reconvert;\nascii.encode = function(obj) {\n    let encode = this.unicode1(obj.decText);\n    return encode;\n}\nascii.decode = function(obj) {\n    let decode = this.reconvert(obj.encText);\n    return decode;\n}\n$.exports.ascii = ascii;"},{"col_type":"text_1","name":"获取分类头部","path":"classicHeader","rule":"js:\nlet d = [];\nlet selectColor = '#C04A2F'\n// 暗橙 E38C4A\n\nfunction putKeyIntoMap(key, value) {\n    const keyMap = JSON.parse(getVar((getVar(\"ClassicHeader.id\", \"classic\")+\"_all_key_Map\"), \"{}\"));\n    keyMap[key] = value;\n    putVar((getVar(\"ClassicHeader.id\", \"classic\") + \"_all_key_Map\"), JSON.stringify(keyMap));\n}\n\nfunction getHeaderFromJSONObject(obj) {\n    for (let key in obj) {\n        d.push({\n            title: key == getVar(getVar(\"ClassicHeader.id\", \"classic\"), Object.keys(obj)[0]) ? \"<b>““””<font color='\" + selectColor +\"'>\" + key + \"</font></b>\" : key,\n            url: $(\"#noLoading#\").lazyRule((key) => {\n                putVar(getVar(\"ClassicHeader.id\", \"classic\"), key);\n                putVar((getVar(\"ClassicHeader.id\", \"classic\") + \"_cur_index\"), key);\n                refreshPage(false);\n                return \"hiker://empty\"\n            }, key),\n            col_type: \"scroll_button\"\n        });\n    }\n    d.push({\n        col_type: \"blank_block\"\n    });\n    let key = getVar(getVar(\"ClassicHeader.id\", \"classic\"), Object.keys(obj)[0]);\n    putVar((getVar(\"ClassicHeader.id\", \"classic\") + \"_cur_index\"), key);\n    getNextHeaderFromJSONArray(key, obj[key]);\n    return d;\n}\n\nfunction getNextHeaderFromJSONArray(key, array) {\n    if (array == undefined || array.length == 0) {\n        return;\n    }\n    let nextHeader = {};\n    let defaultValue = \"\";\n    defaultValue = array[0];\n    if (Object.prototype.toString.call(array[0]) === '[object Object]') {\n        defaultValue = Object.keys(array[0])[0];\n    }\n    putKeyIntoMap((getVar(\"ClassicHeader.id\", \"classic\") + \"@@\" + key), getVar((getVar(\"ClassicHeader.id\", \"classic\") + \"@@\" + key), defaultValue))\n    putVar((getVar(\"ClassicHeader.id\", \"classic\") + \"_cur_index\"), key + \"@@\" + getVar((getVar(\"ClassicHeader.id\", \"classic\") + \"@@\" + key), defaultValue));\n    for (let value of array) {\n        if (Object.prototype.toString.call(value) === '[object Object]') {\n            // log(\"valueKeys: \"+JSON.stringify(Object.keys(value)[0]))\n            let valueKey = Object.keys(value)[0];\n            d.push({\n                title: valueKey == getVar((getVar(\"ClassicHeader.id\", \"classic\") + \"@@\" + key), defaultValue) ? \"<b>““””<font color='\" + selectColor +\"'>\" + valueKey + \"</font></b>\" : valueKey,\n                url: $(\"#noLoading#\").lazyRule((valueKey, key) => {\n                    function putKeyIntoMap(key, value) {\n                        const keyMap = JSON.parse(getVar((getVar(\"ClassicHeader.id\", \"classic\") + \"_all_key_Map\"), \"{}\"));\n                        keyMap[key] = value;\n                        putVar(getVar(\"ClassicHeader.id\", \"classic\") + \"_all_key_Map\", JSON.stringify(keyMap));\n                    }\n                    putVar(getVar(\"ClassicHeader.id\", \"classic\") + \"@@\" + key, valueKey);\n                    putVar(getVar(\"ClassicHeader.id\", \"classic\") + \"_cur_index\", key + \"@@\" + valueKey);\n                    putKeyIntoMap(getVar(\"ClassicHeader.id\", \"classic\") + \"@@\" + key, getVar(getVar(\"ClassicHeader.id\", \"classic\") + \"@@\" + key, \"defaultValue\"))\n                    refreshPage(false);\n                    return \"hiker://empty\"\n                }, valueKey, key),\n                col_type: \"scroll_button\"\n            });\n            nextHeader[valueKey] = value[valueKey];\n        } else {\n            d.push({\n                title: value == getVar(getVar(\"ClassicHeader.id\", \"classic\") + \"@@\" + key, defaultValue) ? \"<b>““””<font color='\" + selectColor +\"'>\" + value + \"</font></b>\" : value,\n                url: $(\"#noLoading#\").lazyRule((value, key) => {\n                    function putKeyIntoMap(key, value) {\n                        const keyMap = JSON.parse(getVar(getVar(\"ClassicHeader.id\", \"classic\") + \"_all_key_Map\", \"{}\"));\n                        keyMap[key] = value;\n                        putVar(getVar(\"ClassicHeader.id\", \"classic\") + \"_all_key_Map\", JSON.stringify(keyMap));\n                    }\n                    putVar(getVar(\"ClassicHeader.id\", \"classic\") + \"@@\" + key, value);\n                    putKeyIntoMap(getVar(\"ClassicHeader.id\", \"classic\") + \"@@\" + key, getVar(getVar(\"ClassicHeader.id\", \"classic\") + \"@@\" + key, \"defaultValue\"))\n                    putVar(getVar(\"ClassicHeader.id\", \"classic\") + \"_cur_index\", key + \"@@\" + value);\n                    refreshPage(false);\n                    return \"hiker://empty\"\n                }, value, key),\n                col_type: \"scroll_button\"\n            });\n        }\n    }\n\n    d.push({\n        col_type: \"blank_block\"\n    });\n    if (nextHeader !== undefined && nextHeader.length != 0) {\n        getNextHeaderFromJSONArray(key + \"@@\" + getVar(getVar(\"ClassicHeader.id\", \"classic\") + \"@@\" + key, defaultValue), nextHeader[getVar(getVar(\"ClassicHeader.id\", \"classic\") + \"@@\" + key, defaultValue)]);\n    }\n}\n\nlet header = {\n    /**\n     * 可自定义当前分类头部 id（其实没啥用，就是为了调试不同规则区分一下而已）\n     */\n    setId: function(id) {\n\t      putVar(\"ClassicHeader.id\", id)\n    },\n    getId: function() {\n\t      return getVar(\"ClassicHeader.id\", \"classic\");\n    },\n    /**\n     * 获取分类头部，返回视界 setResult 用的数组\n     */\n    get: function(obj) {\n        let result = getHeaderFromJSONObject(obj);\n        //log(\"【子页面】\" + JSON.stringify(result))\n        return result;\n    },\n    /**\n      * 页面关闭时需要注册的生命周期，引入依赖后在 addListener 中调用即可\n      * 例：\n         const { header } = $.require(\"hiker://page/classicHeader\");\n         addListener(\"onClose\", $.toString((header) => {\n          header.onClose();\n        }, header));\n      */\n    onClose: function() {\n        // putVar(getVar(\"ClassicHeader.id\", \"classic\") + \"\", \"编码\");\n        // putVar(getVar(\"ClassicHeader.id\", \"classic\") + \"@@编码\", \"佛曰\");\n        let allKeyArr = Object.keys(JSON.parse(getVar(getVar(\"ClassicHeader.id\", \"classic\") + \"_all_key_Map\", \"{}\")));\n        for (let i in allKeyArr) {\n            clearVar(allKeyArr[i]);\n            // log(\"【清理后】\"+ allKeyArr[i] + \": \"+JSON.stringify(getVar(allKeyArr[i], \"\")))\n        }\n        clearVar(getVar(\"ClassicHeader.id\", \"classic\"))\n        clearVar(getVar(\"ClassicHeader.id\", \"classic\") + \"_all_key_Map\")\n        clearVar(\"ClassicHeader.id\")\n    },\n    /**\n     * 获取当前已选多级分类，返回的数据格式为：一级分类@@二级分类@@...，可自行做映射获取 url\n     */\n    getCurrentIndex: function() {\n        return getVar(getVar(\"ClassicHeader.id\", \"classic\") + \"_cur_index\", \"\");\n    }\n}\n$.exports.header = header"},{"col_type":"text_1","name":"编码类页面","path":"encode","rule":"js:\nfunction setEncodePage(d, obj) {\n    d.push({\n    title: \"编码\",\n    desc: \"请输入原文\",\n    col_type: 'input',\n    extra: {\n        // titleVisible: false,\n        defaultValue: getVar(\"decode-text\", \"\"),\n        type: \"textarea\",\n        onChange: 'putVar(\"decode-text\",input)'\n    },\n    url: $.toString((obj) => {\n        obj.decText = input;\n        // log(\"obj.decText: \" + obj.decText)\n        var encode = \"\";\n        var tool = {};\n        for (let key in obj.tools) {\n            if (obj.type.includes(key)) {\n                tool = obj.tools[key];\n                break;\n            }\n        }\n        encode = tool.encode(obj);\n        // log(\"encode: \" + encode)\n        putVar('encode-text', encode);\n        refreshPage();\n        return 'toast://加密成功';\n    }, obj),\n});\n\nd.push({\n    title: \"解码\",\n    desc: \"请输入密文\",\n    col_type: 'input',\n    extra: {\n        // titleVisible: false,\n        defaultValue: getVar(\"encode-text\", \"\"),\n        type: \"textarea\",\n        onChange: 'putVar(\"encode-text\",input)'\n    },\n    url: $.toString((obj) => {\n        obj.encText = input;\n        // log(\"obj.encText: \" + obj.encText)\n        var decode = \"\";\n        var tool = {};\n        for (let key in obj.tools) {\n            if (obj.type.includes(key)) {\n                tool = obj.tools[key];\n                break;\n            }\n        }\n        decode = tool.decode(obj);\n        putVar('decode-text', decode);\n        refreshPage();\n        return 'toast://解密成功';\n    }, obj),\n});\n  \nd.push({\n    title: '清空原文',\n    img: 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/32d29e2fbcdf8d83071deec7f6aa4b7c.png',\n    url: \"hiker://empty#noLoading#\" + \"@lazyRule=.js:putVar('decode-text', '');refreshPage();'toast://清空成功'\",\n    col_type: 'icon_2'\n});\n\nd.push({\n    title: '清空密文',\n    img: 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/32d29e2fbcdf8d83071deec7f6aa4b7c.png',\n    url: \"hiker://empty#noLoading#\" + \"@lazyRule=.js:putVar('encode-text', '');refreshPage();'toast://清空成功'\",\n    col_type: 'icon_2'\n});\n\nd.push({\n    title: '复制原文',\n    img: 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/32d29e2fbcdf8d83071deec7f6aa4b7c.png',\n    url: $(\"hiker://empty#noLoading#\").lazyRule(() => {\n        var dec = getVar(\"decode-text\");\n        if (dec) {\n            return \"copy://\" + dec;\n        } else {\n            return \"toast://内容为空！\"\n        }\n    }),\n    col_type: 'icon_2'\n});\n\nd.push({\n    title: '复制密文',\n    img: 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/32d29e2fbcdf8d83071deec7f6aa4b7c.png',\n    url: $(\"hiker://empty#noLoading#\").lazyRule(() => {\n        var enc = getVar(\"encode-text\");\n        if (enc) {\n            return \"copy://\" + enc;\n        } else {\n            return \"toast://内容为空！\"\n        }\n    }),\n    col_type: 'icon_2'\n});\n}\n$.exports.setEncodePage = setEncodePage"},{"col_type":"text_1","name":"加密类页面","path":"crypto","rule":"js:\n// const { ConfigMapping } = $.require(\"hiker://page/aes\");\n// log(JSON.stringify(Object.keys(Crypto.ConfigMapping)))\nconst { buildAESUi } = $.require(\"hiker://page/aesui\");\nconst { buildRSAUi } = $.require(\"hiker://page/rsaui\");\nfunction setCryptoPage(d, obj) {\n    if (obj.type.includes(\"对称加密\") && !obj.type.includes(\"非对称加密\")) {\n        buildAESUi(d, obj)\n    } else if (obj.type.includes(\"非对称加密\")) {\n        buildRSAUi(d, obj)\n    }\n}\n$.exports.setCryptoPage = setCryptoPage"},{"col_type":"text_1","name":"AES","path":"aes","rule":"js:\neval(getCryptoJS());\nlet Crypto = {\n    ConfigMapping: {\n        encType: {\n            \"AES\": CryptoJS.AES.encrypt,\n            \"DES\": CryptoJS.DES.encrypt,\n            \"3DES\": CryptoJS.TripleDES.encrypt,\n        },\n        decType: {\n            \"AES\": CryptoJS.AES.decrypt,\n            \"DES\": CryptoJS.DES.decrypt,\n            \"3DES\": CryptoJS.TripleDES.decrypt,\n        },\n        mode: {\n            \"CBC\": CryptoJS.mode.CBC,\n            \"ECB\": CryptoJS.mode.ECB,\n            \"CFB\": CryptoJS.mode.CFB,\n            \"CTR\": CryptoJS.mode.CTR,\n            \"OFB\": CryptoJS.mode.OFB\n        },\n        pad: {\n            \"Pkcs7\": CryptoJS.pad.Pkcs7,\n            \"ZeroPadding\": CryptoJS.pad.ZeroPadding,\n            \"NoPadding\": CryptoJS.pad.NoPadding,\n            \"Iso97971\": CryptoJS.pad.Iso97971,\n            \"AnsiX923\": CryptoJS.pad.AnsiX923,\n            // \"Iso10126\": CryptoJS.pad.Iso10126,\n        },\n        encode: {\n            \"Base64\": \"Base64\",\n            \"HEX\": \"HEX\"\n        },\n        blockSize: {\n            \"AES\": {\n                \"AES-128\": 128,\n                \"AES-192\": 192,\n                \"AES-256\": 256,\n            }\n        },\n        keyEncodeType: {\n            \"UTF-8\": \"UTF-8\",\n            \"Hex\": \"Hex\"\n        },\n        ivEncodeType: {\n            \"UTF-8\": \"UTF-8\",\n            \"Hex\": \"Hex\"\n        }\n    },\n    config: {\n        type: {\n            key: \"crypto_type\",\n            get: function() {\n                return getVar(this.key, \"AES\");\n            },\n            set: function(newValue) {\n                putVar(this.key, newValue);\n            }\n        },\n        mode: {\n            key: \"crypto_select_mode\",\n            get: function() {\n                return getVar(this.key, \"CBC\");\n            },\n            set: function(newValue) {\n                putVar(this.key, newValue);\n            }\n        },\n        pad: {\n            key: \"crypto_select_pad\",\n            get: function() {\n                return getVar(this.key, \"Pkcs7\");\n            },\n            set: function(newValue) {\n                putVar(this.key, newValue);\n            }\n        },\n        iv: {\n            key: \"crypto_input_iv\",\n            get: function() {\n                return getVar(this.key, \"\");\n            },\n            set: function(newValue) {\n                putVar(this.key, newValue);\n            }\n        },\n        encode: {\n            key: \"crypto_output_encode\",\n            get: function() {\n                return getVar(this.key, Crypto.ConfigMapping.encode[\"Base64\"])\n            },\n            set: function(newValue) {\n                putVar(this.key, newValue);\n            }\n        },\n        key: {\n            key: \"crypto_key\",\n            get: function() {\n                return getVar(this.key, \"\");\n            },\n            set: function(newValue) {\n                putVar(this.key, newValue);\n            }\n        },\n        text: {\n            key: \"crypto_text\",\n            get: function() {\n                return getVar(this.key, \"\");\n            },\n            set: function(newValue) {\n                putVar(this.key, newValue);\n            }\n        },\n        cipherText: {\n            key: \"crypto_cipher_text\",\n            get: function() {\n                return getVar(this.key, \"\");\n            },\n            set: function(newValue) {\n                putVar(this.key, newValue);\n            }\n        },\n        blockSize: {\n            key: \"crypto_block_size\",\n            get: function() {\n                return getVar(this.key, \"AES-128\");\n            },\n            set: function(newValue) {\n                putVar(this.key, newValue);\n            }\n\n        },\n        keyEncodeType: {\n            key: \"crypto_key_encode_type\",\n            get: function() {\n                // TODO 此处不知为何 Crypto.ConfigMapping.keyEncodeType[\"UTF-8\"] 会报 Crypto undefined\n                return getVar(this.key, \"UTF-8\")\n            },\n            set: function(newValue) {\n                putVar(this.key, newValue);\n            }\n        },\n        ivEncodeType: {\n            key: \"crypto_iv_encode_type\",\n            get: function() {\n                return getVar(this.key, \"UTF-8\")\n            },\n            set: function(newValue) {\n                putVar(this.key, newValue);\n            }\n        },\n    },\n    onClose: function() {\n        let configKeys = Object.keys(this.config);\n        for (let confKey of configKeys) {\n            let key = this.config[confKey].key;\n            clearVar(key);\n        }\n    },\n    buildConfig: function() {\n        let mode = this.config.mode.get();\n        let pad = this.config.pad.get();\n        let iv = this.config.iv.get();\n        let conf = {};\n        conf.mode = this.ConfigMapping.mode[mode];\n        conf.padding = this.ConfigMapping.pad[pad]\n        if (mode != \"ECB\" && iv.length != 0) {\n            conf.iv = CryptoJS.enc.Utf8.parse(iv);\n            if (this.config.ivEncodeType.get() == \"Hex\") {\n                iv = iv.replace(\"[HEX]:\", \"\")\n                conf.iv = CryptoJS.enc.Hex.parse(iv);\n            }\n        }\n        return conf\n    },\n    encryptor: function(obj) {\n        // 原文\n        let text = obj.decText;\n        if (text) {\n            let keyString = this.config.key.get()\n            let key = CryptoJS.enc.Utf8.parse(keyString);\n            if (this.config.keyEncodeType.get() == \"Hex\") {\n                keyString = keyString.replace(\"[HEX]:\", \"\")\n                key = CryptoJS.enc.Hex.parse(keyString);\n            }\n            try {\n                let conf = this.buildConfig()\n                let encrypted = this.ConfigMapping.encType[this.config.type.get()](text, key, conf);\n                let encode = this.config.encode.get()\n                let cipherText = encrypted.toString();\n                if (encode === 'HEX') {\n                    cipherText = CryptoJS.enc.Hex.stringify(CryptoJS.enc.Base64.parse(cipherText));\n                }\n                // 密文\n                this.config.cipherText.set(cipherText)\n                return cipherText;\n            } catch (e) {\n                log(e.message)\n                setError(e.message)\n            }\n        } else {\n            throw new Error(\"明文不能为空！\")\n        }\n    },\n    decryptor: function(obj) {\n        let text = obj.encText;\n        if (text) {\n            let encode = this.config.encode.get()\n            let cipherText;\n            if (encode === 'Base64') {\n                cipherText = text\n            } else if (encode === 'HEX') {\n                cipherText = CryptoJS.enc.Base64.stringify(CryptoJS.enc.Hex.parse(text))\n            }\n            let keyString = this.config.key.get()\n            let key = CryptoJS.enc.Utf8.parse(keyString);\n            if (this.config.keyEncodeType.get() == \"Hex\") {\n                keyString = keyString.replace(\"[HEX]:\", \"\")\n                key = CryptoJS.enc.Hex.parse(keyString);\n            }\n            try {\n                let conf = this.buildConfig()\n                let decrypted = this.ConfigMapping.decType[this.config.type.get()](cipherText, key, conf);\n                let decryptedStr = decrypted.toString(CryptoJS.enc.Utf8);\n                if (!decryptedStr) {\n                    throw new Error(\"请检查密钥 key、偏移量 iv 以及密文是否正确！\");\n                }\n                this.config.text.set(decryptedStr)\n                return decryptedStr\n            } catch (e) {\n                throw new Error(\"解密失败！\" + e.message);\n            }\n        } else {\n            throw new Error(\"密文不能为空！\")\n        }\n    },\n    checkKey: function(obj) {\n        let key = Crypto.config.key.get();\n        if (key.length === 0) {\n            throw new Error(\"密钥 key 不能为空！\")\n        }\n        let type = Crypto.config.type.get();\n        let blockSize = 128;\n        try {\n            blockSize = Crypto.ConfigMapping[\"blockSize\"][type][Crypto.config.blockSize.get()]\n            // log(\"checkKey#blockSize:\" + blockSize)\n        } catch (e) {}\n        if (type === \"DES\") {\n            blockSize = 64;\n        }\n        if (Crypto.config.keyEncodeType.get() == \"Hex\") {\n            key = key.replace(\"[HEX]:\", \"\")\n            blockSize = blockSize * 2;\n        }\n        // 设置数据块长度\n        let keySize = key.length * 8;\n        // log(\"checkKey#keySize:\" + keySize)\n        // log(\"checkKey#keySize/8:\" + keySize/8)\n        // log(\"checkKey#blockSize:\" + blockSize)\n        // log(\"checkKey#blockSize/8:\" + blockSize / 8)\n        if (keySize < blockSize) {\n            obj.from = Crypto.config.keyEncodeType.key\n            let newKey = Crypto.fillKeys(obj, key, blockSize / 8);\n            Crypto.config.key.set(newKey)\n            // log(\"checkKey#newKey: \" + newKey)\n            // log(\"checkKey#newKey.Size: \" + newKey.length * 8)\n            throw new Error('密钥 key 长度过短，已自动 `\\\\x00` 空填充，请再次执行加/解密')\n        } else if (keySize > blockSize) {\n            // TODO 超出部分将被忽略\n            throw new Error(\"密钥 key 长度 \" + key.length + \" 过长，长度应为 \" + blockSize / 8 + \"，请自行检查，然后重新执行加/解密\")\n        } else {\n            return;\n        }\n    },\n    checkIv: function(obj) {\n        let iv = Crypto.config.iv.get();\n        let mode = Crypto.config.mode.get();\n        if (mode === 'ECB') {\n            return;\n        }\n        if (iv.length === 0) {\n            throw new Error(\"偏移量 iv 不能为空！\")\n        }\n        let type = Crypto.config.type.get();\n        let blockSize = 128;\n        if (type === 'DES' || type === '3DES') {\n            blockSize = 64;\n        }\n        if (Crypto.config.ivEncodeType.get() == \"Hex\") {\n            iv = iv.replace(\"[HEX]:\", \"\")\n            blockSize = blockSize * 2;\n        }\n        // 设置数据块长度\n        let ivSize = iv.length * 8;\n        if (ivSize < blockSize) {\n            obj.from = Crypto.config.ivEncodeType.key\n            let newIv = Crypto.fillKeys(obj, iv, blockSize / 8);\n            Crypto.config.iv.set(newIv)\n            throw new Error(\"偏移量 iv 长度过短，已自动 `\\\\x00` 空填充，请再次执行加/解密\")\n        } else if (ivSize > blockSize) {\n            throw new Error(\"偏移量 iv 长度 \" + iv.length + \" 过长，长度应为 \" + blockSize / 8 + \"，请自行检查，然后重新执行加/解密\")\n        } else {\n            return;\n        }\n    },\n    /**\n     * 密钥 `\\x00` 空填充\n     * @param {string} key 密钥\n     * @param {Number} keySize 填充长度, 值: 128, 192, 256\n     */\n    fillKeys: function(obj, key, keySize) {\n        let Tool = $.require(\"hiker://page/utiliy?rule=\" + obj.ruleTitle);\n        let encodeType = \"UTF-8\"\n        if (obj.from == Crypto.config.keyEncodeType.key) {\n            encodeType = Crypto.config.keyEncodeType.get();\n        } else if (obj.from == Crypto.config.ivEncodeType.key) {\n            encodeType = Crypto.config.ivEncodeType.get();\n        }\n        if (encodeType == \"Hex\") {\n            return \"[HEX]:\" + Tool.fillZeroPadding(key, keySize);\n        }\n        return Tool.fillNullPadding(key, keySize);\n    },\n    AES: {\n        encrypt: function(obj) {\n            Crypto.config.type.set(\"AES\")\n            // log(\"AES-Encrypt-obj:\" + JSON.stringify(obj))\n            return Crypto.encryptor(obj);\n        },\n        decrypt: function(obj) {\n            Crypto.config.type.set(\"AES\")\n            return Crypto.decryptor(obj);\n        }\n    },\n    DES: {\n        encrypt: function(obj) {\n            Crypto.config.type.set(\"DES\")\n            return Crypto.encryptor(obj);\n        },\n        decrypt: function(obj) {\n            Crypto.config.type.set(\"DES\")\n            return Crypto.decryptor(obj);\n        }\n    },\n    \"3DES\": {\n        encrypt: function(obj) {\n            Crypto.config.type.set(\"3DES\")\n            return Crypto.encryptor(obj);\n        },\n        decrypt: function(obj) {\n            Crypto.config.type.set(\"3DES\")\n            return Crypto.decryptor(obj);\n        }\n\n    },\n}\n\n$.exports = Crypto;"},{"col_type":"text_1","name":"编码类算法模板","path":"template_encode","rule":"js:\nlet template = {};\n// 编码\ntemplate.encode = function(obj) {\n    log(\"我是原文\"+ obj.decText)\n    let encode = \"原文通过加密得到的密文字符串\";\n    return encode;\n}\n// 解码\ntemplate.decode = function(obj) {\n    log(\"我是密文\"+ obj.encText)\n    let decode = \"密文通过解密得到的原文字符串\";\n    return decode;\n}\n// 导出给外部通过 require 方法使用\n$.exports.template = template"},{"col_type":"text_1","name":"AES-UI","path":"aesui","rule":"js:\nfunction buildAESUi(d, obj) {\n    let config = $.require(\"hiker://page/aes?rule=\" + obj.ruleTitle).config;\n    if (obj.type.includes(\"AES\")) {\n        config.type.set(\"AES\")\n    }\n    if (obj.type.includes(\"DES\") && !obj.type.includes(\"3DES\")) {\n        config.type.set(\"DES\")\n    }\n    if (obj.type.includes(\"3DES\")) {\n        config.type.set(\"3DES\")\n        // https://tool.lmeee.com/jiami/des3 说明：3DES数据块长度为64位，所以IV长度需要为8个字符（ECB模式不用IV），密钥长度为16或24个字符（8个字符以内则结果与DES相同），IV与密钥超过长度则截取，不足则在末尾填充'\\0'补足\n    }\n    d.push({\n        title: \"加密\",\n        desc: \"请输入明文\",\n        col_type: 'input',\n        extra: {\n            // titleVisible: false,\n            defaultValue: getVar(\"crypto_text\", \"\"),\n            type: \"textarea\",\n            onChange: 'putVar(\"crypto_text\",input)'\n        },\n        url: $.toString((obj) => {\n            obj.decText = input;\n            // log(\"obj.decText: \" + obj.decText)\n            let toastText = \"加密成功\";\n            var cipherText = \"\";\n            let Crypto = $.require(\"hiker://page/aes?rule=\" + obj.ruleTitle);\n            let config = Crypto.config;\n            try {\n                Crypto.checkKey(obj);\n                Crypto.checkIv(obj);\n                obj.tools[\"AES\"] = Crypto.AES;\n                obj.tools[\"DES\"] = Crypto.DES;\n                obj.tools[\"3DES\"] = Crypto[\"3DES\"];\n                var tool = {};\n                for (let key in obj.tools) {\n                    if (obj.type.includes(\"3DES\")) {\n                        tool = obj.tools[\"3DES\"];\n                        break;\n                    }\n                    if (obj.type.includes(key) && !obj.type.includes(\"3DES\")) {\n                        tool = obj.tools[key];\n                        break;\n                    }\n                }\n                cipherText = tool.encrypt(obj);\n                // log(\"cipherText: \" + cipherText)\n            } catch (e) {\n                cipherText = e.message;\n                toastText = \"加密失败\";\n            }\n            config.cipherText.set(cipherText)\n            refreshPage();\n            return 'toast://' + toastText;\n        }, obj),\n    });\n    buildConfigsUI(d, obj);\n    d.push({\n        title: \"解密\",\n        desc: \"请输入密文\",\n        col_type: 'input',\n        extra: {\n            // titleVisible: false,\n            defaultValue: getVar(\"crypto_cipher_text\", \"\"),\n            type: \"textarea\",\n            onChange: 'putVar(\"crypto_cipher_text\",input)'\n        },\n        url: $.toString((obj) => {\n            obj.encText = input;\n            // log(\"obj.encText: \" + obj.encText)\n            let toastText = \"解密成功\";\n            let Crypto = $.require(\"hiker://page/aes?rule=\" + obj.ruleTitle);\n            var text = \"\";\n            let config = Crypto.config;\n            try {\n                Crypto.checkKey(obj);\n                Crypto.checkIv(obj);\n                obj.tools[\"AES\"] = Crypto.AES;\n                obj.tools[\"DES\"] = Crypto.DES\n                var tool = {};\n                for (let key in obj.tools) {\n                    if (obj.type.includes(key)) {\n                        tool = obj.tools[key];\n                        break;\n                    }\n                }\n                // log(obj.encText)\n                text = tool.decrypt(obj);\n            } catch (e) {\n                text = e.message;\n                toastText = \"解密失败\";\n            }\n            config.text.set(text)\n            refreshPage();\n            return 'toast://' + toastText;\n        }, obj),\n    });\n}\n\nfunction buildConfigsUI(d, obj) {\n    let Crypto = $.require(\"hiker://page/aes?rule=\" + obj.ruleTitle);\n    let ConfigMapping = Crypto.ConfigMapping;\n    let config = Crypto.config;\n    let mappingKeys = Object.keys(ConfigMapping);\n    let modes = Object.keys(ConfigMapping[\"mode\"]);\n    // log(JSON.stringify(modes))\n    let paddings = Object.keys(ConfigMapping[\"pad\"]);\n    // log(JSON.stringify(paddings))\n    let encodes = Object.keys(ConfigMapping[\"encode\"]);\n    // log(JSON.stringify(encodes))\n    d.push({\n        title: '““””<strong><font color=\"black\">模式</font></strong>',\n        url: \"hiker://empty\",\n        col_type: \"scroll_button\"\n    })\n    for (let mode of modes) {\n        d.push({\n            title: mode == config.mode.get() ? \"‘‘\" + mode + \"’’\" : mode,\n            url: $(\"#noLoading#\").lazyRule((mode, config) => {\n                config.mode.set(mode)\n                refreshPage(false);\n                return \"hiker://empty\"\n            }, mode, config),\n            col_type: \"scroll_button\"\n        });\n    }\n    d.push({\n        col_type: \"blank_block\"\n    })\n\n    d.push({\n        title: '““””<strong><font color=\"black\">填充</font></strong>',\n        url: \"hiker://empty\",\n        col_type: \"scroll_button\"\n    })\n    for (let padding of paddings) {\n        d.push({\n            title: padding == config.pad.get() ? \"‘‘\" + padding + \"’’\" : padding,\n            url: $(\"#noLoading#\").lazyRule((padding, config) => {\n                config.pad.set(padding)\n                refreshPage(false);\n                return \"hiker://empty\"\n            }, padding, config),\n            col_type: \"scroll_button\"\n        });\n    }\n    d.push({\n        col_type: \"blank_block\"\n    })\n\n    if (config.type.get() == 'AES') {\n        let blockSizes = Object.keys(ConfigMapping[\"blockSize\"][config.type.get()]);\n        d.push({\n            title: '““””<strong><font color=\"black\">数据块</font></strong>',\n            url: \"hiker://empty\",\n            col_type: \"scroll_button\"\n        })\n        for (let blockSize of blockSizes) {\n            d.push({\n                title: blockSize == config.blockSize.get() ? \"‘‘\" + blockSize + \"’’\" : blockSize,\n                url: $(\"#noLoading#\").lazyRule((blockSize, config) => {\n                    config.blockSize.set(blockSize)\n                    refreshPage(false);\n                    return \"hiker://empty\"\n                }, blockSize, config),\n                col_type: \"scroll_button\"\n            });\n        }\n        d.push({\n            col_type: \"blank_block\"\n        })\n    }\n\n    d.push({\n        title: '““””<strong><font color=\"black\">密文编码</font></strong>',\n        url: \"hiker://empty\",\n        col_type: \"scroll_button\"\n    })\n    for (let encode of encodes) {\n        d.push({\n            title: encode == config.encode.get() ? \"‘‘\" + encode + \"’’\" : encode,\n            url: $(\"#noLoading#\").lazyRule((encode, config) => {\n                config.encode.set(encode);\n                refreshPage(false);\n                return \"hiker://empty\"\n            }, encode, config),\n            col_type: \"scroll_button\"\n        });\n    }\n    // AES 密钥 key 16/24/32 字符 => 128/192/256 bit\n    let blockSize = 128;\n    try {\n        blockSize = ConfigMapping[\"blockSize\"][config.type.get()][config.blockSize.get()]\n    } catch (e) {}\n    if (config.type.get() === \"DES\") {\n        blockSize = 64;\n    }\n    obj.blockSize = blockSize;\n    let keyLen = blockSize / 8;\n    let keyLenStr = keyLen + \" 个字符\"\n    if (config.keyEncodeType.get() == 'Hex') {\n        keyLenStr = (keyLen * 2) + \" 个十六进制字符\";\n    }\n    d.push({\n        title: \"随机 key\",\n        desc: \"密钥 key, 必须 \" + keyLenStr,\n        col_type: 'input',\n        extra: {\n            // titleVisible: false,\n            /*height: -1,\n            type: \"textarea\",*/\n            defaultValue: config.key.get(),\n            onChange: $.toString((config) => {\n                config.key.set(input)\n            }, config)\n        },\n        url: $.toString((obj, config) => {\n            let Tool = $.require(\"hiker://page/utiliy?rule=\" + obj.ruleTitle);\n            let keyLen = obj.blockSize / 8;\n            if (config.type.get() === 'DES') {\n                keyLen = 8;\n            }\n            let randomKey = Tool.randomString(keyLen);\n            if (config.keyEncodeType.get() == 'Hex') {\n                let hex = $.require(\"hiker://page/hex?rule=\" + obj.ruleTitle).hex;\n                obj.decText = randomKey\n                randomKey = hex.encode(obj)\n            }\n            config.key.set(randomKey);\n            refreshPage(false)\n        }, obj, config)\n    });\n\n    d.push({\n        title: '““””<strong><font color=\"black\">密钥编码</font></strong>',\n        url: $(\"#noLoading#\").lazyRule((config) => {\n            config.keyEncodeType.set(\"UTF-8\");\n            refreshPage(false);\n            return \"toast://重置成功！\";\n        }, config),\n        col_type: \"scroll_button\"\n    })\n    let keyEncodeTypes = Object.keys(ConfigMapping[\"keyEncodeType\"]);\n    // log(JSON.stringify(keyEncodeTypes))\n    for (let keyEncodeType of keyEncodeTypes) {\n        d.push({\n            title: keyEncodeType == config.keyEncodeType.get() ? \"‘‘\" + keyEncodeType + \"’’\" : keyEncodeType,\n            url: $(\"#noLoading#\").lazyRule((keyEncodeType, config, obj) => {\n                let toastText = \"hiker://empty\";\n                let hex = $.require(\"hiker://page/hex?rule=\" + obj.ruleTitle).hex;\n                let key = config.key.get();\n                let oldKeyEncodeType = config.keyEncodeType.get();\n                switch (oldKeyEncodeType) {\n                    case \"UTF-8\":\n                        if (keyEncodeType == \"Hex\") {\n                            obj.decText = key\n                            if (key.length !== 0) {\n                                config.key.set(hex.encode(obj))\n                            }\n                        }\n                        config.keyEncodeType.set(keyEncodeType);\n                        refreshPage(false);\n                        break;\n                    case \"Hex\":\n                        if (key.length == 0) {\n                            config.keyEncodeType.set(keyEncodeType);\n                            refreshPage(false);\n                        } else {\n                            toastText = 'toast://当前不支持 Hex 转其他编码，若需要重置选项请点击[密钥编码]'\n                        }\n                        break;\n                }\n                return toastText;\n            }, keyEncodeType, config, obj),\n            col_type: \"scroll_button\"\n        });\n    }\n\n    if (config.mode.get() !== \"ECB\") {\n        let ivSize = (config.type.get() === \"DES\" || config.type.get() === \"3DES\") ? 64 : 128;\n        obj.ivSize = ivSize;\n        let ivLen = ivSize / 8;\n        let ivLenStr = ivLen + \" 个字符\"\n        if (config.ivEncodeType.get() == 'Hex') {\n            ivLenStr = (ivLen * 2) + \" 个十六进制字符\";\n        }\n        d.push({\n            title: \"随机 iv\",\n            desc: \"偏移量 iv, 必须 \" + ivLenStr,\n            col_type: 'input',\n            extra: {\n                // titleVisible: false,\n                /*height: -1,\n                type: \"textarea\",*/\n                defaultValue: config.iv.get(),\n                onChange: $.toString((config) => {\n                    config.iv.set(input)\n                }, config)\n            },\n            url: $.toString((obj, config) => {\n                let Tool = $.require(\"hiker://page/utiliy?rule=\" + obj.ruleTitle);\n                let ivLen = obj.ivSize / 8;\n                let randomIv = Tool.randomString(ivLen);\n                if (config.ivEncodeType.get() == 'Hex') {\n                    let hex = $.require(\"hiker://page/hex?rule=\" + obj.ruleTitle).hex;\n                    obj.decText = randomIv\n                    randomIv = hex.encode(obj)\n                }\n                config.iv.set(randomIv);\n                refreshPage(false)\n            }, obj, config)\n        });\n        d.push({\n            title: '““””<strong><font color=\"black\">偏移量编码</font></strong>',\n            url: $(\"#noLoading#\").lazyRule((config) => {\n                config.ivEncodeType.set(\"UTF-8\");\n                refreshPage(false);\n                return \"toast://重置成功！\";\n            }, config),\n            col_type: \"scroll_button\"\n        })\n        let ivEncodeTypes = Object.keys(ConfigMapping[\"ivEncodeType\"]);\n        // log(JSON.stringify(keyEncodeTypes))\n        for (let ivEncodeType of ivEncodeTypes) {\n            d.push({\n                title: ivEncodeType == config.ivEncodeType.get() ? \"‘‘\" + ivEncodeType + \"’’\" : ivEncodeType,\n                url: $(\"#noLoading#\").lazyRule((ivEncodeType, config, obj) => {\n                    let toastText = \"hiker://empty\";\n                    let hex = $.require(\"hiker://page/hex?rule=\" + obj.ruleTitle).hex;\n                    let iv = config.iv.get();\n                    let oldIvEncodeType = config.ivEncodeType.get();\n                    switch (oldIvEncodeType) {\n                        case \"UTF-8\":\n                            if (ivEncodeType == \"Hex\") {\n                                obj.decText = iv\n                                if (iv.length !== 0) {\n                                    config.iv.set(hex.encode(obj))\n                                }\n                            }\n                            config.ivEncodeType.set(ivEncodeType);\n                            refreshPage(false);\n                            break;\n                        case \"Hex\":\n                            if (iv.length == 0) {\n                                config.ivEncodeType.set(ivEncodeType);\n                                refreshPage(false);\n                            } else {\n                                toastText = 'toast://当前不支持 Hex 转其他编码，若需要重置选项请点击[偏移量编码]'\n                            }\n                            break;\n                    }\n                    return toastText;\n                }, ivEncodeType, config, obj),\n                col_type: \"scroll_button\"\n            });\n        }\n    } else {\n        config.iv.set(\"\");\n    }\n}\n$.exports.buildAESUi = buildAESUi"},{"col_type":"rich_text","name":"RSA-UI","path":"rsaui","rule":"js:\nlet navigator = {};\nlet window = { \n\tnavigator: navigator \n};\nfunction buildRSAUi(d, obj) {\n  d.push({\n\ttitle: '<p style=\"text-align: center;\">目前无法实现，敬请期待（咕咕咕）~</p>',\n\tcol_type: 'rich_text'\n  })\n  // https://cdn.jsdelivr.net/npm/keypair@1.0.3/index.min.js\n  // https://cdn.jsdelivr.net/gh/wwwtyro/cryptico@master/cryptico.min.js\n  // let cryptico = request(\"https://cdn.jsdelivr.net/gh/wwwtyro/cryptico@master/cryptico.min.js\")\n  // eval(cryptico)\n\n\n}\n$.exports.buildRSAUi = buildRSAUi"},{"col_type":"text_1","name":"工具","path":"utiliy","rule":"js:\nlet Tool = {\n  randomString: function(len){\n      let chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz123456789' \n      let maxLen = chars.length\n      let str = ''\n      for (let i = 0; i < len; i++) {\n        str += chars.charAt(Math.floor(Math.random() * maxLen))\n      }\n      return str\n  },\n  fillNullPadding: function (str, len) {\n    // str.padStart(targetLength [, padString])\n    // str.padEnd(targetLength [, padString])\n    if(str.length >= len) {\n      return str;\n    }\n    return str + Array( len - str.length + 1 ).join(\"\\x00\");\n  },\n  fillZeroPadding: function (str, len) {\n    // str.padStart(targetLength [, padString])\n    // str.padEnd(targetLength [, padString])\n    if(str.length >= len) {\n      return str;\n    }\n    return str + Array( len - str.length + 1 ).join(\"0\");\n  },\n}\n$.exports = Tool;"},{"col_type":"text_1","name":"散列哈希类页面","path":"hash","rule":"js:\nconst { buildHashUi } = $.require(\"hiker://page/hashui\");\nfunction setHashPage(d, obj) {\n    buildHashUi(d, obj);\n}\n$.exports.setHashPage = setHashPage"},{"col_type":"text_1","name":"Hex","path":"hex","rule":"js:\nlet hex = {};\n// 编码\nhex.encode = function(obj) {\n    eval(getCryptoJS());\n    // log(\"我是原文\"+ obj.decText)\n    let wordArray = CryptoJS.enc.Utf8.parse(obj.decText);\n    let encode = \"[HEX]:\" + CryptoJS.enc.Hex.stringify(wordArray);\n    return encode;\n}\n// 解码\nhex.decode = function(obj) {\n    eval(getCryptoJS());\n    // log(\"我是密文\"+ obj.encText)\n    obj.encText = obj.encText.replace(\"[HEX]:\", \"\")\n    let wordArray = CryptoJS.enc.Hex.parse(obj.encText);\n    let decode = CryptoJS.enc.Utf8.stringify(wordArray);\n    return decode;\n}\n// 导出给外部通过 require 方法使用\n$.exports.hex = hex"},{"col_type":"text_1","name":"Hash-UI","path":"hashui","rule":"js:\nfunction buildEmtpyHashUi(d, obj) {\n    d.push({\n        title: '<p style=\"text-align: center;\">正在路上，敬请期待（咕咕咕）~</p>',\n        col_type: 'rich_text'\n    })\n}\nfunction buildHashUi(d, obj) {\n    if (obj.type.includes(\"SHA3\") && !obj.type.includes(\"HMAC\")) {\n        buildEmtpyHashUi(d, obj);\n        return;\n    }\n     d.push({\n        title: \"哈希/散列\",\n        desc: \"请输入原文\",\n        col_type: 'input',\n        extra: {\n            // titleVisible: false,\n            defaultValue: getVar(\"hash_text\", \"\"),\n            type: \"textarea\",\n            onChange: 'putVar(\"hash_text\",input)'\n        },\n        url: $.toString((obj) => {\n            // obj.decText = input;\n            // log(\"obj.decText: \" + obj.decText)\n            let toastText = \"加密成功\";\n            let hash_result = \"\";\n            let tool = {};\n            let toolSelects = obj.type.split(\"@@\");\n            let toolSelect = toolSelects[toolSelects.length - 1];\n            let HashAlgorithm = $.require(\"hiker://page/hashalgorithm?rule=\" + obj.ruleTitle);\n            HashAlgorithm.config.type.set(toolSelect)\n            tool = HashAlgorithm;\n            try {\n                hash_result = tool.hash();\n                // log(\"hash_result: \" + hash_result)\n            } catch (e) {\n                hash_result = e.message;\n                toastText = \"加密失败\";\n            }\n            HashAlgorithm.config.resultText.set(hash_result)\n            refreshPage();\n            return 'toast://' + toastText;\n        }, obj),\n    });\n    if (obj.type.includes(\"HMAC\") || obj.type.includes(\"PBKDF2\")) {\n        buildConfigsUI(d, obj);\n    }\n    d.push({\n        title: \"复制\",\n        desc: \"哈希值\",\n        col_type: 'input',\n        extra: {\n            // titleVisible: false,\n            defaultValue: getVar(\"hash_result_text\", \"\"),\n            type: \"textarea\",\n            onChange: 'putVar(\"hash_result_text\",input)'\n        },\n        url: $.toString(() => {\n            // obj.encText = input;\n            // log(\"obj.encText: \" + obj.encText)\n            if (input) {\n                return \"copy://\" + input;\n            } else {\n                return \"toast://内容为空！\"\n            }\n        }),\n    });\n    \n}\nfunction buildConfigsUI(d, obj) {\n    // HMAC || PBKDF2\n    let HashAlgorithm = $.require(\"hiker://page/hashalgorithm?rule=\" + obj.ruleTitle);\n    if (obj.type.includes(\"HMAC\")) {\n        // HMAC-xxx\n        buildHmacConfigsUI(d, obj, HashAlgorithm.config)\n    } else if (obj.type.includes(\"PBKDF2\")) {\n        // PBKDF2\n        buildPBKDF2ConfigsUI(d, obj, HashAlgorithm.Mapping, HashAlgorithm.config)\n    }\n}\nfunction buildHmacConfigsUI (d, obj, config) {\n    // obj.type.includes(\"HMAC\")\n    d.push({\n        title: \"随机 key\",\n        desc: \"密钥 key\",\n        col_type: 'input',\n        extra: {\n            titleVisible: false,\n            height: -1,\n            type: \"textarea\",\n            defaultValue: config.key.get(),\n            onChange: $.toString((config) => {\n                config.key.set(input)\n            }, config)\n        }\n    });\n}\nfunction buildPBKDF2ConfigsUI(d, obj, mapping, config) {\n    // obj.type.includes(\"PBKDF2\")\n    let keySizes = Object.keys(mapping[\"keySize\"]);\n    d.push({\n        title: '““””<strong><font color=\"black\">KEY长度</font></strong>',\n        url: \"hiker://empty\",\n        col_type: \"scroll_button\"\n    })\n    for (let keySize of keySizes) {\n        d.push({\n            title: keySize == config.keySize.get() ? \"‘‘\" + keySize + \"’’\" : keySize,\n            url: $(\"#noLoading#\").lazyRule((keySize, config) => {\n                    config.keySize.set(keySize)\n                    refreshPage(false);\n                    return \"hiker://empty\"\n            }, keySize, config),\n            col_type: \"scroll_button\"\n        });\n    }\n    d.push({\n        col_type: \"blank_block\"\n    })\n    d.push({\n        title: \"随机 salt\",\n        desc: \"盐 salt，建议至少为 8 字节，且要为随机数。\",\n        col_type: 'input',\n        extra: {\n            titleVisible: false,\n            height: -1,\n            type: \"textarea\",\n            defaultValue: config.salt.get(),\n            onChange: $.toString((config) => {\n                config.salt.set(input)\n            }, config)\n        }\n    });\n    d.push({\n        title: \"迭代次数\",\n        desc: \"迭代次数(选填)，建议至少为 50000 次，除非有严格的性能要求。\",\n        col_type: 'input',\n        extra: {\n            titleVisible: false,\n            height: -1,\n            type: \"textarea\",\n            defaultValue: config.iterations.get(),\n            onChange: $.toString((config) => {\n                config.iterations.set(input)\n            }, config)\n        }\n    });\n}\n$.exports.buildHashUi = buildHashUi"},{"col_type":"text_1","name":"Hash算法","path":"hashalgorithm","rule":"js:\neval(getCryptoJS());\nlet HashAlgorithm = {\n\tMapping: {\n\t\thashType: {\n\t\t\t\"MD5\": CryptoJS.MD5,\n\t\t\t\"SHA-1\": CryptoJS.SHA1,\n\t\t\t\"SHA-224\": CryptoJS.SHA224,\n\t\t\t\"SHA-256\": CryptoJS.SHA256,\n\t\t\t\"SHA-384\": CryptoJS.SHA384,\n\t\t\t\"SHA-512\": CryptoJS.SHA512,\n\t\t\t\"HMAC-MD5\": CryptoJS.HmacMD5,\n\t\t\t\"HMAC-SHA1\": CryptoJS.HmacSHA1,\n\t\t\t\"HMAC-SHA224\": CryptoJS.HmacSHA224, \n\t\t\t\"HMAC-SHA256\": CryptoJS.HmacSHA256, \n\t\t\t\"HMAC-SHA384\": CryptoJS.HmacSHA384, \n\t\t\t\"HMAC-SHA512\": CryptoJS.HmacSHA512,\n\t\t\t\"PBKDF2\": CryptoJS.PBKDF2,\n\t\t},\n        keySize: {\n            \"128位\": 128,\n            \"256位\": 256,\n            \"512位\": 512,\n        },\n\t},\n\tconfig: {\n        type: {\n            key: \"hash_type\",\n            get: function () {\n                return getVar(this.key, \"MD5\");\n            },\n            set: function (newValue) {\n                putVar(this.key, newValue);\n            }\n        },\n        key: {\n            key: \"hash_hmac_key\",\n            get: function () {\n                return getVar(this.key, \"\");\n            },\n            set: function (newValue) {\n                putVar(this.key, newValue);\n            }\n        },\n\t\ttext: {\n\t\t\tkey: \"hash_text\",\n            get: function () {\n                return getVar(this.key, \"\");\n            },\n            set: function (newValue) {\n                putVar(this.key, newValue);\n            }\n\t\t},\n\t\tresultText: {\n\t\t\tkey: \"hash_result_text\",\n            get: function () {\n                return getVar(this.key, \"\");\n            },\n            set: function (newValue) {\n                putVar(this.key, newValue);\n            }\n\t\t},\n        keySize: {\n            key: \"hash_key_size\",\n            get: function () {\n                return getVar(this.key, \"128位\");\n            },\n            set: function (newValue) {\n                putVar(this.key, newValue);\n            }\n\n        },\n        salt: {\n            key: \"hash_salt\",\n            get: function () {\n                return getVar(this.key, \"\");\n            },\n            set: function (newValue) {\n                putVar(this.key, newValue);\n            }\n\n        },\n        iterations: {\n            key: \"hash_iterations\",\n            get: function () {\n                return getVar(this.key, \"\");\n            },\n            set: function (newValue) {\n                putVar(this.key, newValue);\n            }\n\n        },\n\t},\n    onClose: function() {\n        let configKeys = Object.keys(this.config);\n        for(let confKey of configKeys) {\n            let key = this.config[confKey].key;\n            clearVar(key);\n        }\n    },\n\thash: function () {\n\t\tlet text = this.config.text.get();\n\t\tlet type = this.config.type.get();\n\t\tlet hash = {};\n\t\tif (text) {\n            if (type.includes(\"HMAC\")) {\n                // HMAC-xxx\n                let key = this.config.key.get();\n                hash = this.Mapping.hashType[type](text, key)\n            } else if (type.includes(\"PBKDF2\")) {\n                // PBKDF2\n                let keySize = this.Mapping.keySize[this.config.keySize.get()];\n                let salt = this.config.salt.get();\n                let iterations = this.config.iterations.get();\n                if (!salt) {\n                \tthrow new Error(\"盐 salt 不能为空！\")\n                }\n                salt = CryptoJS.enc.Utf8.parse(salt)\n                let options =  {\n                \t\tkeySize: keySize / 32\n                }\n                if (iterations) {\n                \toptions.iterations = iterations;\n                }\n                hash = this.Mapping.hashType[type](text, salt, options)\n            } else {\n\t\t\t\thash = this.Mapping.hashType[type](text);\n            }\n\t\t\t// 密文\n\t\t\tlet hashResult = hash.toString();\n            // log(\"hash#hash_result: \" + hashResult)\n            this.config.resultText.set(hashResult);\n\t\t\treturn hashResult;\n\t\t} else {\n            throw new Error(\"原文不能为空！\")\n        }\n\t}\n};\n$.exports = HashAlgorithm"},{"col_type":"movie_3","name":"兽音","path":"roar","rule":"js:\nlet roar = {};\nroar.encode = function(obj) {\n    // log(\"[roar]obj.decText: \" + obj.decText)\n    let encode = request('http://hi.pcmoe.net/bear.php', {\n        headers: {\n            'X-Token': '07B97AA644E8',\n            'Origin': 'http://hi.pcmoe.net',\n            'X-Requested-With': 'XMLHttpRequest',\n            'User-Agent': 'Mozilla/5.0 (Linux; Android 10; Note9 Build/QKQ1.191222.002; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/77.0.3865.120 MQQBrowser/6.2 TBS/045614 Mobile Safari/537.36',\n            'Content-type': 'application/x-www-form-urlencoded',\n            'Referer': 'http://hi.pcmoe.net/roar.html'\n        },\n        body: 'mode=Roar&code=Encode&txt=' + obj.decText,\n        method: 'POST'\n    });\n    // log(\"[roar]encode: \" + encode)\n    return encode;\n}\nroar.decode = function(obj) {\n    let decode = request('http://hi.pcmoe.net/bear.php', {\n        headers: {\n            'X-Token': '07B97AA644E8',\n            'Origin': 'http://hi.pcmoe.net',\n            'X-Requested-With': 'XMLHttpRequest',\n            'User-Agent': 'Mozilla/5.0 (Linux; Android 10; Note9 Build/QKQ1.191222.002; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/77.0.3865.120 MQQBrowser/6.2 TBS/045614 Mobile Safari/537.36',\n            'Content-type': 'application/x-www-form-urlencoded',\n            'Referer': 'http://hi.pcmoe.net/roar.html'\n        },\n        body: 'mode=Roar&code=Decode&txt=' + obj.encText,\n        method: 'POST'\n    });\n    return decode;\n}\n$.exports.roar = roar"},{"col_type":"movie_3","name":"熊曰","path":"bear","rule":"js:\nlet bear = {};\nbear.encode = function(obj) {\n    // log(\"[bear]obj.decText: \" + obj.decText)\n    let encode = request('http://hi.pcmoe.net/bear.php', {\n        headers: {\n            'X-Token': '07B97AA644E8',\n            'Origin': 'http://hi.pcmoe.net',\n            'X-Requested-With': 'XMLHttpRequest',\n            'User-Agent': 'Mozilla/5.0 (Linux; Android 10; Note9 Build/QKQ1.191222.002; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/77.0.3865.120 MQQBrowser/6.2 TBS/045614 Mobile Safari/537.36',\n            'Content-type': 'application/x-www-form-urlencoded',\n            'Referer': 'http://hi.pcmoe.net/bear.html'\n        },\n        body: 'mode=Bear&code=Encode&txt=' + obj.decText,\n        method: 'POST'\n    });\n    // log(\"[bear]encode: \" + encode)\n    return encode;\n}\nbear.decode = function(obj) {\n    let decode = request('http://hi.pcmoe.net/bear.php', {\n        headers: {\n            'X-Token': '07B97AA644E8',\n            'Origin': 'http://hi.pcmoe.net',\n            'X-Requested-With': 'XMLHttpRequest',\n            'User-Agent': 'Mozilla/5.0 (Linux; Android 10; Note9 Build/QKQ1.191222.002; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/77.0.3865.120 MQQBrowser/6.2 TBS/045614 Mobile Safari/537.36',\n            'Content-type': 'application/x-www-form-urlencoded',\n            'Referer': 'http://hi.pcmoe.net/bear.html'\n        },\n        body: 'mode=Bear&code=Decode&txt=' + obj.encText,\n        method: 'POST'\n    });\n    return decode;\n}\n$.exports.bear = bear"},{"col_type":"movie_3","name":"首页","path":"home","rule":"js:\nsetPageTitle('加解密工具')\nconst {\n    header\n} = $.require(\"hiker://page/classicHeader\");\nconst {\n    setEncodePage\n} = $.require(\"hiker://page/encode\");\nconst {\n    setCryptoPage\n} = $.require(\"hiker://page/crypto\");\nconst {\n    setHashPage\n} = $.require(\"hiker://page/hash\");\n// const { Crypto } = $.require(\"hiker://page/aes\");\n/**\n * 1. 引入算法依赖\n */\nconst {\n    buddha\n} = $.require(\"hiker://page/buddha\");\nconst {\n    bear\n} = $.require(\"hiker://page/bear\");\nconst {\n    roar\n} = $.require(\"hiker://page/roar\");\nconst {\n    unicode\n} = $.require(\"hiker://page/unicode\");\nconst {\n    base64\n} = $.require(\"hiker://page/base64\");\nconst {\n    ascii\n} = $.require(\"hiker://page/ascii\");\nconst {\n    hex\n} = $.require(\"hiker://page/hex\");\n\nlet ruleTitle = MY_RULE.title;\naddListener('onClose', $.toString((header, ruleTitle) => {\n    putVar(\"encode-text\", \"\");\n    putVar(\"decode-text\", \"\");\n    header.onClose();\n    let Crypto = $.require(\"hiker://page/aes?rule=\" + ruleTitle);\n    Crypto.onClose();\n    let HashAlgorithm = $.require(\"hiker://page/hashalgorithm?rule=\" + ruleTitle);\n    HashAlgorithm.onClose();\n}, header, ruleTitle))\n\nlet d = [];\n/*d.push({\n    desc: \"0\",\n    col_type: \"x5_webview_single\"\n})*/\ntry {\n    if (!newWindow) {\n\n    }\n} catch (e) {\n    for (let i = 0; i < 1; i++) {\n        d.push({\n            col_type: 'big_blank_block'\n        });\n    }\n}\nlet classic = {\n    \"编码转换\": [\"佛曰\", \"熊曰\", \"兽音\", \"Unicode\", \"Base64\", \"ASCII\", \"Hex\"],\n    \"加密/解密\": [{\n            \"对称加密\": [\"AES\", \"DES\", \"3DES\"]\n        },\n        {\n            \"非对称加密\": [\"RSA\"]\n        }\n    ],\n    \"散列/哈希\": [\n        \"MD5\",\n        {\n            \"SHA\": [\"SHA-1\", \"SHA-224\", \"SHA-256\", \"SHA-384\", \"SHA-512\", /*\"SHA3-512\"*/ ]\n        },\n        {\n            \"HMAC\": [\"HMAC-MD5\", \"HMAC-SHA1\", \"HMAC-SHA224\", \"HMAC-SHA256\", \"HMAC-SHA384\", \"HMAC-SHA512\"]\n        },\n        \"PBKDF2\"\n    ],\n    \"其他转换\": [\n        \"时间戳\",\n    ]\n}\nd = d.concat(header.get(classic))\nvar type = header.getCurrentIndex();\ntry {\n    if (newWindow) {\n        /*for (let i = 0; i < 1; i++) {\n            d.push({\n                col_type: 'big_blank_block'\n            });\n        }*/\n        d.push({\n            title: '““””<b>选项</b>',\n            col_type: 'scroll_button',\n            url: 'hiker://empty',\n        })\n        d.push({\n            title: '点我化为新窗口',\n            col_type: 'scroll_button',\n            url: 'hiker://page/home',\n            extra: {\n                newWindow: true,\n                // lineVisible: false\n            }\n        })\n    }\n} catch (e) {\n    log(e.message)\n}\n\n/**\n * 2. 在 tools 加入键值对，用于映射算法，格式为 分类中的替换值（即 fyAll 的值）: 引入的算法依赖的对象名\n */\nvar obj = {\n    ruleTitle: ruleTitle,\n    type: type,\n    tools: {\n        \"佛曰\": buddha,\n        \"熊曰\": bear,\n        \"兽音\": roar,\n        \"Unicode\": unicode,\n        \"Base64\": base64,\n        \"ASCII\": ascii,\n        \"Hex\": hex,\n        // \"AES\": Crypto.AES,\n        // \"DES\": Crypto.DES,\n    },\n}\n\n/**\n * 3. 添加子页面写自己的算法，模板请参考“算法模板”这个子页面或已有的子页面\n * \n * 注：此备注后的所有代码各位都不需要动\n */\nif (obj.type.includes(\"编码转换\")) {\n    setEncodePage(d, obj);\n} else if (obj.type.includes(\"加密/解密\")) {\n    setCryptoPage(d, obj);\n} else if (obj.type.includes(\"散列/哈希\")) {\n    setHashPage(d, obj);\n}\nsetResult(d)"}],"title":"加解密工具","author":"Rx&Reborn&@LoyDgIk&wzhjgood","version":14,"url":"hiker://empty#fyAll","col_type":"rich_text","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nlet newWindow = true\nlet homePage = JSON.parse(request('hiker://page/home?rule=加解密工具')).rule\neval(homePage)","searchFind":"","search_url":"","titleColor":"","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"佛曰\",\"path\":\"buddha\",\"rule\":\"js:\\nlet buddha = {};\\nbuddha.encode = function(obj) {\\n    // log(\\\"[buddha]obj.decText: \\\" + obj.decText)\\n    let encode = request('http://hi.pcmoe.net/bear.php', {\\n        headers: {\\n            'X-Token': '07B97AA644E8',\\n            'Origin': 'http://hi.pcmoe.net',\\n            'X-Requested-With': 'XMLHttpRequest',\\n            'User-Agent': 'Mozilla/5.0 (Linux; Android 10; Note9 Build/QKQ1.191222.002; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/77.0.3865.120 MQQBrowser/6.2 TBS/045614 Mobile Safari/537.36',\\n            'Content-type': 'application/x-www-form-urlencoded',\\n            'Referer': 'http://hi.pcmoe.net/buddha.html'\\n        },\\n        body: 'mode=Buddha&code=Encode&txt=' + obj.decText,\\n        method: 'POST'\\n    });\\n    // log(\\\"[buddha]encode: \\\" + encode)\\n    return encode;\\n}\\nbuddha.decode = function(obj) {\\n    let decode = request('http://hi.pcmoe.net/bear.php', {\\n        headers: {\\n            'X-Token': '07B97AA644E8',\\n            'Origin': 'http://hi.pcmoe.net',\\n            'X-Requested-With': 'XMLHttpRequest',\\n            'User-Agent': 'Mozilla/5.0 (Linux; Android 10; Note9 Build/QKQ1.191222.002; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/77.0.3865.120 MQQBrowser/6.2 TBS/045614 Mobile Safari/537.36',\\n            'Content-type': 'application/x-www-form-urlencoded',\\n            'Referer': 'http://hi.pcmoe.net/buddha.html'\\n        },\\n        body: 'mode=Buddha&code=Decode&txt=' + obj.encText,\\n        method: 'POST'\\n    });\\n    return decode;\\n}\\n$.exports.buddha = buddha\"},{\"col_type\":\"text_1\",\"name\":\"Unicode\",\"path\":\"unicode\",\"rule\":\"js:\\nlet unicode = {};\\nunicode.encode = function(obj) {\\n    let encode = escape(obj.decText.replace(/%u/g, \\\"\\\\\\\\u\\\"));\\n    return encode;\\n}\\nunicode.decode = function(obj) {\\n    let decode = unescape(obj.encText.replace(/\\\\\\\\u/g, \\\"%u\\\"));\\n    return decode;\\n}\\n$.exports.unicode = unicode\"},{\"col_type\":\"text_1\",\"name\":\"Base64\",\"path\":\"base64\",\"rule\":\"js:\\nlet base64 = {};\\nbase64.encode = function(obj) {\\n    // let encode = encodeURIComponent(base64Encode(obj.decText));\\n    let encode = base64Encode(obj.decText);\\n    return encode;\\n}\\nbase64.decode = function(obj) {\\n    let decode = decodeURIComponent(base64Decode(obj.encText));\\n    return decode;\\n}\\n$.exports.base64 = base64\"},{\"col_type\":\"text_1\",\"name\":\"ASCII\",\"path\":\"ascii\",\"rule\":\"js:\\nlet ascii = {};\\nascii.unicode1 = function(str) {\\n    var value = '';\\n    for (var i = 0; i < str.length; i++) {\\n        value = value + '&#' + str.charCodeAt(i) + ';';\\n    }\\n    return value;\\n}\\nascii.reconvert = function(str) {\\n    str = str.replace(/(\\\\\\\\u)(\\\\w{1,4})/gi, function($0) {\\n        return (String.fromCharCode(parseInt((escape($0).replace(/(%5Cu)(\\\\w{1,4})/g, \\\"$2\\\")), 16)));\\n    });\\n    str = str.replace(/(&#x)(\\\\w{1,4});/gi, function($0) {\\n        return String.fromCharCode(parseInt(escape($0).replace(/(%26%23x)(\\\\w{1,4})(%3B)/g, \\\"$2\\\"), 16));\\n    });\\n    str = str.replace(/(&#)(\\\\d{1,6});/gi, function($0) {\\n        return String.fromCharCode(parseInt(escape($0).replace(/(%26%23)(\\\\d{1,6})(%3B)/g, \\\"$2\\\")));\\n    });\\n\\n    return str;\\n}\\n// $.exports.unicode1 = unicode1;\\n// $.exports.reconvert = reconvert;\\nascii.encode = function(obj) {\\n    let encode = this.unicode1(obj.decText);\\n    return encode;\\n}\\nascii.decode = function(obj) {\\n    let decode = this.reconvert(obj.encText);\\n    return decode;\\n}\\n$.exports.ascii = ascii;\"},{\"col_type\":\"text_1\",\"name\":\"获取分类头部\",\"path\":\"classicHeader\",\"rule\":\"js:\\nlet d = [];\\nlet selectColor = '#C04A2F'\\n// 暗橙 E38C4A\\n\\nfunction putKeyIntoMap(key, value) {\\n    const keyMap = JSON.parse(getVar((getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\")+\\\"_all_key_Map\\\"), \\\"{}\\\"));\\n    keyMap[key] = value;\\n    putVar((getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"_all_key_Map\\\"), JSON.stringify(keyMap));\\n}\\n\\nfunction getHeaderFromJSONObject(obj) {\\n    for (let key in obj) {\\n        d.push({\\n            title: key == getVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\"), Object.keys(obj)[0]) ? \\\"<b>““””<font color='\\\" + selectColor +\\\"'>\\\" + key + \\\"</font></b>\\\" : key,\\n            url: $(\\\"#noLoading#\\\").lazyRule((key) => {\\n                putVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\"), key);\\n                putVar((getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"_cur_index\\\"), key);\\n                refreshPage(false);\\n                return \\\"hiker://empty\\\"\\n            }, key),\\n            col_type: \\\"scroll_button\\\"\\n        });\\n    }\\n    d.push({\\n        col_type: \\\"blank_block\\\"\\n    });\\n    let key = getVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\"), Object.keys(obj)[0]);\\n    putVar((getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"_cur_index\\\"), key);\\n    getNextHeaderFromJSONArray(key, obj[key]);\\n    return d;\\n}\\n\\nfunction getNextHeaderFromJSONArray(key, array) {\\n    if (array == undefined || array.length == 0) {\\n        return;\\n    }\\n    let nextHeader = {};\\n    let defaultValue = \\\"\\\";\\n    defaultValue = array[0];\\n    if (Object.prototype.toString.call(array[0]) === '[object Object]') {\\n        defaultValue = Object.keys(array[0])[0];\\n    }\\n    putKeyIntoMap((getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@\\\" + key), getVar((getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@\\\" + key), defaultValue))\\n    putVar((getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"_cur_index\\\"), key + \\\"@@\\\" + getVar((getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@\\\" + key), defaultValue));\\n    for (let value of array) {\\n        if (Object.prototype.toString.call(value) === '[object Object]') {\\n            // log(\\\"valueKeys: \\\"+JSON.stringify(Object.keys(value)[0]))\\n            let valueKey = Object.keys(value)[0];\\n            d.push({\\n                title: valueKey == getVar((getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@\\\" + key), defaultValue) ? \\\"<b>““””<font color='\\\" + selectColor +\\\"'>\\\" + valueKey + \\\"</font></b>\\\" : valueKey,\\n                url: $(\\\"#noLoading#\\\").lazyRule((valueKey, key) => {\\n                    function putKeyIntoMap(key, value) {\\n                        const keyMap = JSON.parse(getVar((getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"_all_key_Map\\\"), \\\"{}\\\"));\\n                        keyMap[key] = value;\\n                        putVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"_all_key_Map\\\", JSON.stringify(keyMap));\\n                    }\\n                    putVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@\\\" + key, valueKey);\\n                    putVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"_cur_index\\\", key + \\\"@@\\\" + valueKey);\\n                    putKeyIntoMap(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@\\\" + key, getVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@\\\" + key, \\\"defaultValue\\\"))\\n                    refreshPage(false);\\n                    return \\\"hiker://empty\\\"\\n                }, valueKey, key),\\n                col_type: \\\"scroll_button\\\"\\n            });\\n            nextHeader[valueKey] = value[valueKey];\\n        } else {\\n            d.push({\\n                title: value == getVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@\\\" + key, defaultValue) ? \\\"<b>““””<font color='\\\" + selectColor +\\\"'>\\\" + value + \\\"</font></b>\\\" : value,\\n                url: $(\\\"#noLoading#\\\").lazyRule((value, key) => {\\n                    function putKeyIntoMap(key, value) {\\n                        const keyMap = JSON.parse(getVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"_all_key_Map\\\", \\\"{}\\\"));\\n                        keyMap[key] = value;\\n                        putVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"_all_key_Map\\\", JSON.stringify(keyMap));\\n                    }\\n                    putVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@\\\" + key, value);\\n                    putKeyIntoMap(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@\\\" + key, getVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@\\\" + key, \\\"defaultValue\\\"))\\n                    putVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"_cur_index\\\", key + \\\"@@\\\" + value);\\n                    refreshPage(false);\\n                    return \\\"hiker://empty\\\"\\n                }, value, key),\\n                col_type: \\\"scroll_button\\\"\\n            });\\n        }\\n    }\\n\\n    d.push({\\n        col_type: \\\"blank_block\\\"\\n    });\\n    if (nextHeader !== undefined && nextHeader.length != 0) {\\n        getNextHeaderFromJSONArray(key + \\\"@@\\\" + getVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@\\\" + key, defaultValue), nextHeader[getVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@\\\" + key, defaultValue)]);\\n    }\\n}\\n\\nlet header = {\\n    /**\\n     * 可自定义当前分类头部 id（其实没啥用，就是为了调试不同规则区分一下而已）\\n     */\\n    setId: function(id) {\\n\\t      putVar(\\\"ClassicHeader.id\\\", id)\\n    },\\n    getId: function() {\\n\\t      return getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\");\\n    },\\n    /**\\n     * 获取分类头部，返回视界 setResult 用的数组\\n     */\\n    get: function(obj) {\\n        let result = getHeaderFromJSONObject(obj);\\n        //log(\\\"【子页面】\\\" + JSON.stringify(result))\\n        return result;\\n    },\\n    /**\\n      * 页面关闭时需要注册的生命周期，引入依赖后在 addListener 中调用即可\\n      * 例：\\n         const { header } = $.require(\\\"hiker://page/classicHeader\\\");\\n         addListener(\\\"onClose\\\", $.toString((header) => {\\n          header.onClose();\\n        }, header));\\n      */\\n    onClose: function() {\\n        // putVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"\\\", \\\"编码\\\");\\n        // putVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"@@编码\\\", \\\"佛曰\\\");\\n        let allKeyArr = Object.keys(JSON.parse(getVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"_all_key_Map\\\", \\\"{}\\\")));\\n        for (let i in allKeyArr) {\\n            clearVar(allKeyArr[i]);\\n            // log(\\\"【清理后】\\\"+ allKeyArr[i] + \\\": \\\"+JSON.stringify(getVar(allKeyArr[i], \\\"\\\")))\\n        }\\n        clearVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\"))\\n        clearVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"_all_key_Map\\\")\\n        clearVar(\\\"ClassicHeader.id\\\")\\n    },\\n    /**\\n     * 获取当前已选多级分类，返回的数据格式为：一级分类@@二级分类@@...，可自行做映射获取 url\\n     */\\n    getCurrentIndex: function() {\\n        return getVar(getVar(\\\"ClassicHeader.id\\\", \\\"classic\\\") + \\\"_cur_index\\\", \\\"\\\");\\n    }\\n}\\n$.exports.header = header\"},{\"col_type\":\"text_1\",\"name\":\"编码类页面\",\"path\":\"encode\",\"rule\":\"js:\\nfunction setEncodePage(d, obj) {\\n    d.push({\\n    title: \\\"编码\\\",\\n    desc: \\\"请输入原文\\\",\\n    col_type: 'input',\\n    extra: {\\n        // titleVisible: false,\\n        defaultValue: getVar(\\\"decode-text\\\", \\\"\\\"),\\n        type: \\\"textarea\\\",\\n        onChange: 'putVar(\\\"decode-text\\\",input)'\\n    },\\n    url: $.toString((obj) => {\\n        obj.decText = input;\\n        // log(\\\"obj.decText: \\\" + obj.decText)\\n        var encode = \\\"\\\";\\n        var tool = {};\\n        for (let key in obj.tools) {\\n            if (obj.type.includes(key)) {\\n                tool = obj.tools[key];\\n                break;\\n            }\\n        }\\n        encode = tool.encode(obj);\\n        // log(\\\"encode: \\\" + encode)\\n        putVar('encode-text', encode);\\n        refreshPage();\\n        return 'toast://加密成功';\\n    }, obj),\\n});\\n\\nd.push({\\n    title: \\\"解码\\\",\\n    desc: \\\"请输入密文\\\",\\n    col_type: 'input',\\n    extra: {\\n        // titleVisible: false,\\n        defaultValue: getVar(\\\"encode-text\\\", \\\"\\\"),\\n        type: \\\"textarea\\\",\\n        onChange: 'putVar(\\\"encode-text\\\",input)'\\n    },\\n    url: $.toString((obj) => {\\n        obj.encText = input;\\n        // log(\\\"obj.encText: \\\" + obj.encText)\\n        var decode = \\\"\\\";\\n        var tool = {};\\n        for (let key in obj.tools) {\\n            if (obj.type.includes(key)) {\\n                tool = obj.tools[key];\\n                break;\\n            }\\n        }\\n        decode = tool.decode(obj);\\n        putVar('decode-text', decode);\\n        refreshPage();\\n        return 'toast://解密成功';\\n    }, obj),\\n});\\n  \\nd.push({\\n    title: '清空原文',\\n    img: 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/32d29e2fbcdf8d83071deec7f6aa4b7c.png',\\n    url: \\\"hiker://empty#noLoading#\\\" + \\\"@lazyRule=.js:putVar('decode-text', '');refreshPage();'toast://清空成功'\\\",\\n    col_type: 'icon_2'\\n});\\n\\nd.push({\\n    title: '清空密文',\\n    img: 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/32d29e2fbcdf8d83071deec7f6aa4b7c.png',\\n    url: \\\"hiker://empty#noLoading#\\\" + \\\"@lazyRule=.js:putVar('encode-text', '');refreshPage();'toast://清空成功'\\\",\\n    col_type: 'icon_2'\\n});\\n\\nd.push({\\n    title: '复制原文',\\n    img: 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/32d29e2fbcdf8d83071deec7f6aa4b7c.png',\\n    url: $(\\\"hiker://empty#noLoading#\\\").lazyRule(() => {\\n        var dec = getVar(\\\"decode-text\\\");\\n        if (dec) {\\n            return \\\"copy://\\\" + dec;\\n        } else {\\n            return \\\"toast://内容为空！\\\"\\n        }\\n    }),\\n    col_type: 'icon_2'\\n});\\n\\nd.push({\\n    title: '复制密文',\\n    img: 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/32d29e2fbcdf8d83071deec7f6aa4b7c.png',\\n    url: $(\\\"hiker://empty#noLoading#\\\").lazyRule(() => {\\n        var enc = getVar(\\\"encode-text\\\");\\n        if (enc) {\\n            return \\\"copy://\\\" + enc;\\n        } else {\\n            return \\\"toast://内容为空！\\\"\\n        }\\n    }),\\n    col_type: 'icon_2'\\n});\\n}\\n$.exports.setEncodePage = setEncodePage\"},{\"col_type\":\"text_1\",\"name\":\"加密类页面\",\"path\":\"crypto\",\"rule\":\"js:\\n// const { ConfigMapping } = $.require(\\\"hiker://page/aes\\\");\\n// log(JSON.stringify(Object.keys(Crypto.ConfigMapping)))\\nconst { buildAESUi } = $.require(\\\"hiker://page/aesui\\\");\\nconst { buildRSAUi } = $.require(\\\"hiker://page/rsaui\\\");\\nfunction setCryptoPage(d, obj) {\\n    if (obj.type.includes(\\\"对称加密\\\") && !obj.type.includes(\\\"非对称加密\\\")) {\\n        buildAESUi(d, obj)\\n    } else if (obj.type.includes(\\\"非对称加密\\\")) {\\n        buildRSAUi(d, obj)\\n    }\\n}\\n$.exports.setCryptoPage = setCryptoPage\"},{\"col_type\":\"text_1\",\"name\":\"AES\",\"path\":\"aes\",\"rule\":\"js:\\neval(getCryptoJS());\\nlet Crypto = {\\n    ConfigMapping: {\\n        encType: {\\n            \\\"AES\\\": CryptoJS.AES.encrypt,\\n            \\\"DES\\\": CryptoJS.DES.encrypt,\\n            \\\"3DES\\\": CryptoJS.TripleDES.encrypt,\\n        },\\n        decType: {\\n            \\\"AES\\\": CryptoJS.AES.decrypt,\\n            \\\"DES\\\": CryptoJS.DES.decrypt,\\n            \\\"3DES\\\": CryptoJS.TripleDES.decrypt,\\n        },\\n        mode: {\\n            \\\"CBC\\\": CryptoJS.mode.CBC,\\n            \\\"ECB\\\": CryptoJS.mode.ECB,\\n            \\\"CFB\\\": CryptoJS.mode.CFB,\\n            \\\"CTR\\\": CryptoJS.mode.CTR,\\n            \\\"OFB\\\": CryptoJS.mode.OFB\\n        },\\n        pad: {\\n            \\\"Pkcs7\\\": CryptoJS.pad.Pkcs7,\\n            \\\"ZeroPadding\\\": CryptoJS.pad.ZeroPadding,\\n            \\\"NoPadding\\\": CryptoJS.pad.NoPadding,\\n            \\\"Iso97971\\\": CryptoJS.pad.Iso97971,\\n            \\\"AnsiX923\\\": CryptoJS.pad.AnsiX923,\\n            // \\\"Iso10126\\\": CryptoJS.pad.Iso10126,\\n        },\\n        encode: {\\n            \\\"Base64\\\": \\\"Base64\\\",\\n            \\\"HEX\\\": \\\"HEX\\\"\\n        },\\n        blockSize: {\\n            \\\"AES\\\": {\\n                \\\"AES-128\\\": 128,\\n                \\\"AES-192\\\": 192,\\n                \\\"AES-256\\\": 256,\\n            }\\n        },\\n        keyEncodeType: {\\n            \\\"UTF-8\\\": \\\"UTF-8\\\",\\n            \\\"Hex\\\": \\\"Hex\\\"\\n        },\\n        ivEncodeType: {\\n            \\\"UTF-8\\\": \\\"UTF-8\\\",\\n            \\\"Hex\\\": \\\"Hex\\\"\\n        }\\n    },\\n    config: {\\n        type: {\\n            key: \\\"crypto_type\\\",\\n            get: function() {\\n                return getVar(this.key, \\\"AES\\\");\\n            },\\n            set: function(newValue) {\\n                putVar(this.key, newValue);\\n            }\\n        },\\n        mode: {\\n            key: \\\"crypto_select_mode\\\",\\n            get: function() {\\n                return getVar(this.key, \\\"CBC\\\");\\n            },\\n            set: function(newValue) {\\n                putVar(this.key, newValue);\\n            }\\n        },\\n        pad: {\\n            key: \\\"crypto_select_pad\\\",\\n            get: function() {\\n                return getVar(this.key, \\\"Pkcs7\\\");\\n            },\\n            set: function(newValue) {\\n                putVar(this.key, newValue);\\n            }\\n        },\\n        iv: {\\n            key: \\\"crypto_input_iv\\\",\\n            get: function() {\\n                return getVar(this.key, \\\"\\\");\\n            },\\n            set: function(newValue) {\\n                putVar(this.key, newValue);\\n            }\\n        },\\n        encode: {\\n            key: \\\"crypto_output_encode\\\",\\n            get: function() {\\n                return getVar(this.key, Crypto.ConfigMapping.encode[\\\"Base64\\\"])\\n            },\\n            set: function(newValue) {\\n                putVar(this.key, newValue);\\n            }\\n        },\\n        key: {\\n            key: \\\"crypto_key\\\",\\n            get: function() {\\n                return getVar(this.key, \\\"\\\");\\n            },\\n            set: function(newValue) {\\n                putVar(this.key, newValue);\\n            }\\n        },\\n        text: {\\n            key: \\\"crypto_text\\\",\\n            get: function() {\\n                return getVar(this.key, \\\"\\\");\\n            },\\n            set: function(newValue) {\\n                putVar(this.key, newValue);\\n            }\\n        },\\n        cipherText: {\\n            key: \\\"crypto_cipher_text\\\",\\n            get: function() {\\n                return getVar(this.key, \\\"\\\");\\n            },\\n            set: function(newValue) {\\n                putVar(this.key, newValue);\\n            }\\n        },\\n        blockSize: {\\n            key: \\\"crypto_block_size\\\",\\n            get: function() {\\n                return getVar(this.key, \\\"AES-128\\\");\\n            },\\n            set: function(newValue) {\\n                putVar(this.key, newValue);\\n            }\\n\\n        },\\n        keyEncodeType: {\\n            key: \\\"crypto_key_encode_type\\\",\\n            get: function() {\\n                // TODO 此处不知为何 Crypto.ConfigMapping.keyEncodeType[\\\"UTF-8\\\"] 会报 Crypto undefined\\n                return getVar(this.key, \\\"UTF-8\\\")\\n            },\\n            set: function(newValue) {\\n                putVar(this.key, newValue);\\n            }\\n        },\\n        ivEncodeType: {\\n            key: \\\"crypto_iv_encode_type\\\",\\n            get: function() {\\n                return getVar(this.key, \\\"UTF-8\\\")\\n            },\\n            set: function(newValue) {\\n                putVar(this.key, newValue);\\n            }\\n        },\\n    },\\n    onClose: function() {\\n        let configKeys = Object.keys(this.config);\\n        for (let confKey of configKeys) {\\n            let key = this.config[confKey].key;\\n            clearVar(key);\\n        }\\n    },\\n    buildConfig: function() {\\n        let mode = this.config.mode.get();\\n        let pad = this.config.pad.get();\\n        let iv = this.config.iv.get();\\n        let conf = {};\\n        conf.mode = this.ConfigMapping.mode[mode];\\n        conf.padding = this.ConfigMapping.pad[pad]\\n        if (mode != \\\"ECB\\\" && iv.length != 0) {\\n            conf.iv = CryptoJS.enc.Utf8.parse(iv);\\n            if (this.config.ivEncodeType.get() == \\\"Hex\\\") {\\n                iv = iv.replace(\\\"[HEX]:\\\", \\\"\\\")\\n                conf.iv = CryptoJS.enc.Hex.parse(iv);\\n            }\\n        }\\n        return conf\\n    },\\n    encryptor: function(obj) {\\n        // 原文\\n        let text = obj.decText;\\n        if (text) {\\n            let keyString = this.config.key.get()\\n            let key = CryptoJS.enc.Utf8.parse(keyString);\\n            if (this.config.keyEncodeType.get() == \\\"Hex\\\") {\\n                keyString = keyString.replace(\\\"[HEX]:\\\", \\\"\\\")\\n                key = CryptoJS.enc.Hex.parse(keyString);\\n            }\\n            try {\\n                let conf = this.buildConfig()\\n                let encrypted = this.ConfigMapping.encType[this.config.type.get()](text, key, conf);\\n                let encode = this.config.encode.get()\\n                let cipherText = encrypted.toString();\\n                if (encode === 'HEX') {\\n                    cipherText = CryptoJS.enc.Hex.stringify(CryptoJS.enc.Base64.parse(cipherText));\\n                }\\n                // 密文\\n                this.config.cipherText.set(cipherText)\\n                return cipherText;\\n            } catch (e) {\\n                log(e.message)\\n                setError(e.message)\\n            }\\n        } else {\\n            throw new Error(\\\"明文不能为空！\\\")\\n        }\\n    },\\n    decryptor: function(obj) {\\n        let text = obj.encText;\\n        if (text) {\\n            let encode = this.config.encode.get()\\n            let cipherText;\\n            if (encode === 'Base64') {\\n                cipherText = text\\n            } else if (encode === 'HEX') {\\n                cipherText = CryptoJS.enc.Base64.stringify(CryptoJS.enc.Hex.parse(text))\\n            }\\n            let keyString = this.config.key.get()\\n            let key = CryptoJS.enc.Utf8.parse(keyString);\\n            if (this.config.keyEncodeType.get() == \\\"Hex\\\") {\\n                keyString = keyString.replace(\\\"[HEX]:\\\", \\\"\\\")\\n                key = CryptoJS.enc.Hex.parse(keyString);\\n            }\\n            try {\\n                let conf = this.buildConfig()\\n                let decrypted = this.ConfigMapping.decType[this.config.type.get()](cipherText, key, conf);\\n                let decryptedStr = decrypted.toString(CryptoJS.enc.Utf8);\\n                if (!decryptedStr) {\\n                    throw new Error(\\\"请检查密钥 key、偏移量 iv 以及密文是否正确！\\\");\\n                }\\n                this.config.text.set(decryptedStr)\\n                return decryptedStr\\n            } catch (e) {\\n                throw new Error(\\\"解密失败！\\\" + e.message);\\n            }\\n        } else {\\n            throw new Error(\\\"密文不能为空！\\\")\\n        }\\n    },\\n    checkKey: function(obj) {\\n        let key = Crypto.config.key.get();\\n        if (key.length === 0) {\\n            throw new Error(\\\"密钥 key 不能为空！\\\")\\n        }\\n        let type = Crypto.config.type.get();\\n        let blockSize = 128;\\n        try {\\n            blockSize = Crypto.ConfigMapping[\\\"blockSize\\\"][type][Crypto.config.blockSize.get()]\\n            // log(\\\"checkKey#blockSize:\\\" + blockSize)\\n        } catch (e) {}\\n        if (type === \\\"DES\\\") {\\n            blockSize = 64;\\n        }\\n        if (Crypto.config.keyEncodeType.get() == \\\"Hex\\\") {\\n            key = key.replace(\\\"[HEX]:\\\", \\\"\\\")\\n            blockSize = blockSize * 2;\\n        }\\n        // 设置数据块长度\\n        let keySize = key.length * 8;\\n        // log(\\\"checkKey#keySize:\\\" + keySize)\\n        // log(\\\"checkKey#keySize/8:\\\" + keySize/8)\\n        // log(\\\"checkKey#blockSize:\\\" + blockSize)\\n        // log(\\\"checkKey#blockSize/8:\\\" + blockSize / 8)\\n        if (keySize < blockSize) {\\n            obj.from = Crypto.config.keyEncodeType.key\\n            let newKey = Crypto.fillKeys(obj, key, blockSize / 8);\\n            Crypto.config.key.set(newKey)\\n            // log(\\\"checkKey#newKey: \\\" + newKey)\\n            // log(\\\"checkKey#newKey.Size: \\\" + newKey.length * 8)\\n            throw new Error('密钥 key 长度过短，已自动 `\\\\\\\\x00` 空填充，请再次执行加/解密')\\n        } else if (keySize > blockSize) {\\n            // TODO 超出部分将被忽略\\n            throw new Error(\\\"密钥 key 长度 \\\" + key.length + \\\" 过长，长度应为 \\\" + blockSize / 8 + \\\"，请自行检查，然后重新执行加/解密\\\")\\n        } else {\\n            return;\\n        }\\n    },\\n    checkIv: function(obj) {\\n        let iv = Crypto.config.iv.get();\\n        let mode = Crypto.config.mode.get();\\n        if (mode === 'ECB') {\\n            return;\\n        }\\n        if (iv.length === 0) {\\n            throw new Error(\\\"偏移量 iv 不能为空！\\\")\\n        }\\n        let type = Crypto.config.type.get();\\n        let blockSize = 128;\\n        if (type === 'DES' || type === '3DES') {\\n            blockSize = 64;\\n        }\\n        if (Crypto.config.ivEncodeType.get() == \\\"Hex\\\") {\\n            iv = iv.replace(\\\"[HEX]:\\\", \\\"\\\")\\n            blockSize = blockSize * 2;\\n        }\\n        // 设置数据块长度\\n        let ivSize = iv.length * 8;\\n        if (ivSize < blockSize) {\\n            obj.from = Crypto.config.ivEncodeType.key\\n            let newIv = Crypto.fillKeys(obj, iv, blockSize / 8);\\n            Crypto.config.iv.set(newIv)\\n            throw new Error(\\\"偏移量 iv 长度过短，已自动 `\\\\\\\\x00` 空填充，请再次执行加/解密\\\")\\n        } else if (ivSize > blockSize) {\\n            throw new Error(\\\"偏移量 iv 长度 \\\" + iv.length + \\\" 过长，长度应为 \\\" + blockSize / 8 + \\\"，请自行检查，然后重新执行加/解密\\\")\\n        } else {\\n            return;\\n        }\\n    },\\n    /**\\n     * 密钥 `\\\\x00` 空填充\\n     * @param {string} key 密钥\\n     * @param {Number} keySize 填充长度, 值: 128, 192, 256\\n     */\\n    fillKeys: function(obj, key, keySize) {\\n        let Tool = $.require(\\\"hiker://page/utiliy?rule=\\\" + obj.ruleTitle);\\n        let encodeType = \\\"UTF-8\\\"\\n        if (obj.from == Crypto.config.keyEncodeType.key) {\\n            encodeType = Crypto.config.keyEncodeType.get();\\n        } else if (obj.from == Crypto.config.ivEncodeType.key) {\\n            encodeType = Crypto.config.ivEncodeType.get();\\n        }\\n        if (encodeType == \\\"Hex\\\") {\\n            return \\\"[HEX]:\\\" + Tool.fillZeroPadding(key, keySize);\\n        }\\n        return Tool.fillNullPadding(key, keySize);\\n    },\\n    AES: {\\n        encrypt: function(obj) {\\n            Crypto.config.type.set(\\\"AES\\\")\\n            // log(\\\"AES-Encrypt-obj:\\\" + JSON.stringify(obj))\\n            return Crypto.encryptor(obj);\\n        },\\n        decrypt: function(obj) {\\n            Crypto.config.type.set(\\\"AES\\\")\\n            return Crypto.decryptor(obj);\\n        }\\n    },\\n    DES: {\\n        encrypt: function(obj) {\\n            Crypto.config.type.set(\\\"DES\\\")\\n            return Crypto.encryptor(obj);\\n        },\\n        decrypt: function(obj) {\\n            Crypto.config.type.set(\\\"DES\\\")\\n            return Crypto.decryptor(obj);\\n        }\\n    },\\n    \\\"3DES\\\": {\\n        encrypt: function(obj) {\\n            Crypto.config.type.set(\\\"3DES\\\")\\n            return Crypto.encryptor(obj);\\n        },\\n        decrypt: function(obj) {\\n            Crypto.config.type.set(\\\"3DES\\\")\\n            return Crypto.decryptor(obj);\\n        }\\n\\n    },\\n}\\n\\n$.exports = Crypto;\"},{\"col_type\":\"text_1\",\"name\":\"编码类算法模板\",\"path\":\"template_encode\",\"rule\":\"js:\\nlet template = {};\\n// 编码\\ntemplate.encode = function(obj) {\\n    log(\\\"我是原文\\\"+ obj.decText)\\n    let encode = \\\"原文通过加密得到的密文字符串\\\";\\n    return encode;\\n}\\n// 解码\\ntemplate.decode = function(obj) {\\n    log(\\\"我是密文\\\"+ obj.encText)\\n    let decode = \\\"密文通过解密得到的原文字符串\\\";\\n    return decode;\\n}\\n// 导出给外部通过 require 方法使用\\n$.exports.template = template\"},{\"col_type\":\"text_1\",\"name\":\"AES-UI\",\"path\":\"aesui\",\"rule\":\"js:\\nfunction buildAESUi(d, obj) {\\n    let config = $.require(\\\"hiker://page/aes?rule=\\\" + obj.ruleTitle).config;\\n    if (obj.type.includes(\\\"AES\\\")) {\\n        config.type.set(\\\"AES\\\")\\n    }\\n    if (obj.type.includes(\\\"DES\\\") && !obj.type.includes(\\\"3DES\\\")) {\\n        config.type.set(\\\"DES\\\")\\n    }\\n    if (obj.type.includes(\\\"3DES\\\")) {\\n        config.type.set(\\\"3DES\\\")\\n        // https://tool.lmeee.com/jiami/des3 说明：3DES数据块长度为64位，所以IV长度需要为8个字符（ECB模式不用IV），密钥长度为16或24个字符（8个字符以内则结果与DES相同），IV与密钥超过长度则截取，不足则在末尾填充'\\\\0'补足\\n    }\\n    d.push({\\n        title: \\\"加密\\\",\\n        desc: \\\"请输入明文\\\",\\n        col_type: 'input',\\n        extra: {\\n            // titleVisible: false,\\n            defaultValue: getVar(\\\"crypto_text\\\", \\\"\\\"),\\n            type: \\\"textarea\\\",\\n            onChange: 'putVar(\\\"crypto_text\\\",input)'\\n        },\\n        url: $.toString((obj) => {\\n            obj.decText = input;\\n            // log(\\\"obj.decText: \\\" + obj.decText)\\n            let toastText = \\\"加密成功\\\";\\n            var cipherText = \\\"\\\";\\n            let Crypto = $.require(\\\"hiker://page/aes?rule=\\\" + obj.ruleTitle);\\n            let config = Crypto.config;\\n            try {\\n                Crypto.checkKey(obj);\\n                Crypto.checkIv(obj);\\n                obj.tools[\\\"AES\\\"] = Crypto.AES;\\n                obj.tools[\\\"DES\\\"] = Crypto.DES;\\n                obj.tools[\\\"3DES\\\"] = Crypto[\\\"3DES\\\"];\\n                var tool = {};\\n                for (let key in obj.tools) {\\n                    if (obj.type.includes(\\\"3DES\\\")) {\\n                        tool = obj.tools[\\\"3DES\\\"];\\n                        break;\\n                    }\\n                    if (obj.type.includes(key) && !obj.type.includes(\\\"3DES\\\")) {\\n                        tool = obj.tools[key];\\n                        break;\\n                    }\\n                }\\n                cipherText = tool.encrypt(obj);\\n                // log(\\\"cipherText: \\\" + cipherText)\\n            } catch (e) {\\n                cipherText = e.message;\\n                toastText = \\\"加密失败\\\";\\n            }\\n            config.cipherText.set(cipherText)\\n            refreshPage();\\n            return 'toast://' + toastText;\\n        }, obj),\\n    });\\n    buildConfigsUI(d, obj);\\n    d.push({\\n        title: \\\"解密\\\",\\n        desc: \\\"请输入密文\\\",\\n        col_type: 'input',\\n        extra: {\\n            // titleVisible: false,\\n            defaultValue: getVar(\\\"crypto_cipher_text\\\", \\\"\\\"),\\n            type: \\\"textarea\\\",\\n            onChange: 'putVar(\\\"crypto_cipher_text\\\",input)'\\n        },\\n        url: $.toString((obj) => {\\n            obj.encText = input;\\n            // log(\\\"obj.encText: \\\" + obj.encText)\\n            let toastText = \\\"解密成功\\\";\\n            let Crypto = $.require(\\\"hiker://page/aes?rule=\\\" + obj.ruleTitle);\\n            var text = \\\"\\\";\\n            let config = Crypto.config;\\n            try {\\n                Crypto.checkKey(obj);\\n                Crypto.checkIv(obj);\\n                obj.tools[\\\"AES\\\"] = Crypto.AES;\\n                obj.tools[\\\"DES\\\"] = Crypto.DES\\n                var tool = {};\\n                for (let key in obj.tools) {\\n                    if (obj.type.includes(key)) {\\n                        tool = obj.tools[key];\\n                        break;\\n                    }\\n                }\\n                // log(obj.encText)\\n                text = tool.decrypt(obj);\\n            } catch (e) {\\n                text = e.message;\\n                toastText = \\\"解密失败\\\";\\n            }\\n            config.text.set(text)\\n            refreshPage();\\n            return 'toast://' + toastText;\\n        }, obj),\\n    });\\n}\\n\\nfunction buildConfigsUI(d, obj) {\\n    let Crypto = $.require(\\\"hiker://page/aes?rule=\\\" + obj.ruleTitle);\\n    let ConfigMapping = Crypto.ConfigMapping;\\n    let config = Crypto.config;\\n    let mappingKeys = Object.keys(ConfigMapping);\\n    let modes = Object.keys(ConfigMapping[\\\"mode\\\"]);\\n    // log(JSON.stringify(modes))\\n    let paddings = Object.keys(ConfigMapping[\\\"pad\\\"]);\\n    // log(JSON.stringify(paddings))\\n    let encodes = Object.keys(ConfigMapping[\\\"encode\\\"]);\\n    // log(JSON.stringify(encodes))\\n    d.push({\\n        title: '““””<strong><font color=\\\"black\\\">模式</font></strong>',\\n        url: \\\"hiker://empty\\\",\\n        col_type: \\\"scroll_button\\\"\\n    })\\n    for (let mode of modes) {\\n        d.push({\\n            title: mode == config.mode.get() ? \\\"‘‘\\\" + mode + \\\"’’\\\" : mode,\\n            url: $(\\\"#noLoading#\\\").lazyRule((mode, config) => {\\n                config.mode.set(mode)\\n                refreshPage(false);\\n                return \\\"hiker://empty\\\"\\n            }, mode, config),\\n            col_type: \\\"scroll_button\\\"\\n        });\\n    }\\n    d.push({\\n        col_type: \\\"blank_block\\\"\\n    })\\n\\n    d.push({\\n        title: '““””<strong><font color=\\\"black\\\">填充</font></strong>',\\n        url: \\\"hiker://empty\\\",\\n        col_type: \\\"scroll_button\\\"\\n    })\\n    for (let padding of paddings) {\\n        d.push({\\n            title: padding == config.pad.get() ? \\\"‘‘\\\" + padding + \\\"’’\\\" : padding,\\n            url: $(\\\"#noLoading#\\\").lazyRule((padding, config) => {\\n                config.pad.set(padding)\\n                refreshPage(false);\\n                return \\\"hiker://empty\\\"\\n            }, padding, config),\\n            col_type: \\\"scroll_button\\\"\\n        });\\n    }\\n    d.push({\\n        col_type: \\\"blank_block\\\"\\n    })\\n\\n    if (config.type.get() == 'AES') {\\n        let blockSizes = Object.keys(ConfigMapping[\\\"blockSize\\\"][config.type.get()]);\\n        d.push({\\n            title: '““””<strong><font color=\\\"black\\\">数据块</font></strong>',\\n            url: \\\"hiker://empty\\\",\\n            col_type: \\\"scroll_button\\\"\\n        })\\n        for (let blockSize of blockSizes) {\\n            d.push({\\n                title: blockSize == config.blockSize.get() ? \\\"‘‘\\\" + blockSize + \\\"’’\\\" : blockSize,\\n                url: $(\\\"#noLoading#\\\").lazyRule((blockSize, config) => {\\n                    config.blockSize.set(blockSize)\\n                    refreshPage(false);\\n                    return \\\"hiker://empty\\\"\\n                }, blockSize, config),\\n                col_type: \\\"scroll_button\\\"\\n            });\\n        }\\n        d.push({\\n            col_type: \\\"blank_block\\\"\\n        })\\n    }\\n\\n    d.push({\\n        title: '““””<strong><font color=\\\"black\\\">密文编码</font></strong>',\\n        url: \\\"hiker://empty\\\",\\n        col_type: \\\"scroll_button\\\"\\n    })\\n    for (let encode of encodes) {\\n        d.push({\\n            title: encode == config.encode.get() ? \\\"‘‘\\\" + encode + \\\"’’\\\" : encode,\\n            url: $(\\\"#noLoading#\\\").lazyRule((encode, config) => {\\n                config.encode.set(encode);\\n                refreshPage(false);\\n                return \\\"hiker://empty\\\"\\n            }, encode, config),\\n            col_type: \\\"scroll_button\\\"\\n        });\\n    }\\n    // AES 密钥 key 16/24/32 字符 => 128/192/256 bit\\n    let blockSize = 128;\\n    try {\\n        blockSize = ConfigMapping[\\\"blockSize\\\"][config.type.get()][config.blockSize.get()]\\n    } catch (e) {}\\n    if (config.type.get() === \\\"DES\\\") {\\n        blockSize = 64;\\n    }\\n    obj.blockSize = blockSize;\\n    let keyLen = blockSize / 8;\\n    let keyLenStr = keyLen + \\\" 个字符\\\"\\n    if (config.keyEncodeType.get() == 'Hex') {\\n        keyLenStr = (keyLen * 2) + \\\" 个十六进制字符\\\";\\n    }\\n    d.push({\\n        title: \\\"随机 key\\\",\\n        desc: \\\"密钥 key, 必须 \\\" + keyLenStr,\\n        col_type: 'input',\\n        extra: {\\n            // titleVisible: false,\\n            /*height: -1,\\n            type: \\\"textarea\\\",*/\\n            defaultValue: config.key.get(),\\n            onChange: $.toString((config) => {\\n                config.key.set(input)\\n            }, config)\\n        },\\n        url: $.toString((obj, config) => {\\n            let Tool = $.require(\\\"hiker://page/utiliy?rule=\\\" + obj.ruleTitle);\\n            let keyLen = obj.blockSize / 8;\\n            if (config.type.get() === 'DES') {\\n                keyLen = 8;\\n            }\\n            let randomKey = Tool.randomString(keyLen);\\n            if (config.keyEncodeType.get() == 'Hex') {\\n                let hex = $.require(\\\"hiker://page/hex?rule=\\\" + obj.ruleTitle).hex;\\n                obj.decText = randomKey\\n                randomKey = hex.encode(obj)\\n            }\\n            config.key.set(randomKey);\\n            refreshPage(false)\\n        }, obj, config)\\n    });\\n\\n    d.push({\\n        title: '““””<strong><font color=\\\"black\\\">密钥编码</font></strong>',\\n        url: $(\\\"#noLoading#\\\").lazyRule((config) => {\\n            config.keyEncodeType.set(\\\"UTF-8\\\");\\n            refreshPage(false);\\n            return \\\"toast://重置成功！\\\";\\n        }, config),\\n        col_type: \\\"scroll_button\\\"\\n    })\\n    let keyEncodeTypes = Object.keys(ConfigMapping[\\\"keyEncodeType\\\"]);\\n    // log(JSON.stringify(keyEncodeTypes))\\n    for (let keyEncodeType of keyEncodeTypes) {\\n        d.push({\\n            title: keyEncodeType == config.keyEncodeType.get() ? \\\"‘‘\\\" + keyEncodeType + \\\"’’\\\" : keyEncodeType,\\n            url: $(\\\"#noLoading#\\\").lazyRule((keyEncodeType, config, obj) => {\\n                let toastText = \\\"hiker://empty\\\";\\n                let hex = $.require(\\\"hiker://page/hex?rule=\\\" + obj.ruleTitle).hex;\\n                let key = config.key.get();\\n                let oldKeyEncodeType = config.keyEncodeType.get();\\n                switch (oldKeyEncodeType) {\\n                    case \\\"UTF-8\\\":\\n                        if (keyEncodeType == \\\"Hex\\\") {\\n                            obj.decText = key\\n                            if (key.length !== 0) {\\n                                config.key.set(hex.encode(obj))\\n                            }\\n                        }\\n                        config.keyEncodeType.set(keyEncodeType);\\n                        refreshPage(false);\\n                        break;\\n                    case \\\"Hex\\\":\\n                        if (key.length == 0) {\\n                            config.keyEncodeType.set(keyEncodeType);\\n                            refreshPage(false);\\n                        } else {\\n                            toastText = 'toast://当前不支持 Hex 转其他编码，若需要重置选项请点击[密钥编码]'\\n                        }\\n                        break;\\n                }\\n                return toastText;\\n            }, keyEncodeType, config, obj),\\n            col_type: \\\"scroll_button\\\"\\n        });\\n    }\\n\\n    if (config.mode.get() !== \\\"ECB\\\") {\\n        let ivSize = (config.type.get() === \\\"DES\\\" || config.type.get() === \\\"3DES\\\") ? 64 : 128;\\n        obj.ivSize = ivSize;\\n        let ivLen = ivSize / 8;\\n        let ivLenStr = ivLen + \\\" 个字符\\\"\\n        if (config.ivEncodeType.get() == 'Hex') {\\n            ivLenStr = (ivLen * 2) + \\\" 个十六进制字符\\\";\\n        }\\n        d.push({\\n            title: \\\"随机 iv\\\",\\n            desc: \\\"偏移量 iv, 必须 \\\" + ivLenStr,\\n            col_type: 'input',\\n            extra: {\\n                // titleVisible: false,\\n                /*height: -1,\\n                type: \\\"textarea\\\",*/\\n                defaultValue: config.iv.get(),\\n                onChange: $.toString((config) => {\\n                    config.iv.set(input)\\n                }, config)\\n            },\\n            url: $.toString((obj, config) => {\\n                let Tool = $.require(\\\"hiker://page/utiliy?rule=\\\" + obj.ruleTitle);\\n                let ivLen = obj.ivSize / 8;\\n                let randomIv = Tool.randomString(ivLen);\\n                if (config.ivEncodeType.get() == 'Hex') {\\n                    let hex = $.require(\\\"hiker://page/hex?rule=\\\" + obj.ruleTitle).hex;\\n                    obj.decText = randomIv\\n                    randomIv = hex.encode(obj)\\n                }\\n                config.iv.set(randomIv);\\n                refreshPage(false)\\n            }, obj, config)\\n        });\\n        d.push({\\n            title: '““””<strong><font color=\\\"black\\\">偏移量编码</font></strong>',\\n            url: $(\\\"#noLoading#\\\").lazyRule((config) => {\\n                config.ivEncodeType.set(\\\"UTF-8\\\");\\n                refreshPage(false);\\n                return \\\"toast://重置成功！\\\";\\n            }, config),\\n            col_type: \\\"scroll_button\\\"\\n        })\\n        let ivEncodeTypes = Object.keys(ConfigMapping[\\\"ivEncodeType\\\"]);\\n        // log(JSON.stringify(keyEncodeTypes))\\n        for (let ivEncodeType of ivEncodeTypes) {\\n            d.push({\\n                title: ivEncodeType == config.ivEncodeType.get() ? \\\"‘‘\\\" + ivEncodeType + \\\"’’\\\" : ivEncodeType,\\n                url: $(\\\"#noLoading#\\\").lazyRule((ivEncodeType, config, obj) => {\\n                    let toastText = \\\"hiker://empty\\\";\\n                    let hex = $.require(\\\"hiker://page/hex?rule=\\\" + obj.ruleTitle).hex;\\n                    let iv = config.iv.get();\\n                    let oldIvEncodeType = config.ivEncodeType.get();\\n                    switch (oldIvEncodeType) {\\n                        case \\\"UTF-8\\\":\\n                            if (ivEncodeType == \\\"Hex\\\") {\\n                                obj.decText = iv\\n                                if (iv.length !== 0) {\\n                                    config.iv.set(hex.encode(obj))\\n                                }\\n                            }\\n                            config.ivEncodeType.set(ivEncodeType);\\n                            refreshPage(false);\\n                            break;\\n                        case \\\"Hex\\\":\\n                            if (iv.length == 0) {\\n                                config.ivEncodeType.set(ivEncodeType);\\n                                refreshPage(false);\\n                            } else {\\n                                toastText = 'toast://当前不支持 Hex 转其他编码，若需要重置选项请点击[偏移量编码]'\\n                            }\\n                            break;\\n                    }\\n                    return toastText;\\n                }, ivEncodeType, config, obj),\\n                col_type: \\\"scroll_button\\\"\\n            });\\n        }\\n    } else {\\n        config.iv.set(\\\"\\\");\\n    }\\n}\\n$.exports.buildAESUi = buildAESUi\"},{\"col_type\":\"rich_text\",\"name\":\"RSA-UI\",\"path\":\"rsaui\",\"rule\":\"js:\\nlet navigator = {};\\nlet window = { \\n\\tnavigator: navigator \\n};\\nfunction buildRSAUi(d, obj) {\\n  d.push({\\n\\ttitle: '<p style=\\\"text-align: center;\\\">目前无法实现，敬请期待（咕咕咕）~</p>',\\n\\tcol_type: 'rich_text'\\n  })\\n  // https://cdn.jsdelivr.net/npm/keypair@1.0.3/index.min.js\\n  // https://cdn.jsdelivr.net/gh/wwwtyro/cryptico@master/cryptico.min.js\\n  // let cryptico = request(\\\"https://cdn.jsdelivr.net/gh/wwwtyro/cryptico@master/cryptico.min.js\\\")\\n  // eval(cryptico)\\n\\n\\n}\\n$.exports.buildRSAUi = buildRSAUi\"},{\"col_type\":\"text_1\",\"name\":\"工具\",\"path\":\"utiliy\",\"rule\":\"js:\\nlet Tool = {\\n  randomString: function(len){\\n      let chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz123456789' \\n      let maxLen = chars.length\\n      let str = ''\\n      for (let i = 0; i < len; i++) {\\n        str += chars.charAt(Math.floor(Math.random() * maxLen))\\n      }\\n      return str\\n  },\\n  fillNullPadding: function (str, len) {\\n    // str.padStart(targetLength [, padString])\\n    // str.padEnd(targetLength [, padString])\\n    if(str.length >= len) {\\n      return str;\\n    }\\n    return str + Array( len - str.length + 1 ).join(\\\"\\\\x00\\\");\\n  },\\n  fillZeroPadding: function (str, len) {\\n    // str.padStart(targetLength [, padString])\\n    // str.padEnd(targetLength [, padString])\\n    if(str.length >= len) {\\n      return str;\\n    }\\n    return str + Array( len - str.length + 1 ).join(\\\"0\\\");\\n  },\\n}\\n$.exports = Tool;\"},{\"col_type\":\"text_1\",\"name\":\"散列哈希类页面\",\"path\":\"hash\",\"rule\":\"js:\\nconst { buildHashUi } = $.require(\\\"hiker://page/hashui\\\");\\nfunction setHashPage(d, obj) {\\n    buildHashUi(d, obj);\\n}\\n$.exports.setHashPage = setHashPage\"},{\"col_type\":\"text_1\",\"name\":\"Hex\",\"path\":\"hex\",\"rule\":\"js:\\nlet hex = {};\\n// 编码\\nhex.encode = function(obj) {\\n    eval(getCryptoJS());\\n    // log(\\\"我是原文\\\"+ obj.decText)\\n    let wordArray = CryptoJS.enc.Utf8.parse(obj.decText);\\n    let encode = \\\"[HEX]:\\\" + CryptoJS.enc.Hex.stringify(wordArray);\\n    return encode;\\n}\\n// 解码\\nhex.decode = function(obj) {\\n    eval(getCryptoJS());\\n    // log(\\\"我是密文\\\"+ obj.encText)\\n    obj.encText = obj.encText.replace(\\\"[HEX]:\\\", \\\"\\\")\\n    let wordArray = CryptoJS.enc.Hex.parse(obj.encText);\\n    let decode = CryptoJS.enc.Utf8.stringify(wordArray);\\n    return decode;\\n}\\n// 导出给外部通过 require 方法使用\\n$.exports.hex = hex\"},{\"col_type\":\"text_1\",\"name\":\"Hash-UI\",\"path\":\"hashui\",\"rule\":\"js:\\nfunction buildEmtpyHashUi(d, obj) {\\n    d.push({\\n        title: '<p style=\\\"text-align: center;\\\">正在路上，敬请期待（咕咕咕）~</p>',\\n        col_type: 'rich_text'\\n    })\\n}\\nfunction buildHashUi(d, obj) {\\n    if (obj.type.includes(\\\"SHA3\\\") && !obj.type.includes(\\\"HMAC\\\")) {\\n        buildEmtpyHashUi(d, obj);\\n        return;\\n    }\\n     d.push({\\n        title: \\\"哈希/散列\\\",\\n        desc: \\\"请输入原文\\\",\\n        col_type: 'input',\\n        extra: {\\n            // titleVisible: false,\\n            defaultValue: getVar(\\\"hash_text\\\", \\\"\\\"),\\n            type: \\\"textarea\\\",\\n            onChange: 'putVar(\\\"hash_text\\\",input)'\\n        },\\n        url: $.toString((obj) => {\\n            // obj.decText = input;\\n            // log(\\\"obj.decText: \\\" + obj.decText)\\n            let toastText = \\\"加密成功\\\";\\n            let hash_result = \\\"\\\";\\n            let tool = {};\\n            let toolSelects = obj.type.split(\\\"@@\\\");\\n            let toolSelect = toolSelects[toolSelects.length - 1];\\n            let HashAlgorithm = $.require(\\\"hiker://page/hashalgorithm?rule=\\\" + obj.ruleTitle);\\n            HashAlgorithm.config.type.set(toolSelect)\\n            tool = HashAlgorithm;\\n            try {\\n                hash_result = tool.hash();\\n                // log(\\\"hash_result: \\\" + hash_result)\\n            } catch (e) {\\n                hash_result = e.message;\\n                toastText = \\\"加密失败\\\";\\n            }\\n            HashAlgorithm.config.resultText.set(hash_result)\\n            refreshPage();\\n            return 'toast://' + toastText;\\n        }, obj),\\n    });\\n    if (obj.type.includes(\\\"HMAC\\\") || obj.type.includes(\\\"PBKDF2\\\")) {\\n        buildConfigsUI(d, obj);\\n    }\\n    d.push({\\n        title: \\\"复制\\\",\\n        desc: \\\"哈希值\\\",\\n        col_type: 'input',\\n        extra: {\\n            // titleVisible: false,\\n            defaultValue: getVar(\\\"hash_result_text\\\", \\\"\\\"),\\n            type: \\\"textarea\\\",\\n            onChange: 'putVar(\\\"hash_result_text\\\",input)'\\n        },\\n        url: $.toString(() => {\\n            // obj.encText = input;\\n            // log(\\\"obj.encText: \\\" + obj.encText)\\n            if (input) {\\n                return \\\"copy://\\\" + input;\\n            } else {\\n                return \\\"toast://内容为空！\\\"\\n            }\\n        }),\\n    });\\n    \\n}\\nfunction buildConfigsUI(d, obj) {\\n    // HMAC || PBKDF2\\n    let HashAlgorithm = $.require(\\\"hiker://page/hashalgorithm?rule=\\\" + obj.ruleTitle);\\n    if (obj.type.includes(\\\"HMAC\\\")) {\\n        // HMAC-xxx\\n        buildHmacConfigsUI(d, obj, HashAlgorithm.config)\\n    } else if (obj.type.includes(\\\"PBKDF2\\\")) {\\n        // PBKDF2\\n        buildPBKDF2ConfigsUI(d, obj, HashAlgorithm.Mapping, HashAlgorithm.config)\\n    }\\n}\\nfunction buildHmacConfigsUI (d, obj, config) {\\n    // obj.type.includes(\\\"HMAC\\\")\\n    d.push({\\n        title: \\\"随机 key\\\",\\n        desc: \\\"密钥 key\\\",\\n        col_type: 'input',\\n        extra: {\\n            titleVisible: false,\\n            height: -1,\\n            type: \\\"textarea\\\",\\n            defaultValue: config.key.get(),\\n            onChange: $.toString((config) => {\\n                config.key.set(input)\\n            }, config)\\n        }\\n    });\\n}\\nfunction buildPBKDF2ConfigsUI(d, obj, mapping, config) {\\n    // obj.type.includes(\\\"PBKDF2\\\")\\n    let keySizes = Object.keys(mapping[\\\"keySize\\\"]);\\n    d.push({\\n        title: '““””<strong><font color=\\\"black\\\">KEY长度</font></strong>',\\n        url: \\\"hiker://empty\\\",\\n        col_type: \\\"scroll_button\\\"\\n    })\\n    for (let keySize of keySizes) {\\n        d.push({\\n            title: keySize == config.keySize.get() ? \\\"‘‘\\\" + keySize + \\\"’’\\\" : keySize,\\n            url: $(\\\"#noLoading#\\\").lazyRule((keySize, config) => {\\n                    config.keySize.set(keySize)\\n                    refreshPage(false);\\n                    return \\\"hiker://empty\\\"\\n            }, keySize, config),\\n            col_type: \\\"scroll_button\\\"\\n        });\\n    }\\n    d.push({\\n        col_type: \\\"blank_block\\\"\\n    })\\n    d.push({\\n        title: \\\"随机 salt\\\",\\n        desc: \\\"盐 salt，建议至少为 8 字节，且要为随机数。\\\",\\n        col_type: 'input',\\n        extra: {\\n            titleVisible: false,\\n            height: -1,\\n            type: \\\"textarea\\\",\\n            defaultValue: config.salt.get(),\\n            onChange: $.toString((config) => {\\n                config.salt.set(input)\\n            }, config)\\n        }\\n    });\\n    d.push({\\n        title: \\\"迭代次数\\\",\\n        desc: \\\"迭代次数(选填)，建议至少为 50000 次，除非有严格的性能要求。\\\",\\n        col_type: 'input',\\n        extra: {\\n            titleVisible: false,\\n            height: -1,\\n            type: \\\"textarea\\\",\\n            defaultValue: config.iterations.get(),\\n            onChange: $.toString((config) => {\\n                config.iterations.set(input)\\n            }, config)\\n        }\\n    });\\n}\\n$.exports.buildHashUi = buildHashUi\"},{\"col_type\":\"text_1\",\"name\":\"Hash算法\",\"path\":\"hashalgorithm\",\"rule\":\"js:\\neval(getCryptoJS());\\nlet HashAlgorithm = {\\n\\tMapping: {\\n\\t\\thashType: {\\n\\t\\t\\t\\\"MD5\\\": CryptoJS.MD5,\\n\\t\\t\\t\\\"SHA-1\\\": CryptoJS.SHA1,\\n\\t\\t\\t\\\"SHA-224\\\": CryptoJS.SHA224,\\n\\t\\t\\t\\\"SHA-256\\\": CryptoJS.SHA256,\\n\\t\\t\\t\\\"SHA-384\\\": CryptoJS.SHA384,\\n\\t\\t\\t\\\"SHA-512\\\": CryptoJS.SHA512,\\n\\t\\t\\t\\\"HMAC-MD5\\\": CryptoJS.HmacMD5,\\n\\t\\t\\t\\\"HMAC-SHA1\\\": CryptoJS.HmacSHA1,\\n\\t\\t\\t\\\"HMAC-SHA224\\\": CryptoJS.HmacSHA224, \\n\\t\\t\\t\\\"HMAC-SHA256\\\": CryptoJS.HmacSHA256, \\n\\t\\t\\t\\\"HMAC-SHA384\\\": CryptoJS.HmacSHA384, \\n\\t\\t\\t\\\"HMAC-SHA512\\\": CryptoJS.HmacSHA512,\\n\\t\\t\\t\\\"PBKDF2\\\": CryptoJS.PBKDF2,\\n\\t\\t},\\n        keySize: {\\n            \\\"128位\\\": 128,\\n            \\\"256位\\\": 256,\\n            \\\"512位\\\": 512,\\n        },\\n\\t},\\n\\tconfig: {\\n        type: {\\n            key: \\\"hash_type\\\",\\n            get: function () {\\n                return getVar(this.key, \\\"MD5\\\");\\n            },\\n            set: function (newValue) {\\n                putVar(this.key, newValue);\\n            }\\n        },\\n        key: {\\n            key: \\\"hash_hmac_key\\\",\\n            get: function () {\\n                return getVar(this.key, \\\"\\\");\\n            },\\n            set: function (newValue) {\\n                putVar(this.key, newValue);\\n            }\\n        },\\n\\t\\ttext: {\\n\\t\\t\\tkey: \\\"hash_text\\\",\\n            get: function () {\\n                return getVar(this.key, \\\"\\\");\\n            },\\n            set: function (newValue) {\\n                putVar(this.key, newValue);\\n            }\\n\\t\\t},\\n\\t\\tresultText: {\\n\\t\\t\\tkey: \\\"hash_result_text\\\",\\n            get: function () {\\n                return getVar(this.key, \\\"\\\");\\n            },\\n            set: function (newValue) {\\n                putVar(this.key, newValue);\\n            }\\n\\t\\t},\\n        keySize: {\\n            key: \\\"hash_key_size\\\",\\n            get: function () {\\n                return getVar(this.key, \\\"128位\\\");\\n            },\\n            set: function (newValue) {\\n                putVar(this.key, newValue);\\n            }\\n\\n        },\\n        salt: {\\n            key: \\\"hash_salt\\\",\\n            get: function () {\\n                return getVar(this.key, \\\"\\\");\\n            },\\n            set: function (newValue) {\\n                putVar(this.key, newValue);\\n            }\\n\\n        },\\n        iterations: {\\n            key: \\\"hash_iterations\\\",\\n            get: function () {\\n                return getVar(this.key, \\\"\\\");\\n            },\\n            set: function (newValue) {\\n                putVar(this.key, newValue);\\n            }\\n\\n        },\\n\\t},\\n    onClose: function() {\\n        let configKeys = Object.keys(this.config);\\n        for(let confKey of configKeys) {\\n            let key = this.config[confKey].key;\\n            clearVar(key);\\n        }\\n    },\\n\\thash: function () {\\n\\t\\tlet text = this.config.text.get();\\n\\t\\tlet type = this.config.type.get();\\n\\t\\tlet hash = {};\\n\\t\\tif (text) {\\n            if (type.includes(\\\"HMAC\\\")) {\\n                // HMAC-xxx\\n                let key = this.config.key.get();\\n                hash = this.Mapping.hashType[type](text, key)\\n            } else if (type.includes(\\\"PBKDF2\\\")) {\\n                // PBKDF2\\n                let keySize = this.Mapping.keySize[this.config.keySize.get()];\\n                let salt = this.config.salt.get();\\n                let iterations = this.config.iterations.get();\\n                if (!salt) {\\n                \\tthrow new Error(\\\"盐 salt 不能为空！\\\")\\n                }\\n                salt = CryptoJS.enc.Utf8.parse(salt)\\n                let options =  {\\n                \\t\\tkeySize: keySize / 32\\n                }\\n                if (iterations) {\\n                \\toptions.iterations = iterations;\\n                }\\n                hash = this.Mapping.hashType[type](text, salt, options)\\n            } else {\\n\\t\\t\\t\\thash = this.Mapping.hashType[type](text);\\n            }\\n\\t\\t\\t// 密文\\n\\t\\t\\tlet hashResult = hash.toString();\\n            // log(\\\"hash#hash_result: \\\" + hashResult)\\n            this.config.resultText.set(hashResult);\\n\\t\\t\\treturn hashResult;\\n\\t\\t} else {\\n            throw new Error(\\\"原文不能为空！\\\")\\n        }\\n\\t}\\n};\\n$.exports = HashAlgorithm\"},{\"col_type\":\"movie_3\",\"name\":\"兽音\",\"path\":\"roar\",\"rule\":\"js:\\nlet roar = {};\\nroar.encode = function(obj) {\\n    // log(\\\"[roar]obj.decText: \\\" + obj.decText)\\n    let encode = request('http://hi.pcmoe.net/bear.php', {\\n        headers: {\\n            'X-Token': '07B97AA644E8',\\n            'Origin': 'http://hi.pcmoe.net',\\n            'X-Requested-With': 'XMLHttpRequest',\\n            'User-Agent': 'Mozilla/5.0 (Linux; Android 10; Note9 Build/QKQ1.191222.002; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/77.0.3865.120 MQQBrowser/6.2 TBS/045614 Mobile Safari/537.36',\\n            'Content-type': 'application/x-www-form-urlencoded',\\n            'Referer': 'http://hi.pcmoe.net/roar.html'\\n        },\\n        body: 'mode=Roar&code=Encode&txt=' + obj.decText,\\n        method: 'POST'\\n    });\\n    // log(\\\"[roar]encode: \\\" + encode)\\n    return encode;\\n}\\nroar.decode = function(obj) {\\n    let decode = request('http://hi.pcmoe.net/bear.php', {\\n        headers: {\\n            'X-Token': '07B97AA644E8',\\n            'Origin': 'http://hi.pcmoe.net',\\n            'X-Requested-With': 'XMLHttpRequest',\\n            'User-Agent': 'Mozilla/5.0 (Linux; Android 10; Note9 Build/QKQ1.191222.002; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/77.0.3865.120 MQQBrowser/6.2 TBS/045614 Mobile Safari/537.36',\\n            'Content-type': 'application/x-www-form-urlencoded',\\n            'Referer': 'http://hi.pcmoe.net/roar.html'\\n        },\\n        body: 'mode=Roar&code=Decode&txt=' + obj.encText,\\n        method: 'POST'\\n    });\\n    return decode;\\n}\\n$.exports.roar = roar\"},{\"col_type\":\"movie_3\",\"name\":\"熊曰\",\"path\":\"bear\",\"rule\":\"js:\\nlet bear = {};\\nbear.encode = function(obj) {\\n    // log(\\\"[bear]obj.decText: \\\" + obj.decText)\\n    let encode = request('http://hi.pcmoe.net/bear.php', {\\n        headers: {\\n            'X-Token': '07B97AA644E8',\\n            'Origin': 'http://hi.pcmoe.net',\\n            'X-Requested-With': 'XMLHttpRequest',\\n            'User-Agent': 'Mozilla/5.0 (Linux; Android 10; Note9 Build/QKQ1.191222.002; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/77.0.3865.120 MQQBrowser/6.2 TBS/045614 Mobile Safari/537.36',\\n            'Content-type': 'application/x-www-form-urlencoded',\\n            'Referer': 'http://hi.pcmoe.net/bear.html'\\n        },\\n        body: 'mode=Bear&code=Encode&txt=' + obj.decText,\\n        method: 'POST'\\n    });\\n    // log(\\\"[bear]encode: \\\" + encode)\\n    return encode;\\n}\\nbear.decode = function(obj) {\\n    let decode = request('http://hi.pcmoe.net/bear.php', {\\n        headers: {\\n            'X-Token': '07B97AA644E8',\\n            'Origin': 'http://hi.pcmoe.net',\\n            'X-Requested-With': 'XMLHttpRequest',\\n            'User-Agent': 'Mozilla/5.0 (Linux; Android 10; Note9 Build/QKQ1.191222.002; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/77.0.3865.120 MQQBrowser/6.2 TBS/045614 Mobile Safari/537.36',\\n            'Content-type': 'application/x-www-form-urlencoded',\\n            'Referer': 'http://hi.pcmoe.net/bear.html'\\n        },\\n        body: 'mode=Bear&code=Decode&txt=' + obj.encText,\\n        method: 'POST'\\n    });\\n    return decode;\\n}\\n$.exports.bear = bear\"},{\"col_type\":\"movie_3\",\"name\":\"首页\",\"path\":\"home\",\"rule\":\"js:\\nsetPageTitle('加解密工具')\\nconst {\\n    header\\n} = $.require(\\\"hiker://page/classicHeader\\\");\\nconst {\\n    setEncodePage\\n} = $.require(\\\"hiker://page/encode\\\");\\nconst {\\n    setCryptoPage\\n} = $.require(\\\"hiker://page/crypto\\\");\\nconst {\\n    setHashPage\\n} = $.require(\\\"hiker://page/hash\\\");\\n// const { Crypto } = $.require(\\\"hiker://page/aes\\\");\\n/**\\n * 1. 引入算法依赖\\n */\\nconst {\\n    buddha\\n} = $.require(\\\"hiker://page/buddha\\\");\\nconst {\\n    bear\\n} = $.require(\\\"hiker://page/bear\\\");\\nconst {\\n    roar\\n} = $.require(\\\"hiker://page/roar\\\");\\nconst {\\n    unicode\\n} = $.require(\\\"hiker://page/unicode\\\");\\nconst {\\n    base64\\n} = $.require(\\\"hiker://page/base64\\\");\\nconst {\\n    ascii\\n} = $.require(\\\"hiker://page/ascii\\\");\\nconst {\\n    hex\\n} = $.require(\\\"hiker://page/hex\\\");\\n\\nlet ruleTitle = MY_RULE.title;\\naddListener('onClose', $.toString((header, ruleTitle) => {\\n    putVar(\\\"encode-text\\\", \\\"\\\");\\n    putVar(\\\"decode-text\\\", \\\"\\\");\\n    header.onClose();\\n    let Crypto = $.require(\\\"hiker://page/aes?rule=\\\" + ruleTitle);\\n    Crypto.onClose();\\n    let HashAlgorithm = $.require(\\\"hiker://page/hashalgorithm?rule=\\\" + ruleTitle);\\n    HashAlgorithm.onClose();\\n}, header, ruleTitle))\\n\\nlet d = [];\\n/*d.push({\\n    desc: \\\"0\\\",\\n    col_type: \\\"x5_webview_single\\\"\\n})*/\\ntry {\\n    if (!newWindow) {\\n\\n    }\\n} catch (e) {\\n    for (let i = 0; i < 1; i++) {\\n        d.push({\\n            col_type: 'big_blank_block'\\n        });\\n    }\\n}\\nlet classic = {\\n    \\\"编码转换\\\": [\\\"佛曰\\\", \\\"熊曰\\\", \\\"兽音\\\", \\\"Unicode\\\", \\\"Base64\\\", \\\"ASCII\\\", \\\"Hex\\\"],\\n    \\\"加密/解密\\\": [{\\n            \\\"对称加密\\\": [\\\"AES\\\", \\\"DES\\\", \\\"3DES\\\"]\\n        },\\n        {\\n            \\\"非对称加密\\\": [\\\"RSA\\\"]\\n        }\\n    ],\\n    \\\"散列/哈希\\\": [\\n        \\\"MD5\\\",\\n        {\\n            \\\"SHA\\\": [\\\"SHA-1\\\", \\\"SHA-224\\\", \\\"SHA-256\\\", \\\"SHA-384\\\", \\\"SHA-512\\\", /*\\\"SHA3-512\\\"*/ ]\\n        },\\n        {\\n            \\\"HMAC\\\": [\\\"HMAC-MD5\\\", \\\"HMAC-SHA1\\\", \\\"HMAC-SHA224\\\", \\\"HMAC-SHA256\\\", \\\"HMAC-SHA384\\\", \\\"HMAC-SHA512\\\"]\\n        },\\n        \\\"PBKDF2\\\"\\n    ],\\n    \\\"其他转换\\\": [\\n        \\\"时间戳\\\",\\n    ]\\n}\\nd = d.concat(header.get(classic))\\nvar type = header.getCurrentIndex();\\ntry {\\n    if (newWindow) {\\n        /*for (let i = 0; i < 1; i++) {\\n            d.push({\\n                col_type: 'big_blank_block'\\n            });\\n        }*/\\n        d.push({\\n            title: '““””<b>选项</b>',\\n            col_type: 'scroll_button',\\n            url: 'hiker://empty',\\n        })\\n        d.push({\\n            title: '点我化为新窗口',\\n            col_type: 'scroll_button',\\n            url: 'hiker://page/home',\\n            extra: {\\n                newWindow: true,\\n                // lineVisible: false\\n            }\\n        })\\n    }\\n} catch (e) {\\n    log(e.message)\\n}\\n\\n/**\\n * 2. 在 tools 加入键值对，用于映射算法，格式为 分类中的替换值（即 fyAll 的值）: 引入的算法依赖的对象名\\n */\\nvar obj = {\\n    ruleTitle: ruleTitle,\\n    type: type,\\n    tools: {\\n        \\\"佛曰\\\": buddha,\\n        \\\"熊曰\\\": bear,\\n        \\\"兽音\\\": roar,\\n        \\\"Unicode\\\": unicode,\\n        \\\"Base64\\\": base64,\\n        \\\"ASCII\\\": ascii,\\n        \\\"Hex\\\": hex,\\n        // \\\"AES\\\": Crypto.AES,\\n        // \\\"DES\\\": Crypto.DES,\\n    },\\n}\\n\\n/**\\n * 3. 添加子页面写自己的算法，模板请参考“算法模板”这个子页面或已有的子页面\\n * \\n * 注：此备注后的所有代码各位都不需要动\\n */\\nif (obj.type.includes(\\\"编码转换\\\")) {\\n    setEncodePage(d, obj);\\n} else if (obj.type.includes(\\\"加密/解密\\\")) {\\n    setCryptoPage(d, obj);\\n} else if (obj.type.includes(\\\"散列/哈希\\\")) {\\n    setHashPage(d, obj);\\n}\\nsetResult(d)\"}]"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"字符串处理工具","path":"stringtool","rule":"js:\nconst matchList  = {\n  // \"<\":\"&lt;\",\n  // \">\": \"&gt;\",\n  // \"&\": \"&amp;\",\n  // '\"': \"&quot;\",\n  // \"'\": \"acute;\",\n  \" \": \"&nbsp;\",\n  \"\\n\":\"<br>\"\n}\n// 字符过滤器\nfunction htmlEscape(text){\n  let regStr = '(' + Object.keys(matchList).toString() + ')'\n  regStr = regStr.replace(/,/g, ')|(')  \n  const regExp = new RegExp(regStr, 'g')\n  return text.replace(regExp, match => matchList[match])\n}\n$.exports.htmlEscape = htmlEscape"},{"col_type":"movie_3","name":"CompressUI","path":"compress-ui","rule":"js:\nif (MY_PARAMS.title) {\n    setPageTitle(MY_PARAMS.title)\n}\n\nlet lzStringTool = JSON.parse(request('hiker://page/lz-string-tool?rule=字符串压缩测试')).rule;\neval(lzStringTool)\neval(MY_PARAMS.pageRule)\n\nlet d = [];\nd.push({\n    title: \"压缩\",\n    desc: \"请输入原文\",\n    col_type: 'input',\n    extra: {\n        // titleVisible: false,\n        type: \"textarea\",\n        height: 4,\n        defaultValue: getVar(\"test-decompress\", \"\"),\n        onChange: $.toString(() => {\n            putVar(\"test-decompress\", input)\n        })\n    },\n    url: $.toString((MY_PARAMS) => {\n        let inputValue = getVar(\"test-decompress\", \"\")\n        eval(MY_PARAMS.pageRule)\n        let result = ZipTool.compress.exec(inputValue)\n        if (result.startsWith(\"x5Rule://\")) {\n            return result\n        }\n        putVar(\"test-compress\", result)\n        // log(result)\n        refreshPage(false)\n        return 'toast://压缩成功'\n    }, MY_PARAMS)\n})\nlet d_size = \n ZipTool.decompress.size.get() *2;\nlet ds_size = getVar(\"test-decompress\", \"\").length\nlet d_text = '&nbsp;&nbsp;Decompress Size: ' + d_size + ' Bytes' + ', Length: ' + ds_size\nd.push({\n    title: d_text,\n    col_type: 'rich_text'\n})\nd.push({\n    title: \"解压\",\n    desc: \"请输入密文\",\n    col_type: 'input',\n    extra: {\n        // titleVisible: false,\n        type: \"textarea\",\n        height: 4,\n        defaultValue: getVar(\"test-compress\", \"\"),\n        onChange: $.toString(() => {\n            putVar(\"test-compress\", input)\n        })\n    },\n    url: $.toString((MY_PARAMS) => {\n        let inputValue = getVar(\"test-compress\", \"\")\n        eval(MY_PARAMS.pageRule)\n        let result = ZipTool.decompress.exec(inputValue)\n        if (result.startsWith(\"x5Rule://\")) {\n            return result\n        }\n        putVar(\"test-decompress\", result)\n        // log(result)\n        refreshPage(false)\n        return 'toast://解压成功'\n    }, MY_PARAMS)\n})\nlet c_size = \n ZipTool.compress.size.get();\nlet cs_size = getVar(\"test-compress\", \"\").length\nd.push({\n    title: '&nbsp;&nbsp;Compress Size: ' + c_size + ' Bytes' + ', Length: ' + cs_size,\n    col_type: 'rich_text'\n})\n// log((1 - (c_size / d_size)))\nlet compare = Math.round(\n    (1 - (c_size / d_size)) * 100)\nd.push({\n    title: '&nbsp;&nbsp;压缩率: ' + compare + '%',\n    col_type: 'rich_text'\n})\n\nd.push({\n    title: '清空原文',\n    img: 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/32d29e2fbcdf8d83071deec7f6aa4b7c.png',\n    url: \"hiker://empty#noLoading#\" + \"@lazyRule=.js:putVar('test-decompress', '');refreshPage();'toast://清空成功'\",\n    col_type: 'icon_2'\n});\n\nd.push({\n    title: '清空密文',\n    img: 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/32d29e2fbcdf8d83071deec7f6aa4b7c.png',\n    url: \"hiker://empty#noLoading#\" + \"@lazyRule=.js:putVar('test-compress', '');refreshPage();'toast://清空成功'\",\n    col_type: 'icon_2'\n});\n\nd.push({\n    title: '复制原文',\n    img: 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/32d29e2fbcdf8d83071deec7f6aa4b7c.png',\n    url: $(\"hiker://empty#noLoading#\").lazyRule(() => {\n        var dec = getVar(\"test-decompress\");\n        if (dec) {\n            return \"copy://\" + dec;\n        } else {\n            return \"toast://内容为空！\"\n        }\n    }),\n    col_type: 'icon_2'\n});\n\nd.push({\n    title: '复制密文',\n    img: 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/32d29e2fbcdf8d83071deec7f6aa4b7c.png',\n    url: $(\"hiker://empty#noLoading#\").lazyRule(() => {\n        var enc = getVar(\"test-compress\");\n        if (enc) {\n            return \"copy://\" + enc;\n        } else {\n            return \"toast://内容为空！\"\n        }\n    }),\n    col_type: 'icon_2'\n});\nsetResult(d)"},{"col_type":"movie_3","name":"压缩方法模板","path":"template","rule":"js:\n// 注： ZipTool 变量名不能改，没有中文标注的地方也不能动\nlet ZipTool = {\n    dependence: '依赖地址',\n    compress: {\n        size: {\n            key: \"test-compress-size\",\n            set: (newValue) => {\n                putVar(this.key, newValue.toString())\n            },\n            get: () => {\n                return parseInt(getVar(this.key, \"0\"))\n            }\n        },\n        /**\n         * 压缩执行方法，通过 ZipTool.compress.exec(input) 调用\n         */\n        exec: (input) => {\n            // eval(request(ZipTool.dependence))\n            let result = '执行压缩后返回的值'\n            ZipTool.compress.size.set(result.length)\n            return result\n        }\n    },\n    /**\n     * 解压执行方法，通过 ZipTool.decompress.exec(input) 调用\n     */\n    decompress: {\n        size: {\n            get: () => {\n                return getVar(\"test-decompress\", \"0\").length\n            }\n        },\n        exec: (input) => {\n            // eval(request(ZipTool.dependence))\n            let result = '执行解压后返回的值'\n            return result\n        }\n    }\n}"},{"col_type":"movie_3","name":"lz-string","path":"lz-string","rule":"js:\n/*\n原文 1052 Bytes \n原文Base64 1880 Bytes\n原文LZ-String 480 Bytes\n原文LZMA 422 Bytes\n\nhttps://qastack.cn/programming/294297/javascript-implementation-of-gzip\n\nhttps://cdn.jsdelivr.net/npm/lz-string@1.4.4/libs/lz-string.min.js\nhttps://cdn.jsdelivr.net/npm/lz-string@1.4.4/libs/base64-string.js\n*/\nfunction toHexString(byteArray) {\n    return Array.from(byteArray, function(byte) {\n        return ('0' + (byte & 0xFF).toString(16)).slice(-2);\n    }).join('')\n}\nlet ZipTool = {\n    dependence: 'https://cdn.jsdelivr.net/npm/lz-string@1.4.4/libs/lz-string.min.js',\n    compress: {\n        size: {\n            key: \"test-compress-size\",\n            set: (newValue) => {\n                putVar(this.key, newValue.toString())\n            },\n            get: () => {\n                return parseInt(getVar(this.key, \"0\"))\n            }\n        },\n        exec: (input) => {\n            eval(request(ZipTool.dependence))\n// LZString.compressToEncodedURIComponent\n            let result = LZString.compressToEncodedURIComponent(input)\n            ZipTool.compress.size.set(result.length * 2)\n            return result\n        }\n    },\n    decompress: {\n        size: {\n            get: () => {\n                return getVar(\"test-decompress\", \"0\").length\n            }\n        },\n        exec: (input) => {\n            eval(request(ZipTool.dependence))\n// LZString.decompressFromEncodedURIComponent\n            let result = LZString.decompressFromEncodedURIComponent(input)\n            return result\n        }\n    }\n}"},{"col_type":"movie_3","name":"LZMA","path":"lzma","rule":"js:\n/*\nhttps://cdn.jsdelivr.net/npm/lzma@2.3.2/src/lzma_worker-min.js\n*/\nlet compression_mode = 1;\n\nlet lzStringTool = JSON.parse(request('hiker://page/lz-string-tool?rule=字符串压缩测试')).rule;\nlet ZipTool = {\n    compress: {\n        key: \"test-compress-size\",\n        size: {\n            set: (newValue) => {\n                try {\n                    fba.putVar(this.key, newValue.toString())\n                } catch(e) {\n                    putVar(this.key, newValue.toString())\n                }\n            },\n            get: () => {\n                try {\n                    return parseInt(fba.getVar(this.key, \"0\"))\n                } catch(e) {\n                    return parseInt(getVar(this.key, \"0\"))\n                }\n            }\n        },\n        exec: (input) => {\n            putVar(\"test-compress\", \"\")\n            // showLoading(\"压缩中，请稍候...\")\n            return $().x5Lazy((input, mode, stringTool, ZipTool) => {\n                let dependent = 'https://cdn.jsdelivr.net/npm/lzma@2.3.2/src/lzma_worker-min.js'\n                eval(fba.fetch(dependent))\n                eval(stringTool)\n                // fba.log(\"input: \" + input)\n                LZMA.compress(input, mode,\n                    (result) => {\n                        if (fba.getVar(\"test-compress\")) return\n                        // fba.log(\"result: \" + convert_to_formated_hex(result))\n                        ZipTool.compress.size.set(result.length)\n                        fba.putVar(\"test-compress\", convert_formated_hex_to_string(convert_to_formated_hex(result)))\n                        // fba.hideLoading()\n                        // fba.log(\"compress: \" + fba.getVar(\"test-compress\"))\n                    },\n                    (progress) => {\n                        // fba.log(\"progress: \" + progress*100 + \"%\")\n                    })\n                if (fba.getVar(\"test-compress\")) {\n                    fba.refreshPage(false)\n                    return 'toast://压缩成功'\n                }\n            }, input, compression_mode, lzStringTool, ZipTool)\n        },\n    },\n    decompress: {\n        size: {\n            get: () => {\n                try {\n                    return fba.getVar(\"test-decompress\", \"0\").length\n                } catch(e) {\n                    return getVar(\"test-decompress\", \"0\").length\n                }\n            }\n        },\n        exec: (input) => {\n            putVar(\"test-decompress\", \"\")\n            // showLoading(\"解压中，请稍候...\")\n            return $().x5Lazy((input, stringTool) => {\n                let dependent = 'https://cdn.jsdelivr.net/npm/lzma@2.3.2/src/lzma_worker-min.js'\n                eval(fba.fetch(dependent))\n                eval(stringTool)\n                input = convert_formated_hex_to_bytes(convert_string_to_hex(input))\n                // fba.log(\"input: \" + input)\n                LZMA.decompress(input,\n                    (result) => {\n                        if (fba.getVar(\"test-decompress\")) return\n                        // fba.log(\"result: \" + result)\n                        fba.putVar(\"test-decompress\", result)\n                        // fba.log(\"decompress: \" + fba.getVar(\"test-decompress\"))\n                    },\n                    (progress) => {\n                        // fba.log(\"progress: \" + progress*100 + \"%\")\n                    })\n                if (fba.getVar(\"test-decompress\")) {\n                    fba.refreshPage(false)\n                    return 'toast://解压成功'\n                }\n            }, input, lzStringTool)\n        },\n    }\n}"},{"col_type":"movie_3","name":"GZip","path":"gzip","rule":"js:\n/*\n通过 pako 实现\n\nhttps://qastack.cn/programming/294297/javascript-implementation-of-gzip\n\nhttps://www.zhihu.com/question/53169830\n\nhttp://blog.ideacome.com/2021/07/01/gzipya-suo-de-lz77suan-fa-he-ha-fu-man-bian-ma-shi-xian-yuan-li/amp/\n\nhttp://qiutianaimeili.com/html/page/2019/12/bncs8g07hcg.html\n*/\nlet ZipTool = {\n    compress: {\n        size: {\n            key: \"test-compress-size\",\n            set: (newValue) => {\n                putVar(this.key, newValue.toString())\n            },\n            get: () => {\n                return parseInt(getVar(this.key, \"0\"))\n            }\n        },\n        exec: (input) => {\n            let result = pako.gzip(input, {\n                to: \"string\"\n            })\n            ZipTool.compress.size.set(result.length)\n            return result\n        }\n    },\n    decompress: {\n        size: {\n            get: () => {\n                return getVar(\"test-decompress\", \"0\").length\n            }\n        },\n        exec: (input) => {\n            let result = pako.ungzip(input, {\n                to: \"string\"\n            })\n            return result\n        }\n    }\n}\n!function(t){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).pako=t()}}(function(){return function r(s,o,l){function h(e,t){if(!o[e]){if(!s[e]){var a=\"function\"==typeof require&&require;if(!t&&a)return a(e,!0);if(d)return d(e,!0);var i=new Error(\"Cannot find module '\"+e+\"'\");throw i.code=\"MODULE_NOT_FOUND\",i}var n=o[e]={exports:{}};s[e][0].call(n.exports,function(t){return h(s[e][1][t]||t)},n,n.exports,r,s,o,l)}return o[e].exports}for(var d=\"function\"==typeof require&&require,t=0;t<l.length;t++)h(l[t]);return h}({1:[function(t,e,a){\"use strict\";var s=t(\"./zlib/deflate\"),o=t(\"./utils/common\"),l=t(\"./utils/strings\"),n=t(\"./zlib/messages\"),r=t(\"./zlib/zstream\"),h=Object.prototype.toString,d=0,f=-1,_=0,u=8;function c(t){if(!(this instanceof c))return new c(t);this.options=o.assign({level:f,method:u,chunkSize:16384,windowBits:15,memLevel:8,strategy:_,to:\"\"},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new r,this.strm.avail_out=0;var a=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==d)throw new Error(n[a]);if(e.header&&s.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i=\"string\"==typeof e.dictionary?l.string2buf(e.dictionary):\"[object ArrayBuffer]\"===h.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(a=s.deflateSetDictionary(this.strm,i))!==d)throw new Error(n[a]);this._dict_set=!0}}function i(t,e){var a=new c(e);if(a.push(t,!0),a.err)throw a.msg||n[a.err];return a.result}c.prototype.push=function(t,e){var a,i,n=this.strm,r=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:!0===e?4:0,\"string\"==typeof t?n.input=l.string2buf(t):\"[object ArrayBuffer]\"===h.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new o.Buf8(r),n.next_out=0,n.avail_out=r),1!==(a=s.deflate(n,i))&&a!==d)return this.onEnd(a),!(this.ended=!0);0!==n.avail_out&&(0!==n.avail_in||4!==i&&2!==i)||(\"string\"===this.options.to?this.onData(l.buf2binstring(o.shrinkBuf(n.output,n.next_out))):this.onData(o.shrinkBuf(n.output,n.next_out)))}while((0<n.avail_in||0===n.avail_out)&&1!==a);return 4===i?(a=s.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===d):2!==i||(this.onEnd(d),!(n.avail_out=0))},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){t===d&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},a.Deflate=c,a.deflate=i,a.deflateRaw=function(t,e){return(e=e||{}).raw=!0,i(t,e)},a.gzip=function(t,e){return(e=e||{}).gzip=!0,i(t,e)}},{\"./utils/common\":3,\"./utils/strings\":4,\"./zlib/deflate\":8,\"./zlib/messages\":13,\"./zlib/zstream\":15}],2:[function(t,e,a){\"use strict\";var f=t(\"./zlib/inflate\"),_=t(\"./utils/common\"),u=t(\"./utils/strings\"),c=t(\"./zlib/constants\"),i=t(\"./zlib/messages\"),n=t(\"./zlib/zstream\"),r=t(\"./zlib/gzheader\"),b=Object.prototype.toString;function s(t){if(!(this instanceof s))return new s(t);this.options=_.assign({chunkSize:16384,windowBits:0,to:\"\"},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new n,this.strm.avail_out=0;var a=f.inflateInit2(this.strm,e.windowBits);if(a!==c.Z_OK)throw new Error(i[a]);if(this.header=new r,f.inflateGetHeader(this.strm,this.header),e.dictionary&&(\"string\"==typeof e.dictionary?e.dictionary=u.string2buf(e.dictionary):\"[object ArrayBuffer]\"===b.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(a=f.inflateSetDictionary(this.strm,e.dictionary))!==c.Z_OK))throw new Error(i[a])}function o(t,e){var a=new s(e);if(a.push(t,!0),a.err)throw a.msg||i[a.err];return a.result}s.prototype.push=function(t,e){var a,i,n,r,s,o=this.strm,l=this.options.chunkSize,h=this.options.dictionary,d=!1;if(this.ended)return!1;i=e===~~e?e:!0===e?c.Z_FINISH:c.Z_NO_FLUSH,\"string\"==typeof t?o.input=u.binstring2buf(t):\"[object ArrayBuffer]\"===b.call(t)?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new _.Buf8(l),o.next_out=0,o.avail_out=l),(a=f.inflate(o,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&h&&(a=f.inflateSetDictionary(this.strm,h)),a===c.Z_BUF_ERROR&&!0===d&&(a=c.Z_OK,d=!1),a!==c.Z_STREAM_END&&a!==c.Z_OK)return this.onEnd(a),!(this.ended=!0);o.next_out&&(0!==o.avail_out&&a!==c.Z_STREAM_END&&(0!==o.avail_in||i!==c.Z_FINISH&&i!==c.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(n=u.utf8border(o.output,o.next_out),r=o.next_out-n,s=u.buf2string(o.output,n),o.next_out=r,o.avail_out=l-r,r&&_.arraySet(o.output,o.output,n,r,0),this.onData(s)):this.onData(_.shrinkBuf(o.output,o.next_out)))),0===o.avail_in&&0===o.avail_out&&(d=!0)}while((0<o.avail_in||0===o.avail_out)&&a!==c.Z_STREAM_END);return a===c.Z_STREAM_END&&(i=c.Z_FINISH),i===c.Z_FINISH?(a=f.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===c.Z_OK):i!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(o.avail_out=0))},s.prototype.onData=function(t){this.chunks.push(t)},s.prototype.onEnd=function(t){t===c.Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=_.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},a.Inflate=s,a.inflate=o,a.inflateRaw=function(t,e){return(e=e||{}).raw=!0,o(t,e)},a.ungzip=o},{\"./utils/common\":3,\"./utils/strings\":4,\"./zlib/constants\":6,\"./zlib/gzheader\":9,\"./zlib/inflate\":11,\"./zlib/messages\":13,\"./zlib/zstream\":15}],3:[function(t,e,a){\"use strict\";var i=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;a.assign=function(t){for(var e,a,i=Array.prototype.slice.call(arguments,1);i.length;){var n=i.shift();if(n){if(\"object\"!=typeof n)throw new TypeError(n+\"must be non-object\");for(var r in n)e=n,a=r,Object.prototype.hasOwnProperty.call(e,a)&&(t[r]=n[r])}}return t},a.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,a,i,n){if(e.subarray&&t.subarray)t.set(e.subarray(a,a+i),n);else for(var r=0;r<i;r++)t[n+r]=e[a+r]},flattenChunks:function(t){var e,a,i,n,r,s;for(e=i=0,a=t.length;e<a;e++)i+=t[e].length;for(s=new Uint8Array(i),e=n=0,a=t.length;e<a;e++)r=t[e],s.set(r,n),n+=r.length;return s}},r={arraySet:function(t,e,a,i,n){for(var r=0;r<i;r++)t[n+r]=e[a+r]},flattenChunks:function(t){return[].concat.apply([],t)}};a.setTyped=function(t){t?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,n)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,r))},a.setTyped(i)},{}],4:[function(t,e,a){\"use strict\";var l=t(\"./common\"),n=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(t){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){r=!1}for(var h=new l.Buf8(256),i=0;i<256;i++)h[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;function d(t,e){if(e<65534&&(t.subarray&&r||!t.subarray&&n))return String.fromCharCode.apply(null,l.shrinkBuf(t,e));for(var a=\"\",i=0;i<e;i++)a+=String.fromCharCode(t[i]);return a}h[254]=h[254]=1,a.string2buf=function(t){var e,a,i,n,r,s=t.length,o=0;for(n=0;n<s;n++)55296==(64512&(a=t.charCodeAt(n)))&&n+1<s&&56320==(64512&(i=t.charCodeAt(n+1)))&&(a=65536+(a-55296<<10)+(i-56320),n++),o+=a<128?1:a<2048?2:a<65536?3:4;for(e=new l.Buf8(o),n=r=0;r<o;n++)55296==(64512&(a=t.charCodeAt(n)))&&n+1<s&&56320==(64512&(i=t.charCodeAt(n+1)))&&(a=65536+(a-55296<<10)+(i-56320),n++),a<128?e[r++]=a:(a<2048?e[r++]=192|a>>>6:(a<65536?e[r++]=224|a>>>12:(e[r++]=240|a>>>18,e[r++]=128|a>>>12&63),e[r++]=128|a>>>6&63),e[r++]=128|63&a);return e},a.buf2binstring=function(t){return d(t,t.length)},a.binstring2buf=function(t){for(var e=new l.Buf8(t.length),a=0,i=e.length;a<i;a++)e[a]=t.charCodeAt(a);return e},a.buf2string=function(t,e){var a,i,n,r,s=e||t.length,o=new Array(2*s);for(a=i=0;a<s;)if((n=t[a++])<128)o[i++]=n;else if(4<(r=h[n]))o[i++]=65533,a+=r-1;else{for(n&=2===r?31:3===r?15:7;1<r&&a<s;)n=n<<6|63&t[a++],r--;1<r?o[i++]=65533:n<65536?o[i++]=n:(n-=65536,o[i++]=55296|n>>10&1023,o[i++]=56320|1023&n)}return d(o,i)},a.utf8border=function(t,e){var a;for((e=e||t.length)>t.length&&(e=t.length),a=e-1;0<=a&&128==(192&t[a]);)a--;return a<0?e:0===a?e:a+h[t[a]]>e?a:e}},{\"./common\":3}],5:[function(t,e,a){\"use strict\";e.exports=function(t,e,a,i){for(var n=65535&t|0,r=t>>>16&65535|0,s=0;0!==a;){for(a-=s=2e3<a?2e3:a;r=r+(n=n+e[i++]|0)|0,--s;);n%=65521,r%=65521}return n|r<<16|0}},{}],6:[function(t,e,a){\"use strict\";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(t,e,a){\"use strict\";var o=function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}();e.exports=function(t,e,a,i){var n=o,r=i+a;t^=-1;for(var s=i;s<r;s++)t=t>>>8^n[255&(t^e[s])];return-1^t}},{}],8:[function(t,e,a){\"use strict\";var l,_=t(\"../utils/common\"),h=t(\"./trees\"),u=t(\"./adler32\"),c=t(\"./crc32\"),i=t(\"./messages\"),d=0,f=4,b=0,g=-2,m=-1,w=4,n=2,p=8,v=9,r=286,s=30,o=19,k=2*r+1,y=15,x=3,z=258,B=z+x+1,S=42,E=113,A=1,Z=2,R=3,C=4;function N(t,e){return t.msg=i[e],e}function O(t){return(t<<1)-(4<t?9:0)}function D(t){for(var e=t.length;0<=--e;)t[e]=0}function I(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(_.arraySet(t.output,e.pending_buf,e.pending_out,a,t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))}function U(t,e){h._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,I(t.strm)}function T(t,e){t.pending_buf[t.pending++]=e}function F(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function L(t,e){var a,i,n=t.max_chain_length,r=t.strstart,s=t.prev_length,o=t.nice_match,l=t.strstart>t.w_size-B?t.strstart-(t.w_size-B):0,h=t.window,d=t.w_mask,f=t.prev,_=t.strstart+z,u=h[r+s-1],c=h[r+s];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(h[(a=e)+s]===c&&h[a+s-1]===u&&h[a]===h[r]&&h[++a]===h[r+1]){r+=2,a++;do{}while(h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&r<_);if(i=z-(_-r),r=_-z,s<i){if(t.match_start=e,o<=(s=i))break;u=h[r+s-1],c=h[r+s]}}}while((e=f[e&d])>l&&0!=--n);return s<=t.lookahead?s:t.lookahead}function H(t){var e,a,i,n,r,s,o,l,h,d,f=t.w_size;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=f+(f-B)){for(_.arraySet(t.window,t.window,f,f,0),t.match_start-=f,t.strstart-=f,t.block_start-=f,e=a=t.hash_size;i=t.head[--e],t.head[e]=f<=i?i-f:0,--a;);for(e=a=f;i=t.prev[--e],t.prev[e]=f<=i?i-f:0,--a;);n+=f}if(0===t.strm.avail_in)break;if(s=t.strm,o=t.window,l=t.strstart+t.lookahead,h=n,d=void 0,d=s.avail_in,h<d&&(d=h),a=0===d?0:(s.avail_in-=d,_.arraySet(o,s.input,s.next_in,d,l),1===s.state.wrap?s.adler=u(s.adler,o,d,l):2===s.state.wrap&&(s.adler=c(s.adler,o,d,l)),s.next_in+=d,s.total_in+=d,d),t.lookahead+=a,t.lookahead+t.insert>=x)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+x-1])&t.hash_mask,t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<x)););}while(t.lookahead<B&&0!==t.strm.avail_in)}function j(t,e){for(var a,i;;){if(t.lookahead<B){if(H(t),t.lookahead<B&&e===d)return A;if(0===t.lookahead)break}if(a=0,t.lookahead>=x&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-B&&(t.match_length=L(t,a)),t.match_length>=x)if(i=h._tr_tally(t,t.strstart-t.match_start,t.match_length-x),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=x){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=h._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(U(t,!1),0===t.strm.avail_out))return A}return t.insert=t.strstart<x-1?t.strstart:x-1,e===f?(U(t,!0),0===t.strm.avail_out?R:C):t.last_lit&&(U(t,!1),0===t.strm.avail_out)?A:Z}function K(t,e){for(var a,i,n;;){if(t.lookahead<B){if(H(t),t.lookahead<B&&e===d)return A;if(0===t.lookahead)break}if(a=0,t.lookahead>=x&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=x-1,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-B&&(t.match_length=L(t,a),t.match_length<=5&&(1===t.strategy||t.match_length===x&&4096<t.strstart-t.match_start)&&(t.match_length=x-1)),t.prev_length>=x&&t.match_length<=t.prev_length){for(n=t.strstart+t.lookahead-x,i=h._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-x),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=x-1,t.strstart++,i&&(U(t,!1),0===t.strm.avail_out))return A}else if(t.match_available){if((i=h._tr_tally(t,0,t.window[t.strstart-1]))&&U(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return A}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=h._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<x-1?t.strstart:x-1,e===f?(U(t,!0),0===t.strm.avail_out?R:C):t.last_lit&&(U(t,!1),0===t.strm.avail_out)?A:Z}function M(t,e,a,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=i,this.func=n}function P(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=p,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new _.Buf16(2*k),this.dyn_dtree=new _.Buf16(2*(2*s+1)),this.bl_tree=new _.Buf16(2*(2*o+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new _.Buf16(y+1),this.heap=new _.Buf16(2*r+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new _.Buf16(2*r+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Y(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=n,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?S:E,t.adler=2===e.wrap?0:1,e.last_flush=d,h._tr_init(e),b):N(t,g)}function q(t){var e,a=Y(t);return a===b&&((e=t.state).window_size=2*e.w_size,D(e.head),e.max_lazy_match=l[e.level].max_lazy,e.good_match=l[e.level].good_length,e.nice_match=l[e.level].nice_length,e.max_chain_length=l[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=x-1,e.match_available=0,e.ins_h=0),a}function G(t,e,a,i,n,r){if(!t)return g;var s=1;if(e===m&&(e=6),i<0?(s=0,i=-i):15<i&&(s=2,i-=16),n<1||v<n||a!==p||i<8||15<i||e<0||9<e||r<0||w<r)return N(t,g);8===i&&(i=9);var o=new P;return(t.state=o).strm=t,o.wrap=s,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=n+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+x-1)/x),o.window=new _.Buf8(2*o.w_size),o.head=new _.Buf16(o.hash_size),o.prev=new _.Buf16(o.w_size),o.lit_bufsize=1<<n+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new _.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=e,o.strategy=r,o.method=a,q(t)}l=[new M(0,0,0,0,function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(H(t),0===t.lookahead&&e===d)return A;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+a;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,U(t,!1),0===t.strm.avail_out))return A;if(t.strstart-t.block_start>=t.w_size-B&&(U(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===f?(U(t,!0),0===t.strm.avail_out?R:C):(t.strstart>t.block_start&&(U(t,!1),t.strm.avail_out),A)}),new M(4,4,8,4,j),new M(4,5,16,8,j),new M(4,6,32,32,j),new M(4,4,16,16,K),new M(8,16,32,32,K),new M(8,16,128,128,K),new M(8,32,128,256,K),new M(32,128,258,1024,K),new M(32,258,258,4096,K)],a.deflateInit=function(t,e){return G(t,e,p,15,8,0)},a.deflateInit2=G,a.deflateReset=q,a.deflateResetKeep=Y,a.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?g:(t.state.gzhead=e,b):g},a.deflate=function(t,e){var a,i,n,r;if(!t||!t.state||5<e||e<0)return t?N(t,g):g;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&e!==f)return N(t,0===t.avail_out?-5:g);if(i.strm=t,a=i.last_flush,i.last_flush=e,i.status===S)if(2===i.wrap)t.adler=0,T(i,31),T(i,139),T(i,8),i.gzhead?(T(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),T(i,255&i.gzhead.time),T(i,i.gzhead.time>>8&255),T(i,i.gzhead.time>>16&255),T(i,i.gzhead.time>>24&255),T(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),T(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(T(i,255&i.gzhead.extra.length),T(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=c(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(T(i,0),T(i,0),T(i,0),T(i,0),T(i,0),T(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),T(i,3),i.status=E);else{var s=p+(i.w_bits-8<<4)<<8;s|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(s|=32),s+=31-s%31,i.status=E,F(i,s),0!==i.strstart&&(F(i,t.adler>>>16),F(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>n&&(t.adler=c(t.adler,i.pending_buf,i.pending-n,n)),I(t),n=i.pending,i.pending!==i.pending_buf_size));)T(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(t.adler=c(t.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(t.adler=c(t.adler,i.pending_buf,i.pending-n,n)),I(t),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}T(i,r=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(t.adler=c(t.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(t.adler=c(t.adler,i.pending_buf,i.pending-n,n)),I(t),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}T(i,r=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(t.adler=c(t.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&I(t),i.pending+2<=i.pending_buf_size&&(T(i,255&t.adler),T(i,t.adler>>8&255),t.adler=0,i.status=E)):i.status=E),0!==i.pending){if(I(t),0===t.avail_out)return i.last_flush=-1,b}else if(0===t.avail_in&&O(e)<=O(a)&&e!==f)return N(t,-5);if(666===i.status&&0!==t.avail_in)return N(t,-5);if(0!==t.avail_in||0!==i.lookahead||e!==d&&666!==i.status){var o=2===i.strategy?function(t,e){for(var a;;){if(0===t.lookahead&&(H(t),0===t.lookahead)){if(e===d)return A;break}if(t.match_length=0,a=h._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(U(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===f?(U(t,!0),0===t.strm.avail_out?R:C):t.last_lit&&(U(t,!1),0===t.strm.avail_out)?A:Z}(i,e):3===i.strategy?function(t,e){for(var a,i,n,r,s=t.window;;){if(t.lookahead<=z){if(H(t),t.lookahead<=z&&e===d)return A;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=x&&0<t.strstart&&(i=s[n=t.strstart-1])===s[++n]&&i===s[++n]&&i===s[++n]){r=t.strstart+z;do{}while(i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&n<r);t.match_length=z-(r-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=x?(a=h._tr_tally(t,1,t.match_length-x),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=h._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(U(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===f?(U(t,!0),0===t.strm.avail_out?R:C):t.last_lit&&(U(t,!1),0===t.strm.avail_out)?A:Z}(i,e):l[i.level].func(i,e);if(o!==R&&o!==C||(i.status=666),o===A||o===R)return 0===t.avail_out&&(i.last_flush=-1),b;if(o===Z&&(1===e?h._tr_align(i):5!==e&&(h._tr_stored_block(i,0,0,!1),3===e&&(D(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),I(t),0===t.avail_out))return i.last_flush=-1,b}return e!==f?b:i.wrap<=0?1:(2===i.wrap?(T(i,255&t.adler),T(i,t.adler>>8&255),T(i,t.adler>>16&255),T(i,t.adler>>24&255),T(i,255&t.total_in),T(i,t.total_in>>8&255),T(i,t.total_in>>16&255),T(i,t.total_in>>24&255)):(F(i,t.adler>>>16),F(i,65535&t.adler)),I(t),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?b:1)},a.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==S&&69!==e&&73!==e&&91!==e&&103!==e&&e!==E&&666!==e?N(t,g):(t.state=null,e===E?N(t,-3):b):g},a.deflateSetDictionary=function(t,e){var a,i,n,r,s,o,l,h,d=e.length;if(!t||!t.state)return g;if(2===(r=(a=t.state).wrap)||1===r&&a.status!==S||a.lookahead)return g;for(1===r&&(t.adler=u(t.adler,e,d,0)),a.wrap=0,d>=a.w_size&&(0===r&&(D(a.head),a.strstart=0,a.block_start=0,a.insert=0),h=new _.Buf8(a.w_size),_.arraySet(h,e,d-a.w_size,a.w_size,0),e=h,d=a.w_size),s=t.avail_in,o=t.next_in,l=t.input,t.avail_in=d,t.next_in=0,t.input=e,H(a);a.lookahead>=x;){for(i=a.strstart,n=a.lookahead-(x-1);a.ins_h=(a.ins_h<<a.hash_shift^a.window[i+x-1])&a.hash_mask,a.prev[i&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=i,i++,--n;);a.strstart=i,a.lookahead=x-1,H(a)}return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=x-1,a.match_available=0,t.next_in=o,t.input=l,t.avail_in=s,a.wrap=r,b},a.deflateInfo=\"pako deflate (from Nodeca project)\"},{\"../utils/common\":3,\"./adler32\":5,\"./crc32\":7,\"./messages\":13,\"./trees\":14}],9:[function(t,e,a){\"use strict\";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}},{}],10:[function(t,e,a){\"use strict\";e.exports=function(t,e){var a,i,n,r,s,o,l,h,d,f,_,u,c,b,g,m,w,p,v,k,y,x,z,B,S;a=t.state,i=t.next_in,B=t.input,n=i+(t.avail_in-5),r=t.next_out,S=t.output,s=r-(e-t.avail_out),o=r+(t.avail_out-257),l=a.dmax,h=a.wsize,d=a.whave,f=a.wnext,_=a.window,u=a.hold,c=a.bits,b=a.lencode,g=a.distcode,m=(1<<a.lenbits)-1,w=(1<<a.distbits)-1;t:do{c<15&&(u+=B[i++]<<c,c+=8,u+=B[i++]<<c,c+=8),p=b[u&m];e:for(;;){if(u>>>=v=p>>>24,c-=v,0===(v=p>>>16&255))S[r++]=65535&p;else{if(!(16&v)){if(0==(64&v)){p=b[(65535&p)+(u&(1<<v)-1)];continue e}if(32&v){a.mode=12;break t}t.msg=\"invalid literal/length code\",a.mode=30;break t}k=65535&p,(v&=15)&&(c<v&&(u+=B[i++]<<c,c+=8),k+=u&(1<<v)-1,u>>>=v,c-=v),c<15&&(u+=B[i++]<<c,c+=8,u+=B[i++]<<c,c+=8),p=g[u&w];a:for(;;){if(u>>>=v=p>>>24,c-=v,!(16&(v=p>>>16&255))){if(0==(64&v)){p=g[(65535&p)+(u&(1<<v)-1)];continue a}t.msg=\"invalid distance code\",a.mode=30;break t}if(y=65535&p,c<(v&=15)&&(u+=B[i++]<<c,(c+=8)<v&&(u+=B[i++]<<c,c+=8)),l<(y+=u&(1<<v)-1)){t.msg=\"invalid distance too far back\",a.mode=30;break t}if(u>>>=v,c-=v,(v=r-s)<y){if(d<(v=y-v)&&a.sane){t.msg=\"invalid distance too far back\",a.mode=30;break t}if(z=_,(x=0)===f){if(x+=h-v,v<k){for(k-=v;S[r++]=_[x++],--v;);x=r-y,z=S}}else if(f<v){if(x+=h+f-v,(v-=f)<k){for(k-=v;S[r++]=_[x++],--v;);if(x=0,f<k){for(k-=v=f;S[r++]=_[x++],--v;);x=r-y,z=S}}}else if(x+=f-v,v<k){for(k-=v;S[r++]=_[x++],--v;);x=r-y,z=S}for(;2<k;)S[r++]=z[x++],S[r++]=z[x++],S[r++]=z[x++],k-=3;k&&(S[r++]=z[x++],1<k&&(S[r++]=z[x++]))}else{for(x=r-y;S[r++]=S[x++],S[r++]=S[x++],S[r++]=S[x++],2<(k-=3););k&&(S[r++]=S[x++],1<k&&(S[r++]=S[x++]))}break}}break}}while(i<n&&r<o);i-=k=c>>3,u&=(1<<(c-=k<<3))-1,t.next_in=i,t.next_out=r,t.avail_in=i<n?n-i+5:5-(i-n),t.avail_out=r<o?o-r+257:257-(r-o),a.hold=u,a.bits=c}},{}],11:[function(t,e,a){\"use strict\";var Z=t(\"../utils/common\"),R=t(\"./adler32\"),C=t(\"./crc32\"),N=t(\"./inffast\"),O=t(\"./inftrees\"),D=1,I=2,U=0,T=-2,F=1,i=852,n=592;function L(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Z.Buf16(320),this.work=new Z.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function s(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg=\"\",e.wrap&&(t.adler=1&e.wrap),e.mode=F,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Z.Buf32(i),e.distcode=e.distdyn=new Z.Buf32(n),e.sane=1,e.back=-1,U):T}function o(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,s(t)):T}function l(t,e){var a,i;return t&&t.state?(i=t.state,e<0?(a=0,e=-e):(a=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?T:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=a,i.wbits=e,o(t))):T}function h(t,e){var a,i;return t?(i=new r,(t.state=i).window=null,(a=l(t,e))!==U&&(t.state=null),a):T}var d,f,_=!0;function H(t){if(_){var e;for(d=new Z.Buf32(512),f=new Z.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(O(D,t.lens,0,288,d,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;O(I,t.lens,0,32,f,0,t.work,{bits:5}),_=!1}t.lencode=d,t.lenbits=9,t.distcode=f,t.distbits=5}function j(t,e,a,i){var n,r=t.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Z.Buf8(r.wsize)),i>=r.wsize?(Z.arraySet(r.window,e,a-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):(i<(n=r.wsize-r.wnext)&&(n=i),Z.arraySet(r.window,e,a-i,n,r.wnext),(i-=n)?(Z.arraySet(r.window,e,a-i,i,0),r.wnext=i,r.whave=r.wsize):(r.wnext+=n,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=n))),0}a.inflateReset=o,a.inflateReset2=l,a.inflateResetKeep=s,a.inflateInit=function(t){return h(t,15)},a.inflateInit2=h,a.inflate=function(t,e){var a,i,n,r,s,o,l,h,d,f,_,u,c,b,g,m,w,p,v,k,y,x,z,B,S=0,E=new Z.Buf8(4),A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return T;12===(a=t.state).mode&&(a.mode=13),s=t.next_out,n=t.output,l=t.avail_out,r=t.next_in,i=t.input,o=t.avail_in,h=a.hold,d=a.bits,f=o,_=l,x=U;t:for(;;)switch(a.mode){case F:if(0===a.wrap){a.mode=13;break}for(;d<16;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(2&a.wrap&&35615===h){E[a.check=0]=255&h,E[1]=h>>>8&255,a.check=C(a.check,E,2,0),d=h=0,a.mode=2;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg=\"incorrect header check\",a.mode=30;break}if(8!=(15&h)){t.msg=\"unknown compression method\",a.mode=30;break}if(d-=4,y=8+(15&(h>>>=4)),0===a.wbits)a.wbits=y;else if(y>a.wbits){t.msg=\"invalid window size\",a.mode=30;break}a.dmax=1<<y,t.adler=a.check=1,a.mode=512&h?10:12,d=h=0;break;case 2:for(;d<16;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(a.flags=h,8!=(255&a.flags)){t.msg=\"unknown compression method\",a.mode=30;break}if(57344&a.flags){t.msg=\"unknown header flags set\",a.mode=30;break}a.head&&(a.head.text=h>>8&1),512&a.flags&&(E[0]=255&h,E[1]=h>>>8&255,a.check=C(a.check,E,2,0)),d=h=0,a.mode=3;case 3:for(;d<32;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}a.head&&(a.head.time=h),512&a.flags&&(E[0]=255&h,E[1]=h>>>8&255,E[2]=h>>>16&255,E[3]=h>>>24&255,a.check=C(a.check,E,4,0)),d=h=0,a.mode=4;case 4:for(;d<16;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}a.head&&(a.head.xflags=255&h,a.head.os=h>>8),512&a.flags&&(E[0]=255&h,E[1]=h>>>8&255,a.check=C(a.check,E,2,0)),d=h=0,a.mode=5;case 5:if(1024&a.flags){for(;d<16;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}a.length=h,a.head&&(a.head.extra_len=h),512&a.flags&&(E[0]=255&h,E[1]=h>>>8&255,a.check=C(a.check,E,2,0)),d=h=0}else a.head&&(a.head.extra=null);a.mode=6;case 6:if(1024&a.flags&&(o<(u=a.length)&&(u=o),u&&(a.head&&(y=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Array(a.head.extra_len)),Z.arraySet(a.head.extra,i,r,u,y)),512&a.flags&&(a.check=C(a.check,i,u,r)),o-=u,r+=u,a.length-=u),a.length))break t;a.length=0,a.mode=7;case 7:if(2048&a.flags){if(0===o)break t;for(u=0;y=i[r+u++],a.head&&y&&a.length<65536&&(a.head.name+=String.fromCharCode(y)),y&&u<o;);if(512&a.flags&&(a.check=C(a.check,i,u,r)),o-=u,r+=u,y)break t}else a.head&&(a.head.name=null);a.length=0,a.mode=8;case 8:if(4096&a.flags){if(0===o)break t;for(u=0;y=i[r+u++],a.head&&y&&a.length<65536&&(a.head.comment+=String.fromCharCode(y)),y&&u<o;);if(512&a.flags&&(a.check=C(a.check,i,u,r)),o-=u,r+=u,y)break t}else a.head&&(a.head.comment=null);a.mode=9;case 9:if(512&a.flags){for(;d<16;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(h!==(65535&a.check)){t.msg=\"header crc mismatch\",a.mode=30;break}d=h=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),t.adler=a.check=0,a.mode=12;break;case 10:for(;d<32;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}t.adler=a.check=L(h),d=h=0,a.mode=11;case 11:if(0===a.havedict)return t.next_out=s,t.avail_out=l,t.next_in=r,t.avail_in=o,a.hold=h,a.bits=d,2;t.adler=a.check=1,a.mode=12;case 12:if(5===e||6===e)break t;case 13:if(a.last){h>>>=7&d,d-=7&d,a.mode=27;break}for(;d<3;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}switch(a.last=1&h,d-=1,3&(h>>>=1)){case 0:a.mode=14;break;case 1:if(H(a),a.mode=20,6!==e)break;h>>>=2,d-=2;break t;case 2:a.mode=17;break;case 3:t.msg=\"invalid block type\",a.mode=30}h>>>=2,d-=2;break;case 14:for(h>>>=7&d,d-=7&d;d<32;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if((65535&h)!=(h>>>16^65535)){t.msg=\"invalid stored block lengths\",a.mode=30;break}if(a.length=65535&h,d=h=0,a.mode=15,6===e)break t;case 15:a.mode=16;case 16:if(u=a.length){if(o<u&&(u=o),l<u&&(u=l),0===u)break t;Z.arraySet(n,i,r,u,s),o-=u,r+=u,l-=u,s+=u,a.length-=u;break}a.mode=12;break;case 17:for(;d<14;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(a.nlen=257+(31&h),h>>>=5,d-=5,a.ndist=1+(31&h),h>>>=5,d-=5,a.ncode=4+(15&h),h>>>=4,d-=4,286<a.nlen||30<a.ndist){t.msg=\"too many length or distance symbols\",a.mode=30;break}a.have=0,a.mode=18;case 18:for(;a.have<a.ncode;){for(;d<3;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}a.lens[A[a.have++]]=7&h,h>>>=3,d-=3}for(;a.have<19;)a.lens[A[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,z={bits:a.lenbits},x=O(0,a.lens,0,19,a.lencode,0,a.work,z),a.lenbits=z.bits,x){t.msg=\"invalid code lengths set\",a.mode=30;break}a.have=0,a.mode=19;case 19:for(;a.have<a.nlen+a.ndist;){for(;m=(S=a.lencode[h&(1<<a.lenbits)-1])>>>16&255,w=65535&S,!((g=S>>>24)<=d);){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(w<16)h>>>=g,d-=g,a.lens[a.have++]=w;else{if(16===w){for(B=g+2;d<B;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(h>>>=g,d-=g,0===a.have){t.msg=\"invalid bit length repeat\",a.mode=30;break}y=a.lens[a.have-1],u=3+(3&h),h>>>=2,d-=2}else if(17===w){for(B=g+3;d<B;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}d-=g,y=0,u=3+(7&(h>>>=g)),h>>>=3,d-=3}else{for(B=g+7;d<B;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}d-=g,y=0,u=11+(127&(h>>>=g)),h>>>=7,d-=7}if(a.have+u>a.nlen+a.ndist){t.msg=\"invalid bit length repeat\",a.mode=30;break}for(;u--;)a.lens[a.have++]=y}}if(30===a.mode)break;if(0===a.lens[256]){t.msg=\"invalid code -- missing end-of-block\",a.mode=30;break}if(a.lenbits=9,z={bits:a.lenbits},x=O(D,a.lens,0,a.nlen,a.lencode,0,a.work,z),a.lenbits=z.bits,x){t.msg=\"invalid literal/lengths set\",a.mode=30;break}if(a.distbits=6,a.distcode=a.distdyn,z={bits:a.distbits},x=O(I,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,z),a.distbits=z.bits,x){t.msg=\"invalid distances set\",a.mode=30;break}if(a.mode=20,6===e)break t;case 20:a.mode=21;case 21:if(6<=o&&258<=l){t.next_out=s,t.avail_out=l,t.next_in=r,t.avail_in=o,a.hold=h,a.bits=d,N(t,_),s=t.next_out,n=t.output,l=t.avail_out,r=t.next_in,i=t.input,o=t.avail_in,h=a.hold,d=a.bits,12===a.mode&&(a.back=-1);break}for(a.back=0;m=(S=a.lencode[h&(1<<a.lenbits)-1])>>>16&255,w=65535&S,!((g=S>>>24)<=d);){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(m&&0==(240&m)){for(p=g,v=m,k=w;m=(S=a.lencode[k+((h&(1<<p+v)-1)>>p)])>>>16&255,w=65535&S,!(p+(g=S>>>24)<=d);){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}h>>>=p,d-=p,a.back+=p}if(h>>>=g,d-=g,a.back+=g,a.length=w,0===m){a.mode=26;break}if(32&m){a.back=-1,a.mode=12;break}if(64&m){t.msg=\"invalid literal/length code\",a.mode=30;break}a.extra=15&m,a.mode=22;case 22:if(a.extra){for(B=a.extra;d<B;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}a.length+=h&(1<<a.extra)-1,h>>>=a.extra,d-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=23;case 23:for(;m=(S=a.distcode[h&(1<<a.distbits)-1])>>>16&255,w=65535&S,!((g=S>>>24)<=d);){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(0==(240&m)){for(p=g,v=m,k=w;m=(S=a.distcode[k+((h&(1<<p+v)-1)>>p)])>>>16&255,w=65535&S,!(p+(g=S>>>24)<=d);){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}h>>>=p,d-=p,a.back+=p}if(h>>>=g,d-=g,a.back+=g,64&m){t.msg=\"invalid distance code\",a.mode=30;break}a.offset=w,a.extra=15&m,a.mode=24;case 24:if(a.extra){for(B=a.extra;d<B;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}a.offset+=h&(1<<a.extra)-1,h>>>=a.extra,d-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){t.msg=\"invalid distance too far back\",a.mode=30;break}a.mode=25;case 25:if(0===l)break t;if(u=_-l,a.offset>u){if((u=a.offset-u)>a.whave&&a.sane){t.msg=\"invalid distance too far back\",a.mode=30;break}u>a.wnext?(u-=a.wnext,c=a.wsize-u):c=a.wnext-u,u>a.length&&(u=a.length),b=a.window}else b=n,c=s-a.offset,u=a.length;for(l<u&&(u=l),l-=u,a.length-=u;n[s++]=b[c++],--u;);0===a.length&&(a.mode=21);break;case 26:if(0===l)break t;n[s++]=a.length,l--,a.mode=21;break;case 27:if(a.wrap){for(;d<32;){if(0===o)break t;o--,h|=i[r++]<<d,d+=8}if(_-=l,t.total_out+=_,a.total+=_,_&&(t.adler=a.check=a.flags?C(a.check,n,_,s-_):R(a.check,n,_,s-_)),_=l,(a.flags?h:L(h))!==a.check){t.msg=\"incorrect data check\",a.mode=30;break}d=h=0}a.mode=28;case 28:if(a.wrap&&a.flags){for(;d<32;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(h!==(4294967295&a.total)){t.msg=\"incorrect length check\",a.mode=30;break}d=h=0}a.mode=29;case 29:x=1;break t;case 30:x=-3;break t;case 31:return-4;case 32:default:return T}return t.next_out=s,t.avail_out=l,t.next_in=r,t.avail_in=o,a.hold=h,a.bits=d,(a.wsize||_!==t.avail_out&&a.mode<30&&(a.mode<27||4!==e))&&j(t,t.output,t.next_out,_-t.avail_out)?(a.mode=31,-4):(f-=t.avail_in,_-=t.avail_out,t.total_in+=f,t.total_out+=_,a.total+=_,a.wrap&&_&&(t.adler=a.check=a.flags?C(a.check,n,_,t.next_out-_):R(a.check,n,_,t.next_out-_)),t.data_type=a.bits+(a.last?64:0)+(12===a.mode?128:0)+(20===a.mode||15===a.mode?256:0),(0===f&&0===_||4===e)&&x===U&&(x=-5),x)},a.inflateEnd=function(t){if(!t||!t.state)return T;var e=t.state;return e.window&&(e.window=null),t.state=null,U},a.inflateGetHeader=function(t,e){var a;return t&&t.state?0==(2&(a=t.state).wrap)?T:((a.head=e).done=!1,U):T},a.inflateSetDictionary=function(t,e){var a,i=e.length;return t&&t.state?0!==(a=t.state).wrap&&11!==a.mode?T:11===a.mode&&R(1,e,i,0)!==a.check?-3:j(t,e,i,i)?(a.mode=31,-4):(a.havedict=1,U):T},a.inflateInfo=\"pako inflate (from Nodeca project)\"},{\"../utils/common\":3,\"./adler32\":5,\"./crc32\":7,\"./inffast\":10,\"./inftrees\":12}],12:[function(t,e,a){\"use strict\";var D=t(\"../utils/common\"),I=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],U=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],T=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],F=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,a,i,n,r,s,o){var l,h,d,f,_,u,c,b,g,m=o.bits,w=0,p=0,v=0,k=0,y=0,x=0,z=0,B=0,S=0,E=0,A=null,Z=0,R=new D.Buf16(16),C=new D.Buf16(16),N=null,O=0;for(w=0;w<=15;w++)R[w]=0;for(p=0;p<i;p++)R[e[a+p]]++;for(y=m,k=15;1<=k&&0===R[k];k--);if(k<y&&(y=k),0===k)return n[r++]=20971520,n[r++]=20971520,o.bits=1,0;for(v=1;v<k&&0===R[v];v++);for(y<v&&(y=v),w=B=1;w<=15;w++)if(B<<=1,(B-=R[w])<0)return-1;if(0<B&&(0===t||1!==k))return-1;for(C[1]=0,w=1;w<15;w++)C[w+1]=C[w]+R[w];for(p=0;p<i;p++)0!==e[a+p]&&(s[C[e[a+p]]++]=p);if(0===t?(A=N=s,u=19):1===t?(A=I,Z-=257,N=U,O-=257,u=256):(A=T,N=F,u=-1),w=v,_=r,z=p=E=0,d=-1,f=(S=1<<(x=y))-1,1===t&&852<S||2===t&&592<S)return 1;for(;;){for(c=w-z,s[p]<u?(b=0,g=s[p]):s[p]>u?(b=N[O+s[p]],g=A[Z+s[p]]):(b=96,g=0),l=1<<w-z,v=h=1<<x;n[_+(E>>z)+(h-=l)]=c<<24|b<<16|g|0,0!==h;);for(l=1<<w-1;E&l;)l>>=1;if(0!==l?(E&=l-1,E+=l):E=0,p++,0==--R[w]){if(w===k)break;w=e[a+s[p]]}if(y<w&&(E&f)!==d){for(0===z&&(z=y),_+=v,B=1<<(x=w-z);x+z<k&&!((B-=R[x+z])<=0);)x++,B<<=1;if(S+=1<<x,1===t&&852<S||2===t&&592<S)return 1;n[d=E&f]=y<<24|x<<16|_-r|0}}return 0!==E&&(n[_+E]=w-z<<24|64<<16|0),o.bits=y,0}},{\"../utils/common\":3}],13:[function(t,e,a){\"use strict\";e.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},{}],14:[function(t,e,a){\"use strict\";var l=t(\"../utils/common\"),o=0,h=1;function i(t){for(var e=t.length;0<=--e;)t[e]=0}var d=0,s=29,f=256,_=f+1+s,u=30,c=19,g=2*_+1,m=15,n=16,b=7,w=256,p=16,v=17,k=18,y=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],x=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S=new Array(2*(_+2));i(S);var E=new Array(2*u);i(E);var A=new Array(512);i(A);var Z=new Array(256);i(Z);var R=new Array(s);i(R);var C,N,O,D=new Array(u);function I(t,e,a,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}function r(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function U(t){return t<256?A[t]:A[256+(t>>>7)]}function T(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function F(t,e,a){t.bi_valid>n-a?(t.bi_buf|=e<<t.bi_valid&65535,T(t,t.bi_buf),t.bi_buf=e>>n-t.bi_valid,t.bi_valid+=a-n):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)}function L(t,e,a){F(t,a[2*e],a[2*e+1])}function H(t,e){for(var a=0;a|=1&t,t>>>=1,a<<=1,0<--e;);return a>>>1}function j(t,e,a){var i,n,r=new Array(m+1),s=0;for(i=1;i<=m;i++)r[i]=s=s+a[i-1]<<1;for(n=0;n<=e;n++){var o=t[2*n+1];0!==o&&(t[2*n]=H(r[o]++,o))}}function K(t){var e;for(e=0;e<_;e++)t.dyn_ltree[2*e]=0;for(e=0;e<u;e++)t.dyn_dtree[2*e]=0;for(e=0;e<c;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*w]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function M(t){8<t.bi_valid?T(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function P(t,e,a,i){var n=2*e,r=2*a;return t[n]<t[r]||t[n]===t[r]&&i[e]<=i[a]}function Y(t,e,a){for(var i=t.heap[a],n=a<<1;n<=t.heap_len&&(n<t.heap_len&&P(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!P(e,i,t.heap[n],t.depth));)t.heap[a]=t.heap[n],a=n,n<<=1;t.heap[a]=i}function q(t,e,a){var i,n,r,s,o=0;if(0!==t.last_lit)for(;i=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],n=t.pending_buf[t.l_buf+o],o++,0===i?L(t,n,e):(L(t,(r=Z[n])+f+1,e),0!==(s=y[r])&&F(t,n-=R[r],s),L(t,r=U(--i),a),0!==(s=x[r])&&F(t,i-=D[r],s)),o<t.last_lit;);L(t,w,e)}function G(t,e){var a,i,n,r=e.dyn_tree,s=e.stat_desc.static_tree,o=e.stat_desc.has_stree,l=e.stat_desc.elems,h=-1;for(t.heap_len=0,t.heap_max=g,a=0;a<l;a++)0!==r[2*a]?(t.heap[++t.heap_len]=h=a,t.depth[a]=0):r[2*a+1]=0;for(;t.heap_len<2;)r[2*(n=t.heap[++t.heap_len]=h<2?++h:0)]=1,t.depth[n]=0,t.opt_len--,o&&(t.static_len-=s[2*n+1]);for(e.max_code=h,a=t.heap_len>>1;1<=a;a--)Y(t,r,a);for(n=l;a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Y(t,r,1),i=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=i,r[2*n]=r[2*a]+r[2*i],t.depth[n]=(t.depth[a]>=t.depth[i]?t.depth[a]:t.depth[i])+1,r[2*a+1]=r[2*i+1]=n,t.heap[1]=n++,Y(t,r,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,i,n,r,s,o,l=e.dyn_tree,h=e.max_code,d=e.stat_desc.static_tree,f=e.stat_desc.has_stree,_=e.stat_desc.extra_bits,u=e.stat_desc.extra_base,c=e.stat_desc.max_length,b=0;for(r=0;r<=m;r++)t.bl_count[r]=0;for(l[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<g;a++)c<(r=l[2*l[2*(i=t.heap[a])+1]+1]+1)&&(r=c,b++),l[2*i+1]=r,h<i||(t.bl_count[r]++,s=0,u<=i&&(s=_[i-u]),o=l[2*i],t.opt_len+=o*(r+s),f&&(t.static_len+=o*(d[2*i+1]+s)));if(0!==b){do{for(r=c-1;0===t.bl_count[r];)r--;t.bl_count[r]--,t.bl_count[r+1]+=2,t.bl_count[c]--,b-=2}while(0<b);for(r=c;0!==r;r--)for(i=t.bl_count[r];0!==i;)h<(n=t.heap[--a])||(l[2*n+1]!==r&&(t.opt_len+=(r-l[2*n+1])*l[2*n],l[2*n+1]=r),i--)}}(t,e),j(r,h,t.bl_count)}function X(t,e,a){var i,n,r=-1,s=e[1],o=0,l=7,h=4;for(0===s&&(l=138,h=3),e[2*(a+1)+1]=65535,i=0;i<=a;i++)n=s,s=e[2*(i+1)+1],++o<l&&n===s||(o<h?t.bl_tree[2*n]+=o:0!==n?(n!==r&&t.bl_tree[2*n]++,t.bl_tree[2*p]++):o<=10?t.bl_tree[2*v]++:t.bl_tree[2*k]++,r=n,(o=0)===s?(l=138,h=3):n===s?(l=6,h=3):(l=7,h=4))}function W(t,e,a){var i,n,r=-1,s=e[1],o=0,l=7,h=4;for(0===s&&(l=138,h=3),i=0;i<=a;i++)if(n=s,s=e[2*(i+1)+1],!(++o<l&&n===s)){if(o<h)for(;L(t,n,t.bl_tree),0!=--o;);else 0!==n?(n!==r&&(L(t,n,t.bl_tree),o--),L(t,p,t.bl_tree),F(t,o-3,2)):o<=10?(L(t,v,t.bl_tree),F(t,o-3,3)):(L(t,k,t.bl_tree),F(t,o-11,7));r=n,(o=0)===s?(l=138,h=3):n===s?(l=6,h=3):(l=7,h=4)}}i(D);var J=!1;function Q(t,e,a,i){var n,r,s,o;F(t,(d<<1)+(i?1:0),3),r=e,s=a,o=!0,M(n=t),o&&(T(n,s),T(n,~s)),l.arraySet(n.pending_buf,n.window,r,s,n.pending),n.pending+=s}a._tr_init=function(t){J||(function(){var t,e,a,i,n,r=new Array(m+1);for(i=a=0;i<s-1;i++)for(R[i]=a,t=0;t<1<<y[i];t++)Z[a++]=i;for(Z[a-1]=i,i=n=0;i<16;i++)for(D[i]=n,t=0;t<1<<x[i];t++)A[n++]=i;for(n>>=7;i<u;i++)for(D[i]=n<<7,t=0;t<1<<x[i]-7;t++)A[256+n++]=i;for(e=0;e<=m;e++)r[e]=0;for(t=0;t<=143;)S[2*t+1]=8,t++,r[8]++;for(;t<=255;)S[2*t+1]=9,t++,r[9]++;for(;t<=279;)S[2*t+1]=7,t++,r[7]++;for(;t<=287;)S[2*t+1]=8,t++,r[8]++;for(j(S,_+1,r),t=0;t<u;t++)E[2*t+1]=5,E[2*t]=H(t,5);C=new I(S,y,f+1,_,m),N=new I(E,x,0,u,m),O=new I(new Array(0),z,0,c,b)}(),J=!0),t.l_desc=new r(t.dyn_ltree,C),t.d_desc=new r(t.dyn_dtree,N),t.bl_desc=new r(t.bl_tree,O),t.bi_buf=0,t.bi_valid=0,K(t)},a._tr_stored_block=Q,a._tr_flush_block=function(t,e,a,i){var n,r,s=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return o;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return h;for(e=32;e<f;e++)if(0!==t.dyn_ltree[2*e])return h;return o}(t)),G(t,t.l_desc),G(t,t.d_desc),s=function(t){var e;for(X(t,t.dyn_ltree,t.l_desc.max_code),X(t,t.dyn_dtree,t.d_desc.max_code),G(t,t.bl_desc),e=c-1;3<=e&&0===t.bl_tree[2*B[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),n=t.opt_len+3+7>>>3,(r=t.static_len+3+7>>>3)<=n&&(n=r)):n=r=a+5,a+4<=n&&-1!==e?Q(t,e,a,i):4===t.strategy||r===n?(F(t,2+(i?1:0),3),q(t,S,E)):(F(t,4+(i?1:0),3),function(t,e,a,i){var n;for(F(t,e-257,5),F(t,a-1,5),F(t,i-4,4),n=0;n<i;n++)F(t,t.bl_tree[2*B[n]+1],3);W(t,t.dyn_ltree,e-1),W(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),q(t,t.dyn_ltree,t.dyn_dtree)),K(t),i&&M(t)},a._tr_tally=function(t,e,a){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(Z[a]+f+1)]++,t.dyn_dtree[2*U(e)]++),t.last_lit===t.lit_bufsize-1},a._tr_align=function(t){var e;F(t,2,3),L(t,w,S),16===(e=t).bi_valid?(T(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},{\"../utils/common\":3}],15:[function(t,e,a){\"use strict\";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}},{}],\"/\":[function(t,e,a){\"use strict\";var i={};(0,t(\"./lib/utils/common\").assign)(i,t(\"./lib/deflate\"),t(\"./lib/inflate\"),t(\"./lib/zlib/constants\")),e.exports=i},{\"./lib/deflate\":1,\"./lib/inflate\":2,\"./lib/utils/common\":3,\"./lib/zlib/constants\":6}]},{},[])(\"/\")});"},{"col_type":"movie_3","name":"lz-string字串转换函数","path":"lz-string-tool","rule":"js:\nif (!String.prototype.trim) {\n    String.prototype.trim = function() {\n        return this.replace(/^\\s+|\\s+$/, \"\");\n    }\n}\n\nfunction is_array(input) {\n    return typeof(input) === \"object\" && (input instanceof Array);\n}\n\nfunction convert_formated_hex_to_bytes(hex_str) {\n    var count = 0,\n        hex_arr,\n        hex_data = [],\n        hex_len,\n        i;\n\n    if (hex_str.trim() == \"\") return [];\n\n    /// Check for invalid hex characters.\n    if (/[^0-9a-fA-F\\s]/.test(hex_str)) {\n        return false;\n    }\n\n    hex_arr = hex_str.split(/([0-9a-fA-F]+)/g);\n    hex_len = hex_arr.length;\n\n    for (i = 0; i < hex_len; ++i) {\n        if (hex_arr[i].trim() == \"\") {\n            continue;\n        }\n        hex_data[count++] = parseInt(hex_arr[i], 16);\n    }\n\n    return hex_data;\n}\n\nfunction convert_formated_hex_to_string(s) {\n    var byte_arr = convert_formated_hex_to_bytes(s);\n    var res = \"\";\n    for (var i = 0; i < byte_arr.length; i += 2) {\n        res += String.fromCharCode(byte_arr[i] | (byte_arr[i + 1] << 8));\n    }\n    return res;\n}\n\nfunction convert_string_to_hex(s) {\n    var byte_arr = [];\n    for (var i = 0; i < s.length; i++) {\n        var value = s.charCodeAt(i);\n        byte_arr.push(value & 255);\n        byte_arr.push((value >> 8) & 255);\n    }\n    return convert_to_formated_hex(byte_arr);\n}\n\nfunction convert_to_formated_hex(byte_arr) {\n    var hex_str = \"\",\n        i,\n        len,\n        tmp_hex;\n\n    if (!is_array(byte_arr)) {\n        return false;\n    }\n\n    len = byte_arr.length;\n\n    for (i = 0; i < len; ++i) {\n        if (byte_arr[i] < 0) {\n            byte_arr[i] = byte_arr[i] + 256;\n        }\n        if (byte_arr[i] === undefined) {\n            alert(\"Boom \" + i);\n            byte_arr[i] = 0;\n        }\n        tmp_hex = byte_arr[i].toString(16);\n\n        // Add leading zero.\n        if (tmp_hex.length == 1) tmp_hex = \"0\" + tmp_hex;\n\n        if ((i + 1) % 16 === 0) {\n            tmp_hex += \"\\n\";\n        } else {\n            tmp_hex += \" \";\n        }\n\n        hex_str += tmp_hex;\n    }\n\n    return hex_str.trim();\n}"}],"title":"字符串压缩测试","author":"Reborn","version":9,"url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\ntry { if(fba != null) {} } catch (e) {}\nlet d = []\nd.push({\n    title: '这是一个字符串压缩方法的集合，代码都在子页面<br><br>点击子页面可体验对应方法：',\n    col_type: 'rich_text'\n})\nlet pageList = MY_RULE.pageList.filter(page => !page.name.match(/字符串处理工具|CompressUI|字串转换函数/))\nfor (let page of pageList) {\n    /*let rule = $().rule((page) => {\n        const {\n            htmlEscape\n        } = $.require(\"hiker://page/stringtool\");\n        let d = []\n        d.push({\n            title: htmlEscape(page.rule),\n            col_type: 'rich_text'\n        })\n        setResult(d)\n    }, page)*/\n    let rule = \"hiker://page/compress-ui\"\n    d.push({\n        title: page.name,\n        col_type: 'text_2',\n        url: rule,\n        extra: {\n            title: '算法 ' + page.name,\n            pageRule: page.rule,\n            pagePath: page.path\n        }\n    })\n}\nsetResult(d)","searchFind":"","search_url":"","titleColor":"","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"字符串处理工具\",\"path\":\"stringtool\",\"rule\":\"js:\\nconst matchList  = {\\n  // \\\"<\\\":\\\"&lt;\\\",\\n  // \\\">\\\": \\\"&gt;\\\",\\n  // \\\"&\\\": \\\"&amp;\\\",\\n  // '\\\"': \\\"&quot;\\\",\\n  // \\\"'\\\": \\\"acute;\\\",\\n  \\\" \\\": \\\"&nbsp;\\\",\\n  \\\"\\\\n\\\":\\\"<br>\\\"\\n}\\n// 字符过滤器\\nfunction htmlEscape(text){\\n  let regStr = '(' + Object.keys(matchList).toString() + ')'\\n  regStr = regStr.replace(/,/g, ')|(')  \\n  const regExp = new RegExp(regStr, 'g')\\n  return text.replace(regExp, match => matchList[match])\\n}\\n$.exports.htmlEscape = htmlEscape\"},{\"col_type\":\"movie_3\",\"name\":\"CompressUI\",\"path\":\"compress-ui\",\"rule\":\"js:\\nif (MY_PARAMS.title) {\\n    setPageTitle(MY_PARAMS.title)\\n}\\n\\nlet lzStringTool = JSON.parse(request('hiker://page/lz-string-tool?rule=字符串压缩测试')).rule;\\neval(lzStringTool)\\neval(MY_PARAMS.pageRule)\\n\\nlet d = [];\\nd.push({\\n    title: \\\"压缩\\\",\\n    desc: \\\"请输入原文\\\",\\n    col_type: 'input',\\n    extra: {\\n        // titleVisible: false,\\n        type: \\\"textarea\\\",\\n        height: 4,\\n        defaultValue: getVar(\\\"test-decompress\\\", \\\"\\\"),\\n        onChange: $.toString(() => {\\n            putVar(\\\"test-decompress\\\", input)\\n        })\\n    },\\n    url: $.toString((MY_PARAMS) => {\\n        let inputValue = getVar(\\\"test-decompress\\\", \\\"\\\")\\n        eval(MY_PARAMS.pageRule)\\n        let result = ZipTool.compress.exec(inputValue)\\n        if (result.startsWith(\\\"x5Rule://\\\")) {\\n            return result\\n        }\\n        putVar(\\\"test-compress\\\", result)\\n        // log(result)\\n        refreshPage(false)\\n        return 'toast://压缩成功'\\n    }, MY_PARAMS)\\n})\\nlet d_size = \\n ZipTool.decompress.size.get() *2;\\nlet ds_size = getVar(\\\"test-decompress\\\", \\\"\\\").length\\nlet d_text = '&nbsp;&nbsp;Decompress Size: ' + d_size + ' Bytes' + ', Length: ' + ds_size\\nd.push({\\n    title: d_text,\\n    col_type: 'rich_text'\\n})\\nd.push({\\n    title: \\\"解压\\\",\\n    desc: \\\"请输入密文\\\",\\n    col_type: 'input',\\n    extra: {\\n        // titleVisible: false,\\n        type: \\\"textarea\\\",\\n        height: 4,\\n        defaultValue: getVar(\\\"test-compress\\\", \\\"\\\"),\\n        onChange: $.toString(() => {\\n            putVar(\\\"test-compress\\\", input)\\n        })\\n    },\\n    url: $.toString((MY_PARAMS) => {\\n        let inputValue = getVar(\\\"test-compress\\\", \\\"\\\")\\n        eval(MY_PARAMS.pageRule)\\n        let result = ZipTool.decompress.exec(inputValue)\\n        if (result.startsWith(\\\"x5Rule://\\\")) {\\n            return result\\n        }\\n        putVar(\\\"test-decompress\\\", result)\\n        // log(result)\\n        refreshPage(false)\\n        return 'toast://解压成功'\\n    }, MY_PARAMS)\\n})\\nlet c_size = \\n ZipTool.compress.size.get();\\nlet cs_size = getVar(\\\"test-compress\\\", \\\"\\\").length\\nd.push({\\n    title: '&nbsp;&nbsp;Compress Size: ' + c_size + ' Bytes' + ', Length: ' + cs_size,\\n    col_type: 'rich_text'\\n})\\n// log((1 - (c_size / d_size)))\\nlet compare = Math.round(\\n    (1 - (c_size / d_size)) * 100)\\nd.push({\\n    title: '&nbsp;&nbsp;压缩率: ' + compare + '%',\\n    col_type: 'rich_text'\\n})\\n\\nd.push({\\n    title: '清空原文',\\n    img: 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/32d29e2fbcdf8d83071deec7f6aa4b7c.png',\\n    url: \\\"hiker://empty#noLoading#\\\" + \\\"@lazyRule=.js:putVar('test-decompress', '');refreshPage();'toast://清空成功'\\\",\\n    col_type: 'icon_2'\\n});\\n\\nd.push({\\n    title: '清空密文',\\n    img: 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/32d29e2fbcdf8d83071deec7f6aa4b7c.png',\\n    url: \\\"hiker://empty#noLoading#\\\" + \\\"@lazyRule=.js:putVar('test-compress', '');refreshPage();'toast://清空成功'\\\",\\n    col_type: 'icon_2'\\n});\\n\\nd.push({\\n    title: '复制原文',\\n    img: 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/32d29e2fbcdf8d83071deec7f6aa4b7c.png',\\n    url: $(\\\"hiker://empty#noLoading#\\\").lazyRule(() => {\\n        var dec = getVar(\\\"test-decompress\\\");\\n        if (dec) {\\n            return \\\"copy://\\\" + dec;\\n        } else {\\n            return \\\"toast://内容为空！\\\"\\n        }\\n    }),\\n    col_type: 'icon_2'\\n});\\n\\nd.push({\\n    title: '复制密文',\\n    img: 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/32d29e2fbcdf8d83071deec7f6aa4b7c.png',\\n    url: $(\\\"hiker://empty#noLoading#\\\").lazyRule(() => {\\n        var enc = getVar(\\\"test-compress\\\");\\n        if (enc) {\\n            return \\\"copy://\\\" + enc;\\n        } else {\\n            return \\\"toast://内容为空！\\\"\\n        }\\n    }),\\n    col_type: 'icon_2'\\n});\\nsetResult(d)\"},{\"col_type\":\"movie_3\",\"name\":\"压缩方法模板\",\"path\":\"template\",\"rule\":\"js:\\n// 注： ZipTool 变量名不能改，没有中文标注的地方也不能动\\nlet ZipTool = {\\n    dependence: '依赖地址',\\n    compress: {\\n        size: {\\n            key: \\\"test-compress-size\\\",\\n            set: (newValue) => {\\n                putVar(this.key, newValue.toString())\\n            },\\n            get: () => {\\n                return parseInt(getVar(this.key, \\\"0\\\"))\\n            }\\n        },\\n        /**\\n         * 压缩执行方法，通过 ZipTool.compress.exec(input) 调用\\n         */\\n        exec: (input) => {\\n            // eval(request(ZipTool.dependence))\\n            let result = '执行压缩后返回的值'\\n            ZipTool.compress.size.set(result.length)\\n            return result\\n        }\\n    },\\n    /**\\n     * 解压执行方法，通过 ZipTool.decompress.exec(input) 调用\\n     */\\n    decompress: {\\n        size: {\\n            get: () => {\\n                return getVar(\\\"test-decompress\\\", \\\"0\\\").length\\n            }\\n        },\\n        exec: (input) => {\\n            // eval(request(ZipTool.dependence))\\n            let result = '执行解压后返回的值'\\n            return result\\n        }\\n    }\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"lz-string\",\"path\":\"lz-string\",\"rule\":\"js:\\n/*\\n原文 1052 Bytes \\n原文Base64 1880 Bytes\\n原文LZ-String 480 Bytes\\n原文LZMA 422 Bytes\\n\\nhttps://qastack.cn/programming/294297/javascript-implementation-of-gzip\\n\\nhttps://cdn.jsdelivr.net/npm/lz-string@1.4.4/libs/lz-string.min.js\\nhttps://cdn.jsdelivr.net/npm/lz-string@1.4.4/libs/base64-string.js\\n*/\\nfunction toHexString(byteArray) {\\n    return Array.from(byteArray, function(byte) {\\n        return ('0' + (byte & 0xFF).toString(16)).slice(-2);\\n    }).join('')\\n}\\nlet ZipTool = {\\n    dependence: 'https://cdn.jsdelivr.net/npm/lz-string@1.4.4/libs/lz-string.min.js',\\n    compress: {\\n        size: {\\n            key: \\\"test-compress-size\\\",\\n            set: (newValue) => {\\n                putVar(this.key, newValue.toString())\\n            },\\n            get: () => {\\n                return parseInt(getVar(this.key, \\\"0\\\"))\\n            }\\n        },\\n        exec: (input) => {\\n            eval(request(ZipTool.dependence))\\n// LZString.compressToEncodedURIComponent\\n            let result = LZString.compressToEncodedURIComponent(input)\\n            ZipTool.compress.size.set(result.length * 2)\\n            return result\\n        }\\n    },\\n    decompress: {\\n        size: {\\n            get: () => {\\n                return getVar(\\\"test-decompress\\\", \\\"0\\\").length\\n            }\\n        },\\n        exec: (input) => {\\n            eval(request(ZipTool.dependence))\\n// LZString.decompressFromEncodedURIComponent\\n            let result = LZString.decompressFromEncodedURIComponent(input)\\n            return result\\n        }\\n    }\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"LZMA\",\"path\":\"lzma\",\"rule\":\"js:\\n/*\\nhttps://cdn.jsdelivr.net/npm/lzma@2.3.2/src/lzma_worker-min.js\\n*/\\nlet compression_mode = 1;\\n\\nlet lzStringTool = JSON.parse(request('hiker://page/lz-string-tool?rule=字符串压缩测试')).rule;\\nlet ZipTool = {\\n    compress: {\\n        key: \\\"test-compress-size\\\",\\n        size: {\\n            set: (newValue) => {\\n                try {\\n                    fba.putVar(this.key, newValue.toString())\\n                } catch(e) {\\n                    putVar(this.key, newValue.toString())\\n                }\\n            },\\n            get: () => {\\n                try {\\n                    return parseInt(fba.getVar(this.key, \\\"0\\\"))\\n                } catch(e) {\\n                    return parseInt(getVar(this.key, \\\"0\\\"))\\n                }\\n            }\\n        },\\n        exec: (input) => {\\n            putVar(\\\"test-compress\\\", \\\"\\\")\\n            // showLoading(\\\"压缩中，请稍候...\\\")\\n            return $().x5Lazy((input, mode, stringTool, ZipTool) => {\\n                let dependent = 'https://cdn.jsdelivr.net/npm/lzma@2.3.2/src/lzma_worker-min.js'\\n                eval(fba.fetch(dependent))\\n                eval(stringTool)\\n                // fba.log(\\\"input: \\\" + input)\\n                LZMA.compress(input, mode,\\n                    (result) => {\\n                        if (fba.getVar(\\\"test-compress\\\")) return\\n                        // fba.log(\\\"result: \\\" + convert_to_formated_hex(result))\\n                        ZipTool.compress.size.set(result.length)\\n                        fba.putVar(\\\"test-compress\\\", convert_formated_hex_to_string(convert_to_formated_hex(result)))\\n                        // fba.hideLoading()\\n                        // fba.log(\\\"compress: \\\" + fba.getVar(\\\"test-compress\\\"))\\n                    },\\n                    (progress) => {\\n                        // fba.log(\\\"progress: \\\" + progress*100 + \\\"%\\\")\\n                    })\\n                if (fba.getVar(\\\"test-compress\\\")) {\\n                    fba.refreshPage(false)\\n                    return 'toast://压缩成功'\\n                }\\n            }, input, compression_mode, lzStringTool, ZipTool)\\n        },\\n    },\\n    decompress: {\\n        size: {\\n            get: () => {\\n                try {\\n                    return fba.getVar(\\\"test-decompress\\\", \\\"0\\\").length\\n                } catch(e) {\\n                    return getVar(\\\"test-decompress\\\", \\\"0\\\").length\\n                }\\n            }\\n        },\\n        exec: (input) => {\\n            putVar(\\\"test-decompress\\\", \\\"\\\")\\n            // showLoading(\\\"解压中，请稍候...\\\")\\n            return $().x5Lazy((input, stringTool) => {\\n                let dependent = 'https://cdn.jsdelivr.net/npm/lzma@2.3.2/src/lzma_worker-min.js'\\n                eval(fba.fetch(dependent))\\n                eval(stringTool)\\n                input = convert_formated_hex_to_bytes(convert_string_to_hex(input))\\n                // fba.log(\\\"input: \\\" + input)\\n                LZMA.decompress(input,\\n                    (result) => {\\n                        if (fba.getVar(\\\"test-decompress\\\")) return\\n                        // fba.log(\\\"result: \\\" + result)\\n                        fba.putVar(\\\"test-decompress\\\", result)\\n                        // fba.log(\\\"decompress: \\\" + fba.getVar(\\\"test-decompress\\\"))\\n                    },\\n                    (progress) => {\\n                        // fba.log(\\\"progress: \\\" + progress*100 + \\\"%\\\")\\n                    })\\n                if (fba.getVar(\\\"test-decompress\\\")) {\\n                    fba.refreshPage(false)\\n                    return 'toast://解压成功'\\n                }\\n            }, input, lzStringTool)\\n        },\\n    }\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"GZip\",\"path\":\"gzip\",\"rule\":\"js:\\n/*\\n通过 pako 实现\\n\\nhttps://qastack.cn/programming/294297/javascript-implementation-of-gzip\\n\\nhttps://www.zhihu.com/question/53169830\\n\\nhttp://blog.ideacome.com/2021/07/01/gzipya-suo-de-lz77suan-fa-he-ha-fu-man-bian-ma-shi-xian-yuan-li/amp/\\n\\nhttp://qiutianaimeili.com/html/page/2019/12/bncs8g07hcg.html\\n*/\\nlet ZipTool = {\\n    compress: {\\n        size: {\\n            key: \\\"test-compress-size\\\",\\n            set: (newValue) => {\\n                putVar(this.key, newValue.toString())\\n            },\\n            get: () => {\\n                return parseInt(getVar(this.key, \\\"0\\\"))\\n            }\\n        },\\n        exec: (input) => {\\n            let result = pako.gzip(input, {\\n                to: \\\"string\\\"\\n            })\\n            ZipTool.compress.size.set(result.length)\\n            return result\\n        }\\n    },\\n    decompress: {\\n        size: {\\n            get: () => {\\n                return getVar(\\\"test-decompress\\\", \\\"0\\\").length\\n            }\\n        },\\n        exec: (input) => {\\n            let result = pako.ungzip(input, {\\n                to: \\\"string\\\"\\n            })\\n            return result\\n        }\\n    }\\n}\\n!function(t){if(\\\"object\\\"==typeof exports&&\\\"undefined\\\"!=typeof module)module.exports=t();else if(\\\"function\\\"==typeof define&&define.amd)define([],t);else{(\\\"undefined\\\"!=typeof window?window:\\\"undefined\\\"!=typeof global?global:\\\"undefined\\\"!=typeof self?self:this).pako=t()}}(function(){return function r(s,o,l){function h(e,t){if(!o[e]){if(!s[e]){var a=\\\"function\\\"==typeof require&&require;if(!t&&a)return a(e,!0);if(d)return d(e,!0);var i=new Error(\\\"Cannot find module '\\\"+e+\\\"'\\\");throw i.code=\\\"MODULE_NOT_FOUND\\\",i}var n=o[e]={exports:{}};s[e][0].call(n.exports,function(t){return h(s[e][1][t]||t)},n,n.exports,r,s,o,l)}return o[e].exports}for(var d=\\\"function\\\"==typeof require&&require,t=0;t<l.length;t++)h(l[t]);return h}({1:[function(t,e,a){\\\"use strict\\\";var s=t(\\\"./zlib/deflate\\\"),o=t(\\\"./utils/common\\\"),l=t(\\\"./utils/strings\\\"),n=t(\\\"./zlib/messages\\\"),r=t(\\\"./zlib/zstream\\\"),h=Object.prototype.toString,d=0,f=-1,_=0,u=8;function c(t){if(!(this instanceof c))return new c(t);this.options=o.assign({level:f,method:u,chunkSize:16384,windowBits:15,memLevel:8,strategy:_,to:\\\"\\\"},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg=\\\"\\\",this.ended=!1,this.chunks=[],this.strm=new r,this.strm.avail_out=0;var a=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==d)throw new Error(n[a]);if(e.header&&s.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i=\\\"string\\\"==typeof e.dictionary?l.string2buf(e.dictionary):\\\"[object ArrayBuffer]\\\"===h.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(a=s.deflateSetDictionary(this.strm,i))!==d)throw new Error(n[a]);this._dict_set=!0}}function i(t,e){var a=new c(e);if(a.push(t,!0),a.err)throw a.msg||n[a.err];return a.result}c.prototype.push=function(t,e){var a,i,n=this.strm,r=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:!0===e?4:0,\\\"string\\\"==typeof t?n.input=l.string2buf(t):\\\"[object ArrayBuffer]\\\"===h.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new o.Buf8(r),n.next_out=0,n.avail_out=r),1!==(a=s.deflate(n,i))&&a!==d)return this.onEnd(a),!(this.ended=!0);0!==n.avail_out&&(0!==n.avail_in||4!==i&&2!==i)||(\\\"string\\\"===this.options.to?this.onData(l.buf2binstring(o.shrinkBuf(n.output,n.next_out))):this.onData(o.shrinkBuf(n.output,n.next_out)))}while((0<n.avail_in||0===n.avail_out)&&1!==a);return 4===i?(a=s.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===d):2!==i||(this.onEnd(d),!(n.avail_out=0))},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){t===d&&(\\\"string\\\"===this.options.to?this.result=this.chunks.join(\\\"\\\"):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},a.Deflate=c,a.deflate=i,a.deflateRaw=function(t,e){return(e=e||{}).raw=!0,i(t,e)},a.gzip=function(t,e){return(e=e||{}).gzip=!0,i(t,e)}},{\\\"./utils/common\\\":3,\\\"./utils/strings\\\":4,\\\"./zlib/deflate\\\":8,\\\"./zlib/messages\\\":13,\\\"./zlib/zstream\\\":15}],2:[function(t,e,a){\\\"use strict\\\";var f=t(\\\"./zlib/inflate\\\"),_=t(\\\"./utils/common\\\"),u=t(\\\"./utils/strings\\\"),c=t(\\\"./zlib/constants\\\"),i=t(\\\"./zlib/messages\\\"),n=t(\\\"./zlib/zstream\\\"),r=t(\\\"./zlib/gzheader\\\"),b=Object.prototype.toString;function s(t){if(!(this instanceof s))return new s(t);this.options=_.assign({chunkSize:16384,windowBits:0,to:\\\"\\\"},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg=\\\"\\\",this.ended=!1,this.chunks=[],this.strm=new n,this.strm.avail_out=0;var a=f.inflateInit2(this.strm,e.windowBits);if(a!==c.Z_OK)throw new Error(i[a]);if(this.header=new r,f.inflateGetHeader(this.strm,this.header),e.dictionary&&(\\\"string\\\"==typeof e.dictionary?e.dictionary=u.string2buf(e.dictionary):\\\"[object ArrayBuffer]\\\"===b.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(a=f.inflateSetDictionary(this.strm,e.dictionary))!==c.Z_OK))throw new Error(i[a])}function o(t,e){var a=new s(e);if(a.push(t,!0),a.err)throw a.msg||i[a.err];return a.result}s.prototype.push=function(t,e){var a,i,n,r,s,o=this.strm,l=this.options.chunkSize,h=this.options.dictionary,d=!1;if(this.ended)return!1;i=e===~~e?e:!0===e?c.Z_FINISH:c.Z_NO_FLUSH,\\\"string\\\"==typeof t?o.input=u.binstring2buf(t):\\\"[object ArrayBuffer]\\\"===b.call(t)?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new _.Buf8(l),o.next_out=0,o.avail_out=l),(a=f.inflate(o,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&h&&(a=f.inflateSetDictionary(this.strm,h)),a===c.Z_BUF_ERROR&&!0===d&&(a=c.Z_OK,d=!1),a!==c.Z_STREAM_END&&a!==c.Z_OK)return this.onEnd(a),!(this.ended=!0);o.next_out&&(0!==o.avail_out&&a!==c.Z_STREAM_END&&(0!==o.avail_in||i!==c.Z_FINISH&&i!==c.Z_SYNC_FLUSH)||(\\\"string\\\"===this.options.to?(n=u.utf8border(o.output,o.next_out),r=o.next_out-n,s=u.buf2string(o.output,n),o.next_out=r,o.avail_out=l-r,r&&_.arraySet(o.output,o.output,n,r,0),this.onData(s)):this.onData(_.shrinkBuf(o.output,o.next_out)))),0===o.avail_in&&0===o.avail_out&&(d=!0)}while((0<o.avail_in||0===o.avail_out)&&a!==c.Z_STREAM_END);return a===c.Z_STREAM_END&&(i=c.Z_FINISH),i===c.Z_FINISH?(a=f.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===c.Z_OK):i!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(o.avail_out=0))},s.prototype.onData=function(t){this.chunks.push(t)},s.prototype.onEnd=function(t){t===c.Z_OK&&(\\\"string\\\"===this.options.to?this.result=this.chunks.join(\\\"\\\"):this.result=_.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},a.Inflate=s,a.inflate=o,a.inflateRaw=function(t,e){return(e=e||{}).raw=!0,o(t,e)},a.ungzip=o},{\\\"./utils/common\\\":3,\\\"./utils/strings\\\":4,\\\"./zlib/constants\\\":6,\\\"./zlib/gzheader\\\":9,\\\"./zlib/inflate\\\":11,\\\"./zlib/messages\\\":13,\\\"./zlib/zstream\\\":15}],3:[function(t,e,a){\\\"use strict\\\";var i=\\\"undefined\\\"!=typeof Uint8Array&&\\\"undefined\\\"!=typeof Uint16Array&&\\\"undefined\\\"!=typeof Int32Array;a.assign=function(t){for(var e,a,i=Array.prototype.slice.call(arguments,1);i.length;){var n=i.shift();if(n){if(\\\"object\\\"!=typeof n)throw new TypeError(n+\\\"must be non-object\\\");for(var r in n)e=n,a=r,Object.prototype.hasOwnProperty.call(e,a)&&(t[r]=n[r])}}return t},a.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,a,i,n){if(e.subarray&&t.subarray)t.set(e.subarray(a,a+i),n);else for(var r=0;r<i;r++)t[n+r]=e[a+r]},flattenChunks:function(t){var e,a,i,n,r,s;for(e=i=0,a=t.length;e<a;e++)i+=t[e].length;for(s=new Uint8Array(i),e=n=0,a=t.length;e<a;e++)r=t[e],s.set(r,n),n+=r.length;return s}},r={arraySet:function(t,e,a,i,n){for(var r=0;r<i;r++)t[n+r]=e[a+r]},flattenChunks:function(t){return[].concat.apply([],t)}};a.setTyped=function(t){t?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,n)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,r))},a.setTyped(i)},{}],4:[function(t,e,a){\\\"use strict\\\";var l=t(\\\"./common\\\"),n=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(t){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){r=!1}for(var h=new l.Buf8(256),i=0;i<256;i++)h[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;function d(t,e){if(e<65534&&(t.subarray&&r||!t.subarray&&n))return String.fromCharCode.apply(null,l.shrinkBuf(t,e));for(var a=\\\"\\\",i=0;i<e;i++)a+=String.fromCharCode(t[i]);return a}h[254]=h[254]=1,a.string2buf=function(t){var e,a,i,n,r,s=t.length,o=0;for(n=0;n<s;n++)55296==(64512&(a=t.charCodeAt(n)))&&n+1<s&&56320==(64512&(i=t.charCodeAt(n+1)))&&(a=65536+(a-55296<<10)+(i-56320),n++),o+=a<128?1:a<2048?2:a<65536?3:4;for(e=new l.Buf8(o),n=r=0;r<o;n++)55296==(64512&(a=t.charCodeAt(n)))&&n+1<s&&56320==(64512&(i=t.charCodeAt(n+1)))&&(a=65536+(a-55296<<10)+(i-56320),n++),a<128?e[r++]=a:(a<2048?e[r++]=192|a>>>6:(a<65536?e[r++]=224|a>>>12:(e[r++]=240|a>>>18,e[r++]=128|a>>>12&63),e[r++]=128|a>>>6&63),e[r++]=128|63&a);return e},a.buf2binstring=function(t){return d(t,t.length)},a.binstring2buf=function(t){for(var e=new l.Buf8(t.length),a=0,i=e.length;a<i;a++)e[a]=t.charCodeAt(a);return e},a.buf2string=function(t,e){var a,i,n,r,s=e||t.length,o=new Array(2*s);for(a=i=0;a<s;)if((n=t[a++])<128)o[i++]=n;else if(4<(r=h[n]))o[i++]=65533,a+=r-1;else{for(n&=2===r?31:3===r?15:7;1<r&&a<s;)n=n<<6|63&t[a++],r--;1<r?o[i++]=65533:n<65536?o[i++]=n:(n-=65536,o[i++]=55296|n>>10&1023,o[i++]=56320|1023&n)}return d(o,i)},a.utf8border=function(t,e){var a;for((e=e||t.length)>t.length&&(e=t.length),a=e-1;0<=a&&128==(192&t[a]);)a--;return a<0?e:0===a?e:a+h[t[a]]>e?a:e}},{\\\"./common\\\":3}],5:[function(t,e,a){\\\"use strict\\\";e.exports=function(t,e,a,i){for(var n=65535&t|0,r=t>>>16&65535|0,s=0;0!==a;){for(a-=s=2e3<a?2e3:a;r=r+(n=n+e[i++]|0)|0,--s;);n%=65521,r%=65521}return n|r<<16|0}},{}],6:[function(t,e,a){\\\"use strict\\\";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(t,e,a){\\\"use strict\\\";var o=function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}();e.exports=function(t,e,a,i){var n=o,r=i+a;t^=-1;for(var s=i;s<r;s++)t=t>>>8^n[255&(t^e[s])];return-1^t}},{}],8:[function(t,e,a){\\\"use strict\\\";var l,_=t(\\\"../utils/common\\\"),h=t(\\\"./trees\\\"),u=t(\\\"./adler32\\\"),c=t(\\\"./crc32\\\"),i=t(\\\"./messages\\\"),d=0,f=4,b=0,g=-2,m=-1,w=4,n=2,p=8,v=9,r=286,s=30,o=19,k=2*r+1,y=15,x=3,z=258,B=z+x+1,S=42,E=113,A=1,Z=2,R=3,C=4;function N(t,e){return t.msg=i[e],e}function O(t){return(t<<1)-(4<t?9:0)}function D(t){for(var e=t.length;0<=--e;)t[e]=0}function I(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(_.arraySet(t.output,e.pending_buf,e.pending_out,a,t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))}function U(t,e){h._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,I(t.strm)}function T(t,e){t.pending_buf[t.pending++]=e}function F(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function L(t,e){var a,i,n=t.max_chain_length,r=t.strstart,s=t.prev_length,o=t.nice_match,l=t.strstart>t.w_size-B?t.strstart-(t.w_size-B):0,h=t.window,d=t.w_mask,f=t.prev,_=t.strstart+z,u=h[r+s-1],c=h[r+s];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(h[(a=e)+s]===c&&h[a+s-1]===u&&h[a]===h[r]&&h[++a]===h[r+1]){r+=2,a++;do{}while(h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&h[++r]===h[++a]&&r<_);if(i=z-(_-r),r=_-z,s<i){if(t.match_start=e,o<=(s=i))break;u=h[r+s-1],c=h[r+s]}}}while((e=f[e&d])>l&&0!=--n);return s<=t.lookahead?s:t.lookahead}function H(t){var e,a,i,n,r,s,o,l,h,d,f=t.w_size;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=f+(f-B)){for(_.arraySet(t.window,t.window,f,f,0),t.match_start-=f,t.strstart-=f,t.block_start-=f,e=a=t.hash_size;i=t.head[--e],t.head[e]=f<=i?i-f:0,--a;);for(e=a=f;i=t.prev[--e],t.prev[e]=f<=i?i-f:0,--a;);n+=f}if(0===t.strm.avail_in)break;if(s=t.strm,o=t.window,l=t.strstart+t.lookahead,h=n,d=void 0,d=s.avail_in,h<d&&(d=h),a=0===d?0:(s.avail_in-=d,_.arraySet(o,s.input,s.next_in,d,l),1===s.state.wrap?s.adler=u(s.adler,o,d,l):2===s.state.wrap&&(s.adler=c(s.adler,o,d,l)),s.next_in+=d,s.total_in+=d,d),t.lookahead+=a,t.lookahead+t.insert>=x)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+x-1])&t.hash_mask,t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<x)););}while(t.lookahead<B&&0!==t.strm.avail_in)}function j(t,e){for(var a,i;;){if(t.lookahead<B){if(H(t),t.lookahead<B&&e===d)return A;if(0===t.lookahead)break}if(a=0,t.lookahead>=x&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-B&&(t.match_length=L(t,a)),t.match_length>=x)if(i=h._tr_tally(t,t.strstart-t.match_start,t.match_length-x),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=x){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=h._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(U(t,!1),0===t.strm.avail_out))return A}return t.insert=t.strstart<x-1?t.strstart:x-1,e===f?(U(t,!0),0===t.strm.avail_out?R:C):t.last_lit&&(U(t,!1),0===t.strm.avail_out)?A:Z}function K(t,e){for(var a,i,n;;){if(t.lookahead<B){if(H(t),t.lookahead<B&&e===d)return A;if(0===t.lookahead)break}if(a=0,t.lookahead>=x&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=x-1,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-B&&(t.match_length=L(t,a),t.match_length<=5&&(1===t.strategy||t.match_length===x&&4096<t.strstart-t.match_start)&&(t.match_length=x-1)),t.prev_length>=x&&t.match_length<=t.prev_length){for(n=t.strstart+t.lookahead-x,i=h._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-x),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=x-1,t.strstart++,i&&(U(t,!1),0===t.strm.avail_out))return A}else if(t.match_available){if((i=h._tr_tally(t,0,t.window[t.strstart-1]))&&U(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return A}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=h._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<x-1?t.strstart:x-1,e===f?(U(t,!0),0===t.strm.avail_out?R:C):t.last_lit&&(U(t,!1),0===t.strm.avail_out)?A:Z}function M(t,e,a,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=i,this.func=n}function P(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=p,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new _.Buf16(2*k),this.dyn_dtree=new _.Buf16(2*(2*s+1)),this.bl_tree=new _.Buf16(2*(2*o+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new _.Buf16(y+1),this.heap=new _.Buf16(2*r+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new _.Buf16(2*r+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Y(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=n,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?S:E,t.adler=2===e.wrap?0:1,e.last_flush=d,h._tr_init(e),b):N(t,g)}function q(t){var e,a=Y(t);return a===b&&((e=t.state).window_size=2*e.w_size,D(e.head),e.max_lazy_match=l[e.level].max_lazy,e.good_match=l[e.level].good_length,e.nice_match=l[e.level].nice_length,e.max_chain_length=l[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=x-1,e.match_available=0,e.ins_h=0),a}function G(t,e,a,i,n,r){if(!t)return g;var s=1;if(e===m&&(e=6),i<0?(s=0,i=-i):15<i&&(s=2,i-=16),n<1||v<n||a!==p||i<8||15<i||e<0||9<e||r<0||w<r)return N(t,g);8===i&&(i=9);var o=new P;return(t.state=o).strm=t,o.wrap=s,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=n+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+x-1)/x),o.window=new _.Buf8(2*o.w_size),o.head=new _.Buf16(o.hash_size),o.prev=new _.Buf16(o.w_size),o.lit_bufsize=1<<n+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new _.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=e,o.strategy=r,o.method=a,q(t)}l=[new M(0,0,0,0,function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(H(t),0===t.lookahead&&e===d)return A;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+a;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,U(t,!1),0===t.strm.avail_out))return A;if(t.strstart-t.block_start>=t.w_size-B&&(U(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===f?(U(t,!0),0===t.strm.avail_out?R:C):(t.strstart>t.block_start&&(U(t,!1),t.strm.avail_out),A)}),new M(4,4,8,4,j),new M(4,5,16,8,j),new M(4,6,32,32,j),new M(4,4,16,16,K),new M(8,16,32,32,K),new M(8,16,128,128,K),new M(8,32,128,256,K),new M(32,128,258,1024,K),new M(32,258,258,4096,K)],a.deflateInit=function(t,e){return G(t,e,p,15,8,0)},a.deflateInit2=G,a.deflateReset=q,a.deflateResetKeep=Y,a.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?g:(t.state.gzhead=e,b):g},a.deflate=function(t,e){var a,i,n,r;if(!t||!t.state||5<e||e<0)return t?N(t,g):g;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&e!==f)return N(t,0===t.avail_out?-5:g);if(i.strm=t,a=i.last_flush,i.last_flush=e,i.status===S)if(2===i.wrap)t.adler=0,T(i,31),T(i,139),T(i,8),i.gzhead?(T(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),T(i,255&i.gzhead.time),T(i,i.gzhead.time>>8&255),T(i,i.gzhead.time>>16&255),T(i,i.gzhead.time>>24&255),T(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),T(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(T(i,255&i.gzhead.extra.length),T(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=c(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(T(i,0),T(i,0),T(i,0),T(i,0),T(i,0),T(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),T(i,3),i.status=E);else{var s=p+(i.w_bits-8<<4)<<8;s|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(s|=32),s+=31-s%31,i.status=E,F(i,s),0!==i.strstart&&(F(i,t.adler>>>16),F(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>n&&(t.adler=c(t.adler,i.pending_buf,i.pending-n,n)),I(t),n=i.pending,i.pending!==i.pending_buf_size));)T(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(t.adler=c(t.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(t.adler=c(t.adler,i.pending_buf,i.pending-n,n)),I(t),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}T(i,r=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(t.adler=c(t.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(t.adler=c(t.adler,i.pending_buf,i.pending-n,n)),I(t),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}T(i,r=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(t.adler=c(t.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&I(t),i.pending+2<=i.pending_buf_size&&(T(i,255&t.adler),T(i,t.adler>>8&255),t.adler=0,i.status=E)):i.status=E),0!==i.pending){if(I(t),0===t.avail_out)return i.last_flush=-1,b}else if(0===t.avail_in&&O(e)<=O(a)&&e!==f)return N(t,-5);if(666===i.status&&0!==t.avail_in)return N(t,-5);if(0!==t.avail_in||0!==i.lookahead||e!==d&&666!==i.status){var o=2===i.strategy?function(t,e){for(var a;;){if(0===t.lookahead&&(H(t),0===t.lookahead)){if(e===d)return A;break}if(t.match_length=0,a=h._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(U(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===f?(U(t,!0),0===t.strm.avail_out?R:C):t.last_lit&&(U(t,!1),0===t.strm.avail_out)?A:Z}(i,e):3===i.strategy?function(t,e){for(var a,i,n,r,s=t.window;;){if(t.lookahead<=z){if(H(t),t.lookahead<=z&&e===d)return A;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=x&&0<t.strstart&&(i=s[n=t.strstart-1])===s[++n]&&i===s[++n]&&i===s[++n]){r=t.strstart+z;do{}while(i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&n<r);t.match_length=z-(r-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=x?(a=h._tr_tally(t,1,t.match_length-x),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=h._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(U(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===f?(U(t,!0),0===t.strm.avail_out?R:C):t.last_lit&&(U(t,!1),0===t.strm.avail_out)?A:Z}(i,e):l[i.level].func(i,e);if(o!==R&&o!==C||(i.status=666),o===A||o===R)return 0===t.avail_out&&(i.last_flush=-1),b;if(o===Z&&(1===e?h._tr_align(i):5!==e&&(h._tr_stored_block(i,0,0,!1),3===e&&(D(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),I(t),0===t.avail_out))return i.last_flush=-1,b}return e!==f?b:i.wrap<=0?1:(2===i.wrap?(T(i,255&t.adler),T(i,t.adler>>8&255),T(i,t.adler>>16&255),T(i,t.adler>>24&255),T(i,255&t.total_in),T(i,t.total_in>>8&255),T(i,t.total_in>>16&255),T(i,t.total_in>>24&255)):(F(i,t.adler>>>16),F(i,65535&t.adler)),I(t),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?b:1)},a.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==S&&69!==e&&73!==e&&91!==e&&103!==e&&e!==E&&666!==e?N(t,g):(t.state=null,e===E?N(t,-3):b):g},a.deflateSetDictionary=function(t,e){var a,i,n,r,s,o,l,h,d=e.length;if(!t||!t.state)return g;if(2===(r=(a=t.state).wrap)||1===r&&a.status!==S||a.lookahead)return g;for(1===r&&(t.adler=u(t.adler,e,d,0)),a.wrap=0,d>=a.w_size&&(0===r&&(D(a.head),a.strstart=0,a.block_start=0,a.insert=0),h=new _.Buf8(a.w_size),_.arraySet(h,e,d-a.w_size,a.w_size,0),e=h,d=a.w_size),s=t.avail_in,o=t.next_in,l=t.input,t.avail_in=d,t.next_in=0,t.input=e,H(a);a.lookahead>=x;){for(i=a.strstart,n=a.lookahead-(x-1);a.ins_h=(a.ins_h<<a.hash_shift^a.window[i+x-1])&a.hash_mask,a.prev[i&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=i,i++,--n;);a.strstart=i,a.lookahead=x-1,H(a)}return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=x-1,a.match_available=0,t.next_in=o,t.input=l,t.avail_in=s,a.wrap=r,b},a.deflateInfo=\\\"pako deflate (from Nodeca project)\\\"},{\\\"../utils/common\\\":3,\\\"./adler32\\\":5,\\\"./crc32\\\":7,\\\"./messages\\\":13,\\\"./trees\\\":14}],9:[function(t,e,a){\\\"use strict\\\";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\\\"\\\",this.comment=\\\"\\\",this.hcrc=0,this.done=!1}},{}],10:[function(t,e,a){\\\"use strict\\\";e.exports=function(t,e){var a,i,n,r,s,o,l,h,d,f,_,u,c,b,g,m,w,p,v,k,y,x,z,B,S;a=t.state,i=t.next_in,B=t.input,n=i+(t.avail_in-5),r=t.next_out,S=t.output,s=r-(e-t.avail_out),o=r+(t.avail_out-257),l=a.dmax,h=a.wsize,d=a.whave,f=a.wnext,_=a.window,u=a.hold,c=a.bits,b=a.lencode,g=a.distcode,m=(1<<a.lenbits)-1,w=(1<<a.distbits)-1;t:do{c<15&&(u+=B[i++]<<c,c+=8,u+=B[i++]<<c,c+=8),p=b[u&m];e:for(;;){if(u>>>=v=p>>>24,c-=v,0===(v=p>>>16&255))S[r++]=65535&p;else{if(!(16&v)){if(0==(64&v)){p=b[(65535&p)+(u&(1<<v)-1)];continue e}if(32&v){a.mode=12;break t}t.msg=\\\"invalid literal/length code\\\",a.mode=30;break t}k=65535&p,(v&=15)&&(c<v&&(u+=B[i++]<<c,c+=8),k+=u&(1<<v)-1,u>>>=v,c-=v),c<15&&(u+=B[i++]<<c,c+=8,u+=B[i++]<<c,c+=8),p=g[u&w];a:for(;;){if(u>>>=v=p>>>24,c-=v,!(16&(v=p>>>16&255))){if(0==(64&v)){p=g[(65535&p)+(u&(1<<v)-1)];continue a}t.msg=\\\"invalid distance code\\\",a.mode=30;break t}if(y=65535&p,c<(v&=15)&&(u+=B[i++]<<c,(c+=8)<v&&(u+=B[i++]<<c,c+=8)),l<(y+=u&(1<<v)-1)){t.msg=\\\"invalid distance too far back\\\",a.mode=30;break t}if(u>>>=v,c-=v,(v=r-s)<y){if(d<(v=y-v)&&a.sane){t.msg=\\\"invalid distance too far back\\\",a.mode=30;break t}if(z=_,(x=0)===f){if(x+=h-v,v<k){for(k-=v;S[r++]=_[x++],--v;);x=r-y,z=S}}else if(f<v){if(x+=h+f-v,(v-=f)<k){for(k-=v;S[r++]=_[x++],--v;);if(x=0,f<k){for(k-=v=f;S[r++]=_[x++],--v;);x=r-y,z=S}}}else if(x+=f-v,v<k){for(k-=v;S[r++]=_[x++],--v;);x=r-y,z=S}for(;2<k;)S[r++]=z[x++],S[r++]=z[x++],S[r++]=z[x++],k-=3;k&&(S[r++]=z[x++],1<k&&(S[r++]=z[x++]))}else{for(x=r-y;S[r++]=S[x++],S[r++]=S[x++],S[r++]=S[x++],2<(k-=3););k&&(S[r++]=S[x++],1<k&&(S[r++]=S[x++]))}break}}break}}while(i<n&&r<o);i-=k=c>>3,u&=(1<<(c-=k<<3))-1,t.next_in=i,t.next_out=r,t.avail_in=i<n?n-i+5:5-(i-n),t.avail_out=r<o?o-r+257:257-(r-o),a.hold=u,a.bits=c}},{}],11:[function(t,e,a){\\\"use strict\\\";var Z=t(\\\"../utils/common\\\"),R=t(\\\"./adler32\\\"),C=t(\\\"./crc32\\\"),N=t(\\\"./inffast\\\"),O=t(\\\"./inftrees\\\"),D=1,I=2,U=0,T=-2,F=1,i=852,n=592;function L(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Z.Buf16(320),this.work=new Z.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function s(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg=\\\"\\\",e.wrap&&(t.adler=1&e.wrap),e.mode=F,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Z.Buf32(i),e.distcode=e.distdyn=new Z.Buf32(n),e.sane=1,e.back=-1,U):T}function o(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,s(t)):T}function l(t,e){var a,i;return t&&t.state?(i=t.state,e<0?(a=0,e=-e):(a=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?T:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=a,i.wbits=e,o(t))):T}function h(t,e){var a,i;return t?(i=new r,(t.state=i).window=null,(a=l(t,e))!==U&&(t.state=null),a):T}var d,f,_=!0;function H(t){if(_){var e;for(d=new Z.Buf32(512),f=new Z.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(O(D,t.lens,0,288,d,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;O(I,t.lens,0,32,f,0,t.work,{bits:5}),_=!1}t.lencode=d,t.lenbits=9,t.distcode=f,t.distbits=5}function j(t,e,a,i){var n,r=t.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Z.Buf8(r.wsize)),i>=r.wsize?(Z.arraySet(r.window,e,a-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):(i<(n=r.wsize-r.wnext)&&(n=i),Z.arraySet(r.window,e,a-i,n,r.wnext),(i-=n)?(Z.arraySet(r.window,e,a-i,i,0),r.wnext=i,r.whave=r.wsize):(r.wnext+=n,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=n))),0}a.inflateReset=o,a.inflateReset2=l,a.inflateResetKeep=s,a.inflateInit=function(t){return h(t,15)},a.inflateInit2=h,a.inflate=function(t,e){var a,i,n,r,s,o,l,h,d,f,_,u,c,b,g,m,w,p,v,k,y,x,z,B,S=0,E=new Z.Buf8(4),A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return T;12===(a=t.state).mode&&(a.mode=13),s=t.next_out,n=t.output,l=t.avail_out,r=t.next_in,i=t.input,o=t.avail_in,h=a.hold,d=a.bits,f=o,_=l,x=U;t:for(;;)switch(a.mode){case F:if(0===a.wrap){a.mode=13;break}for(;d<16;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(2&a.wrap&&35615===h){E[a.check=0]=255&h,E[1]=h>>>8&255,a.check=C(a.check,E,2,0),d=h=0,a.mode=2;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg=\\\"incorrect header check\\\",a.mode=30;break}if(8!=(15&h)){t.msg=\\\"unknown compression method\\\",a.mode=30;break}if(d-=4,y=8+(15&(h>>>=4)),0===a.wbits)a.wbits=y;else if(y>a.wbits){t.msg=\\\"invalid window size\\\",a.mode=30;break}a.dmax=1<<y,t.adler=a.check=1,a.mode=512&h?10:12,d=h=0;break;case 2:for(;d<16;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(a.flags=h,8!=(255&a.flags)){t.msg=\\\"unknown compression method\\\",a.mode=30;break}if(57344&a.flags){t.msg=\\\"unknown header flags set\\\",a.mode=30;break}a.head&&(a.head.text=h>>8&1),512&a.flags&&(E[0]=255&h,E[1]=h>>>8&255,a.check=C(a.check,E,2,0)),d=h=0,a.mode=3;case 3:for(;d<32;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}a.head&&(a.head.time=h),512&a.flags&&(E[0]=255&h,E[1]=h>>>8&255,E[2]=h>>>16&255,E[3]=h>>>24&255,a.check=C(a.check,E,4,0)),d=h=0,a.mode=4;case 4:for(;d<16;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}a.head&&(a.head.xflags=255&h,a.head.os=h>>8),512&a.flags&&(E[0]=255&h,E[1]=h>>>8&255,a.check=C(a.check,E,2,0)),d=h=0,a.mode=5;case 5:if(1024&a.flags){for(;d<16;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}a.length=h,a.head&&(a.head.extra_len=h),512&a.flags&&(E[0]=255&h,E[1]=h>>>8&255,a.check=C(a.check,E,2,0)),d=h=0}else a.head&&(a.head.extra=null);a.mode=6;case 6:if(1024&a.flags&&(o<(u=a.length)&&(u=o),u&&(a.head&&(y=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Array(a.head.extra_len)),Z.arraySet(a.head.extra,i,r,u,y)),512&a.flags&&(a.check=C(a.check,i,u,r)),o-=u,r+=u,a.length-=u),a.length))break t;a.length=0,a.mode=7;case 7:if(2048&a.flags){if(0===o)break t;for(u=0;y=i[r+u++],a.head&&y&&a.length<65536&&(a.head.name+=String.fromCharCode(y)),y&&u<o;);if(512&a.flags&&(a.check=C(a.check,i,u,r)),o-=u,r+=u,y)break t}else a.head&&(a.head.name=null);a.length=0,a.mode=8;case 8:if(4096&a.flags){if(0===o)break t;for(u=0;y=i[r+u++],a.head&&y&&a.length<65536&&(a.head.comment+=String.fromCharCode(y)),y&&u<o;);if(512&a.flags&&(a.check=C(a.check,i,u,r)),o-=u,r+=u,y)break t}else a.head&&(a.head.comment=null);a.mode=9;case 9:if(512&a.flags){for(;d<16;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(h!==(65535&a.check)){t.msg=\\\"header crc mismatch\\\",a.mode=30;break}d=h=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),t.adler=a.check=0,a.mode=12;break;case 10:for(;d<32;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}t.adler=a.check=L(h),d=h=0,a.mode=11;case 11:if(0===a.havedict)return t.next_out=s,t.avail_out=l,t.next_in=r,t.avail_in=o,a.hold=h,a.bits=d,2;t.adler=a.check=1,a.mode=12;case 12:if(5===e||6===e)break t;case 13:if(a.last){h>>>=7&d,d-=7&d,a.mode=27;break}for(;d<3;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}switch(a.last=1&h,d-=1,3&(h>>>=1)){case 0:a.mode=14;break;case 1:if(H(a),a.mode=20,6!==e)break;h>>>=2,d-=2;break t;case 2:a.mode=17;break;case 3:t.msg=\\\"invalid block type\\\",a.mode=30}h>>>=2,d-=2;break;case 14:for(h>>>=7&d,d-=7&d;d<32;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if((65535&h)!=(h>>>16^65535)){t.msg=\\\"invalid stored block lengths\\\",a.mode=30;break}if(a.length=65535&h,d=h=0,a.mode=15,6===e)break t;case 15:a.mode=16;case 16:if(u=a.length){if(o<u&&(u=o),l<u&&(u=l),0===u)break t;Z.arraySet(n,i,r,u,s),o-=u,r+=u,l-=u,s+=u,a.length-=u;break}a.mode=12;break;case 17:for(;d<14;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(a.nlen=257+(31&h),h>>>=5,d-=5,a.ndist=1+(31&h),h>>>=5,d-=5,a.ncode=4+(15&h),h>>>=4,d-=4,286<a.nlen||30<a.ndist){t.msg=\\\"too many length or distance symbols\\\",a.mode=30;break}a.have=0,a.mode=18;case 18:for(;a.have<a.ncode;){for(;d<3;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}a.lens[A[a.have++]]=7&h,h>>>=3,d-=3}for(;a.have<19;)a.lens[A[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,z={bits:a.lenbits},x=O(0,a.lens,0,19,a.lencode,0,a.work,z),a.lenbits=z.bits,x){t.msg=\\\"invalid code lengths set\\\",a.mode=30;break}a.have=0,a.mode=19;case 19:for(;a.have<a.nlen+a.ndist;){for(;m=(S=a.lencode[h&(1<<a.lenbits)-1])>>>16&255,w=65535&S,!((g=S>>>24)<=d);){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(w<16)h>>>=g,d-=g,a.lens[a.have++]=w;else{if(16===w){for(B=g+2;d<B;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(h>>>=g,d-=g,0===a.have){t.msg=\\\"invalid bit length repeat\\\",a.mode=30;break}y=a.lens[a.have-1],u=3+(3&h),h>>>=2,d-=2}else if(17===w){for(B=g+3;d<B;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}d-=g,y=0,u=3+(7&(h>>>=g)),h>>>=3,d-=3}else{for(B=g+7;d<B;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}d-=g,y=0,u=11+(127&(h>>>=g)),h>>>=7,d-=7}if(a.have+u>a.nlen+a.ndist){t.msg=\\\"invalid bit length repeat\\\",a.mode=30;break}for(;u--;)a.lens[a.have++]=y}}if(30===a.mode)break;if(0===a.lens[256]){t.msg=\\\"invalid code -- missing end-of-block\\\",a.mode=30;break}if(a.lenbits=9,z={bits:a.lenbits},x=O(D,a.lens,0,a.nlen,a.lencode,0,a.work,z),a.lenbits=z.bits,x){t.msg=\\\"invalid literal/lengths set\\\",a.mode=30;break}if(a.distbits=6,a.distcode=a.distdyn,z={bits:a.distbits},x=O(I,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,z),a.distbits=z.bits,x){t.msg=\\\"invalid distances set\\\",a.mode=30;break}if(a.mode=20,6===e)break t;case 20:a.mode=21;case 21:if(6<=o&&258<=l){t.next_out=s,t.avail_out=l,t.next_in=r,t.avail_in=o,a.hold=h,a.bits=d,N(t,_),s=t.next_out,n=t.output,l=t.avail_out,r=t.next_in,i=t.input,o=t.avail_in,h=a.hold,d=a.bits,12===a.mode&&(a.back=-1);break}for(a.back=0;m=(S=a.lencode[h&(1<<a.lenbits)-1])>>>16&255,w=65535&S,!((g=S>>>24)<=d);){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(m&&0==(240&m)){for(p=g,v=m,k=w;m=(S=a.lencode[k+((h&(1<<p+v)-1)>>p)])>>>16&255,w=65535&S,!(p+(g=S>>>24)<=d);){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}h>>>=p,d-=p,a.back+=p}if(h>>>=g,d-=g,a.back+=g,a.length=w,0===m){a.mode=26;break}if(32&m){a.back=-1,a.mode=12;break}if(64&m){t.msg=\\\"invalid literal/length code\\\",a.mode=30;break}a.extra=15&m,a.mode=22;case 22:if(a.extra){for(B=a.extra;d<B;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}a.length+=h&(1<<a.extra)-1,h>>>=a.extra,d-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=23;case 23:for(;m=(S=a.distcode[h&(1<<a.distbits)-1])>>>16&255,w=65535&S,!((g=S>>>24)<=d);){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(0==(240&m)){for(p=g,v=m,k=w;m=(S=a.distcode[k+((h&(1<<p+v)-1)>>p)])>>>16&255,w=65535&S,!(p+(g=S>>>24)<=d);){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}h>>>=p,d-=p,a.back+=p}if(h>>>=g,d-=g,a.back+=g,64&m){t.msg=\\\"invalid distance code\\\",a.mode=30;break}a.offset=w,a.extra=15&m,a.mode=24;case 24:if(a.extra){for(B=a.extra;d<B;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}a.offset+=h&(1<<a.extra)-1,h>>>=a.extra,d-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){t.msg=\\\"invalid distance too far back\\\",a.mode=30;break}a.mode=25;case 25:if(0===l)break t;if(u=_-l,a.offset>u){if((u=a.offset-u)>a.whave&&a.sane){t.msg=\\\"invalid distance too far back\\\",a.mode=30;break}u>a.wnext?(u-=a.wnext,c=a.wsize-u):c=a.wnext-u,u>a.length&&(u=a.length),b=a.window}else b=n,c=s-a.offset,u=a.length;for(l<u&&(u=l),l-=u,a.length-=u;n[s++]=b[c++],--u;);0===a.length&&(a.mode=21);break;case 26:if(0===l)break t;n[s++]=a.length,l--,a.mode=21;break;case 27:if(a.wrap){for(;d<32;){if(0===o)break t;o--,h|=i[r++]<<d,d+=8}if(_-=l,t.total_out+=_,a.total+=_,_&&(t.adler=a.check=a.flags?C(a.check,n,_,s-_):R(a.check,n,_,s-_)),_=l,(a.flags?h:L(h))!==a.check){t.msg=\\\"incorrect data check\\\",a.mode=30;break}d=h=0}a.mode=28;case 28:if(a.wrap&&a.flags){for(;d<32;){if(0===o)break t;o--,h+=i[r++]<<d,d+=8}if(h!==(4294967295&a.total)){t.msg=\\\"incorrect length check\\\",a.mode=30;break}d=h=0}a.mode=29;case 29:x=1;break t;case 30:x=-3;break t;case 31:return-4;case 32:default:return T}return t.next_out=s,t.avail_out=l,t.next_in=r,t.avail_in=o,a.hold=h,a.bits=d,(a.wsize||_!==t.avail_out&&a.mode<30&&(a.mode<27||4!==e))&&j(t,t.output,t.next_out,_-t.avail_out)?(a.mode=31,-4):(f-=t.avail_in,_-=t.avail_out,t.total_in+=f,t.total_out+=_,a.total+=_,a.wrap&&_&&(t.adler=a.check=a.flags?C(a.check,n,_,t.next_out-_):R(a.check,n,_,t.next_out-_)),t.data_type=a.bits+(a.last?64:0)+(12===a.mode?128:0)+(20===a.mode||15===a.mode?256:0),(0===f&&0===_||4===e)&&x===U&&(x=-5),x)},a.inflateEnd=function(t){if(!t||!t.state)return T;var e=t.state;return e.window&&(e.window=null),t.state=null,U},a.inflateGetHeader=function(t,e){var a;return t&&t.state?0==(2&(a=t.state).wrap)?T:((a.head=e).done=!1,U):T},a.inflateSetDictionary=function(t,e){var a,i=e.length;return t&&t.state?0!==(a=t.state).wrap&&11!==a.mode?T:11===a.mode&&R(1,e,i,0)!==a.check?-3:j(t,e,i,i)?(a.mode=31,-4):(a.havedict=1,U):T},a.inflateInfo=\\\"pako inflate (from Nodeca project)\\\"},{\\\"../utils/common\\\":3,\\\"./adler32\\\":5,\\\"./crc32\\\":7,\\\"./inffast\\\":10,\\\"./inftrees\\\":12}],12:[function(t,e,a){\\\"use strict\\\";var D=t(\\\"../utils/common\\\"),I=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],U=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],T=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],F=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,a,i,n,r,s,o){var l,h,d,f,_,u,c,b,g,m=o.bits,w=0,p=0,v=0,k=0,y=0,x=0,z=0,B=0,S=0,E=0,A=null,Z=0,R=new D.Buf16(16),C=new D.Buf16(16),N=null,O=0;for(w=0;w<=15;w++)R[w]=0;for(p=0;p<i;p++)R[e[a+p]]++;for(y=m,k=15;1<=k&&0===R[k];k--);if(k<y&&(y=k),0===k)return n[r++]=20971520,n[r++]=20971520,o.bits=1,0;for(v=1;v<k&&0===R[v];v++);for(y<v&&(y=v),w=B=1;w<=15;w++)if(B<<=1,(B-=R[w])<0)return-1;if(0<B&&(0===t||1!==k))return-1;for(C[1]=0,w=1;w<15;w++)C[w+1]=C[w]+R[w];for(p=0;p<i;p++)0!==e[a+p]&&(s[C[e[a+p]]++]=p);if(0===t?(A=N=s,u=19):1===t?(A=I,Z-=257,N=U,O-=257,u=256):(A=T,N=F,u=-1),w=v,_=r,z=p=E=0,d=-1,f=(S=1<<(x=y))-1,1===t&&852<S||2===t&&592<S)return 1;for(;;){for(c=w-z,s[p]<u?(b=0,g=s[p]):s[p]>u?(b=N[O+s[p]],g=A[Z+s[p]]):(b=96,g=0),l=1<<w-z,v=h=1<<x;n[_+(E>>z)+(h-=l)]=c<<24|b<<16|g|0,0!==h;);for(l=1<<w-1;E&l;)l>>=1;if(0!==l?(E&=l-1,E+=l):E=0,p++,0==--R[w]){if(w===k)break;w=e[a+s[p]]}if(y<w&&(E&f)!==d){for(0===z&&(z=y),_+=v,B=1<<(x=w-z);x+z<k&&!((B-=R[x+z])<=0);)x++,B<<=1;if(S+=1<<x,1===t&&852<S||2===t&&592<S)return 1;n[d=E&f]=y<<24|x<<16|_-r|0}}return 0!==E&&(n[_+E]=w-z<<24|64<<16|0),o.bits=y,0}},{\\\"../utils/common\\\":3}],13:[function(t,e,a){\\\"use strict\\\";e.exports={2:\\\"need dictionary\\\",1:\\\"stream end\\\",0:\\\"\\\",\\\"-1\\\":\\\"file error\\\",\\\"-2\\\":\\\"stream error\\\",\\\"-3\\\":\\\"data error\\\",\\\"-4\\\":\\\"insufficient memory\\\",\\\"-5\\\":\\\"buffer error\\\",\\\"-6\\\":\\\"incompatible version\\\"}},{}],14:[function(t,e,a){\\\"use strict\\\";var l=t(\\\"../utils/common\\\"),o=0,h=1;function i(t){for(var e=t.length;0<=--e;)t[e]=0}var d=0,s=29,f=256,_=f+1+s,u=30,c=19,g=2*_+1,m=15,n=16,b=7,w=256,p=16,v=17,k=18,y=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],x=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S=new Array(2*(_+2));i(S);var E=new Array(2*u);i(E);var A=new Array(512);i(A);var Z=new Array(256);i(Z);var R=new Array(s);i(R);var C,N,O,D=new Array(u);function I(t,e,a,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}function r(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function U(t){return t<256?A[t]:A[256+(t>>>7)]}function T(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function F(t,e,a){t.bi_valid>n-a?(t.bi_buf|=e<<t.bi_valid&65535,T(t,t.bi_buf),t.bi_buf=e>>n-t.bi_valid,t.bi_valid+=a-n):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)}function L(t,e,a){F(t,a[2*e],a[2*e+1])}function H(t,e){for(var a=0;a|=1&t,t>>>=1,a<<=1,0<--e;);return a>>>1}function j(t,e,a){var i,n,r=new Array(m+1),s=0;for(i=1;i<=m;i++)r[i]=s=s+a[i-1]<<1;for(n=0;n<=e;n++){var o=t[2*n+1];0!==o&&(t[2*n]=H(r[o]++,o))}}function K(t){var e;for(e=0;e<_;e++)t.dyn_ltree[2*e]=0;for(e=0;e<u;e++)t.dyn_dtree[2*e]=0;for(e=0;e<c;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*w]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function M(t){8<t.bi_valid?T(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function P(t,e,a,i){var n=2*e,r=2*a;return t[n]<t[r]||t[n]===t[r]&&i[e]<=i[a]}function Y(t,e,a){for(var i=t.heap[a],n=a<<1;n<=t.heap_len&&(n<t.heap_len&&P(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!P(e,i,t.heap[n],t.depth));)t.heap[a]=t.heap[n],a=n,n<<=1;t.heap[a]=i}function q(t,e,a){var i,n,r,s,o=0;if(0!==t.last_lit)for(;i=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],n=t.pending_buf[t.l_buf+o],o++,0===i?L(t,n,e):(L(t,(r=Z[n])+f+1,e),0!==(s=y[r])&&F(t,n-=R[r],s),L(t,r=U(--i),a),0!==(s=x[r])&&F(t,i-=D[r],s)),o<t.last_lit;);L(t,w,e)}function G(t,e){var a,i,n,r=e.dyn_tree,s=e.stat_desc.static_tree,o=e.stat_desc.has_stree,l=e.stat_desc.elems,h=-1;for(t.heap_len=0,t.heap_max=g,a=0;a<l;a++)0!==r[2*a]?(t.heap[++t.heap_len]=h=a,t.depth[a]=0):r[2*a+1]=0;for(;t.heap_len<2;)r[2*(n=t.heap[++t.heap_len]=h<2?++h:0)]=1,t.depth[n]=0,t.opt_len--,o&&(t.static_len-=s[2*n+1]);for(e.max_code=h,a=t.heap_len>>1;1<=a;a--)Y(t,r,a);for(n=l;a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Y(t,r,1),i=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=i,r[2*n]=r[2*a]+r[2*i],t.depth[n]=(t.depth[a]>=t.depth[i]?t.depth[a]:t.depth[i])+1,r[2*a+1]=r[2*i+1]=n,t.heap[1]=n++,Y(t,r,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,i,n,r,s,o,l=e.dyn_tree,h=e.max_code,d=e.stat_desc.static_tree,f=e.stat_desc.has_stree,_=e.stat_desc.extra_bits,u=e.stat_desc.extra_base,c=e.stat_desc.max_length,b=0;for(r=0;r<=m;r++)t.bl_count[r]=0;for(l[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<g;a++)c<(r=l[2*l[2*(i=t.heap[a])+1]+1]+1)&&(r=c,b++),l[2*i+1]=r,h<i||(t.bl_count[r]++,s=0,u<=i&&(s=_[i-u]),o=l[2*i],t.opt_len+=o*(r+s),f&&(t.static_len+=o*(d[2*i+1]+s)));if(0!==b){do{for(r=c-1;0===t.bl_count[r];)r--;t.bl_count[r]--,t.bl_count[r+1]+=2,t.bl_count[c]--,b-=2}while(0<b);for(r=c;0!==r;r--)for(i=t.bl_count[r];0!==i;)h<(n=t.heap[--a])||(l[2*n+1]!==r&&(t.opt_len+=(r-l[2*n+1])*l[2*n],l[2*n+1]=r),i--)}}(t,e),j(r,h,t.bl_count)}function X(t,e,a){var i,n,r=-1,s=e[1],o=0,l=7,h=4;for(0===s&&(l=138,h=3),e[2*(a+1)+1]=65535,i=0;i<=a;i++)n=s,s=e[2*(i+1)+1],++o<l&&n===s||(o<h?t.bl_tree[2*n]+=o:0!==n?(n!==r&&t.bl_tree[2*n]++,t.bl_tree[2*p]++):o<=10?t.bl_tree[2*v]++:t.bl_tree[2*k]++,r=n,(o=0)===s?(l=138,h=3):n===s?(l=6,h=3):(l=7,h=4))}function W(t,e,a){var i,n,r=-1,s=e[1],o=0,l=7,h=4;for(0===s&&(l=138,h=3),i=0;i<=a;i++)if(n=s,s=e[2*(i+1)+1],!(++o<l&&n===s)){if(o<h)for(;L(t,n,t.bl_tree),0!=--o;);else 0!==n?(n!==r&&(L(t,n,t.bl_tree),o--),L(t,p,t.bl_tree),F(t,o-3,2)):o<=10?(L(t,v,t.bl_tree),F(t,o-3,3)):(L(t,k,t.bl_tree),F(t,o-11,7));r=n,(o=0)===s?(l=138,h=3):n===s?(l=6,h=3):(l=7,h=4)}}i(D);var J=!1;function Q(t,e,a,i){var n,r,s,o;F(t,(d<<1)+(i?1:0),3),r=e,s=a,o=!0,M(n=t),o&&(T(n,s),T(n,~s)),l.arraySet(n.pending_buf,n.window,r,s,n.pending),n.pending+=s}a._tr_init=function(t){J||(function(){var t,e,a,i,n,r=new Array(m+1);for(i=a=0;i<s-1;i++)for(R[i]=a,t=0;t<1<<y[i];t++)Z[a++]=i;for(Z[a-1]=i,i=n=0;i<16;i++)for(D[i]=n,t=0;t<1<<x[i];t++)A[n++]=i;for(n>>=7;i<u;i++)for(D[i]=n<<7,t=0;t<1<<x[i]-7;t++)A[256+n++]=i;for(e=0;e<=m;e++)r[e]=0;for(t=0;t<=143;)S[2*t+1]=8,t++,r[8]++;for(;t<=255;)S[2*t+1]=9,t++,r[9]++;for(;t<=279;)S[2*t+1]=7,t++,r[7]++;for(;t<=287;)S[2*t+1]=8,t++,r[8]++;for(j(S,_+1,r),t=0;t<u;t++)E[2*t+1]=5,E[2*t]=H(t,5);C=new I(S,y,f+1,_,m),N=new I(E,x,0,u,m),O=new I(new Array(0),z,0,c,b)}(),J=!0),t.l_desc=new r(t.dyn_ltree,C),t.d_desc=new r(t.dyn_dtree,N),t.bl_desc=new r(t.bl_tree,O),t.bi_buf=0,t.bi_valid=0,K(t)},a._tr_stored_block=Q,a._tr_flush_block=function(t,e,a,i){var n,r,s=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return o;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return h;for(e=32;e<f;e++)if(0!==t.dyn_ltree[2*e])return h;return o}(t)),G(t,t.l_desc),G(t,t.d_desc),s=function(t){var e;for(X(t,t.dyn_ltree,t.l_desc.max_code),X(t,t.dyn_dtree,t.d_desc.max_code),G(t,t.bl_desc),e=c-1;3<=e&&0===t.bl_tree[2*B[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),n=t.opt_len+3+7>>>3,(r=t.static_len+3+7>>>3)<=n&&(n=r)):n=r=a+5,a+4<=n&&-1!==e?Q(t,e,a,i):4===t.strategy||r===n?(F(t,2+(i?1:0),3),q(t,S,E)):(F(t,4+(i?1:0),3),function(t,e,a,i){var n;for(F(t,e-257,5),F(t,a-1,5),F(t,i-4,4),n=0;n<i;n++)F(t,t.bl_tree[2*B[n]+1],3);W(t,t.dyn_ltree,e-1),W(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),q(t,t.dyn_ltree,t.dyn_dtree)),K(t),i&&M(t)},a._tr_tally=function(t,e,a){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&a,t.last_lit++,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(Z[a]+f+1)]++,t.dyn_dtree[2*U(e)]++),t.last_lit===t.lit_bufsize-1},a._tr_align=function(t){var e;F(t,2,3),L(t,w,S),16===(e=t).bi_valid?(T(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},{\\\"../utils/common\\\":3}],15:[function(t,e,a){\\\"use strict\\\";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\\\"\\\",this.state=null,this.data_type=2,this.adler=0}},{}],\\\"/\\\":[function(t,e,a){\\\"use strict\\\";var i={};(0,t(\\\"./lib/utils/common\\\").assign)(i,t(\\\"./lib/deflate\\\"),t(\\\"./lib/inflate\\\"),t(\\\"./lib/zlib/constants\\\")),e.exports=i},{\\\"./lib/deflate\\\":1,\\\"./lib/inflate\\\":2,\\\"./lib/utils/common\\\":3,\\\"./lib/zlib/constants\\\":6}]},{},[])(\\\"/\\\")});\"},{\"col_type\":\"movie_3\",\"name\":\"lz-string字串转换函数\",\"path\":\"lz-string-tool\",\"rule\":\"js:\\nif (!String.prototype.trim) {\\n    String.prototype.trim = function() {\\n        return this.replace(/^\\\\s+|\\\\s+$/, \\\"\\\");\\n    }\\n}\\n\\nfunction is_array(input) {\\n    return typeof(input) === \\\"object\\\" && (input instanceof Array);\\n}\\n\\nfunction convert_formated_hex_to_bytes(hex_str) {\\n    var count = 0,\\n        hex_arr,\\n        hex_data = [],\\n        hex_len,\\n        i;\\n\\n    if (hex_str.trim() == \\\"\\\") return [];\\n\\n    /// Check for invalid hex characters.\\n    if (/[^0-9a-fA-F\\\\s]/.test(hex_str)) {\\n        return false;\\n    }\\n\\n    hex_arr = hex_str.split(/([0-9a-fA-F]+)/g);\\n    hex_len = hex_arr.length;\\n\\n    for (i = 0; i < hex_len; ++i) {\\n        if (hex_arr[i].trim() == \\\"\\\") {\\n            continue;\\n        }\\n        hex_data[count++] = parseInt(hex_arr[i], 16);\\n    }\\n\\n    return hex_data;\\n}\\n\\nfunction convert_formated_hex_to_string(s) {\\n    var byte_arr = convert_formated_hex_to_bytes(s);\\n    var res = \\\"\\\";\\n    for (var i = 0; i < byte_arr.length; i += 2) {\\n        res += String.fromCharCode(byte_arr[i] | (byte_arr[i + 1] << 8));\\n    }\\n    return res;\\n}\\n\\nfunction convert_string_to_hex(s) {\\n    var byte_arr = [];\\n    for (var i = 0; i < s.length; i++) {\\n        var value = s.charCodeAt(i);\\n        byte_arr.push(value & 255);\\n        byte_arr.push((value >> 8) & 255);\\n    }\\n    return convert_to_formated_hex(byte_arr);\\n}\\n\\nfunction convert_to_formated_hex(byte_arr) {\\n    var hex_str = \\\"\\\",\\n        i,\\n        len,\\n        tmp_hex;\\n\\n    if (!is_array(byte_arr)) {\\n        return false;\\n    }\\n\\n    len = byte_arr.length;\\n\\n    for (i = 0; i < len; ++i) {\\n        if (byte_arr[i] < 0) {\\n            byte_arr[i] = byte_arr[i] + 256;\\n        }\\n        if (byte_arr[i] === undefined) {\\n            alert(\\\"Boom \\\" + i);\\n            byte_arr[i] = 0;\\n        }\\n        tmp_hex = byte_arr[i].toString(16);\\n\\n        // Add leading zero.\\n        if (tmp_hex.length == 1) tmp_hex = \\\"0\\\" + tmp_hex;\\n\\n        if ((i + 1) % 16 === 0) {\\n            tmp_hex += \\\"\\\\n\\\";\\n        } else {\\n            tmp_hex += \\\" \\\";\\n        }\\n\\n        hex_str += tmp_hex;\\n    }\\n\\n    return hex_str.trim();\\n}\"}]"},{"last_chapter_rule":"","pageList":[],"title":"规则查重工具","author":"Reborn","version":4,"url":"hiker://fyAll","col_type":"text_2","class_name":"规则查重","class_url":"home","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar items = [];\n\n// 所有开关  开则 true  关则 false\n// 规则去重开关\nlet clearDuplicate = true;\n\nvar keyList = [];\n// TODO 优化能匹配 hiker://xxx 的链接\nvar domainRegExp = new RegExp(\"([a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\\\\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\\\\.?)\");\n// domainRegExp = new RegExp(\"[hiker|http|https]://(.*?)/\");\nfunction isKeyInList(key) {\n    if (keyList.indexOf(key) > -1) {\n        return true;\n    }\n    return false;\n}\n\nlet rules = JSON.parse(getResCode());\n// let url = getUrl();\nlet url = \"hiker://home\";\n/hiker:\\/\\/(.*)/.test(url);\nlet category = RegExp.$1;\nswitch (category) {\n    case \"home\":\n        for (let i = 0; i < rules.length; i++) {\n            let rule = rules[i];\n            let key = domainRegExp.test(rule.url) === true ? RegExp.$1 : \"\";\n            // TODO 修复匹配出 fypage.html 的问题\n            if (key === \"\" || key === \"fypage.html\" || isKeyInList(key) === true) {\n                continue;\n            }\n            keyList.push(key);\n        }\n        break;\n    case \"bookmark\":\n        break;\n    default:\n        setError(\"未知分类，无法解析\");\n        break;\n}\n\nvar mRulesList = new Array(keyList.length);\nfor (let i = 0; i < mRulesList.length; i++) {\n    let rulesTemp = rules;\n    mRulesList[i] = rulesTemp.filter(item => {\n        let result = false;\n        try {\n            result = item.url.indexOf(keyList[i]) > -1;\n        } catch (e) {  result = false;  }\n        return result;\n    });\n}\n\nvar keyNum = 0;\nvar itemsTemp = [];\nfor (let i = 0; i < mRulesList.length; i++) {\n    let mRules = mRulesList[i];\n    if (mRules.length >= 2) {\n        itemsTemp.push({\n            title: keyList[i],\n            col_type: \"text_1\"\n        });\n        keyNum++;\n        for (let j = 0; j < mRules.length; j++) {\n            let rule = mRules[j];\n            itemsTemp.push({\n                title: rule.title,\n                url: \"hiker://home@\" + rule.title,\n            });\n        }\n    }\n}\n\nif (clearDuplicate === true){\n    var obj = {};\n    itemsTemp = itemsTemp.reduce((current, next) => {\n        obj[next.title] ? \"\" : obj[next.title] = true && current.push(next);\n        return current;\n    }, []);\n}\n\nitems.push({\n    title: \"总规则数：\" + rules.length + \"，当前待处理：\" + keyNum + \" 组\",\n    desc: \"少掉的规则去哪里了？当然是不重复的规则啦！\\n(然而还有一部分是匹配失败的结果🙈️...)\",\n    col_type: \"pic_1\"\n});\n\nwhile (itemsTemp.length) items.push(itemsTemp.shift());\n\nres.data = items;\nsetHomeResult(res);","searchFind":"js: // From Zruiry\nvar jsonZr = JSON.parse(fetch('hiker://home'));\r\nvar res = {};\nvar d = [];\nvar n = 0;\nfor (var i = 0; i <jsonZr.length; i++) {\n    if ((jsonZr[i].title + JSON.stringify(jsonZr[i].url).match(/https?:\\/\\/.*?\\//) + JSON.stringify(jsonZr[i].url).match(/.*?hiker.*?/)).includes(getUrl().split('#')[1]))\n    n++;\n}\nd.push({\n    title: '您的本地共有' + jsonZr.length + '条规则',\n    content: \"共搜索到\" + n + \"条结果\",\n});\nfor (var i = 0; i <jsonZr.length; i++) {\n    var r = {};\n    r.title = jsonZr[i].title;\n    var ruleAuthor = jsonZr[i].author;\n    var ruleGroup = jsonZr[i].group;\n    var ruleUrl = JSON.stringify(jsonZr[i].url).match(/https?:\\/\\/.*?\\//);\n    r.desc = \"规则版本：\" + jsonZr[i].version;\n    if (jsonZr[i].author == null || jsonZr[i].author == undefined || jsonZr[i].author == '') {\n       ruleAuthor = \"未知\";\n} \n    if(JSON.stringify(jsonZr[i].url).match(/https?:\\/\\/.*?\\//) == null || JSON.stringify(jsonZr[i].url).match(/https?:\\/\\/.*?\\//) == undefined || JSON.stringify(jsonZr[i].url).match(/https?:\\/\\/.*?\\//) == '') {\n        ruleUrl = \"无法识别\";\n}\n    if (JSON.stringify(jsonZr[i].url).includes(\"hiker\")) {\n       ruleUrl = jsonZr[i].url;\n}\n    if (jsonZr[i].group == null || jsonZr[i].group == undefined || jsonZr[i].group == '') {\n       ruleGroup = \"暂无分组\";\n}\n    r.content = \"规则作者：\" + ruleAuthor + \"\\n所在分组：\" + ruleGroup + \"\\n站点网址：\" + ruleUrl;\n    r.url = 'hiker://home@' + jsonZr[i].title;\n    r.img = 'https://acg.xydwz.cn/gqapi/gqapi.php?t=' + new Date().getTime() / i * (i + 1);\n    if ((jsonZr[i].title + JSON.stringify(jsonZr[i].url).match(/https?:\\/\\/.*?\\//) + JSON.stringify(jsonZr[i].url).match(/.*?hiker.*?/)).includes(getUrl().split('#')[1]))\n    d.push(r);\n}\r\nres.data = d;\r\nsetSearchResult(res);\r","search_url":"hiker://bookmark#**","titleColor":"#ff148e8e","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"VXAT","author":"小🔥星","version":1,"url":"https://www.vxat.com/fyAll_fypage.html","col_type":"movie_1_vertical_pic","class_name":"软件下载&Windows&Android&电视软件&","class_url":"RuanJianXiaZai&Windows&Android&TV&","area_name":"优惠活动&网站源码&服务器&技术教程&","area_url":"YouHuiHuoDong&WangZhanYuanMa&VPS&JiShuJiaoCheng&","sort_name":"一级页面提示错误为没有下一页！","year_name":"其他&游戏&网友分享&&","sort_url":"","year_url":"QiTa&YouXi&WangYouFenXiang&&","find_rule":"body&&.post;a&&title;img&&src;.time&&Text;a&&href==>js:var res={};var d=[];html=getResCode();text=parseDomForHtml(html,\".article-content&&Html\");d.push({title:text,col_type:'rich_text'});res.data=d;setHomeResult(res);","searchFind":"body&&.post;a&&title;a&&href;.time&&Text;.post&&Text;img&&src","search_url":"https://www.vxat.com/search.php?q=**&page=fypage","titleColor":"#ff228be6","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"js:var res={};var d=[];html=getResCode();text=parseDomForHtml(html,\".article-content&&Html\");d.push({title:text,col_type:'rich_text'});res.data=d;setHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://z3.ax1x.com/2021/10/28/5L5kpd.png"},{"last_chapter_rule":"","pageList":[],"title":"夜雨聆风","author":"小🔥星","version":1,"url":"https://www.yeyulingfeng.com/category/fyAll/page/fypage","col_type":"movie_1_vertical_pic","class_name":"手机应用&电脑应用&教程&软件&网站源码&","class_url":"ruan/sjyy&ruan/dnyy&jishu&ruan&mubann/wzym&","area_name":"ios专区&编译开发&游戏&源码&模板主题","area_url":"ruan/ios&ruan/kaifa&pojie/game&muban&muban/wzmb","sort_name":"活动资讯&最新活动&科技资讯&其他资源&","year_name":"好片推荐&实用趣站&零散资源&谈天说地&","sort_url":"huodong&huodong/xin&huodong/no1&qita&","year_url":"qita/dianying&qita/website&qita/scattered&qita/tanhua&","find_rule":"body&&.excerpt;img&&alt;img&&data-src;time&&Text;a&&href==>js:var res={};var d=[];html=getResCode();text=parseDomForHtml(html,\".article-content&&Html\");d.push({title:text,col_type:'rich_text'});res.data=d;setHomeResult(res);","searchFind":"body&&.excerpt;img&&alt;a&&href;time&&Text;.note&&Text;img&&data-src","search_url":"https://www.yeyulingfeng.com/page/fypage?s=**","titleColor":"#ff228be6","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"js:var res={};var d=[];html=getResCode();text=parseDomForHtml(html,\".article-content&&Html\");d.push({title:text,col_type:'rich_text'});res.data=d;setHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://z3.ax1x.com/2021/10/28/5L4XlR.png"},{"last_chapter_rule":"","pageList":[],"title":"小霸王","author":"小🔥星","version":3,"url":"https://www.yikm.net/nes?page=fypage&tag=fyAll&e=","col_type":"movie_3_marquee","class_name":"GBA&街机&Flash&H5&","class_url":"11&9&12&1&","area_name":"动作冒险&小游戏&飞行射击&格斗&","area_url":"2&8&3&4&","sort_name":"适度游戏益脑，沉迷游戏伤身！","year_name":"棋牌&射击&运动比赛&角色扮演&","sort_url":"","year_url":"5&6&7&10&","find_rule":"body&&.card;h4&&Text;img&&src;;a&&href","searchFind":"body&&.card;h4&&Text;a&&href;span&&Text;;img&&src","search_url":"https://www.yikm.net/search?name=**","titleColor":"#ff228be6","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://z3.ax1x.com/2021/10/28/5LImvR.png"},{"last_chapter_rule":"","pageList":[],"title":"分享者","author":"小🔥星","version":8,"url":"https://sharerw.com/a/fyAll/fypage/","col_type":"movie_1_vertical_pic","class_name":"手机软件&车机软件&电脑软件&","class_url":"ganhuo&qiche&jingyan&","area_name":"盒子软件&TV资讯&精选TV","area_url":"ziyuan&tvzx&jxtv","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"body&&.article-list;img&&alt;img&&src;.time&&Text;a&&href==>js:var res={};var d=[];html=getResCode();text=parseDomForHtml(html,\".art-content&&Html\");d.push({title:text,col_type:'rich_text'});res.data=d;setHomeResult(res);","searchFind":"body&&.article-list;img&&alt;a&&href;.time&&Text;p,1&&Text;img&&src","search_url":"https://sharerw.com/search.php?q=**&page=fypage","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"js:var res={};var d=[];html=getResCode();text=parseDomForHtml(html,\".art-content&&Html\");d.push({title:text,col_type:'rich_text'});res.data=d;setHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[]","icon":"https://z3.ax1x.com/2021/11/05/ImzSvd.png"},{"last_chapter_rule":"","pageList":[],"title":"人生重开模拟器","author":"警告：本小程序仅供海阔视界用户学习交流使用。如有导入，请务必在24小时之内删除！若作它用，后果自负！","version":0,"url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\n/** 无需下载APP，点返回即可。*/\nsetResult([{\n    col_type: \"x5_webview_single\",\n    url: \"http://liferestart.syaro.io/view/index.html\",\n    desc: \"float&&100%\",\n    extra: {\n        canBack: true\n    }\n}])","searchFind":"","search_url":"","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"小电视①","author":"","version":0,"url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:var d=[];\n\nd.push({\n    desc:'auto&&float',\n    url:'http://tvdang.ddns.net:8000',\n\t\t col_type: 'x5_webview_single'\n});\n\nsetResult(d);","searchFind":"","search_url":"","titleColor":"#ff228be6","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]"},{"firstHeader":"class","last_chapter_rule":"","pageList":[],"title":"网盘","author":"","version":0,"url":"https://v1.hitokoto.cn","col_type":"text_2","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js: \nvar titles='咕咕@@https://www.h2ero.com/&&小白盘@@https://www.xiaobaipan.com/&&云盘精灵@@https://www.yunpanjingling.com/&&十月搜索@@http://www.shiyue.org/&&史莱姆@@http://www.slimego.cn/&&坑搜网@@http://www.kengso.com/&&热盘搜@@http://www.repanso.com/&&盘么么@@http://www.panmeme.com/&&盘搜啦@@http://www.pansoula.com/&&58网盘@@https://m.58wangpan.com/&&西部维度@@http://wx.xingtuhua.com/&&56网盘@@https://m.56wangpan.com/&&V盘@@http://www.vpansou.com/&&探索云@@http://tansuo233.com/&&搜度网盘@@http://m.sodu123.com/&&99百度云@@http://www.99baiduyun.com&&fa盘搜@@https://www.fastsoso.cn/&&文件搜@@http://wjsou.com/&&轻舟网@@https://www.qzhou.com.cn/&&百度云@@http://www.baiduyunsousou.com/#&&云铺子@@http://www.yunpz.net/&&网盘传奇@@https://jidanso.com/&&搜网盘@@http://m.sowangpan.com/&&SOSO云盘@@https://www.sosoyunpan.com/&&盘131@@http://m.pan131.com/&&找云盘@@http://m.zhaoyunpan.cn/&&猪猪盘@@http://www.zhuzhupan.com/&&电驴盘@@http://www.verypan.com/';\nvar t=titles.split(\"&&\");var res={};var d=[];var hitokoto={};eval(\"hitokoto=\"+getResCode());\n\nd.push({title:hitokoto.hitokoto,url:\"https://api.lyiqk.cn/menhera\",desc:\"\",col_type:\"pic_1\",pic_url:\"https://api.lyiqk.cn/menhera?t=\"+new Date().getTime()});\n\nfor(var i=0;i<t.length && i<19;i++){var k=t[i].split(\"@@\");if(k.length<2)continue;var r={};r.title=k[0];r.url=k[1];r.col_type='text_3';d.push(r);}\n\nfor(var i=2;i<t.length;i++){var k=t[i].split(\"@@\");if(k.length<2)continue;var r={};r.title=k[0];r.url=k[1];r.col_type='text_3';d.push(r);}\n\nres.data=d;setHomeResult(res);","searchFind":"","search_url":"","titleColor":"","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"auto","preRule":"","pages":"[]","icon":""},{"last_chapter_rule":"","pageList":[],"title":"贝乐虎·Q","author":"发粪涂墙","version":0,"url":"http://ubestkid.com/fyAll","col_type":"movie_3","class_name":"儿歌&故事&国学","class_url":"erge&gushi&guoxueqimeng","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nvar tabs = [];\nvar lists = [];\nvar html = getResCode();\nvar conts = pdfa(html, 'body&&.cate-box');\n\nfor (var i in conts) {\n   tabs.push(pdfh(conts[i], 'h3&&Text'))\n   lists.push(pdfa(conts[i], 'body&&.cate-item'))\n}\n\nfunction setTabs(tabs, vari) {\n    for (var i = 0; i < tabs.length; i++) {\n        var url = \"#noLoading#@lazyRule=.js:putVar('\" + vari + \"', '\" + i + \"');refreshPage();'hiker://empty'\";\n        d.push({\n            title: getVar(vari, '0') == i ? '““' + tabs[i] + '””' : tabs[i],\n            url: url,\n            col_type: 'flex_button'\n        })\n    }\n}\n\nfunction setLists(lists, index) {\n    var list = lists[index];\n    for (var j in list) {\n        d.push({\n            title: pdfh(list[j], 'p&&Text'),\n\t\t       img: pd(list[j], 'mip-img&&src'),\n            url: pd(list[j], 'a&&href')+'@lazyRule=mip-video&&src',\n            col_type: 'movie_3'\n        })\n    }\n}\nsetTabs(tabs, MY_URL)\nsetLists(lists, getVar(MY_URL, '0'))\nsetResult(d)","searchFind":"","search_url":"","titleColor":"","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","icon":"https://actcdn.ubestkid.com/webpage/offical-web/img/header_left@2x.9d9b4563e70ee2aa40ac71c243e82911.png"},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"CSS格式","path":"css","rule":"function getNewText(text,css){\n   return '<'+css+'>' + text + '</'+css+'>';\n}\n\nfunction getBigText(text) {\n    return '<big>' + text + '</big>';\n}\nfunction getSmallText(text) {\n    return '<small>' + text + '</small>';\n}\nfunction getStrongText(text) {\n    return '<strong>' + text + '</strong>';\n}\nfunction getTitleText(text) {\n    return getStrongText(text);\n}\nfunction getColorText(text, color) {\n    return '<font color=\"' + color + '\">' + text + '</font>';\n}\nfunction getGreyText(text) {\n    return getColorText(text, 'grey');\n}\nfunction getAuthorText(text) {\n    return getColorText(text, userColor);\n}\nfunction getCodeText(text) {\n    return '<code>' + text + '</code>';\n}\nfunction getBlockquoteText(text) {\n    return '<blockquote>' + text + '</blockquote>'\n}\nfunction getAddressTag(url, text) {\n    return '<a href=\"' + url + '\">' + text + '</a>'\n}\nfunction getCommentMeta(html) {\n    return getSmallText(html);\n}"},{"col_type":"movie_3","name":"视图处理","path":"view","rule":"//获取重定向地址\nfunction getRedirectAddress(url){\n    let urlRedirect = '';\n    try{\n        let urlCode = fetch(url,{redirect:false,withHeaders:true});\n        urlRedirect = JSON.parse(urlCode).headers.location[0];\n    }catch(e){}\n    return urlRedirect;\n}\n\nString.prototype.replaceWithCallback = function (searchValue, replaceValue, callback) {\n    let returnValue = this;\n    if (callback != null) {\n        returnValue = callback(this, searchValue, replaceValue);\n    }\n    return returnValue;\n};\n\n//删除重定向图片链接\nfunction deleteInvalidImgTag(context, searchValue,replaceValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = context;\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            let item = matchArray[i];\n            /<img.*?(data-original|data-src|src)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n            let imgUrl = RegExp.$2;\n            if (imgUrl.indexOf(\"placeholder\") > -1) {\n                /<img.*?(data-original)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n                imgUrl = RegExp.$2;\n            }\n            if(imgUrl.indexOf(\"//\")==0){imgUrl = \"https:\" + imgUrl;}\n            if (imgUrl != '') {\n                if(getRedirectAddress(imgUrl) != ''){\n                    returnValue = returnValue.replace(item,replaceValue);\n                }\n            }\n        }\n    }\n    return returnValue;\n}\n\nfunction GetImgTagArrayString(context, searchValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = '';\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            returnValue += matchArray[i];\n        }\n    }\n    return returnValue;\n}\n\nfunction imgTagGetUrlArray(context, searchValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = [];\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            let item = matchArray[i];\n            /<img.*?(data-original|data-src|src)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n            let imgUrl = RegExp.$2;\n            if (imgUrl.indexOf(\"placeholder\") > -1) {\n                /<img.*?(data-original)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n                imgUrl = RegExp.$2;\n            }\n            if(imgUrl.indexOf(\"//\")==0){imgUrl = \"https:\" + imgUrl;}\n            if (imgUrl !== '') {\n                returnValue.push(imgUrl);\n            }\n        }\n    }\n    return returnValue;\n}\n\n\nlet imgError = '<p><font color=\"grey\">图片暂时无法显示，若要查看请<a href=\"' + MY_URL + '\">访问原文</a></font></p>';\nfunction imgTag(context, imgUrl) {\n    let replaceString = imgUrl === '' ? imgError : '<p><showimg src=\"' + (imgUrl + '@Referer=' + MY_URL) + '\"></p>';\n    if (getMyVar('fuliba.hideImg')=='1') {\n        replaceString = imgUrl === '' ? imgError : '<p><a href=\"' + imgUrl + '\">[点击查看大图]</a></p>';\n    }\n    return context.replace(/<img data-v>/g, replaceString);\n}\nfunction imgTagOne(context, imgUrl) {\n    let replaceString = imgUrl === '' ? imgError : '\\n<p><showimg src=\"' + (imgUrl + '@Referer=' + MY_URL) + '\"></p>';\n    if (getMyVar('fuliba.hideImg')=='1') {\n        replaceString = imgUrl === '' ? imgError : '<p><a href=\"' + imgUrl + '\">[点击查看大图]</a>&nbsp;&nbsp;&nbsp;<a href=\"web://' + imgUrl + '\">[点击查看链接]</a></p>';\n    }\n    return context.replace(/<img data-v>/g, replaceString);\n}\nfunction imgTagReplacement2(context, searchValue, replaceValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = context;\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            let item = matchArray[i];\n            /<img.*?(data-original|data-src|src)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n            let imgUrl = RegExp.$2;\n            if (imgUrl.indexOf(\"placeholder\") > -1) {\n                /<img.*?(data-original)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n                imgUrl = RegExp.$2;\n            }\n            if(imgUrl.indexOf(\"//\")==0){imgUrl = \"https:\" + imgUrl;}\n            if (imgUrl !== '') {\n                returnValue = returnValue.replace(item, replaceValue);\n                returnValue = imgTag(returnValue, imgUrl);\n            }\n        }\n    }\n    return returnValue;\n}\nfunction imgTagReplacementOne(context, searchValue, replaceValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = context;\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            let item = matchArray[i];\n            /<img.*?(data-original|data-src|src)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n            let imgUrl = RegExp.$2;\n            if (imgUrl.indexOf(\"placeholder\") > -1) {\n                /<img.*?(data-original)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n                imgUrl = RegExp.$2;\n            }\n            if(imgUrl.indexOf(\"//\")==0){imgUrl = \"https:\" + imgUrl;}\n            if (imgUrl !== '') {\n                returnValue = returnValue.replace(item, replaceValue);\n                returnValue = imgTagOne(returnValue, imgUrl);\n            }\n        }\n    }\n    return returnValue;\n}\n\nlet videoError = '<p><font color=\"grey\">视频暂时无法显示，若要查看请<a href=\"' + MY_URL + '\">访问原文</a></font></p>';\nfunction videoTag(context, videoUrl) {\n    let replaceString = videoUrl === '' ? videoError : '<p><a href=\"' + (videoUrl) + '\">[点击查看视频]</a></p>';\n    if (getMyVar('fuliba.hideImg')=='1') {\n        replaceString = videoUrl === '' ? videoError : '<p><a href=\"' + videoUrl + '\">[点击查看视频]</a></p>';\n    }\n    return context.replace(/<video data-v>/g, replaceString);\n}\nfunction videoTagReplacement2(context, searchValue, replaceValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = context;\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            let item = matchArray[i];\n            /<(source|video).*?(data-original|data-src|src)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n            let videoUrl = RegExp.$3;\n            if(videoUrl.indexOf(\"//\")==0){videoUrl = \"https:\" + videoUrl;}\n            if(videoUrl.includes(\"zhainanmi\")) continue;\n            if (videoUrl !== '') {\n                returnValue = returnValue.replace(item, replaceValue);\n                returnValue = videoTag(returnValue, videoUrl);\n            }\n        }\n    }\n    return returnValue;\n}\n\nlet linkError = '<p><font color=\"grey\">链接暂时无法显示，若要查看请<a href=\"' + MY_URL + '\">访问原文</a></font></p>';\nfunction linkTag(context, linkUrl) {\n    let replaceString = linkUrl === '' ? linkError : '<p><a href=\"' + (linkUrl) + '\">[点击查看链接]</a></p>';\n    if (getMyVar('fuliba.hideImg')=='1') {\n        replaceString = linkUrl === '' ? linkError : '<p><a href=\"' + linkUrl + '\">[点击查看链接]</a></p>';\n    }\n    return context.replace(/<link data-v>/g, replaceString);\n}\nfunction linkTagReplacement2(context, searchValue, replaceValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = context;\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            let item = matchArray[i];\n            /<(iframe).*?(data-original|data-src|src)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n            let linkUrl = RegExp.$3;\n            if(linkUrl.indexOf(\"//\")==0){linkUrl = \"https:\" + linkUrl;}\n            if (linkUrl !== '') {\n                returnValue = returnValue.replace(item, replaceValue);\n                returnValue = linkTag(returnValue, linkUrl);\n            }\n        }\n    }\n    return returnValue;\n}\n\nfunction cssTagReplacement2(context, searchValue, replaceValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = context;\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            let item = matchArray[i];\n            /<(div|p|strong)>.*?<\\/(div|p|strong)>/.test(item);\n            let css = RegExp.$2;\n            if (css.match(/^\\s*$/)) {\n                returnValue = returnValue.replace(item, replaceValue);\n            }\n        }\n    }\n    return returnValue;\n}"},{"col_type":"movie_3","name":"评论方法","path":"comment","rule":"\nfunction GetHome(num){\n    let retract = '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;';\n    for(let i=1;i<num;i++) retract += '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;';\n    return '<span>'+retract+'</span>';\n}\n\nfunction GetComment(main,autor,time,floor){\n\n    let fontStyle = '<font color=\"grey\"><span class=\"normal-font gray-font align-baseline\">&nbsp;&nbsp;'+time+' &nbsp;</span></font>';\n    let buttonData = getColorText(autor,'#2979FF')+fontStyle+getColorText(floor,'#2979aa');\n    let comment = '';\n\n    if(floor==''){\n        comment =GetHome(1)+main+getNewText('<br>'+GetHome(1)+buttonData,'small');\n    }else{\n        comment = main+getNewText('<br>'+ buttonData,'small');\n    }\n    return comment;\n}\n\nfunction GetTips(tips,warning){\n    let tipsStyle = '<small><span class=\"normal-font gray-font align-baseline\">&nbsp;'+tips+' &nbsp;</span></small>';\n    let warningStyle = '<small><font color=\"grey\"><span class=\"normal-font gray-font align-baseline\">&nbsp;'+warning+' &nbsp;</span></font></small>';\n    return tipsStyle+'<br>'+warningStyle;\n}"},{"col_type":"movie_3","name":"解析搜索","path":"one","rule":"function getItem(html,colors){\n    var list = parseDomForArray(html, 'body&&article');//       【列表】\n    var item=[];\n    for (var i in list) {\n        let title = parseDomForHtml(list[i], 'h2&&Text');\n        let pic = \"https://img0.baidu.com/it/u=1420719556,2509925486&fm=26&fmt=auto&gp=0.jpg\";\n        try{\n            pic = parseDomForHtml(list[i], 'img&&data-src');\n        }catch(e){}\n        let commentNum = '0';\n        try{\n            commentNum = parseDomForHtml(list[i], '.pc&&Text').split(\"(\")[1].split(\")\")[0];\n        }catch(e){}\n\n        let time = \"🕧日期: \" + '““””<b><font color='+ colors + '>' + parseDomForHtml(list[i], '.meta&&time&&Text') +' </font></b>';\n        let like = \"💜点赞: \" + '““””<b><font color='+ colors + '>' + parseDomForHtml(list[i], '.post-like&&span&&Text') +' </font></b>';\n        let comment =  \"  💬评论: \" + '““””<b><font color='+ colors + '>' + commentNum +' </font></b>';\n\n        let tabs=\"\\n\\n\";\n\n        item.push({\n            title:title,//【标题】\n            pic_url: pic, //图片\n            desc: time+tabs+like+comment,//【描述】\n            url: parseDom(list[i], 'h2&&a&&href') +'#fullTheme##noRecordHistory##noHistory#',//【链接】\n        });\n    }\n    return item;\n}\n\nfunction getSearchItem(html){\n    var list = parseDomForArray(html, 'body&&article');//       【列表】\n    var item=[];\n    for (var i in list) {\n        let title = parseDomForHtml(list[i], 'h2&&Text');\n        let pic = \"https://img0.baidu.com/it/u=1420719556,2509925486&fm=26&fmt=auto&gp=0.jpg\";\n        try{\n            pic = parseDomForHtml(list[i], 'img&&data-src');\n        }catch(e){}\n        let commentNum = '0';\n        try{\n            commentNum = parseDomForHtml(list[i], '.pc&&Text').split(\"(\")[1].split(\")\")[0];\n        }catch(e){}\n\n        // let time = \"🕧:\"  + parseDomForHtml(list[i], '.meta&&time&&Text');\n        let like = \"💜: \" + parseDomForHtml(list[i], '.post-like&&span&&Text');\n        let comment =  \"💬: \" + commentNum;\n\n        let tabs=\"   \";\n        \n        item.push({\n            title:title,//【标题】\n            pic_url: pic, //图片\n            desc: like+tabs+comment,//【描述】\n            url: parseDom(list[i], 'h2&&a&&href') +'#fullTheme##noRecordHistory##noHistory#',//【链接】\n        });\n    }\n    return item;\n}"},{"col_type":"movie_3","name":"方法云集","path":"uses","rule":"function getAddressTag(url, text) {\n    return '<a href=\"' + url + '\">' + text + '</a>'\n}\n\nfunction getRangeColors(){\n    //颜色 代码来自Rx大佬\n    let Colors=[\"4\",\"5\",\"0\",\"1\",\"A\",\"3\",\"8\",\"9\",\"B\",\"C\",\"D\",\"E\",\"6\",\"7\",\"F\"];\n    let Color = \"#\";\n    for (let i=0;i<6;i++){\n        let num=Math.ceil((Math.random()*15))-1;\n        Color+=Colors[num];\n    }\n    return Color;\n}\n\nfunction getBaiduYunCode(content){\n    if(content.includes(\"pan.baidu.com\")){\n        var code = content.split(\"提取码：\");\n        if(code.length>1) copy(code[1].substring(0,4));\n    }\n}"}],"title":"福利吧Ⓜ️","author":"","version":1,"url":"hiker://empty#fyAll#fypage#https://fuliba2021.net","col_type":"movie_1_vertical_pic","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\n//以下是 列表解析规则（JS）\nvar res = {};\nvar item = [];\n\n// var type=MY_URL.split('#')[1];\nvar page=MY_URL.split('#')[2];\nvar mUrl=MY_URL.split('#')[3];\n\nif(getMyVar('fuliba.titleColor')==\"\") putMyVar('fuliba.titleColor',\"#FA7298\");\nif(getMyVar('fuliba.descColor')==\"\") putMyVar('fuliba.descColor',\"#708090\");\n\nif(getMyVar('fuliba.categoryNum')==\"\") putMyVar('fuliba.categoryNum','0');\nif(getMyVar('fuliba.url')==\"\") putMyVar('fuliba.url',mUrl);\n\n//自定义颜色\nconst titleColor=getMyVar('fuliba.titleColor');\nconst descColor = getMyVar('fuliba.descColor');\n\nconst categoryNum = getMyVar('fuliba.categoryNum');\nconst clickUrl = getMyVar('fuliba.url');\n\n\neval(JSON.parse(request(\"hiker://page/uses\")).rule);\nif(page === '1'){\n\n    var tColor = getRangeColors();\n    var dColor = getRangeColors();\n    var mHtml = request(mUrl,{});\n\n    var categoryOne = parseDomForArray(mHtml, '#menu-item-2299&&a');\n    var categoryTwo = parseDomForArray(mHtml, '.items&&a');\n\n    var categories = [];\n    categories.push(getAddressTag(mUrl,'福利吧'));\n    categories.push.apply(categories,categoryOne);\n    categories.push.apply(categories,categoryTwo);\n    const categoriesArray = categories;\n\n    categoriesArray.forEach((category, index) => {\n        let title = parseDomForHtml(category,'a&&Text');\n        let titleNum = title.split(\" \")[1];\n        let url = parseDomForHtml(category,'a&&href');\n        if(index == 1) title = title.replace(\"福利吧\",\"最新福利\");\n        if(index > 9){\n            title = title.split(\" \")[0];\n        }else{\n            titleNum = \"(∞)\";\n        }\n        if(url.indexOf(\"/\") == 0) url = mUrl + url;\n        item.push({\n\n            title: index.toString()===getMyVar('fuliba.categoryNum')?'““””<b><font color='+titleColor+'>'+title+'</font></b>'+'““””<small><small><small><font color='+\"#FA7298\"+'>'+titleNum+' </font></small></small></small>':title,\n            url: $(url).lazyRule((params) => {\n\n                putMyVar(\"fuliba.categoryNum\", params.index.toString());\n                putMyVar('fuliba.url',params.url);\n                putMyVar('fuliba.titleColor',params.tColor);\n                putMyVar('fuliba.descColor',params.dColor);\n                refreshPage(true);\n                return \"hiker://empty\";\n            }, {index: index,url: url,tColor: tColor,dColor: dColor,}),\n            col_type: 'scroll_button',\n        });\n        if(index == 4 || index == 9 || index == 21) item.push({col_type:\"blank_block\"});\n    })\n    item.push({col_type:\"blank_block\"});\n}\n\n\nvar ul = clickUrl+\"/page/\"+page;\nvar status = JSON.parse(fetch(ul, {headers:{\"User-Agent\":MOBILE_UA,\"Referer\":ul}, redirect:false, withHeaders:true}));\n\nif(status.statusCode!==404){\n    var html=fetch(ul,{});\n    eval(JSON.parse(request(\"hiker://page/one\")).rule);\n    item.push.apply(item,getItem(html,descColor));\n}\n\nres.data = item;\nsetHomeResult(res);","searchFind":"js:\n//以下是 列表解析规则（JS）\n\nvar page=MY_URL.split('#')[1];\nvar searchn=MY_URL.split('#')[2];\nvar mUrl=MY_URL.split('#')[3];\n\nvar ul = mUrl+\"/page/\"+ page+\"/?s=\"+searchn;\nvar status = JSON.parse(fetch(ul, {headers:{\"User-Agent\":MOBILE_UA,\"Referer\":ul}, redirect:false, withHeaders:true}));\n\nvar res = {};\nvar item=[];\n\nif(status.statusCode!==404){\n    var html=fetch(ul,{});\n    eval(JSON.parse(request(\"hiker://page/one\")).rule);\n    item=getSearchItem(html);\n}\n\nres.data = item;\nsetHomeResult(res);","search_url":"hiker://empty#fypage#**#https://fuliba2021.net","group":"⑦其他","detail_col_type":"rich_text","detail_find_rule":"js:\nvar res={};\nvar d=[];\n\n//观看文章模式 默认模式图文并茂/0 看图模式/1 省流模式/2 阅读模式/3\nif(getMyVar('fuliba.showMode')=='') putMyVar('fuliba.showMode','0');\n\n\n//图片显示模式 网页内嵌图片/0 默认海阔显示图片/1\nif(getMyVar('fuliba.viewPicMode')=='') putMyVar('fuliba.viewPicMode','1');\nif(getMyVar('fuliba.openComment')=='') putMyVar('fuliba.openComment','0');\n\nif(getMyVar('fuliba.viewPicMode')=='0' && getMyVar('fuliba.hideImg')=='') putMyVar('fuliba.hideImg','1');\n\nif(getMyVar('fuliba.viewPicMode')=='1' && getMyVar('fuliba.bigImg')=='') putMyVar('fuliba.bigImg','pic_1_full');\n\n\nlet imageTextArray = ['🌃图文并茂','👁看图模式','📱省流模式','📚阅读模式'];\nputMyVar('fuliba.imageTextMode',imageTextArray[parseInt(getMyVar('fuliba.showMode'))]);\n\nlet viewPicArray = [{0:\"显示图片🌌\",1:\"隐藏图片🔗\"},{ pic_1_full:\"默认大图🌈\", pic_3:\"精美小图✨\"}];\nif(getMyVar('fuliba.viewPicMode')=='1') putMyVar('fuliba.imgMode',viewPicArray[1][getMyVar('fuliba.bigImg')]);\nif(getMyVar('fuliba.viewPicMode')=='0') putMyVar('fuliba.imgMode',viewPicArray[0][parseInt(getMyVar('fuliba.hideImg'))]);\n\nvar picType = '';\nif(getMyVar('fuliba.viewPicMode')=='1') picType = `@lazyRule=.js:putMyVar('fuliba.bigImg',getMyVar('fuliba.bigImg')!=='pic_3'?'pic_3':'pic_1_full');refreshPage();'toast://已切换图片类型';\">`;\nif(getMyVar('fuliba.viewPicMode')=='0') picType = `@lazyRule=.js:putMyVar('fuliba.hideImg',getMyVar('fuliba.hideImg')!=='0'?'0':'1');refreshPage();'toast://已切换图片类型';\">`;\n\nvar commentArray = ['已关闭评论','已开启评论'];\nputMyVar('fuliba.openCommentString',commentArray[parseInt(getMyVar('fuliba.openComment'))])\nvar commentType = `@lazyRule=.js:putMyVar('fuliba.openComment',getMyVar('fuliba.openComment')!=='0'?'0':'1');refreshPage();'toast://'+getMyVar('fuliba.openCommentString');\">`;\n\n// if(getMyVar('fuliba.showMode')=='0') putMyVar('fuliba.imageTextMode','🌃图文并茂');\n// if(getMyVar('fuliba.showMode')=='1') putMyVar('fuliba.imageTextMode','👁看图模式');\n// if(getMyVar('fuliba.showMode')=='2') putMyVar('fuliba.imageTextMode','🌐省流模式');\n// if(getMyVar('fuliba.showMode')=='3') putMyVar('fuliba.imageTextMode','📚阅读模式');\n\n\n\nvar goodColor = '#4000FF';\nvar size = 16;\nvar html=getResCode();\n\neval(JSON.parse(request(\"hiker://page/css\")).rule);\neval(JSON.parse(request(\"hiker://page/view\")).rule);\n\n\nfunction getBaiduYunCode(content){\n    if(content.includes('pan.baidu.com')){\n        let code = content.split('提取码：');\n        if(code.length>1) copy(code[1].substring(0,4));\n    }\n}\n\nvar maxPage = 1;\ntry {\n    maxPage =  parseInt (parseDomForArray(html,'.article-paging&&a').length+1);\n} catch (e) { }\n\n\nlet headerTitle = getBigText(getStrongText(parseDomForHtml(html, '.article-title&&Text'))) + ' ' + getSmallText(getAddressTag(MY_URL, '[查看原文👀]'));\n\nlet goodCount = '👍🏻点'+parseDomForHtml(html, '.action.action-like&&Text');\ngoodCount = '<font color=\"' + goodColor + '\">' + goodCount \n+ `<small><small><sup><a href=\"hiker://empty` + commentType + getMyVar('fuliba.openCommentString').substring(1,2) + \"</a></sup></small></small></font>\";\n\nlet brower = `<big><a href=\"hiker://empty@lazyRule=.js:putMyVar('fuliba.browserLink',getMyVar('fuliba.browserLink')!==''?'':'web://');refreshPage();'toast://已切换浏览模式';\">`+(getMyVar('fuliba.browserLink')!==''?\"🌐\":\"🌆\")+\"</a></big>\";\n\n//var subTime = getCodeText(parseDomForHtml(html,'.article-meta--a&&li,0&&Text').replace('发布于','日期:'));\n\nlet subType = [];\ntry{\n    subType = parseDomForArray(html,'.article-tags&&a');\n}catch(e){}\nif(subType.length==0) subType = parseDomForArray(html,'.article-meta&&span,1&&a');\n\n\nlet type=getCodeText('🏷️标签: ');\nfor(let i=0;i<subType.length;i++){\n    type += getCodeText(parseDomForHtml(subType[i],'a&&Text'));\n}\n\nlet comment=[];\ntry{\n    comment = parseDomForArray(html,'#postcomments&&.depth-1');\n}catch(e){}\n\n//if(headerTitle.includes('女神') || headerTitle.includes('写真') || headerTitle.includes('套图') ||type.includes('宅男女神') || type.includes('写真套图')) putMyVar('img','pic_3');\n\nd.push({title: headerTitle+'&nbsp;' +goodCount+'&nbsp;'+brower+'<br>'+type,});\nd.push({col_type:'line'});\n\n// var tips = getColorText('温馨提示:图片清晰度较高，加载速度取决于网速！！！','#F47920');\n//if(getMyVar('img')=='pic_3') d.push({title: tips,});\n\n\nd.push({col_type:\"rich_text\",title:\n    `<small>当前<a href=\"hiker://empty@lazyRule=.js:putMyVar('fuliba.viewPicMode',getMyVar('fuliba.viewPicMode')!=='0'?'0':'1');refreshPage();'toast://已切换图片显示模式';\">`+(getMyVar('fuliba.viewPicMode')!=='0'?\"海阔模式\":\"网页模式\")+\"</a>👈</small>\"\n    +`<small>为：<a href=\"hiker://empty`+picType+getMyVar('fuliba.imgMode')+\"</a></small>\"\n    +'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'\n    +`<small>模式：<a href=\"hiker://empty@lazyRule=.js:if(getMyVar('fuliba.showMode')=='3'){putMyVar('fuliba.showMode','0')}else{putMyVar('fuliba.showMode',(parseInt(getMyVar('fuliba.showMode'))+1).toString());};refreshPage();'toast://已切换文章模式';\">`+getMyVar('fuliba.imageTextMode')+\"</a></small>\"\n});\n\nvar content = '';\nfor (let i = 1; i <= maxPage; i++) {\n    if(i > 1) html = fetch(MY_URL.replace('.html', '.html/' + (i)),{});\n\n    let contentZero = parseDomForHtml(html, '.article-content&&Html');\n    if(maxPage > 1){    \n        contentZero = contentZero.split('<span class=\"wp_keywordlink\"><a href')[0];\n    }\n\n    if(i>1){\n        try{\n            let not_copy = parseDomForHtml(contentZero, '.article-update-tips&&Html');\n            contentZero = contentZero.replace(not_copy, '');\n        }catch(e){}\n    }\n    content += contentZero;\n}\n\n// getBaiduYunCode(content);\n\n\ncontent = content\n    .replace(/<br>/g, '')\n    .replace(/\\n<p>&nbsp;<\\/p>/g,'')\n    .replace(/\\n<p><\\/p>/g,'')\n    .replace(/<pre>([\\s\\S]*?)<\\/pre>/g,'')\n    .replace(/<p>/g,'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;')\n    .replace(/<\\/p>/g,'<br>');\n    // .replace(/<img([\\s\\S]*?)!!([\\s\\S]*?)>/g,'');\n    //非常耗时和内存\n    // .replaceWithCallback(/<img([\\s\\S]*?)>/g, '', deleteInvalidImgTag);\n\nif(getMyVar('fuliba.showMode')=='2' || getMyVar('fuliba.showMode')=='3') content = content.replace(/<img([\\s\\S]*?)>/g,'')\n  .replace(/\\n<p><strong><\\/strong><\\/p>/g,'');\n\nif(getMyVar('fuliba.viewPicMode')=='1'){\n    let contentlist = content.split('\\n');\n    let htmlList = '';\n    for(let j=0;j<contentlist.length;j++){\n        let imglist = imgTagGetUrlArray(contentlist[j],/<img([\\s\\S]*?)>/g);\n        let quoteContent = contentlist[j];\n        //文章内容-简单文本\n        quoteContent = quoteContent\n            .replace(/<img([\\s\\S]*?)>/g,'')\n            // .replace(/<(iframe|sources|video)([\\s\\S]*?)<\\/(iframe|sources|video)>/g,'')\n            .replaceWithCallback(/<(iframe)([\\s\\S]*?)<\\/(iframe)>/g, '<link data-v>', linkTagReplacement2)\n            .replaceWithCallback(/<(source|video)([\\s\\S]*?)<\\/(source|video)>/g, '<video data-v>', videoTagReplacement2);\n            // .replace(/<p><\\/p>/g,'');\n\n\n\n        let temp = parseDomForHtml(getNewText(quoteContent,'div'), 'Text');\n        if(getMyVar('fuliba.showMode')=='3'){\n            if(!temp.match(/^\\s*$/)) htmlList += '◇&nbsp;&nbsp;&nbsp;&nbsp;' + temp + '<br>';\n            if(j==contentlist.length-1 && htmlList !== ''){\n                d.push({title: htmlList,\n                    extra: {\n                    textSize: size,\n                    click: true\n                }});\n                htmlList = '';\n            }\n        }else{\n            if(!temp.match(/^\\s*$/) || quoteContent.includes('blockquote>') || (quoteContent.includes('div>') && quoteContent.match(/<(div)([\\s\\S]*?)<\\/(div)>/g) == null)) htmlList += quoteContent;\n            if(imglist.length > 0 || j==contentlist.length-1){\n                let temp = parseDomForHtml(getNewText(htmlList,'div'), 'Text');\n                if(!temp.match(/^\\s*$/) && getMyVar('fuliba.showMode')!=='1') d.push({title: htmlList,\n                        extra: {\n                            textSize: size,\n                            click: true\n                        }});\n                htmlList = '';\n                for (let k = 0; k < imglist.length; k++){\n                    d.push({\n                        pic_url:imglist[k],\n                        url:getMyVar('fuliba.browserLink')+imglist[k],\n                        col_type:getMyVar('fuliba.bigImg'),\n                        extra: {\n                            textSize: size,\n                            click: true\n                        }\n                    });\n                }\n            }\n        }\n    }   \n\n    //复杂文本-由Html格式-替换掉图片---视频链接也替换掉用查看视频替代---网站地址不用替换，直接用\n    // quoteContent = getNewText(quoteContent,'div');\n    // let temp = parseDomForHtml(getNewText(quoteContent,'div'), 'Text');\n    // if(!quoteContent.includes('=\"http')) quoteContent = temp;\n    // if(!temp.match(/^\\s*$/)) d.push({title: quoteContent});\n\n    //漫画模式\n    // var pics=[];\n    //for (let k = 0; k < imglist.length; k++){\n    //     pics.push(imglist[k]);\n    // }\n    // \"pics://\"+pics.join(\"&&\");\n\n    // if(imglist.length==0) continue;\n    // for (let k = 0; k < imglist.length; k++){\n    //     d.push({\n    //         pic_url:imglist[k],\n    //         url:imglist[k],\n    //         col_type:getMyVar('fuliba.bigImg')\n    //     });\n    // }\n}else{\n    // if(getMyVar('fuliba.showMode')=='1') content = GetImgTagArray(content,/<img([\\s\\S]*?)>/g);\n    if(getMyVar('fuliba.showMode')=='1'){\n        let matchArray = content.match(/<img([\\s\\S]*?)>/g);\n        let imglist = '';\n        if (matchArray != null) {\n            for (let i = 0; i < matchArray.length; i++) {\n                let pic = matchArray[i] .replaceWithCallback(/<img([\\s\\S]*?)>/g, '<img data-v>', imgTagReplacementOne)\n                                        .replace(/<showimg/g, '<img');\n                                       \n                if(getMyVar('fuliba.hideImg') == '0') d.push({title: pic,\n                        extra: {\n                            textSize: size,\n                            click: true\n                        }});\n                imglist += pic;\n            }\n        }\n        if(getMyVar('fuliba.hideImg') == '1') d.push({title: imglist,\n                        extra: {\n                            textSize: size,\n                            click: true\n                        }});\n    }else{\n        content = content.replaceWithCallback(/<img([\\s\\S]*?)>/g, '<img data-v>', imgTagReplacementOne)\n            .replace(/<showimg/g, '<img')\n            .replaceWithCallback(/<(iframe)([\\s\\S]*?)<\\/(iframe)>/g, '<link data-v>', linkTagReplacement2)\n            .replaceWithCallback(/<(source|video)([\\s\\S]*?)<\\/(source|video)>/g, '<video data-v>', videoTagReplacement2);\n\n        let contentlist = content.split('\\n');\n        let htmlList = '';\n        for(let j=0;j<contentlist.length;j++){\n            let quoteContent = contentlist[j];\n\n            let temp = parseDomForHtml(getNewText(quoteContent,'div'), 'Text');\n            if(getMyVar('fuliba.showMode')=='3'){\n                if(!temp.match(/^\\s*$/)) htmlList += '<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;' + temp + '</p>';\n                if(j==contentlist.length-1 && htmlList !== ''){\n                    d.push({title: htmlList,\n                        extra: {\n                        textSize: size,\n                        click: true\n                    }});\n                    htmlList = '';\n                }\n            }else{\n                if(!temp.match(/^\\s*$/) || quoteContent.includes('blockquote>') || (quoteContent.includes('div>') && quoteContent.match(/<(div)([\\s\\S]*?)<\\/(div)>/g) == null)) htmlList += quoteContent;\n\n                if(quoteContent.match(/<img([\\s\\S]*?)>/g) !== null || j==contentlist.length-1){\n                    if(getMyVar('fuliba.showMode')!=='1' && htmlList !== '') d.push({title: htmlList,\n                        extra: {\n                        textSize: size,\n                        click: true\n                    }});\n                    htmlList = '';\n                }\n                if(quoteContent.match(/<img([\\s\\S]*?)>/g) !== null) d.push({title: quoteContent,\n                    extra: {\n                    textSize: size,\n                    click: true\n                }});\n            }\n        }\n    }\n}\n\n\nd.push({col_type: 'line_blank'});\nlet tips = '该文章来源于福利吧，如您喜欢，请进入福利吧网页版';\nlet warning = '此规则仅限学习使用，如有不妥，请本吧主联系我删除';\n\n// if(getMyVar('fuliba.showMode')=='0' || getMyVar('fuliba.showMode')=='2'){\nif(getMyVar('fuliba.openComment')=='0'){\n    eval(JSON.parse(request(\"hiker://page/comment\")).rule);\n\n    d.push({title: GetTips(tips,warning),\n                        extra: {\n                            textSize: size,\n                            click: true\n                        }});\n    d.push({col_type: 'line_blank'});\n\n    if(comment.length > 0){\n        let commentNum = parseDomForHtml(html,'.article-meta&&span,2&&Text').replace('评论','📢热评数');\n        commentNum = GetHome(3)+getStrongText(getBigText(commentNum));\n        for (let l = 0; l < comment.length; l++){\n            let list = parseDomForArray(comment[l],'.comment');\n            d.push({col_type: 'line'});\n\n            for (let m = 0; m < list.length; m++) {\n                let floor = ''; let main = '';  let autor = ''; let time = '';\n                try{\n                    if(m==0) floor = '🏢' + parseDomForHtml(list[m],'.comt-f&&Text').replace('#','')+'楼';\n                }catch(e){\n                    floor = l+'楼层错误!!!'+m\n                }\n                try{\n                    main =  parseDomForHtml(list[m],'.comt-main&&p&&Text');\n                }catch(e){\n                    main = l+'回复内容错误!!!'+m\n                }\n                try{\n                    autor = '👱' + parseDomForHtml(list[m],'.comt-author&&Text');\n                }catch(e){\n                    autor = l+'作者名称错误!!!'+m\n                }\n                try{\n                    time = '🕢' + parseDomForHtml(list[m],'.comt-meta--span&&Text').replace('回复','');\n                }catch(e){\n                    time = l+'时间错误!!!'+m\n                }\n\n                let commentText = GetComment(main,autor,time,floor);\n                if(l==0 && m==0) commentText = commentNum +'<br><br>'+ commentText;\n\n                d.push({title: commentText,\n                    extra: {\n                    textSize: size,\n                    click: true\n                }});\n            }\n        }\n    }\n}\n\nres.data=d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"CSS格式\",\"path\":\"css\",\"rule\":\"function getNewText(text,css){\\n   return '<'+css+'>' + text + '</'+css+'>';\\n}\\n\\nfunction getBigText(text) {\\n    return '<big>' + text + '</big>';\\n}\\nfunction getSmallText(text) {\\n    return '<small>' + text + '</small>';\\n}\\nfunction getStrongText(text) {\\n    return '<strong>' + text + '</strong>';\\n}\\nfunction getTitleText(text) {\\n    return getStrongText(text);\\n}\\nfunction getColorText(text, color) {\\n    return '<font color=\\\"' + color + '\\\">' + text + '</font>';\\n}\\nfunction getGreyText(text) {\\n    return getColorText(text, 'grey');\\n}\\nfunction getAuthorText(text) {\\n    return getColorText(text, userColor);\\n}\\nfunction getCodeText(text) {\\n    return '<code>' + text + '</code>';\\n}\\nfunction getBlockquoteText(text) {\\n    return '<blockquote>' + text + '</blockquote>'\\n}\\nfunction getAddressTag(url, text) {\\n    return '<a href=\\\"' + url + '\\\">' + text + '</a>'\\n}\\nfunction getCommentMeta(html) {\\n    return getSmallText(html);\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"视图处理\",\"path\":\"view\",\"rule\":\"//获取重定向地址\\nfunction getRedirectAddress(url){\\n    let urlRedirect = '';\\n    try{\\n        let urlCode = fetch(url,{redirect:false,withHeaders:true});\\n        urlRedirect = JSON.parse(urlCode).headers.location[0];\\n    }catch(e){}\\n    return urlRedirect;\\n}\\n\\nString.prototype.replaceWithCallback = function (searchValue, replaceValue, callback) {\\n    let returnValue = this;\\n    if (callback != null) {\\n        returnValue = callback(this, searchValue, replaceValue);\\n    }\\n    return returnValue;\\n};\\n\\n//删除重定向图片链接\\nfunction deleteInvalidImgTag(context, searchValue,replaceValue) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = context;\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            let item = matchArray[i];\\n            /<img.*?(data-original|data-src|src)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n            let imgUrl = RegExp.$2;\\n            if (imgUrl.indexOf(\\\"placeholder\\\") > -1) {\\n                /<img.*?(data-original)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n                imgUrl = RegExp.$2;\\n            }\\n            if(imgUrl.indexOf(\\\"//\\\")==0){imgUrl = \\\"https:\\\" + imgUrl;}\\n            if (imgUrl != '') {\\n                if(getRedirectAddress(imgUrl) != ''){\\n                    returnValue = returnValue.replace(item,replaceValue);\\n                }\\n            }\\n        }\\n    }\\n    return returnValue;\\n}\\n\\nfunction GetImgTagArrayString(context, searchValue) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = '';\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            returnValue += matchArray[i];\\n        }\\n    }\\n    return returnValue;\\n}\\n\\nfunction imgTagGetUrlArray(context, searchValue) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = [];\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            let item = matchArray[i];\\n            /<img.*?(data-original|data-src|src)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n            let imgUrl = RegExp.$2;\\n            if (imgUrl.indexOf(\\\"placeholder\\\") > -1) {\\n                /<img.*?(data-original)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n                imgUrl = RegExp.$2;\\n            }\\n            if(imgUrl.indexOf(\\\"//\\\")==0){imgUrl = \\\"https:\\\" + imgUrl;}\\n            if (imgUrl !== '') {\\n                returnValue.push(imgUrl);\\n            }\\n        }\\n    }\\n    return returnValue;\\n}\\n\\n\\nlet imgError = '<p><font color=\\\"grey\\\">图片暂时无法显示，若要查看请<a href=\\\"' + MY_URL + '\\\">访问原文</a></font></p>';\\nfunction imgTag(context, imgUrl) {\\n    let replaceString = imgUrl === '' ? imgError : '<p><showimg src=\\\"' + (imgUrl + '@Referer=' + MY_URL) + '\\\"></p>';\\n    if (getMyVar('fuliba.hideImg')=='1') {\\n        replaceString = imgUrl === '' ? imgError : '<p><a href=\\\"' + imgUrl + '\\\">[点击查看大图]</a></p>';\\n    }\\n    return context.replace(/<img data-v>/g, replaceString);\\n}\\nfunction imgTagOne(context, imgUrl) {\\n    let replaceString = imgUrl === '' ? imgError : '\\\\n<p><showimg src=\\\"' + (imgUrl + '@Referer=' + MY_URL) + '\\\"></p>';\\n    if (getMyVar('fuliba.hideImg')=='1') {\\n        replaceString = imgUrl === '' ? imgError : '<p><a href=\\\"' + imgUrl + '\\\">[点击查看大图]</a>&nbsp;&nbsp;&nbsp;<a href=\\\"web://' + imgUrl + '\\\">[点击查看链接]</a></p>';\\n    }\\n    return context.replace(/<img data-v>/g, replaceString);\\n}\\nfunction imgTagReplacement2(context, searchValue, replaceValue) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = context;\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            let item = matchArray[i];\\n            /<img.*?(data-original|data-src|src)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n            let imgUrl = RegExp.$2;\\n            if (imgUrl.indexOf(\\\"placeholder\\\") > -1) {\\n                /<img.*?(data-original)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n                imgUrl = RegExp.$2;\\n            }\\n            if(imgUrl.indexOf(\\\"//\\\")==0){imgUrl = \\\"https:\\\" + imgUrl;}\\n            if (imgUrl !== '') {\\n                returnValue = returnValue.replace(item, replaceValue);\\n                returnValue = imgTag(returnValue, imgUrl);\\n            }\\n        }\\n    }\\n    return returnValue;\\n}\\nfunction imgTagReplacementOne(context, searchValue, replaceValue) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = context;\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            let item = matchArray[i];\\n            /<img.*?(data-original|data-src|src)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n            let imgUrl = RegExp.$2;\\n            if (imgUrl.indexOf(\\\"placeholder\\\") > -1) {\\n                /<img.*?(data-original)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n                imgUrl = RegExp.$2;\\n            }\\n            if(imgUrl.indexOf(\\\"//\\\")==0){imgUrl = \\\"https:\\\" + imgUrl;}\\n            if (imgUrl !== '') {\\n                returnValue = returnValue.replace(item, replaceValue);\\n                returnValue = imgTagOne(returnValue, imgUrl);\\n            }\\n        }\\n    }\\n    return returnValue;\\n}\\n\\nlet videoError = '<p><font color=\\\"grey\\\">视频暂时无法显示，若要查看请<a href=\\\"' + MY_URL + '\\\">访问原文</a></font></p>';\\nfunction videoTag(context, videoUrl) {\\n    let replaceString = videoUrl === '' ? videoError : '<p><a href=\\\"' + (videoUrl) + '\\\">[点击查看视频]</a></p>';\\n    if (getMyVar('fuliba.hideImg')=='1') {\\n        replaceString = videoUrl === '' ? videoError : '<p><a href=\\\"' + videoUrl + '\\\">[点击查看视频]</a></p>';\\n    }\\n    return context.replace(/<video data-v>/g, replaceString);\\n}\\nfunction videoTagReplacement2(context, searchValue, replaceValue) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = context;\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            let item = matchArray[i];\\n            /<(source|video).*?(data-original|data-src|src)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n            let videoUrl = RegExp.$3;\\n            if(videoUrl.indexOf(\\\"//\\\")==0){videoUrl = \\\"https:\\\" + videoUrl;}\\n            if(videoUrl.includes(\\\"zhainanmi\\\")) continue;\\n            if (videoUrl !== '') {\\n                returnValue = returnValue.replace(item, replaceValue);\\n                returnValue = videoTag(returnValue, videoUrl);\\n            }\\n        }\\n    }\\n    return returnValue;\\n}\\n\\nlet linkError = '<p><font color=\\\"grey\\\">链接暂时无法显示，若要查看请<a href=\\\"' + MY_URL + '\\\">访问原文</a></font></p>';\\nfunction linkTag(context, linkUrl) {\\n    let replaceString = linkUrl === '' ? linkError : '<p><a href=\\\"' + (linkUrl) + '\\\">[点击查看链接]</a></p>';\\n    if (getMyVar('fuliba.hideImg')=='1') {\\n        replaceString = linkUrl === '' ? linkError : '<p><a href=\\\"' + linkUrl + '\\\">[点击查看链接]</a></p>';\\n    }\\n    return context.replace(/<link data-v>/g, replaceString);\\n}\\nfunction linkTagReplacement2(context, searchValue, replaceValue) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = context;\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            let item = matchArray[i];\\n            /<(iframe).*?(data-original|data-src|src)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n            let linkUrl = RegExp.$3;\\n            if(linkUrl.indexOf(\\\"//\\\")==0){linkUrl = \\\"https:\\\" + linkUrl;}\\n            if (linkUrl !== '') {\\n                returnValue = returnValue.replace(item, replaceValue);\\n                returnValue = linkTag(returnValue, linkUrl);\\n            }\\n        }\\n    }\\n    return returnValue;\\n}\\n\\nfunction cssTagReplacement2(context, searchValue, replaceValue) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = context;\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            let item = matchArray[i];\\n            /<(div|p|strong)>.*?<\\\\/(div|p|strong)>/.test(item);\\n            let css = RegExp.$2;\\n            if (css.match(/^\\\\s*$/)) {\\n                returnValue = returnValue.replace(item, replaceValue);\\n            }\\n        }\\n    }\\n    return returnValue;\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"评论方法\",\"path\":\"comment\",\"rule\":\"\\nfunction GetHome(num){\\n    let retract = '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;';\\n    for(let i=1;i<num;i++) retract += '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;';\\n    return '<span>'+retract+'</span>';\\n}\\n\\nfunction GetComment(main,autor,time,floor){\\n\\n    let fontStyle = '<font color=\\\"grey\\\"><span class=\\\"normal-font gray-font align-baseline\\\">&nbsp;&nbsp;'+time+' &nbsp;</span></font>';\\n    let buttonData = getColorText(autor,'#2979FF')+fontStyle+getColorText(floor,'#2979aa');\\n    let comment = '';\\n\\n    if(floor==''){\\n        comment =GetHome(1)+main+getNewText('<br>'+GetHome(1)+buttonData,'small');\\n    }else{\\n        comment = main+getNewText('<br>'+ buttonData,'small');\\n    }\\n    return comment;\\n}\\n\\nfunction GetTips(tips,warning){\\n    let tipsStyle = '<small><span class=\\\"normal-font gray-font align-baseline\\\">&nbsp;'+tips+' &nbsp;</span></small>';\\n    let warningStyle = '<small><font color=\\\"grey\\\"><span class=\\\"normal-font gray-font align-baseline\\\">&nbsp;'+warning+' &nbsp;</span></font></small>';\\n    return tipsStyle+'<br>'+warningStyle;\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"解析搜索\",\"path\":\"one\",\"rule\":\"function getItem(html,colors){\\n    var list = parseDomForArray(html, 'body&&article');//       【列表】\\n    var item=[];\\n    for (var i in list) {\\n        let title = parseDomForHtml(list[i], 'h2&&Text');\\n        let pic = \\\"https://img0.baidu.com/it/u=1420719556,2509925486&fm=26&fmt=auto&gp=0.jpg\\\";\\n        try{\\n            pic = parseDomForHtml(list[i], 'img&&data-src');\\n        }catch(e){}\\n        let commentNum = '0';\\n        try{\\n            commentNum = parseDomForHtml(list[i], '.pc&&Text').split(\\\"(\\\")[1].split(\\\")\\\")[0];\\n        }catch(e){}\\n\\n        let time = \\\"🕧日期: \\\" + '““””<b><font color='+ colors + '>' + parseDomForHtml(list[i], '.meta&&time&&Text') +' </font></b>';\\n        let like = \\\"💜点赞: \\\" + '““””<b><font color='+ colors + '>' + parseDomForHtml(list[i], '.post-like&&span&&Text') +' </font></b>';\\n        let comment =  \\\"  💬评论: \\\" + '““””<b><font color='+ colors + '>' + commentNum +' </font></b>';\\n\\n        let tabs=\\\"\\\\n\\\\n\\\";\\n\\n        item.push({\\n            title:title,//【标题】\\n            pic_url: pic, //图片\\n            desc: time+tabs+like+comment,//【描述】\\n            url: parseDom(list[i], 'h2&&a&&href') +'#fullTheme##noRecordHistory##noHistory#',//【链接】\\n        });\\n    }\\n    return item;\\n}\\n\\nfunction getSearchItem(html){\\n    var list = parseDomForArray(html, 'body&&article');//       【列表】\\n    var item=[];\\n    for (var i in list) {\\n        let title = parseDomForHtml(list[i], 'h2&&Text');\\n        let pic = \\\"https://img0.baidu.com/it/u=1420719556,2509925486&fm=26&fmt=auto&gp=0.jpg\\\";\\n        try{\\n            pic = parseDomForHtml(list[i], 'img&&data-src');\\n        }catch(e){}\\n        let commentNum = '0';\\n        try{\\n            commentNum = parseDomForHtml(list[i], '.pc&&Text').split(\\\"(\\\")[1].split(\\\")\\\")[0];\\n        }catch(e){}\\n\\n        // let time = \\\"🕧:\\\"  + parseDomForHtml(list[i], '.meta&&time&&Text');\\n        let like = \\\"💜: \\\" + parseDomForHtml(list[i], '.post-like&&span&&Text');\\n        let comment =  \\\"💬: \\\" + commentNum;\\n\\n        let tabs=\\\"   \\\";\\n        \\n        item.push({\\n            title:title,//【标题】\\n            pic_url: pic, //图片\\n            desc: like+tabs+comment,//【描述】\\n            url: parseDom(list[i], 'h2&&a&&href') +'#fullTheme##noRecordHistory##noHistory#',//【链接】\\n        });\\n    }\\n    return item;\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"方法云集\",\"path\":\"uses\",\"rule\":\"function getAddressTag(url, text) {\\n    return '<a href=\\\"' + url + '\\\">' + text + '</a>'\\n}\\n\\nfunction getRangeColors(){\\n    //颜色 代码来自Rx大佬\\n    let Colors=[\\\"4\\\",\\\"5\\\",\\\"0\\\",\\\"1\\\",\\\"A\\\",\\\"3\\\",\\\"8\\\",\\\"9\\\",\\\"B\\\",\\\"C\\\",\\\"D\\\",\\\"E\\\",\\\"6\\\",\\\"7\\\",\\\"F\\\"];\\n    let Color = \\\"#\\\";\\n    for (let i=0;i<6;i++){\\n        let num=Math.ceil((Math.random()*15))-1;\\n        Color+=Colors[num];\\n    }\\n    return Color;\\n}\\n\\nfunction getBaiduYunCode(content){\\n    if(content.includes(\\\"pan.baidu.com\\\")){\\n        var code = content.split(\\\"提取码：\\\");\\n        if(code.length>1) copy(code[1].substring(0,4));\\n    }\\n}\"}]","icon":""},{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"CSS格式化","path":"css","rule":"function getNewText(text,css){\n   return '<'+css+'>' + text + '</'+css+'>';\n}\n\nfunction getBigText(text) {\n    return '<big>' + text + '</big>';\n}\nfunction getSmallText(text) {\n    return '<small>' + text + '</small>';\n}\nfunction getStrongText(text) {\n    return '<strong>' + text + '</strong>';\n}\nfunction getTitleText(text) {\n    return getStrongText(text);\n}\nfunction getColorText(text, color) {\n    return '<font color=\"' + color + '\">' + text + '</font>';\n}\nfunction getGreyText(text) {\n    return getColorText(text, 'grey');\n}\nfunction getAuthorText(text) {\n    return getColorText(text, userColor);\n}\nfunction getCodeText(text) {\n    return '<code>' + text + '</code>';\n}\nfunction getBlockquoteText(text) {\n    return '<blockquote>' + text + '</blockquote>'\n}\nfunction getAddressTag(url, text) {\n    return '<a href=\"' + url + '\">' + text + '</a>'\n}\nfunction getCommentMeta(html) {\n    return getSmallText(html);\n}"},{"name":"视图处理","path":"view","rule":"//获取重定向地址\nfunction getRedirectAddress(url){\n    let urlRedirect = '';\n    try{\n        let urlCode = fetch(url,{redirect:false,withHeaders:true});\n        urlRedirect = JSON.parse(urlCode).headers.location[0];\n    }catch(e){}\n    return urlRedirect;\n}\n\nString.prototype.replaceWithCallback = function (searchValue, replaceValue, callback) {\n    let returnValue = this;\n    if (callback != null) {\n        returnValue = callback(this, searchValue, replaceValue);\n    }\n    return returnValue;\n};\n\n//删除重定向图片链接\nfunction deleteInvalidImgTag(context, searchValue,replaceValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = context;\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            let item = matchArray[i];\n            /<img.*?(data-original|data-src|src)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n            let imgUrl = RegExp.$2;\n            if (imgUrl.indexOf(\"placeholder\") > -1) {\n                /<img.*?(data-original)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n                imgUrl = RegExp.$2;\n            }\n            if(imgUrl.indexOf(\"//\")==0){imgUrl = \"https:\" + imgUrl;}\n            if (imgUrl != '') {\n                if(getRedirectAddress(imgUrl) != ''){\n                    returnValue = returnValue.replace(item,replaceValue);\n                }\n            }\n        }\n    }\n    return returnValue;\n}\n\nfunction GetImgTagArrayString(context, searchValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = '';\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            returnValue += matchArray[i];\n        }\n    }\n    return returnValue;\n}\n\nfunction imgTagGetUrlArray(context, searchValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = [];\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            let item = matchArray[i];\n            /<img.*?(data-original|data-src|src)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n            let imgUrl = RegExp.$2;\n            if (imgUrl.indexOf(\"placeholder\") > -1) {\n                /<img.*?(data-original)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n                imgUrl = RegExp.$2;\n            }\n            if(imgUrl.indexOf(\"//\")==0){imgUrl = \"https:\" + imgUrl;}\n            if (imgUrl !== '') {\n                returnValue.push(imgUrl);\n            }\n        }\n    }\n    return returnValue;\n}\n\n\nlet imgError = '<p><font color=\"grey\">图片暂时无法显示，若要查看请<a href=\"' + MY_URL + '\">访问原文</a></font></p>';\nfunction imgTag(context, imgUrl) {\n    let replaceString = imgUrl === '' ? imgError : '<p><showimg src=\"' + (imgUrl + '@Referer=' + MY_URL) + '\"></p>';\n    if (getMyVar('zhainanya.hideImg')=='1') {\n        replaceString = imgUrl === '' ? imgError : '<p><a href=\"' + imgUrl + '\">[点击查看大图]</a></p>';\n    }\n    return context.replace(/<img data-v>/g, replaceString);\n}\nfunction imgTagOne(context, imgUrl) {\n    let replaceString = imgUrl === '' ? imgError : '\\n<p><showimg src=\"' + (imgUrl + '@Referer=' + MY_URL) + '\"></p>';\n    if (getMyVar('zhainanya.hideImg')=='1') {\n        replaceString = imgUrl === '' ? imgError : '<p><a href=\"' + imgUrl + '\">[点击查看大图]</a>&nbsp;&nbsp;&nbsp;<a href=\"web://' + imgUrl + '\">[点击查看链接]</a></p>';\n    }\n    return context.replace(/<img data-v>/g, replaceString);\n}\nfunction imgTagReplacement2(context, searchValue, replaceValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = context;\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            let item = matchArray[i];\n            /<img.*?(data-original|data-src|src)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n            let imgUrl = RegExp.$2;\n            if (imgUrl.indexOf(\"placeholder\") > -1) {\n                /<img.*?(data-original)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n                imgUrl = RegExp.$2;\n            }\n            if(imgUrl.indexOf(\"//\")==0){imgUrl = \"https:\" + imgUrl;}\n            if (imgUrl !== '') {\n                returnValue = returnValue.replace(item, replaceValue);\n                returnValue = imgTag(returnValue, imgUrl);\n            }\n        }\n    }\n    return returnValue;\n}\nfunction imgTagReplacementOne(context, searchValue, replaceValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = context;\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            let item = matchArray[i];\n            /<img.*?(data-original|data-src|src)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n            let imgUrl = RegExp.$2;\n            if (imgUrl.indexOf(\"placeholder\") > -1) {\n                /<img.*?(data-original)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n                imgUrl = RegExp.$2;\n            }\n            if(imgUrl.indexOf(\"//\")==0){imgUrl = \"https:\" + imgUrl;}\n            if (imgUrl !== '') {\n                returnValue = returnValue.replace(item, replaceValue);\n                returnValue = imgTagOne(returnValue, imgUrl);\n            }\n        }\n    }\n    return returnValue;\n}\n\nlet videoError = '<p><font color=\"grey\">视频暂时无法显示，若要查看请<a href=\"' + MY_URL + '\">访问原文</a></font></p>';\nfunction videoTag(context, videoUrl) {\n    let replaceString = videoUrl === '' ? videoError : '<p><a href=\"' + (videoUrl) + '\">[点击查看视频]</a></p>';\n    if (getMyVar('zhainanya.hideImg')=='1') {\n        replaceString = videoUrl === '' ? videoError : '<p><a href=\"' + videoUrl + '\">[点击查看视频]</a></p>';\n    }\n    return context.replace(/<video data-v>/g, replaceString);\n}\nfunction videoTagReplacement2(context, searchValue, replaceValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = context;\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            let item = matchArray[i];\n            /<(source|video).*?(data-original|data-src|src)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n            let videoUrl = RegExp.$3;\n            if(videoUrl.indexOf(\"//\")==0){videoUrl = \"https:\" + videoUrl;}\n            if(videoUrl.includes(\"zhainanmi\")) continue;\n            if (videoUrl !== '') {\n                returnValue = returnValue.replace(item, replaceValue);\n                returnValue = videoTag(returnValue, videoUrl);\n            }\n        }\n    }\n    return returnValue;\n}\n\nlet linkError = '<p><font color=\"grey\">链接暂时无法显示，若要查看请<a href=\"' + MY_URL + '\">访问原文</a></font></p>';\nfunction linkTag(context, linkUrl) {\n    let replaceString = linkUrl === '' ? linkError : '<p><a href=\"' + (linkUrl) + '\">[点击查看链接]</a></p>';\n    if (getMyVar('zhainanya.hideImg')=='1') {\n        replaceString = linkUrl === '' ? linkError : '<p><a href=\"' + linkUrl + '\">[点击查看链接]</a></p>';\n    }\n    return context.replace(/<link data-v>/g, replaceString);\n}\nfunction linkTagReplacement2(context, searchValue, replaceValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = context;\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            let item = matchArray[i];\n            /<(iframe).*?(data-original|data-src|src)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n            let linkUrl = RegExp.$3;\n            if(linkUrl.indexOf(\"//\")==0){linkUrl = \"https:\" + linkUrl;}\n            if (linkUrl !== '') {\n                returnValue = returnValue.replace(item, replaceValue);\n                returnValue = linkTag(returnValue, linkUrl);\n            }\n        }\n    }\n    return returnValue;\n}\n\nfunction cssTagReplacement2(context, searchValue, replaceValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = context;\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            let item = matchArray[i];\n            /<(div|p|strong)>.*?<\\/(div|p|strong)>/.test(item);\n            let css = RegExp.$2;\n            if (css.match(/^\\s*$/)) {\n                returnValue = returnValue.replace(item, replaceValue);\n            }\n        }\n    }\n    return returnValue;\n}"},{"name":"评论方法","path":"comment","rule":"function GetHome(num){\n    let retract = '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;';\n    for(let i=1;i<num;i++) retract += '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;';\n    return '<span>'+retract+'</span>';\n}\n\nfunction GetComment(main,autor,time,floor){\n\n    let fontStyle = '<font color=\"grey\"><span class=\"normal-font gray-font align-baseline\">&nbsp;&nbsp;'+time+' &nbsp;</span></font>';\n    let buttonData = getColorText(autor,'#2979FF')+fontStyle+getColorText(floor,'#2979aa');\n    let comment = '';\n\n    if(floor==''){\n        comment = GetHome(1)+main+getNewText('<br>'+GetHome(1)+buttonData,'small');\n    }else{\n        comment = main+getNewText('<br>'+ buttonData,'small');\n    }\n    return comment;\n}\n\nfunction GetTips(tips,warning){\n    let tipsStyle = '<small><span class=\"normal-font gray-font align-baseline\">&nbsp;'+tips+' &nbsp;</span></small>';\n    let warningStyle = '<small><font color=\"grey\"><span class=\"normal-font gray-font align-baseline\">&nbsp;'+warning+' &nbsp;</span></font></small>';\n    return tipsStyle+'<br>'+warningStyle;\n}"},{"col_type":"movie_3","name":"解析搜索","path":"one","rule":"function getItem(html,colors){\n    var list = parseDomForArray(html, '.content&&article');//       【列表】\n    var item=[];\n    for (var i in list) {\n        let title = parseDomForHtml(list[i], 'h2&&Text');\n        let pic = \"https://img0.baidu.com/it/u=1420719556,2509925486&fm=26&fmt=auto&gp=0.jpg\";\n        try{\n            pic = parseDomForHtml(list[i], '.thumb&&data-original');\n        }catch(e){}\n        let commentNum = '0';\n        try{\n            commentNum = parseDomForHtml(list[i], '.post-comments&&Text').split(\"(\")[1].split(\")\")[0];\n        }catch(e){}\n\n        let time = \"🕧日期: \" + '““””<b><font color='+ colors + '>' + parseDomForHtml(list[i], '.text-muted.time--a&&Text').split(\"发布于\")[1] +' </font></b>';\n        let like = \"💜点赞: \" + '““””<b><font color='+ colors + '>' + parseDomForHtml(list[i], '.text-muted.views&&a,0&&span&&Text') +' </font>&nbsp;&nbsp;</b>';\n        let comment =  \"  💬评论: \" + '““””<b><font color='+ colors + '>' + commentNum +' </font></b>';\n\n        let tabs=\"\\n\\n\";\n\n        item.push({\n            title:title,//【标题】\n            pic_url: pic, //图片\n            desc: time+tabs+like+comment,//【描述】\n            url: parseDom(list[i], 'h2&&a&&href') +'#fullTheme##noRecordHistory##noHistory#',//【链接】\n        });\n    }\n    return item;\n}\n\nfunction getSearchItem(html){\n    var list = parseDomForArray(html, '.content&&article');//       【列表】\n    var item=[];\n    for (var i in list) {\n        let title = parseDomForHtml(list[i], 'h2&&Text');\n        let pic = \"https://img0.baidu.com/it/u=1420719556,2509925486&fm=26&fmt=auto&gp=0.jpg\";\n        try{\n            pic = parseDomForHtml(list[i], '.thumb&&data-original');\n        }catch(e){}\n        let commentNum = '0';\n        try{\n            commentNum = parseDomForHtml(list[i], '.post-comments&&Text').replace(/评论(|)/g,'');\n        }catch(e){}\n\n        // let time = \"🕧: \" + parseDomForHtml(list[i], '.text-muted.time--a&&Text').replace(\"发布于\",\"\");\n        let like = \"💜: \" + parseDomForHtml(list[i], '.text-muted.views&&a,0&&span&&Text');\n        let comment =  \"💬: \" + commentNum;\n\n        let tabs=\"   \";\n        \n        item.push({\n            title:title,//【标题】\n            pic_url: pic, //图片\n            desc: like+tabs+comment,//【描述】\n            url: parseDom(list[i], 'h2&&a&&href') +'#fullTheme##noRecordHistory##noHistory#',//【链接】\n        });\n    }\n    return item;\n}"},{"name":"方法云集","path":"uses","rule":"function getAddressTag(url, text) {\n    return '<a href=\"' + url + '\">' + text + '</a>'\n}\n\nfunction getRangeColors(){\n    //颜色 代码来自Rx大佬\n    let Colors=[\"4\",\"5\",\"0\",\"1\",\"A\",\"3\",\"8\",\"9\",\"B\",\"C\",\"D\",\"E\",\"6\",\"7\",\"F\"];\n    let Color = \"#\";\n    for (let i=0;i<6;i++){\n        let num=Math.ceil((Math.random()*15))-1;\n        Color+=Colors[num];\n    }\n    return Color;\n}\n\nfunction getBaiduYunCode(content){\n    if(content.includes(\"pan.baidu.com\")){\n        var code = content.split(\"提取码：\");\n        if(code.length>1) copy(code[1].substring(0,4));\n    }\n}"}],"title":"宅男鸭Ⓜ️","author":"名城梦","version":2,"url":"hiker://empty#fyAll#fypage#https://zhainanya.com/","col_type":"movie_1_vertical_pic","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\n//以下是 列表解析规则（JS）\nvar res = {};\nvar item = [];\n\n// var type=MY_URL.split('#')[1];\nvar page=MY_URL.split('#')[2];\nvar mUrl=MY_URL.split('#')[3];\n\n\nif(getMyVar('zhainanya.titleColor')==\"\") putMyVar('zhainanya.titleColor',\"#FA7298\");\nif(getMyVar('zhainanya.descColor')==\"\") putMyVar('zhainanya.descColor',\"#708090\");\n\nif(getMyVar(\"zhainanya.categoryNum\")==\"\") putMyVar(\"zhainanya.categoryNum\",'0');\nif(getMyVar(\"zhainanya.url\")==\"\") putMyVar(\"zhainanya.url\",mUrl);\n\n//自定义颜色\nconst titleColor=getMyVar('zhainanya.titleColor');\nconst descColor = getMyVar('zhainanya.descColor');\n\nconst categoryNum = getMyVar(\"zhainanya.categoryNum\");\nconst clickUrl = getMyVar(\"zhainanya.url\");\n\n\neval(JSON.parse(request(\"hiker://page/uses\")).rule);\nif(page === '1'){\n\n    var tColor = getRangeColors();\n    var dColor = getRangeColors();\n    var mHtml = request(mUrl,{});\n\n    var categoriesArray = parseDomForArray(mHtml, '.nav&&a');\n    var categoriesOne = parseDomForArray(mHtml, '.widget_tags_inner&&a');\n    categoriesArray.pop();\n    categoriesArray.push.apply(categoriesArray,categoriesOne);\n\n    categoriesArray.forEach((category, index) => {\n        let title = parseDomForHtml(category,'a&&Text');\n        let titleNum = parseDomForHtml(category,'a&&title').replace(\"个话题\",\"\");\n        let url = parseDomForHtml(category,'a&&href');\n        // if(index == 1) title = title.replace(\"福利吧\",\"最新福利\");\n        if(titleNum == \"\") titleNum = \"∞\";\n        titleNum = \"(\"+titleNum+\")\";\n        if(url.indexOf(\"/\") == 0) url = mUrl + url;\n        item.push({\n\n            title: index.toString()===getMyVar(\"zhainanya.categoryNum\")?'““””<b><font color='+titleColor+'>'+title+'</font></b>'+'““””<small><small><small><font color='+\"#FA7298\"+'>'+titleNum+' </font></small></small></small>':title,\n            url: $(url).lazyRule((params) => {\n\n                putMyVar(\"zhainanya.categoryNum\", params.index.toString());\n                putMyVar(\"zhainanya.url\",params.url);\n                putMyVar('zhainanya.titleColor',params.tColor);\n                putMyVar('zhainanya.descColor',params.dColor);\n                refreshPage(true);\n                return \"hiker://empty\";\n            }, {index: index,url: url,tColor: tColor,dColor: dColor,}),\n            col_type: 'scroll_button',\n        });\n        if(index == 5 || index == 11 || index == categoriesArray.length - parseInt(categoriesOne.length / 2)-1) item.push({col_type:\"blank_block\"});\n    })\n    item.push({col_type:\"blank_block\"});\n}\n\n\nvar ul = clickUrl+\"/page/\"+page;\nvar status = JSON.parse(fetch(ul, {headers:{\"User-Agent\":MOBILE_UA,\"Referer\":ul}, redirect:false, withHeaders:true}));\n\nif(status.statusCode!==404){\n    var html=fetch(ul,{});\n    eval(JSON.parse(request(\"hiker://page/one\")).rule);\n    item.push.apply(item,getItem(html,descColor));\n}\n\nres.data = item;\nsetHomeResult(res);","searchFind":"js:\n//以下是 列表解析规则（JS）\n\nvar page=MY_URL.split('#')[1];\nvar searchn=MY_URL.split('#')[2];\nvar mUrl=MY_URL.split('#')[3];\n\nvar ul = mUrl + \"/page/\"+ page + \"/?s=\"+searchn;\nvar status = JSON.parse(fetch(ul, {headers:{\"User-Agent\":MOBILE_UA,\"Referer\":ul}, redirect:false, withHeaders:true}));\n\nvar res = {};\nvar item=[];\n\nif(status.statusCode!==404){\n    var html=fetch(ul,{});\n    eval(JSON.parse(request(\"hiker://page/one\")).rule);\n    item=getSearchItem(html);\n}\n\nres.data = item;\nsetHomeResult(res);","search_url":"hiker://empty#fypage#**#https://zhainanya.com/","group":"⑦其他","detail_col_type":"rich_text","detail_find_rule":"js:\nvar res={};\nvar d=[];\n\n//观看文章模式 默认模式图文并茂/0 看图模式/1 省流模式/2 阅读模式/3\nif(getMyVar('zhainanya.showMode')=='') putMyVar('zhainanya.showMode','0');\n\n\n//图片显示模式 网页内嵌图片/0 默认海阔显示图片/1\nif(getMyVar('zhainanya.viewPicMode')=='') putMyVar('zhainanya.viewPicMode','1');\nif(getMyVar('zhainanya.openComment')=='') putMyVar('zhainanya.openComment','0');\n\nif(getMyVar('zhainanya.viewPicMode')=='0' && getMyVar('zhainanya.hideImg')=='') putMyVar('zhainanya.hideImg','1');\n\nif(getMyVar('zhainanya.viewPicMode')=='1' && getMyVar('zhainanya.bigImg')=='') putMyVar('zhainanya.bigImg','pic_1_full');\n\n\nlet imageTextArray = ['🌃图文并茂','👁看图模式','📱省流模式','📚阅读模式'];\nputMyVar('zhainanya.imageTextMode',imageTextArray[parseInt(getMyVar('zhainanya.showMode'))]);\n\nlet viewPicArray = [{0:\"显示图片🌌\",1:\"隐藏图片🔗\"},{ pic_1_full:\"默认大图🌈\", pic_3:\"精美小图✨\"}];\nif(getMyVar('zhainanya.viewPicMode')=='1') putMyVar('zhainanya.imgMode',viewPicArray[1][getMyVar('zhainanya.bigImg')]);\nif(getMyVar('zhainanya.viewPicMode')=='0') putMyVar('zhainanya.imgMode',viewPicArray[0][parseInt(getMyVar('zhainanya.hideImg'))]);\n\nvar picType = '';\nif(getMyVar('zhainanya.viewPicMode')=='1') picType = `@lazyRule=.js:putMyVar('zhainanya.bigImg',getMyVar('zhainanya.bigImg')!=='pic_3'?'pic_3':'pic_1_full');refreshPage();'toast://已切换图片类型';\">`;\nif(getMyVar('zhainanya.viewPicMode')=='0') picType = `@lazyRule=.js:putMyVar('zhainanya.hideImg',getMyVar('zhainanya.hideImg')!=='0'?'0':'1');refreshPage();'toast://已切换图片类型';\">`;\n\nvar commentArray = ['已关闭评论','已开启评论'];\nputMyVar('zhainanya.openCommentString',commentArray[parseInt(getMyVar('zhainanya.openComment'))])\nvar commentType = `@lazyRule=.js:putMyVar('zhainanya.openComment',getMyVar('zhainanya.openComment')!=='0'?'0':'1');refreshPage();'toast://'+getMyVar('zhainanya.openCommentString');\">`;\n\n// if(getMyVar('zhainanya.showMode')=='0') putMyVar('zhainanya.imageTextMode','🌃图文并茂');\n// if(getMyVar('zhainanya.showMode')=='1') putMyVar('zhainanya.imageTextMode','👁看图模式');\n// if(getMyVar('zhainanya.showMode')=='2') putMyVar('zhainanya.imageTextMode','🌐省流模式');\n// if(getMyVar('zhainanya.showMode')=='3') putMyVar('zhainanya.imageTextMode','📚阅读模式');\n\n\n\nvar goodColor = \"#4000FF\";\nvar size = 16;\nvar html=getResCode();\n\neval(JSON.parse(request(\"hiker://page/css\")).rule);\neval(JSON.parse(request(\"hiker://page/view\")).rule);\n\n\nfunction getBaiduYunCode(content){\n    if(content.includes(\"pan.baidu.com\")){\n        let code = content.split(\"提取码：\");\n        if(code.length>1) copy(code[1].substring(0,4));\n    }\n}\n\nvar maxPage = 1;\ntry {\n    maxPage =  parseInt (parseDomForArray(html,'.article-paging&&a').length+1);\n} catch (e) { }\n\n\nlet headerTitle = getBigText(getStrongText(parseDomForHtml(html, '.article-title&&Text'))) + ' ' + getSmallText(getAddressTag(MY_URL, '[查看原文👀]'));\n\nlet goodCount = \"👍🏻点\"+parseDomForHtml(html, '.action.action-like&&Text');\ngoodCount = '<font color=\"' + goodColor + '\">' + goodCount \n+ `<small><small><sup><a href=\"hiker://empty` + commentType + getMyVar('zhainanya.openCommentString').substring(1,2) + \"</a></sup></small></small></font>\";\n\nlet brower = `<big><a href=\"hiker://empty@lazyRule=.js:putMyVar('zhainanya.browserLink',getMyVar('zhainanya.browserLink')!==''?'':'web://');refreshPage();'toast://已切换浏览模式';\">`+(getMyVar('zhainanya.browserLink')!==''?\"🌐\":\"🌆\")+\"</a></big>\";\n\n//var subTime = getCodeText(parseDomForHtml(html,'.article-meta--a&&li,0&&Text').replace(\"发布于\",\"日期:\"));\n\nlet subType = [];\ntry{\n    subType = parseDomForArray(html,'.article-tags&&a');\n}catch(e){}\nif(subType.length==0) subType = parseDomForArray(html,'.article-meta&&li,1&&a');\n\n\nlet type=getCodeText(\"🏷️标签: \");\nfor(let i=0;i<subType.length;i++){\n    type += getCodeText(parseDomForHtml(subType[i],'a&&Text'));\n}\n\nlet comment=[];\ntry{\n    comment = parseDomForArray(html,'.commentlist&&.depth-1');\n}catch(e){}\n\n//if(headerTitle.includes(\"女神\") || headerTitle.includes(\"写真\") || headerTitle.includes(\"套图\") ||type.includes(\"宅男女神\") || type.includes(\"写真套图\")) putMyVar('img','pic_3');\n\nd.push({title: headerTitle+'&nbsp;' +goodCount+'&nbsp;'+brower+'<br>'+type,});\nd.push({col_type:'line'});\n\n\n// var tips = getColorText('温馨提示:图片清晰度较高，容易导致崩溃！！！建议小图访问链接查看','#F47920');\n// if(getMyVar('img')=='pic_3') \n// d.push({title: tips,});\nd.push({col_type:\"rich_text\",title:\n    `<small>当前<a href=\"hiker://empty@lazyRule=.js:putMyVar('zhainanya.viewPicMode',getMyVar('zhainanya.viewPicMode')!=='0'?'0':'1');refreshPage();'toast://已切换图片显示模式';\">`+(getMyVar('zhainanya.viewPicMode')!=='0'?\"海阔模式\":\"网页模式\")+\"</a>👈</small>\"\n    +`<small>为：<a href=\"hiker://empty`+picType+getMyVar('zhainanya.imgMode')+\"</a></small>\"\n    +'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'\n    +`<small>模式：<a href=\"hiker://empty@lazyRule=.js:if(getMyVar('zhainanya.showMode')=='3'){putMyVar('zhainanya.showMode','0')}else{putMyVar('zhainanya.showMode',(parseInt(getMyVar('zhainanya.showMode'))+1).toString());};refreshPage();'toast://已切换文章模式';\">`+getMyVar('zhainanya.imageTextMode')+\"</a></small>\"\n    // +\"<br><small><small>\"+tips+\"</small></small>\"\n});\n\nvar content = '';\nfor (let i = 1; i <= maxPage; i++) {\n    if(i > 1) html = fetch(MY_URL.replace(\".html\", \".html/\" + (i)),{});\n\n    let contentZero = parseDomForHtml(html, '.article-content&&Html');\n    if(maxPage > 1){    \n        contentZero = contentZero.split('\\n<div class=\"article-paging\">')[0];\n    }else{\n        let not_copy = parseDomForHtml(contentZero, '.post-copyright&&Html');\n        contentZero = contentZero.replace(not_copy, '');\n    }\n    content += contentZero;\n}\n\n// getBaiduYunCode(content);\n\ncontent = content\n    .replace(/<br>/g, '')\n    .replace(/\\n<p>&nbsp;<\\/p>/g,'')\n    .replace(/\\n<p><\\/p>/g,'')\n    .replace(/<pre>([\\s\\S]*?)<\\/pre>/g,'')\n    .replace(/<p>/g,'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;')\n    .replace(/<\\/p>/g,'<br>');\n    // .replace(/<img([\\s\\S]*?)!!([\\s\\S]*?)>/g,'');\n    //非常耗时和内存\n    // .replaceWithCallback(/<img([\\s\\S]*?)>/g, '', deleteInvalidImgTag);\n\nif(getMyVar('zhainanya.showMode')=='2' || getMyVar('zhainanya.showMode')=='3') content = content.replace(/<img([\\s\\S]*?)>/g,'')\n  .replace(/\\n<p><strong><\\/strong><\\/p>/g,'');\n\nif(getMyVar('zhainanya.viewPicMode')=='1'){\n    let contentlist = content.split('\\n');\n    let htmlList = '';\n    for(let j=0;j<contentlist.length;j++){\n        let imglist = imgTagGetUrlArray(contentlist[j],/<img([\\s\\S]*?)>/g);\n        let quoteContent = contentlist[j];\n        //文章内容-简单文本\n        quoteContent = quoteContent\n            .replace(/<img([\\s\\S]*?)>/g,'')\n            // .replace(/<(iframe|sources|video)([\\s\\S]*?)<\\/(iframe|sources|video)>/g,'')\n            .replaceWithCallback(/<(iframe)([\\s\\S]*?)<\\/(iframe)>/g, '<link data-v>', linkTagReplacement2)\n            .replaceWithCallback(/<(source|video)([\\s\\S]*?)<\\/(source|video)>/g, '<video data-v>', videoTagReplacement2);\n            // .replace(/<p><\\/p>/g,'');\n\n\n\n        let temp = parseDomForHtml(getNewText(quoteContent,'div'), 'Text');\n        if(getMyVar('zhainanya.showMode')=='3'){\n            if(!temp.match(/^\\s*$/)) htmlList += '◇&nbsp;&nbsp;&nbsp;&nbsp;' + temp + '<br>';\n            if(j==contentlist.length-1 && htmlList !== ''){\n                d.push({title: htmlList,\n                    extra: {\n                                textSize: size,\n                                click: true\n                            }});\n                htmlList = '';\n            }\n        }else{\n            if(!temp.match(/^\\s*$/) || quoteContent.includes('blockquote>') || (quoteContent.includes('div>') && quoteContent.match(/<(div)([\\s\\S]*?)<\\/(div)>/g) == null)) htmlList += quoteContent;\n            if(imglist.length > 0 || j==contentlist.length-1){\n                let temp = parseDomForHtml(getNewText(htmlList,'div'), 'Text');\n                if(!temp.match(/^\\s*$/) && getMyVar('zhainanya.showMode')!=='1') d.push({title: htmlList,\n                        extra: {\n                            textSize: size,\n                            click: true\n                        }});\n                htmlList = '';\n                for (let k = 0; k < imglist.length; k++){\n                    d.push({\n                        pic_url:imglist[k],\n                        url:getMyVar('zhainanya.browserLink')+imglist[k],\n                        col_type:getMyVar('zhainanya.bigImg'),\n                        extra: {\n                            textSize: size,\n                            click: true\n                        }\n                    });\n                }\n            }\n        }\n    }   \n\n    //复杂文本-由Html格式-替换掉图片---视频链接也替换掉用查看视频替代---网站地址不用替换，直接用\n    // quoteContent = getNewText(quoteContent,'div');\n    // let temp = parseDomForHtml(getNewText(quoteContent,'div'), 'Text');\n    // if(!quoteContent.includes('=\"http')) quoteContent = temp;\n    // if(!temp.match(/^\\s*$/)) d.push({title: quoteContent});\n\n    //漫画模式\n    // var pics=[];\n    //for (let k = 0; k < imglist.length; k++){\n    //     pics.push(imglist[k]);\n    // }\n    // \"pics://\"+pics.join(\"&&\");\n\n    // if(imglist.length==0) continue;\n    // for (let k = 0; k < imglist.length; k++){\n    //     d.push({\n    //         pic_url:imglist[k],\n    //         url:imglist[k],\n    //         col_type:getMyVar('zhainanya.bigImg')\n    //     });\n    // }\n}else{\n    // if(getMyVar('zhainanya.showMode')=='1') content = GetImgTagArray(content,/<img([\\s\\S]*?)>/g);\n    if(getMyVar('zhainanya.showMode')=='1'){\n        let matchArray = content.match(/<img([\\s\\S]*?)>/g);\n        let imglist = '';\n        if (matchArray != null) {\n            for (let i = 0; i < matchArray.length; i++) {\n                let pic = matchArray[i] .replaceWithCallback(/<img([\\s\\S]*?)>/g, '<img data-v>', imgTagReplacementOne)\n                                        .replace(/<showimg/g, '<img');\n                if(getMyVar('zhainanya.hideImg') == '0') d.push({title: pic,\n                        extra: {\n                            textSize: size,\n                            click: true\n                        }});\n                imglist += pic;\n            }\n        }\n        if(getMyVar('zhainanya.hideImg') == '1') d.push({title: imglist,\n                        extra: {\n                            textSize: size,\n                            click: true\n                        }});\n    }else{\n        content = content.replaceWithCallback(/<img([\\s\\S]*?)>/g, '<img data-v>', imgTagReplacementOne)\n            .replace(/<showimg/g, '<img')\n            .replaceWithCallback(/<(iframe)([\\s\\S]*?)<\\/(iframe)>/g, '<link data-v>', linkTagReplacement2)\n            .replaceWithCallback(/<(source|video)([\\s\\S]*?)<\\/(source|video)>/g, '<video data-v>', videoTagReplacement2);\n\n        let contentlist = content.split('\\n');\n        let htmlList = '';\n        for(let j=0;j<contentlist.length;j++){\n            let quoteContent = contentlist[j];\n\n            let temp = parseDomForHtml(getNewText(quoteContent,'div'), 'Text');\n            if(getMyVar('zhainanya.showMode')=='3'){\n                if(!temp.match(/^\\s*$/)) htmlList += '<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;' + temp + '</p>';\n                if(j==contentlist.length-1 && htmlList !== ''){\n                    d.push({title: htmlList,\n                        extra: {\n                            textSize: size,\n                            click: true\n                        }});\n                    htmlList = '';\n                }\n            }else{\n                if(!temp.match(/^\\s*$/) || quoteContent.includes('blockquote>') || (quoteContent.includes('div>') && quoteContent.match(/<(div)([\\s\\S]*?)<\\/(div)>/g) == null)) htmlList += quoteContent;\n\n                if(quoteContent.match(/<img([\\s\\S]*?)>/g) !== null || j==contentlist.length-1){\n                    if(getMyVar('zhainanya.showMode')!=='1' && htmlList !== '') d.push({title: htmlList,\n                        extra: {\n                            textSize: size,\n                            click: true\n                        }});\n                    htmlList = '';\n                }\n                if(quoteContent.match(/<img([\\s\\S]*?)>/g) !== null) d.push({title: quoteContent,\n                        extra: {\n                            textSize: size,\n                            click: true\n                        }});\n            }\n        }\n    }\n}\n\n\nd.push({col_type: 'line_blank'});\nlet tips = '该文章来源于宅男鸭，如您喜欢，请进入宅男鸭网页版';\nlet warning = '此规则仅限学习使用，如有不妥，请本吧主联系我删除';\n\n// if(getMyVar('zhainanya.showMode')=='0' || getMyVar('zhainanya.showMode')=='2'){\nif(getMyVar('zhainanya.openComment')=='0'){\n    eval(JSON.parse(request(\"hiker://page/comment\")).rule);\n\n    d.push({title: GetTips(tips,warning),\n                        extra: {\n                            textSize: size,\n                            click: true\n                        }});\n    d.push({col_type: 'line_blank'});\n\n    if(comment.length > 0){\n        let commentNum = parseDomForHtml(html,'.article-meta&&li,-2&&Text').replace(\"评论\",\"📢热评数\");\n        commentNum = GetHome(3)+getStrongText(getBigText(commentNum));\n        for (let l = 0; l < comment.length; l++){\n            let list = parseDomForArray(comment[l],'.comment');\n            d.push({col_type: 'line'});\n\n            for (let m = 0; m < list.length; m++) {\n                let floor = ''; let main = '';  let autor = ''; let time = '';\n                try{\n                    if(m==0) floor = \"🏢\" + (l+1)+\"楼\";\n                }catch(e){\n                    floor = l+'楼层错误!!!'+m\n                }\n                try{\n                    main =  parseDomForHtml(list[m],'.c-main&&p&&Text');\n                }catch(e){\n                    main = l+'回复内容错误!!!'+m\n                }\n                try{\n                    autor = \"👱\" + parseDomForHtml(list[m],'.c-author&&Text');\n                }catch(e){\n                    autor = l+'作者名称错误!!!'+m\n                }\n                try{\n                    time = \"🕢\" + parseDomForHtml(list[m],'.c-time&&Text').replace(\"回复\",\"\");\n                }catch(e){\n                    time = l+'时间错误!!!'+m\n                }\n\n                let commentText = GetComment(main,autor,time,floor);\n                if(l==0 && m==0) commentText = commentNum +'<br><br>'+ commentText;\n\n                d.push({title: commentText,\n                        extra: {\n                            textSize: size,\n                            click: true\n                        }});\n            }\n        }\n    }\n}\n\nres.data=d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"CSS格式化\",\"path\":\"css\",\"rule\":\"function getNewText(text,css){\\n   return '<'+css+'>' + text + '</'+css+'>';\\n}\\n\\nfunction getBigText(text) {\\n    return '<big>' + text + '</big>';\\n}\\nfunction getSmallText(text) {\\n    return '<small>' + text + '</small>';\\n}\\nfunction getStrongText(text) {\\n    return '<strong>' + text + '</strong>';\\n}\\nfunction getTitleText(text) {\\n    return getStrongText(text);\\n}\\nfunction getColorText(text, color) {\\n    return '<font color=\\\"' + color + '\\\">' + text + '</font>';\\n}\\nfunction getGreyText(text) {\\n    return getColorText(text, 'grey');\\n}\\nfunction getAuthorText(text) {\\n    return getColorText(text, userColor);\\n}\\nfunction getCodeText(text) {\\n    return '<code>' + text + '</code>';\\n}\\nfunction getBlockquoteText(text) {\\n    return '<blockquote>' + text + '</blockquote>'\\n}\\nfunction getAddressTag(url, text) {\\n    return '<a href=\\\"' + url + '\\\">' + text + '</a>'\\n}\\nfunction getCommentMeta(html) {\\n    return getSmallText(html);\\n}\"},{\"name\":\"视图处理\",\"path\":\"view\",\"rule\":\"//获取重定向地址\\nfunction getRedirectAddress(url){\\n    let urlRedirect = '';\\n    try{\\n        let urlCode = fetch(url,{redirect:false,withHeaders:true});\\n        urlRedirect = JSON.parse(urlCode).headers.location[0];\\n    }catch(e){}\\n    return urlRedirect;\\n}\\n\\nString.prototype.replaceWithCallback = function (searchValue, replaceValue, callback) {\\n    let returnValue = this;\\n    if (callback != null) {\\n        returnValue = callback(this, searchValue, replaceValue);\\n    }\\n    return returnValue;\\n};\\n\\n//删除重定向图片链接\\nfunction deleteInvalidImgTag(context, searchValue,replaceValue) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = context;\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            let item = matchArray[i];\\n            /<img.*?(data-original|data-src|src)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n            let imgUrl = RegExp.$2;\\n            if (imgUrl.indexOf(\\\"placeholder\\\") > -1) {\\n                /<img.*?(data-original)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n                imgUrl = RegExp.$2;\\n            }\\n            if(imgUrl.indexOf(\\\"//\\\")==0){imgUrl = \\\"https:\\\" + imgUrl;}\\n            if (imgUrl != '') {\\n                if(getRedirectAddress(imgUrl) != ''){\\n                    returnValue = returnValue.replace(item,replaceValue);\\n                }\\n            }\\n        }\\n    }\\n    return returnValue;\\n}\\n\\nfunction GetImgTagArrayString(context, searchValue) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = '';\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            returnValue += matchArray[i];\\n        }\\n    }\\n    return returnValue;\\n}\\n\\nfunction imgTagGetUrlArray(context, searchValue) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = [];\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            let item = matchArray[i];\\n            /<img.*?(data-original|data-src|src)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n            let imgUrl = RegExp.$2;\\n            if (imgUrl.indexOf(\\\"placeholder\\\") > -1) {\\n                /<img.*?(data-original)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n                imgUrl = RegExp.$2;\\n            }\\n            if(imgUrl.indexOf(\\\"//\\\")==0){imgUrl = \\\"https:\\\" + imgUrl;}\\n            if (imgUrl !== '') {\\n                returnValue.push(imgUrl);\\n            }\\n        }\\n    }\\n    return returnValue;\\n}\\n\\n\\nlet imgError = '<p><font color=\\\"grey\\\">图片暂时无法显示，若要查看请<a href=\\\"' + MY_URL + '\\\">访问原文</a></font></p>';\\nfunction imgTag(context, imgUrl) {\\n    let replaceString = imgUrl === '' ? imgError : '<p><showimg src=\\\"' + (imgUrl + '@Referer=' + MY_URL) + '\\\"></p>';\\n    if (getMyVar('zhainanya.hideImg')=='1') {\\n        replaceString = imgUrl === '' ? imgError : '<p><a href=\\\"' + imgUrl + '\\\">[点击查看大图]</a></p>';\\n    }\\n    return context.replace(/<img data-v>/g, replaceString);\\n}\\nfunction imgTagOne(context, imgUrl) {\\n    let replaceString = imgUrl === '' ? imgError : '\\\\n<p><showimg src=\\\"' + (imgUrl + '@Referer=' + MY_URL) + '\\\"></p>';\\n    if (getMyVar('zhainanya.hideImg')=='1') {\\n        replaceString = imgUrl === '' ? imgError : '<p><a href=\\\"' + imgUrl + '\\\">[点击查看大图]</a>&nbsp;&nbsp;&nbsp;<a href=\\\"web://' + imgUrl + '\\\">[点击查看链接]</a></p>';\\n    }\\n    return context.replace(/<img data-v>/g, replaceString);\\n}\\nfunction imgTagReplacement2(context, searchValue, replaceValue) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = context;\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            let item = matchArray[i];\\n            /<img.*?(data-original|data-src|src)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n            let imgUrl = RegExp.$2;\\n            if (imgUrl.indexOf(\\\"placeholder\\\") > -1) {\\n                /<img.*?(data-original)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n                imgUrl = RegExp.$2;\\n            }\\n            if(imgUrl.indexOf(\\\"//\\\")==0){imgUrl = \\\"https:\\\" + imgUrl;}\\n            if (imgUrl !== '') {\\n                returnValue = returnValue.replace(item, replaceValue);\\n                returnValue = imgTag(returnValue, imgUrl);\\n            }\\n        }\\n    }\\n    return returnValue;\\n}\\nfunction imgTagReplacementOne(context, searchValue, replaceValue) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = context;\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            let item = matchArray[i];\\n            /<img.*?(data-original|data-src|src)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n            let imgUrl = RegExp.$2;\\n            if (imgUrl.indexOf(\\\"placeholder\\\") > -1) {\\n                /<img.*?(data-original)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n                imgUrl = RegExp.$2;\\n            }\\n            if(imgUrl.indexOf(\\\"//\\\")==0){imgUrl = \\\"https:\\\" + imgUrl;}\\n            if (imgUrl !== '') {\\n                returnValue = returnValue.replace(item, replaceValue);\\n                returnValue = imgTagOne(returnValue, imgUrl);\\n            }\\n        }\\n    }\\n    return returnValue;\\n}\\n\\nlet videoError = '<p><font color=\\\"grey\\\">视频暂时无法显示，若要查看请<a href=\\\"' + MY_URL + '\\\">访问原文</a></font></p>';\\nfunction videoTag(context, videoUrl) {\\n    let replaceString = videoUrl === '' ? videoError : '<p><a href=\\\"' + (videoUrl) + '\\\">[点击查看视频]</a></p>';\\n    if (getMyVar('zhainanya.hideImg')=='1') {\\n        replaceString = videoUrl === '' ? videoError : '<p><a href=\\\"' + videoUrl + '\\\">[点击查看视频]</a></p>';\\n    }\\n    return context.replace(/<video data-v>/g, replaceString);\\n}\\nfunction videoTagReplacement2(context, searchValue, replaceValue) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = context;\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            let item = matchArray[i];\\n            /<(source|video).*?(data-original|data-src|src)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n            let videoUrl = RegExp.$3;\\n            if(videoUrl.indexOf(\\\"//\\\")==0){videoUrl = \\\"https:\\\" + videoUrl;}\\n            if(videoUrl.includes(\\\"zhainanmi\\\")) continue;\\n            if (videoUrl !== '') {\\n                returnValue = returnValue.replace(item, replaceValue);\\n                returnValue = videoTag(returnValue, videoUrl);\\n            }\\n        }\\n    }\\n    return returnValue;\\n}\\n\\nlet linkError = '<p><font color=\\\"grey\\\">链接暂时无法显示，若要查看请<a href=\\\"' + MY_URL + '\\\">访问原文</a></font></p>';\\nfunction linkTag(context, linkUrl) {\\n    let replaceString = linkUrl === '' ? linkError : '<p><a href=\\\"' + (linkUrl) + '\\\">[点击查看链接]</a></p>';\\n    if (getMyVar('zhainanya.hideImg')=='1') {\\n        replaceString = linkUrl === '' ? linkError : '<p><a href=\\\"' + linkUrl + '\\\">[点击查看链接]</a></p>';\\n    }\\n    return context.replace(/<link data-v>/g, replaceString);\\n}\\nfunction linkTagReplacement2(context, searchValue, replaceValue) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = context;\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            let item = matchArray[i];\\n            /<(iframe).*?(data-original|data-src|src)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n            let linkUrl = RegExp.$3;\\n            if(linkUrl.indexOf(\\\"//\\\")==0){linkUrl = \\\"https:\\\" + linkUrl;}\\n            if (linkUrl !== '') {\\n                returnValue = returnValue.replace(item, replaceValue);\\n                returnValue = linkTag(returnValue, linkUrl);\\n            }\\n        }\\n    }\\n    return returnValue;\\n}\\n\\nfunction cssTagReplacement2(context, searchValue, replaceValue) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = context;\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            let item = matchArray[i];\\n            /<(div|p|strong)>.*?<\\\\/(div|p|strong)>/.test(item);\\n            let css = RegExp.$2;\\n            if (css.match(/^\\\\s*$/)) {\\n                returnValue = returnValue.replace(item, replaceValue);\\n            }\\n        }\\n    }\\n    return returnValue;\\n}\"},{\"name\":\"评论方法\",\"path\":\"comment\",\"rule\":\"function GetHome(num){\\n    let retract = '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;';\\n    for(let i=1;i<num;i++) retract += '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;';\\n    return '<span>'+retract+'</span>';\\n}\\n\\nfunction GetComment(main,autor,time,floor){\\n\\n    let fontStyle = '<font color=\\\"grey\\\"><span class=\\\"normal-font gray-font align-baseline\\\">&nbsp;&nbsp;'+time+' &nbsp;</span></font>';\\n    let buttonData = getColorText(autor,'#2979FF')+fontStyle+getColorText(floor,'#2979aa');\\n    let comment = '';\\n\\n    if(floor==''){\\n        comment = GetHome(1)+main+getNewText('<br>'+GetHome(1)+buttonData,'small');\\n    }else{\\n        comment = main+getNewText('<br>'+ buttonData,'small');\\n    }\\n    return comment;\\n}\\n\\nfunction GetTips(tips,warning){\\n    let tipsStyle = '<small><span class=\\\"normal-font gray-font align-baseline\\\">&nbsp;'+tips+' &nbsp;</span></small>';\\n    let warningStyle = '<small><font color=\\\"grey\\\"><span class=\\\"normal-font gray-font align-baseline\\\">&nbsp;'+warning+' &nbsp;</span></font></small>';\\n    return tipsStyle+'<br>'+warningStyle;\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"解析搜索\",\"path\":\"one\",\"rule\":\"function getItem(html,colors){\\n    var list = parseDomForArray(html, '.content&&article');//       【列表】\\n    var item=[];\\n    for (var i in list) {\\n        let title = parseDomForHtml(list[i], 'h2&&Text');\\n        let pic = \\\"https://img0.baidu.com/it/u=1420719556,2509925486&fm=26&fmt=auto&gp=0.jpg\\\";\\n        try{\\n            pic = parseDomForHtml(list[i], '.thumb&&data-original');\\n        }catch(e){}\\n        let commentNum = '0';\\n        try{\\n            commentNum = parseDomForHtml(list[i], '.post-comments&&Text').split(\\\"(\\\")[1].split(\\\")\\\")[0];\\n        }catch(e){}\\n\\n        let time = \\\"🕧日期: \\\" + '““””<b><font color='+ colors + '>' + parseDomForHtml(list[i], '.text-muted.time--a&&Text').split(\\\"发布于\\\")[1] +' </font></b>';\\n        let like = \\\"💜点赞: \\\" + '““””<b><font color='+ colors + '>' + parseDomForHtml(list[i], '.text-muted.views&&a,0&&span&&Text') +' </font>&nbsp;&nbsp;</b>';\\n        let comment =  \\\"  💬评论: \\\" + '““””<b><font color='+ colors + '>' + commentNum +' </font></b>';\\n\\n        let tabs=\\\"\\\\n\\\\n\\\";\\n\\n        item.push({\\n            title:title,//【标题】\\n            pic_url: pic, //图片\\n            desc: time+tabs+like+comment,//【描述】\\n            url: parseDom(list[i], 'h2&&a&&href') +'#fullTheme##noRecordHistory##noHistory#',//【链接】\\n        });\\n    }\\n    return item;\\n}\\n\\nfunction getSearchItem(html){\\n    var list = parseDomForArray(html, '.content&&article');//       【列表】\\n    var item=[];\\n    for (var i in list) {\\n        let title = parseDomForHtml(list[i], 'h2&&Text');\\n        let pic = \\\"https://img0.baidu.com/it/u=1420719556,2509925486&fm=26&fmt=auto&gp=0.jpg\\\";\\n        try{\\n            pic = parseDomForHtml(list[i], '.thumb&&data-original');\\n        }catch(e){}\\n        let commentNum = '0';\\n        try{\\n            commentNum = parseDomForHtml(list[i], '.post-comments&&Text').replace(/评论(|)/g,'');\\n        }catch(e){}\\n\\n        // let time = \\\"🕧: \\\" + parseDomForHtml(list[i], '.text-muted.time--a&&Text').replace(\\\"发布于\\\",\\\"\\\");\\n        let like = \\\"💜: \\\" + parseDomForHtml(list[i], '.text-muted.views&&a,0&&span&&Text');\\n        let comment =  \\\"💬: \\\" + commentNum;\\n\\n        let tabs=\\\"   \\\";\\n        \\n        item.push({\\n            title:title,//【标题】\\n            pic_url: pic, //图片\\n            desc: like+tabs+comment,//【描述】\\n            url: parseDom(list[i], 'h2&&a&&href') +'#fullTheme##noRecordHistory##noHistory#',//【链接】\\n        });\\n    }\\n    return item;\\n}\"},{\"name\":\"方法云集\",\"path\":\"uses\",\"rule\":\"function getAddressTag(url, text) {\\n    return '<a href=\\\"' + url + '\\\">' + text + '</a>'\\n}\\n\\nfunction getRangeColors(){\\n    //颜色 代码来自Rx大佬\\n    let Colors=[\\\"4\\\",\\\"5\\\",\\\"0\\\",\\\"1\\\",\\\"A\\\",\\\"3\\\",\\\"8\\\",\\\"9\\\",\\\"B\\\",\\\"C\\\",\\\"D\\\",\\\"E\\\",\\\"6\\\",\\\"7\\\",\\\"F\\\"];\\n    let Color = \\\"#\\\";\\n    for (let i=0;i<6;i++){\\n        let num=Math.ceil((Math.random()*15))-1;\\n        Color+=Colors[num];\\n    }\\n    return Color;\\n}\\n\\nfunction getBaiduYunCode(content){\\n    if(content.includes(\\\"pan.baidu.com\\\")){\\n        var code = content.split(\\\"提取码：\\\");\\n        if(code.length>1) copy(code[1].substring(0,4));\\n    }\\n}\"}]","icon":""},{"last_chapter_rule":"","pageList":[{"name":"CSS函数集","path":"css","rule":"function getNewText(text,css){\n   return '<'+css+'>' + text + '</'+css+'>';\n}\n\nfunction getBigText(text) {\n    return '<big>' + text + '</big>';\n}\nfunction getSmallText(text) {\n    return '<small>' + text + '</small>';\n}\nfunction getStrongText(text) {\n    return '<strong>' + text + '</strong>';\n}\nfunction getTitleText(text) {\n    return getStrongText(text);\n}\nfunction getColorText(text, color) {\n    return '<font color=\"' + color + '\">' + text + '</font>';\n}\nfunction getGreyText(text) {\n    return getColorText(text, 'grey');\n}\nfunction getAuthorText(text) {\n    return getColorText(text, userColor);\n}\nfunction getCodeText(text) {\n    return '<code>' + text + '</code>';\n}\nfunction getBlockquoteText(text) {\n    return '<blockquote>' + text + '</blockquote>'\n}\nfunction getAddressTag(url, text) {\n    return '<a href=\"' + url + '\">' + text + '</a>'\n}\nfunction getCommentMeta(html) {\n    return getSmallText(html);\n}"},{"col_type":"movie_3","name":"视图处理","path":"view","rule":"//获取重定向地址\nfunction getRedirectAddress(url){\n    let urlRedirect = '';\n    try{\n        let urlCode = fetch(url,{redirect:false,withHeaders:true});\n        urlRedirect = JSON.parse(urlCode).headers.location[0];\n    }catch(e){}\n    return urlRedirect;\n}\n\nString.prototype.replaceWithCallback = function (searchValue, replaceValue, callback) {\n    let returnValue = this;\n    if (callback != null) {\n        returnValue = callback(this, searchValue, replaceValue);\n    }\n    return returnValue;\n};\n\n//删除重定向图片链接\nfunction deleteInvalidImgTag(context, searchValue,replaceValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = context;\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            let item = matchArray[i];\n            /<img.*?(data-original|data-src|src)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n            let imgUrl = RegExp.$2;\n            if (imgUrl.indexOf(\"placeholder\") > -1) {\n                /<img.*?(data-original)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n                imgUrl = RegExp.$2;\n            }\n            if(imgUrl.indexOf(\"//\")==0){imgUrl = \"https:\" + imgUrl;}\n            if (imgUrl != '') {\n                if(getRedirectAddress(imgUrl) != ''){\n                    returnValue = returnValue.replace(item,replaceValue);\n                }\n            }\n        }\n    }\n    return returnValue;\n}\n\nfunction GetImgTagArrayString(context, searchValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = '';\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            returnValue += matchArray[i];\n        }\n    }\n    return returnValue;\n}\n\nfunction imgTagGetUrlArray(context, searchValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = [];\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            let item = matchArray[i];\n            /<img.*?(data-original|data-src|src)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n            let imgUrl = RegExp.$2;\n            if (imgUrl.indexOf(\"placeholder\") > -1) {\n                /<img.*?(data-original)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n                imgUrl = RegExp.$2;\n            }\n            if(imgUrl.indexOf(\"//\")==0){imgUrl = \"https:\" + imgUrl;}\n            if (imgUrl !== '') {\n                returnValue.push(imgUrl);\n            }\n        }\n    }\n    return returnValue;\n}\n\n\nlet imgError = '<p><font color=\"grey\">图片暂时无法显示，若要查看请<a href=\"' + MY_URL + '\">访问原文</a></font></p>';\nfunction imgTag(context, imgUrl) {\n    let replaceString = imgUrl === '' ? imgError : '<p><showimg src=\"' + (imgUrl + '@Referer=' + MY_URL) + '\"></p>';\n    if (getMyVar('wikihow.hideImg')=='1') {\n        replaceString = imgUrl === '' ? imgError : '<p><a href=\"' + imgUrl + '\">[点击查看大图]</a></p>';\n    }\n    return context.replace(/<img data-v>/g, replaceString);\n}\nfunction imgTagOne(context, imgUrl) {\n    let replaceString = imgUrl === '' ? imgError : '\\n<p><showimg src=\"' + (imgUrl + '@Referer=' + MY_URL) + '\"></p>';\n    if (getMyVar('wikihow.hideImg')=='1') {\n        replaceString = imgUrl === '' ? imgError : '<p><a href=\"' + imgUrl + '\">[点击查看大图]</a>&nbsp;&nbsp;&nbsp;<a href=\"web://' + imgUrl + '\">[点击查看链接]</a></p>';\n    }\n    return context.replace(/<img data-v>/g, replaceString);\n}\nfunction imgTagReplacement2(context, searchValue, replaceValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = context;\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            let item = matchArray[i];\n            /<img.*?(data-original|data-src|src)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n            let imgUrl = RegExp.$2;\n            if (imgUrl.indexOf(\"placeholder\") > -1) {\n                /<img.*?(data-original)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n                imgUrl = RegExp.$2;\n            }\n            if(imgUrl.indexOf(\"//\")==0){imgUrl = \"https:\" + imgUrl;}\n            if (imgUrl !== '') {\n                returnValue = returnValue.replace(item, replaceValue);\n                returnValue = imgTag(returnValue, imgUrl);\n            }\n        }\n    }\n    return returnValue;\n}\nfunction imgTagReplacementOne(context, searchValue, replaceValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = context;\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            let item = matchArray[i];\n            /<img.*?(data-original|data-src|src)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n            let imgUrl = RegExp.$2;\n            if (imgUrl.indexOf(\"placeholder\") > -1) {\n                /<img.*?(data-original)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n                imgUrl = RegExp.$2;\n            }\n            if(imgUrl.indexOf(\"//\")==0){imgUrl = \"https:\" + imgUrl;}\n            if (imgUrl !== '') {\n                returnValue = returnValue.replace(item, replaceValue);\n                returnValue = imgTagOne(returnValue, imgUrl);\n            }\n        }\n    }\n    return returnValue;\n}\n\nlet videoError = '<p><font color=\"grey\">视频暂时无法显示，若要查看请<a href=\"' + MY_URL + '\">访问原文</a></font></p>';\nfunction videoTag(context, videoUrl) {\n    let replaceString = videoUrl === '' ? videoError : '<p><a href=\"' + (videoUrl) + '\">[点击查看视频]</a></p>';\n    if (getMyVar('wikihow.hideImg')=='1') {\n        replaceString = videoUrl === '' ? videoError : '<p><a href=\"' + videoUrl + '\">[点击查看视频]</a></p>';\n    }\n    return context.replace(/<video data-v>/g, replaceString);\n}\nfunction videoTagReplacement2(context, searchValue, replaceValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = context;\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            let item = matchArray[i];\n            /<(source|video).*?(data-original|data-src|src)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n            let videoUrl = RegExp.$3;\n            if(videoUrl.indexOf(\"//\")==0){videoUrl = \"https:\" + videoUrl;}\n            if(videoUrl.includes(\"zhainanmi\")) continue;\n            if (videoUrl !== '') {\n                returnValue = returnValue.replace(item, replaceValue);\n                returnValue = videoTag(returnValue, videoUrl);\n            }\n        }\n    }\n    return returnValue;\n}\n\nlet linkError = '<p><font color=\"grey\">链接暂时无法显示，若要查看请<a href=\"' + MY_URL + '\">访问原文</a></font></p>';\nfunction linkTag(context, linkUrl) {\n    let replaceString = linkUrl === '' ? linkError : '<p><a href=\"' + (linkUrl) + '\">[点击查看链接]</a></p>';\n    if (getMyVar('wikihow.hideImg')=='1') {\n        replaceString = linkUrl === '' ? linkError : '<p><a href=\"' + linkUrl + '\">[点击查看链接]</a></p>';\n    }\n    return context.replace(/<link data-v>/g, replaceString);\n}\nfunction linkTagReplacement2(context, searchValue, replaceValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = context;\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            let item = matchArray[i];\n            /<(iframe).*?(data-original|data-src|src)=\"(.*?)\"([\\s\\S]*?)>/.test(item);\n            let linkUrl = RegExp.$3;\n            if(linkUrl.indexOf(\"//\")==0){linkUrl = \"https:\" + linkUrl;}\n            if (linkUrl !== '') {\n                returnValue = returnValue.replace(item, replaceValue);\n                returnValue = linkTag(returnValue, linkUrl);\n            }\n        }\n    }\n    return returnValue;\n}\n\nfunction cssTagReplacement2(context, searchValue, replaceValue) {\n    let matchArray = context.match(searchValue);\n    let returnValue = context;\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            let item = matchArray[i];\n            /<(div|p|strong)>.*?<\\/(div|p|strong)>/.test(item);\n            let css = RegExp.$2;\n            if (css.match(/^\\s*$/)) {\n                returnValue = returnValue.replace(item, replaceValue);\n            }\n        }\n    }\n    return returnValue;\n}\n\nfunction supTagReplacement2(context, searchValue,supArray) {\n    let matchArray = context.match(searchValue);\n    let returnValue = context;\n    if (matchArray != null) {\n        for (let i = 0; i < matchArray.length; i++) {\n            let item = matchArray[i];\n            let supTag = parseDomForHtml(matchArray[i],'sup&&a&&Html');\n            let supNum = parseInt(supTag.replace(/\\[|\\]/g,\"\"))-1;\n            if (supTag !== '') {\n                let showLink = 'toast://';\nif(supArray[supNum].indexOf('http')==0) showLink = '';\n                returnValue = returnValue.replace(item, '<small><sup><a href=\"'+ showLink + supArray[supNum]+'\">'+supTag+'</a></sup></small>');\n            }\n        }\n    }\n    return returnValue;\n}"},{"col_type":"movie_3","name":"提示","path":"tips","rule":"\nfunction GetHome(num){\n    let retract = '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;';\n    for(let i=1;i<num;i++) retract += '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;';\n    return '<span>'+retract+'</span>';\n}\n\nfunction GetComment(main,autor,time,floor){\n\n    let fontStyle = '<font color=\"grey\"><span class=\"normal-font gray-font align-baseline\">&nbsp;&nbsp;'+time+' &nbsp;</span></font>';\n    let buttonData = getColorText(autor,'#2979FF')+fontStyle+getColorText(floor,'#2979aa');\n    let comment = '';\n\n    if(floor==''){\n        comment =GetHome(1)+main+getNewText('<br>'+GetHome(1)+buttonData,'small');\n    }else{\n        comment = main+getNewText('<br>'+ buttonData,'small');\n    }\n    return comment;\n}\n\nfunction GetTips(tips,warning){\n    let tipsStyle = '<small><span class=\"normal-font gray-font align-baseline\">&nbsp;'+tips+' &nbsp;</span></small>';\n    let warningStyle = '<small><small><font color=\"grey\"><span class=\"normal-font gray-font align-baseline\">&nbsp;'+warning+' &nbsp;</span></font></small></small>';\n    return tipsStyle+'<br>'+warningStyle;\n}"}],"title":"WiKiHowⓂ️","author":"","version":1,"url":"https://zh.wikihow.com/fyAll?pg=fypage","col_type":"card_pic_1","class_name":"个人形象与时尚&人际关系&假期与节日&健康&兴趣与手艺&宗教与哲学","class_url":"Category:%E4%B8%AA%E4%BA%BA%E5%BD%A2%E8%B1%A1%E4%B8%8E%E6%97%B6%E5%B0%9A&Category:%E4%BA%BA%E9%99%85%E5%85%B3%E7%B3%BB&Category:%E5%81%87%E6%9C%9F%E4%B8%8E%E8%8A%82%E6%97%A5&Category:%E5%81%A5%E5%BA%B7&Category:%E5%85%B4%E8%B6%A3%E4%B8%8E%E6%89%8B%E8%89%BA&Category:%E5%AE%97%E6%95%99%E4%B8%8E%E5%93%B2%E5%AD%A6","area_name":"宠物与动物&家居与园艺&家庭生活&工作&教育与交流&旅行&汽车与其他交通工具","area_url":"Category:%E5%AE%A0%E7%89%A9%E4%B8%8E%E5%8A%A8%E7%89%A9&Category:%E5%AE%B6%E5%B1%85%E4%B8%8E%E5%9B%AD%E8%89%BA&Category:%E5%AE%B6%E5%BA%AD%E7%94%9F%E6%B4%BB&Category:%E5%B7%A5%E4%BD%9C&Category:%E6%95%99%E8%82%B2%E4%B8%8E%E4%BA%A4%E6%B5%81&Category:%E6%97%85%E8%A1%8C&Category:%E6%B1%BD%E8%BD%A6%E4%B8%8E%E5%85%B6%E4%BB%96%E4%BA%A4%E9%80%9A%E5%B7%A5%E5%85%B7","sort_name":"","year_name":"艺术与娱乐&计算机与电子产品&运动与保健&金融与商业&青少年&饮食与休闲","sort_url":"","year_url":"Category:%E8%89%BA%E6%9C%AF%E4%B8%8E%E5%A8%B1%E4%B9%90&Category:%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%8E%E7%94%B5%E5%AD%90%E4%BA%A7%E5%93%81&Category:%E8%BF%90%E5%8A%A8%E4%B8%8E%E4%BF%9D%E5%81%A5&Category:%E9%87%91%E8%9E%8D%E4%B8%8E%E5%95%86%E4%B8%9A&Category:%E9%9D%92%E5%B0%91%E5%B9%B4&Category:%E9%A5%AE%E9%A3%9F%E4%B8%8E%E4%BC%91%E9%97%B2","find_rule":"js:\nvar d = [];\n\nvar list = parseDomForArray(getResCode(), 'body&&.responsive_thumb');\nfor (var j in list) {\n  let expert=\"\";\n  try{\n       expert =parseDomForHtml(list[j],'.cat_expert&&Text');\n  }catch(e){}\n  if(expert!==\"\") expert = '<font color=\"#0066CC\">👤'+expert+'</font>'\n  d.push({\n       title: '‘‘’’<small>' + expert + '\\n\\n\\n\\n\\n\\n</small><font color=\"#FF0066\">' + parseDomForHtml(list[j],'.responsive_thumb_title&&Text') + '❓</font>',\n       pic_url: parseDom(list[j], 'img&&data-src'),\n       desc: '0',\n       url: parseDom(list[j],'a&&href')+'#fullTheme#'\n  });\n}\n\nsetResult(d);","searchFind":"js:\r\nvar res = {};\r\nvar d = [];\n\nvar list = parseDomForArray(getResCode(), '#searchresults_list&&a');\n    for (var j in list) {\n        let url = parseDom(list[j], 'a&&href');\n        d.push({\n            title: parseDomForHtml(list[j], '.result_title&&Text'),\n            desc: parseDomForHtml(list[j], '.sr_updated&&Text'),\n            img: parseDom(list[j], '.result_thumb&&style'),\n            url: parseDom(list[j], '.result_thumb&&style')==\"\"?url+'@rule=#hp_coauthor_container||#cat_container&&.hp_thumb||.responsive_thumb;p&&Text;img&&data-src;.hp_expert||noscript&&Text;a&&href;movie_1':url\n        });\n    }\r\nres.data = d;\r\nsetSearchResult(res);","search_url":"https://zh.wikihow.com/wikiHowTo?search=**&start=fypage@-1@*15@?","group":"⑦其他","detail_col_type":"rich_text","detail_find_rule":"js:\n//以下是 列表解析规则（JS）\nvar res = {};\nvar d = [];\n//自定义颜色\nconst Color=\"#FA7298\";\nvar size=16;\nvar html=getResCode();\n\n\neval(JSON.parse(request(\"hiker://page/css\")).rule);\neval(JSON.parse(request(\"hiker://page/view\")).rule);\neval(JSON.parse(request(\"hiker://page/tips\")).rule);\n\n// 取缓存\nif(getMyVar(\"wikihow.url\")!==MY_URL){\n    putMyVar(\"wikihow.methodNum\", \"0\");\n    putMyVar(\"wikihow.url\", MY_URL);\n} \n\nconst methodNum = getMyVar(\"wikihow.methodNum\")\nconst categories = parseDomForArray(html, '#mw-content-text&&.section.steps');\n\nlet categoriesLength = \"\";\ntry{\n     categoriesLength = parseDomForArray(categories[0], '.steps_list_2');\n}catch(e){}\n\nvar firstStep=\"\";\n//if(categoriesLength == \"\") setError(categories[0]);\nif(categoriesLength == \"\") firstStep = '<p><big>🔆</big>&nbsp;&nbsp;&nbsp;&nbsp;' + parseDomForHtml(categories.shift(),'.section_text&&p&&Html')+'</p>';\n\nlet headerTitle = getBigText(getStrongText(parseDomForHtml(html, '#section_0&&Text')+\"❓🙋\")) + ' ' + getSmallText(getAddressTag(MY_URL, '[查看原文👀]'));\n\n//var subTime = getCodeText(parseDomForHtml(html,'.article-meta--a&&li,0&&Text').replace(\"发布于\",\"日期:\"));\n\nvar subType = parseDomForArray(html,'#breadcrumb&&a');\n\nvar type=getCodeText(\"🏷️标签: \");\n\nfor(var i=1;i<subType.length;i++){\n    type += getCodeText(parseDomForHtml(subType[i],'a&&Text'));\n}\n\n\nlet professionalAudit = '';\ntry{\n\tprofessionalAudit = '<strong>专业人士审核</strong>'+(\"<br>\"+parseDomForHtml(html,'.section.专业人士审核&&p&&Html')).replace(\"审阅时间\",\"🕐审阅时间\").replace(\"审阅人\",\"🕵️审阅人\").replace(/<br>/g,\"<br>⚫&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\")+\"<br><br>\";\n}catch(e){}\n\nvar section = parseDomForHtml(html,'#mf-section-0&&Html');\n\nvar sectionTitle = parseDomForHtml(html,'head&&title&&Text');\nvar sectionType = \"个部分\";\nif(sectionTitle.includes(\"方法\")) sectionType = \"种方法\";\n\nvar suplist = parseDomForArray(html,\"body&&.reference-text\");\nvar supArray = [];\nfor(let i =0;i<suplist.length;i++) supArray.push(parseDomForHtml(suplist[i],\"span&&Text\"));\n\nsection = supTagReplacement2(section,/<(sup) id=\"_ref([\\s\\S]*?)<\\/(sup)>/g,supArray);\n\nsection = '<p>'+section.replace(/<p>/,\"<span><big>🙇</big>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\").replace(/<\\/p>/,'<span>').replace(/<li>/g,'<span>💠&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;').replace(/<\\/li>/g,'</span><br>').replace(/<ul>/,'<br>')+'</p>';\n\nvar subContent =getSmallText(section+firstStep+professionalAudit) + getStrongText(\"以下有\" + categories.length + sectionType+\"实现:\");\n\nvar authorPic=\"https://img2.baidu.com/it/u=1677342743,1708324479&fm=26&fmt=auto&gp=0.jpg\"\ntry{\n    authorPic = parseDomForHtml(html,'.ar_avatar&&img&&src');\n}catch(e){}\n\nvar anchor ='共同创作者:  ';\nvar name = parseDomForHtml(html,'.coauthor_link&&Text');\nif(name.includes(\"作者\")) name=\"匿名作者\";\nvar anchorInfo = parseDomForHtml(html,'#byline_hover_body&&Text')\n\nd.push({title: headerTitle+'&nbsp;' +'<br>'+type,});\nd.push({col_type:'line'});\nd.push({\n\ttitle:anchor + getColorText(name,\"blue\") + \"  👈\",\n  \tpic_url:authorPic,\n\turl:\"toast://\"+anchorInfo,\n\tcol_type: 'avatar'\n});\n\nd.push({title: subContent,\n        extra: {\n                    textSize: size,\n                    click: true\n                }});\n\n// d.push({col_type:'line'});\n// d.push({col_type:\"blank_block\"});\n\ncategories.forEach((category, index) => {\n\n\t// let title = '方法'+(index+1).toString()+\": \"+parseDomForHtml(category, '.in-block&&.mw-headline&&Text');\n\tlet title = sectionType.replace(/种|个/,\"\")+(index+1).toString();\n\td.push({\n\n\t\ttitle: index.toString()===getMyVar(\"wikihow.methodNum\")?'““””<b><font color='+Color+'>'+title+'♥️</font></b>':title,\n\t\turl: $(MY_URL).lazyRule((params) => {\n\n\t\t\tputMyVar(\"wikihow.methodNum\", params.index.toString());\n\t\t\trefreshPage(true);\n\t\t\treturn \"hiker://empty\";\n\t\t}, {index: index,}),\n\t\tcol_type: 'scroll_button',\n\t});\n})\nd.push({col_type:\"blank_block\",});\n\nlet content = parseDomForHtml(categories[getMyVar(\"wikihow.methodNum\")], 'Html');\nlet headTitle=parseDomForHtml(content,'.mw-headline&&Text');\n\nd.push({\n\ttitle:'““””<big><strong>'+headTitle+'🗒️</strong></big>',\n\turl:'hiker://empty',\n\tcol_type:'text_center_1',\n    extra: {\n                textSize: size,\n                click: true\n            }\n\n});\nlet titleArray = [];\ntry{\n   titleArray = parseDomForArray(content,'.section_text&&.mw-headline');\n}catch(e){}\n\nlet stepContentArray = parseDomForArray(content,'.section_text&&ol');\nfor(let l=0;l<stepContentArray.length;l++){\n if(titleArray.length > 0) d.push({\n      title:'““””'+getBigText(getColorText(parseDomForHtml(titleArray[l],'Text'),'blue')),\n      url: 'hiker://empty',\n      col_type: 'text_center_1',\n\t  extra: {\n                textSize: size,\n                click: true\n\t         }\n});\n   let stepList=[];\n   let stepContent = parseDomForArray(stepContentArray[l],'ol&&li');\n   for(let i=0;i<stepContent.length;i++){\n\t   if(stepContent[i].indexOf(\"<li \") == 0) stepList.push(stepContent[i]);\n   }\n\nfor(let i=0;i<stepList.length;i++){\n\ttry{\n\t\tlet imgJs = parseDomForHtml(stepList[i].split('<div class=\"step_num\">')[0],'.image_details&&span,0&&Html');\n\t\timgJs=eval(\"[\"+imgJs+\"]\"); //smallUrl bigUrl\n\t\td.push({\n\t\t   pic_url: imgJs[0].smallUrl,\n\t\t   url: imgJs[0].smallUrl,\n\t\t   col_type: 'pic_1_full',\n            extra: {\n                        textSize: size,\n                        click: true\n                    }\n\t\t});\n\t}catch(e){}\n\n\ttry{\n\t\tlet pics = parseDomForHtml(stepList[i],'.video-player&&video&&data-poster');\n\t\tlet videos = \"https://www.wikihow.com/video\"+parseDomForHtml(stepList[i],'.video-player&&video&&data-src');\n\n\t\td.push({\n\t\t title:'““””'+getBigText(getStrongText(\"视频查看📺👇\")),\n       url:videos,\n\t\t   col_type:'text_center_1'\n\t\t});\n\n\t\td.push({\n\t\t   pic_url: pics,\n\t\t   url: videos,\n\t\t   col_type: 'pic_1_full',\n            extra: {\n                        textSize: size,\n                        click: true\n                    }\n\t\t});\n\n\t}catch(e){}\n \n\tlet stepNum = parseDomForHtml(stepList[i],'.step_num&&Text');\n\tstepNum = getBigText(getStrongText(\"步骤\"+stepNum+\"、\"));\n\tlet quoteContent = parseDomForHtml(stepList[i],'.step&&Html').replace(/<script>([\\s\\S]*?)<\\/script>/g,'');\n let temp = quoteContent.split(\"</b>\");\n let symbol = '<br><big>💎</big>&nbsp;&nbsp;&nbsp;&nbsp;';\n if(temp[temp.length-1].match(/^\\s*$/)) symbol='';\n\tlet stepNumContent = (stepNum+quoteContent.split('<ul>')[0]).replace(/<b/,\"<big><b\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.replace(/。<\\/b>/,'。</b></big>'+symbol)\n             .replace(/<\\/b>。/,'</b>。</big>'+symbol);\n\tstepNumContent = supTagReplacement2(stepNumContent,/<(sup) id=\"_ref([\\s\\S]*?)<\\/(sup)>/g,supArray);\n\tlet liArray = parseDomForArray(quoteContent,'ul&&li');\n\tlet liList = '';\n d.push({title:getSmallText(stepNumContent),\n        extra: {\n                    textSize: size,\n                    click: true\n                }});\n\tfor(let j = 0;j<liArray.length;j++){\n\t\tliContent = liArray[j].split('\\n')[0];\n\n\t\tliList += liContent+'<br>';\n\t\tif(liArray[j].includes('smallUrl')){\n\t\t\tliList = supTagReplacement2(liList,/<(sup) id=\"_ref([\\s\\S]*?)<\\/(sup)>/g,supArray);\n\t\t\tliList = liList.replace(/<li>/g,'<span><big>🔘</big>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;');\n\t\t\td.push({title:getSmallText(getBlockquoteText(liList)),\n                    extra: {\n                                textSize: size,\n                                click: true\n                            }});\n\t\t\tliList = '';\n\n\t\t  let imgLiJs = parseDomForHtml(liArray[j],'.image_details&&span&&Html');\n\t\t\timgLiJs=eval(\"[\"+imgLiJs+\"]\"); //smallUrl bigUrl\n\t\t\td.push({\n\t\t\t\t  pic_url: imgLiJs[0].smallUrl,\n\t\t\t\t  url: imgLiJs[0].smallUrl,\n\t\t\t\t  col_type: 'pic_1_full',\n                    extra: {\n                                textSize: size,\n                                click: true\n                            }\n\t\t\t});\t\n\t\t}\n\t}\n\n\n  if(liList!==\"\"){\n      liList = supTagReplacement2(liList,/<(sup) id=\"_ref([\\s\\S]*?)<\\/(sup)>/g,supArray);\n\t\t\tliList = liList.replace(/<li>/g,'<span><big>🔘</big>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;');\n    liList = getBlockquoteText(liList);\n}\n\n\tlet greenBox = \"\";\n\ttry{\n\t\tgreenBox = parseDomForHtml(stepList[i],'.green_box.mobile&&Html');\n\t\tgreenBox = supTagReplacement2(greenBox,/<(sup) id=\"_ref([\\s\\S]*?)<\\/(sup)>/g,supArray).replace(/p>/g,'span>');\n\t}catch(e){}\n  \n\tif(greenBox !==\"\"){\n\t\tif(greenBox.includes(\"专家提示\")){\n\t\t\tlet personPic = parseDomForHtml(greenBox,\".green_box_person_circle&&img&&src\");\n\t\t\tlet personName = parseDomForHtml(greenBox,\".green_box_expert_info&&span&&Text\");\n\t\t\tlet personType = parseDomForHtml(greenBox,\".green_box_expert_info--span&&Text\");\n\t\t\tlet personInfo = parseDomForHtml(greenBox,\".green_box_expert_dialog--.green_box_expert_dialog_upper&&Text\");\n\t\t\tlet personUrl = parseDom(greenBox,\".green_box_person.expert&&data-link\");\n\t\t\tlet personContent = parseDomForHtml(greenBox,\".green_box_content&&Html\");\n\n     d.push({title:getSmallText(liList+'⭐&nbsp;&nbsp;&nbsp;'+personContent),\n                    extra: {\n                                textSize: size,\n                                click: true\n                            }});\n\n\t\t\t//d.push({title:\"<strong>专家提示</strong>\",});\n\t\t\td.push({\n\t\t\t\ttitle:getAddressTag(personUrl,personName)+\"   \"+getColorText(personType,\"#FA7298\") + \"  👈  专家提示\",\n\t\t\t\tpic_url:personPic,\n\t\t\t\turl:\"toast://\"+personInfo,\n\t\t\t\tcol_type: 'avatar'\n\t\t\t});\n\t\t\t\n\t\t}else{\n\t\t\td.push({title:getSmallText(liList+getColorText(\"⭐\"+greenBox,\"#009933\")),\n                    extra: {\n                                textSize: size,\n                                click: true\n                            }});\n\t\t}\n\t}else{\n     if(liList!==\"\") d.push({title:getSmallText(liList),\n                    extra: {\n                                textSize: size,\n                                click: true\n                            }});\n  }\n}}\n\n  \nlet readly='';\ntry{\n\treadly = parseDomForHtml(html,'.section.你需要准备&&ul&&Html').replace(/<\\/li>/g,\"</span><br>\")\n\t.replace(/<li>/g,'<span>☑️&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;')\n\t.replace(/<div class=\"checkmark\"><\\/div>/g,\"\");\n}catch(e){}\n\n\n\nlet tips = '';\ntry{\n\ttips = parseDomForHtml(html,'.section.小提示&&ul&&Html').replace(/<\\/li>/g,\"</span><br>\")\n\t.replace(/<li>/g,'<span>🔷&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;');\n\ttips = supTagReplacement2(tips,/<(sup) id=\"_ref([\\s\\S]*?)<\\/(sup)>/g,supArray);\n}catch(e){}\n\nlet warning = '';\ntry{\n\twarning = parseDomForHtml(html,'.section.警告&&ul&&Html').replace(/<\\/li>/g,\"</span><br>\")\n\t.replace(/<li>/g,'<span>⭕&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;');\n\twarning = supTagReplacement2(warning,/<(sup) id=\"_ref([\\s\\S]*?)<\\/(sup)>/g,supArray);\n}catch(e){}\n\nif(readly !== ''){\n\t//d.push({col_type: 'line'});\n\td.push({\n\t\ttitle: '““””<b>你需要准备♨️</b>',\n\t\turl:\"hiker://empty\",\n\t\tcol_type:\"text_center_1\",\n                    extra: {\n                                textSize: size,\n                                click: true\n                            }\n\t});\n\td.push({title: getSmallText(readly),\n                    extra: {\n                                textSize: size,\n                                click: true\n                            }});\n}\n\nif(tips !== ''){\n\t//d.push({col_type: 'line'});\n\td.push({\n\t\ttitle:  '““””<b>小提示🗯️</b>',\n\t\turl:\"hiker://empty\",\n\t\tcol_type:\"text_center_1\",\n                    extra: {\n                                textSize: size,\n                                click: true\n                            }\n\t});\n\td.push({title: getSmallText(tips),\n                    extra: {\n                                textSize: size,\n                                click: true\n                            }});\n}\n\nif(warning !== ''){\n\t//d.push({col_type: 'line'});\n\td.push({\n\t\ttitle: '““””<b>警告⚠️</b>',\n\t\turl:\"hiker://empty\",\n\t\tcol_type:\"text_center_1\",\n                    extra: {\n                                textSize: size,\n                                click: true\n                            }\n\t});\n\td.push({title: getSmallText(warning),\n                    extra: {\n                                textSize: size,\n                                click: true\n                            }});\n}\n\nlet tipsButtom = '该文章来源于WiKiHow，如您喜欢，请进入官网浏览';\nlet warningButtom = '此规则仅供个人学习交流使用,请使用后24小时内删除';\nd.push({col_type: 'line_blank'});\nd.push({\n   title: '““””'+GetTips(tipsButtom,warningButtom),\n   url: MY_URL,\n   col_type: 'text_center_1'\n});\nd.push({col_type: 'line_blank'});\n\nres.data = d;\nsetHomeResult(res);","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[{\"name\":\"CSS函数集\",\"path\":\"css\",\"rule\":\"function getNewText(text,css){\\n   return '<'+css+'>' + text + '</'+css+'>';\\n}\\n\\nfunction getBigText(text) {\\n    return '<big>' + text + '</big>';\\n}\\nfunction getSmallText(text) {\\n    return '<small>' + text + '</small>';\\n}\\nfunction getStrongText(text) {\\n    return '<strong>' + text + '</strong>';\\n}\\nfunction getTitleText(text) {\\n    return getStrongText(text);\\n}\\nfunction getColorText(text, color) {\\n    return '<font color=\\\"' + color + '\\\">' + text + '</font>';\\n}\\nfunction getGreyText(text) {\\n    return getColorText(text, 'grey');\\n}\\nfunction getAuthorText(text) {\\n    return getColorText(text, userColor);\\n}\\nfunction getCodeText(text) {\\n    return '<code>' + text + '</code>';\\n}\\nfunction getBlockquoteText(text) {\\n    return '<blockquote>' + text + '</blockquote>'\\n}\\nfunction getAddressTag(url, text) {\\n    return '<a href=\\\"' + url + '\\\">' + text + '</a>'\\n}\\nfunction getCommentMeta(html) {\\n    return getSmallText(html);\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"视图处理\",\"path\":\"view\",\"rule\":\"//获取重定向地址\\nfunction getRedirectAddress(url){\\n    let urlRedirect = '';\\n    try{\\n        let urlCode = fetch(url,{redirect:false,withHeaders:true});\\n        urlRedirect = JSON.parse(urlCode).headers.location[0];\\n    }catch(e){}\\n    return urlRedirect;\\n}\\n\\nString.prototype.replaceWithCallback = function (searchValue, replaceValue, callback) {\\n    let returnValue = this;\\n    if (callback != null) {\\n        returnValue = callback(this, searchValue, replaceValue);\\n    }\\n    return returnValue;\\n};\\n\\n//删除重定向图片链接\\nfunction deleteInvalidImgTag(context, searchValue,replaceValue) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = context;\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            let item = matchArray[i];\\n            /<img.*?(data-original|data-src|src)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n            let imgUrl = RegExp.$2;\\n            if (imgUrl.indexOf(\\\"placeholder\\\") > -1) {\\n                /<img.*?(data-original)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n                imgUrl = RegExp.$2;\\n            }\\n            if(imgUrl.indexOf(\\\"//\\\")==0){imgUrl = \\\"https:\\\" + imgUrl;}\\n            if (imgUrl != '') {\\n                if(getRedirectAddress(imgUrl) != ''){\\n                    returnValue = returnValue.replace(item,replaceValue);\\n                }\\n            }\\n        }\\n    }\\n    return returnValue;\\n}\\n\\nfunction GetImgTagArrayString(context, searchValue) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = '';\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            returnValue += matchArray[i];\\n        }\\n    }\\n    return returnValue;\\n}\\n\\nfunction imgTagGetUrlArray(context, searchValue) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = [];\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            let item = matchArray[i];\\n            /<img.*?(data-original|data-src|src)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n            let imgUrl = RegExp.$2;\\n            if (imgUrl.indexOf(\\\"placeholder\\\") > -1) {\\n                /<img.*?(data-original)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n                imgUrl = RegExp.$2;\\n            }\\n            if(imgUrl.indexOf(\\\"//\\\")==0){imgUrl = \\\"https:\\\" + imgUrl;}\\n            if (imgUrl !== '') {\\n                returnValue.push(imgUrl);\\n            }\\n        }\\n    }\\n    return returnValue;\\n}\\n\\n\\nlet imgError = '<p><font color=\\\"grey\\\">图片暂时无法显示，若要查看请<a href=\\\"' + MY_URL + '\\\">访问原文</a></font></p>';\\nfunction imgTag(context, imgUrl) {\\n    let replaceString = imgUrl === '' ? imgError : '<p><showimg src=\\\"' + (imgUrl + '@Referer=' + MY_URL) + '\\\"></p>';\\n    if (getMyVar('wikihow.hideImg')=='1') {\\n        replaceString = imgUrl === '' ? imgError : '<p><a href=\\\"' + imgUrl + '\\\">[点击查看大图]</a></p>';\\n    }\\n    return context.replace(/<img data-v>/g, replaceString);\\n}\\nfunction imgTagOne(context, imgUrl) {\\n    let replaceString = imgUrl === '' ? imgError : '\\\\n<p><showimg src=\\\"' + (imgUrl + '@Referer=' + MY_URL) + '\\\"></p>';\\n    if (getMyVar('wikihow.hideImg')=='1') {\\n        replaceString = imgUrl === '' ? imgError : '<p><a href=\\\"' + imgUrl + '\\\">[点击查看大图]</a>&nbsp;&nbsp;&nbsp;<a href=\\\"web://' + imgUrl + '\\\">[点击查看链接]</a></p>';\\n    }\\n    return context.replace(/<img data-v>/g, replaceString);\\n}\\nfunction imgTagReplacement2(context, searchValue, replaceValue) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = context;\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            let item = matchArray[i];\\n            /<img.*?(data-original|data-src|src)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n            let imgUrl = RegExp.$2;\\n            if (imgUrl.indexOf(\\\"placeholder\\\") > -1) {\\n                /<img.*?(data-original)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n                imgUrl = RegExp.$2;\\n            }\\n            if(imgUrl.indexOf(\\\"//\\\")==0){imgUrl = \\\"https:\\\" + imgUrl;}\\n            if (imgUrl !== '') {\\n                returnValue = returnValue.replace(item, replaceValue);\\n                returnValue = imgTag(returnValue, imgUrl);\\n            }\\n        }\\n    }\\n    return returnValue;\\n}\\nfunction imgTagReplacementOne(context, searchValue, replaceValue) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = context;\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            let item = matchArray[i];\\n            /<img.*?(data-original|data-src|src)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n            let imgUrl = RegExp.$2;\\n            if (imgUrl.indexOf(\\\"placeholder\\\") > -1) {\\n                /<img.*?(data-original)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n                imgUrl = RegExp.$2;\\n            }\\n            if(imgUrl.indexOf(\\\"//\\\")==0){imgUrl = \\\"https:\\\" + imgUrl;}\\n            if (imgUrl !== '') {\\n                returnValue = returnValue.replace(item, replaceValue);\\n                returnValue = imgTagOne(returnValue, imgUrl);\\n            }\\n        }\\n    }\\n    return returnValue;\\n}\\n\\nlet videoError = '<p><font color=\\\"grey\\\">视频暂时无法显示，若要查看请<a href=\\\"' + MY_URL + '\\\">访问原文</a></font></p>';\\nfunction videoTag(context, videoUrl) {\\n    let replaceString = videoUrl === '' ? videoError : '<p><a href=\\\"' + (videoUrl) + '\\\">[点击查看视频]</a></p>';\\n    if (getMyVar('wikihow.hideImg')=='1') {\\n        replaceString = videoUrl === '' ? videoError : '<p><a href=\\\"' + videoUrl + '\\\">[点击查看视频]</a></p>';\\n    }\\n    return context.replace(/<video data-v>/g, replaceString);\\n}\\nfunction videoTagReplacement2(context, searchValue, replaceValue) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = context;\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            let item = matchArray[i];\\n            /<(source|video).*?(data-original|data-src|src)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n            let videoUrl = RegExp.$3;\\n            if(videoUrl.indexOf(\\\"//\\\")==0){videoUrl = \\\"https:\\\" + videoUrl;}\\n            if(videoUrl.includes(\\\"zhainanmi\\\")) continue;\\n            if (videoUrl !== '') {\\n                returnValue = returnValue.replace(item, replaceValue);\\n                returnValue = videoTag(returnValue, videoUrl);\\n            }\\n        }\\n    }\\n    return returnValue;\\n}\\n\\nlet linkError = '<p><font color=\\\"grey\\\">链接暂时无法显示，若要查看请<a href=\\\"' + MY_URL + '\\\">访问原文</a></font></p>';\\nfunction linkTag(context, linkUrl) {\\n    let replaceString = linkUrl === '' ? linkError : '<p><a href=\\\"' + (linkUrl) + '\\\">[点击查看链接]</a></p>';\\n    if (getMyVar('wikihow.hideImg')=='1') {\\n        replaceString = linkUrl === '' ? linkError : '<p><a href=\\\"' + linkUrl + '\\\">[点击查看链接]</a></p>';\\n    }\\n    return context.replace(/<link data-v>/g, replaceString);\\n}\\nfunction linkTagReplacement2(context, searchValue, replaceValue) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = context;\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            let item = matchArray[i];\\n            /<(iframe).*?(data-original|data-src|src)=\\\"(.*?)\\\"([\\\\s\\\\S]*?)>/.test(item);\\n            let linkUrl = RegExp.$3;\\n            if(linkUrl.indexOf(\\\"//\\\")==0){linkUrl = \\\"https:\\\" + linkUrl;}\\n            if (linkUrl !== '') {\\n                returnValue = returnValue.replace(item, replaceValue);\\n                returnValue = linkTag(returnValue, linkUrl);\\n            }\\n        }\\n    }\\n    return returnValue;\\n}\\n\\nfunction cssTagReplacement2(context, searchValue, replaceValue) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = context;\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            let item = matchArray[i];\\n            /<(div|p|strong)>.*?<\\\\/(div|p|strong)>/.test(item);\\n            let css = RegExp.$2;\\n            if (css.match(/^\\\\s*$/)) {\\n                returnValue = returnValue.replace(item, replaceValue);\\n            }\\n        }\\n    }\\n    return returnValue;\\n}\\n\\nfunction supTagReplacement2(context, searchValue,supArray) {\\n    let matchArray = context.match(searchValue);\\n    let returnValue = context;\\n    if (matchArray != null) {\\n        for (let i = 0; i < matchArray.length; i++) {\\n            let item = matchArray[i];\\n            let supTag = parseDomForHtml(matchArray[i],'sup&&a&&Html');\\n            let supNum = parseInt(supTag.replace(/\\\\[|\\\\]/g,\\\"\\\"))-1;\\n            if (supTag !== '') {\\n                let showLink = 'toast://';\\nif(supArray[supNum].indexOf('http')==0) showLink = '';\\n                returnValue = returnValue.replace(item, '<small><sup><a href=\\\"'+ showLink + supArray[supNum]+'\\\">'+supTag+'</a></sup></small>');\\n            }\\n        }\\n    }\\n    return returnValue;\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"提示\",\"path\":\"tips\",\"rule\":\"\\nfunction GetHome(num){\\n    let retract = '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;';\\n    for(let i=1;i<num;i++) retract += '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;';\\n    return '<span>'+retract+'</span>';\\n}\\n\\nfunction GetComment(main,autor,time,floor){\\n\\n    let fontStyle = '<font color=\\\"grey\\\"><span class=\\\"normal-font gray-font align-baseline\\\">&nbsp;&nbsp;'+time+' &nbsp;</span></font>';\\n    let buttonData = getColorText(autor,'#2979FF')+fontStyle+getColorText(floor,'#2979aa');\\n    let comment = '';\\n\\n    if(floor==''){\\n        comment =GetHome(1)+main+getNewText('<br>'+GetHome(1)+buttonData,'small');\\n    }else{\\n        comment = main+getNewText('<br>'+ buttonData,'small');\\n    }\\n    return comment;\\n}\\n\\nfunction GetTips(tips,warning){\\n    let tipsStyle = '<small><span class=\\\"normal-font gray-font align-baseline\\\">&nbsp;'+tips+' &nbsp;</span></small>';\\n    let warningStyle = '<small><small><font color=\\\"grey\\\"><span class=\\\"normal-font gray-font align-baseline\\\">&nbsp;'+warning+' &nbsp;</span></font></small></small>';\\n    return tipsStyle+'<br>'+warningStyle;\\n}\"}]","icon":""},{"last_chapter_rule":"js:\nlet html = getResCode()\n// log(html)\nlet regex = /window\\.__INITIAL_STATE__=(.*?);\\(function\\(\\)\\{/\n// log(MY_URL)\nif(MY_URL.startsWith('https://api.bilibili.com/x/web-interface/view/detail')) {\n    let code = JSON.parse(html)\n    try {\n        if (code.data.View['redirect_url']) {\n            MY_URL = code.data.View['redirect_url'];\n            html = fetch(MY_URL, {});\n        }\n    } catch (e) {\n        log (e.message)\n    }\n}\n// log(html)\nif (MY_URL.startsWith('https://www.bilibili.com/bangumi/play/') && regex.test(html)) {\n    // 番剧\n    // log('匹配：' + RegExp.$1)\n    let res = JSON.parse(RegExp.$1)\n    let result = res.newestEp\n    if(!result) {\n        result = res.mediaInfo.new_ep\n    }\n    setResult(\"更新至：第\" + result.title + \"话\")\n} else if (MY_URL.startsWith('https://api.bilibili.com/x/space/arc/search')) {\n    // UP 主\n    let res = JSON.parse(html)\n    let result = res.data.list.vlist[0].title\n    setResult(\"更新至：\" + result)\n} else {\n    setResult(\"\")\n}","pageList":[{"col_type":"movie_3","name":"代码-一级","path":"common","rule":"var res = {};\nvar d = [];\nvar pagenum = MY_URL.split('#')[1];\nvar Referer = '@Referer=http://www.bilibili.com';\nif (!fetch('hiker://files/rules/bili/setting.txt')) {\n    writeFile('hiker://files/rules/bili/setting.txt', '开启,关闭');\n}\nvar s_type = fetch('hiker://files/rules/bili/setting.txt');\nputVar('reply_type', s_type.split(',')[0]);\nputVar('like_type', s_type.split(',')[1]);\n//颜色\nvar Colors = [\"4\", \"5\", \"0\", \"1\", \"A\", \"3\", \"8\", \"9\", \"B\", \"C\", \"D\", \"E\", \"6\", \"7\", \"F\"];\nvar Color = '#';\nif (getVar('YS') == '随机') {\n    for (var i = 0; i < 6; i++) {\n        var num = Math.ceil((Math.random() * 15)) - 1;\n        var Color = Color + Colors[num];\n    }\n} else {\n    var Color = \"#FA7298\";\n}\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\n\nvar c1 = 'all&bangumi&guochan&douga&music&knowledge&tech&car&life&food&kichiku&fashion&cinephile&origin&rookie&game&ent&dance&movie&tv&documentary&animal&guochuang';\n\nvar w1 = '全部&番剧&国创&动画&音乐&知识&科技&汽车&生活&美食&鬼畜&时尚&影视&原创&新人&游戏&娱乐&舞蹈&电影&电视剧&纪录片&动物圈&国创相关';\n\nvar c2 = '22&212&71&182&138&28&33&185';\n\nvar w2 = '鬼畜&美食&综艺&影视&生活&音乐&番剧&电视剧';\n\nvar word1 = w1.split('&');\nvar class1 = c1.split('&');\nvar lab1 = getVar('lab1', '全部');\nvar key1 = getVar('key1', 'all');\n\nvar word2 = w2.split('&');\nvar class2 = c2.split('&');\nvar lab2 = getVar('lab2', '鬼畜');\nvar key2 = getVar('key2', '22');\n\n//三合一\nvar rx = fetch('hiker://files/bili/多合一.txt', {});\nvar wr = `@lazyRule=.js:writeFile(\"hiker://files/bili/多合一.txt\",input);refreshPage(false);\"toast://切换成功\"`;\nvar s_tab = fetch('hiker://files/bili/收藏.txt', {});\nvar sr = `@lazyRule=.js:writeFile(\"hiker://files/bili/收藏.txt\",input);refreshPage(false);\"toast://切换成功\"`;\n\nif (MY_URL.split('#')[1] == '1') {\n    d.push({\n        title: rx == 'UP主' ? getHead(rx) : 'UP主',\n        url: 'UP主' + wr,\n        col_type: 'text_4'\n    });\n    d.push({\n        title: rx == '排行榜' ? getHead(rx) : '排行榜',\n        url: '排行榜' + wr,\n        col_type: 'text_4'\n    });\n    d.push({\n        title: rx == '新番' ? getHead(rx) : '新番',\n        url: '新番' + wr,\n        col_type: 'text_4'\n    });\n    d.push({\n        title: rx == '更多' ? getHead(rx) : '更多',\n        url: '更多' + wr,\n        col_type: 'text_4'\n    });\n\n    if (rx == '收藏') {\n        d.push({\n            title: s_tab == '视频' ? getHead(s_tab) : '视频',\n            url: '视频' + sr,\n            col_type: 'text_3'\n        });\n        d.push({\n            title: s_tab == '追番' ? getHead(s_tab) : '追番',\n            url: '追番' + sr,\n            col_type: 'text_3'\n        });\n        d.push({\n            title: s_tab == '追剧' ? getHead(s_tab) : '追剧',\n            url: '追剧' + sr,\n            col_type: 'text_3'\n        });\n        if (s_tab == '视频') {\n            eval(JSON.parse(fetch(\"hiker://page/video\")).rule)\n        }\n        if (s_tab == '追番') {\n            eval(JSON.parse(fetch(\"hiker://page/fanju\")).rule)\n        }\n        if (s_tab == '追剧') {\n            eval(JSON.parse(fetch(\"hiker://page/dsj\")).rule)\n        }\n    }\n\n}\n\nif (rx == '推荐') {\n    eval(JSON.parse(fetch(\"hiker://page/feed\")).rule)\n}\n\nif (rx == '排行榜') {\n    eval(JSON.parse(fetch(\"hiker://page/phb\")).rule)\n}\n\nif (rx == 'UP主') {\n    eval(JSON.parse(fetch(\"hiker://page/up\")).rule)\n}\n\nif (rx == '时光机') {\n    eval(JSON.parse(fetch(\"hiker://page/sgj\")).rule)\n}\n\nif (rx == '新番') {\n    eval(JSON.parse(fetch(\"hiker://page/newbgm\")).rule)\n}\n\nif (rx == '索引') {\n    eval(JSON.parse(fetch(\"hiker://page/sy\")).rule)\n}\n\nif (rx == '更多') {\n    eval(JSON.parse(fetch(\"hiker://page/more\")).rule)\n}\n\n\n//三合一\n\nres.data = d;\nsetResult(res)"},{"col_type":"pic_1_card","name":"代码-排行榜","path":"phb","rule":"//分类\n if (MY_URL.split('#')[1]=='1'){\nfor (var i in word1){\n    var a = word1[i];\n    var b = class1[i];\n    var c = a + '&' + b;\n    d.push({\n    title: a==lab1? getHead(a):a,\n    url: $(\"#noLoading#\").lazyRule((c)=>{\n        putVar(\"lab1\",c.split('&')[0]);\n        putVar(\"key1\",c.split('&')[1]);\n        refreshPage(false);\n        return \"hiker://empty\"\n    }, c),\n    col_type:'flex_button'\n    });\n}\n}\n//分类\n\nd.push({\n    desc:'258&&float',\n   \t\tcol_type: 'x5_webview_single'\n});\nvar url = 'https://www.bilibili.com/v/popular/rank/all';\n\nvar MY_URL = url.replace('all',getVar('key1'));\n\nvar ym=request(MY_URL,{}).replace(/\\\\u002F/g,'/');\nif(ym.includes('rank-tips')){\n\n/*提示信息\n  d.push({\n    title:'““'+parseDomForHtml(ym,'.rank-tips&&Text')+'””',\n    col_type:'text_1'\n  });\n提示信息*/\n\n  var pi=JSON.parse(ym.split('\"rankList\":')[1].split(',\"rankNote\"')[0]);\n  for(var i=0;pi!=null&&i<pi.length;i++){\n    var num = i+1;\n    var q=JSON.stringify(pi[i]);\n    if (!pi[i].url){\n       var rurl = 'https://api.bilibili.com/x/web-interface/view/detail？？aid=＆＆bvid=' + pi[i].bvid;\n       }else{\n           var rurl = pi[i].url;\n    }\n\n      d.push({\n        title:'No.'+num+'     '+pi[i].title,\n        pic_url:pi[i].pic+Referer,\n        desc:(!q.includes('name')?pi[i].new_ep.index_show:('up: '+pi[i].owner.name)),\n        url:'hiker://page/detail?url='+rurl+'#immersiveTheme#',\n        col_type:'pic_1_card'\n      });\n/*\nd.push({\n        title:'No.'+num+'\\n\\n‘‘<small>'+pi[i].title+'\\n'+(!q.includes('name')?pi[i].new_ep.index_show:('up: '+pi[i].owner.name))+'</small>',\n        pic_url:pi[i].pic+Referer,\n        desc:'0',\n        url:'hiker://page/detail?url='+rurl+'#immersiveTheme#',\n        col_type:'card_pic_1'\n      });\n*/\n     }\n   }else{\n      d.push({\n        title:'““节制一点，休息啦！””',\n        col_type:'text_center_1'\n      });\n}"},{"col_type":"movie_3","name":"代码-up🐷","path":"up","rule":"const headColor=\"#358ccd\";\nvar uid = fetch(\"hiker://files/bili/up_cache.txt\",{});\nvar UP_URL = 'https://api.bilibili.com/x/space/arc/search?mid=uid&ps=30&tid=0&keyword=&jsonp=jsonp&pn='+pagenum+'&order=pubdate';\nvar up_url = UP_URL.replace(\"uid\",uid);\nvar xx=getVar('lb2').split('\\n');\n//更新头像\nfor (var k in xx){\n  if (!xx[k].split('##')[1]){\n      try{\n       var pic = JSON.parse(fetch('https://api.bilibili.com/x/space/acc/info?mid='+xx[k].split('&&')[1]+'&jsonp=jsonp',{})).data.face;\n       }catch(e){\n       var pic = JSON.parse(fetch('https://api.vc.bilibili.com/dynamic_svr/v1/dynamic_svr/space_history?host_uid='+xx[k].split('&&')[1]+'&need_top=1',{})).data.cards[0].desc.user_profile.info.face;\n       }\n      var face = xx[k]+'##'+pic;\n      var face = fetch(\"hiker://files/bili/up.txt\",{}).replace(xx[k],face);\n      writeFile(\"hiker://files/bili/up.txt\",face);\n  }\n}\n\n\n\nif (MY_URL.split('#')[1]=='1'){\n\nd.push({\n          title:'<strong>'+'‘‘UP’’'+'</strong>'+ (getVar('UP','折叠')=='展开'?'🙉':'🙈'),\n          url:  \"hiker://empty@lazyRule=.js:putVar('UP', getVar('UP')=='展开'?'折叠':'展开');refreshPage();'toast://已'+getVar('UP','展开');\",\n          col_type:'text_4'\n          });\n\nd.push({\n          title:(getVar('UP')=='置顶'?'<strong>'+'““置顶'+'</strong>':'<strong>'+'““取关””'+'</strong>'),\n          url: \"hiker://empty@lazyRule=.js:putVar('UP', getVar('UP','展开')=='取关'?'置顶':'取关');refreshPage();'toast://'+getVar('UP','展开')+'ing~'\",\n          col_type:'text_4'\n          });\n//自己的关注\nvar starjson = JSON.parse(fetch('https://api.bilibili.com/x/space/acc/info?mid='+getVar('starid')+'&jsonp=jsonp',{}));\nd.push({\n        title:starjson.data.name,\n        pic_url:starjson.data.face+Referer,\n        url:\"hiker://empty@lazyRule=.js:putVar('UP', getVar('UP')=='关注'?'折叠':'关注');refreshPage();'toast://'+getVar('UP','专注')\",\n        col_type:'icon_2_round'\n});\n//自己的关注\n\nif  (getVar('UP')=='关注'){\n  var surl = 'https://space.bilibili.com/h5/follow?type=follow&mid='+getVar('starid');\nvar id = surl.split('mid=')[1];\nvar code = fetch(surl,{});\nvar starlist = JSON.parse('{\"my'+code.split('{\"my')[1].split('}};')[0]+'}}');\n\nvar starls = starlist['list']['getFollowList-page-mid-'+id]['result'];\nfor ( x in starls){\n  var yurl = 'https://api.bilibili.com/x/space/arc/search？？mid='+starls[x].mid+'＆＆ps=30＆＆tid=0＆＆keyword=＆＆jsonp=jsonp＆＆pn=fypage＆＆order=pubdate';\n    d.push({\n       title:starls[x].uname,\n       img:starls[x].face+Referer,\n       url:'hiker://page/gz2?url='+yurl,\n       col_type:'icon_round_4'\n       });\n}\n}\n//关注列表\n\n if  (getVar('UP')=='展开'){\n  for (var k in xx){\n    var st=uid==xx[k].split('&&')[1].split('##')[0]?'✓':'';\n    var pic = xx[k].split('##')[1];\n/*头像获取\n    try{\n     var pic = JSON.parse(fetch('https://api.bilibili.com/x/space/acc/info?mid='+xx[k].split('&&')[1]+'&jsonp=jsonp',{})).data.face;\n    }catch(e){\n       var pic = JSON.parse(fetch('https://api.vc.bilibili.com/dynamic_svr/v1/dynamic_svr/space_history?host_uid='+xx[k].split('&&')[1]+'&need_top=1',{})).data.cards[0].desc.user_profile.info.face;\n    }\n*/\n   if (!pic){\n     var pic = 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/13096725fe56ce9cf643a0e4cd0c159c.gif';\n   }\n    d.push({\n     title:st+xx[k].split('&&')[0],\n     url:\n'hiker://empty#'+xx[k].split('&&')[1]+`@lazyRule=.js:input=input.split('#')[1];putVar2('uid',input);writeFile(\"hiker://files/bili/up_cache.txt\",input);putVar('UP','折叠');refreshPage(false);\"toast://切换成功\";`,\n     pic_url:pic+Referer,\n     col_type:'icon_round_4'\n    });\n  }\n }\n\n//取关相关\n\n if  (getVar('UP')=='取关'){\n  for(var k in xx){\n    var st=uid==xx[k].split('&&')[1]?'✓':'';\n    var pic = xx[k].split('##')[1];\n/*头像获取\n    try{\n     var pic = JSON.parse(fetch('https://api.bilibili.com/x/space/acc/info?mid='+xx[k].split('&&')[1]+'&jsonp=jsonp',{})).data.face;\n    }catch(e){\n       var pic = JSON.parse(fetch('https://api.vc.bilibili.com/dynamic_svr/v1/dynamic_svr/space_history?host_uid='+xx[k].split('&&')[1]+'&need_top=1',{})).data.cards[0].desc.user_profile.info.face;\n    }\n*/\n   if (!pic){\n     var pic = 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/13096725fe56ce9cf643a0e4cd0c159c.gif';\n   }\n    d.push({\n     title:'❌'+st+xx[k].split('&&')[0],\n     url:xx[k]+ `@lazyRule=.js:var sc=input+'\\\\n';var xr=getVar('lb2')+'\\\\n';var xz=xr.replace(sc,'');writeFile(\"hiker://files/rules/js/up.js\",xz);refreshPage(false);'toast://取关成功！铁子再见🦆'`,\n     pic_url:pic+Referer,\n     col_type:'icon_round_4'\n    });\n  }\n }\n\n//置顶相关\n\n if  (getVar('UP')=='置顶'){\n  for (var k in xx){\n    var st=uid==xx[k].split('&&')[1]?'✓':'';\n    var pic = xx[k].split('##')[1];\n/*头像获取\n    try{\n     var pic = JSON.parse(fetch('https://api.bilibili.com/x/space/acc/info?mid='+xx[k].split('&&')[1]+'&jsonp=jsonp',{})).data.face;\n    }catch(e){\n       var pic = JSON.parse(fetch('https://api.vc.bilibili.com/dynamic_svr/v1/dynamic_svr/space_history?host_uid='+xx[k].split('&&')[1]+'&need_top=1',{})).data.cards[0].desc.user_profile.info.face;\n    }\n*/\n   if (!pic){\n     var pic = 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/13096725fe56ce9cf643a0e4cd0c159c.gif';\n   }\n    d.push({\n     title:'🔝'+st+xx[k].split('&&')[0],\n     url:xx[k]+ `@lazyRule=.js:var sc=input+'\\\\n';var xr=getVar('lb2')+'\\\\n';var xz=xr.replace(sc,'');writeFile(\"hiker://files/rules/js/up.js\",sc+xz);refreshPage(false);'toast://置顶成功🔝'`,\n     pic_url:pic+Referer,\n     col_type:'icon_round_4'\n    });\n  }\n }\n\n\n}\n//d.push({title:xx});\n\nvar json = {};\neval('json=' + fetch(up_url,{}));\nfor (var i = 0; i < json.data.list.vlist.length; i++)\n{\n var r = {};\n var j = json.data.list.vlist[i];\n var t = Number(j.created)*1000;\n \n //时间戳转换方法\n/*\nfunction getLocalTime(nS) { \n     var sss = new Date(parseInt(nS)).toLocaleString().substr(0,17);\n     var YMD = sss.split('日')[0].replace('年','-').replace('月','-');\n     return (YMD)\n}\n*/\nfunction getLocalTime(nS) { \nvar date = new Date(nS);\nvar YY = date.getFullYear()+'-'; \nvar MM = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1)+'-'; \nvar DD = (date.getDate() < 10 ? '0' + (date.getDate()) : date.getDate()); \nvar time = YY + MM + DD;\nreturn time\n}\n//时间戳转换\nvar time = getLocalTime(t);\n\nif (j.play>10000)\n    var play = (j.play/10000).toFixed(1)+'万';\nelse\n    var play = j.play;\n\nvar pics = (j.pic.indexOf(':')!=-1)?j.pic:'https:' + j.pic;\n\n r.pic_url = pics+Referer;\nr.url='hiker://page/detail?url=https://api.bilibili.com/x/web-interface/view/detail？？aid=＆＆bvid=' + j.bvid +'#immersiveTheme#';\n r.title = j.title;\n r.col_type = 'movie_1_vertical_pic';\n r.desc = '时长：' + j.length + '  播放量：' + play + '  日期：' + time;\n if (j.length!=\"00:00\"){d.push(r)};\n}"},{"col_type":"movie_3","name":"代码-时光🐔","path":"sgj","rule":"//分类\nif (MY_URL.split('#')[1]=='1'){\nfor (var i in word2){\n    var a = word2[i];\n    var b = class2[i];\n    var c = a + '&' + b;\n    d.push({\n    title: a==lab2? getHead(a):a,\n    url: $(\"#noLoading#\").lazyRule((c)=>{\n        putVar(\"lab2\",c.split('&')[0]);\n        putVar(\"key2\",c.split('&')[1]);\n        refreshPage(false);\n        return \"hiker://empty\"\n    }, c),\n    col_type:'flex_button'\n    });\n}\n}\n//分类\n\nvar m = Number(fetch(\"hiker://files/bili/mouths.txt\",{}));\nvar t = m<0?0:m;\nvar num1 = Number(t)-12;\nvar num2 = Number(t)+12;\nvar num3 = Number(t)-1;\nvar num4 = Number(t)+1;\n//var timestamp = Date.parse(new Date());\nvar timestamp = new Date().getTime();\nvar stamp1 = timestamp - t*30*24*60*60*1000;\nvar stamp2 = timestamp - (t+1)*30*24*60*60*1000;\n/*\nfunction getLocalTime(nS) { \n     var sss = new Date(parseInt(nS)).toLocaleString().substr(0,17);\n     var mm = sss.split('年')[1].split('月')[0];\n     var dd = sss.split('月')[1].split('日')[0];\n     var YY = sss.split('年')[0];\n     var MM = (mm< 10 ? '0' + mm:mm);\n     var DD = (dd< 10 ? '0' + dd:dd);\n     return (YY+MM+DD)\n}\n*/\nfunction getLocalTime(nS) { \nvar date = new Date(nS);\nvar YY = String(date.getFullYear()); \nvar MM = String((date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1)); \nvar DD = String((date.getDate() < 10 ? '0' + (date.getDate()) : date.getDate())); \nvar time = YY + MM + DD;\nreturn time\n}\n//时间戳转换\nvar time1 = getLocalTime(stamp1);\nvar time2 = getLocalTime(stamp2);\nvar SGJ_URL = 'https://s.search.bilibili.com/cate/search?main_ver=v3&search_type=video&view_type=hot_rank&order=click&copy_right=-1&cate_id=22&page='+pagenum+'&pagesize=10&time_from=time2&time_to=time1';\nvar URL = SGJ_URL.replace('time1',time1).replace('time2',time2).replace('22',getVar('key2')!=''?getVar('key2'):'22');\nvar json = JSON.parse(request(URL,{}));\n\nif (MY_URL.split('#')[1]=='1'){\nd.push({\n          title:'+1年',\n          url:\nnum1+`@lazyRule=.js:writeFile('hiker://files/bili/mouths.txt',input);refreshPage();'toast://切换成功 '`,\n          col_type:'text_4'\n       });\nd.push({\n          title:'-1年',\n          url:\nnum2+`@lazyRule=.js:writeFile('hiker://files/bili/mouths.txt',input);refreshPage();'toast://切换成功 '`,\n          col_type:'text_4'\n       });\nd.push({\n          title:'+1月',\n          url:\nnum3+`@lazyRule=.js:writeFile('hiker://files/bili/mouths.txt',input);refreshPage();'toast://切换成功 '`,\n          col_type:'text_4'\n       });\nd.push({\n          title:'-1月',\n          url:\nnum4+`@lazyRule=.js:writeFile('hiker://files/bili/mouths.txt',input);refreshPage();'toast://切换成功 '`,\n          col_type:'text_4'\n       });\nd.push({\n          title:getHead(('当前时间线: '+time2+'~'+time1)),\n          \n          col_type:'text_center_1'\n       });\n/*\nd.push({\n          title: getLocalTime(timestamp). split('日')[0],\n          \n          col_type:'text_center_1'\n       });\n*/\n}\n/*\nd.push({\n          title: getLocalTime(sss),\n          \n          col_type:'text_center_1'\n       });\n*/\nfor (var i in json.result)\n{\n var r = {};\n var j = json.result[i];\n if (j.play>10000)\n    var play = (j.play/10000).toFixed(1)+'万';\n else\n    var play = j.play;\n d.push({\n          title:j.title,\n          img:'https:'+j.pic+Referer,\n          desc:'up🐷:'+j.author+'\\n播放量: '+play+'        发布日期: '+j.pubdate/*+'\\n描述:'+j.description*/,\n          url:\n'hiker://page/detail?url=https://api.bilibili.com/x/web-interface/view/detail？？aid=＆＆bvid=' + j.bvid+'#immersiveTheme#',\n          col_type:'pic_1_card'\n       });\n}\n"},{"col_type":"movie_3","name":"页面-二级","path":"detail","rule":"js:\nvar res = {};\nvar d = [];\n//颜色\nvar Colors = [\"4\", \"5\", \"0\", \"1\", \"A\", \"3\", \"8\", \"9\", \"B\", \"C\", \"D\", \"E\", \"6\", \"7\", \"F\"];\nvar Color = '#';\nif (getVar('YS') == '随机') {\n    for (var i = 0; i < 6; i++) {\n        var num = Math.ceil((Math.random() * 15)) - 1;\n        var Color = Color + Colors[num];\n    }\n} else {\n    var Color = \"#FA7298\";\n}\n\nfunction getHead(title) {\n    return '‘‘’’<strong><font color=\"' + Color + '\">' + title + '</front></strong>';\n}\n\nd.push({\n    desc: '258&&float',\n    col_type: 'x5_webview_single'\n});\nvar bangumi = getResCode();\nif (MY_URL.indexOf('api.bili') == -1) {\n    var a = fetch(MY_URL, {});\n    var b = JSON.parse(a.split('\"epList\":')[1].split('}]')[0] + '}]');\n    var rurl = 'https://api.bilibili.com/x/web-interface/view/detail?aid=&bvid=' + b[0].bvid;\n    var bangumi = fetch(rurl, {});\n}\nvar json = JSON.parse(bangumi);\nvar v = json.data.View;\nvar p = v.pages;\nvar card = json.data.Card.card;\nvar related = json.data.Related;\nvar tags = fetch(\"hiker://files/cache/bilibili2.txt\", {});\nvar setting1 = `@lazyRule=.js:writeFile('hiker://files/cache/bilibili2.txt',input);refreshPage();'toast://正常页面切换成功👌可能并没有什么变化'`;\nvar setting2 = `@lazyRule=.js:writeFile('hiker://files/cache/bilibili2.txt',input);refreshPage();'toast://隐藏页面切换成功👌可能并没有什么变化'`;\nvar ts = new Date().getTime();\nvar like_url = 'https://app.bilibili.com/x/v2/view/like';\nvar coin_url = 'https://app.bilibili.com/x/v2/view/coin/add';\nvar content_type = 'application/x-www-form-urlencoded; charset=utf-8';\nvar c_body_txt = 'access_key=' + getVar('access_key') + '&aid=' + getVar('aid') + '&appkey=1d8b6e7d45233436&avtype=1&build=6130400&c_locale=zh_CN&channel=master&from=7&from_spmid=tm.recommend.0.0&mobi_app=android&multiply=1&platform=android&s_locale=zh_CN&select_like=1&spmid=main.ugc-video-detail.0.0&statistics=%7B%22appId%22%3A1%2C%22platform%22%3A3%2C%22version%22%3A%226.13.0%22%2C%22abtest%22%3A%22%22%7D&ts=' + ts +'&upid=0&sign=8abbddd87a6bd82e1e42cb3cffd32bb9';\nvar l_body_txt = 'access_key=' + getVar('access_key') + '&aid=' + getVar('aid') + '&appkey=1d8b6e7d45233436&build=6130400&c_locale=zh_CN&channel=master&like=0&mobi_app=android&platform=android&s_locale=zh_CN&statistics=%7B%22appId%22%3A1%2C%22platform%22%3A3%2C%22version%22%3A%226.13.0%22%2C%22abtest%22%3A%22%22%7D&ts=' + ts +'&sign=4a08645c2994eb692ac0cfb0bd7569c6';\n\nif (v['redirect_url']) {\n    var redirect = v['redirect_url'];\n    var ym = fetch(redirect, {});\n\n}\n\nevalPrivateJS(\"XUiFT1vXYWrUw+Vhpnqlg0N0vAWgpglh8MhZ+9vPD99NJ5VgeFdHmwaKawIy6C0h6FFQhEQ5RhJmV0EQHnL9xybPHAchAL7hZEZd+hbGHV5jeG+nK5Q3ie78puGDb1TJ4fAI7g6ezLIjQMBxN/2XM92YNNPKDHdhLIMQGV69Mq8cTOWjKpZQp0/vgNuxaPQKEzSdHQJue7tTxdSEvDt3s/txdEh/oGzFCCNWeZCUU53zhEhC06q6ZFjZCM+d8FsZ5cXlNJemtegMgJULdTqaVdRwVhVX+1uBQ9Ny0DpsNGx2LwHgOjls9hw14LhEqthEe73yPBGvSgKEBdSYgG7cK7hYVTENeGTiRAzKPQ7jGEqEJ8aadHOHAeSa25aBbzc81hhxgXtialX8Uqepn7k4g2GksqoG3JVI+qTfWZxPWqNM/0jUXbrUTCRZnrzGVow6NwPQXKq3CDKl9i+aZveWz5If5ENEZGiWlW5z4aJSEcexCDsiZlo1/QJIj2rWonE0u54ah2/ZZ//ZGoMBJ+d19GmepkLBD3n2qogKnjZj2rjWqgPadEee1ZIhZ3SGbmTlJf1A4BYIuuPwv4dGZdRoDW64BhC5juCn6wDm7Ymy7BXf1sQaFimEnrSIiHGhM+WKg3IyWecuh/Gk++MmN6AxxcvNAyp8bC4hzBMvZJ/l5tRyapomdCV5BpiXfjkWRnbopIjI+WKB3fCaYyRdeNLERKnElscDiz7UenLprhYc/a4LsGeMMFVZ8Yo8/wGYH38J\")\n\nvar purl = 'https://www.bilibili.com/video/' + v.bvid;\nvar mode = fetch(\"hiker://files/cache/bilibili.txt\", {});\nvar mode_url = `@lazyRule=.js:writeFile('hiker://files/cache/bilibili.txt',input);refreshPage();'toast://切换成功, 点个视频试试吧(^_^) '`;\nvar zl = \"hiker://empty@lazyRule=.js:putVar('page', getVar('page')=='直链'?'关闭':'直链');refreshPage();if(getVar('page')=='直链'){'toast://点击下方切换清晰度🤟'}else{'toast://已关闭'}\";\nif (mode == 'yhc') {\n    var lazy = yhc\n}\nd.push({\n    title: v.title,\n    desc: '描述: ' + v.desc + '　类型: ' + v.tname,\n    url: tags == 'up' ? 'fan' + setting2 : 'up' + setting1,\n    img: v.pic,\n    col_type: 'movie_1_vertical_pic_blur'\n});\nd.push({\n    title: '  ' + card.name,\n    pic_url: card.face,\n    url: 'hiker://page/gz1?url=https://space.bilibili.com/h5/follow？？type=follow＆＆mid=' + card.mid,\n    col_type: 'icon_2_round'\n});\nd.push({\n    title: '““⭐️Star””',\n    url: 'hiker://empty#' + card.name + '&&' + card.mid + `@lazyRule=.js:input=input.split('#')[1];var pic = JSON.parse(fetch('https://api.bilibili.com/x/space/acc/info?mid='+input.split(\"&&\")[1]+'&jsonp=jsonp',{})).data.face;if(!getVar('lb2').includes(input.split('&&')[1].split('##')[0])){var xr=getVar('lb2')+'\\\\n'+input+'##'+pic;writeFile(\"hiker://files/rules/js/up.js\",xr);'toast://关注成功'}else{'toast://年轻人，耗子尾汁'}`,\n    col_type: 'text_2'\n});\n\nfunction request_bili_api(baseUrl, SecretId, SecretKey) {\n    if (!SecretId || !SecretKey) return request(baseUrl)\n    eval(getCryptoJS())\n    let nowDate = new Date();\n    let dateTime = nowDate.toUTCString();\n    let source = 'bili-api';\n    let auth = \"hmac id=\\\"\" + SecretId + \"\\\", algorithm=\\\"hmac-sha1\\\", headers=\\\"x-date source\\\", signature=\\\"\";\n    let signStr = \"x-date: \" + dateTime + \"\\n\" + \"source: \" + source;\n    let sign = CryptoJS.HmacSHA1(signStr, SecretKey)\n    sign = CryptoJS.enc.Base64.stringify(sign)\n    sign = auth + sign + \"\\\"\"\n    return request(baseUrl, {\n        headers: {\n            \"Source\": source,\n            \"X-Date\": dateTime,\n            \"Authorization\": sign\n        }\n    })\n}\n\nevalPrivateJS(\"L7AvJ41C++kllBMPG9JRTUzQvEjJXwRrfRiJmEBufUTpLphwhl6m4qEfJGNFcTqvDNoTZi+XWz8Hxu7U2U57ssAoBMfo/eA68zuVDkX8/MVoplTzOqjUO6V5pELXYiFWXRxF2vo3V6q2DCNsXRQ0yz4vh1TqyLGmQaKZRFXpy5AQdKRPk/6Up9vs99bval4eTIYJqYYfYs+rPmxaH8mi324A8FZ7P6FJwe+QoA27YV+W093dHIU/8GhoU/W6kq0L+giDKA4XO3ACCEq9kiqWN/DD5YiuOIWBw1gozUgNKwWQTdFgLsMZNk/j3WA7hKoFg8SGDEztbBDhfgWwAbpQiVq/Kse1SehoCS7ym2M1EahJtxSbmLO4EgwwbM/gsNxClHrd7sp31W+4+mBN6wnpYKoraVlkST5iTSuLa273cM9NnmNffR29QGg+7xOW7nq8y0Jn5/bPL0BSZ5AtRqLrvrs6NX9QaXTiyYCQRU/GRkpso4d6HMvKMLWahxjOnFCRmuMB+kG5AX4RvcrqVxzNeAJuKC5nlEfXjDRXoE5lM8UKbKSuNdRjHTPDpiG08Vnrj4Mfq1aWoDsndPYUiIJ5OSp2ZZLO8+KYIVeGWyIVQa+dikrES7+anEUbOsLCxffdAeTKrcTW58U6ilaKpIGZmAJJI96qK9ZRsMyMuYZnQE5GpKex+2t4w9Y5qFdwiD1dL5aFoj6aefcZGGVw/Y9gU+YvlphbIRP6SEIslV9aH/qNLPrk60VfvLOlM55MvlMZtyNDJBfCVZYvSrAHYHx91V92hmOY+0QeVEUeALl+HAUJNu3WkcmF3OLXYoNMHwzW\")\n\n//自定义api项\nvar mApi = {\n    author: '',\n    type:'',\n    id:'',\n    baseUrl: '',\n    secretId: '',\n    secretKey: ''\n}\nif (mApi.baseUrl && mApi.secretId && mApi.secretKey) {\n    putVar('api', JSON.stringify(mApi))\n}\n\nvar apiIndexStr = getVar('apiIndex', '')\nvar apiIndex = parseInt(apiIndexStr)\n\n\ntry {\n    for (var i = 0; i < p.length; i++) {\n        var part = v.videos != 1 ? p[i].part : '当前视频无选集，点击此处播放';\n        putVar('UA', ';{User-Agent@Mozilla/5.0 (Windows NT 10.0\\\\；\\\\； WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.87 Safari/537.36＆＆＆＆Referer@https://www.bilibili.com/video}');\n        evalPrivateJS(\"ifnzqaNqNRkN6NqG0fZx5Mey477OsMJOTbTd9SajMkf5R5O396J22FxkbQbkXXCpggfuad5o+3p97LHWbIptow4o+MRQtaP0/8wiyJCrZCaZYW64wU1B60xRBQtbdJCEgRuHhoZsbGAZBA43/TXxGwIkCckbV6nzHhm93Dk5DiC5I5Hn+CfiBME4yQo39OUJy3pGAWljD1snpzGhBj1b3HrTvykjFaSPgnS/MUdJMf0QZISNGU8z5ovanPsH+F5WsQgHgIqxW9evV3+tgyfLUdFR0N4DltLYrw7vCPgzPQX/vwBMPy6YcVtSVKjb6QzFauTN+J2IRYrpay15akAkofa+Yx/fNTef4+6ZaVzmXeZaEaj0bQ/HPZibxTz3S+DmUVdgYu0HXMy0CFCXSt3+eOUN9c+EmVALrNN8OqWrPekrvF1qN1UKv6kBcBEP/Swkufs3vM07fWv/RNJYB7hEhsoIxyvHQOiPYCTD+eUs+fh+U9bRRAUzRSlXCzhWXjDfCJjY/9B2l4Rph/nwopEMqii5pJCJUPTc/H4Ufw9FOLZmxMHbEiWffp0rgbpHoKnRnzwYfg/RK7n9zLAdGAK/8uGa0slZ5IT1XUeqrPsCqt3MH5G2myxBDlqD0YQUb6NWhI7pjjpin6bW2thwzH4NT/Tp4CWpHlVycBVWsSghGySBEQRpBQKLOTv1EvOxgFxh9GYcu9T6WPufbEnDg/LK9rgr2pwoI3YIj0p2BbBmX7vMhPxKKLpxZi43JwVf9Hxn31NaYQi/0S1zTCg9S26tUgAq48ri+Ei3MHUkI6WsMbA73LnfgBj77DAlQl5QOkUv/pHhyYliiQ2XYaYxSH+hG4+tA+K6uP0hDKeQLk/f9t7i+6YO0U+8Gi/XwHAst6CL7I/KiBfFPnNYLxZBx9E0sQerI+8YKF2JfTotvHfc9iSf3LeAcUzWy/GsYr20qzE1+2hqUnxQbqiEjlaMqer//Qo58Ow+FmpQp1wu+7hgfr6RkK4YwxkeweXhORfCBNqIBJztwZ1fB0mbpRN3cknzDicramm3jWkDiYzf/JM3hYs3cryldGyXqr28J6u8xLaSDXF/yUQwbSFWJMst4+ijS3H7DU5wYjgkhEzhBVKx724LUmkpUTaRTj00JgCMslHDyyvLSNZWc/sIn/vWSAHU9q2CYR7C9CIkGuI0kOKH0nwKKi1xWf9Zw1ivgLxkUlOEIFNpQ8Xd4RvijjGLrxQR2zmsrqLjThjpnR9ryl2quTm+HmuiejsGMWGIXKkypdLYPnvcHfH2clWgU71VJxWrz6Kk7LjIGz6mFoj45ZZ7F/j1tjXMh8lrYBlKdXjzlDcs2hs9J9uAcxKWjRXmy8uKC4Zu7MfVK0kcDfvtAfcknenRgwhZFKpSHy6H8fIl0WnHPbUSN5/Q1Iik8kaaC0MSbR8KV46vhEevQdPoexX7CjpSjZkFAKSF/2kuDXyGszLz2hNOkG0i1Bmkxhjc63/AQlyKizk30MJBfNPVE6y9qDEsdXmLMsouH8p70HyH/KoelyAki+UfdlKQNj17HoYGSinQkbb2iFWG9NDOWwrj8ZQuXTiNKTXJOrH8lT1+164EGjXe5+fzfUmAM0CLRMTR/Nq5zNVge9PF/VPNfU0dNVcoLmYP6DTU5Ozg0bsox1a8SgndxFR9bSNRzZnzPGJo6HKGcfbVaSUFQCTd6UbzTdcpLDTQquZwPFbddSoYjdsFuknPCE2Up6rk/e1dh9Kr8maE8FY8COnBu7B1WdPdyuWez7xPtshzAIwRekIOmG0omSlbxuXw0b9WtPAXRMTePgabDu8Brz0/4s0eoBCR6cvXiwKAX8DFI9vz4fnurNLd7hZIkCvAnT3Rw/tStsS+8rFUmG03iaQmJn3yXaiZw1MSHkRVqWtDZ8zSAkrqoYA7Q3uyXdJM6MqCXEbCfgXlgP4CA8gLr8tvwh4nXFmYSaaGlEMYChhVsP0TonsgyGc6ZHrF+kH2lDGSqxMNeB+QTNsNHgrERrhx66xOylsIZEwLCevnfmQp/CLz4McCt0FWzhnJQ2NAh811mOwb42i3XOjntktHT2tQMQQKBgdTnYjGYKw0B4141ueBNawGaZ3lLaXWT7YuGQaFKpXdzkmi5sOdjVRySkjVpA9YdEanSQ5684SjLZ3ButWNkxIp3eQy43k+xokhPvwjTVYpGkbbBGoCM8zIBDxeq22L9AkcNYXuzJay/Ng3TuXWWKAv0+8zKdCRtvaIVYb00M5bCuPxlCDIgVCjVCHXibqsuP7jKyRz3tr9nCZIX++YCAa+ZdXK0P2eg1tlJzeWg20zUgEjOknsIFkk2uBfL2UEjNxdllDOIS74Gr4BHbqTFOvFBa1jZlPbrfxuNY1q/JzSdcVG921e47Oz8rFDPuVE7Nfta2mDfQl7M0JTN7TieBYjdaAXPS9DOYOPsOVWUlO1Qxcetv5gwgI0gIVhpaXTI6AyC2nY4vLhfhUZWrbke6saGv+N+QcrAS/XqzNVO18ntbfMuelFiSnTFSirYBNyNbJ2ytOk5HqMHxvO7cDzMQ7E2zeJHj8RyvSBmvTq0jBdLBiIAh7eJ+x2JoEW/3CbrTbfOyZz+HFPsO7hsyTzKarDpDvwd6GlOKgX2SVl3STD4aLuXd0vNwVZqH6EiRrl8ahSzLwADcYMIUBDRweGY3lntmvCX21wKVtdeBGToTKRzDOARNfpGNbFBK0rwqPwK3uY4tiXzhmmyJlD6K2oWU4g9XYW82ABlk52MlOeQYd1hWHrawpGpbHCEc4iqs8N2Sdaa5B9qN4TYB3XNNti+rNItGg9Opasu5offCFFIbNZmjTc9ElK4MwnOW99CGm402Ma4/ek0lUHPkrM8UW6NCADIovC0kmrVUoxnS0HQxsfgWQIlkNPD9FUfO4iJf2f3iTgzt9hE2OgT2CjKwKp8HCjuhca5Fcs1SlDlhSAKeHMH9w2Uf/n5uQ6nB0WUWCNsRv9DN0MWfCxV7FNxUla2wcPIbUtYRNjoE9goysCqfBwo7oXGgCZFlqm78vtqCbeK28iXzjFct+48t0kc6bEiqP28KnYF8nAVnFQI2OIeQvKbIHAs/TXls263QlajdHUpMKZNk/ABKG/+qkW2dWQE9WmPCePOvdVmAaPMx2y7Ln3j27UVRPlIpniO6r6WP2dT4amfpa4DT9w8DktH0j39Za5KbBjqYT308EaX27xRu/q/NXcXhkXP9IDZyRSCcuZkxf6TZ4QKpHn5vzjouIacSPMTtaStpyFDvNGHT+xV6EYuBq5r/gCd6OhSbLDKqHzvcBCDBLM2OP4/ER2shv7GrL2IbswKXQY5SUIE1x9neH2r5Gx41P0bfOVpmlLtBNMREPlM4jT0OJjMuhD/OuG2h49QxeJqUKqCqrW8rAWbKIqF7DHxD1lz0zNm4jEfsS6/YLSlTp4r3c+FedDvaRiGSiLnGE87q5bEdwK7YbnVBYMX6bdCIsK8Q07QJkOycUMfmdCkqVe97RaCnlacHQag024eFnWHGFO/rx/tUvUZic2wBq6/x6j8AJ8D2lngn8X7aaAr9QVsnTJWYVks0ht34SYOMek/inCmMtDskSrO7+WTEfCuCKkip7VGz52JMq2vzzmmyKyo2qa8RhUccyXhym8WGx6ou++SiJqu6fMzswMG4TtX/jLRfX24T8aoYpZ3o93i9SxkQo0t3OQ20NH+4loBrWykwASGFqWOX/555HnoKjGuhc+6bMVFg/jS3pDJsXn+fMu7eidJavyZ6UZjh0A8KL5r7jzAXnWe6Ei5/4P6VpOUHYXKA5srEczFpHUP9RdV3IuiK76GPq6pj5M5LjKdwN5KBNXul0agOe2pIIScmsHKPMrb1M42sDloRQhnepNio8ARv0YD2Q9GJPOcBHU6ETHWYz2Iiyn9PijZR7YSp2p7yiQBNGqjWYGWu6LMlQIdYRCJ9pTRzxuU8rnzxxk8PQCD5pDMREC4ZdMoSXcmcVcHyMCmAUGmiTR+OrACrLpgydvtL+kMHUtZHvH4MaR7IxviHFAEQczvqJ6LUksi1EdOLMI/RsPcN+P5ExMr2xk176Psd/udjuh5SSYshfdCqfko9Nxazi7yYI5olGEE4KiXUqUkFd3qwkvHIVUIaP075QT2yXwVpsLTHaDxz6Fe3o0h4LkliO8gGWa/iqkD/Dnm8sry0jWVnP7CJ/71kgB1PZXwpga01rDfYaVTMVyxGSIyyvLSNZWc/sIn/vWSAHU9jSIjIhRkgpxT/KMv6iH8llWHJ1tj8/RTCF0Cl2f6WwTbFJYcMaFlnmMis2ALVONPs6UMvsO/POw5Ccr79sJzieWLMVaOVG4/e1VPTSAzY9H87OCJXex+iAOoW+KAnriBzAVBdFwyUqIenLJVsRH7Vv3NV73Mqrqn/pkzAXtkiUAXwpKmVzdbeNLlebokDkomssry0jWVnP7CJ/71kgB1PY3mTRmStSkHbxA/Ftcfhb334Boz1YuX4+ZnpBlRSwyTTE1uGLYfepZa0J9pTc8Y/GbE6zXua+fd3OYkk4CpY5hINVANGbGMD1YQlpco/r3A6v8H7sdO5K7SjZ8IT5JSLVspBFU3yyqjPcdVG9dyD/LpGxbW27QBo/8u2Vhpkm9LcMw3h8hip6CzB6TlpwT1T67XHkGz8Ua1C+SL/EEzeq9K98VTSW4FPyecFY7IUc40AXPmpqKIqta7ScjAYvD8hZH3d3U1U53/SocJHKDj4Zv1jbnFTsjodjV0fHeYOdt50PFWcOxXYaz8jggdl04BEFFUk0Spfv2zrdN255KFr1m4gUxy3Ki7yFAPhdKryCJ/hjTRJQcTDna6yPSfseCDtoRkmGv0yNdE0bi9c4pWPQgrVi0QjdzH25X0NnJAkl5YUikPllFZXhn2dQzLmMjKP2RK6LKRA5ApHgOXZWnGt0AmcfUyutw0GYRG9ewoKAYQ38JtKvRsdVIi6Fc4Myje2BbwuLot+l6YxxP2FekUkki98gbQq0ClpvbhZ2n5vc5qIZ1fvbSNteNHi2NsDW+hUXE8OYh3Ax9wAK6BhM0Dinxo6OVoz8alxq44ttqkiAR7G8HXzmuMNjLs+a9+QI9qe6DSbABQj7UFEhPcV1e/gPT/wR/s5oySSLv330tjrzwo7plLounc/sa7UeAxBerQUqy2Al41DawFLeK+ma+aOMbOeZ8dIBbGZjWRJ6jXZIeM5dkWoaY5cRRcCp09qFmmhl/cWsQV2/Kfq/Da2u38SfXrI1VK2eg7C2Ovk5SScslsRNQ0QgotC+4MCUREM89Re7IB9/iwWv+79qI3S/HnKfxruFvOWN4/wWHR69ocahGxO/1t9uZQsKL8Nh4mF+LAFYjhZ+R4IpBVteXy6fGlW8aQQ1szm/S9iIk+jYckkSnoViYZtm2vGsZVCIOcl0vrLHmZMVyi/GJ8T9l/iSQq+9NADmWSwRsW9jrKR2uywGs9BhFesbV4XJXEvxMMKjHpwhtZDQAFKKLfjU4lLuP1kG1Gz3fQgVG0CKgQrGxwyg9JNFx8lK0pdEOO+DaXzTrHoXxM0bIsfcLYCwK5llICKAk8ZMT6MtaHMv0y7evMjBZ/1YlvQ9ekL0f6+7hW7bGThEOy7x9Iyybbo9xU8kGQ0IwSysbH799eyfKnlZZXdU/nx4Wn1a1CPygK14KtiXTdFDQ2LgCOn2qoPZf7NtIFxdL6yaep+Cqq2uENopg0DzxTzHbqX6DmcP7PyejHNOVUg3wDF2Rwd3IkyYCqgZnN6ErW1V26oilFYyXFZ+v7EHE8B6MhLnxtLGkRZZ0+FFI6Kn+Xoe7LL+2ZaDo4/yynkVR7BFuSqhtKLvzjdbyYoTowim85c6Rq/RCXtwg9Rg4qSERGjjZyFcJQ/Q6aJbv0LpEyRn3qpp75uT3zcbTSRRTVjzvcuXIErgr1D/PugFmhOWe/2pB15jU40ie+3c89oyiaeIO/5skdwQPzg6/YHNV/1sVVgOKaW4I7QAkaSOtdVPm6H6wvlyXECANvhCMGelFAe1jWvdBMunVR8N2RFSAO8MkIJ6o8LvUozKDkMQBt5p/cWsQV2/Kfq/Da2u38SfXD52gKD6H8XVKFfmDHaoShMsry0jWVnP7CJ/71kgB1Pamb0qabT83D6qn/a3GlHyGxamZgRHaK16vmZEzanuTDOzG1aUpvECtRB8EMgapaQXLK8tI1lZz+wif+9ZIAdT26vFpga0ZRLWRP3jH0tyrNYA75eCTf9dIqjYGcAA1rsU0zeepdMZ8MJXd5+xbAaXA/uJfsGjPI7psQc8Jn+fm3MLk+NCEF8LsQ0OtglIXL+63FRvyG7nMcevH4i/XT0B1BXNPL6r8i6bnbe+QJKYMA93PdbBcDsGTVaLiJlYdEOTfjYbpLURCdlx9K/puEXW+\")\n        \n        if (v['redirect_url']) {\n            \n            var ep = JSON.parse(ym.split('\"epList\":')[1].split('}]')[0] + '}]');\n            putVar('aid',String(ep[0].aid));\n            d.push({\n                title: mode == '直链' ? getHead('直链') : '直链',\n                url: '直链' + mode_url,\n                col_type: 'text_2'\n            });\n            d.push({\n                title: '网页',\n                url: purl,\n                col_type: 'text_2'\n            });\n            if (getVar('like_type')==='开启'){\n            d.push({\n                title: '点赞',\n                url: $(like_url).lazyRule(() => {\n                    var ts = new Date().getTime();\n                    var content_type = 'application/x-www-form-urlencoded; charset=utf-8';\n                    var l_body_txt = 'access_key=' + getVar('access_key') + '&aid=' + getVar('aid') + '&appkey=1d8b6e7d45233436&build=6130400&c_locale=zh_CN&channel=master&like=0&mobi_app=android&platform=android&s_locale=zh_CN&statistics=%7B%22appId%22%3A1%2C%22platform%22%3A3%2C%22version%22%3A%226.13.0%22%2C%22abtest%22%3A%22%22%7D&ts=' + ts +'&sign=4a08645c2994eb692ac0cfb0bd7569c6';\n                    var l_code = JSON.parse(request(input,{\n                        headers:{'Content-Type':content_type},\n                        body:l_body_txt,\n                        method:'POST'\n                    }));\n                    log(l_code);\n                    return 'toast://'+l_code.data.toast;\n                }, ),\n                col_type: 'text_2'\n            });\n            d.push({\n                title: '投币',\n                url: $(coin_url).lazyRule(() => {\n                    var ts = new Date().getTime();\n                    var content_type = 'application/x-www-form-urlencoded; charset=utf-8';\n                    var c_body_txt = 'access_key=' + getVar('access_key') + '&aid=' + getVar('aid') + '&appkey=1d8b6e7d45233436&avtype=1&build=6130400&c_locale=zh_CN&channel=master&from=7&from_spmid=tm.recommend.0.0&mobi_app=android&multiply=1&platform=android&s_locale=zh_CN&select_like=1&spmid=main.ugc-video-detail.0.0&statistics=%7B%22appId%22%3A1%2C%22platform%22%3A3%2C%22version%22%3A%226.13.0%22%2C%22abtest%22%3A%22%22%7D&ts=' + ts +'&upid=0&sign=8abbddd87a6bd82e1e42cb3cffd32bb9';\n                    var c_code = JSON.parse(request(input,{\n                        headers:{'Content-Type':content_type},\n                        body:c_body_txt,\n                        method:'POST'\n                    }));\n                    log(c_code);\n                    return 'toast://投了1个币';\n                }, ),\n                col_type: 'text_2'\n            });\n            }\n            d.push({\n                title: '',\n                col_type: 'blank_block'\n            });\n\n            \n\n            for (var i = 0; i < ep.length; i++) {\n                var badgeType = ep[i]['badgeType'] === 0 ? ((ep[i]['badge'] != '') ? '💰' : '🆓') : '📢';\n                var badge = ep[i]['badge'] ? '[' + ep[i]['badge'] + ']' : ''\n                if (mode == 'X5') {\n                    var purl = 'x5Rule://' + jx + 'https://www.bilibili.com/bangumi/play/ep' + ep[i]['id'] + '@';\n                } else {\n                    var purl = 'https://www.bilibili.com/bangumi/play/ep' + ep[i]['id'];\n                }\n                var pics = (ep[i]['cover'].indexOf(':') != -1) ? ep[i]['cover'] : 'https:' + ep[i]['cover'];\n                var titles = (ep[i]['titleFormat']) ? ep[i]['titleFormat'] : ep[i]['title'];\n                var desc = (ep[i]['longTitle']) ? ep[i]['longTitle'] :( ep[i]['long_title']?ep[i]['long_title']:'');\n                evalPrivateJS(\"ifnzqaNqNRkN6NqG0fZx5Mey477OsMJOTbTd9SajMkfLK8tI1lZz+wif+9ZIAdT2NKXOxML34tPsJcbFgYq2IweqRWlctnnn46dJHGAoQ6S+TxsWJZ3ELbUAEf1Vv2xoMrkl3KoqWto1u7u9SUvNtj1uxC4enuZIE3IOVJYfulrSIuqnME8+hlV38BStZCkJf0iW3HdF2isBHExTZf4lpC2Kf4uAsPfRqU8N9jbP4+qzPrYrG+YaWt+inw9ZaGNa607FuvLgH+4vZbmf/tGnRzaQvf0rhvPnfBeEyaMAzmmvAMx4u0o42rxHmNKSx/2VZlIq+RqCZxJJ3bKcQH4+F/d0G5YmXyOPZRNYM7RoBz8zeQE/hqBrUbrSdb3Vw8SDsExU2hWOEr/052n74SEdWWdc37k9BLaVPJrdPFq3r+Zh8f6iWg6NXBrB+tUlGSVTjZfsLD2rBfpuPeQQWdAErQJhIFM95Pxh3S4BHtUodZ3F22mitLEf86IPo18yrgHMWVaQa4uQA4ZMDT1ahM85k6+7LTmPtz6ONAxvyIT75sCxSck0XsLlhG9gV8rU0flD3e+iWekjk1XyrmdcKfFHGyvIfqWD6zMRAdFIIyXxN3stbtNi3bQMUZgbYmmr3Qle0jAHoZRMHdl1BrS1sdmLepWxyHC8r6U35HmBQNHpdvzi77WGGr44Q4Mgv5RXbJ9eJOFGzlhrTsDQz3wASWzS7JxG8ck5fV0uTRcjgJPFCI86exD64T8tmskekWXMtZUjlNITP9ROPNKGnwzrhFV2RvVqNG0EFIsW1WubatasiJ6fXmBTF0gtMmBK1as3JHWRhKrgYgFASd+E4KUAuMPLtQb0ftlyQiATVsaRrFzbkpuYlMAs1P9ViUj/ExoXqAMaQ8ZJzotsPvjw+KPFMfnw8B9EQcvZ7cAoKKO6+nDSyHeM1ew/uoWH2XJNGL1PUc9s1TUbaKtUbS26hWNGMrGzG2u16oTlDfxzB7KLjmyIiChB746CO3TnZzXp4s+v1/rfgPYyASGjEjRN9qMaz7Il/mLPiEUDajrN+AU+6UZlSUKZaamzj/4tJtlmpA3i19D7Isw1kDzHwLsYfmHMSkkv/8DJpP2VDPG2FAoRZklRcc9eUdauyL+QhCRzRABqvpze2IYUTMMGkWmW2zUFrd7VSssry0jWVnP7CJ/71kgB1PY5Yo81qi8hXWFG/skVi1YTpc0V65UgZ6JLIB6Kp2Oos83ogiSFMDJisT2OEC6GUxhbVXbqiKUVjJcVn6/sQcTwy+32wKTzWV/03h2RoWdJ2nol0uCMGY9aDCPUbZWUeafLK8tI1lZz+wif+9ZIAdT2ALSZopivMM4HVNF3mY2XL1A3jesIAtxDR/vB8/AIl/WLrGLbkP2SJx8BKm1hSNogWyd4zZ1waJqpNcLb0lpftzj3Bw1kgyMYpS/nF5/4d52ZLkGGzaUMO3KxihPI0vV4/6VemfFOLwzXkRWrxRyhFxPMcsGA6eApHo1hc1k9m1V/CVuWWcygq+R1pz4aWoqJKptvTRugv14hwJT+7rwGWitOFVuK3N10arQKVZ6kT9UCvGK4GRkuZjl/dbJf4Axac8FfM+tO/oKNYB850h6gCbTmL3TW2EuFuSDoY5qkMy22i1u2eKOytR4SRLFL4Lv+pEqfHcsoLmj7/zIUqONCkphSFM6dfydCG9c4V5Asom8qOBouztgBzKUHT0o70bQ3UTit17BZoVcqcbeJeydvW3HCaVZy2whwwN3b16VHl//H4g0giKfF57hJe4ziSVnF2pWsGrR5dzrO0peqwAgZtoBDo/maLXhozmGfYAc7wzWmbXQeJv/QBrou27OKMFDAXP/cjyEEBgDHb1r1VXMCimU0ww2VX0Cj5XV+f0J5W57KUOSeCjbvr+VUxqo16xw9kr8tnQ2Qz5kMIwKkMIPiOJhJ2BAp+JaXlgMXIi6rzt7IcYdbyboc7EjdvM+sq0A5BgTLY6EC9BndHehhv0aj9uNzvojvkgt8d2+5xMYbdXBGXmdyth5pAyn8oLBCWUDbWe80/99et1iH/GDJEfoDLDf9p+k4+0QbuWdEquTO1jCJF51h7TxHl/UYa/mJwud0/Y8D4fEYZX/V3hGpOD9R2Zmjg4IrpPpwefj8w0wgcfyLz9ZMms1PoMn0qCnnM+Vu6n6sxClPb8yWxKkzMh0ewE4nJochWbDk5rcfrE02kykFXFtu+zj8HJgAHMbWVnjnyXI76UgqDRejAHyFmWmVK6WhGk7m6ZsJqjJi2E534eB0jAVYf6Jbs7hAqJPgEleOeAOU4zJMsAVrist63iRJMaEMTjO498+amMOr78WrKDzhw6RgB+O9UhLPK042YE7NfzjCb79987u9wQV4QcrhtlKOXcl8MbZtH0bmbNbAOuXuIF5drJUrjYSwVQBDAaUaLYezeSuvrQwFSCbweTUJGz1j7uBUq3maB4OfK2n7G2N1fCK1eEaw92UnlVDO0Tf1LII08HFtsRIn6Y1p3s9V+LJQ9iUd5ZG0LwU904E75PpuVLROBYHS4mrB3RvrMhAWC6jdtSTFklumv+c2EJRrbUrjr4A+Y40kANN1Ut1rdvMb/0pROJXVsDfc/AyM5n3CflvDVqSgPI9blHFe1mZ75CmILS6KzdF0Yl1MVHiPW0jvodnxKYTps8hJN+aI+h1WRGzrJKZJicAtNdsWVhLfrVxVEPSem9jGzsAaWPkVBGRO6jW2SW7m+bVDvRPbVpb6gSBI8oCUYOo7/Q0Habqm7RPMcsGA6eApHo1hc1k9m1Xw50IRvn7VyPJ+rDB1GadK9qo7IuDv1t/Wjz7dvp4d4RpuGvy4ZQk9PwV5tTtkX2DGAtQ8faivEIH70OhkpuCtnHkbozQC9BYLxUdfILvP8qE97rZYk+Xcqa7hvlBG6n3Jg56s4rqWeZNlB/cG55CStRPEI6RjrADpy/sYnQ4REN6UlAymSres2YXRLTaEcYWkJW982C/sfYsckbizlOsYsKAFp3XsgDQRDaao+yHNJApeVRK1m7h18q/KbQxFcpnDbGX2MRucU5PUPJpkyvClEvRK7k1x2n0zazAQ4gZfDwsM/invMQTKeQetzIr6/ZwTzHLBgOngKR6NYXNZPZtV/qHM5tYU1hwRSrd85KH2Mpdt7MPtWfq4NdOYWbNhPP8xlL6LgHAWlMyBDZsuGyHzE8xywYDp4CkejWFzWT2bVb2WHM1MVPeNP2JzWKnU0HQubao/41PqIh+CWBR3HUFYRxipEBQbKA/mApBN1pHCwBPMcsGA6eApHo1hc1k9m1UCR67hv59em4nVPZmjU5k1B9bIdzIl7WrJ1f/SUmwvq8jyMGm8TJXiKgFEy622enkTzHLBgOngKR6NYXNZPZtVCrlRngTEJBqV2iys6qyLTJ1Cpbn51cKte58eNKRklCDuXFc3GqlY0CeG6F3QMVuqBMEN9pXsmnwKxsE65/a+elqefLKyl7I+OZv+KBHnYX79WjBb32BGhGZnd1Qky2xHPvf4Sx+/tYN2zncmpQqSwxPMcsGA6eApHo1hc1k9m1VUuUGxROZS3KCE96naUF74mRmrdO/jptIHgMjC+G6V7BxZTJitNELst0FCJ+n+AMYTzHLBgOngKR6NYXNZPZtVBCS+LfYqrSBGHkeYlaqgbwIMxEd1OVPyJhuVxAUnDtrKW0Cnvup8zA3CU+iMTlTRf2NfJcxej8dijY5y3f1nRWREOpYmrYXztfsR8R+Y+TeYxAeuu7sgwuiTCGqxcxq8cXF2O+zlaXem5HwHNW9G//3enuk6MK2BttCQBHripYoGA1+vU+dJ/F+LR1iBLt4y/FsPxrJP1xvv00ZFkXgcyGEiauamGwYdln3/8+tFgXRI82r9gcsGXTygIOTF9yiF0goCh4NNyra5SPzSwgon3csn+NhAQRJvSFsLXLH8F/fCSCjwl/pi2GGY4nBUek3wK6cQGW6B+oO3jKSW9QEG0/OgHTbyxbR9EspolmNlB/GqSL4KOMYawNC0vgVZdJB5bHlutgjnTvv7oYyfea+mIO1jGbY+jU8VLx1YZSHENSTji274Qj2KOrFEzpXqiQ2JKZlmDhb9LJ8OxVLx8AHHcP6nyWOhiYcFuQMFwf9URIGHrzrjzppf7gsKnJltTbkll1lsfUHSd5ZSAF6QE3b8ob5x5HmZFUQRkU94PlCHtW5EFwwHqLws1w3GxzGMhtqfE8xywYDp4CkejWFzWT2bVeE7yM7Lxqw771/3nNb78Ovp4ubFciRv6BvXcV91X/wlAb66gDqyxm7C+jDl85PLJwdIRBkeq0UpmKRvljAGUIoLP0oCnjFxPVinqzmAmPylxRfovVZc5RTGczl8tiCIQFKe7hPnz8PUeTxL2GUS9753xP0ugbJNH0ktMFGqXLQrN20hyxjyFKNOy5GQL1dl32V96cjVQeul2k5XIROPaWxl60j5Xz6GPW0vsCIpK+xiyyvLSNZWc/sIn/vWSAHU9uSwBMvPxgj2TWOD91NZl5KoJc+zu3jpVQBEgyHGxti7Sz0OysUtZgLEIW9adSfyi2w/srmTm8H0M6KzGtnSc8a0VVwT2qQonngSR5K6QT2sEZJrBs5B8ZDBkjafQ4sRpREaONnIVwlD9Dpolu/QukTJGfeqmnvm5PfNxtNJFFNWPO9y5cgSuCvUP8+6AWaE5einOI7UAzld8HIS+LU07oLhDuVIasI7AgbfYcbv8yZByyvLSNZWc/sIn/vWSAHU9lsVVgOKaW4I7QAkaSOtdVPm6H6wvlyXECANvhCMGelFyyvLSNZWc/sIn/vWSAHU9t5XbqPfLG5AAUEvrchS4WZhclfN0Vq001EC/+UAXaGS5b0hkJVOUCtCwszVuyAeUMsry0jWVnP7CJ/71kgB1PbLK8tI1lZz+wif+9ZIAdT2pm9Kmm0/Nw+qp/2txpR8hsWpmYER2iter5mRM2p7kwzsxtWlKbxArUQfBDIGqWkFyyvLSNZWc/sIn/vWSAHU9nMyGLIHlB2QRIY6DtAg4lzLK8tI1lZz+wif+9ZIAdT2gDvl4JN/10iqNgZwADWuxTTN56l0xnwwld3n7FsBpcD+4l+waM8jumxBzwmf5+bcwuT40IQXwuxDQ62CUhcv7rcVG/Ibucxx68fiL9dPQHXZREhcdex1KMLc+g4I+jcxyyvLSNZWc/sIn/vWSAHU9gTtVOFF6kwanmsGSdH2iaGc1Yn5K7kH5VXD6ytgq6o3J1Qk6D7da8tdGRZyllqWDs6UMvsO/POw5Ccr79sJzidbk3542mjLRKtyiEeyv1ts6yaep+Cqq2uENopg0DzxTzqH1r83JyuvQs4sVXkr3CfLK8tI1lZz+wif+9ZIAdT2yAIuMwDxvIfUIG9OZuDsI9qAnBW1Fi0udfbT9hg6U4B4llRvuKyS7ZERzEbe/Jfv8gNEd8TSYB9+72vypil2rTb7y6WFlZQa0+fB44TE6qzxkxPoy1ocy/TLt68yMFn/ViW9D16QvR/r7uFbtsZOEQ7LvH0jLJtuj3FTyQZDQjBLKxsfv317J8qeVlld1T+fHhafVrUI/KArXgq2JdN0UCPy0dNrisysKOMuUMP4FpYlIlCxAt9QFaIaIoUtlAaiYCq3QnM+RYwh/6tJw3cSqhmHWk9rBaj71NkACUvOXr4DUX9AZW2m4koiXd1XJuE2Kx7zEjW0amgfzBZDJo/YKR+jSBvpI8ABY62JNNULa3mtqWDO1XgL2UlsdODJlIvTUq3z2lt+inukLllamZefB+Jvqsqv+NeYbOJxxGmtnP7q9pV0rRmf+1Ne+1O+R5UsraJKXPUyYRb0y7ooTkLG1h4hGAgEtRjTOktkXnF5BZTGM9RyQRuawc0bBOmtHX1hcT7rt3tDksXJfflPyysWzhPXLM+Fdx5dCYRyZzC/xiyZrd1RoPZ2u+0QtbsK2ugRpzQ469lndpJhrwaeyh+oHBS8Fyw+s/XB31MH9KJAo0JEAYZK2252iEYHgo3XuN1Z8b9I5booPzvL01Ii+kAahssry0jWVnP7CJ/71kgB1PajruqY/bL6v12002ma60SzZhTnyyQZdX9M52oCAkij2/YNu+HpX679dlZS+WahuQEjjv4/RMaJSfSKDDR6ylxNhMYwgkzFpWQTQ0GqLqfwLIIzVs2gR3NOOwsl9ykaCxifE45OSLQaY+sEB21LXKf2RWIqabKi7VlBWuVqzK/MxbCmjKPWKUFpJza80gMXUnF4Im3yqEft1rfsKU7Sg6e4hZqzRmbQYdvE7cezF+f8xcD6yRckxORdG6rPOBKiDMfg63eHvZiUjulPE5IvJDxoKBNXul0agOe2pIIScmsHKAgTFFjbtbCfe1Tj+ix2GUTNwrHUzqYJ3IqxyHtOar2HF1mL5K/upSY3zT0bKjcHwcsry0jWVnP7CJ/71kgB1PZPxd+zXBhIlh8pv4yUrXbMgosMNiYDBbUZmGvUVB9Y/Uq5QyYR8jBa3T6qqqd9PcDGjrTI6YbhEa4mtivVF1n1J9fUEcSHWvk8fpynw+BkYOezhIYwbhcXrKJN3Xj4XAA/jt6H3254Fc4mRou7dYlYyyvLSNZWc/sIn/vWSAHU9kKArUKVF2OmAEOtRPTLoUrLK8tI1lZz+wif+9ZIAdT2iVSn2X6OK90RfEqjkC/rISYz/7ucp6aM3T19cJpxErHLK8tI1lZz+wif+9ZIAdT2sMidsJ5/8+U+ZLXooktS7/Zna02fvAhJgn9gRjSzwC9dCByoUt9pYXPlNudf7h6Bpz6qwWvMGnr1fZYa07bfr8sry0jWVnP7CJ/71kgB1PajvuczrQQU0I2UAa8UJdPuMjBHzYmWOBmjl8Kh23+T6rlwWRVgF47HGywVnVzpGCbOlDL7DvzzsOQnK+/bCc4nJfjrgt6EnPjXZ/nCJMPvWM6UMvsO/POw5Ccr79sJzidwZ45CXNGx+S8ONRu0cQYyE9csz4V3Hl0JhHJnML/GLJmt3VGg9na77RC1uwra6BGnNDjr2Wd2kmGvBp7KH6gcwy7YmMHADksumN5HrjlV4Msry0jWVnP7CJ/71kgB1PZ96veFf5o06HlFhFkEbjVNaHhVWgH4fTMtkuz5bDn+AHgnjpwyG/hIL50GIPXo+vrYTAaByABQWo5P1pVuKDZc\")\n                \n                d.push({\n                    title: titles + badgeType,\n                    img: pics,\n                    desc: badge+desc,\n                    url: mode == '直链' ? true_url : purl + lazy,\n                    col_type: 'movie_2'\n                });\n\n            }\n        } else {\n            putVar('aid',String(v.aid));\n            \n            d.push({\n                title:mode == '直链' ? getHead('直链') : '直链', //'直链播放',\n                url: '直链'+mode_url,//lazy1,\n                col_type: 'text_2'\n            });\n\n            d.push({\n                title: mode == 'yhc' ? getHead('萤火虫') : '萤火虫',\n                url: 'yhc' + mode_url,\n                col_type: 'text_2'\n            });\n            if (getVar('like_type')==='开启'){\n            d.push({\n                title: '点赞',\n                url: $(like_url).lazyRule(() => {\n                    var ts = new Date().getTime();\n                    var content_type = 'application/x-www-form-urlencoded; charset=utf-8';\n                    var l_body_txt = 'access_key=' + getVar('access_key') + '&aid=' + getVar('aid') + '&appkey=1d8b6e7d45233436&build=6130400&c_locale=zh_CN&channel=master&like=0&mobi_app=android&platform=android&s_locale=zh_CN&statistics=%7B%22appId%22%3A1%2C%22platform%22%3A3%2C%22version%22%3A%226.13.0%22%2C%22abtest%22%3A%22%22%7D&ts=' + ts +'&sign=4a08645c2994eb692ac0cfb0bd7569c6';\n                    var l_code = JSON.parse(request(input,{\n                        headers:{'Content-Type':content_type},\n                        body:l_body_txt,\n                        method:'POST'\n                    }));\n                    log(l_code);\n                    return 'toast://'+l_code.data.toast;\n                }, ),\n                col_type: 'text_2'\n            });\n            d.push({\n                title: '投币',\n                url: $(coin_url).lazyRule(() => {\n                    var ts = new Date().getTime();\n                    var content_type = 'application/x-www-form-urlencoded; charset=utf-8';\n                    var c_body_txt = 'access_key=' + getVar('access_key') + '&aid=' + getVar('aid') + '&appkey=1d8b6e7d45233436&avtype=1&build=6130400&c_locale=zh_CN&channel=master&from=7&from_spmid=tm.recommend.0.0&mobi_app=android&multiply=1&platform=android&s_locale=zh_CN&select_like=1&spmid=main.ugc-video-detail.0.0&statistics=%7B%22appId%22%3A1%2C%22platform%22%3A3%2C%22version%22%3A%226.13.0%22%2C%22abtest%22%3A%22%22%7D&ts=' + ts +'&upid=0&sign=8abbddd87a6bd82e1e42cb3cffd32bb9';\n                    var c_code = JSON.parse(request(input,{\n                        headers:{'Content-Type':content_type},\n                        body:c_body_txt,\n                        method:'POST'\n                    }));\n                    log(c_code);\n                    return 'toast://投了1个币';\n                }, ),\n                col_type: 'text_2'\n            });\n            }\n            d.push({\n                title: '',\n                col_type: 'blank_block'\n            });\n\n            \n            if (v.videos != 1) {\n                var rurl = purl + '?p=' + p[i].page;\n            } else {\n                var rurl = purl\n            }\n            d.push({\n                title: part,\n                pic_url: 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/13096725fe56ce9cf643a0e4cd0c159c.gif',\n                url: /*mode == 'X5' ? 'x5Rule://' + jx + rurl + '@' + lazy : (*/mode == '直链' ? lazy1 : rurl + lazy,\n                col_type: v.videos != 1 ? 'text_center_1' : 'avatar'\n            });\n\n\n        }\n    }\n    \n    d.push({\n        col_type: 'line_blank'\n    });\n    if (getVar('reply_type')==='开启'){\n    d.push({\n        title: '<strong>' + '““评论区””' + (getVar('label') == '评论' ? '““ ⊙””' : '““ ⊕””') + '</strong>',\n        url: \"hiker://empty@lazyRule=.js:putVar('label', getVar('label')=='评论'?'关闭':'评论');refreshPage();'toast://'+getVar('label','评论')\",\n        col_type: 'text_2'\n    });\n\n    d.push({\n        title: '<strong>' + '““推荐区””' + (getVar('label') == '推荐' ? '““ ⊙””' : '““ ⊕””') + '</strong>',\n        url: \"hiker://empty@lazyRule=.js:putVar('label', getVar('label')=='推荐'?'关闭':'推荐');refreshPage();'toast://'+getVar('label','推荐')\",\n        col_type: 'text_2'\n    });\n\n    \n    if (getVar(\"label\") == '评论') {\n        var rely = JSON.parse(fetch('https://api.bilibili.com/x/v2/reply/main?oid=' + v.aid + '&type=1', {}));\n        var counts = rely['data']['cursor']['all_count'];\n        var replies = rely.data.replies;\n        for (var x in replies) {\n            var repliesx = replies[x];\n            var message = replies[x].content.message;\n            var member = replies[x].member;\n            d.push({\n                title: member.uname,\n                img: member.avatar,\n                col_type: 'avatar'\n            });\n            d.push({\n                title: '<small><strong>' + message + '</strong></small>',\n                col_type: 'rich_text'\n            });\n            var reply = replies[x].replies;\n            for (var z in reply) {\n                var mess = reply[z].content.message;\n                var mem = reply[z].member.uname;\n                d.push({\n                    title: '<small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;' + mem + ':' + mess + '</small>',\n                    col_type: 'rich_text'\n                });\n            }\n        }\n    } \n\n    if (getVar(\"label\") == '推荐') {\n        for (var r in related) {\n            d.push({\n                title: related[r].title,\n                img: related[r].pic,\n                desc: related[r].desc,\n                url: 'hiker://page/detail?url=https://api.bilibili.com/x/web-interface/view/detail？？aid=＆＆bvid=' + related[r].bvid + '#immersiveTheme#',\n                col_type: 'movie_2'\n            });\n        }\n    }\n    }\n} catch (e) {}\n\nres.data = d;\nsetResult(res);"},{"col_type":"movie_3","name":"页面-关注1","path":"gz1","rule":"js:\nvar res = {};var d = [];\nvar id = MY_URL.split('mid=')[1];\nvar surl = MY_URL;\nvar code = fetch(surl,{});\nvar ym = JSON.parse('{\"my'+code.split('{\"my')[1].split('}};')[0]+'}}');\n\nvar ep = ym['list']['getFollowList-page-mid-'+id]['result'];\nfor ( x in ep){\n  var yurl = 'https://api.bilibili.com/x/space/arc/search？？mid='+ep[x].mid+'＆＆ps=30＆＆tid=0＆＆keyword=＆＆jsonp=jsonp＆＆pn=fypage＆＆order=pubdate';\n    d.push({\n       title:ep[x].uname,\n       img:ep[x].face,\n       url:'hiker://page/gz2?url='+yurl,\n       col_type:'icon_round_4'\n       });\n}\nres.data = d;\nsetResult(res);"},{"col_type":"movie_3","name":"页面-关注2","path":"gz2","rule":"js:\nvar res = {};var d = [];\nconst headColor=\"#358ccd\";\nvar json = {};\neval('json=' + fetch(MY_URL,{}));\nfor (var i = 0; i < json.data.list.vlist.length; i++)\n{\n var r = {};\n var j = json.data.list.vlist[i];\n var t = Number(j.created)*1000;\n \n //时间戳转换方法\n /*\nfunction getLocalTime(nS) { \n     var sss = new Date(parseInt(nS)).toLocaleString().substr(0,17);\n     var YMD = sss.split('日')[0].replace('年','-').replace('月','-');\n     return (YMD)\n}\n*/\nfunction getLocalTime(nS) { \nvar date = new Date(nS);\nvar YY = date.getFullYear()+'-'; \nvar MM = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1)+'-'; \nvar DD = (date.getDate() < 10 ? '0' + (date.getDate()) : date.getDate()); \nvar time = YY + MM + DD;\nreturn time\n}\n//时间戳转换\nvar time = getLocalTime(t);\n\nif (j.play>10000)\n    var play = (j.play/10000).toFixed(1)+'万';\nelse\n    var play = j.play;\n\nvar pics = (j.pic.indexOf(':')!=-1)?j.pic:'https:' + j.pic;\n\n if (j.length!=\"00:00\"){\n    d.push({\n     pic_url : pics,\n     url : 'hiker://page/detail?url=https://api.bilibili.com/x/web-interface/view/detail？？aid=＆＆bvid=' + j.bvid+'#immersiveTheme#',\n     title : j.title,\n     col_type : 'movie_1_left_pic',\n     desc : '时长：' + j.length + '  播放量：' + play + '  日期：' + time\n    \n    });\n}\n}\nres.data = d;\nsetResult(res)"},{"col_type":"movie_3","name":"代码块-搜索一级","path":"s","rule":"try{\nvar res = {};var d = [];\nvar code = getResCode();\nvar xs=JSON.parse(code.split('video\",\"data\":')[1].split('}]')[0]+'}]');\n//if(MY_URL.split('page=')[1]=='1&pagesize=20'){\nvar page = MY_URL.split('page=')[1].split('&pagesize=')[0];\n  try{\n  var w=\nJSON.parse(fetch('https://api.bilibili.com/x/web-interface/search/type?keyword='+MY_URL.split('keyword=')[1].split('&')[0]+'&page='+page+'&search_type=bili_user&order=totalrank&pagesize=20',{})).data.result;\n    for(ii=0;ii<w.length&&ii<2;ii++){\n      d.push({\n      title:'up：'+w[ii].uname,\n      img:'https:'+w[ii].upic,\n      desc:'关注：'+w[ii].fans,\n      content:'视频数：'+w[ii].videos,\n      url:\n'hiker://page/ss?url=https://api.bilibili.com/x/space/arc/search？？mid='+w[ii].mid+'＆＆ps=30＆＆tid=0＆＆keyword=＆＆jsonp=jsonp＆＆pn=fypage＆＆order=pubdate#'+w[ii].uname+'#',\n         });\n    }\n  }catch(e){\n      d.push({\n      title:'‘‘找不到你想要的啊，要不换个关键词？’’',\n      col_type:'text_center_1'\n      });\n  }\nvar fan = JSON.parse(code.split('media_bangumi\",\"data\":')[1].split('},{\"result_type')[0]);\n   for ( x in fan){\n       d.push({\n           title:fan[x].title.replace(/<em class=\"keyword\">|<\\/em>/g,''),\n           img:fan[x].cover,\n           desc:fan[x].desc,\n           content:fan[x].cv.replace(/<em class=\"keyword\">|<\\/em>/g,''),\n           url:'hiker://page/detail?url='+fan[x].goto_url+'#immersiveTheme#',\n           col_type:'movie_1_left_pic'\n           });\n   }\nvar fan2 = JSON.parse(code.split('media_ft\",\"data\":')[1].split('},{\"result_type')[0]);\n   for ( x in fan2){\n       d.push({\n           title:fan2[x].title.replace(/<em class=\"keyword\">|<\\/em>/g,''),\n           img:fan2[x].cover,\n           desc:fan2[x].desc,\n           content:fan2[x].cv.replace(/<em class=\"keyword\">|<\\/em>/g,''),\n           url:'hiker://page/detail?url='+fan2[x].goto_url+'#immersiveTheme#',\n           col_type:'movie_1_left_pic'\n           });\n   }\n//}\n\n for ( x in xs){\n       d.push({\n           title:xs[x].title.replace(/<em class=\"keyword\">|<\\/em>/g,''),\n           img:'http:'+xs[x].pic,\n           desc:xs[x].description,\n           content:xs[x].author,\n           url:'hiker://page/detail?url=https://api.bilibili.com/x/web-interface/view/detail？？aid=＆＆bvid='+xs[x].bvid+'#immersiveTheme#',\ncol_type:'movie_1_left_pic'\n           });\n    }\n\nres.data = d;\nsetResult(res);}catch(e){\nvar res = {};var d = [];\nvar keyword = MY_URL.split('keyword=')[1].split('&page=')[0];\nvar url = 'https://app.bilibili.com/x/v2/search/type?appkey=1d8b6e7d45233436&build=6270200&c_locale=zh_CN&channel=xiaomi&highlight=1&keyword='+keyword+'&mobi_app=android&order=totalrank&platform=android&pn=1&ps=20&s_locale=zh_CN&statistics=%7B%22appId%22%3A1%2C%22platform%22%3A3%2C%22version%22%3A%226.27.0%22%2C%22abtest%22%3A%22%22%7D&ts=1623076140&type=2&user_type=0&sign=5066216febb28a619812e88e5ff1a034';\nvar code = JSON.parse(request(url,{}));\nvar list = code.data.items;\nfor (let x of list){\nd.push({\n    title:x.title,\n    img:x.cover,\n    desc:x.sign,\n    url:\n'hiker://page/ss?url=https://api.bilibili.com/x/space/arc/search?mid='+x.param+'＆＆ps=30＆＆tid=0＆＆keyword=＆＆jsonp=jsonp＆＆pn=fypage＆＆order=pubdate#'+x.title+'#'+getVar('ua'),\n    col_type:'movie_1_left_pic'});\n}\nsetResult(d);}"},{"col_type":"movie_1_vertical_pic","name":"页面-搜索二级","path":"ss","rule":"js:\nvar json = {};\neval('json=' + getResCode());\nvar res = {};\nvar d = [];\nif (MY_URL.indexOf('pn=1&')!=-1){\nd.push({\ntitle:'““关注””',\nurl:'hiker://empty#'+MY_URL.split('#')[1]+'&&'+MY_URL.split('mid=')[1].split('&')[0]+`@lazyRule=.js:input=input.split('#')[1];var pic = JSON.parse(fetch('https://api.bilibili.com/x/space/acc/info?mid='+input.split(\"&&\")[1]+'&jsonp=jsonp',{})).data.face;if(!getVar('lb2').includes(input.split('&&')[1].split('&&')[0])){var xr=getVar('lb2')+'\\\\n'+input+'##'+pic;writeFile(\"hiker://files/rules/js/up.js\",xr);'toast://关注成功'}else{'toast://年轻人，耗子尾汁'}`,\ncol_type: 'text_center_1'\n});\n}\n\nfor (var i = 0; i < json.data.list.vlist.length; i++)\n{\n var r = {};\n var j = json.data.list.vlist[i];\n var t = Number(j.created)*1000;\n \n //时间戳转换方法\nfunction getLocalTime(nS) { \n     var sss = new Date(parseInt(nS)).toLocaleString().substr(0,17);\n     var YMD = sss.split('日')[0].replace('年','-').replace('月','-');\n     return (YMD)\n}\n\n//时间戳转换\nvar time = getLocalTime(t);\n\nif (j.play>10000)\n    var play = (j.play/10000).toFixed(1)+'万';\nelse\n    var play = j.play;\n\nvar pics = (j.pic.indexOf(':')!=-1)?j.pic:'https:' + j.pic;\n\n r.pic_url = pics;\n r.url = 'hiker://page/detail?url=https://api.bilibili.com/x/web-interface/view/detail？？aid=＆＆bvid='+j.bvid+'#immersiveTheme#',\n       \n\n r.title = j.title;\n r.desc = '时长：' + j.length + '  播放量：' + play + '  日期：' + time;\n if (j.length!=\"00:00\"){d.push(r)};\n}\nres.data = d;\nsetResult(res)"},{"col_type":"movie_3","name":"代码-预处理","path":"ycl","rule":"putVar2('ua',';get;utf-8;{User-Agent@Mozilla/5.0 (Linux；； Android 7.0；； wv lite baiduboxapp) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/78.0.3904.96 Mobile Safari/537.36 T7/10.3 SearchCraft/2.6.2 (Baidu；； P1 7.0)}');\n\nputVar('key',fetch('hiker://files/rules/bili/key.txt'));\n\nputVar('X5',\"@lazyRule=.js:var jx = fetch('hiker://files/bili/up_jxcache.txt',{});refreshX5WebView(jx+input);'toast://播放中'\");\n\nif (!fetch('hiker://files/bili/多合一.txt')) {\n   writeFile('hiker://files/bili/多合一.txt','UP主');\n   }\n\nif (!fetch('hiker://files/bili/收藏.txt')) {\n   writeFile('hiker://files/bili/收藏.txt','视频');\n   }\n\nif (fetch(\"hiker://files/rules/js/up.js\", {})==''){\n    if (fetch(\"hiker://files/bili/up.txt\", {})!=''){\n    writeFile(\"hiker://files/rules/js/up.js\",fetch(\"hiker://files/bili/up.txt\", {}));\n    }\n    else{\n      var pic = JSON.parse(fetch('https://api.bilibili.com/x/space/acc/info?mid=103256880&jsonp=jsonp',{})).data.face;\n      writeFile(\"hiker://files/rules/js/up.js\", \"北城&&103256880##\"+pic);\n      }\n}\n\nif (!fetch(\"hiker://files/bili/up_cache.txt\", {})) {\n  writeFile(\"hiker://files/bili/up_cache.txt\", \"103256880\");\n}\n\nputVar2('lb2',fetch(\"hiker://files/rules/js/up.js\",{}));\n\nputVar(\"解析口\",`hiker://empty#noHistory#@rule=js:var d = [];d.push({desc: '200',url: 'file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/bili/upjx.html',col_type: 'x5_webview_single'});var titles = fetch(\"hiker://files/bili/upjx.txt\", {}).split(/\\\\n/);for(var i = 0; i < titles.length; i++){var t = titles[i].split(\"&&\");d.push({title:fetch(\"hiker://files/bili/up_jxcache.txt\",{}) == t[1] ? t[0] + \"‘‘（当前）’’\" : t[0],desc:t[1],url:t[1] + '@lazyRule=.js:putVar2(\"uid\",input);writeFile(\"hiker://files/bili/up_jxcache.txt\",input);back();\"toast://修改成功\"',col_type: 'text_1'});}setResult(d);`);\n\nif (!fetch(\"hiker://files/bili/upjx.txt\", {})) {\n  writeFile(\"hiker://files/bili/upjx.txt\", \"全网VIP&&https://jxx.smys8.cn/index.php?url=\\n加速&&https://www.cuan.la/m3u8.php?url=\");\n}\n\n\nlet localHtml2 = fetch(\"hiker://files/bili/upjx.html\", {});\nlet gitHtml2 = fetch(\"https://cdn.jsdelivr.net/gh/Zruiry/hikerview/html/jiexi.html\", {}).replace(/jiexi\\/jiexi/g,\"bili/upjx\");\nif (!localHtml2) {\n  writeFile(\"hiker://files/bili/upjx.html\", gitHtml2);\n  var titles = fetch(\"hiker://files/bili/upjx.txt\", {});\n  var t = titles.split(\"&&\")[1];\n  writeFile(\"hiker://files/bili/up_jxcache.txt\",t);\n}\n"},{"col_type":"movie_3","name":"代码-推荐","path":"feed","rule":"var url = 'https://app.bilibili.com/x/intl/feed/index?access_key='+getVar(\"access_key\")+'&autoplay_card=2&build=6225300&c_locale=zh_CN&channel=master&column=2&device_name=&device_type=0&flush=8&fnval=464&fnver=0&force_host=0&fourk=1&guidance=0&https_url_req=0&mobi_app=android&network=wifi&platform=android&player_net=1&pull=false&qn=80&s_locale=zh_CN&statistics=%7B%22appId%22%3A1%2C%22platform%22%3A3%2C%22version%22%3A%226.22.5%22%2C%22abtest%22%3A%22%22%7D';\nvar list = JSON.parse(request(url,{})).data.items;\nfor (let x of list){\nd.push({\n    title:x.title,\n    desc:x.cover_left_1_content_description+\" \"+x.cover_left_2_content_description+\"  \"+x.cover_right_text,\n    pic:x.cover+\"@Referer=https://www.bilibili.com/\",\n    url:\"hiker://page/detail?rule=哔哩Ⓡ&url=https://api.bilibili.com/x/web-interface/view/detail？？aid=\"+x.param+\"＆＆bvid=\"+'#immersiveTheme#',\n    col_type:'movie_2'\n    });\n}"},{"col_type":"movie_3","name":"代码-更多","path":"more","rule":"if (MY_URL.split('#')[1]=='1') {\n\n    d.push({\n        title: rx == '推荐' ? getHead(rx) : '推荐',\n        url: '推荐' + wr,\n        col_type: 'text_3'\n    });\n    d.push({\n        title: rx == '时光机' ? getHead(rx) : '时光🐥',\n        url: '时光机' + wr,\n        col_type: 'text_3'\n    });\n    d.push({\n        title: '追番',\n        url: 'hiker://collection?group=①追番',\n        col_type: 'text_3'\n    });\n    d.push({\n        title: rx == '索引' ? getHead(rx) : '索引',\n        url: '索引' + wr,\n        col_type: 'text_2'\n    });\n    d.push({\n        title: getVar('YS') == '随机' ? getHead('随机') : getHead('骚粉'),\n        url: \"hiker://empty@lazyRule=.js:putVar('YS', getVar('YS')=='随机'?'骚粉':'随机');refreshPage();'toast://颜色--'+getVar('YS','随机')\",\n        col_type: 'text_2'\n    });\n    d.push({\n        title: '自定UID',\n        url: `input://{\"value\":\"\", \"js\": \"writeFile('hiker://files/rules/bili/starid.txt',input);writeFile('hiker://files/bili/多合一.txt','UP主');refreshPage();'toast://你输入的是'+input\", \"hint\": \"请在下方输入UID\\n不知道怎么查？b站点开自己的信息，长按uid即可，请填入纯数字\"}`,\n        desc: '‘‘已输入: ’’'+getHead(fetch('hiker://files/rules/bili/starid.txt')),\n        col_type: 'text_1'\n    });\n    d.push({\n        title: '点赞key',\n        url: `input://{\"value\":\"\", \"js\": \"writeFile('hiker://files/rules/bili/access_key.txt',input);writeFile('hiker://files/bili/多合一.txt','UP主');refreshPage();'toast://你输入的是'+input\", \"hint\": \"请在下方输入key(用于点赞投币)\\n不知道怎么抓？那就算了\"}`,\n        desc: '‘‘已输入: ’’'+getHead(fetch('hiker://files/rules/bili/access_key.txt')),\n        col_type: 'text_1'\n    });\n    d.push({\n        title: '解析key',\n        url: `input://{\"value\":\"\", \"js\": \"writeFile('hiker://files/rules/bili/key.txt',input);writeFile('hiker://files/bili/多合一.txt','UP主');refreshPage();'toast://你输入的是'+input\", \"hint\": \"请在下方输入key(用于解析)\\n不知道怎么抓？那就算了\"}`,\n        desc: '‘‘已输入: ’’'+getHead(fetch('hiker://files/rules/bili/key.txt')),\n        col_type: 'text_1'\n    });\n    d.push({\n        col_type: 'blank_block'\n    });\n\n    d.push({\n        title:'评论区: ““已'+ getVar('reply_type'),\n        url: \"hiker://empty@lazyRule=.js:putVar('reply_type', getVar('reply_type')=='关闭'?'开启':'关闭');refreshPage();writeFile('hiker://files/rules/bili/setting.txt',getVar('reply_type')+','+getVar('like_type'));'toast://已'+getVar('reply_type');\",\n        col_type: 'text_2'\n    });\n    d.push({\n        title: '点赞&投币: ““已'+getVar('like_type'),\n        url: \"hiker://empty@lazyRule=.js:putVar('like_type', getVar('like_type')=='关闭'?'开启':'关闭');refreshPage();writeFile('hiker://files/rules/bili/setting.txt',getVar('reply_type')+','+getVar('like_type'));'toast://已'+getVar('like_type');\",\n        col_type: 'text_2'\n    });\n}"},{"col_type":"movie_3","name":"代码-新番","path":"newbgm","rule":"if (MY_URL.split('#')[1]=='1') {\n\n    let url = 'https://api.bilibili.com/pgc/app/timeline?access_key=&appkey=1d8b6e7d45233436&build=6130400&c_locale=zh_CN&channel=master&filter_type=0&mobi_app=android&night_mode=0&platform=android&s_locale=zh_CN&statistics=%7B%22appId%22%3A1%2C%22platform%22%3A3%2C%22version%22%3A%226.13.0%22%2C%22abtest%22%3A%22%22%7D&ts=1635952840&sign=6e4df4542d38eee2fabf212885b90c64';\n    try {\n        var source_code = JSON.parse(request(url, {}));\n        var dateline = [{\n            \"code\": source_code.result.data[4],\n            \"name\": \"前日\",\n            \"id\": \"0\"\n        },{\n            \"code\": source_code.result.data[5],\n            \"name\": \"昨日\",\n            \"id\": \"1\"\n        }, {\n            \"code\": source_code.result.data[6],\n            \"name\": \"今日\",\n            \"id\": \"2\"\n        }, {\n            \"code\": source_code.result.data[7],\n            \"name\": \"明日\",\n            \"id\": \"3\"\n        },{\n            \"code\": source_code.result.data[8],\n            \"name\": \"后日\",\n            \"id\": \"4\"\n        }];\n        if (!getVar('id')) {\n            putVar('id', '2');\n        }\n        let id = getVar('id');\n        d.push({\n            title: id == '0' ? getHead('前日') : '前日',\n            url: \"hiker://empty@lazyRule=.js:putVar('id', '0');refreshPage();'toast://success!'\",\n            col_type: 'text_5'\n        });\n        d.push({\n            title: id == '1' ? getHead('昨日') : '昨日',\n            url: \"hiker://empty@lazyRule=.js:putVar('id', '1');refreshPage();'toast://success!'\",\n            col_type: 'text_5'\n        });\n        d.push({\n            title: id == '2' ? getHead('今日') : '今日',\n            url: \"hiker://empty@lazyRule=.js:putVar('id', '2');refreshPage();'toast://success!'\",\n            col_type: 'text_5'\n        });\n        d.push({\n            title: id == '3' ? getHead('明日') : '明日',\n            url: \"hiker://empty@lazyRule=.js:putVar('id', '3');refreshPage();'toast://success!'\",\n            col_type: 'text_5'\n        });\n        d.push({\n            title: id == '4' ? getHead('后日') : '后日',\n            url: \"hiker://empty@lazyRule=.js:putVar('id', '4');refreshPage();'toast://success!'\",\n            col_type: 'text_5'\n        });\n        let list = dateline[id].code.episodes;\n        for (let x of list) {\n            let type = (x.published == '1' ? '已发布' : '未发布');\n            log(type)\n            d.push({\n                title: x.title,\n                desc: '‘‘' + type + '’’\\n' + x.pub_index + '\\n更新时间：' + getHead(x.pub_time),\n                url: 'hiker://page/detail?url=' + x.url + '#immersiveTheme#',\n                img: x.cover+Referer,\n                col_type:'movie_1_vertical_pic'\n            });\n        }\n    } catch (e) {\n        d.push({\n            title: getHead('链接炸了，等修复'),\n            col_type: 'text_center_1'\n        });\n    }\n}"},{"col_type":"movie_3","name":"代码-番剧索引","path":"sy","rule":"const { CategoriesHeader } = $.require(\"hiker://page/categories-header\")\n\n/**\n * 获取分类数据源，可动态可静态，自己根据实际情况处理\n * https://www.bilibili.com/anime/index/\n */\nlet mCategories = {}\nlet catInVar = getVar(MY_RULE.url + \"#categories\", '')\nif (getVar(MY_RULE.url + \"#categories\", '')) {\n    mCategories = JSON.parse(catInVar)\n} else {\n    let catUrl = 'https://www.bilibili.com/anime/index/'\n    let catSrc = request(catUrl)\n    // log(catSrc)\n    let catRegex = /window\\.__INITIAL_STATE__=(.*?);\\(function\\(\\)\\{/\n    if (catRegex.test(catSrc)) {\n        // log(RegExp.$1)\n        let category = JSON.parse(RegExp.$1)\n        let mFilters = category.filters;\n        // log(mFilters)\n        mFilters.map(filter => mCategories[filter.key] = filter.list)\n        let orders = category.orders\n        let mOrders = []\n        orders.map(order => {\n            let mOrder = {}\n            mOrder.name = order.title\n            mOrder.value = order.key\n            mOrders.push(mOrder)\n        })\n        // log(mOrders)\n        mCategories['order'] = mOrders\n    }\n    putVar(MY_RULE.url + \"#categories\", JSON.stringify(mCategories))\n}\nlet keys = Object.keys(mCategories)\n// log(mCategories)\n// log(keys)\n/**\n * 组合当前分类链接\n */\nlet true_url = getVar(MY_RULE.url, MY_URL)\ntrue_url = 'https://api.bilibili.com/pgc/season/index/result?'\nfor (let it of keys) {\n    let cat_url = getVar(MY_RULE.url + \"#\" + it, it === 'orders' ? '3' : '-1')\n    true_url += (cat_url ? '&' + it + '=' + cat_url : '')\n}\n// let page = 1\nconst page = MY_URL.split('#')[1]\ntrue_url = true_url +\n    '&st=1&sort=0&season_type=1&pagesize=20&type=1' +\n    '&page=' + page\n// log(true_url)\n\nconst empty = \"hiker://empty\"\n\nCategoriesHeader\n    .setSubCategoriesItemKey('name', 'value')\n    .get(d, mCategories, page)\n/**\n * 获取当前分类页面源码\n */\ntry {\n    var sylist = JSON.parse(request(true_url, {})).data.list;\n\n    /**\n     * 列表数据源\n     */\n    for (let data of sylist) {\n        d.push({\n            title: data.title /*+ '/' + data.index_show*/ ,\n            desc: data.order,\n            img: data.cover+Referer,\n            url: 'hiker://page/detail?url=' + data.link + '#immersiveTheme#',\n            col_type: 'movie_3'\n        });\n    }\n} catch (e) {}"},{"col_type":"movie_3","name":"代码-动态分类模块","path":"categories-header","rule":"js:\n/**\n * 使用说明：\n * 1.提前建立好 分类所属类型和分类列表 的对应关系，即 get 函数中的 categories\n * 2.设置子分类数据的 key，调用 setSubCategoriesItemKey(titleKey, urlKey)\n * 3.然后调用 CategoriesHeader.get(layout, categories, page)\n *\n * 支持链式调用，一句话即可调用生成分类，即：\n * CategoriesHeader\n *    .setSubCategoriesItemKey(titleKey, urlKey)\n *    .get(layout, categories, page)\n *\n * @type {{setSubCategoriesItemKey: CategoriesHeader.setSubCategoriesItemKey, get: CategoriesHeader.get, categoriesKey: {title: string, url: string}}}\n */\nlet CategoriesHeader = {\n    categoriesKey: {\n        sub_categories: '',\n        title: '',\n        url: '',\n    },\n    /**\n     * 1.设置从分类列表中拿的子分类的数据 key，\n     *   根据 key 拿到数据后，\n     *   会自动赋值给 scroll_button 的 { title: item[titleKey], url: item[urlKey] }\n     *\n     * @param title_key title 的 key\n     * @param url_key url 的 key\n     */\n    setSubCategoriesItemKey : (title_key, url_key) => {\n        CategoriesHeader.categoriesKey.title = title_key\n        CategoriesHeader.categoriesKey.url = url_key\n        return CategoriesHeader;\n    },\n    setSubCategoriesKey: (sub_categories_key) => {\n        CategoriesHeader.categoriesKey.sub_categories = sub_categories_key\n        return CategoriesHeader;\n    },\n    /**\n     * 2.获取分类头部\n     *\n     * @param layout 当前界面，即常用的 d.push 的 d\n     * @param categories 分类所属类型和分类列表的对应关系表，\n     *        如：\n     *        {\n     *           \"年份\": [{ \"name\": \"2021\", \"value\": \"2021\" }, { \"name\": \"2020\", \"value\": \"2020\" }...],\n     *           \"排序\": [{ \"name\": \"热度\", \"value\": \"hot\" }, { \"name\": \"时间\", \"value\": \"time\" }...],\n     *        }\n     * @param page 页码\n     * @param urlListener 额外处理 button 的 url，需要 return\n     */\n    get: (layout, categories, page, urlListener) => {\n        // log(categories)\n        // 分类所属类型的列表，如：[ \"年份\", \"排序\" ]\n        let category_names = Object.keys(categories)\n        let types = []\n        // 根据对应关系表拿分类列表\n        category_names.map(category_name => {\n            // 这里会拿到 年份 排序... 其中一个\n            types.push(categories[category_name]);\n            // 这里下面对 types 的值进行处理\n        })\n        categories = types;\n        let init_cate = []\n\n        for (let i = 0; i < 20; i++) {\n            init_cate.push(\"0\")\n        }\n\n        const cate_temp_json = getVar(MY_RULE.title, JSON.stringify(init_cate))\n        const cate_temp = JSON.parse(cate_temp_json)\n\n        if (parseInt(page) === 1) {\n            /**\n             * 遍历第 index 层分类\n             */\n            categories.forEach((category, index) => {\n                let sub_category_name = category_names[index]\n                let sub_categories_key = CategoriesHeader.categoriesKey.sub_categories\n                let sub_categories = sub_categories_key ? category[sub_categories_key] : category;\n                // log(category)\n                /**\n                 * 在第 index 层分类中遍历该层所有子分类\n                 */\n                sub_categories.forEach((item, key) => {\n                    let title = item[CategoriesHeader.categoriesKey.title]\n                    let url = escape(item[CategoriesHeader.categoriesKey.url])\n                    if (urlListener) url = urlListener.onDeal(item, sub_category_name, url)\n                    layout.push({\n                        title: key.toString() === cate_temp[index] ? '““””<b><span style=\"color: #098AC1\">' + title + '</span></b>' : title,\n                        url: $(url).lazyRule((params) => {\n                            params.cate_temp[params.index] = params.key.toString()\n\n                            putVar(MY_RULE.title, JSON.stringify(params.cate_temp))\n                            putVar(MY_RULE.url + \"#\" + params.sub_category_name, input)\n                            refreshPage(true)\n                            return \"hiker://empty\"\n                        }, {\n                            cate_temp: cate_temp,\n                            index: index,\n                            key: key,\n                            page: page,\n                            sub_category_name: sub_category_name\n                        }),\n                        col_type: 'scroll_button',\n                    })\n                })\n                layout.push({\n                    col_type: \"blank_block\"\n                });\n            })\n        }\n    }\n}\n$.exports.CategoriesHeader=CategoriesHeader"}],"title":"哔哩Ⓡ","author":"1606142&Rx&Reborn","version":2111201854,"url":"hiker://empty#fypage","col_type":"movie_1","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\neval(JSON.parse(fetch(\"hiker://page/common\")).rule);","searchFind":"js:\neval(JSON.parse(fetch(\"hiker://page/s\")).rule);","search_url":"https://api.bilibili.com/x/web-interface/search/all/v2?keyword=**&page=fypage&pagesize=20;get;utf-8;{User-Agent@Mozilla/5.0 (Linux；； Android 7.0；； wv lite baiduboxapp) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/78.0.3904.96 Mobile Safari/537.36 T7/10.3 SearchCraft/2.6.2 (Baidu；； P1 7.0)}","group":"⑦其他","detail_col_type":"movie_2","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"js:\neval(JSON.parse(fetch(\"hiker://page/ycl\")).rule);\n//通过搜索查看自己的uid，然后替换即可\nif (!fetch('hiker://files/rules/bili/starid.txt',{})){\nputVar('starid','928123');\n}else{\n\nputVar('starid',fetch('hiker://files/rules/bili/starid.txt',{}));\n}\nputVar(\"access_key\",fetch('hiker://files/rules/bili/access_key.txt'));\n//自己去b站客户端首页抓包，找到app.bilibili.com开头的链接，然后把access_key的值填入上方'='后面即可","pages":"[{\"col_type\":\"movie_3\",\"name\":\"代码-一级\",\"path\":\"common\",\"rule\":\"var res = {};\\nvar d = [];\\nvar pagenum = MY_URL.split('#')[1];\\nvar Referer = '@Referer=http://www.bilibili.com';\\nif (!fetch('hiker://files/rules/bili/setting.txt')) {\\n    writeFile('hiker://files/rules/bili/setting.txt', '开启,关闭');\\n}\\nvar s_type = fetch('hiker://files/rules/bili/setting.txt');\\nputVar('reply_type', s_type.split(',')[0]);\\nputVar('like_type', s_type.split(',')[1]);\\n//颜色\\nvar Colors = [\\\"4\\\", \\\"5\\\", \\\"0\\\", \\\"1\\\", \\\"A\\\", \\\"3\\\", \\\"8\\\", \\\"9\\\", \\\"B\\\", \\\"C\\\", \\\"D\\\", \\\"E\\\", \\\"6\\\", \\\"7\\\", \\\"F\\\"];\\nvar Color = '#';\\nif (getVar('YS') == '随机') {\\n    for (var i = 0; i < 6; i++) {\\n        var num = Math.ceil((Math.random() * 15)) - 1;\\n        var Color = Color + Colors[num];\\n    }\\n} else {\\n    var Color = \\\"#FA7298\\\";\\n}\\n\\nfunction getHead(title) {\\n    return '‘‘’’<strong><font color=\\\"' + Color + '\\\">' + title + '</front></strong>';\\n}\\n\\nvar c1 = 'all&bangumi&guochan&douga&music&knowledge&tech&car&life&food&kichiku&fashion&cinephile&origin&rookie&game&ent&dance&movie&tv&documentary&animal&guochuang';\\n\\nvar w1 = '全部&番剧&国创&动画&音乐&知识&科技&汽车&生活&美食&鬼畜&时尚&影视&原创&新人&游戏&娱乐&舞蹈&电影&电视剧&纪录片&动物圈&国创相关';\\n\\nvar c2 = '22&212&71&182&138&28&33&185';\\n\\nvar w2 = '鬼畜&美食&综艺&影视&生活&音乐&番剧&电视剧';\\n\\nvar word1 = w1.split('&');\\nvar class1 = c1.split('&');\\nvar lab1 = getVar('lab1', '全部');\\nvar key1 = getVar('key1', 'all');\\n\\nvar word2 = w2.split('&');\\nvar class2 = c2.split('&');\\nvar lab2 = getVar('lab2', '鬼畜');\\nvar key2 = getVar('key2', '22');\\n\\n//三合一\\nvar rx = fetch('hiker://files/bili/多合一.txt', {});\\nvar wr = `@lazyRule=.js:writeFile(\\\"hiker://files/bili/多合一.txt\\\",input);refreshPage(false);\\\"toast://切换成功\\\"`;\\nvar s_tab = fetch('hiker://files/bili/收藏.txt', {});\\nvar sr = `@lazyRule=.js:writeFile(\\\"hiker://files/bili/收藏.txt\\\",input);refreshPage(false);\\\"toast://切换成功\\\"`;\\n\\nif (MY_URL.split('#')[1] == '1') {\\n    d.push({\\n        title: rx == 'UP主' ? getHead(rx) : 'UP主',\\n        url: 'UP主' + wr,\\n        col_type: 'text_4'\\n    });\\n    d.push({\\n        title: rx == '排行榜' ? getHead(rx) : '排行榜',\\n        url: '排行榜' + wr,\\n        col_type: 'text_4'\\n    });\\n    d.push({\\n        title: rx == '新番' ? getHead(rx) : '新番',\\n        url: '新番' + wr,\\n        col_type: 'text_4'\\n    });\\n    d.push({\\n        title: rx == '更多' ? getHead(rx) : '更多',\\n        url: '更多' + wr,\\n        col_type: 'text_4'\\n    });\\n\\n    if (rx == '收藏') {\\n        d.push({\\n            title: s_tab == '视频' ? getHead(s_tab) : '视频',\\n            url: '视频' + sr,\\n            col_type: 'text_3'\\n        });\\n        d.push({\\n            title: s_tab == '追番' ? getHead(s_tab) : '追番',\\n            url: '追番' + sr,\\n            col_type: 'text_3'\\n        });\\n        d.push({\\n            title: s_tab == '追剧' ? getHead(s_tab) : '追剧',\\n            url: '追剧' + sr,\\n            col_type: 'text_3'\\n        });\\n        if (s_tab == '视频') {\\n            eval(JSON.parse(fetch(\\\"hiker://page/video\\\")).rule)\\n        }\\n        if (s_tab == '追番') {\\n            eval(JSON.parse(fetch(\\\"hiker://page/fanju\\\")).rule)\\n        }\\n        if (s_tab == '追剧') {\\n            eval(JSON.parse(fetch(\\\"hiker://page/dsj\\\")).rule)\\n        }\\n    }\\n\\n}\\n\\nif (rx == '推荐') {\\n    eval(JSON.parse(fetch(\\\"hiker://page/feed\\\")).rule)\\n}\\n\\nif (rx == '排行榜') {\\n    eval(JSON.parse(fetch(\\\"hiker://page/phb\\\")).rule)\\n}\\n\\nif (rx == 'UP主') {\\n    eval(JSON.parse(fetch(\\\"hiker://page/up\\\")).rule)\\n}\\n\\nif (rx == '时光机') {\\n    eval(JSON.parse(fetch(\\\"hiker://page/sgj\\\")).rule)\\n}\\n\\nif (rx == '新番') {\\n    eval(JSON.parse(fetch(\\\"hiker://page/newbgm\\\")).rule)\\n}\\n\\nif (rx == '索引') {\\n    eval(JSON.parse(fetch(\\\"hiker://page/sy\\\")).rule)\\n}\\n\\nif (rx == '更多') {\\n    eval(JSON.parse(fetch(\\\"hiker://page/more\\\")).rule)\\n}\\n\\n\\n//三合一\\n\\nres.data = d;\\nsetResult(res)\"},{\"col_type\":\"pic_1_card\",\"name\":\"代码-排行榜\",\"path\":\"phb\",\"rule\":\"//分类\\n if (MY_URL.split('#')[1]=='1'){\\nfor (var i in word1){\\n    var a = word1[i];\\n    var b = class1[i];\\n    var c = a + '&' + b;\\n    d.push({\\n    title: a==lab1? getHead(a):a,\\n    url: $(\\\"#noLoading#\\\").lazyRule((c)=>{\\n        putVar(\\\"lab1\\\",c.split('&')[0]);\\n        putVar(\\\"key1\\\",c.split('&')[1]);\\n        refreshPage(false);\\n        return \\\"hiker://empty\\\"\\n    }, c),\\n    col_type:'flex_button'\\n    });\\n}\\n}\\n//分类\\n\\nd.push({\\n    desc:'258&&float',\\n   \\t\\tcol_type: 'x5_webview_single'\\n});\\nvar url = 'https://www.bilibili.com/v/popular/rank/all';\\n\\nvar MY_URL = url.replace('all',getVar('key1'));\\n\\nvar ym=request(MY_URL,{}).replace(/\\\\\\\\u002F/g,'/');\\nif(ym.includes('rank-tips')){\\n\\n/*提示信息\\n  d.push({\\n    title:'““'+parseDomForHtml(ym,'.rank-tips&&Text')+'””',\\n    col_type:'text_1'\\n  });\\n提示信息*/\\n\\n  var pi=JSON.parse(ym.split('\\\"rankList\\\":')[1].split(',\\\"rankNote\\\"')[0]);\\n  for(var i=0;pi!=null&&i<pi.length;i++){\\n    var num = i+1;\\n    var q=JSON.stringify(pi[i]);\\n    if (!pi[i].url){\\n       var rurl = 'https://api.bilibili.com/x/web-interface/view/detail？？aid=＆＆bvid=' + pi[i].bvid;\\n       }else{\\n           var rurl = pi[i].url;\\n    }\\n\\n      d.push({\\n        title:'No.'+num+'     '+pi[i].title,\\n        pic_url:pi[i].pic+Referer,\\n        desc:(!q.includes('name')?pi[i].new_ep.index_show:('up: '+pi[i].owner.name)),\\n        url:'hiker://page/detail?url='+rurl+'#immersiveTheme#',\\n        col_type:'pic_1_card'\\n      });\\n/*\\nd.push({\\n        title:'No.'+num+'\\\\n\\\\n‘‘<small>'+pi[i].title+'\\\\n'+(!q.includes('name')?pi[i].new_ep.index_show:('up: '+pi[i].owner.name))+'</small>',\\n        pic_url:pi[i].pic+Referer,\\n        desc:'0',\\n        url:'hiker://page/detail?url='+rurl+'#immersiveTheme#',\\n        col_type:'card_pic_1'\\n      });\\n*/\\n     }\\n   }else{\\n      d.push({\\n        title:'““节制一点，休息啦！””',\\n        col_type:'text_center_1'\\n      });\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"代码-up🐷\",\"path\":\"up\",\"rule\":\"const headColor=\\\"#358ccd\\\";\\nvar uid = fetch(\\\"hiker://files/bili/up_cache.txt\\\",{});\\nvar UP_URL = 'https://api.bilibili.com/x/space/arc/search?mid=uid&ps=30&tid=0&keyword=&jsonp=jsonp&pn='+pagenum+'&order=pubdate';\\nvar up_url = UP_URL.replace(\\\"uid\\\",uid);\\nvar xx=getVar('lb2').split('\\\\n');\\n//更新头像\\nfor (var k in xx){\\n  if (!xx[k].split('##')[1]){\\n      try{\\n       var pic = JSON.parse(fetch('https://api.bilibili.com/x/space/acc/info?mid='+xx[k].split('&&')[1]+'&jsonp=jsonp',{})).data.face;\\n       }catch(e){\\n       var pic = JSON.parse(fetch('https://api.vc.bilibili.com/dynamic_svr/v1/dynamic_svr/space_history?host_uid='+xx[k].split('&&')[1]+'&need_top=1',{})).data.cards[0].desc.user_profile.info.face;\\n       }\\n      var face = xx[k]+'##'+pic;\\n      var face = fetch(\\\"hiker://files/bili/up.txt\\\",{}).replace(xx[k],face);\\n      writeFile(\\\"hiker://files/bili/up.txt\\\",face);\\n  }\\n}\\n\\n\\n\\nif (MY_URL.split('#')[1]=='1'){\\n\\nd.push({\\n          title:'<strong>'+'‘‘UP’’'+'</strong>'+ (getVar('UP','折叠')=='展开'?'🙉':'🙈'),\\n          url:  \\\"hiker://empty@lazyRule=.js:putVar('UP', getVar('UP')=='展开'?'折叠':'展开');refreshPage();'toast://已'+getVar('UP','展开');\\\",\\n          col_type:'text_4'\\n          });\\n\\nd.push({\\n          title:(getVar('UP')=='置顶'?'<strong>'+'““置顶'+'</strong>':'<strong>'+'““取关””'+'</strong>'),\\n          url: \\\"hiker://empty@lazyRule=.js:putVar('UP', getVar('UP','展开')=='取关'?'置顶':'取关');refreshPage();'toast://'+getVar('UP','展开')+'ing~'\\\",\\n          col_type:'text_4'\\n          });\\n//自己的关注\\nvar starjson = JSON.parse(fetch('https://api.bilibili.com/x/space/acc/info?mid='+getVar('starid')+'&jsonp=jsonp',{}));\\nd.push({\\n        title:starjson.data.name,\\n        pic_url:starjson.data.face+Referer,\\n        url:\\\"hiker://empty@lazyRule=.js:putVar('UP', getVar('UP')=='关注'?'折叠':'关注');refreshPage();'toast://'+getVar('UP','专注')\\\",\\n        col_type:'icon_2_round'\\n});\\n//自己的关注\\n\\nif  (getVar('UP')=='关注'){\\n  var surl = 'https://space.bilibili.com/h5/follow?type=follow&mid='+getVar('starid');\\nvar id = surl.split('mid=')[1];\\nvar code = fetch(surl,{});\\nvar starlist = JSON.parse('{\\\"my'+code.split('{\\\"my')[1].split('}};')[0]+'}}');\\n\\nvar starls = starlist['list']['getFollowList-page-mid-'+id]['result'];\\nfor ( x in starls){\\n  var yurl = 'https://api.bilibili.com/x/space/arc/search？？mid='+starls[x].mid+'＆＆ps=30＆＆tid=0＆＆keyword=＆＆jsonp=jsonp＆＆pn=fypage＆＆order=pubdate';\\n    d.push({\\n       title:starls[x].uname,\\n       img:starls[x].face+Referer,\\n       url:'hiker://page/gz2?url='+yurl,\\n       col_type:'icon_round_4'\\n       });\\n}\\n}\\n//关注列表\\n\\n if  (getVar('UP')=='展开'){\\n  for (var k in xx){\\n    var st=uid==xx[k].split('&&')[1].split('##')[0]?'✓':'';\\n    var pic = xx[k].split('##')[1];\\n/*头像获取\\n    try{\\n     var pic = JSON.parse(fetch('https://api.bilibili.com/x/space/acc/info?mid='+xx[k].split('&&')[1]+'&jsonp=jsonp',{})).data.face;\\n    }catch(e){\\n       var pic = JSON.parse(fetch('https://api.vc.bilibili.com/dynamic_svr/v1/dynamic_svr/space_history?host_uid='+xx[k].split('&&')[1]+'&need_top=1',{})).data.cards[0].desc.user_profile.info.face;\\n    }\\n*/\\n   if (!pic){\\n     var pic = 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/13096725fe56ce9cf643a0e4cd0c159c.gif';\\n   }\\n    d.push({\\n     title:st+xx[k].split('&&')[0],\\n     url:\\n'hiker://empty#'+xx[k].split('&&')[1]+`@lazyRule=.js:input=input.split('#')[1];putVar2('uid',input);writeFile(\\\"hiker://files/bili/up_cache.txt\\\",input);putVar('UP','折叠');refreshPage(false);\\\"toast://切换成功\\\";`,\\n     pic_url:pic+Referer,\\n     col_type:'icon_round_4'\\n    });\\n  }\\n }\\n\\n//取关相关\\n\\n if  (getVar('UP')=='取关'){\\n  for(var k in xx){\\n    var st=uid==xx[k].split('&&')[1]?'✓':'';\\n    var pic = xx[k].split('##')[1];\\n/*头像获取\\n    try{\\n     var pic = JSON.parse(fetch('https://api.bilibili.com/x/space/acc/info?mid='+xx[k].split('&&')[1]+'&jsonp=jsonp',{})).data.face;\\n    }catch(e){\\n       var pic = JSON.parse(fetch('https://api.vc.bilibili.com/dynamic_svr/v1/dynamic_svr/space_history?host_uid='+xx[k].split('&&')[1]+'&need_top=1',{})).data.cards[0].desc.user_profile.info.face;\\n    }\\n*/\\n   if (!pic){\\n     var pic = 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/13096725fe56ce9cf643a0e4cd0c159c.gif';\\n   }\\n    d.push({\\n     title:'❌'+st+xx[k].split('&&')[0],\\n     url:xx[k]+ `@lazyRule=.js:var sc=input+'\\\\\\\\n';var xr=getVar('lb2')+'\\\\\\\\n';var xz=xr.replace(sc,'');writeFile(\\\"hiker://files/rules/js/up.js\\\",xz);refreshPage(false);'toast://取关成功！铁子再见🦆'`,\\n     pic_url:pic+Referer,\\n     col_type:'icon_round_4'\\n    });\\n  }\\n }\\n\\n//置顶相关\\n\\n if  (getVar('UP')=='置顶'){\\n  for (var k in xx){\\n    var st=uid==xx[k].split('&&')[1]?'✓':'';\\n    var pic = xx[k].split('##')[1];\\n/*头像获取\\n    try{\\n     var pic = JSON.parse(fetch('https://api.bilibili.com/x/space/acc/info?mid='+xx[k].split('&&')[1]+'&jsonp=jsonp',{})).data.face;\\n    }catch(e){\\n       var pic = JSON.parse(fetch('https://api.vc.bilibili.com/dynamic_svr/v1/dynamic_svr/space_history?host_uid='+xx[k].split('&&')[1]+'&need_top=1',{})).data.cards[0].desc.user_profile.info.face;\\n    }\\n*/\\n   if (!pic){\\n     var pic = 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/13096725fe56ce9cf643a0e4cd0c159c.gif';\\n   }\\n    d.push({\\n     title:'🔝'+st+xx[k].split('&&')[0],\\n     url:xx[k]+ `@lazyRule=.js:var sc=input+'\\\\\\\\n';var xr=getVar('lb2')+'\\\\\\\\n';var xz=xr.replace(sc,'');writeFile(\\\"hiker://files/rules/js/up.js\\\",sc+xz);refreshPage(false);'toast://置顶成功🔝'`,\\n     pic_url:pic+Referer,\\n     col_type:'icon_round_4'\\n    });\\n  }\\n }\\n\\n\\n}\\n//d.push({title:xx});\\n\\nvar json = {};\\neval('json=' + fetch(up_url,{}));\\nfor (var i = 0; i < json.data.list.vlist.length; i++)\\n{\\n var r = {};\\n var j = json.data.list.vlist[i];\\n var t = Number(j.created)*1000;\\n \\n //时间戳转换方法\\n/*\\nfunction getLocalTime(nS) { \\n     var sss = new Date(parseInt(nS)).toLocaleString().substr(0,17);\\n     var YMD = sss.split('日')[0].replace('年','-').replace('月','-');\\n     return (YMD)\\n}\\n*/\\nfunction getLocalTime(nS) { \\nvar date = new Date(nS);\\nvar YY = date.getFullYear()+'-'; \\nvar MM = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1)+'-'; \\nvar DD = (date.getDate() < 10 ? '0' + (date.getDate()) : date.getDate()); \\nvar time = YY + MM + DD;\\nreturn time\\n}\\n//时间戳转换\\nvar time = getLocalTime(t);\\n\\nif (j.play>10000)\\n    var play = (j.play/10000).toFixed(1)+'万';\\nelse\\n    var play = j.play;\\n\\nvar pics = (j.pic.indexOf(':')!=-1)?j.pic:'https:' + j.pic;\\n\\n r.pic_url = pics+Referer;\\nr.url='hiker://page/detail?url=https://api.bilibili.com/x/web-interface/view/detail？？aid=＆＆bvid=' + j.bvid +'#immersiveTheme#';\\n r.title = j.title;\\n r.col_type = 'movie_1_vertical_pic';\\n r.desc = '时长：' + j.length + '  播放量：' + play + '  日期：' + time;\\n if (j.length!=\\\"00:00\\\"){d.push(r)};\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"代码-时光🐔\",\"path\":\"sgj\",\"rule\":\"//分类\\nif (MY_URL.split('#')[1]=='1'){\\nfor (var i in word2){\\n    var a = word2[i];\\n    var b = class2[i];\\n    var c = a + '&' + b;\\n    d.push({\\n    title: a==lab2? getHead(a):a,\\n    url: $(\\\"#noLoading#\\\").lazyRule((c)=>{\\n        putVar(\\\"lab2\\\",c.split('&')[0]);\\n        putVar(\\\"key2\\\",c.split('&')[1]);\\n        refreshPage(false);\\n        return \\\"hiker://empty\\\"\\n    }, c),\\n    col_type:'flex_button'\\n    });\\n}\\n}\\n//分类\\n\\nvar m = Number(fetch(\\\"hiker://files/bili/mouths.txt\\\",{}));\\nvar t = m<0?0:m;\\nvar num1 = Number(t)-12;\\nvar num2 = Number(t)+12;\\nvar num3 = Number(t)-1;\\nvar num4 = Number(t)+1;\\n//var timestamp = Date.parse(new Date());\\nvar timestamp = new Date().getTime();\\nvar stamp1 = timestamp - t*30*24*60*60*1000;\\nvar stamp2 = timestamp - (t+1)*30*24*60*60*1000;\\n/*\\nfunction getLocalTime(nS) { \\n     var sss = new Date(parseInt(nS)).toLocaleString().substr(0,17);\\n     var mm = sss.split('年')[1].split('月')[0];\\n     var dd = sss.split('月')[1].split('日')[0];\\n     var YY = sss.split('年')[0];\\n     var MM = (mm< 10 ? '0' + mm:mm);\\n     var DD = (dd< 10 ? '0' + dd:dd);\\n     return (YY+MM+DD)\\n}\\n*/\\nfunction getLocalTime(nS) { \\nvar date = new Date(nS);\\nvar YY = String(date.getFullYear()); \\nvar MM = String((date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1)); \\nvar DD = String((date.getDate() < 10 ? '0' + (date.getDate()) : date.getDate())); \\nvar time = YY + MM + DD;\\nreturn time\\n}\\n//时间戳转换\\nvar time1 = getLocalTime(stamp1);\\nvar time2 = getLocalTime(stamp2);\\nvar SGJ_URL = 'https://s.search.bilibili.com/cate/search?main_ver=v3&search_type=video&view_type=hot_rank&order=click&copy_right=-1&cate_id=22&page='+pagenum+'&pagesize=10&time_from=time2&time_to=time1';\\nvar URL = SGJ_URL.replace('time1',time1).replace('time2',time2).replace('22',getVar('key2')!=''?getVar('key2'):'22');\\nvar json = JSON.parse(request(URL,{}));\\n\\nif (MY_URL.split('#')[1]=='1'){\\nd.push({\\n          title:'+1年',\\n          url:\\nnum1+`@lazyRule=.js:writeFile('hiker://files/bili/mouths.txt',input);refreshPage();'toast://切换成功 '`,\\n          col_type:'text_4'\\n       });\\nd.push({\\n          title:'-1年',\\n          url:\\nnum2+`@lazyRule=.js:writeFile('hiker://files/bili/mouths.txt',input);refreshPage();'toast://切换成功 '`,\\n          col_type:'text_4'\\n       });\\nd.push({\\n          title:'+1月',\\n          url:\\nnum3+`@lazyRule=.js:writeFile('hiker://files/bili/mouths.txt',input);refreshPage();'toast://切换成功 '`,\\n          col_type:'text_4'\\n       });\\nd.push({\\n          title:'-1月',\\n          url:\\nnum4+`@lazyRule=.js:writeFile('hiker://files/bili/mouths.txt',input);refreshPage();'toast://切换成功 '`,\\n          col_type:'text_4'\\n       });\\nd.push({\\n          title:getHead(('当前时间线: '+time2+'~'+time1)),\\n          \\n          col_type:'text_center_1'\\n       });\\n/*\\nd.push({\\n          title: getLocalTime(timestamp). split('日')[0],\\n          \\n          col_type:'text_center_1'\\n       });\\n*/\\n}\\n/*\\nd.push({\\n          title: getLocalTime(sss),\\n          \\n          col_type:'text_center_1'\\n       });\\n*/\\nfor (var i in json.result)\\n{\\n var r = {};\\n var j = json.result[i];\\n if (j.play>10000)\\n    var play = (j.play/10000).toFixed(1)+'万';\\n else\\n    var play = j.play;\\n d.push({\\n          title:j.title,\\n          img:'https:'+j.pic+Referer,\\n          desc:'up🐷:'+j.author+'\\\\n播放量: '+play+'        发布日期: '+j.pubdate/*+'\\\\n描述:'+j.description*/,\\n          url:\\n'hiker://page/detail?url=https://api.bilibili.com/x/web-interface/view/detail？？aid=＆＆bvid=' + j.bvid+'#immersiveTheme#',\\n          col_type:'pic_1_card'\\n       });\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"页面-二级\",\"path\":\"detail\",\"rule\":\"js:\\nvar res = {};\\nvar d = [];\\n//颜色\\nvar Colors = [\\\"4\\\", \\\"5\\\", \\\"0\\\", \\\"1\\\", \\\"A\\\", \\\"3\\\", \\\"8\\\", \\\"9\\\", \\\"B\\\", \\\"C\\\", \\\"D\\\", \\\"E\\\", \\\"6\\\", \\\"7\\\", \\\"F\\\"];\\nvar Color = '#';\\nif (getVar('YS') == '随机') {\\n    for (var i = 0; i < 6; i++) {\\n        var num = Math.ceil((Math.random() * 15)) - 1;\\n        var Color = Color + Colors[num];\\n    }\\n} else {\\n    var Color = \\\"#FA7298\\\";\\n}\\n\\nfunction getHead(title) {\\n    return '‘‘’’<strong><font color=\\\"' + Color + '\\\">' + title + '</front></strong>';\\n}\\n\\nd.push({\\n    desc: '258&&float',\\n    col_type: 'x5_webview_single'\\n});\\nvar bangumi = getResCode();\\nif (MY_URL.indexOf('api.bili') == -1) {\\n    var a = fetch(MY_URL, {});\\n    var b = JSON.parse(a.split('\\\"epList\\\":')[1].split('}]')[0] + '}]');\\n    var rurl = 'https://api.bilibili.com/x/web-interface/view/detail?aid=&bvid=' + b[0].bvid;\\n    var bangumi = fetch(rurl, {});\\n}\\nvar json = JSON.parse(bangumi);\\nvar v = json.data.View;\\nvar p = v.pages;\\nvar card = json.data.Card.card;\\nvar related = json.data.Related;\\nvar tags = fetch(\\\"hiker://files/cache/bilibili2.txt\\\", {});\\nvar setting1 = `@lazyRule=.js:writeFile('hiker://files/cache/bilibili2.txt',input);refreshPage();'toast://正常页面切换成功👌可能并没有什么变化'`;\\nvar setting2 = `@lazyRule=.js:writeFile('hiker://files/cache/bilibili2.txt',input);refreshPage();'toast://隐藏页面切换成功👌可能并没有什么变化'`;\\nvar ts = new Date().getTime();\\nvar like_url = 'https://app.bilibili.com/x/v2/view/like';\\nvar coin_url = 'https://app.bilibili.com/x/v2/view/coin/add';\\nvar content_type = 'application/x-www-form-urlencoded; charset=utf-8';\\nvar c_body_txt = 'access_key=' + getVar('access_key') + '&aid=' + getVar('aid') + '&appkey=1d8b6e7d45233436&avtype=1&build=6130400&c_locale=zh_CN&channel=master&from=7&from_spmid=tm.recommend.0.0&mobi_app=android&multiply=1&platform=android&s_locale=zh_CN&select_like=1&spmid=main.ugc-video-detail.0.0&statistics=%7B%22appId%22%3A1%2C%22platform%22%3A3%2C%22version%22%3A%226.13.0%22%2C%22abtest%22%3A%22%22%7D&ts=' + ts +'&upid=0&sign=8abbddd87a6bd82e1e42cb3cffd32bb9';\\nvar l_body_txt = 'access_key=' + getVar('access_key') + '&aid=' + getVar('aid') + '&appkey=1d8b6e7d45233436&build=6130400&c_locale=zh_CN&channel=master&like=0&mobi_app=android&platform=android&s_locale=zh_CN&statistics=%7B%22appId%22%3A1%2C%22platform%22%3A3%2C%22version%22%3A%226.13.0%22%2C%22abtest%22%3A%22%22%7D&ts=' + ts +'&sign=4a08645c2994eb692ac0cfb0bd7569c6';\\n\\nif (v['redirect_url']) {\\n    var redirect = v['redirect_url'];\\n    var ym = fetch(redirect, {});\\n\\n}\\n\\nevalPrivateJS(\\\"XUiFT1vXYWrUw+Vhpnqlg0N0vAWgpglh8MhZ+9vPD99NJ5VgeFdHmwaKawIy6C0h6FFQhEQ5RhJmV0EQHnL9xybPHAchAL7hZEZd+hbGHV5jeG+nK5Q3ie78puGDb1TJ4fAI7g6ezLIjQMBxN/2XM92YNNPKDHdhLIMQGV69Mq8cTOWjKpZQp0/vgNuxaPQKEzSdHQJue7tTxdSEvDt3s/txdEh/oGzFCCNWeZCUU53zhEhC06q6ZFjZCM+d8FsZ5cXlNJemtegMgJULdTqaVdRwVhVX+1uBQ9Ny0DpsNGx2LwHgOjls9hw14LhEqthEe73yPBGvSgKEBdSYgG7cK7hYVTENeGTiRAzKPQ7jGEqEJ8aadHOHAeSa25aBbzc81hhxgXtialX8Uqepn7k4g2GksqoG3JVI+qTfWZxPWqNM/0jUXbrUTCRZnrzGVow6NwPQXKq3CDKl9i+aZveWz5If5ENEZGiWlW5z4aJSEcexCDsiZlo1/QJIj2rWonE0u54ah2/ZZ//ZGoMBJ+d19GmepkLBD3n2qogKnjZj2rjWqgPadEee1ZIhZ3SGbmTlJf1A4BYIuuPwv4dGZdRoDW64BhC5juCn6wDm7Ymy7BXf1sQaFimEnrSIiHGhM+WKg3IyWecuh/Gk++MmN6AxxcvNAyp8bC4hzBMvZJ/l5tRyapomdCV5BpiXfjkWRnbopIjI+WKB3fCaYyRdeNLERKnElscDiz7UenLprhYc/a4LsGeMMFVZ8Yo8/wGYH38J\\\")\\n\\nvar purl = 'https://www.bilibili.com/video/' + v.bvid;\\nvar mode = fetch(\\\"hiker://files/cache/bilibili.txt\\\", {});\\nvar mode_url = `@lazyRule=.js:writeFile('hiker://files/cache/bilibili.txt',input);refreshPage();'toast://切换成功, 点个视频试试吧(^_^) '`;\\nvar zl = \\\"hiker://empty@lazyRule=.js:putVar('page', getVar('page')=='直链'?'关闭':'直链');refreshPage();if(getVar('page')=='直链'){'toast://点击下方切换清晰度🤟'}else{'toast://已关闭'}\\\";\\nif (mode == 'yhc') {\\n    var lazy = yhc\\n}\\nd.push({\\n    title: v.title,\\n    desc: '描述: ' + v.desc + '　类型: ' + v.tname,\\n    url: tags == 'up' ? 'fan' + setting2 : 'up' + setting1,\\n    img: v.pic,\\n    col_type: 'movie_1_vertical_pic_blur'\\n});\\nd.push({\\n    title: '  ' + card.name,\\n    pic_url: card.face,\\n    url: 'hiker://page/gz1?url=https://space.bilibili.com/h5/follow？？type=follow＆＆mid=' + card.mid,\\n    col_type: 'icon_2_round'\\n});\\nd.push({\\n    title: '““⭐️Star””',\\n    url: 'hiker://empty#' + card.name + '&&' + card.mid + `@lazyRule=.js:input=input.split('#')[1];var pic = JSON.parse(fetch('https://api.bilibili.com/x/space/acc/info?mid='+input.split(\\\"&&\\\")[1]+'&jsonp=jsonp',{})).data.face;if(!getVar('lb2').includes(input.split('&&')[1].split('##')[0])){var xr=getVar('lb2')+'\\\\\\\\n'+input+'##'+pic;writeFile(\\\"hiker://files/rules/js/up.js\\\",xr);'toast://关注成功'}else{'toast://年轻人，耗子尾汁'}`,\\n    col_type: 'text_2'\\n});\\n\\nfunction request_bili_api(baseUrl, SecretId, SecretKey) {\\n    if (!SecretId || !SecretKey) return request(baseUrl)\\n    eval(getCryptoJS())\\n    let nowDate = new Date();\\n    let dateTime = nowDate.toUTCString();\\n    let source = 'bili-api';\\n    let auth = \\\"hmac id=\\\\\\\"\\\" + SecretId + \\\"\\\\\\\", algorithm=\\\\\\\"hmac-sha1\\\\\\\", headers=\\\\\\\"x-date source\\\\\\\", signature=\\\\\\\"\\\";\\n    let signStr = \\\"x-date: \\\" + dateTime + \\\"\\\\n\\\" + \\\"source: \\\" + source;\\n    let sign = CryptoJS.HmacSHA1(signStr, SecretKey)\\n    sign = CryptoJS.enc.Base64.stringify(sign)\\n    sign = auth + sign + \\\"\\\\\\\"\\\"\\n    return request(baseUrl, {\\n        headers: {\\n            \\\"Source\\\": source,\\n            \\\"X-Date\\\": dateTime,\\n            \\\"Authorization\\\": sign\\n        }\\n    })\\n}\\n\\nevalPrivateJS(\\\"L7AvJ41C++kllBMPG9JRTUzQvEjJXwRrfRiJmEBufUTpLphwhl6m4qEfJGNFcTqvDNoTZi+XWz8Hxu7U2U57ssAoBMfo/eA68zuVDkX8/MVoplTzOqjUO6V5pELXYiFWXRxF2vo3V6q2DCNsXRQ0yz4vh1TqyLGmQaKZRFXpy5AQdKRPk/6Up9vs99bval4eTIYJqYYfYs+rPmxaH8mi324A8FZ7P6FJwe+QoA27YV+W093dHIU/8GhoU/W6kq0L+giDKA4XO3ACCEq9kiqWN/DD5YiuOIWBw1gozUgNKwWQTdFgLsMZNk/j3WA7hKoFg8SGDEztbBDhfgWwAbpQiVq/Kse1SehoCS7ym2M1EahJtxSbmLO4EgwwbM/gsNxClHrd7sp31W+4+mBN6wnpYKoraVlkST5iTSuLa273cM9NnmNffR29QGg+7xOW7nq8y0Jn5/bPL0BSZ5AtRqLrvrs6NX9QaXTiyYCQRU/GRkpso4d6HMvKMLWahxjOnFCRmuMB+kG5AX4RvcrqVxzNeAJuKC5nlEfXjDRXoE5lM8UKbKSuNdRjHTPDpiG08Vnrj4Mfq1aWoDsndPYUiIJ5OSp2ZZLO8+KYIVeGWyIVQa+dikrES7+anEUbOsLCxffdAeTKrcTW58U6ilaKpIGZmAJJI96qK9ZRsMyMuYZnQE5GpKex+2t4w9Y5qFdwiD1dL5aFoj6aefcZGGVw/Y9gU+YvlphbIRP6SEIslV9aH/qNLPrk60VfvLOlM55MvlMZtyNDJBfCVZYvSrAHYHx91V92hmOY+0QeVEUeALl+HAUJNu3WkcmF3OLXYoNMHwzW\\\")\\n\\n//自定义api项\\nvar mApi = {\\n    author: '',\\n    type:'',\\n    id:'',\\n    baseUrl: '',\\n    secretId: '',\\n    secretKey: ''\\n}\\nif (mApi.baseUrl && mApi.secretId && mApi.secretKey) {\\n    putVar('api', JSON.stringify(mApi))\\n}\\n\\nvar apiIndexStr = getVar('apiIndex', '')\\nvar apiIndex = parseInt(apiIndexStr)\\n\\n\\ntry {\\n    for (var i = 0; i < p.length; i++) {\\n        var part = v.videos != 1 ? p[i].part : '当前视频无选集，点击此处播放';\\n        putVar('UA', ';{User-Agent@Mozilla/5.0 (Windows NT 10.0\\\\\\\\；\\\\\\\\； WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.87 Safari/537.36＆＆＆＆Referer@https://www.bilibili.com/video}');\\n        evalPrivateJS(\\\"ifnzqaNqNRkN6NqG0fZx5Mey477OsMJOTbTd9SajMkf5R5O396J22FxkbQbkXXCpggfuad5o+3p97LHWbIptow4o+MRQtaP0/8wiyJCrZCaZYW64wU1B60xRBQtbdJCEgRuHhoZsbGAZBA43/TXxGwIkCckbV6nzHhm93Dk5DiC5I5Hn+CfiBME4yQo39OUJy3pGAWljD1snpzGhBj1b3HrTvykjFaSPgnS/MUdJMf0QZISNGU8z5ovanPsH+F5WsQgHgIqxW9evV3+tgyfLUdFR0N4DltLYrw7vCPgzPQX/vwBMPy6YcVtSVKjb6QzFauTN+J2IRYrpay15akAkofa+Yx/fNTef4+6ZaVzmXeZaEaj0bQ/HPZibxTz3S+DmUVdgYu0HXMy0CFCXSt3+eOUN9c+EmVALrNN8OqWrPekrvF1qN1UKv6kBcBEP/Swkufs3vM07fWv/RNJYB7hEhsoIxyvHQOiPYCTD+eUs+fh+U9bRRAUzRSlXCzhWXjDfCJjY/9B2l4Rph/nwopEMqii5pJCJUPTc/H4Ufw9FOLZmxMHbEiWffp0rgbpHoKnRnzwYfg/RK7n9zLAdGAK/8uGa0slZ5IT1XUeqrPsCqt3MH5G2myxBDlqD0YQUb6NWhI7pjjpin6bW2thwzH4NT/Tp4CWpHlVycBVWsSghGySBEQRpBQKLOTv1EvOxgFxh9GYcu9T6WPufbEnDg/LK9rgr2pwoI3YIj0p2BbBmX7vMhPxKKLpxZi43JwVf9Hxn31NaYQi/0S1zTCg9S26tUgAq48ri+Ei3MHUkI6WsMbA73LnfgBj77DAlQl5QOkUv/pHhyYliiQ2XYaYxSH+hG4+tA+K6uP0hDKeQLk/f9t7i+6YO0U+8Gi/XwHAst6CL7I/KiBfFPnNYLxZBx9E0sQerI+8YKF2JfTotvHfc9iSf3LeAcUzWy/GsYr20qzE1+2hqUnxQbqiEjlaMqer//Qo58Ow+FmpQp1wu+7hgfr6RkK4YwxkeweXhORfCBNqIBJztwZ1fB0mbpRN3cknzDicramm3jWkDiYzf/JM3hYs3cryldGyXqr28J6u8xLaSDXF/yUQwbSFWJMst4+ijS3H7DU5wYjgkhEzhBVKx724LUmkpUTaRTj00JgCMslHDyyvLSNZWc/sIn/vWSAHU9q2CYR7C9CIkGuI0kOKH0nwKKi1xWf9Zw1ivgLxkUlOEIFNpQ8Xd4RvijjGLrxQR2zmsrqLjThjpnR9ryl2quTm+HmuiejsGMWGIXKkypdLYPnvcHfH2clWgU71VJxWrz6Kk7LjIGz6mFoj45ZZ7F/j1tjXMh8lrYBlKdXjzlDcs2hs9J9uAcxKWjRXmy8uKC4Zu7MfVK0kcDfvtAfcknenRgwhZFKpSHy6H8fIl0WnHPbUSN5/Q1Iik8kaaC0MSbR8KV46vhEevQdPoexX7CjpSjZkFAKSF/2kuDXyGszLz2hNOkG0i1Bmkxhjc63/AQlyKizk30MJBfNPVE6y9qDEsdXmLMsouH8p70HyH/KoelyAki+UfdlKQNj17HoYGSinQkbb2iFWG9NDOWwrj8ZQuXTiNKTXJOrH8lT1+164EGjXe5+fzfUmAM0CLRMTR/Nq5zNVge9PF/VPNfU0dNVcoLmYP6DTU5Ozg0bsox1a8SgndxFR9bSNRzZnzPGJo6HKGcfbVaSUFQCTd6UbzTdcpLDTQquZwPFbddSoYjdsFuknPCE2Up6rk/e1dh9Kr8maE8FY8COnBu7B1WdPdyuWez7xPtshzAIwRekIOmG0omSlbxuXw0b9WtPAXRMTePgabDu8Brz0/4s0eoBCR6cvXiwKAX8DFI9vz4fnurNLd7hZIkCvAnT3Rw/tStsS+8rFUmG03iaQmJn3yXaiZw1MSHkRVqWtDZ8zSAkrqoYA7Q3uyXdJM6MqCXEbCfgXlgP4CA8gLr8tvwh4nXFmYSaaGlEMYChhVsP0TonsgyGc6ZHrF+kH2lDGSqxMNeB+QTNsNHgrERrhx66xOylsIZEwLCevnfmQp/CLz4McCt0FWzhnJQ2NAh811mOwb42i3XOjntktHT2tQMQQKBgdTnYjGYKw0B4141ueBNawGaZ3lLaXWT7YuGQaFKpXdzkmi5sOdjVRySkjVpA9YdEanSQ5684SjLZ3ButWNkxIp3eQy43k+xokhPvwjTVYpGkbbBGoCM8zIBDxeq22L9AkcNYXuzJay/Ng3TuXWWKAv0+8zKdCRtvaIVYb00M5bCuPxlCDIgVCjVCHXibqsuP7jKyRz3tr9nCZIX++YCAa+ZdXK0P2eg1tlJzeWg20zUgEjOknsIFkk2uBfL2UEjNxdllDOIS74Gr4BHbqTFOvFBa1jZlPbrfxuNY1q/JzSdcVG921e47Oz8rFDPuVE7Nfta2mDfQl7M0JTN7TieBYjdaAXPS9DOYOPsOVWUlO1Qxcetv5gwgI0gIVhpaXTI6AyC2nY4vLhfhUZWrbke6saGv+N+QcrAS/XqzNVO18ntbfMuelFiSnTFSirYBNyNbJ2ytOk5HqMHxvO7cDzMQ7E2zeJHj8RyvSBmvTq0jBdLBiIAh7eJ+x2JoEW/3CbrTbfOyZz+HFPsO7hsyTzKarDpDvwd6GlOKgX2SVl3STD4aLuXd0vNwVZqH6EiRrl8ahSzLwADcYMIUBDRweGY3lntmvCX21wKVtdeBGToTKRzDOARNfpGNbFBK0rwqPwK3uY4tiXzhmmyJlD6K2oWU4g9XYW82ABlk52MlOeQYd1hWHrawpGpbHCEc4iqs8N2Sdaa5B9qN4TYB3XNNti+rNItGg9Opasu5offCFFIbNZmjTc9ElK4MwnOW99CGm402Ma4/ek0lUHPkrM8UW6NCADIovC0kmrVUoxnS0HQxsfgWQIlkNPD9FUfO4iJf2f3iTgzt9hE2OgT2CjKwKp8HCjuhca5Fcs1SlDlhSAKeHMH9w2Uf/n5uQ6nB0WUWCNsRv9DN0MWfCxV7FNxUla2wcPIbUtYRNjoE9goysCqfBwo7oXGgCZFlqm78vtqCbeK28iXzjFct+48t0kc6bEiqP28KnYF8nAVnFQI2OIeQvKbIHAs/TXls263QlajdHUpMKZNk/ABKG/+qkW2dWQE9WmPCePOvdVmAaPMx2y7Ln3j27UVRPlIpniO6r6WP2dT4amfpa4DT9w8DktH0j39Za5KbBjqYT308EaX27xRu/q/NXcXhkXP9IDZyRSCcuZkxf6TZ4QKpHn5vzjouIacSPMTtaStpyFDvNGHT+xV6EYuBq5r/gCd6OhSbLDKqHzvcBCDBLM2OP4/ER2shv7GrL2IbswKXQY5SUIE1x9neH2r5Gx41P0bfOVpmlLtBNMREPlM4jT0OJjMuhD/OuG2h49QxeJqUKqCqrW8rAWbKIqF7DHxD1lz0zNm4jEfsS6/YLSlTp4r3c+FedDvaRiGSiLnGE87q5bEdwK7YbnVBYMX6bdCIsK8Q07QJkOycUMfmdCkqVe97RaCnlacHQag024eFnWHGFO/rx/tUvUZic2wBq6/x6j8AJ8D2lngn8X7aaAr9QVsnTJWYVks0ht34SYOMek/inCmMtDskSrO7+WTEfCuCKkip7VGz52JMq2vzzmmyKyo2qa8RhUccyXhym8WGx6ou++SiJqu6fMzswMG4TtX/jLRfX24T8aoYpZ3o93i9SxkQo0t3OQ20NH+4loBrWykwASGFqWOX/555HnoKjGuhc+6bMVFg/jS3pDJsXn+fMu7eidJavyZ6UZjh0A8KL5r7jzAXnWe6Ei5/4P6VpOUHYXKA5srEczFpHUP9RdV3IuiK76GPq6pj5M5LjKdwN5KBNXul0agOe2pIIScmsHKPMrb1M42sDloRQhnepNio8ARv0YD2Q9GJPOcBHU6ETHWYz2Iiyn9PijZR7YSp2p7yiQBNGqjWYGWu6LMlQIdYRCJ9pTRzxuU8rnzxxk8PQCD5pDMREC4ZdMoSXcmcVcHyMCmAUGmiTR+OrACrLpgydvtL+kMHUtZHvH4MaR7IxviHFAEQczvqJ6LUksi1EdOLMI/RsPcN+P5ExMr2xk176Psd/udjuh5SSYshfdCqfko9Nxazi7yYI5olGEE4KiXUqUkFd3qwkvHIVUIaP075QT2yXwVpsLTHaDxz6Fe3o0h4LkliO8gGWa/iqkD/Dnm8sry0jWVnP7CJ/71kgB1PZXwpga01rDfYaVTMVyxGSIyyvLSNZWc/sIn/vWSAHU9jSIjIhRkgpxT/KMv6iH8llWHJ1tj8/RTCF0Cl2f6WwTbFJYcMaFlnmMis2ALVONPs6UMvsO/POw5Ccr79sJzieWLMVaOVG4/e1VPTSAzY9H87OCJXex+iAOoW+KAnriBzAVBdFwyUqIenLJVsRH7Vv3NV73Mqrqn/pkzAXtkiUAXwpKmVzdbeNLlebokDkomssry0jWVnP7CJ/71kgB1PY3mTRmStSkHbxA/Ftcfhb334Boz1YuX4+ZnpBlRSwyTTE1uGLYfepZa0J9pTc8Y/GbE6zXua+fd3OYkk4CpY5hINVANGbGMD1YQlpco/r3A6v8H7sdO5K7SjZ8IT5JSLVspBFU3yyqjPcdVG9dyD/LpGxbW27QBo/8u2Vhpkm9LcMw3h8hip6CzB6TlpwT1T67XHkGz8Ua1C+SL/EEzeq9K98VTSW4FPyecFY7IUc40AXPmpqKIqta7ScjAYvD8hZH3d3U1U53/SocJHKDj4Zv1jbnFTsjodjV0fHeYOdt50PFWcOxXYaz8jggdl04BEFFUk0Spfv2zrdN255KFr1m4gUxy3Ki7yFAPhdKryCJ/hjTRJQcTDna6yPSfseCDtoRkmGv0yNdE0bi9c4pWPQgrVi0QjdzH25X0NnJAkl5YUikPllFZXhn2dQzLmMjKP2RK6LKRA5ApHgOXZWnGt0AmcfUyutw0GYRG9ewoKAYQ38JtKvRsdVIi6Fc4Myje2BbwuLot+l6YxxP2FekUkki98gbQq0ClpvbhZ2n5vc5qIZ1fvbSNteNHi2NsDW+hUXE8OYh3Ax9wAK6BhM0Dinxo6OVoz8alxq44ttqkiAR7G8HXzmuMNjLs+a9+QI9qe6DSbABQj7UFEhPcV1e/gPT/wR/s5oySSLv330tjrzwo7plLounc/sa7UeAxBerQUqy2Al41DawFLeK+ma+aOMbOeZ8dIBbGZjWRJ6jXZIeM5dkWoaY5cRRcCp09qFmmhl/cWsQV2/Kfq/Da2u38SfXrI1VK2eg7C2Ovk5SScslsRNQ0QgotC+4MCUREM89Re7IB9/iwWv+79qI3S/HnKfxruFvOWN4/wWHR69ocahGxO/1t9uZQsKL8Nh4mF+LAFYjhZ+R4IpBVteXy6fGlW8aQQ1szm/S9iIk+jYckkSnoViYZtm2vGsZVCIOcl0vrLHmZMVyi/GJ8T9l/iSQq+9NADmWSwRsW9jrKR2uywGs9BhFesbV4XJXEvxMMKjHpwhtZDQAFKKLfjU4lLuP1kG1Gz3fQgVG0CKgQrGxwyg9JNFx8lK0pdEOO+DaXzTrHoXxM0bIsfcLYCwK5llICKAk8ZMT6MtaHMv0y7evMjBZ/1YlvQ9ekL0f6+7hW7bGThEOy7x9Iyybbo9xU8kGQ0IwSysbH799eyfKnlZZXdU/nx4Wn1a1CPygK14KtiXTdFDQ2LgCOn2qoPZf7NtIFxdL6yaep+Cqq2uENopg0DzxTzHbqX6DmcP7PyejHNOVUg3wDF2Rwd3IkyYCqgZnN6ErW1V26oilFYyXFZ+v7EHE8B6MhLnxtLGkRZZ0+FFI6Kn+Xoe7LL+2ZaDo4/yynkVR7BFuSqhtKLvzjdbyYoTowim85c6Rq/RCXtwg9Rg4qSERGjjZyFcJQ/Q6aJbv0LpEyRn3qpp75uT3zcbTSRRTVjzvcuXIErgr1D/PugFmhOWe/2pB15jU40ie+3c89oyiaeIO/5skdwQPzg6/YHNV/1sVVgOKaW4I7QAkaSOtdVPm6H6wvlyXECANvhCMGelFAe1jWvdBMunVR8N2RFSAO8MkIJ6o8LvUozKDkMQBt5p/cWsQV2/Kfq/Da2u38SfXD52gKD6H8XVKFfmDHaoShMsry0jWVnP7CJ/71kgB1Pamb0qabT83D6qn/a3GlHyGxamZgRHaK16vmZEzanuTDOzG1aUpvECtRB8EMgapaQXLK8tI1lZz+wif+9ZIAdT26vFpga0ZRLWRP3jH0tyrNYA75eCTf9dIqjYGcAA1rsU0zeepdMZ8MJXd5+xbAaXA/uJfsGjPI7psQc8Jn+fm3MLk+NCEF8LsQ0OtglIXL+63FRvyG7nMcevH4i/XT0B1BXNPL6r8i6bnbe+QJKYMA93PdbBcDsGTVaLiJlYdEOTfjYbpLURCdlx9K/puEXW+\\\")\\n        \\n        if (v['redirect_url']) {\\n            \\n            var ep = JSON.parse(ym.split('\\\"epList\\\":')[1].split('}]')[0] + '}]');\\n            putVar('aid',String(ep[0].aid));\\n            d.push({\\n                title: mode == '直链' ? getHead('直链') : '直链',\\n                url: '直链' + mode_url,\\n                col_type: 'text_2'\\n            });\\n            d.push({\\n                title: '网页',\\n                url: purl,\\n                col_type: 'text_2'\\n            });\\n            if (getVar('like_type')==='开启'){\\n            d.push({\\n                title: '点赞',\\n                url: $(like_url).lazyRule(() => {\\n                    var ts = new Date().getTime();\\n                    var content_type = 'application/x-www-form-urlencoded; charset=utf-8';\\n                    var l_body_txt = 'access_key=' + getVar('access_key') + '&aid=' + getVar('aid') + '&appkey=1d8b6e7d45233436&build=6130400&c_locale=zh_CN&channel=master&like=0&mobi_app=android&platform=android&s_locale=zh_CN&statistics=%7B%22appId%22%3A1%2C%22platform%22%3A3%2C%22version%22%3A%226.13.0%22%2C%22abtest%22%3A%22%22%7D&ts=' + ts +'&sign=4a08645c2994eb692ac0cfb0bd7569c6';\\n                    var l_code = JSON.parse(request(input,{\\n                        headers:{'Content-Type':content_type},\\n                        body:l_body_txt,\\n                        method:'POST'\\n                    }));\\n                    log(l_code);\\n                    return 'toast://'+l_code.data.toast;\\n                }, ),\\n                col_type: 'text_2'\\n            });\\n            d.push({\\n                title: '投币',\\n                url: $(coin_url).lazyRule(() => {\\n                    var ts = new Date().getTime();\\n                    var content_type = 'application/x-www-form-urlencoded; charset=utf-8';\\n                    var c_body_txt = 'access_key=' + getVar('access_key') + '&aid=' + getVar('aid') + '&appkey=1d8b6e7d45233436&avtype=1&build=6130400&c_locale=zh_CN&channel=master&from=7&from_spmid=tm.recommend.0.0&mobi_app=android&multiply=1&platform=android&s_locale=zh_CN&select_like=1&spmid=main.ugc-video-detail.0.0&statistics=%7B%22appId%22%3A1%2C%22platform%22%3A3%2C%22version%22%3A%226.13.0%22%2C%22abtest%22%3A%22%22%7D&ts=' + ts +'&upid=0&sign=8abbddd87a6bd82e1e42cb3cffd32bb9';\\n                    var c_code = JSON.parse(request(input,{\\n                        headers:{'Content-Type':content_type},\\n                        body:c_body_txt,\\n                        method:'POST'\\n                    }));\\n                    log(c_code);\\n                    return 'toast://投了1个币';\\n                }, ),\\n                col_type: 'text_2'\\n            });\\n            }\\n            d.push({\\n                title: '',\\n                col_type: 'blank_block'\\n            });\\n\\n            \\n\\n            for (var i = 0; i < ep.length; i++) {\\n                var badgeType = ep[i]['badgeType'] === 0 ? ((ep[i]['badge'] != '') ? '💰' : '🆓') : '📢';\\n                var badge = ep[i]['badge'] ? '[' + ep[i]['badge'] + ']' : ''\\n                if (mode == 'X5') {\\n                    var purl = 'x5Rule://' + jx + 'https://www.bilibili.com/bangumi/play/ep' + ep[i]['id'] + '@';\\n                } else {\\n                    var purl = 'https://www.bilibili.com/bangumi/play/ep' + ep[i]['id'];\\n                }\\n                var pics = (ep[i]['cover'].indexOf(':') != -1) ? ep[i]['cover'] : 'https:' + ep[i]['cover'];\\n                var titles = (ep[i]['titleFormat']) ? ep[i]['titleFormat'] : ep[i]['title'];\\n                var desc = (ep[i]['longTitle']) ? ep[i]['longTitle'] :( ep[i]['long_title']?ep[i]['long_title']:'');\\n                evalPrivateJS(\\\"ifnzqaNqNRkN6NqG0fZx5Mey477OsMJOTbTd9SajMkfLK8tI1lZz+wif+9ZIAdT2NKXOxML34tPsJcbFgYq2IweqRWlctnnn46dJHGAoQ6S+TxsWJZ3ELbUAEf1Vv2xoMrkl3KoqWto1u7u9SUvNtj1uxC4enuZIE3IOVJYfulrSIuqnME8+hlV38BStZCkJf0iW3HdF2isBHExTZf4lpC2Kf4uAsPfRqU8N9jbP4+qzPrYrG+YaWt+inw9ZaGNa607FuvLgH+4vZbmf/tGnRzaQvf0rhvPnfBeEyaMAzmmvAMx4u0o42rxHmNKSx/2VZlIq+RqCZxJJ3bKcQH4+F/d0G5YmXyOPZRNYM7RoBz8zeQE/hqBrUbrSdb3Vw8SDsExU2hWOEr/052n74SEdWWdc37k9BLaVPJrdPFq3r+Zh8f6iWg6NXBrB+tUlGSVTjZfsLD2rBfpuPeQQWdAErQJhIFM95Pxh3S4BHtUodZ3F22mitLEf86IPo18yrgHMWVaQa4uQA4ZMDT1ahM85k6+7LTmPtz6ONAxvyIT75sCxSck0XsLlhG9gV8rU0flD3e+iWekjk1XyrmdcKfFHGyvIfqWD6zMRAdFIIyXxN3stbtNi3bQMUZgbYmmr3Qle0jAHoZRMHdl1BrS1sdmLepWxyHC8r6U35HmBQNHpdvzi77WGGr44Q4Mgv5RXbJ9eJOFGzlhrTsDQz3wASWzS7JxG8ck5fV0uTRcjgJPFCI86exD64T8tmskekWXMtZUjlNITP9ROPNKGnwzrhFV2RvVqNG0EFIsW1WubatasiJ6fXmBTF0gtMmBK1as3JHWRhKrgYgFASd+E4KUAuMPLtQb0ftlyQiATVsaRrFzbkpuYlMAs1P9ViUj/ExoXqAMaQ8ZJzotsPvjw+KPFMfnw8B9EQcvZ7cAoKKO6+nDSyHeM1ew/uoWH2XJNGL1PUc9s1TUbaKtUbS26hWNGMrGzG2u16oTlDfxzB7KLjmyIiChB746CO3TnZzXp4s+v1/rfgPYyASGjEjRN9qMaz7Il/mLPiEUDajrN+AU+6UZlSUKZaamzj/4tJtlmpA3i19D7Isw1kDzHwLsYfmHMSkkv/8DJpP2VDPG2FAoRZklRcc9eUdauyL+QhCRzRABqvpze2IYUTMMGkWmW2zUFrd7VSssry0jWVnP7CJ/71kgB1PY5Yo81qi8hXWFG/skVi1YTpc0V65UgZ6JLIB6Kp2Oos83ogiSFMDJisT2OEC6GUxhbVXbqiKUVjJcVn6/sQcTwy+32wKTzWV/03h2RoWdJ2nol0uCMGY9aDCPUbZWUeafLK8tI1lZz+wif+9ZIAdT2ALSZopivMM4HVNF3mY2XL1A3jesIAtxDR/vB8/AIl/WLrGLbkP2SJx8BKm1hSNogWyd4zZ1waJqpNcLb0lpftzj3Bw1kgyMYpS/nF5/4d52ZLkGGzaUMO3KxihPI0vV4/6VemfFOLwzXkRWrxRyhFxPMcsGA6eApHo1hc1k9m1V/CVuWWcygq+R1pz4aWoqJKptvTRugv14hwJT+7rwGWitOFVuK3N10arQKVZ6kT9UCvGK4GRkuZjl/dbJf4Axac8FfM+tO/oKNYB850h6gCbTmL3TW2EuFuSDoY5qkMy22i1u2eKOytR4SRLFL4Lv+pEqfHcsoLmj7/zIUqONCkphSFM6dfydCG9c4V5Asom8qOBouztgBzKUHT0o70bQ3UTit17BZoVcqcbeJeydvW3HCaVZy2whwwN3b16VHl//H4g0giKfF57hJe4ziSVnF2pWsGrR5dzrO0peqwAgZtoBDo/maLXhozmGfYAc7wzWmbXQeJv/QBrou27OKMFDAXP/cjyEEBgDHb1r1VXMCimU0ww2VX0Cj5XV+f0J5W57KUOSeCjbvr+VUxqo16xw9kr8tnQ2Qz5kMIwKkMIPiOJhJ2BAp+JaXlgMXIi6rzt7IcYdbyboc7EjdvM+sq0A5BgTLY6EC9BndHehhv0aj9uNzvojvkgt8d2+5xMYbdXBGXmdyth5pAyn8oLBCWUDbWe80/99et1iH/GDJEfoDLDf9p+k4+0QbuWdEquTO1jCJF51h7TxHl/UYa/mJwud0/Y8D4fEYZX/V3hGpOD9R2Zmjg4IrpPpwefj8w0wgcfyLz9ZMms1PoMn0qCnnM+Vu6n6sxClPb8yWxKkzMh0ewE4nJochWbDk5rcfrE02kykFXFtu+zj8HJgAHMbWVnjnyXI76UgqDRejAHyFmWmVK6WhGk7m6ZsJqjJi2E534eB0jAVYf6Jbs7hAqJPgEleOeAOU4zJMsAVrist63iRJMaEMTjO498+amMOr78WrKDzhw6RgB+O9UhLPK042YE7NfzjCb79987u9wQV4QcrhtlKOXcl8MbZtH0bmbNbAOuXuIF5drJUrjYSwVQBDAaUaLYezeSuvrQwFSCbweTUJGz1j7uBUq3maB4OfK2n7G2N1fCK1eEaw92UnlVDO0Tf1LII08HFtsRIn6Y1p3s9V+LJQ9iUd5ZG0LwU904E75PpuVLROBYHS4mrB3RvrMhAWC6jdtSTFklumv+c2EJRrbUrjr4A+Y40kANN1Ut1rdvMb/0pROJXVsDfc/AyM5n3CflvDVqSgPI9blHFe1mZ75CmILS6KzdF0Yl1MVHiPW0jvodnxKYTps8hJN+aI+h1WRGzrJKZJicAtNdsWVhLfrVxVEPSem9jGzsAaWPkVBGRO6jW2SW7m+bVDvRPbVpb6gSBI8oCUYOo7/Q0Habqm7RPMcsGA6eApHo1hc1k9m1Xw50IRvn7VyPJ+rDB1GadK9qo7IuDv1t/Wjz7dvp4d4RpuGvy4ZQk9PwV5tTtkX2DGAtQ8faivEIH70OhkpuCtnHkbozQC9BYLxUdfILvP8qE97rZYk+Xcqa7hvlBG6n3Jg56s4rqWeZNlB/cG55CStRPEI6RjrADpy/sYnQ4REN6UlAymSres2YXRLTaEcYWkJW982C/sfYsckbizlOsYsKAFp3XsgDQRDaao+yHNJApeVRK1m7h18q/KbQxFcpnDbGX2MRucU5PUPJpkyvClEvRK7k1x2n0zazAQ4gZfDwsM/invMQTKeQetzIr6/ZwTzHLBgOngKR6NYXNZPZtV/qHM5tYU1hwRSrd85KH2Mpdt7MPtWfq4NdOYWbNhPP8xlL6LgHAWlMyBDZsuGyHzE8xywYDp4CkejWFzWT2bVb2WHM1MVPeNP2JzWKnU0HQubao/41PqIh+CWBR3HUFYRxipEBQbKA/mApBN1pHCwBPMcsGA6eApHo1hc1k9m1UCR67hv59em4nVPZmjU5k1B9bIdzIl7WrJ1f/SUmwvq8jyMGm8TJXiKgFEy622enkTzHLBgOngKR6NYXNZPZtVCrlRngTEJBqV2iys6qyLTJ1Cpbn51cKte58eNKRklCDuXFc3GqlY0CeG6F3QMVuqBMEN9pXsmnwKxsE65/a+elqefLKyl7I+OZv+KBHnYX79WjBb32BGhGZnd1Qky2xHPvf4Sx+/tYN2zncmpQqSwxPMcsGA6eApHo1hc1k9m1VUuUGxROZS3KCE96naUF74mRmrdO/jptIHgMjC+G6V7BxZTJitNELst0FCJ+n+AMYTzHLBgOngKR6NYXNZPZtVBCS+LfYqrSBGHkeYlaqgbwIMxEd1OVPyJhuVxAUnDtrKW0Cnvup8zA3CU+iMTlTRf2NfJcxej8dijY5y3f1nRWREOpYmrYXztfsR8R+Y+TeYxAeuu7sgwuiTCGqxcxq8cXF2O+zlaXem5HwHNW9G//3enuk6MK2BttCQBHripYoGA1+vU+dJ/F+LR1iBLt4y/FsPxrJP1xvv00ZFkXgcyGEiauamGwYdln3/8+tFgXRI82r9gcsGXTygIOTF9yiF0goCh4NNyra5SPzSwgon3csn+NhAQRJvSFsLXLH8F/fCSCjwl/pi2GGY4nBUek3wK6cQGW6B+oO3jKSW9QEG0/OgHTbyxbR9EspolmNlB/GqSL4KOMYawNC0vgVZdJB5bHlutgjnTvv7oYyfea+mIO1jGbY+jU8VLx1YZSHENSTji274Qj2KOrFEzpXqiQ2JKZlmDhb9LJ8OxVLx8AHHcP6nyWOhiYcFuQMFwf9URIGHrzrjzppf7gsKnJltTbkll1lsfUHSd5ZSAF6QE3b8ob5x5HmZFUQRkU94PlCHtW5EFwwHqLws1w3GxzGMhtqfE8xywYDp4CkejWFzWT2bVeE7yM7Lxqw771/3nNb78Ovp4ubFciRv6BvXcV91X/wlAb66gDqyxm7C+jDl85PLJwdIRBkeq0UpmKRvljAGUIoLP0oCnjFxPVinqzmAmPylxRfovVZc5RTGczl8tiCIQFKe7hPnz8PUeTxL2GUS9753xP0ugbJNH0ktMFGqXLQrN20hyxjyFKNOy5GQL1dl32V96cjVQeul2k5XIROPaWxl60j5Xz6GPW0vsCIpK+xiyyvLSNZWc/sIn/vWSAHU9uSwBMvPxgj2TWOD91NZl5KoJc+zu3jpVQBEgyHGxti7Sz0OysUtZgLEIW9adSfyi2w/srmTm8H0M6KzGtnSc8a0VVwT2qQonngSR5K6QT2sEZJrBs5B8ZDBkjafQ4sRpREaONnIVwlD9Dpolu/QukTJGfeqmnvm5PfNxtNJFFNWPO9y5cgSuCvUP8+6AWaE5einOI7UAzld8HIS+LU07oLhDuVIasI7AgbfYcbv8yZByyvLSNZWc/sIn/vWSAHU9lsVVgOKaW4I7QAkaSOtdVPm6H6wvlyXECANvhCMGelFyyvLSNZWc/sIn/vWSAHU9t5XbqPfLG5AAUEvrchS4WZhclfN0Vq001EC/+UAXaGS5b0hkJVOUCtCwszVuyAeUMsry0jWVnP7CJ/71kgB1PbLK8tI1lZz+wif+9ZIAdT2pm9Kmm0/Nw+qp/2txpR8hsWpmYER2iter5mRM2p7kwzsxtWlKbxArUQfBDIGqWkFyyvLSNZWc/sIn/vWSAHU9nMyGLIHlB2QRIY6DtAg4lzLK8tI1lZz+wif+9ZIAdT2gDvl4JN/10iqNgZwADWuxTTN56l0xnwwld3n7FsBpcD+4l+waM8jumxBzwmf5+bcwuT40IQXwuxDQ62CUhcv7rcVG/Ibucxx68fiL9dPQHXZREhcdex1KMLc+g4I+jcxyyvLSNZWc/sIn/vWSAHU9gTtVOFF6kwanmsGSdH2iaGc1Yn5K7kH5VXD6ytgq6o3J1Qk6D7da8tdGRZyllqWDs6UMvsO/POw5Ccr79sJzidbk3542mjLRKtyiEeyv1ts6yaep+Cqq2uENopg0DzxTzqH1r83JyuvQs4sVXkr3CfLK8tI1lZz+wif+9ZIAdT2yAIuMwDxvIfUIG9OZuDsI9qAnBW1Fi0udfbT9hg6U4B4llRvuKyS7ZERzEbe/Jfv8gNEd8TSYB9+72vypil2rTb7y6WFlZQa0+fB44TE6qzxkxPoy1ocy/TLt68yMFn/ViW9D16QvR/r7uFbtsZOEQ7LvH0jLJtuj3FTyQZDQjBLKxsfv317J8qeVlld1T+fHhafVrUI/KArXgq2JdN0UCPy0dNrisysKOMuUMP4FpYlIlCxAt9QFaIaIoUtlAaiYCq3QnM+RYwh/6tJw3cSqhmHWk9rBaj71NkACUvOXr4DUX9AZW2m4koiXd1XJuE2Kx7zEjW0amgfzBZDJo/YKR+jSBvpI8ABY62JNNULa3mtqWDO1XgL2UlsdODJlIvTUq3z2lt+inukLllamZefB+Jvqsqv+NeYbOJxxGmtnP7q9pV0rRmf+1Ne+1O+R5UsraJKXPUyYRb0y7ooTkLG1h4hGAgEtRjTOktkXnF5BZTGM9RyQRuawc0bBOmtHX1hcT7rt3tDksXJfflPyysWzhPXLM+Fdx5dCYRyZzC/xiyZrd1RoPZ2u+0QtbsK2ugRpzQ469lndpJhrwaeyh+oHBS8Fyw+s/XB31MH9KJAo0JEAYZK2252iEYHgo3XuN1Z8b9I5booPzvL01Ii+kAahssry0jWVnP7CJ/71kgB1PajruqY/bL6v12002ma60SzZhTnyyQZdX9M52oCAkij2/YNu+HpX679dlZS+WahuQEjjv4/RMaJSfSKDDR6ylxNhMYwgkzFpWQTQ0GqLqfwLIIzVs2gR3NOOwsl9ykaCxifE45OSLQaY+sEB21LXKf2RWIqabKi7VlBWuVqzK/MxbCmjKPWKUFpJza80gMXUnF4Im3yqEft1rfsKU7Sg6e4hZqzRmbQYdvE7cezF+f8xcD6yRckxORdG6rPOBKiDMfg63eHvZiUjulPE5IvJDxoKBNXul0agOe2pIIScmsHKAgTFFjbtbCfe1Tj+ix2GUTNwrHUzqYJ3IqxyHtOar2HF1mL5K/upSY3zT0bKjcHwcsry0jWVnP7CJ/71kgB1PZPxd+zXBhIlh8pv4yUrXbMgosMNiYDBbUZmGvUVB9Y/Uq5QyYR8jBa3T6qqqd9PcDGjrTI6YbhEa4mtivVF1n1J9fUEcSHWvk8fpynw+BkYOezhIYwbhcXrKJN3Xj4XAA/jt6H3254Fc4mRou7dYlYyyvLSNZWc/sIn/vWSAHU9kKArUKVF2OmAEOtRPTLoUrLK8tI1lZz+wif+9ZIAdT2iVSn2X6OK90RfEqjkC/rISYz/7ucp6aM3T19cJpxErHLK8tI1lZz+wif+9ZIAdT2sMidsJ5/8+U+ZLXooktS7/Zna02fvAhJgn9gRjSzwC9dCByoUt9pYXPlNudf7h6Bpz6qwWvMGnr1fZYa07bfr8sry0jWVnP7CJ/71kgB1PajvuczrQQU0I2UAa8UJdPuMjBHzYmWOBmjl8Kh23+T6rlwWRVgF47HGywVnVzpGCbOlDL7DvzzsOQnK+/bCc4nJfjrgt6EnPjXZ/nCJMPvWM6UMvsO/POw5Ccr79sJzidwZ45CXNGx+S8ONRu0cQYyE9csz4V3Hl0JhHJnML/GLJmt3VGg9na77RC1uwra6BGnNDjr2Wd2kmGvBp7KH6gcwy7YmMHADksumN5HrjlV4Msry0jWVnP7CJ/71kgB1PZ96veFf5o06HlFhFkEbjVNaHhVWgH4fTMtkuz5bDn+AHgnjpwyG/hIL50GIPXo+vrYTAaByABQWo5P1pVuKDZc\\\")\\n                \\n                d.push({\\n                    title: titles + badgeType,\\n                    img: pics,\\n                    desc: badge+desc,\\n                    url: mode == '直链' ? true_url : purl + lazy,\\n                    col_type: 'movie_2'\\n                });\\n\\n            }\\n        } else {\\n            putVar('aid',String(v.aid));\\n            \\n            d.push({\\n                title:mode == '直链' ? getHead('直链') : '直链', //'直链播放',\\n                url: '直链'+mode_url,//lazy1,\\n                col_type: 'text_2'\\n            });\\n\\n            d.push({\\n                title: mode == 'yhc' ? getHead('萤火虫') : '萤火虫',\\n                url: 'yhc' + mode_url,\\n                col_type: 'text_2'\\n            });\\n            if (getVar('like_type')==='开启'){\\n            d.push({\\n                title: '点赞',\\n                url: $(like_url).lazyRule(() => {\\n                    var ts = new Date().getTime();\\n                    var content_type = 'application/x-www-form-urlencoded; charset=utf-8';\\n                    var l_body_txt = 'access_key=' + getVar('access_key') + '&aid=' + getVar('aid') + '&appkey=1d8b6e7d45233436&build=6130400&c_locale=zh_CN&channel=master&like=0&mobi_app=android&platform=android&s_locale=zh_CN&statistics=%7B%22appId%22%3A1%2C%22platform%22%3A3%2C%22version%22%3A%226.13.0%22%2C%22abtest%22%3A%22%22%7D&ts=' + ts +'&sign=4a08645c2994eb692ac0cfb0bd7569c6';\\n                    var l_code = JSON.parse(request(input,{\\n                        headers:{'Content-Type':content_type},\\n                        body:l_body_txt,\\n                        method:'POST'\\n                    }));\\n                    log(l_code);\\n                    return 'toast://'+l_code.data.toast;\\n                }, ),\\n                col_type: 'text_2'\\n            });\\n            d.push({\\n                title: '投币',\\n                url: $(coin_url).lazyRule(() => {\\n                    var ts = new Date().getTime();\\n                    var content_type = 'application/x-www-form-urlencoded; charset=utf-8';\\n                    var c_body_txt = 'access_key=' + getVar('access_key') + '&aid=' + getVar('aid') + '&appkey=1d8b6e7d45233436&avtype=1&build=6130400&c_locale=zh_CN&channel=master&from=7&from_spmid=tm.recommend.0.0&mobi_app=android&multiply=1&platform=android&s_locale=zh_CN&select_like=1&spmid=main.ugc-video-detail.0.0&statistics=%7B%22appId%22%3A1%2C%22platform%22%3A3%2C%22version%22%3A%226.13.0%22%2C%22abtest%22%3A%22%22%7D&ts=' + ts +'&upid=0&sign=8abbddd87a6bd82e1e42cb3cffd32bb9';\\n                    var c_code = JSON.parse(request(input,{\\n                        headers:{'Content-Type':content_type},\\n                        body:c_body_txt,\\n                        method:'POST'\\n                    }));\\n                    log(c_code);\\n                    return 'toast://投了1个币';\\n                }, ),\\n                col_type: 'text_2'\\n            });\\n            }\\n            d.push({\\n                title: '',\\n                col_type: 'blank_block'\\n            });\\n\\n            \\n            if (v.videos != 1) {\\n                var rurl = purl + '?p=' + p[i].page;\\n            } else {\\n                var rurl = purl\\n            }\\n            d.push({\\n                title: part,\\n                pic_url: 'https://gitee.com/CherishRx/imagewarehouse/raw/master/image/13096725fe56ce9cf643a0e4cd0c159c.gif',\\n                url: /*mode == 'X5' ? 'x5Rule://' + jx + rurl + '@' + lazy : (*/mode == '直链' ? lazy1 : rurl + lazy,\\n                col_type: v.videos != 1 ? 'text_center_1' : 'avatar'\\n            });\\n\\n\\n        }\\n    }\\n    \\n    d.push({\\n        col_type: 'line_blank'\\n    });\\n    if (getVar('reply_type')==='开启'){\\n    d.push({\\n        title: '<strong>' + '““评论区””' + (getVar('label') == '评论' ? '““ ⊙””' : '““ ⊕””') + '</strong>',\\n        url: \\\"hiker://empty@lazyRule=.js:putVar('label', getVar('label')=='评论'?'关闭':'评论');refreshPage();'toast://'+getVar('label','评论')\\\",\\n        col_type: 'text_2'\\n    });\\n\\n    d.push({\\n        title: '<strong>' + '““推荐区””' + (getVar('label') == '推荐' ? '““ ⊙””' : '““ ⊕””') + '</strong>',\\n        url: \\\"hiker://empty@lazyRule=.js:putVar('label', getVar('label')=='推荐'?'关闭':'推荐');refreshPage();'toast://'+getVar('label','推荐')\\\",\\n        col_type: 'text_2'\\n    });\\n\\n    \\n    if (getVar(\\\"label\\\") == '评论') {\\n        var rely = JSON.parse(fetch('https://api.bilibili.com/x/v2/reply/main?oid=' + v.aid + '&type=1', {}));\\n        var counts = rely['data']['cursor']['all_count'];\\n        var replies = rely.data.replies;\\n        for (var x in replies) {\\n            var repliesx = replies[x];\\n            var message = replies[x].content.message;\\n            var member = replies[x].member;\\n            d.push({\\n                title: member.uname,\\n                img: member.avatar,\\n                col_type: 'avatar'\\n            });\\n            d.push({\\n                title: '<small><strong>' + message + '</strong></small>',\\n                col_type: 'rich_text'\\n            });\\n            var reply = replies[x].replies;\\n            for (var z in reply) {\\n                var mess = reply[z].content.message;\\n                var mem = reply[z].member.uname;\\n                d.push({\\n                    title: '<small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;' + mem + ':' + mess + '</small>',\\n                    col_type: 'rich_text'\\n                });\\n            }\\n        }\\n    } \\n\\n    if (getVar(\\\"label\\\") == '推荐') {\\n        for (var r in related) {\\n            d.push({\\n                title: related[r].title,\\n                img: related[r].pic,\\n                desc: related[r].desc,\\n                url: 'hiker://page/detail?url=https://api.bilibili.com/x/web-interface/view/detail？？aid=＆＆bvid=' + related[r].bvid + '#immersiveTheme#',\\n                col_type: 'movie_2'\\n            });\\n        }\\n    }\\n    }\\n} catch (e) {}\\n\\nres.data = d;\\nsetResult(res);\"},{\"col_type\":\"movie_3\",\"name\":\"页面-关注1\",\"path\":\"gz1\",\"rule\":\"js:\\nvar res = {};var d = [];\\nvar id = MY_URL.split('mid=')[1];\\nvar surl = MY_URL;\\nvar code = fetch(surl,{});\\nvar ym = JSON.parse('{\\\"my'+code.split('{\\\"my')[1].split('}};')[0]+'}}');\\n\\nvar ep = ym['list']['getFollowList-page-mid-'+id]['result'];\\nfor ( x in ep){\\n  var yurl = 'https://api.bilibili.com/x/space/arc/search？？mid='+ep[x].mid+'＆＆ps=30＆＆tid=0＆＆keyword=＆＆jsonp=jsonp＆＆pn=fypage＆＆order=pubdate';\\n    d.push({\\n       title:ep[x].uname,\\n       img:ep[x].face,\\n       url:'hiker://page/gz2?url='+yurl,\\n       col_type:'icon_round_4'\\n       });\\n}\\nres.data = d;\\nsetResult(res);\"},{\"col_type\":\"movie_3\",\"name\":\"页面-关注2\",\"path\":\"gz2\",\"rule\":\"js:\\nvar res = {};var d = [];\\nconst headColor=\\\"#358ccd\\\";\\nvar json = {};\\neval('json=' + fetch(MY_URL,{}));\\nfor (var i = 0; i < json.data.list.vlist.length; i++)\\n{\\n var r = {};\\n var j = json.data.list.vlist[i];\\n var t = Number(j.created)*1000;\\n \\n //时间戳转换方法\\n /*\\nfunction getLocalTime(nS) { \\n     var sss = new Date(parseInt(nS)).toLocaleString().substr(0,17);\\n     var YMD = sss.split('日')[0].replace('年','-').replace('月','-');\\n     return (YMD)\\n}\\n*/\\nfunction getLocalTime(nS) { \\nvar date = new Date(nS);\\nvar YY = date.getFullYear()+'-'; \\nvar MM = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1)+'-'; \\nvar DD = (date.getDate() < 10 ? '0' + (date.getDate()) : date.getDate()); \\nvar time = YY + MM + DD;\\nreturn time\\n}\\n//时间戳转换\\nvar time = getLocalTime(t);\\n\\nif (j.play>10000)\\n    var play = (j.play/10000).toFixed(1)+'万';\\nelse\\n    var play = j.play;\\n\\nvar pics = (j.pic.indexOf(':')!=-1)?j.pic:'https:' + j.pic;\\n\\n if (j.length!=\\\"00:00\\\"){\\n    d.push({\\n     pic_url : pics,\\n     url : 'hiker://page/detail?url=https://api.bilibili.com/x/web-interface/view/detail？？aid=＆＆bvid=' + j.bvid+'#immersiveTheme#',\\n     title : j.title,\\n     col_type : 'movie_1_left_pic',\\n     desc : '时长：' + j.length + '  播放量：' + play + '  日期：' + time\\n    \\n    });\\n}\\n}\\nres.data = d;\\nsetResult(res)\"},{\"col_type\":\"movie_3\",\"name\":\"代码块-搜索一级\",\"path\":\"s\",\"rule\":\"try{\\nvar res = {};var d = [];\\nvar code = getResCode();\\nvar xs=JSON.parse(code.split('video\\\",\\\"data\\\":')[1].split('}]')[0]+'}]');\\n//if(MY_URL.split('page=')[1]=='1&pagesize=20'){\\nvar page = MY_URL.split('page=')[1].split('&pagesize=')[0];\\n  try{\\n  var w=\\nJSON.parse(fetch('https://api.bilibili.com/x/web-interface/search/type?keyword='+MY_URL.split('keyword=')[1].split('&')[0]+'&page='+page+'&search_type=bili_user&order=totalrank&pagesize=20',{})).data.result;\\n    for(ii=0;ii<w.length&&ii<2;ii++){\\n      d.push({\\n      title:'up：'+w[ii].uname,\\n      img:'https:'+w[ii].upic,\\n      desc:'关注：'+w[ii].fans,\\n      content:'视频数：'+w[ii].videos,\\n      url:\\n'hiker://page/ss?url=https://api.bilibili.com/x/space/arc/search？？mid='+w[ii].mid+'＆＆ps=30＆＆tid=0＆＆keyword=＆＆jsonp=jsonp＆＆pn=fypage＆＆order=pubdate#'+w[ii].uname+'#',\\n         });\\n    }\\n  }catch(e){\\n      d.push({\\n      title:'‘‘找不到你想要的啊，要不换个关键词？’’',\\n      col_type:'text_center_1'\\n      });\\n  }\\nvar fan = JSON.parse(code.split('media_bangumi\\\",\\\"data\\\":')[1].split('},{\\\"result_type')[0]);\\n   for ( x in fan){\\n       d.push({\\n           title:fan[x].title.replace(/<em class=\\\"keyword\\\">|<\\\\/em>/g,''),\\n           img:fan[x].cover,\\n           desc:fan[x].desc,\\n           content:fan[x].cv.replace(/<em class=\\\"keyword\\\">|<\\\\/em>/g,''),\\n           url:'hiker://page/detail?url='+fan[x].goto_url+'#immersiveTheme#',\\n           col_type:'movie_1_left_pic'\\n           });\\n   }\\nvar fan2 = JSON.parse(code.split('media_ft\\\",\\\"data\\\":')[1].split('},{\\\"result_type')[0]);\\n   for ( x in fan2){\\n       d.push({\\n           title:fan2[x].title.replace(/<em class=\\\"keyword\\\">|<\\\\/em>/g,''),\\n           img:fan2[x].cover,\\n           desc:fan2[x].desc,\\n           content:fan2[x].cv.replace(/<em class=\\\"keyword\\\">|<\\\\/em>/g,''),\\n           url:'hiker://page/detail?url='+fan2[x].goto_url+'#immersiveTheme#',\\n           col_type:'movie_1_left_pic'\\n           });\\n   }\\n//}\\n\\n for ( x in xs){\\n       d.push({\\n           title:xs[x].title.replace(/<em class=\\\"keyword\\\">|<\\\\/em>/g,''),\\n           img:'http:'+xs[x].pic,\\n           desc:xs[x].description,\\n           content:xs[x].author,\\n           url:'hiker://page/detail?url=https://api.bilibili.com/x/web-interface/view/detail？？aid=＆＆bvid='+xs[x].bvid+'#immersiveTheme#',\\ncol_type:'movie_1_left_pic'\\n           });\\n    }\\n\\nres.data = d;\\nsetResult(res);}catch(e){\\nvar res = {};var d = [];\\nvar keyword = MY_URL.split('keyword=')[1].split('&page=')[0];\\nvar url = 'https://app.bilibili.com/x/v2/search/type?appkey=1d8b6e7d45233436&build=6270200&c_locale=zh_CN&channel=xiaomi&highlight=1&keyword='+keyword+'&mobi_app=android&order=totalrank&platform=android&pn=1&ps=20&s_locale=zh_CN&statistics=%7B%22appId%22%3A1%2C%22platform%22%3A3%2C%22version%22%3A%226.27.0%22%2C%22abtest%22%3A%22%22%7D&ts=1623076140&type=2&user_type=0&sign=5066216febb28a619812e88e5ff1a034';\\nvar code = JSON.parse(request(url,{}));\\nvar list = code.data.items;\\nfor (let x of list){\\nd.push({\\n    title:x.title,\\n    img:x.cover,\\n    desc:x.sign,\\n    url:\\n'hiker://page/ss?url=https://api.bilibili.com/x/space/arc/search?mid='+x.param+'＆＆ps=30＆＆tid=0＆＆keyword=＆＆jsonp=jsonp＆＆pn=fypage＆＆order=pubdate#'+x.title+'#'+getVar('ua'),\\n    col_type:'movie_1_left_pic'});\\n}\\nsetResult(d);}\"},{\"col_type\":\"movie_1_vertical_pic\",\"name\":\"页面-搜索二级\",\"path\":\"ss\",\"rule\":\"js:\\nvar json = {};\\neval('json=' + getResCode());\\nvar res = {};\\nvar d = [];\\nif (MY_URL.indexOf('pn=1&')!=-1){\\nd.push({\\ntitle:'““关注””',\\nurl:'hiker://empty#'+MY_URL.split('#')[1]+'&&'+MY_URL.split('mid=')[1].split('&')[0]+`@lazyRule=.js:input=input.split('#')[1];var pic = JSON.parse(fetch('https://api.bilibili.com/x/space/acc/info?mid='+input.split(\\\"&&\\\")[1]+'&jsonp=jsonp',{})).data.face;if(!getVar('lb2').includes(input.split('&&')[1].split('&&')[0])){var xr=getVar('lb2')+'\\\\\\\\n'+input+'##'+pic;writeFile(\\\"hiker://files/rules/js/up.js\\\",xr);'toast://关注成功'}else{'toast://年轻人，耗子尾汁'}`,\\ncol_type: 'text_center_1'\\n});\\n}\\n\\nfor (var i = 0; i < json.data.list.vlist.length; i++)\\n{\\n var r = {};\\n var j = json.data.list.vlist[i];\\n var t = Number(j.created)*1000;\\n \\n //时间戳转换方法\\nfunction getLocalTime(nS) { \\n     var sss = new Date(parseInt(nS)).toLocaleString().substr(0,17);\\n     var YMD = sss.split('日')[0].replace('年','-').replace('月','-');\\n     return (YMD)\\n}\\n\\n//时间戳转换\\nvar time = getLocalTime(t);\\n\\nif (j.play>10000)\\n    var play = (j.play/10000).toFixed(1)+'万';\\nelse\\n    var play = j.play;\\n\\nvar pics = (j.pic.indexOf(':')!=-1)?j.pic:'https:' + j.pic;\\n\\n r.pic_url = pics;\\n r.url = 'hiker://page/detail?url=https://api.bilibili.com/x/web-interface/view/detail？？aid=＆＆bvid='+j.bvid+'#immersiveTheme#',\\n       \\n\\n r.title = j.title;\\n r.desc = '时长：' + j.length + '  播放量：' + play + '  日期：' + time;\\n if (j.length!=\\\"00:00\\\"){d.push(r)};\\n}\\nres.data = d;\\nsetResult(res)\"},{\"col_type\":\"movie_3\",\"name\":\"代码-预处理\",\"path\":\"ycl\",\"rule\":\"putVar2('ua',';get;utf-8;{User-Agent@Mozilla/5.0 (Linux；； Android 7.0；； wv lite baiduboxapp) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/78.0.3904.96 Mobile Safari/537.36 T7/10.3 SearchCraft/2.6.2 (Baidu；； P1 7.0)}');\\n\\nputVar('key',fetch('hiker://files/rules/bili/key.txt'));\\n\\nputVar('X5',\\\"@lazyRule=.js:var jx = fetch('hiker://files/bili/up_jxcache.txt',{});refreshX5WebView(jx+input);'toast://播放中'\\\");\\n\\nif (!fetch('hiker://files/bili/多合一.txt')) {\\n   writeFile('hiker://files/bili/多合一.txt','UP主');\\n   }\\n\\nif (!fetch('hiker://files/bili/收藏.txt')) {\\n   writeFile('hiker://files/bili/收藏.txt','视频');\\n   }\\n\\nif (fetch(\\\"hiker://files/rules/js/up.js\\\", {})==''){\\n    if (fetch(\\\"hiker://files/bili/up.txt\\\", {})!=''){\\n    writeFile(\\\"hiker://files/rules/js/up.js\\\",fetch(\\\"hiker://files/bili/up.txt\\\", {}));\\n    }\\n    else{\\n      var pic = JSON.parse(fetch('https://api.bilibili.com/x/space/acc/info?mid=103256880&jsonp=jsonp',{})).data.face;\\n      writeFile(\\\"hiker://files/rules/js/up.js\\\", \\\"北城&&103256880##\\\"+pic);\\n      }\\n}\\n\\nif (!fetch(\\\"hiker://files/bili/up_cache.txt\\\", {})) {\\n  writeFile(\\\"hiker://files/bili/up_cache.txt\\\", \\\"103256880\\\");\\n}\\n\\nputVar2('lb2',fetch(\\\"hiker://files/rules/js/up.js\\\",{}));\\n\\nputVar(\\\"解析口\\\",`hiker://empty#noHistory#@rule=js:var d = [];d.push({desc: '200',url: 'file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/bili/upjx.html',col_type: 'x5_webview_single'});var titles = fetch(\\\"hiker://files/bili/upjx.txt\\\", {}).split(/\\\\\\\\n/);for(var i = 0; i < titles.length; i++){var t = titles[i].split(\\\"&&\\\");d.push({title:fetch(\\\"hiker://files/bili/up_jxcache.txt\\\",{}) == t[1] ? t[0] + \\\"‘‘（当前）’’\\\" : t[0],desc:t[1],url:t[1] + '@lazyRule=.js:putVar2(\\\"uid\\\",input);writeFile(\\\"hiker://files/bili/up_jxcache.txt\\\",input);back();\\\"toast://修改成功\\\"',col_type: 'text_1'});}setResult(d);`);\\n\\nif (!fetch(\\\"hiker://files/bili/upjx.txt\\\", {})) {\\n  writeFile(\\\"hiker://files/bili/upjx.txt\\\", \\\"全网VIP&&https://jxx.smys8.cn/index.php?url=\\\\n加速&&https://www.cuan.la/m3u8.php?url=\\\");\\n}\\n\\n\\nlet localHtml2 = fetch(\\\"hiker://files/bili/upjx.html\\\", {});\\nlet gitHtml2 = fetch(\\\"https://cdn.jsdelivr.net/gh/Zruiry/hikerview/html/jiexi.html\\\", {}).replace(/jiexi\\\\/jiexi/g,\\\"bili/upjx\\\");\\nif (!localHtml2) {\\n  writeFile(\\\"hiker://files/bili/upjx.html\\\", gitHtml2);\\n  var titles = fetch(\\\"hiker://files/bili/upjx.txt\\\", {});\\n  var t = titles.split(\\\"&&\\\")[1];\\n  writeFile(\\\"hiker://files/bili/up_jxcache.txt\\\",t);\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"代码-推荐\",\"path\":\"feed\",\"rule\":\"var url = 'https://app.bilibili.com/x/intl/feed/index?access_key='+getVar(\\\"access_key\\\")+'&autoplay_card=2&build=6225300&c_locale=zh_CN&channel=master&column=2&device_name=&device_type=0&flush=8&fnval=464&fnver=0&force_host=0&fourk=1&guidance=0&https_url_req=0&mobi_app=android&network=wifi&platform=android&player_net=1&pull=false&qn=80&s_locale=zh_CN&statistics=%7B%22appId%22%3A1%2C%22platform%22%3A3%2C%22version%22%3A%226.22.5%22%2C%22abtest%22%3A%22%22%7D';\\nvar list = JSON.parse(request(url,{})).data.items;\\nfor (let x of list){\\nd.push({\\n    title:x.title,\\n    desc:x.cover_left_1_content_description+\\\" \\\"+x.cover_left_2_content_description+\\\"  \\\"+x.cover_right_text,\\n    pic:x.cover+\\\"@Referer=https://www.bilibili.com/\\\",\\n    url:\\\"hiker://page/detail?rule=哔哩Ⓡ&url=https://api.bilibili.com/x/web-interface/view/detail？？aid=\\\"+x.param+\\\"＆＆bvid=\\\"+'#immersiveTheme#',\\n    col_type:'movie_2'\\n    });\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"代码-更多\",\"path\":\"more\",\"rule\":\"if (MY_URL.split('#')[1]=='1') {\\n\\n    d.push({\\n        title: rx == '推荐' ? getHead(rx) : '推荐',\\n        url: '推荐' + wr,\\n        col_type: 'text_3'\\n    });\\n    d.push({\\n        title: rx == '时光机' ? getHead(rx) : '时光🐥',\\n        url: '时光机' + wr,\\n        col_type: 'text_3'\\n    });\\n    d.push({\\n        title: '追番',\\n        url: 'hiker://collection?group=①追番',\\n        col_type: 'text_3'\\n    });\\n    d.push({\\n        title: rx == '索引' ? getHead(rx) : '索引',\\n        url: '索引' + wr,\\n        col_type: 'text_2'\\n    });\\n    d.push({\\n        title: getVar('YS') == '随机' ? getHead('随机') : getHead('骚粉'),\\n        url: \\\"hiker://empty@lazyRule=.js:putVar('YS', getVar('YS')=='随机'?'骚粉':'随机');refreshPage();'toast://颜色--'+getVar('YS','随机')\\\",\\n        col_type: 'text_2'\\n    });\\n    d.push({\\n        title: '自定UID',\\n        url: `input://{\\\"value\\\":\\\"\\\", \\\"js\\\": \\\"writeFile('hiker://files/rules/bili/starid.txt',input);writeFile('hiker://files/bili/多合一.txt','UP主');refreshPage();'toast://你输入的是'+input\\\", \\\"hint\\\": \\\"请在下方输入UID\\\\n不知道怎么查？b站点开自己的信息，长按uid即可，请填入纯数字\\\"}`,\\n        desc: '‘‘已输入: ’’'+getHead(fetch('hiker://files/rules/bili/starid.txt')),\\n        col_type: 'text_1'\\n    });\\n    d.push({\\n        title: '点赞key',\\n        url: `input://{\\\"value\\\":\\\"\\\", \\\"js\\\": \\\"writeFile('hiker://files/rules/bili/access_key.txt',input);writeFile('hiker://files/bili/多合一.txt','UP主');refreshPage();'toast://你输入的是'+input\\\", \\\"hint\\\": \\\"请在下方输入key(用于点赞投币)\\\\n不知道怎么抓？那就算了\\\"}`,\\n        desc: '‘‘已输入: ’’'+getHead(fetch('hiker://files/rules/bili/access_key.txt')),\\n        col_type: 'text_1'\\n    });\\n    d.push({\\n        title: '解析key',\\n        url: `input://{\\\"value\\\":\\\"\\\", \\\"js\\\": \\\"writeFile('hiker://files/rules/bili/key.txt',input);writeFile('hiker://files/bili/多合一.txt','UP主');refreshPage();'toast://你输入的是'+input\\\", \\\"hint\\\": \\\"请在下方输入key(用于解析)\\\\n不知道怎么抓？那就算了\\\"}`,\\n        desc: '‘‘已输入: ’’'+getHead(fetch('hiker://files/rules/bili/key.txt')),\\n        col_type: 'text_1'\\n    });\\n    d.push({\\n        col_type: 'blank_block'\\n    });\\n\\n    d.push({\\n        title:'评论区: ““已'+ getVar('reply_type'),\\n        url: \\\"hiker://empty@lazyRule=.js:putVar('reply_type', getVar('reply_type')=='关闭'?'开启':'关闭');refreshPage();writeFile('hiker://files/rules/bili/setting.txt',getVar('reply_type')+','+getVar('like_type'));'toast://已'+getVar('reply_type');\\\",\\n        col_type: 'text_2'\\n    });\\n    d.push({\\n        title: '点赞&投币: ““已'+getVar('like_type'),\\n        url: \\\"hiker://empty@lazyRule=.js:putVar('like_type', getVar('like_type')=='关闭'?'开启':'关闭');refreshPage();writeFile('hiker://files/rules/bili/setting.txt',getVar('reply_type')+','+getVar('like_type'));'toast://已'+getVar('like_type');\\\",\\n        col_type: 'text_2'\\n    });\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"代码-新番\",\"path\":\"newbgm\",\"rule\":\"if (MY_URL.split('#')[1]=='1') {\\n\\n    let url = 'https://api.bilibili.com/pgc/app/timeline?access_key=&appkey=1d8b6e7d45233436&build=6130400&c_locale=zh_CN&channel=master&filter_type=0&mobi_app=android&night_mode=0&platform=android&s_locale=zh_CN&statistics=%7B%22appId%22%3A1%2C%22platform%22%3A3%2C%22version%22%3A%226.13.0%22%2C%22abtest%22%3A%22%22%7D&ts=1635952840&sign=6e4df4542d38eee2fabf212885b90c64';\\n    try {\\n        var source_code = JSON.parse(request(url, {}));\\n        var dateline = [{\\n            \\\"code\\\": source_code.result.data[4],\\n            \\\"name\\\": \\\"前日\\\",\\n            \\\"id\\\": \\\"0\\\"\\n        },{\\n            \\\"code\\\": source_code.result.data[5],\\n            \\\"name\\\": \\\"昨日\\\",\\n            \\\"id\\\": \\\"1\\\"\\n        }, {\\n            \\\"code\\\": source_code.result.data[6],\\n            \\\"name\\\": \\\"今日\\\",\\n            \\\"id\\\": \\\"2\\\"\\n        }, {\\n            \\\"code\\\": source_code.result.data[7],\\n            \\\"name\\\": \\\"明日\\\",\\n            \\\"id\\\": \\\"3\\\"\\n        },{\\n            \\\"code\\\": source_code.result.data[8],\\n            \\\"name\\\": \\\"后日\\\",\\n            \\\"id\\\": \\\"4\\\"\\n        }];\\n        if (!getVar('id')) {\\n            putVar('id', '2');\\n        }\\n        let id = getVar('id');\\n        d.push({\\n            title: id == '0' ? getHead('前日') : '前日',\\n            url: \\\"hiker://empty@lazyRule=.js:putVar('id', '0');refreshPage();'toast://success!'\\\",\\n            col_type: 'text_5'\\n        });\\n        d.push({\\n            title: id == '1' ? getHead('昨日') : '昨日',\\n            url: \\\"hiker://empty@lazyRule=.js:putVar('id', '1');refreshPage();'toast://success!'\\\",\\n            col_type: 'text_5'\\n        });\\n        d.push({\\n            title: id == '2' ? getHead('今日') : '今日',\\n            url: \\\"hiker://empty@lazyRule=.js:putVar('id', '2');refreshPage();'toast://success!'\\\",\\n            col_type: 'text_5'\\n        });\\n        d.push({\\n            title: id == '3' ? getHead('明日') : '明日',\\n            url: \\\"hiker://empty@lazyRule=.js:putVar('id', '3');refreshPage();'toast://success!'\\\",\\n            col_type: 'text_5'\\n        });\\n        d.push({\\n            title: id == '4' ? getHead('后日') : '后日',\\n            url: \\\"hiker://empty@lazyRule=.js:putVar('id', '4');refreshPage();'toast://success!'\\\",\\n            col_type: 'text_5'\\n        });\\n        let list = dateline[id].code.episodes;\\n        for (let x of list) {\\n            let type = (x.published == '1' ? '已发布' : '未发布');\\n            log(type)\\n            d.push({\\n                title: x.title,\\n                desc: '‘‘' + type + '’’\\\\n' + x.pub_index + '\\\\n更新时间：' + getHead(x.pub_time),\\n                url: 'hiker://page/detail?url=' + x.url + '#immersiveTheme#',\\n                img: x.cover+Referer,\\n                col_type:'movie_1_vertical_pic'\\n            });\\n        }\\n    } catch (e) {\\n        d.push({\\n            title: getHead('链接炸了，等修复'),\\n            col_type: 'text_center_1'\\n        });\\n    }\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"代码-番剧索引\",\"path\":\"sy\",\"rule\":\"const { CategoriesHeader } = $.require(\\\"hiker://page/categories-header\\\")\\n\\n/**\\n * 获取分类数据源，可动态可静态，自己根据实际情况处理\\n * https://www.bilibili.com/anime/index/\\n */\\nlet mCategories = {}\\nlet catInVar = getVar(MY_RULE.url + \\\"#categories\\\", '')\\nif (getVar(MY_RULE.url + \\\"#categories\\\", '')) {\\n    mCategories = JSON.parse(catInVar)\\n} else {\\n    let catUrl = 'https://www.bilibili.com/anime/index/'\\n    let catSrc = request(catUrl)\\n    // log(catSrc)\\n    let catRegex = /window\\\\.__INITIAL_STATE__=(.*?);\\\\(function\\\\(\\\\)\\\\{/\\n    if (catRegex.test(catSrc)) {\\n        // log(RegExp.$1)\\n        let category = JSON.parse(RegExp.$1)\\n        let mFilters = category.filters;\\n        // log(mFilters)\\n        mFilters.map(filter => mCategories[filter.key] = filter.list)\\n        let orders = category.orders\\n        let mOrders = []\\n        orders.map(order => {\\n            let mOrder = {}\\n            mOrder.name = order.title\\n            mOrder.value = order.key\\n            mOrders.push(mOrder)\\n        })\\n        // log(mOrders)\\n        mCategories['order'] = mOrders\\n    }\\n    putVar(MY_RULE.url + \\\"#categories\\\", JSON.stringify(mCategories))\\n}\\nlet keys = Object.keys(mCategories)\\n// log(mCategories)\\n// log(keys)\\n/**\\n * 组合当前分类链接\\n */\\nlet true_url = getVar(MY_RULE.url, MY_URL)\\ntrue_url = 'https://api.bilibili.com/pgc/season/index/result?'\\nfor (let it of keys) {\\n    let cat_url = getVar(MY_RULE.url + \\\"#\\\" + it, it === 'orders' ? '3' : '-1')\\n    true_url += (cat_url ? '&' + it + '=' + cat_url : '')\\n}\\n// let page = 1\\nconst page = MY_URL.split('#')[1]\\ntrue_url = true_url +\\n    '&st=1&sort=0&season_type=1&pagesize=20&type=1' +\\n    '&page=' + page\\n// log(true_url)\\n\\nconst empty = \\\"hiker://empty\\\"\\n\\nCategoriesHeader\\n    .setSubCategoriesItemKey('name', 'value')\\n    .get(d, mCategories, page)\\n/**\\n * 获取当前分类页面源码\\n */\\ntry {\\n    var sylist = JSON.parse(request(true_url, {})).data.list;\\n\\n    /**\\n     * 列表数据源\\n     */\\n    for (let data of sylist) {\\n        d.push({\\n            title: data.title /*+ '/' + data.index_show*/ ,\\n            desc: data.order,\\n            img: data.cover+Referer,\\n            url: 'hiker://page/detail?url=' + data.link + '#immersiveTheme#',\\n            col_type: 'movie_3'\\n        });\\n    }\\n} catch (e) {}\"},{\"col_type\":\"movie_3\",\"name\":\"代码-动态分类模块\",\"path\":\"categories-header\",\"rule\":\"js:\\n/**\\n * 使用说明：\\n * 1.提前建立好 分类所属类型和分类列表 的对应关系，即 get 函数中的 categories\\n * 2.设置子分类数据的 key，调用 setSubCategoriesItemKey(titleKey, urlKey)\\n * 3.然后调用 CategoriesHeader.get(layout, categories, page)\\n *\\n * 支持链式调用，一句话即可调用生成分类，即：\\n * CategoriesHeader\\n *    .setSubCategoriesItemKey(titleKey, urlKey)\\n *    .get(layout, categories, page)\\n *\\n * @type {{setSubCategoriesItemKey: CategoriesHeader.setSubCategoriesItemKey, get: CategoriesHeader.get, categoriesKey: {title: string, url: string}}}\\n */\\nlet CategoriesHeader = {\\n    categoriesKey: {\\n        sub_categories: '',\\n        title: '',\\n        url: '',\\n    },\\n    /**\\n     * 1.设置从分类列表中拿的子分类的数据 key，\\n     *   根据 key 拿到数据后，\\n     *   会自动赋值给 scroll_button 的 { title: item[titleKey], url: item[urlKey] }\\n     *\\n     * @param title_key title 的 key\\n     * @param url_key url 的 key\\n     */\\n    setSubCategoriesItemKey : (title_key, url_key) => {\\n        CategoriesHeader.categoriesKey.title = title_key\\n        CategoriesHeader.categoriesKey.url = url_key\\n        return CategoriesHeader;\\n    },\\n    setSubCategoriesKey: (sub_categories_key) => {\\n        CategoriesHeader.categoriesKey.sub_categories = sub_categories_key\\n        return CategoriesHeader;\\n    },\\n    /**\\n     * 2.获取分类头部\\n     *\\n     * @param layout 当前界面，即常用的 d.push 的 d\\n     * @param categories 分类所属类型和分类列表的对应关系表，\\n     *        如：\\n     *        {\\n     *           \\\"年份\\\": [{ \\\"name\\\": \\\"2021\\\", \\\"value\\\": \\\"2021\\\" }, { \\\"name\\\": \\\"2020\\\", \\\"value\\\": \\\"2020\\\" }...],\\n     *           \\\"排序\\\": [{ \\\"name\\\": \\\"热度\\\", \\\"value\\\": \\\"hot\\\" }, { \\\"name\\\": \\\"时间\\\", \\\"value\\\": \\\"time\\\" }...],\\n     *        }\\n     * @param page 页码\\n     * @param urlListener 额外处理 button 的 url，需要 return\\n     */\\n    get: (layout, categories, page, urlListener) => {\\n        // log(categories)\\n        // 分类所属类型的列表，如：[ \\\"年份\\\", \\\"排序\\\" ]\\n        let category_names = Object.keys(categories)\\n        let types = []\\n        // 根据对应关系表拿分类列表\\n        category_names.map(category_name => {\\n            // 这里会拿到 年份 排序... 其中一个\\n            types.push(categories[category_name]);\\n            // 这里下面对 types 的值进行处理\\n        })\\n        categories = types;\\n        let init_cate = []\\n\\n        for (let i = 0; i < 20; i++) {\\n            init_cate.push(\\\"0\\\")\\n        }\\n\\n        const cate_temp_json = getVar(MY_RULE.title, JSON.stringify(init_cate))\\n        const cate_temp = JSON.parse(cate_temp_json)\\n\\n        if (parseInt(page) === 1) {\\n            /**\\n             * 遍历第 index 层分类\\n             */\\n            categories.forEach((category, index) => {\\n                let sub_category_name = category_names[index]\\n                let sub_categories_key = CategoriesHeader.categoriesKey.sub_categories\\n                let sub_categories = sub_categories_key ? category[sub_categories_key] : category;\\n                // log(category)\\n                /**\\n                 * 在第 index 层分类中遍历该层所有子分类\\n                 */\\n                sub_categories.forEach((item, key) => {\\n                    let title = item[CategoriesHeader.categoriesKey.title]\\n                    let url = escape(item[CategoriesHeader.categoriesKey.url])\\n                    if (urlListener) url = urlListener.onDeal(item, sub_category_name, url)\\n                    layout.push({\\n                        title: key.toString() === cate_temp[index] ? '““””<b><span style=\\\"color: #098AC1\\\">' + title + '</span></b>' : title,\\n                        url: $(url).lazyRule((params) => {\\n                            params.cate_temp[params.index] = params.key.toString()\\n\\n                            putVar(MY_RULE.title, JSON.stringify(params.cate_temp))\\n                            putVar(MY_RULE.url + \\\"#\\\" + params.sub_category_name, input)\\n                            refreshPage(true)\\n                            return \\\"hiker://empty\\\"\\n                        }, {\\n                            cate_temp: cate_temp,\\n                            index: index,\\n                            key: key,\\n                            page: page,\\n                            sub_category_name: sub_category_name\\n                        }),\\n                        col_type: 'scroll_button',\\n                    })\\n                })\\n                layout.push({\\n                    col_type: \\\"blank_block\\\"\\n                });\\n            })\\n        }\\n    }\\n}\\n$.exports.CategoriesHeader=CategoriesHeader\"}]","icon":"https://gitee.com/CherishRx/imagewarehouse/raw/master/image/13096725fe56ce9cf643a0e4cd0c159c.gif"},{"last_chapter_rule":"","pageList":[],"title":"斗鱼弹幕","author":"TyrantGenesis","version":1,"url":"https://m.douyu.com","col_type":"movie_2","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\neval(fetch(\"hiker://files/TyrantG/LIVE/douyu_danmu.js\"))\nbaseParse()","searchFind":"js:\neval(fetch(\"hiker://files/TyrantG/LIVE/douyu_danmu.js\"))\nsearchParse()","search_url":"https://m.douyu.com/api/search/anchor?limit=10&offset=fypage@-1@*10@&sk=**;POST","group":"⑦其他","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"pc","preRule":"eval(fetch(\"https://git.tyrantg.com/tyrantgenesis/hikerViewRules/raw/master/God_Plan.js\"))\ndouyu_danmu()","pages":"[]","icon":""}]